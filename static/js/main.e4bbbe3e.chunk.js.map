{"version":3,"sources":["core/ResourceName.ts","app.theme.ts","core/enum/TicketType.ts","core/enum/BookingType.ts","core/enum/BookingDisabledOption.ts","core/fake/providers/fake-access-usings.provider.ts","core/fake/providers/fake-bookings.provider.ts","core/fake/providers/fake-logs.provider.ts","core/fake/providers/fake-stats-overall-view-list.provider.ts","core/fake/providers/fake-stats-overall-view.provider.ts","core/fake/providers/fake-ticket-details.provider.ts","core/enum/DeviceDirection.ts","core/fake/providers/fake-ticket-info.provider.ts","core/fake/providers/fake-tickets.provider.ts","core/fake/fake-data.provider.ts","core/fake/providers/fake-auth.provider.ts","core/common/header.parser.ts","core/common/fetch.utils.ts","core/api-urls.ts","core/auth/auth.provider.ts","core/access-usings/access-usings.provider.ts","core/bookings/bookings.provider.ts","core/logs/log-filter.mapper.ts","core/logs/log-sort.mapper.ts","core/logs/extended-logs.provider.ts","core/stats/overall-view/overall-view-list.mapper.ts","core/stats/overall-view/overall-view-list.provider.ts","core/common/filter.values.ts","core/stats/overall-view/overall-view.mapper.ts","core/stats/overall-view/overall-view.provider.ts","core/common/condition.builder.ts","core/common/mapper.utils.ts","core/ticket-details/ticket-details.mapper.ts","core/ticket-details/ticket-details.provider.ts","core/ticket-info/ticket-info.mapper.ts","core/ticket-info/ticket-info.provider.ts","core/tickets/tickets.provider.ts","core/data.provider.ts","main/common/SearchInput.tsx","main/common/FindUserByTicket.tsx","core/common/visual.utils.ts","main/logs/LastLogList.tsx","main/Dashboard.tsx","main/common/Pagination.tsx","main/logs/DateFilterInput.tsx","main/logs/LogList.tsx","core/ticket-details/toggle-button.ts","main/stats/overall-view/OverallView.tsx","main/stats/overall-view/OverallViewList.tsx","core/ticket-details/ticket-details-values.mapper.ts","main/ticket-details/TicketDetailsHeader.tsx","main/ticket-details/TicketDetailsTicketsField.tsx","core/ticket-details/toggle-access-button.reducer.ts","main/ticket-details/ToggleAccessButton.tsx","core/ticket-details/toggle-ticket-button.reducer.ts","main/ticket-details/ToggleTicketButton.tsx","main/ticket-details/TicketDetailsView.tsx","main/common/MaskField.tsx","core/common/mask.utils.ts","main/ticket-info/TicketInfoList.tsx","App.tsx","core/providers.factory.ts","reportWebVitals.ts","index.tsx"],"names":["ResourceName","AppTheme","defaultTheme","palette","primary","deepPurple","secondary","green","typography","fontFamily","join","body1","fontWeight","body2","h5","TicketType","BookingType","BookingDisabledOption","provider","updateMany","resource","params","a","Promise","resolve","data","create","id","update","fakeLogs","date","ticketCode","bookingId","deviceName","text","color","event","getList","total","length","fakeStatsOverallViewList","name","dateStart","dateEnd","eventName","capacity","sold","entered","objects","getOne","found","find","v","reject","Error","DeviceDirection","fakeTicketDetailsList","firstname","lastname","pesel","variantName","accessesIds","bookingType","NORMAL","activeFrom","activeTo","tickets","ticketType","K","accessUsings","createdAt","M","modifiedAt","bookingDisabled","STORNO","fakeTicketInfoList","fakeTickets","active","accessUsingsIds","dataProviders","ACCESS_USINGS","fakeAccessUsingsProvider","BOOKINGS","fakeBookingsProvider","LOGS","fakeLogsProvider","LAST_LOGS","TICKETS","fakeTicketsProvider","TICKET_INFO","fakeTicketInfoProvider","TICKET_DETAILS","fakeTicketDetailsProvider","TICKET_LOGS","STATS_OVERALL_VIEW","fakeStatsOverallViewProvider","STATS_OVERALL_VIEW_LIST","fakeStatsOverallViewListProvider","fetchType","sanitizeFetchType","authProvider","login","logout","checkError","checkAuth","getPermissions","getIdentity","fullName","contentRangeParser","headerValue","split","rangeFrom","summarySecondPartSplit","rangeTo","parseInt","baseHeaders","authHeaders","Authorization","localStorage","getItem","postWithHeaders","url","body","headers","fetchUtils","fetchJson","method","JSON","stringify","Headers","then","json","get","baseUrl","path","getWithPagination","range","getByConditions","pathParam","patch","API_V1","process","AUTH_URL","BOOKINGS_URL","CUSTOMERS_URL","EVENTS_URL","EXTENDED_LOGS_URL","TICKETS_URL","VARIANTS_URL","SEATS_URL","BLOCKS_URL","TRIBUNES_URL","OBJECTS_URL","username","password","token","setItem","removeItem","status","ids","pendingUpdates","map","auId","req","all","au","ticketIds","accessIds","request","flatMap","accessId","ticketId","Date","toISOString","direction","IN","verifierDeviceId","booking","mapping","lambdaParameter","value","toString","getFilterParams","filter","Object","keys","entries","key","getFilterMapper","mapper","reduce","p","c","sort","field","order","pagination","page","perPage","filterParams","queryParams","push","pathParams","extendedLogs","device","mapToEventOverallView","events","overallViewList","calculateCapacity","seats","bookings","b","seatId","mapToTribuneOverallView","tribune","blocks","enteredBookingIds","blocksIds","includes","block","filteredSeats","s","blockId","filteredBookingIds","bookingsIds","concat","filteredBookings","book","filteredEnteredBookingIds","enteredBookingId","filteredEnteredBookings","enteredBookings","soldNormal","type","enteredNormal","soldAbo","ABO","enteredAbo","soldInfix","INFIX","enteredInfix","soldService","SERVICE","enteredService","soldPoints","POINTS","enteredPoints","mapToBlockOverallView","mapToOverallView","selectedEvent","tribunes","o","objectsIds","object","filteredTribunes","t","objectId","filteredBlocks","filteredSeatIds","seatsIds","tribunesIds","tribuneId","mapToObjectOverallView","eventId","pendingSelectedEvent","pendingObjects","pendingTribunes","pendingBlocks","pendingSeats","bookingsCondition","pendingBookings","pendingEnteredBookings","overallViewData","buildFilterByIdsCondition","firstId","prev","curr","toMapById","values","Map","toUniqueValues","Array","from","Set","mapToTicketDetails","disabled","accessUsingById","mapToTicket","fetchTicketsWithAccessUsings","accessUsingIds","customerId","variantId","pendingCustomer","pendingEvent","pendingVariant","pendingTicketsWithAccessUsings","ticketsIds","customer","variant","mapToTicketBaseInfoList","customers","bookingById","customerById","eventById","ticket","mapToTicketBaseInfo","getByUniqueIds","uniqueIds","filterByTicketCodeCondition","bookingIds","customerIds","eventIds","pendingCustomers","pendingEvents","ticketBaseInfoList","accessUsingsProvider","bookingsProvider","logsProvider","ticketsProvider","ticketInfoProvider","ticketDetailsProvider","statsOverallViewProvider","statsOverallViewListProvider","RoundInputBox","withStyles","root","borderRadius","width","marginLeft","display","flexDirection","border","borderColor","Box","RoundInputBoxBtn","background","borderTopLeftRadius","borderBottomLeftRadius","margin","Button","RoundInputBoxFC","marginTop","FormControl","SearchInput","label","onValue","error","boxStyle","useState","inputError","setInputError","inputValue","setInputValue","handleClick","style","onClick","Input","disableUnderline","onInput","target","placeholder","onKeyDown","ev","FormHelperText","FindUserByTicket","history","useHistory","notify","useNotify","setError","useMutation","mutate","loading","fetchTickets","useCallback","GET_LIST","payload","returnPromise","onlyTicket","pathname","search","message","undefined","getContrastColor","hexcolor","substr","DashRow","open","setOpen","setColor","textColor","setTextColor","useEffect","TableRow","backgroundColor","TableCell","IconButton","size","textAlign","DateField","record","source","showTime","TextField","wordBreak","paddingBottom","paddingTop","colSpan","Collapse","in","Grid","container","item","xs","justifyContent","marginBottom","alignItems","LogGrid","useListContext","TableContainer","component","Paper","Table","padding","TableHead","TableBody","LastLogList","props","List","exporter","actions","useStyles","makeStyles","theme","createStyles","header","letterSpacing","spacing","subHead","Dashboard","classes","Card","CardHeader","className","title","titleTypographyProps","sm","CardContent","ResourceContextProvider","basePath","MobilePostPagination","setPage","setPerPage","nbPages","Math","ceil","Toolbar","elevation","height","Select","onChange","e","MenuItem","ButtonGroup","DateFilterInput","defaultFromDate","now","defaultToDate","React","getTime","dateFrom","setDateFrom","dateTo","setDateTo","useField","input","meta","touched","convertedDate","toJSON","verticalAlign","defaultValue","parse","helperText","alignSelf","DesktopRow","sortable","useListSortContext","currentSort","setSort","handleSortChange","sortBy","HeaderCell","startIcon","MobileRow","LogMobileGrid","ListFilters","Filter","TextInput","alwaysOn","SelectInput","choices","LogList","useTheme","useMediaQuery","breakpoints","down","filters","Pagination","rowsPerPageOptions","Access","noBorderCell","borderBottom","ViewTitle","BlockView","TribuneView","ObjectView","boxShadow","StatsView","useShowContext","OverallView","Show","OverallViewGrid","Datagrid","loaded","rowClick","OverallViewList","bookingTypeMapping","ticketTypeMapping","Z","N","P","U","R","mapFromTicketType","mapFromBookingType","TicketDetailsHeader","m","Typography","paragraph","ticketBox","ticketField","TicketDetailsTicketsField","fields","useRecordContext","mappedRecord","Labeled","Chip","flexWrap","blockMutation","ticketDetails","CREATE","unblockMutation","activeAccessUsingIds","UPDATE_MANY","blockAccessButtonInitialState","DISABLED","toggleAccessButtonReducer","state","BLOCK","mutateQuery","UNBLOCK","button","common","white","ToggleAccessButton","useReducer","dispatch","mutationLoading","refresh","useRefresh","some","query","blockTicketButtonInitialState","toggleTicketButtonReducer","mutateParam","ADMIN","ToggleTicketButton","UPDATE","MappedChipField","mappedValue","TicketDetailsView","ticketLogsBookingFilter","Divider","TabbedShowLayout","syncWithLocation","Tab","emptyText","MaskField","rest","recordWithMappedValue","word","threshold","firstChars","substring","lastChars","slice","restCharsLength","repeat","maskMiddlePart","TicketInfoGrid","filterValues","TicketInfoList","useLocation","App","env","dataProvider","fakeAuthProvider","fakeDataProvider","providersFactory","Admin","dashboard","Resource","options","icon","ReceiptIcon","list","show","ViewComfyIcon","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4bbbe3e.chunk.js","sourcesContent":["export enum ResourceName {\n  ACCESS_USINGS = 'access-usings',\n  BOOKINGS = 'bookings',\n  LAST_LOGS = 'last-logs',\n  LOGS = 'logs',\n  TICKETS = 'tickets',\n  TICKET_DETAILS = 'ticket-details',\n  TICKET_INFO = 'ticket-info',\n  TICKET_LOGS = 'ticket-logs',\n  STATS_OVERALL_VIEW_LIST = \"stats_overall_view_list\",\n  STATS_OVERALL_VIEW = \"stats_overall_view\"\n}\n","import { defaultTheme } from 'react-admin'\nimport { deepPurple, green } from '@material-ui/core/colors'\nimport { ThemeOptions } from '@material-ui/core'\n\nexport const AppTheme: ThemeOptions = {\n  ...defaultTheme,\n  palette: {\n    primary: deepPurple,\n    secondary: green,\n  },\n  typography: {\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    body1: {\n      fontWeight: 300,\n    },\n    body2: {\n      fontWeight: 300,\n    },\n    h5: {\n      fontWeight: 200,\n    },\n  },\n}\n","export enum TicketType {\n  K = 'K',\n  M = 'M',\n  Z = 'Z',\n  N = 'N',\n  P = 'P',\n  U = 'U',\n  R = 'R',\n}\n","export enum BookingType {\n  NORMAL = 'NORMAL',\n  ABO = 'ABO',\n  INFIX = 'INFIX',\n  SERVICE = 'SERVICE',\n  POINTS = 'POINTS',\n}\n","export enum BookingDisabledOption {\n  ADMIN = 'ADMIN',\n  BAN = 'BAN',\n  STORNO = 'STORNO',\n  MISTAKE = 'MISTAKE',\n}\n","import { CreateResult, DataProvider, UpdateManyResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateMany: async (resource, params): Promise<UpdateManyResult> =>\n    Promise.resolve({\n      data: [1],\n    }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create: async (resource, params): Promise<CreateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, UpdateResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update: async (resource, params): Promise<UpdateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { ExtendedLog } from '../../logs/extended-log'\n\nconst fakeLogs: ExtendedLog[] = [\n  {\n    id: 1,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52815,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 2,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52816,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 3,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 1111,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 4,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 11112,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 5,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 16612,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 6,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 167782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 7,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 122782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 8,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 189782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 9,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 183332,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n  {\n    id: 10,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 656565,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: null,\n    event: null\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeLogs, total: fakeLogs.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventOverallView } from '../../stats/overall-view/event-overall-view'\n\nconst fakeStatsOverallViewList: EventOverallView[] = [\n  {\n    id: 1,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 2,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 3,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 4,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 5,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeStatsOverallViewList, total: fakeStatsOverallViewList.length }),\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { OverallView } from '../../stats/overall-view/overall-view'\n\nconst fakeStatsOverallViewList: OverallView[] = [\n  {\n    id: 1,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: []\n  },\n  {\n    id: 2,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: []\n  },\n  {\n    id: 3,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: []\n  },\n  {\n    id: 4,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: []\n  },\n  {\n    id: 5,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: []\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeStatsOverallViewList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { TicketType } from '../../enum/TicketType'\nimport { TicketDetails } from '../../ticket-details/ticket-details'\nimport { BookingType } from '../../enum/BookingType'\nimport { BookingDisabledOption } from '../../enum/BookingDisabledOption'\n\nconst fakeTicketDetailsList: TicketDetails[] = [\n  {\n    id: 1,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: BookingDisabledOption.STORNO,\n  },\n  {\n    id: 2,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: BookingDisabledOption.STORNO,\n  },\n  {\n    id: 3,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 4,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 5,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 6,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 7,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 8,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 9,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 10,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeTicketDetailsList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum DeviceDirection {\n  IN = 'IN',\n  OUT = 'OUT',\n  INFO = 'INFO',\n}\n","import { DataProvider } from 'react-admin'\nimport { TicketType } from '../../enum/TicketType'\nimport { TicketInfo } from '../../ticket-info/ticket-info'\n\nconst fakeTicketInfoList: TicketInfo[] = [\n  {\n    id: 1,\n    firstname: 'Marek',\n    lastname: 'Pies',\n    pesel: '47120554776',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 2,\n    firstname: 'Janek',\n    lastname: 'Krużganek',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 3,\n    firstname: 'Wacław',\n    lastname: 'Rymski',\n    pesel: '9988711225',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 4,\n    firstname: 'Mirka',\n    lastname: 'Korzeń',\n    pesel: '56483978659',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 5,\n    firstname: 'Tis',\n    lastname: 'Lomasz',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 6,\n    firstname: 'Bogdana',\n    lastname: 'Jaruzelska',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 7,\n    firstname: 'Jeremi',\n    lastname: 'Pomidor',\n    pesel: '12345678900',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 8,\n    firstname: 'Roman',\n    lastname: 'Zoman',\n    pesel: '13243567890',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 9,\n    firstname: 'Bacha',\n    lastname: 'Kaszalot',\n    pesel: '98097612678',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 10,\n    firstname: 'Jadwiga',\n    lastname: 'Ogórek',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeTicketInfoList,\n      total: fakeTicketInfoList.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { TicketDto } from '../../dto/ticket.dto'\nimport { TicketType } from '../../enum/TicketType'\n\nconst fakeTickets: TicketDto[] = [\n  {\n    id: 1,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52815,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52816,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    ticketCode: '010000011492',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52817,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    ticketCode: '411000006572',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52818,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    ticketCode: '871000006824',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52819,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    ticketCode: '370000011495',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52820,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    ticketCode: '450000011501',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52821,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    ticketCode: '630000011502',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52822,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    ticketCode: '020000011503',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52823,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    ticketCode: '310000011504',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52824,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTickets, total: fakeTickets.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport fakeAccessUsingsProvider from './providers/fake-access-usings.provider'\nimport fakeBookingsProvider from './providers/fake-bookings.provider'\nimport fakeLogsProvider from './providers/fake-logs.provider'\nimport fakeStatsOverallViewListProvider from './providers/fake-stats-overall-view-list.provider'\nimport fakeStatsOverallViewProvider from './providers/fake-stats-overall-view.provider'\nimport fakeTicketDetailsProvider from './providers/fake-ticket-details.provider'\nimport fakeTicketInfoProvider from './providers/fake-ticket-info.provider'\nimport fakeTicketsProvider from './providers/fake-tickets.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_USINGS]: fakeAccessUsingsProvider,\n  [ResourceName.BOOKINGS]: fakeBookingsProvider,\n  [ResourceName.LOGS]: fakeLogsProvider,\n  [ResourceName.LAST_LOGS]: fakeLogsProvider,\n  [ResourceName.TICKETS]: fakeTicketsProvider,\n  [ResourceName.TICKET_INFO]: fakeTicketInfoProvider,\n  [ResourceName.TICKET_DETAILS]: fakeTicketDetailsProvider,\n  [ResourceName.TICKET_LOGS]: fakeLogsProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: fakeStatsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: fakeStatsOverallViewListProvider\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import { AuthProvider } from 'react-admin'\n\nconst authProvider: AuthProvider = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'no-auth',\n      fullName: 'no-auth',\n    }),\n}\n\nexport default authProvider\n","export type ContentRangeHeaderValue = `bytes ${number}-${number}/${number}`\n\nexport const contentRangeParser = (headerValue: ContentRangeHeaderValue) => {\n  if (!headerValue) {\n    // 'content-range' header should exist otherwise pagination doesn't work\n    return {\n      total: 0,\n    }\n  }\n  const summary = headerValue.split(' ')[1]\n  const split = summary.split('-')\n  const rangeFrom = split[0]\n  const summarySecondPartSplit = split[1].split('/')\n  const rangeTo = summarySecondPartSplit[0]\n  const total = summarySecondPartSplit[1]\n  return {\n    rangeFrom: parseInt(rangeFrom, 10),\n    rangeTo: parseInt(rangeTo, 10),\n    total: parseInt(total, 10),\n  }\n}\n","import { fetchUtils } from 'react-admin'\nimport { ContentRangeHeaderValue, contentRangeParser } from './header.parser'\n\nconst getToken = () => localStorage.getItem('token') as string\n\nconst baseHeaders: HeadersInit = {\n  'Content-Type': 'application/json',\n}\n\nconst authHeaders = (): HeadersInit => ({\n  ...baseHeaders,\n  Authorization: `Bearer ${getToken()}`,\n})\n\nconst postWithHeaders = <T, K>(url: string, body: T, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const get = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<T>)\n\nexport const getWithPagination = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json, headers }) =>\n      Promise.resolve({\n        data: json as T,\n        range: contentRangeParser(\n          headers.get('content-range') as ContentRangeHeaderValue,\n        ),\n      }),\n    )\n\nexport const getByConditions = <T>(\n  baseUrl: string,\n  pathParam: string,\n): Promise<T[]> => get<T[]>(baseUrl, `/GetByConditions/${pathParam}`)\n\nexport const authPost = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, baseHeaders)\n\nexport const post = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, authHeaders())\n\nexport const patch = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PATCH',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n","const API_V1 = `${process.env.REACT_APP_API_BASE_URL}/api/v1`\nexport const ACCESS_USINGS = `${API_V1}/ticketManagement/AccessUsings`\nexport const AUTH_URL = `${API_V1}/Authorization/Authenticate`\nexport const BOOKINGS_URL = `${API_V1}/ticketManagement/Bookings`\nexport const CUSTOMERS_URL = `${API_V1}/ticketManagement/Customers`\nexport const EVENTS_URL = `${API_V1}/ticketManagement/Events`\nexport const EXTENDED_LOGS_URL = `${API_V1}/ticketManagement/Logs/GetExtendedLogByConditions`\nexport const TICKETS_URL = `${API_V1}/ticketManagement/Tickets`\nexport const VARIANTS_URL = `${API_V1}/ticketManagement/Variants`\nexport const SEATS_URL = `${API_V1}/ticketManagement/Seats`\nexport const BLOCKS_URL = `${API_V1}/ticketManagement/Blocks`\nexport const TRIBUNES_URL = `${API_V1}/ticketManagement/Tribunes`\nexport const OBJECTS_URL = `${API_V1}/ticketManagement/Objects`\n","import { AuthProvider } from 'react-admin'\nimport { authPost } from '../common/fetch.utils'\nimport { AuthDto } from '../dto/auth.dto'\nimport { AUTH_URL } from '../api-urls'\nimport { AuthRequest } from './auth.request'\n\nconst authProvider: AuthProvider = {\n  login: ({ username, password }) =>\n    authPost<AuthRequest, AuthDto>(AUTH_URL, {\n      login: username,\n      password,\n    }).then(({ token }) => {\n      localStorage.setItem('username', username)\n      localStorage.setItem('token', token)\n    }),\n  logout: () => {\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    return Promise.resolve()\n  },\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('username')\n      localStorage.removeItem('token')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: () => Promise.resolve(),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'user',\n      fullName: localStorage.getItem('username') as string,\n    }),\n}\n\nexport default authProvider\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  UpdateManyParams,\n  UpdateManyResult,\n} from 'react-admin'\nimport { AccessUsingsCreateParams } from './access-usings-create.params'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { DeviceDirection } from '../enum/DeviceDirection'\nimport { DateTime } from '../common/date-time'\nimport { patch, post } from '../common/fetch.utils'\nimport { ACCESS_USINGS } from '../api-urls'\n\ntype CreateAccessUsingRequest = Array<\n  Omit<AccessUsingDto, 'id' | 'verifierDeviceId'> & { verifierDeviceId: null }\n>\ntype UpdateAccessUsingRequest = Pick<AccessUsingDto, 'id'> & { active: false }\n\nconst provider = {\n  updateMany: async (\n    resource,\n    { ids }: UpdateManyParams,\n  ): Promise<UpdateManyResult> => {\n    const pendingUpdates = ids\n      .map((auId) => ({ id: auId, active: false } as UpdateAccessUsingRequest))\n      .map((req) =>\n        patch<UpdateAccessUsingRequest, AccessUsingDto>(ACCESS_USINGS, req),\n      )\n    const accessUsings = await Promise.all(pendingUpdates)\n    return Promise.resolve({\n      data: accessUsings.map((au) => au.id),\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<AccessUsingsCreateParams>,\n  ): Promise<CreateResult> => {\n    const { ticketIds, accessIds } = data\n    const request: CreateAccessUsingRequest = accessIds.flatMap((accessId) =>\n      ticketIds.map((ticketId) => ({\n        date: new Date().toISOString() as DateTime,\n        direction: DeviceDirection.IN,\n        active: true,\n        accessId,\n        ticketId,\n        verifierDeviceId: null,\n      })),\n    )\n    await post<CreateAccessUsingRequest, AccessUsingDto[]>(\n      ACCESS_USINGS,\n      request,\n    )\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider, UpdateParams, UpdateResult } from 'react-admin'\nimport { patch } from '../common/fetch.utils'\nimport { BOOKINGS_URL } from '../api-urls'\nimport { BookingUpdateRequest } from './booking-update.request'\nimport { BookingDto } from '../dto/booking.dto'\n\nconst provider = {\n  update: async (\n    resource: string,\n    { data }: UpdateParams<BookingUpdateRequest>,\n  ): Promise<UpdateResult<BookingDto>> => {\n    const booking = await patch<BookingUpdateRequest, BookingDto>(\n      BOOKINGS_URL,\n      data,\n    )\n    return Promise.resolve({\n      data: booking,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { ExtendedLog } from './extended-log'\n\nconst mapping: Partial<\n  Record<keyof ExtendedLog, (lambdaParameter: string, value: string | number) => string>\n> = {\n  ticketCode: (lambdaParameter, value) => `${(lambdaParameter)}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) => `${(lambdaParameter)}.BookingId.ToString().Contains(\"${value}\")`,\n  date: (lambdaParameter, value) => `${(lambdaParameter)}.Date > DateTimeOffset.FromUnixTimeMilliseconds(${value.toString().split(';')[0]}).DateTime && l.Date < DateTimeOffset.FromUnixTimeMilliseconds(${value.toString().split(';')[1]}).DateTime`,\n  deviceName: (lambdaParameter, value) => `${(lambdaParameter)}.Device.Name.Contains(\"${value}\")`,\n  text: (lambdaParameter, value) => `${(lambdaParameter)}.Data.Text.Contains(\"${value}\")`,\n  event: (lambdaParameter, value) => `${(lambdaParameter)}.Booking.Event.Name.Contains(\"${value}\")`\n}\n\nexport const getFilterMapper = (key: keyof ExtendedLog) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { ExtendedLog } from './extended-log'\n\nconst mapping: Partial<Record<keyof ExtendedLog, string>> = {\n  id: 'l=>l.Id',\n  date: 'l=>l.Date',\n  deviceName: 'l=>l.Device.Name',\n  ticketCode: 'l=>l.TicketCode',\n  bookingId: 'l=>l.BookingId',\n}\n\nexport const mapSortLogParam = (key: keyof ExtendedLog) => mapping[key]\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EXTENDED_LOGS_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\nimport { ExtendedLog } from './extended-log'\nimport { LogListParams } from './log-list.params'\nimport { getFilterMapper } from './log-filter.mapper'\nimport { mapSortLogParam } from './log-sort.mapper'\n\nconst getFilterParams = (filter: Partial<ExtendedLog>) => {\n  if (Object.keys(filter).length) {\n    const filterParams = Object.entries(filter).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof ExtendedLog)\n      return mapper(\"l\", value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return \"true\"\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { field, order },\n      pagination: { page, perPage },\n    }: LogListParams,\n  ): Promise<GetListResult<ExtendedLog>> => {\n    const filterParams = `l=>${getFilterParams(filter).toString()}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortLogParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n    \n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ExtendedLogDto[]>(EXTENDED_LOGS_URL, path)\n    const extendedLogs = data.map(\n      ({\n        id,\n        date,\n        device: { name: deviceName },\n        ticketCode,\n        data: [{ text, color }],\n        bookingId,\n      }) =>\n        ({\n          id,\n          date,\n          deviceName,\n          ticketCode,\n          text,\n          color,\n          bookingId,\n        } as ExtendedLog),\n    )\n\n    return Promise.resolve({\n      data: extendedLogs,\n      total,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { EventDto } from \"../../dto/event.dto\"\nimport { EventOverallView } from \"./event-overall-view\"\n\nexport const mapToEventOverallView = (\n  event: EventDto\n): EventOverallView => ({\n  id: event.id,\n  name: event.name,\n  dateStart: event.dateStart,\n  dateEnd: event.dateEnd\n})","import { DataProvider, GetListResult } from \"react-admin\"\nimport { EVENTS_URL } from '../../api-urls'\nimport { getByConditions } from '../../common/fetch.utils'\nimport { ALL_RESULTS } from \"../../common/filter.values\"\nimport { NameFilter } from \"../../common/name.filter\"\nimport { EventDto } from \"../../dto/event.dto\"\nimport { EventOverallView } from \"./event-overall-view\"\nimport { mapToEventOverallView } from \"./overall-view-list.mapper\"\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter }: NameFilter,\n  ): Promise<GetListResult<EventOverallView>> => {\n    const events = await getByConditions<EventDto>(EVENTS_URL, filter.name ? `e=>e.Name.Contains(\"${filter.name}\")` : ALL_RESULTS)\n\n    const overallViewList = events.map((event) => mapToEventOverallView(event))\n\n    return {\n      data: overallViewList,\n      total: overallViewList.length,\n    }\n  },\n} as DataProvider\n\nexport default provider","export const ALL_RESULTS = 'l=>true'\n","import { BlockDto } from \"../../dto/block.dto\"\nimport { BookingDto } from \"../../dto/booking.dto\"\nimport { EventDto } from \"../../dto/event.dto\"\nimport { ObjectDto } from \"../../dto/object.dto\"\nimport { SeatDto } from \"../../dto/seat.dto\"\nimport { TribuneDto } from \"../../dto/tribune.dto\"\nimport { BookingType } from \"../../enum/BookingType\"\nimport { BlockOverallView, ObjectOverallView, OverallView, TribuneOverallView } from \"./overall-view\"\n\nconst calculateCapacity = (seats: SeatDto[], bookings: BookingDto[]) => (\n  seats.length + bookings.filter(b => b.seatId == null).length\n)\n\nconst mapToBlockOverallView = (\n  block: BlockDto,\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[]\n): BlockOverallView => ({\n  id: block.id,\n  name: block.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookings.length,\n  soldNormal: bookings.filter(b => b.type === BookingType.NORMAL).length,\n  enteredNormal: enteredBookings.filter(b => b.type === BookingType.NORMAL).length,\n  soldAbo: bookings.filter(b => b.type === BookingType.ABO).length,\n  enteredAbo: enteredBookings.filter(b => b.type === BookingType.ABO).length,\n  soldInfix: bookings.filter(b => b.type === BookingType.INFIX).length,\n  enteredInfix: enteredBookings.filter(b => b.type === BookingType.INFIX).length,\n  soldService: bookings.filter(b => b.type === BookingType.SERVICE).length,\n  enteredService: enteredBookings.filter(b => b.type === BookingType.SERVICE).length,\n  soldPoints: bookings.filter(b => b.type === BookingType.POINTS).length,\n  enteredPoints: enteredBookings.filter(b => b.type === BookingType.POINTS).length,\n})\n\nconst mapToTribuneOverallView = (\n  tribune: TribuneDto,\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[]\n): TribuneOverallView => ({\n  id: tribune.id,\n  name: tribune.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  blocks: blocks.filter(b => tribune.blocksIds.includes(b.id))\n    .map((block) => {\n      const filteredSeats = seats.filter((s) => s.blockId === block.id)\n      const filteredBookingIds = block.bookingsIds.concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) => filteredBookingIds.includes(book.id))\n      const filteredEnteredBookingIds = enteredBookingIds.filter((enteredBookingId) => filteredBookingIds.includes(enteredBookingId))\n      const filteredEnteredBookings = bookings.filter((book) => filteredEnteredBookingIds.includes(book.id))\n      return mapToBlockOverallView(\n        block,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookings\n      )\n    })\n})\n\nconst mapToObjectOverallView = (\n  object: ObjectDto,\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[]\n): ObjectOverallView => ({\n  id: object.id,\n  name: object.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  tribunes: tribunes.filter(t => object.tribunesIds.includes(t.id))\n    .map((tribune) => {\n      const filteredBlocks = blocks.filter((b) => b.tribuneId === tribune.id)\n      const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n      const filteredSeats = seats.filter((s) => filteredSeatIds.includes(s.id))\n      const filteredBookingIds = filteredBlocks.flatMap((b) => b.bookingsIds).concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) => filteredBookingIds.includes(book.id))\n      const filteredEnteredBookingIds = enteredBookingIds.filter((enteredBookingId) => filteredBookingIds.includes(enteredBookingId))\n      return mapToTribuneOverallView(\n        tribune,\n        filteredBlocks,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookingIds\n      )\n    })\n})\n\nexport const mapToOverallView = (\n  selectedEvent: EventDto,\n  objects: ObjectDto[],\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[]\n): OverallView => ({\n  id: selectedEvent.id,\n  eventName: selectedEvent.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  objects: objects.filter(o => selectedEvent.objectsIds.includes(o.id))\n    .map((object) => {\n      const filteredTribunes = tribunes.filter((t) => t.objectId === object.id)\n      const filteredBlocks = blocks.filter((b) => filteredTribunes.flatMap((t) => t.blocksIds).includes(b.id))\n      const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n      const filteredSeats = seats.filter((s) => filteredSeatIds.includes(s.id))\n      const filteredBookingIds = filteredBlocks.flatMap((b) => b.bookingsIds).concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) => filteredBookingIds.includes(book.id))\n      const filteredEnteredBookingIds = enteredBookingIds.filter((enteredBookingId) => filteredBookingIds.includes(enteredBookingId))\n      return mapToObjectOverallView(\n        object,\n        filteredTribunes,\n        filteredBlocks,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookingIds\n      )\n    })\n})","import { DataProvider, GetOneParams, GetOneResult } from \"react-admin\"\nimport {\n  BLOCKS_URL,\n  BOOKINGS_URL, EVENTS_URL, OBJECTS_URL, SEATS_URL, TRIBUNES_URL\n} from '../../api-urls'\nimport { get, getByConditions } from '../../common/fetch.utils'\nimport { BlockDto } from \"../../dto/block.dto\"\nimport { BookingDto } from \"../../dto/booking.dto\"\nimport { EventDto } from \"../../dto/event.dto\"\nimport { ObjectDto } from \"../../dto/object.dto\"\nimport { SeatDto } from \"../../dto/seat.dto\"\nimport { TribuneDto } from \"../../dto/tribune.dto\"\nimport { OverallView } from \"./overall-view\"\nimport { mapToOverallView } from \"./overall-view.mapper\"\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: eventId }: GetOneParams\n  ): Promise<GetOneResult<OverallView>> => {\n    const pendingSelectedEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingObjects = getByConditions<ObjectDto>(OBJECTS_URL, `o=>o.Events.Any(e => e.Id.Equals(${eventId}))`)\n    const pendingTribunes = getByConditions<TribuneDto>(TRIBUNES_URL, `t=>t.Object.Events.Any(e => e.Id.Equals(${eventId}))`)\n    const pendingBlocks = getByConditions<BlockDto>(BLOCKS_URL, `b=>b.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))`)\n    const pendingSeats = getByConditions<SeatDto>(SEATS_URL, `s=>s.Block.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))`)\n    const bookingsCondition = `b=>b.EventId.Equals(${eventId}) && b.Disabled != TicketAPI.Models.Enums.TicketManagement.BookingDisabledOptions.STORNO`\n    const pendingBookings = getByConditions<BookingDto>(BOOKINGS_URL, bookingsCondition)\n    const pendingEnteredBookings = getByConditions<BookingDto>(BOOKINGS_URL,\n      `${bookingsCondition} && b.Tickets.SelectMany(t => t.AccessUsings).Any(au => au.Active == true && au.Direction.Equals(TicketAPI.Models.Enums.DeviceManagement.DeviceDirections.IN))`)\n\n    const [selectedEvent, objects, tribunes, blocks, seats, bookings, enteredBookingIds] =\n      await Promise.all([\n        pendingSelectedEvent,\n        pendingObjects,\n        pendingTribunes,\n        pendingBlocks,\n        pendingSeats,\n        pendingBookings,\n        Promise.all((await Promise.resolve(pendingEnteredBookings)).map(book => book.id))\n      ])\n\n    const overallViewData =\n      Promise.resolve(\n        mapToOverallView(\n          selectedEvent,\n          objects,\n          tribunes,\n          blocks,\n          seats,\n          bookings,\n          enteredBookingIds\n        ))\n\n    return {\n      data: await overallViewData\n    }\n  },\n} as DataProvider\n\nexport default provider","export const buildFilterByIdsCondition = (ids: number[]): string => {\n  const [firstId, ...restIds] = ids\n  return (restIds || []).reduce(\n    (prev, curr) => `${prev as string}||v.Id==${curr}`,\n    `v=>v.Id==${firstId}`,\n  )\n}\n","export const toMapById = <T extends { id: number }>(values: T[]) =>\n  new Map(values.map((v): [number, T] => [v.id, v]))\n\nexport const toUniqueValues = (values: number[]) => Array.from(new Set(values))\n","import { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { VariantDto } from '../dto/variant.dto'\nimport { TicketDetails } from './ticket-details'\nimport { BookingDto } from '../dto/booking.dto'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { Ticket } from './ticket'\nimport { toMapById } from '../common/mapper.utils'\n\nconst mapToTicket = (\n  { id, ticketCode, ticketType, createdAt, accessUsingsIds }: TicketDto,\n  accessUsingById: Map<number, AccessUsingDto>,\n): Ticket => ({\n  id,\n  ticketCode,\n  ticketType,\n  createdAt,\n  accessUsings: accessUsingsIds.map(\n    (auId) => accessUsingById.get(auId) as AccessUsingDto,\n  ),\n})\n\nexport const mapToTicketDetails = (\n  {\n    id: bookingId,\n    disabled: bookingDisabled,\n    type: bookingType,\n    activeFrom,\n    activeTo,\n    createdAt,\n    modifiedAt,\n  }: BookingDto,\n  { firstname, lastname, pesel }: CustomerDto,\n  { name: eventName }: EventDto,\n  { name: variantName, accessesIds }: VariantDto,\n  tickets: TicketDto[],\n  accessUsings: AccessUsingDto[],\n): TicketDetails => {\n  const accessUsingById = toMapById(accessUsings)\n  return {\n    id: bookingId,\n    firstname,\n    lastname,\n    eventName,\n    pesel,\n    variantName,\n    accessesIds,\n    bookingType,\n    activeFrom,\n    activeTo,\n    tickets: tickets.map((t) => mapToTicket(t, accessUsingById)),\n    createdAt,\n    modifiedAt,\n    bookingDisabled,\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  ACCESS_USINGS,\n  BOOKINGS_URL,\n  CUSTOMERS_URL,\n  EVENTS_URL,\n  TICKETS_URL,\n  VARIANTS_URL,\n} from '../api-urls'\nimport { get, getByConditions } from '../common/fetch.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { buildFilterByIdsCondition } from '../common/condition.builder'\nimport { mapToTicketDetails } from './ticket-details.mapper'\nimport { VariantDto } from '../dto/variant.dto'\nimport { TicketDetails } from './ticket-details'\nimport { toUniqueValues } from '../common/mapper.utils'\nimport { AccessUsingDto } from '../dto/access-using.dto'\n\nconst fetchTicketsWithAccessUsings = async (ticketIds: number[]) => {\n  const tickets = await getByConditions<TicketDto>(\n    TICKETS_URL,\n    buildFilterByIdsCondition(ticketIds),\n  )\n  const accessUsingIds = tickets.flatMap((t) => t.accessUsingsIds)\n  const accessUsings = accessUsingIds.length\n    ? await getByConditions<AccessUsingDto>(\n        ACCESS_USINGS,\n        buildFilterByIdsCondition(toUniqueValues(accessUsingIds)),\n      )\n    : []\n  return {\n    tickets,\n    accessUsings,\n  }\n}\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: bookingId }: GetOneParams,\n  ): Promise<GetOneResult<TicketDetails>> => {\n    const booking = await get<BookingDto>(BOOKINGS_URL, `/${bookingId}`)\n    const { customerId, eventId, variantId } = booking\n    const pendingCustomer = get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    const pendingEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingVariant = get<VariantDto>(VARIANTS_URL, `/${variantId}`)\n    const pendingTicketsWithAccessUsings = fetchTicketsWithAccessUsings(\n      booking.ticketsIds,\n    )\n\n    const [customer, event, variant, { tickets, accessUsings }] =\n      await Promise.all([\n        pendingCustomer,\n        pendingEvent,\n        pendingVariant,\n        pendingTicketsWithAccessUsings,\n      ])\n\n    return {\n      data: mapToTicketDetails(\n        booking,\n        customer,\n        event,\n        variant,\n        tickets,\n        accessUsings,\n      ),\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { TicketInfo } from './ticket-info'\nimport { BookingDto } from '../dto/booking.dto'\nimport { toMapById } from '../common/mapper.utils'\n\nexport const mapToTicketBaseInfo = (\n  { firstname, lastname, pesel }: CustomerDto,\n  { name: eventName }: EventDto,\n  { bookingId, ticketCode, ticketType }: TicketDto,\n): TicketInfo => ({\n  id: bookingId,\n  firstname,\n  lastname,\n  pesel,\n  eventName,\n  ticketCode,\n  ticketType,\n})\n\nexport const mapToTicketBaseInfoList = (\n  bookings: BookingDto[],\n  customers: CustomerDto[],\n  events: EventDto[],\n  tickets: TicketDto[],\n): TicketInfo[] => {\n  const bookingById = toMapById(bookings)\n  const customerById = toMapById(customers)\n  const eventById = toMapById(events)\n  return tickets.map((ticket) => {\n    const { customerId, eventId } = bookingById.get(\n      ticket.bookingId,\n    ) as BookingDto\n    const customer = customerById.get(customerId) as CustomerDto\n    const event = eventById.get(eventId) as EventDto\n    return mapToTicketBaseInfo(customer, event, ticket)\n  })\n}\n","import { DataProvider, GetListResult } from 'react-admin'\nimport {\n  BOOKINGS_URL,\n  CUSTOMERS_URL,\n  EVENTS_URL,\n  TICKETS_URL,\n} from '../api-urls'\nimport { getByConditions } from '../common/fetch.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { TicketInfo } from './ticket-info'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { mapToTicketBaseInfoList } from './ticket-info.mapper'\nimport { buildFilterByIdsCondition } from '../common/condition.builder'\nimport { TicketCodeFilter } from '../common/ticket-code.filter'\nimport { toUniqueValues } from '../common/mapper.utils'\n\nconst getByUniqueIds = <T>(baseUrl: string, ids: number[]): Promise<T[]> => {\n  const uniqueIds = toUniqueValues(ids)\n  return getByConditions<T>(baseUrl, buildFilterByIdsCondition(uniqueIds))\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter }: TicketCodeFilter,\n  ): Promise<GetListResult<TicketInfo>> => {\n    const filterByTicketCodeCondition = `t=>t.TicketCode==\"${filter.ticketCode}\"`\n    const tickets = await getByConditions<TicketDto>(\n      TICKETS_URL,\n      filterByTicketCodeCondition,\n    )\n\n    const bookingIds = tickets.map((v) => v.bookingId)\n    const bookings = await getByUniqueIds<BookingDto>(BOOKINGS_URL, bookingIds)\n\n    const customerIds = bookings.map((v) => v.customerId)\n    const eventIds = bookings.map((v) => v.eventId)\n\n    const pendingCustomers = getByUniqueIds<CustomerDto>(\n      CUSTOMERS_URL,\n      customerIds,\n    )\n    const pendingEvents = getByUniqueIds<EventDto>(EVENTS_URL, eventIds)\n    const [customers, events] = await Promise.all([\n      pendingCustomers,\n      pendingEvents,\n    ])\n\n    const ticketBaseInfoList = mapToTicketBaseInfoList(\n      bookings,\n      customers,\n      events,\n      tickets,\n    )\n    return Promise.resolve({\n      data: ticketBaseInfoList,\n      total: ticketBaseInfoList.length,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { getByConditions } from '../common/fetch.utils'\nimport { TICKETS_URL } from '../api-urls'\nimport { TicketCodeFilter } from '../common/ticket-code.filter'\nimport { TicketDto } from '../dto/ticket.dto'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter }: TicketCodeFilter,\n  ): Promise<GetListResult<TicketDto>> => {\n    const filterByTicketCodeCondition = `t=>t.TicketCode==\"${filter.ticketCode}\"`\n    const tickets = await getByConditions<TicketDto>(\n      TICKETS_URL,\n      filterByTicketCodeCondition,\n    )\n    return Promise.resolve({\n      data: tickets,\n      total: tickets.length,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport accessUsingsProvider from './access-usings/access-usings.provider'\nimport bookingsProvider from './bookings/bookings.provider'\nimport logsProvider from './logs/extended-logs.provider'\nimport { ResourceName } from './ResourceName'\nimport statsOverallViewListProvider from './stats/overall-view/overall-view-list.provider'\nimport statsOverallViewProvider from './stats/overall-view/overall-view.provider'\nimport ticketDetailsProvider from './ticket-details/ticket-details.provider'\nimport ticketInfoProvider from './ticket-info/ticket-info.provider'\nimport ticketsProvider from './tickets/tickets.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_USINGS]: accessUsingsProvider,\n  [ResourceName.BOOKINGS]: bookingsProvider,\n  [ResourceName.LOGS]: logsProvider,\n  [ResourceName.LAST_LOGS]: logsProvider,\n  [ResourceName.TICKETS]: ticketsProvider,\n  [ResourceName.TICKET_INFO]: ticketInfoProvider,\n  [ResourceName.TICKET_DETAILS]: ticketDetailsProvider,\n  [ResourceName.TICKET_LOGS]: logsProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: statsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: statsOverallViewListProvider\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import React, { ChangeEvent, FC, useState } from 'react'\nimport {\n    Box,\n    Button,\n    FormControl,\n    withStyles,\n    Input,\n    FormHelperText,\n    BoxProps\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\n\nconst RoundInputBox = withStyles({\n    root: {\n        borderRadius: 16,\n        width: \"90%\",\n        marginLeft: \"5%\",\n        display: \"flex\",\n        flexDirection: \"row-reverse\",\n        border: \"solid\",\n        borderColor: \"#673ab7\"\n    }\n})(Box)\n\nconst RoundInputBoxBtn = withStyles({\n    root: {\n        background: \"#673ab7\",\n        variant: \"contained\",\n        borderRadius: 11,\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        margin: 0,\n        fontWeight: \"bold\",\n        '&:hover': {\n            background: \"#7e57c2\"\n        }\n    },\n})(Button)\n\nconst RoundInputBoxFC = withStyles({\n    root: {\n        width: \"100%\",\n        marginLeft: 13,\n        marginTop: 2\n    }\n})(FormControl)\n\nexport type SearchInputProps = {\n    label: string\n    onValue: (value: string) => void\n    disabled: boolean\n    error: string,\n    boxStyle: BoxProps | undefined\n}\n\nconst SearchInput: FC<Readonly<SearchInputProps>> = ({\n    label,\n    onValue,\n    disabled,\n    error,\n    boxStyle\n}) => {\n    const [inputError, setInputError] = useState(false)\n    const [inputValue, setInputValue] = useState('')\n\n    const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n        setInputValue(event.target.value)\n    }\n\n    const handleClick = () => {\n        if (inputValue) {\n            setInputError(false)\n            onValue(inputValue)\n        } else {\n            setInputError(true)\n        }\n    }\n\n    return (\n        <RoundInputBox style={boxStyle}>\n            <RoundInputBoxBtn onClick={handleClick} disabled={disabled}>\n                <SearchIcon style={{ color: \"white\" }} />\n            </RoundInputBoxBtn>\n            <RoundInputBoxFC disabled={disabled}>\n                <Input disableUnderline onInput={handleInput} placeholder={label}\n                    onKeyDown={(ev) => ev.key === 'Enter' && handleClick()} error={inputError || !!error} />\n                {inputError && (\n                    <FormHelperText error>Pole jest wymagane</FormHelperText>\n                )}\n                {!!error && <FormHelperText error>{error}</FormHelperText>}\n            </RoundInputBoxFC>\n        </RoundInputBox>\n    )\n}\n\nexport default SearchInput","import { stringify } from 'querystring'\nimport * as React from 'react'\nimport { useCallback, useState } from 'react'\nimport {\n  GetListResult, GET_LIST, sanitizeFetchType,\n  useMutation,\n  useNotify\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\nimport { TicketCodeFilter } from '../../core/common/ticket-code.filter'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\n\nexport const FindUserByTicket = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n\n  const fetchTickets = useCallback(\n    (ticketCode: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.TICKETS,\n          payload: { filter: { ticketCode } } as TicketCodeFilter,\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<TicketDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (ticketCode: string) => {\n      setError('')\n      try {\n        const {\n          total,\n          data: [onlyTicket],\n        } = await fetchTickets(ticketCode)\n        if (!total) {\n          setError('Nie ma biletu o takim kodzie')\n        } else if (total === 1) {\n          history.push({\n            pathname: `/${ResourceName.TICKET_DETAILS}/${onlyTicket.bookingId}/show`,\n          })\n        } else {\n          history.push({\n            pathname: `/${ResourceName.TICKET_INFO}`,\n            search: stringify({\n              filter: JSON.stringify({\n                ticketCode,\n              } as TicketCodeFilter['filter']),\n            }),\n          })\n        }\n      } catch (err: any) {\n        notify(err?.message, 'error')\n      }\n    },\n    [fetchTickets, history, notify],\n  )\n\n  return (\n    <SearchInput\n      label=\"Kod biletu\"\n      onValue={onValue}\n      disabled={loading}\n      error={error}\n      boxStyle={undefined}\n    />\n  )\n}\n","export const getContrastColor = (hexcolor: string) => {\n    const r = parseInt(hexcolor.substr(1, 2), 16);\n    const g = parseInt(hexcolor.substr(3, 2), 16);\n    const b = parseInt(hexcolor.substr(5, 2), 16);\n    const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n    return (yiq >= 128) ? 'black' : 'white';\n  }","import React, { useEffect, useState } from 'react'\nimport { Grid, Button, Table, TableContainer, IconButton,\n   TableHead, TableBody, TableRow, TableCell, Paper, Collapse } from '@material-ui/core'\nimport {\n  DateField,\n  List,\n  ListProps,\n  TextField,\n  useListContext\n} from 'react-admin'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport { useHistory } from 'react-router-dom'\nimport { ExtendedLog } from '../../core/logs/extended-log'\nimport { ResourceName } from '../../core/ResourceName';\nimport { getContrastColor } from '../../core/common/visual.utils';\n\nconst DashRow = ({data}:{data: ExtendedLog}) => {\n  const [open, setOpen] = useState(false)\n  const [color, setColor] = useState(\"\")\n  const [textColor, setTextColor] = useState(\"\")\n  const history = useHistory()\n\n  useEffect(() => {\n    if(data.color === null) {\n      setColor(\"#f0f0f0\")\n      setTextColor(\"black\")\n    }\n    else {\n      setColor(data.color)\n      setTextColor(getContrastColor(data.color as string))}\n    setOpen(false)\n  },[data])\n\n  return(\n    <>\n      <TableRow style={{backgroundColor: color}}>\n        <TableCell>\n          <IconButton onClick={() => setOpen(!open)} size=\"small\">\n            {open ?\n            <ArrowDropUpIcon style={{color: textColor}}/> :\n            <ArrowDropDownIcon style={{color: textColor}}/>}\n          </IconButton>\n        </TableCell>\n        <TableCell style={{textAlign: \"center\"}}>\n          <DateField label=\"Data\" record={data} source=\"date\" showTime \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell style={{textAlign: \"center\"}}>\n          <TextField label=\"Urządzenie\" record={data} source=\"deviceName\" \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell style={{textAlign: \"center\"}}>\n          <TextField label=\"Bilet\" record={data} source=\"ticketCode\" \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal', wordBreak: \"break-all\"}}/>\n        </TableCell>\n      </TableRow> \n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={4}>\n          <Collapse in={open}>\n            <Grid container style={{marginTop: \"3%\"}}>\n              <Grid item xs={4} style={{display: \"flex\", justifyContent: \"center\", flexDirection: \"column\"}}>\n                <div style={{marginLeft: \"1%\"}}>Rezerwacja: </div>\n              </Grid>\n              <Grid item xs={8} style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n                {data.bookingId == null ?\n                <div /> :\n                <Button variant=\"contained\" style={{width: '50%',backgroundColor: 'rgb(220, 220, 220)'}}\n                onClick={() => history.push({pathname: `/${ResourceName.TICKET_DETAILS}/${data.bookingId}/show`})}>\n                  {data.bookingId}</Button>}\n              </Grid>\n              <hr style={{width: \"90%\", marginTop: \"3%\", marginBottom: \"3%\"}}/>\n              <Grid item xs={4} style={{display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", marginBottom: \"3%\"}}>\n                <div style={{marginLeft: \"1%\"}}>Opis: </div>\n              </Grid>\n              <Grid item xs={8} style={{display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", alignItems: \"center\", marginBottom: \"3%\"}}>\n                {data.text}\n              </Grid>\n            </Grid>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  )\n}\n\nconst LogGrid = () => {\n  const { ids, data } = useListContext()\n\n  return(\n    <TableContainer component={Paper}>\n      <Table aria-label=\"a dense table\" size=\"small\" padding=\"none\" >\n        <TableHead>\n          <TableRow>\n            <TableCell style={{width: \"5%\"}}/>\n            <TableCell style={{width: \"20%\", textAlign: \"center\"}}>Data</TableCell>\n            <TableCell style={{width: \"30%\", textAlign: \"center\"}}>Urządzenie</TableCell>\n            <TableCell style={{width: \"45%\", textAlign: \"center\"}}>Bilet</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map(id =>\n            <DashRow key={id} data={data[id] as ExtendedLog}/>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport function LastLogList(props: ListProps) {\n\n  return(\n    <>\n      <List\n        {...props}\n        perPage={9}\n        exporter={false}\n        pagination={false}\n        actions={false}\n        sort={{ field: 'date', order: 'DESC' }}>\n          <LogGrid/>\n      </List> \n    </>\n  )\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme\n} from '@material-ui/core'\nimport * as React from 'react'\nimport { ResourceContextProvider } from 'react-admin'\nimport { ResourceName } from '../core/ResourceName'\nimport { FindUserByTicket } from './common/FindUserByTicket'\nimport { LastLogList } from './logs/LastLogList'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      textAlign: 'center',\n      letterSpacing: theme.spacing(0.2),\n    },\n    subHead: {\n      textAlign: 'center'\n    }\n  }),\n)\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12} >\n        <Card>\n          <CardHeader\n            className={classes.header}\n            title=\"Witaj w aplikacji administracyjnej Sport Data\"\n            titleTypographyProps={{ variant: 'h4' }}\n          />\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        <Card>\n          <CardHeader\n            title=\"Znajdź użytkownika po kodzie biletu\" />\n          <CardContent>\n            <FindUserByTicket />\n          </CardContent>\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        <Card>\n          <CardHeader\n            title=\"Ostatnie logi\" />\n          <CardContent>\n            <ResourceContextProvider value={ResourceName.LAST_LOGS}>\n              <LastLogList basePath=\"/\" title=\" \" />\n            </ResourceContextProvider>\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  )\n}\n","import * as React from 'react'\nimport { useListContext } from 'react-admin';\nimport { Button, Toolbar, Grid, Paper, ButtonGroup, Select, MenuItem } from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\n\nexport const PostPagination = () => {\n    const { perPage, total, setPerPage } = useListContext();\n    const nbPages = Math.ceil(total / perPage) || 1\n    return (\n        nbPages > 1 ?\n          <Toolbar>\n            <Grid container>\n              <Grid item xs={1}>\n                <Grid container style={{height: '100%'}}>\n                  <Grid item xs={1} />\n                  <Grid item xs={10}>\n                    <Paper elevation={1}\n                    style={{height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'center', textAlign: 'center'}}>\n                      <Select value={perPage} onChange={e => setPerPage(parseInt(e.target.value as string, 10))}>\n                        <MenuItem value={20}> 20 </MenuItem>\n                        <MenuItem value={50}> 50 </MenuItem>\n                        <MenuItem value={100}> 100 </MenuItem>\n                      </Select>\n                    </Paper>\n                  </Grid>\n                  <Grid item xs={1} />\n                </Grid>\n              </Grid>\n              <Grid item xs={8} />\n              <Grid item xs={3}>\n                <Paper elevation={0}\n                style={{height: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center'}}>\n                  <div />\n                </Paper>\n              </Grid>\n            </Grid>\n          </Toolbar> :\n          <div />\n    );\n  }\n\nexport const MobilePostPagination = () => {\n  const { page, perPage, total, setPage, setPerPage } = useListContext();\n  const nbPages = Math.ceil(total / perPage) || 1;\n  return (\n      nbPages > 1 ?\n        <Toolbar>\n          <Grid container>\n            <Grid item xs={3}>\n            <Paper elevation={0}\n              style={{height: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center'}}>\n              <Select value={perPage} style={{width: '100%', height: '70%', textAlign: 'center'}} variant='outlined'\n              onChange={e => setPerPage(parseInt(e.target.value as string, 10))}>\n                <MenuItem value={20}> 20 </MenuItem>\n                <MenuItem value={50}> 50 </MenuItem>\n                <MenuItem value={100}> 100 </MenuItem>\n              </Select>\n            </Paper>\n            </Grid>\n            <Grid item xs={4} />\n            <Grid item xs={5}>\n              <Paper elevation={0}\n              style={{height: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center'}}>\n                <ButtonGroup style={{height: '70%'}}>\n                  {page > 1 ?\n                    <Button variant=\"outlined\" color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n                      <ChevronLeft />\n                    </Button> :\n                    <Button variant=\"outlined\" color=\"primary\" disabled>\n                      <ChevronLeft />\n                    </Button> \n                  }\n                  <Button disabled variant=\"contained\"> {page} </Button>\n                  {page !== nbPages ?\n                    <Button variant=\"outlined\" color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n                      <ChevronRight />\n                    </Button> :\n                    <Button variant=\"outlined\" color=\"primary\" disabled>\n                      <ChevronRight />\n                    </Button>\n                  }\n                </ButtonGroup>\n              </Paper>\n            </Grid>\n          </Grid>\n        </Toolbar> :\n        <div />\n  );\n}","import * as React from 'react'\nimport { TextField } from '@material-ui/core';\nimport { useField } from 'react-final-form';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\n\nexport const DateFilterInput = ({ source }: { source: string }) => {\n  const defaultFromDate = new Date(Date.now() - 2678400000)\n  const defaultToDate = new Date(Date.now())\n  const [dateFrom, setDateFrom] = React.useState(defaultFromDate.getTime().toString())\n  const [dateTo, setDateTo] = React.useState(defaultToDate.getTime().toString())\n  const {\n    input: { onChange },\n    meta: { touched, error }\n  } = useField(source);\n\n  onChange([dateFrom, dateTo].join(\";\"))\n\n  const convertedDate = (date: Date) => (\n    date.toJSON().substr(0, 10)\n  )\n\n  return (\n    <span key=\"date\" style={{ display: \"flex\", justifyContent: \"center\", verticalAlign: \"center\", marginBottom: \"5%\" }}>\n      <TextField\n        defaultValue={convertedDate(defaultFromDate)}\n        name={source}\n        type=\"date\"\n        onChange={e => setDateFrom(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        style={{ alignSelf: \"center\" }}\n      />\n      <ArrowRightAltIcon style={{ marginTop: \"4%\" }} />\n      <TextField\n        defaultValue={convertedDate(defaultToDate)}\n        name={source}\n        type=\"date\"\n        onChange={e => setDateTo(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n      />\n    </span>\n  );\n};","import React, { useEffect, useState } from 'react'\nimport { useMediaQuery, useTheme, Grid, Box, Button, Table, TableContainer,\n   TableHead, TableBody, TableRow, TableCell, Paper, Collapse } from '@material-ui/core'\nimport {\n  DateField,\n  Filter,\n  FilterProps,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useListContext,\n  useListSortContext,\n  SelectInput\n} from 'react-admin'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport { useHistory } from 'react-router-dom'\nimport { MobilePostPagination } from '../common/Pagination'\nimport { DateFilterInput } from './DateFilterInput';\nimport { ExtendedLog } from '../../core/logs/extended-log'\nimport { ResourceName } from '../../core/ResourceName';\nimport { getContrastColor } from '../../core/common/visual.utils';\n\nconst DesktopRow = ({data}:{data: ExtendedLog}) => {\n  const [color, setColor] = useState(\"\")\n  const [textColor, setTextColor] = useState(\"\")\n  const history = useHistory()\n\n  useEffect(() => {\n    if(data.color === null) {\n      setColor(\"#f0f0f0\")\n      setTextColor(\"black\")\n    }\n    else {\n      setColor(data.color)\n      setTextColor(getContrastColor(data.color as string))}\n  },[data])\n\n  return(\n    <>\n      <TableRow style={{backgroundColor: color, height: \"100%\"}}>\n        <TableCell>\n          <DateField label=\"Data\" record={data} source=\"date\" showTime \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell>\n          <TextField label=\"Urządzenie\" record={data} source=\"deviceName\"\n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell>\n          <TextField label=\"Bilet\" record={data} source=\"ticketCode\" \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell>\n          <TextField label=\"Opis\" record={data} source=\"text\" sortable={false} \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell>\n        {data.bookingId == null ?\n          <div /> :\n          <Button variant=\"contained\" style={{width: '100%',backgroundColor: 'rgb(220, 220, 220)'}}\n          onClick={() => history.push({pathname: `/${ResourceName.TICKET_DETAILS}/${data.bookingId}/show`})}>\n            {data.bookingId}</Button>}\n        </TableCell>\n      </TableRow>\n    </>\n  )\n}\n\nexport const LogGrid = () => {\n  const { ids, data } = useListContext()\n  const { currentSort, setSort } = useListSortContext()\n\n  const inverseOrder = (order: string) => ( order === 'ASC' ? 'DESC' : 'ASC')\n\n  const handleSortChange = (sortBy: string) => {\n    setSort(\n      sortBy,\n      sortBy === currentSort.field \n        ? inverseOrder(currentSort.order)\n        : 'DESC'\n    )\n  } \n\n  const HeaderCell = (name: string, display: string) => (\n    <>\n      {currentSort.field === name \n        ? <Button style={{width: \"100%\", display: \"flex\", justifyContent: \"flex-start\"}}\n          startIcon={currentSort.order === 'ASC' ? <ArrowUpwardIcon /> : <ArrowDownwardIcon />}>{display}</Button>\n        : <Button style={{width: \"100%\"}}>{display}</Button>}\n    </>\n  )\n\n  return(\n    <TableContainer component={Paper}>\n      <Table aria-label=\"a dense table\" size=\"small\" >\n        <TableHead>\n          <TableRow>\n            <TableCell onClick={() => handleSortChange(\"date\")} style={{width: \"10%\"}}>\n              {HeaderCell(\"date\", \"Data\")}</TableCell>\n            <TableCell onClick={() => handleSortChange(\"deviceName\")} style={{width: \"15%\"}}>\n              {HeaderCell(\"deviceName\", \"Urządzenie\")}</TableCell>\n            <TableCell onClick={() => handleSortChange(\"ticketCode\")} style={{width: \"25%\"}}>\n              {HeaderCell(\"ticketCode\", \"Bilet\")}</TableCell>\n            <TableCell style={{textAlign: \"center\", color: \"black\", width: \"25%\"}}>\n              OPIS</TableCell>\n            <TableCell onClick={() => handleSortChange(\"bookingId\")} style={{width: \"15%\"}}>\n              {HeaderCell(\"bookingId\", \"Rezerwacja\")}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map(id =>\n            <DesktopRow key={id} data={data[id] as ExtendedLog} />\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst MobileRow = ({data}:{data: ExtendedLog}) => {\n  const [open, setOpen] = useState(false)\n  const [color, setColor] = useState(\"\")\n  const [textColor, setTextColor] = useState(\"\")\n  const history = useHistory()\n\n  useEffect(() => {\n    if(data.color === null) {\n      setColor(\"#f0f0f0\")\n      setTextColor(\"black\")\n    }\n    else {\n      setColor(data.color)\n      setTextColor(getContrastColor(data.color as string))}\n    setOpen(false)\n  },[data])\n\n  return(\n    <>\n      <TableRow style={{backgroundColor: color}}>\n        <TableCell>\n          <Button onClick={() => setOpen(!open)} style={{width: \"100%\"}}>\n            {open ?\n            <ArrowDropUpIcon style={{color: textColor}} /> :\n            <ArrowDropDownIcon style={{color: textColor}} />}\n          </Button>\n        </TableCell>\n        <TableCell>\n          <DateField label=\"Data\" record={data} source=\"date\" showTime \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell>\n          <TextField label=\"Urządzenie\" record={data} source=\"deviceName\" \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n        <TableCell>\n          <TextField label=\"Bilet\" record={data} source=\"ticketCode\" \n            style={{color: textColor, fontWeight: textColor === 'white' ? 'bold' : 'normal'}}/>\n        </TableCell>\n      </TableRow> \n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={4}>\n          <Collapse in={open}>\n            <Grid container style={{marginTop: \"3%\"}}>\n              <Grid item xs={6} style={{display: \"flex\", justifyContent: \"center\", flexDirection: \"column\"}}>\n                <Box>\n                  Rezerwacja: </Box>\n              </Grid>\n              <Grid item xs={6} style={{display: \"flex\", justifyContent: \"flex-end\"}}>\n                {data.bookingId == null ?\n                <div /> :\n                <Button variant=\"contained\" style={{width: '50%',backgroundColor: 'rgb(220, 220, 220)'}}\n                onClick={() => history.push({pathname: `/${ResourceName.TICKET_DETAILS}/${data.bookingId}/show`})}>\n                  {data.bookingId}</Button>}\n              </Grid>\n              <hr style={{width: \"90%\", marginTop: \"3%\", marginBottom: \"3%\"}}/>\n              <Grid item xs={6} style={{display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", marginBottom: \"3%\"}}>\n                <div>Opis: </div>\n              </Grid>\n              <Grid item xs={6} style={{display: \"flex\", justifyContent: \"center\", flexDirection: \"column\", alignItems: \"center\", marginBottom: \"3%\"}}>\n                {data.text}\n              </Grid>\n            </Grid>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  )\n}\n\nexport const LogMobileGrid = () => {\n  const { ids, data } = useListContext()\n  const { currentSort, setSort } = useListSortContext()\n\n  const inverseOrder = (order: string) => ( order === 'ASC' ? 'DESC' : 'ASC')\n\n  const handleSortChange = (sortBy: string) => {\n    setSort(\n      sortBy,\n      sortBy === currentSort.field \n        ? inverseOrder(currentSort.order)\n        : 'DESC'\n    )\n  } \n\n  const HeaderCell = (name: string, display: string) => (\n    <>\n      {currentSort.field === name \n        ? <Button style={{width: \"100%\"}}\n          startIcon={currentSort.order === 'ASC' ? <ArrowUpwardIcon /> : <ArrowDownwardIcon />}>{display}</Button>\n        : <Button style={{width: \"100%\"}}>{display}</Button>}\n    </>\n  )\n\n  return(\n    <TableContainer component={Paper}>\n      <Table aria-label=\"a dense table\" size=\"small\" >\n        <TableHead>\n          <TableRow>\n            <TableCell size=\"small\" style={{width: \"10%\"}}/>\n            <TableCell onClick={() => handleSortChange(\"date\")}>{HeaderCell(\"date\", \"Data\")}</TableCell>\n            <TableCell onClick={() => handleSortChange(\"deviceName\")}>{HeaderCell(\"deviceName\", \"Urządzenie\")}</TableCell>\n            <TableCell onClick={() => handleSortChange(\"ticketCode\")}>{HeaderCell(\"ticketCode\", \"Bilet\")}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map(id =>\n          <>\n            <MobileRow data={data[id] as ExtendedLog}/>\n          </>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n  <Filter {...props}>\n    <TextInput label=\"Kod biletu\" source=\"ticketCode\" alwaysOn />\n    <SelectInput label=\"Urządzenie\" source=\"deviceName\" choices={[\n      {id: 'Czytnik', name: 'Czytnik'},\n      {id: 'Przej\\u015Bcie', name: 'Przej\\u015Bcie'}]} />\n    <DateFilterInput source=\"date\" key=\"date\" />\n    <TextInput label=\"Rezerwacja\" source=\"bookingId\" />\n    <TextInput label=\"Wydarzenie\" source=\"event\" />\n  </Filter>\n)\n\nexport function LogList(props: ListProps) {\n  const theme = useTheme()\n  return(\n    <>\n      {useMediaQuery(theme.breakpoints.down('sm')) ? \n        <List\n        perPage={20}\n        exporter={false}\n        pagination={<MobilePostPagination />}\n        filters={<ListFilters />}\n        sort={{ field: 'date', order: 'DESC' }}\n        {...props}>\n          <LogMobileGrid/>\n        </List> :\n        <List\n        perPage={20}\n        exporter={false}\n        pagination={<Pagination rowsPerPageOptions={[20, 50, 100]}/>}\n        filters={<ListFilters />}\n        sort={{ field: 'date', order: 'DESC' }}\n        {...props}>\n          <LogGrid />\n        </List> \n      }\n    </>\n  )\n}\n","export enum Access {\n  BLOCK = 'BLOCK',\n  UNBLOCK = 'UNBLOCK',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: Access\n  text: string\n}\n\nexport type Action = { type: Access }\n","import { Box, Button, Collapse, IconButton, makeStyles, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core';\nimport { ArrowDropDown, ArrowDropUp } from '@material-ui/icons';\nimport React, { useState } from 'react';\nimport { Show, ShowProps, useShowContext } from 'react-admin';\nimport { BlockOverallView, ObjectOverallView, TribuneOverallView } from '../../../core/stats/overall-view/overall-view';\n\nconst useStyles = makeStyles({\n  noBorderCell: {\n    borderBottom: 'none'\n  }\n})\n\nconst ViewTitle = (record: any) => {\n  const { record: { eventName } } = record\n  return (\n    <span>Widok ogólny: {eventName}</span>\n  )\n}\n\nconst BlockView = (block: BlockOverallView) => {\n  const { capacity, entered, enteredAbo, enteredNormal, enteredInfix, enteredPoints, enteredService, name, sold, soldAbo, soldNormal, soldInfix, soldPoints, soldService } = block\n  const [open, setOpen] = useState(false)\n  const classes = useStyles()\n\n  return (\n    <>\n      <TableRow style={{ backgroundColor: '#FAFAFA' }}>\n        <TableCell classes={{ root: open ? classes.noBorderCell : undefined }}>\n          <span style={{ marginLeft: \"2px\" }}>{name}</span>\n          {sold > 0 &&\n            <IconButton onClick={() => setOpen(!open)} style={{ height: \"40px\", width: \"40px\" }}>\n              {open ? <ArrowDropUp /> : <ArrowDropDown />}\n            </IconButton>}\n        </TableCell>\n        <TableCell style={{ width: \"22.22%\", textAlign: \"center\" }} classes={{ root: open ? classes.noBorderCell : undefined }}>\n          {entered}\n        </TableCell>\n        <TableCell style={{ width: \"22.22%\", textAlign: \"center\" }} classes={{ root: open ? classes.noBorderCell : undefined }}>\n          {sold}\n        </TableCell>\n        <TableCell style={{ width: \"22.22%\", textAlign: \"center\" }} classes={{ root: open ? classes.noBorderCell : undefined }}>\n          {capacity}\n        </TableCell>\n      </TableRow>\n      {open &&\n        <TableRow style={{ backgroundColor: '#FAFAFA' }}>\n          <TableCell>\n            {soldNormal > 0 ? <div style={{ marginLeft: \"2px\" }}>NORMAL</div> : <div />}\n            {soldAbo > 0 ? <div style={{ marginLeft: \"2px\" }}>ABO</div> : <div />}\n            {soldInfix > 0 ? <div style={{ marginLeft: \"2px\" }}>INFIX</div> : <div />}\n            {soldPoints > 0 ? <div style={{ marginLeft: \"2px\" }}>POINTS</div> : <div />}\n            {soldService > 0 ? <div style={{ marginLeft: \"2px\" }}>SERVICE</div> : <div />}\n          </TableCell>\n          <TableCell>\n            <div style={{ textAlign: \"center\" }}>{soldNormal > 0 ? enteredNormal : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldAbo > 0 ? enteredAbo : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldInfix > 0 ? enteredInfix : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldPoints > 0 ? enteredPoints : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldService > 0 ? enteredService : \"\"}</div>\n          </TableCell>\n          <TableCell>\n            <div style={{ textAlign: \"center\" }}>{soldNormal > 0 ? soldNormal : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldAbo > 0 ? soldAbo : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldInfix > 0 ? soldInfix : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldPoints > 0 ? soldPoints : \"\"}</div>\n            <div style={{ textAlign: \"center\" }}>{soldService > 0 ? soldService : \"\"}</div>\n          </TableCell>\n          <TableCell />\n        </TableRow>}\n    </>\n  )\n}\n\nconst TribuneView = (tribune: TribuneOverallView) => {\n  const { capacity, entered, name, sold, blocks } = tribune\n  const [open, setOpen] = useState(false)\n  const classes = useStyles()\n\n  return (\n    <>\n      {blocks.length > 0 && capacity > 0 &&\n        <TableRow>\n          <TableCell>\n            <span style={{ marginLeft: \"2px\" }}>{name}</span>\n            <IconButton onClick={() => setOpen(!open)} style={{ height: \"40px\", width: \"40px\" }}>\n              {open ? <ArrowDropUp /> : <ArrowDropDown />}\n            </IconButton>\n          </TableCell>\n          {open ?\n            <TableCell colSpan={4}>\n              <Table padding=\"none\">\n                <TableBody>\n                  {blocks.map((block) => (\n                    <BlockView {...block} key={block.id} />\n                  ))}\n                  <TableRow>\n                    <TableCell classes={{ root: classes.noBorderCell }} />\n                    <TableCell style={{ textAlign: \"center\" }} classes={{ root: classes.noBorderCell }}>{entered}</TableCell>\n                    <TableCell style={{ textAlign: \"center\" }} classes={{ root: classes.noBorderCell }}>{sold}</TableCell>\n                    <TableCell style={{ textAlign: \"center\" }} classes={{ root: classes.noBorderCell }}>{capacity}</TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n              <div style={{ height: \"1px\" }} />\n            </TableCell> :\n            <>\n              <TableCell />\n              <TableCell style={{ textAlign: \"center\" }}>{entered}</TableCell>\n              <TableCell style={{ textAlign: \"center\" }}>{sold}</TableCell>\n              <TableCell style={{ textAlign: \"center\" }}>{capacity}</TableCell>\n            </>}\n        </TableRow>\n      }\n    </>\n  )\n}\n\nconst ObjectView = (object: ObjectOverallView) => {\n  const { capacity, entered, name, sold, tribunes } = object\n  const [open, setOpen] = useState(true)\n\n  return (\n    <Box style={{ margin: \"5px\", borderRadius: \"5px\", boxShadow: \"0px 0px 2px\" }}>\n      <Button style={{ width: \"100%\" }} onClick={() => setOpen(!open)}>{name}</Button>\n      <Collapse in={open}>\n        <TableContainer>\n          <Table padding=\"none\">\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ width: \"25%\" }}>\n                  <div style={{ marginLeft: \"2px\" }}>Trybuna</div>\n                </TableCell>\n                <TableCell style={{ width: \"25%\" }}>\n                  <div style={{ marginLeft: \"2px\" }}>Sektor</div>\n                </TableCell>\n                <TableCell style={{ width: \"16.67%\", textAlign: \"center\" }}>Wejścia</TableCell>\n                <TableCell style={{ width: \"16.67%\", textAlign: \"center\" }}>Sprzedano</TableCell>\n                <TableCell style={{ width: \"16.67%\", textAlign: \"center\" }}>Pojemność</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {tribunes.map((tribune) => <TribuneView {...tribune} key={tribune.id} />)}\n              <TableRow style={{ height: \"40px\" }}>\n                <TableCell>\n                  <div style={{ marginLeft: \"2px\" }}>Suma</div>\n                </TableCell>\n                <TableCell />\n                <TableCell style={{ textAlign: \"center\" }}>{entered}</TableCell>\n                <TableCell style={{ textAlign: \"center\" }}>{sold}</TableCell>\n                <TableCell style={{ textAlign: \"center\" }}>{capacity}</TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Collapse>\n      {!open &&\n        <Table padding=\"none\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: \"50%\" }} />\n              <TableCell style={{ width: \"16.67%\", textAlign: \"center\" }}>Wejścia</TableCell>\n              <TableCell style={{ width: \"16.67%\", textAlign: \"center\" }}>Sprzedano</TableCell>\n              <TableCell style={{ width: \"16.67%\", textAlign: \"center\" }}>Pojemność</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow style={{ height: \"40px\" }}>\n              <TableCell>\n                <div style={{ marginLeft: \"2px\" }}>Suma</div>\n              </TableCell>\n              <TableCell style={{ textAlign: \"center\" }}>{entered}</TableCell>\n              <TableCell style={{ textAlign: \"center\" }}>{sold}</TableCell>\n              <TableCell style={{ textAlign: \"center\" }}>{capacity}</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>}\n    </Box>\n  )\n}\n\nconst StatsView = () => {\n  const { record } = useShowContext()\n\n  return (\n    <>\n      {record?.objects.map((object: ObjectOverallView) => (\n        <ObjectView {...object} key={record.id} />\n      ))}\n    </>\n  )\n}\n\nexport const OverallView = (props: ShowProps) => (\n  <Show title={<ViewTitle />} {...props}>\n    <StatsView />\n  </Show>\n)\n","import * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  FilterProps,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n  useListContext\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n  <Filter {...props}>\n    <TextInput label=\"Nazwa\" source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst OverallViewGrid = () => {\n  const {\n    loading,\n  } = useListContext()\n  return (\n    <Datagrid\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.STATS_OVERALL_VIEW}/${id}/show`}\n    >\n      <TextField label=\"Id\" source=\"id\" sortable={false} />\n      <TextField label=\"Nazwa\" source=\"name\" sortable={false} />\n      <DateField label=\"Data rozpoczęcia\" source=\"dateStart\" showTime sortable={false} />\n      <DateField label=\"Data zakończenia\" source=\"dateEnd\" showTime sortable={false} />\n    </Datagrid>\n  )\n}\n\nexport const OverallViewList = (props: ListProps) => (\n  <List {...props} actions={false} pagination={false} filters={<ListFilters />}>\n    <OverallViewGrid />\n  </List>\n)\n","import { TicketType } from '../enum/TicketType'\nimport { BookingType } from '../enum/BookingType'\n\nconst bookingTypeMapping: Record<BookingType, string> = {\n  [BookingType.NORMAL]: 'Bilet pojedynczy',\n  [BookingType.ABO]: 'Abonament',\n  [BookingType.INFIX]: 'Infix',\n  [BookingType.POINTS]: 'Points',\n  [BookingType.SERVICE]: 'Karta serwisowa',\n}\n\nconst ticketTypeMapping: Record<TicketType, string> = {\n  [TicketType.K]: 'Kod kreskowy',\n  [TicketType.M]: 'Nr mifare',\n  [TicketType.Z]: 'Nr dowodu',\n  [TicketType.N]: 'Nr biletu',\n  [TicketType.P]: 'Pesel',\n  [TicketType.U]: 'Nr unique (125k)',\n  [TicketType.R]: 'Nr rejestracyjny',\n}\n\nexport const mapFromTicketType = (ticketType: TicketType): string =>\n  ticketTypeMapping[ticketType]\n\nexport const mapFromBookingType = (bookingType: BookingType): string =>\n  bookingTypeMapping[bookingType]\n","import * as React from 'react'\nimport { useShowContext } from 'react-admin'\nimport {\n  Box,\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      letterSpacing: theme.spacing(0.2),\n    },\n  }),\n)\nexport const TicketDetailsHeader = () => {\n  const classes = useStyles()\n  const { record } = useShowContext<TicketDetails>()\n  return (\n    <Box m={2}>\n      <Typography className={classes.header} variant=\"h5\" paragraph>\n        {record?.firstname} {record?.lastname}\n      </Typography>\n    </Box>\n  )\n}\n","import * as React from 'react'\nimport {\n  DateField,\n  Labeled,\n  TextField,\n  TextFieldProps,\n  useRecordContext,\n} from 'react-admin'\nimport {\n  Box,\n  Chip,\n  createStyles,\n  makeStyles,\n  Paper,\n  Theme,\n} from '@material-ui/core'\nimport { mapFromTicketType } from '../../core/ticket-details/ticket-details-values.mapper'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ticketBox: {\n      display: 'flex',\n      flexDirection: 'column',\n      padding: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n    ticketField: {\n      padding: theme.spacing(0),\n      margin: theme.spacing(0),\n      marginBottom: theme.spacing(0.5),\n    },\n  }),\n)\n\nexport const TicketDetailsTicketsField = ({ label }: TextFieldProps) => {\n  const classes = useStyles()\n  const record = useRecordContext<TicketDetails>()\n  const mappedRecords = (record.tickets || []).map(\n    ({ id, ticketType, createdAt, ticketCode }) => ({\n      id,\n      ticketCode,\n      ticketType: mapFromTicketType(ticketType),\n      createdAt,\n    }),\n  )\n  const fields = mappedRecords.map((mappedRecord) => (\n    <Paper\n      key={mappedRecord.id}\n      variant=\"elevation\"\n      className={classes.ticketBox}\n    >\n      <Labeled className={classes.ticketField} label=\"id\">\n        <TextField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"id\"\n        />\n      </Labeled>\n      <Labeled className={classes.ticketField} label=\"Kod biletu\">\n        <TextField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"ticketCode\"\n        />\n      </Labeled>\n      <Labeled className={classes.ticketField} label=\"Typ wejściówki\">\n        <Chip label={mappedRecord.ticketType} className={classes.ticketField} />\n      </Labeled>\n      <Labeled className={classes.ticketField} label=\"Utworzono\">\n        <DateField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"createdAt\"\n          showTime\n        />\n      </Labeled>\n    </Paper>\n  ))\n  return (\n    <Labeled label={label}>\n      <Box display=\"flex\" flexWrap=\"wrap\" flexDirection=\"row\">\n        {fields}\n      </Box>\n    </Labeled>\n  )\n}\n","import {\n  CREATE,\n  CreateParams,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  UpdateManyParams,\n} from 'react-admin'\nimport { TicketDetails } from './ticket-details'\nimport { ResourceName } from '../ResourceName'\nimport { AccessUsingsCreateParams } from '../access-usings/access-usings-create.params'\nimport { Access, Action, ToggleButtonState } from './toggle-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst blockMutation = (ticketDetails: TicketDetails): Mutation => {\n  const { accessesIds, tickets } = ticketDetails\n  const ticketIds = tickets.map((t) => t.id)\n  return {\n    type: sanitizeFetchType(CREATE),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      data: { ticketIds, accessIds: accessesIds },\n    } as CreateParams<AccessUsingsCreateParams>,\n  }\n}\n\nconst unblockMutation = ({ tickets }: TicketDetails): Mutation => {\n  const activeAccessUsingIds = tickets\n    .flatMap((t) => t.accessUsings)\n    .filter((au) => au.active)\n    .map((au) => au.id)\n  return {\n    type: sanitizeFetchType(UPDATE_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: activeAccessUsingIds,\n    } as UpdateManyParams,\n  }\n}\n\ntype State = {\n  mutateQuery?: (ticketDetails: TicketDetails) => Mutation\n} & ToggleButtonState\n\nexport const blockAccessButtonInitialState = {\n  type: Access.DISABLED,\n  text: 'Oznacz dostęp jako wykorzystany (N/A)',\n}\n\nexport const toggleAccessButtonReducer = (\n  state: State,\n  { type }: Action,\n): State => {\n  switch (type) {\n    case Access.BLOCK: {\n      return {\n        type,\n        text: 'Oznacz dostęp jako wykorzystany',\n        mutateQuery: blockMutation,\n      }\n    }\n    case Access.UNBLOCK: {\n      return {\n        type,\n        text: 'Zwolnij dostęp',\n        mutateQuery: unblockMutation,\n      }\n    }\n    case Access.DISABLED: {\n      return blockAccessButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Button, createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { Access } from '../../core/ticket-details/toggle-button'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport {\n  blockAccessButtonInitialState,\n  toggleAccessButtonReducer,\n} from '../../core/ticket-details/toggle-access-button.reducer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleAccessButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleAccessButtonReducer,\n    blockAccessButtonInitialState,\n  )\n  const ticketDetails = useRecordContext<TicketDetails>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const isActive = (td: TicketDetails) =>\n    td.tickets.some((t) => t.accessUsings.some((a) => a.active))\n\n  useEffect(() => {\n    if (isActive(ticketDetails)) {\n      dispatch({ type: Access.UNBLOCK })\n    } else {\n      dispatch({ type: Access.BLOCK })\n    }\n  }, [ticketDetails])\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(ticketDetails)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify(err?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === Access.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      color=\"secondary\"\n      onClick={onClick}\n    >\n      {text}\n    </Button>\n  )\n}\n","import { Access, Action, ToggleButtonState } from './toggle-button'\nimport { BookingUpdateRequest } from '../bookings/booking-update.request'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\n\ntype State = {\n  mutateParam?: BookingUpdateRequest['disabled']\n} & ToggleButtonState\n\nexport const blockTicketButtonInitialState = {\n  type: Access.DISABLED,\n  text: 'Zablokuj bilet (N/A)',\n}\n\nexport const toggleTicketButtonReducer = (\n  state: State,\n  { type }: Action,\n): State => {\n  switch (type) {\n    case Access.BLOCK: {\n      return {\n        type,\n        text: 'Zablokuj bilet',\n        mutateParam: BookingDisabledOption.ADMIN,\n      }\n    }\n    case Access.UNBLOCK: {\n      return {\n        type,\n        text: 'Odblokuj bilet',\n        mutateParam: null,\n      }\n    }\n    case Access.DISABLED: {\n      return blockTicketButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  sanitizeFetchType,\n  UPDATE,\n  UpdateParams,\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Button, createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport { BookingUpdateRequest } from '../../core/bookings/booking-update.request'\nimport { BookingDisabledOption } from '../../core/enum/BookingDisabledOption'\nimport { ResourceName } from '../../core/ResourceName'\nimport {\n  blockTicketButtonInitialState,\n  toggleTicketButtonReducer,\n} from '../../core/ticket-details/toggle-ticket-button.reducer'\nimport { Access } from '../../core/ticket-details/toggle-button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleTicketButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateParam }, dispatch] = useReducer(\n    toggleTicketButtonReducer,\n    blockTicketButtonInitialState,\n  )\n  const { id: bookingId, bookingDisabled } = useRecordContext<TicketDetails>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (bookingDisabled === null) {\n      dispatch({ type: Access.BLOCK })\n    } else if (bookingDisabled === BookingDisabledOption.ADMIN) {\n      dispatch({ type: Access.UNBLOCK })\n    } else {\n      dispatch({ type: Access.DISABLED })\n    }\n  }, [bookingDisabled])\n\n  const onClick = async () => {\n    try {\n      await mutate(\n        {\n          type: sanitizeFetchType(UPDATE),\n          resource: ResourceName.BOOKINGS,\n          payload: {\n            data: { id: bookingId, disabled: mutateParam },\n          } as UpdateParams<BookingUpdateRequest>,\n        },\n        { returnPromise: true },\n      )\n      refresh()\n    } catch (err) {\n      notify(err?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === Access.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      color=\"secondary\"\n      onClick={onClick}\n    >\n      {text}\n    </Button>\n  )\n}\n","import * as React from 'react'\nimport {\n  ChipFieldProps,\n  DateField,\n  Labeled,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  useRecordContext,\n  ResourceContextProvider,\n} from 'react-admin'\nimport { Box, Chip, Divider } from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport { mapFromBookingType } from '../../core/ticket-details/ticket-details-values.mapper'\nimport { TicketDetailsHeader } from './TicketDetailsHeader'\nimport { TicketDetailsTicketsField } from './TicketDetailsTicketsField'\nimport { ToggleAccessButton } from './ToggleAccessButton'\nimport { ToggleTicketButton } from './ToggleTicketButton'\nimport { ResourceName } from '../../core/ResourceName'\nimport { LogList } from '../logs/LogList'\n\nconst MappedChipField = <T extends unknown>({\n  mapper,\n  source,\n}: ChipFieldProps & { mapper: (value: T) => string }) => {\n  const record = useRecordContext<TicketDetails>()\n  const mappedValue = mapper(record[source as string])\n  return <Chip label={mappedValue} />\n}\n\nexport const TicketDetailsView = (props: ShowProps) => {\n  const { id: ticketLogsBookingFilter, basePath } = props\n  return (\n    <Show {...props}>\n      <>\n        <TicketDetailsHeader />\n        <Divider />\n        <TabbedShowLayout syncWithLocation={false}>\n          <Tab label=\"Bilet\">\n            <TextField label=\"Impreza\" source=\"eventName\" />\n            <TextField label=\"Pesel\" source=\"pesel\" />\n            <TextField label=\"Wariant\" source=\"variantName\" />\n            <Labeled label=\"Rodzaj wejściówki\">\n              <MappedChipField\n                source=\"bookingType\"\n                mapper={mapFromBookingType} />\n            </Labeled>\n            <DateField\n              label=\"Aktywny od\"\n              source=\"activeFrom\"\n              emptyText=\"N/A\"\n              showTime />\n            <DateField\n              label=\"Aktywny do\"\n              source=\"activeTo\"\n              emptyText=\"N/A\"\n              showTime />\n            <TicketDetailsTicketsField label=\"Wejściówki:\" />\n            <DateField label=\"Utworzono\" source=\"createdAt\" showTime />\n            <DateField label=\"Zmodyfikowano\" source=\"modifiedAt\" showTime />\n          </Tab>\n          <Tab label=\"Logi\">\n            <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n              <LogList\n                basePath={basePath}\n                filter={{ bookingId: ticketLogsBookingFilter }}\n                filters={undefined}\n                actions={false} \n                title=\" \"/>\n            </ResourceContextProvider>\n          </Tab>\n        </TabbedShowLayout>\n        <Divider />\n        <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n          <ToggleAccessButton />\n          <ToggleTicketButton />\n        </Box>\n      </>\n    </Show>\n  )\n}\n","import * as React from 'react'\nimport { TextField, TextFieldProps, useRecordContext } from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\n\nexport const MaskField = ({ source, ...rest }: TextFieldProps) => {\n  const record = useRecordContext()\n  const recordWithMappedValue = {\n    ...record,\n    [source as string]: maskMiddlePart(record[source as string], 2),\n  }\n  return <TextField {...rest} record={recordWithMappedValue} source={source} />\n}\n","/**\n * @example\n * maskMiddlePart('importantValue', 3) === 'imp********lue'\n */\nexport const maskMiddlePart = (word: string, threshold: number) => {\n  const firstChars = word.substring(0, threshold)\n  const lastChars = word.slice(-threshold)\n  const restCharsLength = word.length - firstChars.length - lastChars.length\n  return `${firstChars}${'*'.repeat(\n    restCharsLength > 0 ? restCharsLength : 0,\n  )}${lastChars}`\n}\n","import { Box, Card, CardContent, CardHeader, Divider, Typography } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  TextField,\n  useListContext\n} from 'react-admin'\nimport { useLocation } from 'react-router-dom'\nimport { ResourceName } from '../../core/ResourceName'\nimport { FindUserByTicket } from '../common/FindUserByTicket'\nimport { MaskField } from '../common/MaskField'\n\nconst TicketInfoGrid = () => {\n  const {\n    loading,\n    filterValues: { ticketCode },\n  } = useListContext()\n  return (\n    <>\n      <Box m={2}>\n        <Typography variant=\"h5\" paragraph>\n          Wyszukiwanie biletu po kodzie: {ticketCode}\n        </Typography>\n      </Box>\n      <Divider />\n      <Datagrid\n        loaded={!loading}\n        rowClick={(id) => `${ResourceName.TICKET_DETAILS}/${id}/show`}\n      >\n        <TextField label=\"Imię\" source=\"firstname\" sortable={false} />\n        <TextField label=\"Nazwisko\" source=\"lastname\" sortable={false} />\n        <MaskField label=\"Pesel\" source=\"pesel\" sortable={false} />\n        <TextField label=\"Bilet\" source=\"ticketCode\" sortable={false} />\n        <TextField label=\"Wydarzenie\" source=\"eventName\" sortable={false} />\n      </Datagrid>\n    </>\n  )\n}\n\nexport const TicketInfoList = (props: ListProps) => {\n  const { search } = useLocation()\n  return (\n    <>\n      <Card style={{ marginTop: '2%' }}>\n        <CardHeader style={{ textAlign: 'center' }}\n          title=\"Znajdź użytkownika po kodzie biletu\" />\n        <CardContent>\n          <FindUserByTicket />\n        </CardContent>\n      </Card>\n      {!!search && (\n        <List actions={false} pagination={false} {...props}>\n          <TicketInfoGrid />\n        </List>\n      )}\n    </>\n  )\n}\n","import ReceiptIcon from '@material-ui/icons/Receipt';\nimport ViewComfyIcon from '@material-ui/icons/ViewComfy';\nimport React from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport { AppTheme } from './app.theme';\nimport { providersFactory } from './core/providers.factory';\nimport { ResourceName } from './core/ResourceName';\nimport { Dashboard } from './main/Dashboard';\nimport { LogList } from './main/logs/LogList';\nimport { OverallView } from './main/stats/overall-view/OverallView';\nimport { OverallViewList } from './main/stats/overall-view/OverallViewList';\nimport { TicketDetailsView } from './main/ticket-details/TicketDetailsView';\nimport { TicketInfoList } from './main/ticket-info/TicketInfoList';\n\n\nconst App = () => {\n  const { authProvider, dataProvider } = providersFactory(process.env.NODE_ENV)\n  return (\n    <Admin\n      theme={AppTheme}\n      dashboard={Dashboard}\n      authProvider={authProvider}\n      dataProvider={dataProvider}\n    >\n      <Resource\n        options={{ label: 'Bilety' }}\n        icon={ReceiptIcon}\n        name={ResourceName.TICKET_INFO}\n        list={TicketInfoList}\n      />\n      <Resource\n        options={{ label: 'Wejściówka' }}\n        name={ResourceName.TICKET_DETAILS}\n        show={TicketDetailsView}\n      />\n      <Resource\n        options={{ label: 'Logi' }}\n        name={ResourceName.LOGS}\n        list={LogList}\n      />\n      <Resource\n        options={{ label: \"Statystyki - widok ogólny\" }}\n        icon={ViewComfyIcon}\n        name={ResourceName.STATS_OVERALL_VIEW_LIST}\n        list={OverallViewList}\n      />\n      <Resource\n        options={{ label: \"Widok ogólny\" }}\n        icon={ViewComfyIcon}\n        name={ResourceName.STATS_OVERALL_VIEW}\n        show={OverallView}\n      />\n      <Resource\n        options={{ label: ' ' }}\n        name={ResourceName.LAST_LOGS} />\n      <Resource\n        options={{ label: ' ' }}\n        name={ResourceName.TICKET_LOGS} />\n    </Admin>\n  )\n}\n\nexport default App\n","import { AuthProvider, DataProvider, LegacyDataProvider } from 'react-admin'\nimport fakeDataProvider from './fake/fake-data.provider'\nimport fakeAuthProvider from './fake/providers/fake-auth.provider'\nimport authProvider from './auth/auth.provider'\nimport dataProvider from './data.provider'\n\ninterface Providers {\n  readonly authProvider: AuthProvider\n  readonly dataProvider: DataProvider | LegacyDataProvider\n}\n\nexport const providersFactory = (\n  env: 'development' | 'test' | 'production',\n): Providers => {\n  switch (env) {\n    case 'production':\n      return {\n        authProvider,\n        dataProvider,\n      }\n    case 'development':\n      return {\n        authProvider,\n        dataProvider,\n      }\n    default:\n      return {\n        authProvider: fakeAuthProvider,\n        dataProvider: fakeDataProvider,\n      }\n  }\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}
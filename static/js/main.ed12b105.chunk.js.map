{"version":3,"sources":["lib/@react-admin/ra-preferences/esm/src/PreferencesContext.js","lib/@react-admin/ra-preferences/esm/src/constants.js","lib/@react-admin/ra-preferences/esm/src/preferencesStorage.js","lib/@react-admin/ra-preferences/esm/src/usePreferences.js","lib/@react-admin/ra-preferences/esm/src/usePreferencesContext.js","lib/@react-admin/ra-preferences/esm/src/theme/PreferencesBasedThemeProvider.js","lib/@react-admin/ra-preferences/esm/src/theme/ToggleThemeButton.js","lib/@react-admin/ra-preferences/esm/src/i18n/LanguageSwitcher.js","lib/@react-admin/ra-preferences/esm/src/i18n/useSetLocaleAndPreference.js","lib/@react-admin/ra-preferences/esm/src/ui/SidebarOpenPreferenceSync.js","lib/@react-admin/ra-preferences/esm/src/list/SelectColumnsMenu.js","lib/@react-admin/ra-preferences/esm/src/list/SavedQueryFilterListItem.js","lib/@react-admin/ra-preferences/esm/src/list/SavedQueriesList.js","lib/@react-admin/ra-preferences/esm/src/list/FilterButtonWithSave.js","lib/@react-admin/ra-preferences/esm/src/list/FilterWithSave.js","lib/@react-admin/ra-preferences/esm/src/no-code/PreferencesEditorContext.js","lib/@react-admin/ra-preferences/esm/src/no-code/usePreferencesEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialogTitle.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialogContext.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/EditorTitle.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ReferenceFieldInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/FieldTypeInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ReferenceResourceInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/useResourceModel.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourceModelFieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResetSettingsButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/ListItemLink.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourceModelEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourcesModelsEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/EditResourcesModelsButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorRoot.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialog.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/OpenEditorButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/Configurable.js","lib/@react-admin/ra-preferences/esm/src/no-code/TemplateInfoButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldFormToolbar.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/ComputedFieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/ComputedFieldTemplatePopover.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldsEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/List/ObjectInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/List/ListEditor.js","lib/@react-admin/ra-tree/esm/src/actions.js","lib/@react-admin/ra-tree/esm/src/constants.js","lib/@react-admin/ra-tree/esm/src/reducer.js","lib/@react-admin/ra-tree/esm/src/fetchTypes.js","lib/@react-admin/ra-realtime/esm/src/actions.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useLock.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useSubscribe.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useSubscribeToRecordList.js","lib/@react-admin/ra-realtime/esm/src/types.js","lib/@react-admin/ra-realtime/esm/src/Warning.js","lib/@react-admin/ra-realtime/esm/src/RealTimeMenuItemLink.js","lib/@react-admin/ra-realtime/esm/src/RealTimeMenu.js","lib/@react-admin/ra-realtime/esm/src/reducer.js","lib/@react-admin/ra-realtime/esm/src/i18n/raRealTimeLanguageEnglish.js","lib/@react-admin/ra-navigation/esm/src/app-location/AppBreadcrumbContext.js","lib/@react-admin/ra-navigation/esm/src/app-location/useResourceAppLocation.js","lib/@react-admin/ra-navigation/esm/src/app-location/resolveResourceLocationInfo.js","lib/@react-admin/ra-navigation/esm/src/app-location/useAppLocationState.js","lib/@react-admin/ra-navigation/esm/src/app-location/constants.js","lib/@react-admin/ra-navigation/esm/src/app-location/ResourceLocationListener.js","lib/@react-admin/ra-navigation/esm/src/app-location/AppLocationContext.js","lib/@react-admin/ra-navigation/esm/src/app-location/getDeepestLocation.js","lib/@react-admin/ra-navigation/esm/src/app-location/useAppLocationMatcher.js","lib/@react-admin/ra-navigation/esm/src/app-location/useHasDashboard.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/Breadcrumb.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/BreadcrumbItem.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/useResourcesBreadcrumbPaths.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/DashboardBreadcrumbItem.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/ResourceBreadcrumbItems.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/Menu.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MultiLevelMenuContext.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MenuItem.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MenuItemCategory.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MultiLevelMenu.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/theme.js","lib/@react-admin/ra-relationships/esm/src/DualListInput/DualListInputSkeleton.js","lib/@react-admin/ra-relationships/esm/src/DualListInput/DualListInput.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/constants.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useReferenceManyToManyFieldController.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ReferenceManyToManyField.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/getReferenceManyToManyFormField.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ManyToManyReferenceContext.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useReferenceManyToManyInputController.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useManyToManyReferenceContext.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ReferenceManyToManyInput.js","lib/@react-admin/ra-tree/esm/src/i18n/ra-tree-language-english.js","lib/@react-admin/ra-search/esm/src/SearchInput.js","lib/@react-admin/ra-search/esm/src/SearchResultContext.js","lib/@react-admin/ra-search/esm/src/SearchResultsGroup.js","lib/@react-admin/ra-search/esm/src/SearchResultsPanel.js","lib/@react-admin/ra-search/esm/src/i18n/raSearchLanguageEnglish.js","lib/@react-admin/ra-search/esm/src/SearchHistoryPanel.js","lib/@react-admin/ra-audit-log/esm/src/useGetResourceLabel.js","lib/@react-admin/ra-audit-log/esm/src/useEventLabel.js","lib/@react-admin/ra-audit-log/esm/src/ActionField.js","lib/@react-admin/ra-audit-log/esm/src/EventAvatar.js","lib/@react-admin/ra-audit-log/esm/src/AvatarField.js","lib/@react-admin/ra-audit-log/esm/src/AuthorField.js","lib/@react-admin/ra-audit-log/esm/src/constants.js","lib/@react-admin/ra-audit-log/esm/src/ResourceField.js","lib/@react-admin/ra-audit-log/esm/src/EventList/AuthorFilterList.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/RecordTimelineItem.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelinePlaceholder.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/RecordTimelineSkeleton.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineItem.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineGroup.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineSkeleton.js","lib/@react-admin/ra-audit-log/esm/src/EventList/ResourceFilterList.js","lib/@react-admin/ra-audit-log/esm/src/EventList/EventFilterAside.js","lib/@react-admin/ra-audit-log/esm/src/EventList/EventList.js","lib/@react-admin/ra-form-layout/esm/src/forms/dialog-form/FormDialogTitle.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionFormToolbar.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionSection.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionFormPanel.js","lib/@react-admin/ra-form-layout/esm/src/forms/wizard-form/WizardProgress.js","lib/@react-admin/ra-form-layout/esm/src/i18n/raFormLayoutLanguageEnglish.js","lib/@react-admin/ra-enterprise/esm/src/i18nProvider.js","lib/@react-admin/ra-relationships/esm/src/i18n/raRelationshipsLanguageEnglish.js","lib/@react-admin/ra-audit-log/esm/src/i18n/raAuditLogLanguageEnglish.js","lib/@react-admin/ra-enterprise/esm/src/layout/AppBar.js","lib/@react-admin/ra-enterprise/esm/src/layout/Breadcrumb.js","lib/@react-admin/ra-tour/esm/src/useTour.js","lib/@react-admin/ra-tour/esm/src/ui/Tooltip.js","lib/@react-admin/ra-tour/esm/src/Tour.js","lib/@react-admin/ra-tour/esm/src/reducer.js","lib/@react-admin/ra-tour/esm/src/TourProvider.js","lib/@react-admin/ra-enterprise/esm/src/layout/Menu.js","lib/@react-admin/ra-enterprise/esm/src/layout/Layout.js","lib/@react-admin/ra-enterprise/esm/src/themes.js","lib/@react-admin/ra-enterprise/esm/src/Admin.js","lib/@react-admin/ra-enterprise/esm/src/list/FilterForm.js","lib/@react-admin/ra-enterprise/esm/src/list/ListToolbar.js","lib/@react-admin/ra-enterprise/esm/src/list/ListActions.js","lib/@react-admin/ra-enterprise/esm/src/list/ListView.js","lib/@react-admin/ra-enterprise/esm/src/list/Filter.js","core/constants/reducer.actions.ts","core/common/theme.reducer.ts","core/ResourceName.ts","core/fake/providers/fake-access-dates.provider.ts","core/enum/AccessActivePeriodStartingOptions.ts","core/enum/AccessBonuses.ts","core/enum/DayOfWeek.ts","core/fake/providers/fake-access-usings.provider.ts","core/fake/providers/fake-accesses.provider.ts","core/enum/BlockType.ts","core/fake/providers/fake-blocks.provider.ts","core/enum/BookingDisabledOption.ts","core/enum/BookingType.ts","core/fake/providers/fake-bookings.provider.ts","core/enum/CustomerDocumentType.ts","core/enum/Gender.ts","core/fake/providers/fake-companies.provider.ts","core/fake/providers/fake-customers.provider.ts","core/enum/EventStatus.ts","core/fake/providers/fake-detectors.provider.ts","core/fake/providers/fake-device-categories.provider.ts","core/fake/providers/fake-engines.provider.ts","core/fake/providers/fake-entrances.provider.ts","core/fake/providers/fake-events.provider.ts","core/enum/TicketType.ts","core/fake/providers/fake-logs.provider.ts","core/fake/providers/fake-objects.provider.ts","core/fake/providers/fake-palms.provider.ts","core/fake/providers/fake-seats.provider.ts","core/fake/providers/fake-stats-overall-view-list.provider.ts","core/fake/providers/fake-stats-overall-view.provider.ts","core/fake/providers/fake-tickets.provider.ts","core/enum/TribuneType.ts","core/fake/providers/fake-tribunes.provider.ts","core/enum/DeviceDirection.ts","core/fake/providers/fake-user.provider.ts","core/fake/providers/fake-variants.provider.ts","core/fake/providers/fake-passages.provider.ts","core/fake/fake-data.provider.ts","core/fake/providers/fake-auth.provider.ts","core/common/header.parser.ts","core/common/fetch.utils.ts","core/api-urls.ts","core/auth/auth.provider.ts","core/common/date-time.ts","core/common/get-by-conditions.utils.ts","core/access-dates/access-dates-filter.mapper.ts","core/access-dates/access-dates-sort.mapper.ts","core/access-dates/access-dates.provider.ts","core/access-usings/access-usings-sort.mapper.ts","core/auth/Authority.ts","core/access-usings/access-usings-filter.mapper.ts","core/access-usings/access-usings.provider.ts","core/accesses/access-filter.mapper.ts","core/accesses/access-sort.mapper.ts","core/accesses/access.provider.ts","core/blocks/blocks-filter.mapper.ts","core/blocks/blocks-sort.mapper.ts","core/blocks/blocks.provider.ts","core/bookings/booking-filter.mapper.ts","core/bookings/booking-sort.mapper.ts","core/bookings/bookings.provider.ts","core/companies/company-filter.mapper.ts","core/companies/company-sort.mapper.ts","core/companies/companies.provider.ts","core/customers/customer-filter.mapper.ts","core/customers/customer-sort.mapper.ts","core/customers/customers.provider.ts","core/device-categories/device-category-filter.mapper.ts","core/device-categories/device-category-sort.mapper.ts","core/device-categories/device-categories.provider.ts","core/devices/devices.utils.ts","core/devices/engines/engine-filter.mapper.ts","core/devices/engines/engine-sort.mapper.ts","core/devices/engines/engines.provider.ts","core/devices/palms/palm-filter.mapper.ts","core/devices/palms/palm-sort.mapper.ts","core/devices/palms/palms.provider.ts","core/entrances/entrance-filter.mapper.ts","core/entrances/entrance-sort.mapper.ts","core/entrances/entrance.provider.ts","core/events/event-filter.mapper.ts","core/events/event-sort.mapper.ts","core/events/event.provider.ts","core/extended-logs/extended-log-filter.mapper.ts","core/extended-logs/extended-log-sort.mapper.ts","core/extended-logs/extended-logs.mapper.ts","core/extended-logs/extended-logs.provider.ts","core/objects/object-filter.mapper.ts","core/objects/object-sort.mapper.ts","core/objects/objects.provider.ts","core/seats/seats-filter.mapper.ts","core/seats/seats-sort.mapper.ts","core/seats/seats.provider.ts","core/stats/overall-view/overall-view-list-sort.mapper.ts","core/stats/overall-view/overall-view-list.mapper.ts","core/stats/overall-view/overall-view-list.provider.ts","core/stats/overall-view/overall-view.mapper.ts","core/stats/overall-view/overall-view.provider.ts","core/tickets/ticket-filter.mapper.ts","core/tickets/ticket-sort.mapper.ts","core/tickets/tickets.provider.ts","core/tribunes/tribunes-filter.mapper.ts","core/tribunes/tribunes-sort.mapper.ts","core/tribunes/tribunes.provider.ts","core/users/user.provider.ts","core/variants/variants-filter.mapper.ts","core/variants/variants-sort.mapper.ts","core/variants/variants.provider.ts","core/devices/passages/passage-filter.mapper.ts","core/devices/passages/passage-sort.mapper.ts","core/devices/passages/passages.provider.ts","core/devices/detectors/detector-filter.mapper.ts","core/devices/detectors/detector-sort.mapper.ts","core/devices/detectors/detectors.provider.ts","core/data.provider.ts","core/i18n.provider.ts","core/auth/withSyncPermissions.ts","main/layout/app.theme.ts","main/layout/AppSubmenu.tsx","main/layout/AppMenu.tsx","main/layout/AppLayout.tsx","main/common/SearchInput.tsx","main/common/FindCustomerByInfo.tsx","main/common/FindUserByTicket.tsx","core/auth/authority.mapper.ts","core/common/dashboard.ts","main/hooks/useHasAuthority.ts","main/events/EventList.tsx","core/common/visual.utils.ts","main/logs/DateFilterInput.tsx","main/logs/LogsComponents.ts","main/logs/LogList.tsx","main/Dashboard.tsx","main/common/Configuration.tsx","main/common/routes.tsx","lib/@react-admin/ra-editable-datagrid/esm/src/EditRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridRow.js","lib/@react-admin/ra-editable-datagrid/esm/src/CreateRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridCreateForm.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridBody.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/CancelEditButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/CreateButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteWithConfirmIconButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteWithUndoIconButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/EditRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/useEditRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/InlineCreateButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/SaveRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/ActionsColumn.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagrid.js","lib/@react-admin/ra-editable-datagrid/esm/src/RowForm.js","main/common/customized-mui-components/Button.tsx","core/enum/AccessDateTypes.ts","main/common/MappedChipField.tsx","main/common/Pagination.tsx","main/bookings/booking-show/AccessList.tsx","main/common/ParameterizedCreateButton.tsx","core/bookings/toggle-booking-blockade-button.ts","main/common/CheckboxField.tsx","main/common/RelationTab.tsx","main/configuration/accesses/AccessShow.tsx","main/bookings/booking-show/AccessShow.tsx","core/bookings/toggle-booking-access-button.reducer.ts","main/bookings/booking-show/ToggleBookingAccessButton.tsx","core/bookings/toggle-booking-blockade-button.reducer.ts","main/bookings/booking-show/ToggleBookingBlockadeButton.tsx","main/bookings/BookingShow.tsx","main/common/SelectWithPaginationInput.tsx","main/configuration/accesses/AccessCreate.tsx","core/enum/HardwareVersions.ts","main/configuration/accesses/AccessEdit.tsx","main/common/QuickFilter.tsx","main/configuration/accesses/AccessList.tsx","main/configuration/variants/VariantCreate.tsx","main/configuration/variants/VariantEdit.tsx","main/configuration/variants/VariantList.tsx","main/configuration/variants/VariantShow.tsx","main/customers/CustomerCreate.tsx","main/customers/CustomerEdit.tsx","main/common/MaskField.tsx","core/common/mask.utils.ts","main/customers/CustomerList.tsx","main/customers/CustomerShow.tsx","main/device-categories/DeviceCategoryCreate.tsx","main/device-categories/DeviceCategoryEdit.tsx","main/device-categories/DeviceCategoryList.tsx","main/device-categories/DeviceCategoryShow.tsx","main/devices/detectors/DetectorCreate.tsx","core/enum/Multiplicities.ts","main/devices/detectors/DetectorEdit.tsx","main/devices/detectors/DetectorList.tsx","main/devices/detectors/DetectorShow.tsx","main/devices/engines/EngineCreate.tsx","core/enum/StanbyMode.ts","main/devices/engines/EngineEdit.tsx","main/devices/engines/EngineList.tsx","main/devices/engines/EngineDialogs.tsx","core/enum/SPOM4Directions.ts","main/devices/engines/EngineShow.tsx","main/devices/palms/PalmCreate.tsx","main/devices/palms/PalmEdit.tsx","main/devices/palms/PalmList.tsx","main/devices/palms/PalmDialogs.tsx","main/devices/palms/PalmShow.tsx","main/devices/passages/SPOM4Address.tsx","core/enum/device-modues/DeviceModuleTypes.ts","main/devices/passages/PassageCreate.tsx","main/devices/passages/PassageEdit.tsx","main/devices/passages/PassageList.tsx","core/devices/common/modules/module.mapper.ts","main/devices/common/modules/ModuleStatus.tsx","main/devices/passages/PassageDialogs.tsx","main/devices/passages/PassageShow.tsx","main/configuration/entrances/EntranceCreate.tsx","main/configuration/entrances/EntranceEdit.tsx","main/configuration/entrances/EntranceList.tsx","main/configuration/entrances/EntranceShow.tsx","main/events/EventCreate.tsx","main/events/EventEdit.tsx","main/events/EventShow.tsx","main/objects/Blocks/BlockCreate.tsx","main/objects/Empty.tsx","main/objects/Blocks/BlocksList.tsx","main/objects/Objects/ObjectCreate.tsx","main/objects/Objects/ObjectEdit.tsx","main/objects/Objects/ObjectList.tsx","main/objects/Seats/SeatsList.tsx","main/objects/Tribunes/TribunesList.tsx","main/objects/Objects/ObjectShow.tsx","main/objects/Seats/SeatCreate.tsx","main/objects/Tribunes/TribuneCreate.tsx","main/stats/overall-view/OverallView.tsx","main/stats/overall-view/OverallViewList.tsx","main/tickets/TicketList.tsx","main/configuration/access-dates/AccessDateCreate.tsx","main/Resources.tsx","core/common/dashboard.reducer.ts","App.tsx","core/providers.factory.ts","reportWebVitals.ts","i18n.init.ts","index.tsx"],"names":["PreferencesContext","createContext","undefined","RA_PREFERENCE_WORKSPACE","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","getPreferencesStorage","localStorageAvailable","testLocalStorage","window","localStorage","memoryStorage","readStorage","key","preferences","JSON","parse","getItem","tryParse","get","writeStorage","value","storage","newPreferences","set","setItem","stringify","dispatchEvent","PreferencesChanged","create","err","TypeError","message","includes","_a","removeItem","eventName","payload","CustomEvent","detail","usePreferences","defaultValue","useState","storedValue","localState","updateLocalState","preferencesContext","useContext","onPreferencesChange","event","newValue","onLocalStorageChange","useEffect","addEventListener","canWrite","removeEventListener","writeState","useCallback","previousData","data","updatePreferences","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defaultThemeFromType","type","palette","PreferencesBasedThemeProvider","children","_b","themeFromType","rest","theme","useMemo","isValidElement","Error","cloneElement","ToggleThemeButton","translate","useTranslate","setTheme","toggleThemeTitle","_","React","createElement","Tooltip","title","enterDelay","IconButton","color","onClick","Brightness4Icon","Brightness7Icon","LanguageSwitcher","languages","defaultLanguage","classes","useStyles","_c","anchorEl","setAnchorEl","locale","useLocale","setLocale","defaultLocale","useSetLocale","setLocaleInPreferences","useSetLocaleAndPreference","changeLocale","Fragment","Button","currentTarget","LanguageIcon","className","languageContainer","language","find","name","getNameForLocale","ExpandMoreIcon","fontSize","Menu","id","keepMounted","open","Boolean","onClose","map","MenuItem","makeStyles","marginLeft","spacing","SidebarOpenPreferenceSync","sidebarOpenFromStore","useSelector","state","admin","ui","sidebarOpen","sidebarPref","setSidebarPref","dispatch","useDispatch","stateRef","useRef","current","setSidebarVisibility","columnsContainer","margin","listItem","paddingLeft","listItemText","floatingIcon","position","top","right","floatingTooltip","action","disabled","titleContainer","alignItems","display","marginTop","titleIcon","marginRight","BookmarkIcon","root","button","form","PreferencesEditorContext","usePreferencesEditor","history","createMemoryHistory","PreferencesEditor","props","setHistory","Router","Route","path","render","PreferencesEditorDialogTitle","disable","setEditor","DialogTitle","disableTypography","size","backButton","location","pathname","goBack","BackIcon","Typography","align","closeButton","CloseIcon","cursor","padding","left","grey","PreferencesEditorDialogContext","EditorTitle","setTitle","__spreadArray","to","from","il","j","ReferenceFieldInput","label","resource","onChange","model","useResourceModel","fields","displayField","inferBestReferenceDisplayField","initialValue","fieldChoices","keys","field","getFieldLabelTranslationArgs","source","push","choices","setChoices","autocompleteFilter","createFilterOptions","Autocomplete","freeSolo","options","newKey","prev","inputValue","filterOptions","params","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","TextField","renderOption","option","getOptionLabel","FAVORITE_DISPLAY_FIELD_NAMES","types","best","entries","entry","toLowerCase","FieldTypeInput","FormControl","fullWidth","InputLabel","Select","labelId","FieldTypesChoices","InferenceTypes","marginBottom","ReferenceResourceInput","resources","getResources","getResourceLabel","useGetResourceLabel","resourcesChoices","preferencesKey","resourceModel","setResourceModel","inferResourceModel","values","getValuesFromRecords","forEach","fieldType","inferTypeFromValues","ResourceModelFieldEditor","saveModel","target","reference","referenceField","optionText","ResetSettingsButton","setOpen","setPrefs","Confirm","isOpen","loading","content","onConfirm","error","main","backgroundColor","background","paper","fade","ListItemLink","renderLink","forwardRef","itemProps","ref","RouterLink","ListItem","component","ResourceModelEditor","routeMatch","useRouteMatch","Switch","List","dense","ListItemText","primary","ResourcesModelsEditor","exact","EditResourcesModelsButton","PreferencesEditorRoot","PreferencesEditorDialog","editor","isEnabled","memoizedContext","useTheme","x","document","body","clientWidth","breakpoints","sm","y","dialogPosition","setDialogPosition","Modal","disableBackdropClick","hideBackdrop","disableEnforceFocus","disableScrollLock","BackdropComponent","Draggable","handle","cancel","defaultPosition","onStop","Paper","elevation","Provider","width","transition","transitions","overflowY","maxHeight","paddingTop","instructions","displayName","OpenEditorButton","SettingsIcon","translatedLabel","popper","zIndex","modal","element","boxShadow","popover","pointerEvents","popoverContent","maxWidth","toolbar","spacer","flexGrow","paddingRight","template","fontFamily","typography","fixed","dl","gridTemplateColumns","dt","dd","opacity","switch","editButton","addFieldButton","filterItemRow","filterItemField","flex","filterItemValue","deleteButton","height","objectInput","borderLeft","divider","paddingBottom","CHANGE_EXPANDED_NODES","EXPAND_NODE","UNSAVED_NEW_NODE","initialState","reducer","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","requestPayload","meta","resourceState","nodes","expanded","String","newExpanded","current_1","concat","filter","some","item","pop","_v","_w","console","warn","nodesToRemove_1","getNodesToRemove","idToRemove","reduce","acc","curr","parentId","_x","_y","fetchResponse","node","nodeId","ids","child","GET_LOCK","GET_LOCKS","LOCK","UNLOCK","useLock","useSubscribe","topic","subscriptionCallback","dataProvider","useDataProvider","subscribe","unsubscribe","useSubscribeToRecordList","EventType","getColor","darken","lighten","getBackgroundColor","body2","borderRadius","shape","warning","RealTimeMenuItemLink","primaryText","leftIcon","badgeColor","sidebarIsOpen","useLocation","countEvent","setCountEvent","count","isMenuActive","activeRecordId_1","getActiveRecordIdFromRoute","previous","handleMenuTap","renderMenuItem","classnames","activeClassName","active","NavLinkRef","StyledBadgeForIcon","badgeContent","ListItemIcon","icon","titleAccess","StyledBadgeForText","placement","NavLink","innerRef","text","secondary","minWidth","withStyles","badge","border","Badge","menuProps","currentPath","menuPath","startIndex","toString","endIndex","substring","flexDirection","justifyContent","translatedResourceName","smart_count","inflection","humanize","pluralize","RealTimeMenu","hasDashboard","onMenuClick","logout","isXSmall","useMediaQuery","down","shallowEqual","router","DashboardMenuItem","r","hasList","DefaultIcon","defaultProps","locksReducer","recordId","lock","newState","raRealTimeEnglishMessages","refresh","event_type","updated","created","deleted","notification","record","list","refreshed","lockedBySomeoneElse","lockedByMe","unlocked","noLock","cannotUnlock","AppBreadcrumbContext","AppBreadcrumbContextProvider","context","buildResourceLocationInfoPath","useResourceAppLocation","resourceLocationInfo","_i","resources_1","name_1","match","showMatch","RegExp","resourceId","matchEdit","resolveResourceLocationInfo","useAppLocationState","LocationContext","setLocation","DASHBOARD","ResourceLocationListener","resourceLocation","currentResourceLocation","defaultLocation","AppLocationContext","initialLocation","locations","timeout","optimizedSetLocation","appLocation","setTimeout","currentLocation","currentLocationLength","split","locationLength","getDeepestLocation","useAppLocationMatcher","pathToMatchParts","isMatch","part","index","useHasDashboard","Breadcrumb","variant","finalHasDashboard","dashboard","actions","Children","separatorResolver","separator","listStyle","textDecoration","resolveOrReturn","valueOrFunction","BreadcrumbItem","locationMatcher","exactMatch","resolvedLabel","resolvedTo","Link","useResourcesBreadcrumbPaths","selectedResources","paths","resourcePaths","resourceLabelPlural","resourceLabelSingular","linkToRecord","buildResourcesBreadcrumbPaths","DashboardBreadcrumbItem","ResourceBreadcrumbItems","resourcesPaths","disablePadding","MultiLevelMenuContext","useMultiLevelMenu","link","whiteSpace","gutters","nestedList","hiddenNestedList","MenuItemCategory","rootRef","subMenuRef","multiLevelMenuContext","isActive","isSubMenuOpen","setIsSubMenuOpenState","setIsSubmenuOpen","setIsOpen","callback","openingName","startsWith","onOpen","offOpen","hasSubItems","setHasCategories","focusables","querySelectorAll","focus","handleCloseSubMenu","Popover","anchorOrigin","AnchorOrigin","transformOrigin","TransformOrigin","container","popoverPaper","TransitionComponent","Slide","TransitionProps","style","appBar","vertical","horizontal","direction","common","white","caption","black","minHeight","borderTopLeftRadius","borderBottomLeftRadius","MultiLevelMenu","initialOpen","openedItems","isFirstLoad","setIsFirstLoad","openingListeners","Array","close","Set","add","toggle","hasCategories","l","navWithCategories","nav","defaultTheme","overrides","RaSidebar","drawerPaper","borderStyle","addButton","removeButton","borderWidth","borderColor","overflow","listHeader","borderBottom","selectedList","availableList","UsingRegexp","useReferenceManyToManyFieldController","sort","through","using","perPage","unique","sourceField","targetField","throughManyReferences","useGetManyReference","page","allReferencesIds","referencesIds","uniq","references","useGetMany","basePath","v","currentSort","loaded","total","ReferenceManyToManyField","sortBy","referenceManyToManyProps","ListContextProvider","displayedFilters","filterValues","hasCreate","onSelect","onToggleItem","onUnselectItems","hideFilter","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","order","addLabel","getReferenceManyToManyFormField","ManyToManyReferenceContext","useReferenceManyToManyInputController","validate","enabled","temporaryFieldName","temporaryFieldInitialValue","setTemporaryFieldInitialValue","temporaryField","useField","composeValidators","useForm","referenceIdsEffectSignature","join","targetId","change","resetFieldState","possibleValues","useGetList","input","refetch","handleChange","eventOrValue","onBlur","useManyToManyReferenceContext","registerManyToManyInput","unregisterManyToManyInput","ReferenceManyToManyInput","idOverride","format","onFocus","useInput","isRequired","childProps","helperText","translateChoice","limitChoicesToValue","only","raTreeEnglishMessages","drag_preview","root_target","item_moved","new_node","add_root","add_child","SearchInput","InputProps","placeholder","handleClickClearButton","preventDefault","handleFocus","handleBlur","clearButton","clearIcon","inputAdornmentEnd","inputAdornmentStart","visibleClearIcon","inputClassName","inputBaseClassName","inputBase","restClasses","inputProps","startAdornment","InputAdornment","SearchIcon","endAdornment","disableRipple","onMouseDown","handleMouseDownClearButton","ClearIcon","classNames","SearchResultContext","subHeader","query","raSearcheEnglishMessages","recent","resourceDefinition","singularize","useEventLabel","pluralizeResource","useRecordContext","actionPluralOptions","translateOptions","slice","all_fields","finalVariant","variantTranslationKeys","full","inline","record_many_fields","delete","deleteMany","update","updateMany","ActionField","actionLabel","sanitizeFieldRestProps","EventAvatar","src","fullName","Avatar","getInitials","PersonIcon","small","medium","toUpperCase","AvatarField","fullNameSource","role","AuthorField","authorResource","ReferenceField","author","ResourceField","flexWrap","authorContainer","avatar","date","card","subTitle","hover","events","up","cardContent","AccordionFormToolbar","alwaysEnableSaveButton","handleSubmit","handleSubmitWithRedirect","invalid","pristine","redirect","saving","submitOnEnter","undoable","valueOrDefault","Toolbar","mobileToolbar","desktopToolbar","defaultToolbar","SaveButton","DeleteButton","onSave","bottom","boxSizing","flexShrink","withWidth","initialWidth","DefaultAccordion","MuiAccordion","DefaultAccordionSummary","MuiAccordionSummary","DefaultAccordionDetails","MuiAccordionDetails","AccordionSection","Accordion","AccordionDetails","AccordionSummary","defaultExpanded","square","setExpanded","hasErrors","hasInputsWithError","getState","errors","expandIcon","summary","heading","secondaryHeading","FormInput","toArray","pxToRem","flexBasis","WizardProgress","currentStep","onStepClick","steps","handleStepClick","Stepper","activeStep","step","intent","Step","StepButton","StepLabel","raFormLayoutLanguageEnglish","next","defaultMessages","en","mergeTranslations","raRealTimeLanguageEnglish","duallistinput","select","unselect","availableItems","selectedItems","raTreeLanguageEnglish","raSearchLanguageEnglish","inline_event","record_event","record_many_fields_events","period_filters","today","this_week","this_month","this_quarter","englishMessages","buildI18nProvider","messages","mergedMessages","cloneDeep","polyglotI18nProvider","AppBar","DefaultAppBar","textOverflow","DefaultBreadcrumb","useTour","stateContextHook","StateContext","dispatchContextHook","DispatchContext","tooltipProps","continuous","backProps","closeProps","primaryProps","skipProps","isLastStep","stop","hideBackButton","showSkipButton","styles","output","back","skip","last","tooltip","tooltipContainer","tooltipTitle","tooltipContent","tooltipFooter","ErrorFallback","componentStack","resetErrorBoundary","Tour","tours","joyrideProps","running","stepIndex","activeTour","defaultJoyRideProps","stepJoyrideProps","ErrorBoundary","FallbackComponent","onError","onReset","Joyride","showProgress","disableCloseOnEsc","disableOverlayClose","spotlightClicks","tooltipComponent","run","tour","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","result","done","then","__generator","f","g","sent","trys","ops","verb","Symbol","iterator","op","waitAndReturn","getter","interval","maxTries","iterations","getterInterval","setInterval","clearInterval","TourProvider","tools","useReducer","start","before","stepBefore","querySelector","stepAfter","globalAfter","after","nextStep_1","nextTarget","previousStep_1","previousTarget","Layout","sidebar","menu","notify","useNotify","useRedirect","useRefresh","RA_TOUR_PREFERENCE_KEY","tourPreferences","setTourPreferences","DefaultLayout","DashboardIcon","buildThemeFromTypeMethod","lightTheme","darkTheme","merge","defaultDarkTheme","defaultLightTheme","RaTopToolbar","RaListToolbar","default","Admin","customReducers","i18nProvider","mergedCustomReducers","tree","locks","navigationTheme","DefaultAdmin","layout","FilterForm","filtersProps","filters","initialValues","useListContext","shownFilters","FilterContext","filterElement","alwaysOn","RaFilterForm","emptyForm","ListToolbar","isArray","ListActions","breadcrumb","exporter","filtersProp","useResourceContext","useResourceDefinition","TopToolbar","sanitizeListRestProps","FilterButton","CreateButton","ExportButton","ListView","aside","bulkActionButtons","Content","empty","defaultExporter","pagination","hasEdit","hasShow","syncWithLocation","controllerProps","getListControllerProps","listContext","defaultTitle","version","useVersion","shouldRenderEmptyPage","Title","bulkActionsDisplayed","BulkActionsToolbar","hasBulkActions","renderList","DefaultBulkActionButtons","BulkDeleteButton","Card","DefaultPagination","Empty","noResults","CHANGE_THEME","UPDATE_DASHBOARD","identity","darkMode","themeReducer","ResourceName","AccessActivePeriodStartingOptions","AccessBonuses","DayOfWeek","provider","getList","a","BlockType","fakeAccesses","bonus","N","entranceId","allowReenter","multipleEntry","multiple","usePriority","isTicketUnlockedWithNextDay","releaseTime","releaseDayOfWeek","Friday","releaseDayOfMonth","delay","activePeriod","activePeriodStartingFrom","FIRST_USE","variantsIds","accessDatesIds","createdById","modifiedById","createdAt","modifiedAt","BookingDisabledOption","BookingType","fakeBlocks","NUMBERED","code","tribuneId","bookingsIds","seatsIds","CustomerDocumentType","Gender","fakeBookingsList","NORMAL","STORNO","activeFrom","activeTo","eventId","seatId","blockId","customerId","variantId","ticketsIds","getOne","found","fakeCompanies","usersIds","eventsIds","EventStatus","fakeCustomers","firstname","lastname","company","birthdate","documentType","ID_CARD","pesel","documentNumber","nationality","gender","MALE","c","fakeDetectors","fakeDeviceCategories","devicesIds","fakeEngines","fakeEntrances","TicketType","fakeEvents","dateStart","dateEnd","status","INACTIVE","externalId","infix","objectsIds","fakeLogs","ticketCode","bookingId","deviceName","fakeObjects","tribunesIds","fakePalms","fakeSeats","rowAlias","numberAlias","fakeStatsOverallViewList","capacity","sold","entered","objects","TribuneType","fakeTickets","ticketType","K","accessUsingsIds","DeviceDirection","fakeTribunes","VIRTUAL","objectId","blocksIds","MANUAL","fakeUsers","fakeVariants","accessesIds","fakePassages","dataProviders","ACCESS_DATES","fakeAccessDatesProvider","ACCESSES","fakeAccessesProvider","ACCESS_USINGS","fakeAccessUsingsProvider","BOOKINGS","fakeBookingsProvider","COMPANIES","fakeCompaniesProvider","CUSTOMERS","fakeCustomersProvider","DETECTORS","fakeDetectorsProvider","DEVICE_CATEGORIES","fakeDeviceCategoriesProvider","ENGINES","fakeEnginesProvider","ENTRANCES","fakeEntrancesProvider","EVENTS","fakeEventsProvider","LOGS","fakeLogsProvider","OBJECTS","fakeObjectsProvider","PALMS","fakePalmsProvider","PASSAGES","fakePassagesProvider","STATS_OVERALL_VIEW","fakeStatsOverallViewProvider","STATS_OVERALL_VIEW_LIST","fakeStatsOverallViewListProvider","TRIBUNES","fakeTribunesProvider","BLOCKS","fakeBlocksProvider","SEATS","fakeSeatsProvider","TICKETS","fakeTicketsProvider","TICKET_LOGS","USERS","fakeUsersProvider","VARIANTS","fakeVariantsProvider","fetchType","sanitizeFetchType","authProvider","login","checkError","checkAuth","getPermissions","getIdentity","contentRangeParser","headerValue","rangeFrom","summarySecondPartSplit","rangeTo","parseInt","getToken","baseHeaders","authHeaders","token","Authorization","getWithHeaders","url","headers","fetchUtils","fetchJson","method","Headers","json","postWithHeaders","baseUrl","getWithToken","getByConditions","getWithPagination","range","post","patch","put","API_V1","process","AUTH_URL","ROLES_URL","ACCESSES_URL","ACCESS_DATES_URL","BOOKINGS_URL","CUSTOMERS_URL","EVENTS_URL","EXTENDED_LOGS_URL","TICKETS_URL","VARIANTS_URL","SEATS_URL","BLOCKS_URL","TRIBUNES_URL","OBJECTS_URL","ENGINES_URL","PALMS_URL","ADMINISTRATOR_URL","ENTRANCES_URL","DEVICE_CATEGORIES_URL","PASSAGES_URL","DETECTORS_URL","username","password","roleDtos","roles","formatDate","formatTime","ignoreTimezoneOffset","tzoffset","getTimezoneOffset","Date","getTime","filterParamsComposer","lambdaParameter","filterMapper","filterParams","mapper","val","queryParamsComposer","sortMapper","queryParams","mapping","accessId","timeFrom","timeTo","mapSortAccessDatesParam","pathParams","toISOString","priority","dayOfWeek","Authority","ticketId","mapSortAccessUsingsParam","pendingUpdates","auId","req","all","accessUsings","au","ticketIds","accessIds","request","flatMap","IN","verifierDeviceId","getMany","filterVariantId","otherValues","mapSortAccessParam","attachVariants","accessVariants","detachVariants","mapSortBlockParam","mapSortBookingParam","booking","filterEventId","mapSortCompanyParam","info","q","mapSortCustomerParams","customer","parentIds","notId","mapSortDeviceCategoryParam","deviceCategory","getDeviceCategories","categoryId","categoriesIds","selectedCategory","resolveParents","parentCategoriesfilters","deviceCategoryfilterMapper","childrenCategories","newChildren","cc","eventActive","ACTIVE","categoryIdWithDescendants","filterEntranceId","hardwareVersion","address","mapSortEngineParam","extendedFilter","engine","isWatched","onlineInfixCeck","multiplicity","attachEvents","engineEvents","detachEvents","attachEntrances","engineEntrances","detachEntrances","setTSCanCredentials","removeTSCanCredentials","unlock","setStandbyMode","mapSortPalmParam","palm","palmId","lockName","setMobileDeviceId","mobileDeviceId","resetMobileDeviceId","entrancesIds","note","filterVerifierDeviceId","mapSortEntranceParam","getManyReference","entrance","attachDevices","entranceDevices","detachDevices","mapSortEventParam","activate","deactivate","getCompanies","companies","attachCompanies","eventCompanies","detachCompanies","attachObjects","eventObjects","detachObjects","getDevices","devices","eventDevices","mapSortLogParam","mapToExtendedLog","scheme","device","logEntry","extendedLogs","dto","mapSortObjectParam","object","mapSortSeatParam","mapToEventOverallView","overallViewList","calculateCapacity","seats","bookings","b","mapToTribuneOverallView","tribune","blocks","enteredBookingIds","block","filteredSeats","filteredBookingIds","filteredBookings","book","filteredEnteredBookingIds","enteredBookingId","filteredEnteredBookings","enteredBookings","soldNormal","enteredNormal","soldAbo","ABO","enteredAbo","soldInfix","INFIX","enteredInfix","soldService","SERVICE","enteredService","soldPoints","POINTS","enteredPoints","mapToBlockOverallView","mapToOverallView","selectedEvent","tribunes","o","filteredTribunes","filteredBlocks","filteredSeatIds","mapToObjectOverallView","pendingSelectedEvent","pendingObjects","pendingTribunes","pendingBlocks","pendingSeats","bookingsCondition","pendingBookings","pendingEnteredBookings","overallViewData","bookingType","customerFirstname","customerLastname","customerPesel","mapSortTicketParam","ticket","mapSortTribuneParam","filterAccessId","mapSortVariantParam","attachAccesses","variantAccesses","detachAccesses","mapSortPassageParam","passage","freeEntrancesCount","freeExitsCount","ticketEntrancesCount","ticketExitsCount","unauthorizedEntrancesCount","unauthorizedExitsCount","resetCounters","response","setLockState","setPowerState","setPPOZState","setFreePassState","mapSortDetectorParam","accessDatesProvider","accessesProvider","accessUsingsProvider","bookingsProvider","companiesProvider","customersProvider","detectorsProvider","engineProvider","entrancesProvider","eventsProvider","logsProvider","objectsProvider","palmProvider","passagesProvider","statsOverallViewProvider","statsOverallViewListProvider","ticketsProvider","tribunesProvider","blocksProvider","seatsProvider","usersProvider","variantsProvider","deviceCategoriesProvider","i18n","changeLanguage","getLocale","areRolesOutOfSync","local","remote","every","has","validateRoles","rolesFromRemote","rolesFromLocalStorage","withSynchronizedPermissions","Proxy","overriddenTheme","body1","fontWeight","h5","RaFilter","closedWidth","LightTheme","deepPurple","green","DarkTheme","light","dark","contrastText","sidebarIsClosed","SubMenu","handleToggle","header","Collapse","in","unmountOnExit","easing","sharp","duration","leavingScreen","closed","AppMenu","avRes","menuStats","menuDevices","menuConfiguration","menuState","setMenuState","availableResources","userSelect","MenuItemLink","Receipt","Event","ViewComfy","Sort","transform","anyDeviceResourcesAvailable","VideoLabel","PhoneAndroid","AccountBalanceWallet","CenterFocusStrong","ArrowForward","Category","anyConfigurationResourcesAvailable","SettingsApplications","ExitToApp","Assessment","DirectionsWalk","AccountBalance","AppUserMenu","UserMenu","AppTopBar","userMenu","AppLayout","RoundInputBox","Box","RoundInputBoxBtn","RoundInputBoxFC","onValue","inputError","setInputError","setInputValue","handleClick","Input","disableUnderline","onInput","onKeyDown","ev","FormHelperText","FindCustomerByInfo","useHistory","setError","useMutation","mutate","fetchCustomers","GET_LIST","returnPromise","replace","onlyCustomer","search","CardHeader","CardContent","FindUserByTicket","fetchTickets","onlyTicket","DashboardItem","VIEW_USER_MANAGEMENT","VIEW_LOGS","VIEW_STATS_OVERALL_VIEW","VIEW_COMPANIES","EDIT_COMPANIES","CREATE_COMPANIES","VIEW_USERS","EDIT_USERS","CREATE_USERS","VIEW_ROLES","EDIT_ROLES","CREATE_ROLES","VIEW_ACCESS_DATES","EDIT_ACCESS_DATES","CREATE_ACCESS_DATES","VIEW_ACCESSES","EDIT_ACCESSES","CREATE_ACCESSES","VIEW_ACCESS_USINGS","EDIT_ACCESS_USINGS","CREATE_ACCESS_USINGS","VIEW_BLOCKS","EDIT_BLOCKS","CREATE_BLOCKS","VIEW_BOOKINGS","EDIT_BOOKINGS","CREATE_BOOKINGS","VIEW_CUSTOMERS","EDIT_CUSTOMERS","CREATE_CUSTOMERS","VIEW_EVENTS","EDIT_EVENTS","CREATE_EVENTS","VIEW_OBJECTS","EDIT_OBJECTS","CREATE_OBJECTS","VIEW_SCHEMES","EDIT_SCHEMES","CREATE_SCHEMES","VIEW_SEATS","EDIT_SEATS","CREATE_SEATS","VIEW_TICKETS","EDIT_TICKETS","CREATE_TICKETS","VIEW_TRIBUNES","EDIT_TRIBUNES","CREATE_TRIBUNES","VIEW_VARIANTS","EDIT_VARIANTS","CREATE_VARIANTS","VIEW_ENGINES","EDIT_ENGINES","CREATE_ENGINES","VIEW_PALMS","EDIT_PALMS","CREATE_PALMS","VIEW_PALM_SCHEME_DATA","EDIT_PALM_SCHEME_DATA","CREATE_PALM_SCHEME_DATA","VIEW_PASSAGES","EDIT_PASSAGES","CREATE_PASSAGES","VIEW_DETECTORS","EDIT_DETECTORS","CREATE_DETECTORS","VIEW_DEVICE_CATEGORIES","EDIT_DEVICE_CATEGORIES","CREATE_DEVICE_CATEGORIES","VIEW_ENTRANCES","EDIT_ENTRANCES","CREATE_ENTRANCES","hasAuthorityWithGivenPermissions","authority","permissions","permissionSet","mapAuthorityToRequiredPermissions","reqPerms","useHasAuthority","usePermissions","actionColumnsWithoutPadding","LastEvents","hasAuthority","FunctionField","EventDateField","toDateString","DateField","getHours","getMinutes","showTime","EventGrid","compactMode","smallScreen","rowClick","EventFilters","TextInput","SelectInput","EventList","Pagination","rowsPerPageOptions","getContrastColor","hexcolor","createStyles","verticalAlign","DateFilterInput","defaultFromDate","now","setHours","defaultToDate","dateFrom","setDateFrom","dateTo","setDateTo","touched","convertedDate","toJSON","alignSelf","VCenterGrid","Grid","VHCenterGrid","BookingButton","xSmallScreen","ShowButton","LogExpand","noBooking","xs","Divider","LogBody","rowStyle","expand","TableBody","DatagridRow","hour","minute","second","LogHeader","DatagridHeader","sortable","LogFilters","LogList","listProps","isRowExpandable","INACTIVE_COMPONENTS_KEY","textAlign","letterSpacing","lastLogs","TicketFinder","CustomerFinder","LastLogs","ResourceContextProvider","Dashboard","inactiveComponents","isItemActive","inactiveItems","titleTypographyProps","TICKET_FINDER","LAST_EVENTS","CUSTOMER_FINDER","LAST_LOGS","compsContainer","DashboardItemSwitch","dashboardItem","FormControlLabel","control","checked","labelPlacement","DashboardCustomization","Configuration","ButtonGroup","EditRowContext","getTableClickEventPosition","column","td","closest","tr","parentNode","columns","row","tbody","rows","visibility","emptyObject","EditableRow","mutationMode","isEdit","setEdit","openEditMode","closeEditMode","useUpdate","defaultOnSuccess","defaultOnFailure","useSaveModifiers","onFailure","onSuccess","onSuccessRef","setOnSuccess","onFailureRef","setOnFailure","transformRef","setTransform","save","onSuccessFromSave","onFailureFromSave","transformFromSave","CRUD_UPDATE","saveContext","rowContext","SaveContextProvider","quitEditMode","CreateRowContext","EditableDatagridCreateForm","createForm","hasStandaloneCreateForm","isStandaloneCreateFormVisible","closeStandaloneCreateForm","useCreate","hideCreateForm","CRUD_CREATE","createFormElement","selectable","EditableDatagridBody","isRowSelectable","editForm","rowIndex","EditableDatagridRow","rowEven","rowOdd","clickableRow","selected","muiName","CancelEditButton","CancelIcon","AddIcon","DeleteWithConfirmIconButton","confirmTitle","confirmContent","redirectTo","mode","getMutationMode","useDeleteWithConfirmController","handleDialogOpen","handleDialogClose","handleDelete","ActionDelete","DeleteWithUndoIconButton","useDeleteWithUndoController","DeleteRowButton","EditRowButton","ContentCreate","InlineCreateButton","SaveRowButton","dirty","evt","stopPropagation","ContentSave","ActionsColumn","noDelete","EditableDatagrid","useDatagridStyles","setShowStandaloneCreateForm","openStandaloneCreateForm","isInListView","datagridBody","Datagrid","actionColumn","RowForm","useSaveContext","Form","onSubmit","TableRow","TableCell","ExpandRowButton","Checkbox","cellClassName","labelRightIcon","smallIcon","mediumIcon","largeIcon","alignIcon","useSmallVersion","useSmallVersionBreakpoint","restProps","AccessDateTypes","MappedChipField","mappedValue","Labeled","Chip","MobilePostPagination","nbPages","Math","ceil","AccessList","URLSearchParams","ToggleType","ParameterizedCreateButton","searchParams","_scrollToTop","scrollToTop","allowEmpty","emptyText","formClassName","headerClassName","linkType","sortByOrder","CheckboxField","checkBySource","RelationTab","attachMethod","detachMethod","attachRequestPayload","detachRequestPayload","refetchListAfterChange","relationsRequestMethod","relationsRequestPayload","filterDefaultValues","useShowContext","recordResource","useQuery","relationsDto","refetchRelationsIds","handleAttach","idsToAttach","handleDetach","idsToDetach","isAttached","relatedRecordId","Actions","refetchList","getFilteredRelatedRecordsIds","handleAttachAll","handleDetachAll","AttachedCheckbox","tableLayout","ShowTitle","GeneralActions","access","EditButton","AccessDetailsTab","displayActions","SimpleShowLayout","NO_LIMIT","AccessDateExpand","accessDate","justify","NumberField","AccessDatesList","predefinedAccessId","EditForm","editProps","DateTimeInput","NumberInput","AccessDatesTab","AccessUsingsExpand","AccessUsingsGrid","patchAccess","UPDATE_MANY","Power","PowerOff","AccessUsingsList","AccessUsingsTab","accessUsingsTicketsIdsFilter","selectedAccess","AccessTabs","RelationFilter","filterProps","BooleanInput","TabbedShowLayout","Tab","AccessShow","blockMutation","ticketDetails","CREATE","unblockMutation","activeAccessUsingIds","blockAccessButtonInitialState","DISABLED","toggleAccessButtonReducer","BLOCK","mutateQuery","UNBLOCK","ToggleBookingAccessButton","mutationLoading","tickets","useQueryWithStore","GET_MANY","GET_ONE","blockTicketButtonInitialState","toggleTicketButtonReducer","mutateParam","ADMIN","ToggleBookingBlockadeButton","UPDATE","BookingTicketCreate","BookingTicketEdit","day","month","year","BookingTicketsGrid","BookingTickets","Filters","BookingLogsView","ProfileDetailsView","AccessDetailsView","startIcon","newQueryParams","StatusButtons","BookingHeader","m","paragraph","BookingView","BookingTabs","BookingShow","SelectWithPaginationInput","createLabel","createValue","emptyValue","onCreate","optionValue","paginationProps","useChoices","getChoiceText","getChoiceValue","submitError","renderEmptyItemOption","renderMenuItemOption","choice","newItem","useSupportCreateSuggestion","getCreateItem","handleChangeWithCreateSupport","ResettableTextField","FieldTitle","clearAlwaysVisible","InputHelperText","createItem","renderCreateItem","disableValue","HardwareVersions","CreateToolbar","ListButton","validateAccessCreate","Number","isNaN","CreateTitle","AccessCreate","required","ReferenceInput","defaultChecked","validateAccessEdit","EditTitle","EditToolbar","AccessEdit","QuickFilter","AccessFilters","validateVariantCreate","VariantCreate","validateVariantEdit","VariantEdit","VariantsFilters","VariantList","VariantTabs","VariantShow","validateCustomerCreate","CustomersCreate","validateCustomerEdit","CustomerEdit","MaskField","properRecord","word","threshold","firstChars","lastChars","restCharsLength","repeat","maskMiddlePart","CustomerGrid","smallDevice","CustomerFilters","CustomerList","CustomerDetailsTab","BookingsList","BookingsTab","LogsTab","CustomerTabs","bookingPresent","CustomerDetailsView","validateDeviceCategoryCreate","DeviceCategoryCreate","validateDeviceCategoryEdit","DeviceCategoryTitle","DeviceCategory","useEditContext","DeviceCategoryEdit","DeviceCategoryFilters","DeviceCategoryGrid","DeviceCategoryList","DeviceCategroy","DeviceCategoryShow","Multiplicities","validateDetectorCreate","Detector","DetectorCreate","validateDetectorEdit","DetectorEdit","DetectorFilters","DetectorList","detector","DetectorShow","StanbyMode","validateEngineCreate","EngineCreate","SINGLE","MODULO5","validateEngineEdit","Engine","stanbyMode","EngineEdit","EngineFilters","EngineGrid","EngineList","SPOM4Directions","dialogProperty","ConfirmDialog","confirm","Dialog","DialogActions","SetTSCanCredentialsModal","loginValue","setLoginValue","useStateRef","loginError","setLoginError","loginErrorCurrentValue","loginErrorText","setLoginErrorText","passwordValue","setPasswordValue","passwordError","setPasswordError","passwordErrorCurrentValue","passwordErrorText","setPasswordErrorText","confirmOpen","setConfirmOpen","handleClose","handleSetTSCanCredentials","engineId","DialogContent","autoComplete","SetStandbyModeModal","setValue","handleSetStandbyMode","ALWAYS_ON","ALWAYS_OFF","SENSOR","LockModal","errorText","setErrorText","handleLock","lockModalOpen","setLockModalOpen","unlockDialogOpen","setUnlockDialogOpen","standbyModeModalOpen","setStandbyModeModalOpen","removeTSCanCredentialsDialogOpen","setRemoveTSCanCredentialsDialogOpen","tsCanCredentialsModalOpen","setTSCanCredentialsModalOpen","handleRemoveTSCanCredentials","EngineTabs","EventsFilter","EntrancesFilter","EngineShow","validatePalmCreate","PalmCreate","validatePalmEdit","Palm","PalmEdit","PalmFilters","PalmGrid","PalmList","DeviceIdModal","handleSetMobileDeviceId","deviceIdModalOpen","setDeviceIdModalOpen","resetIdDialogOpen","setResetIdDialogOpen","PalmTabs","PalmShow","DeviceModuleTypes","SPOM4FullAddressField","addressParts","SPOM4IpGateAddressField","SPOM4FullAddressInput","initialAddressParts","ipGate","setIpGate","tscanHost","setTScanHost","setDirection","rs485Address","setRS485Address","getFinalValue","validatePassageCreate","SPOM4","spom4_ipGate","spom4_tscanHost","spom4_direction","spom4_rs485Address","PassageCreate","setHardwareVersion","defaultValues","validatePassageEdit","Passage","PassageEdit","PassageFilters","PassagesGrid","PassagesList","moduleObject","moduleMapper","moduleType","module","typeId","moduleTypeEnum","moduleObjectWithId","simpleShowLayoutWithNoPadding","terminatedModuleHeader","borderTop","borderRight","borderTopRightRadius","borderTopColor","borderRightColor","borderLeftColor","terminatedModuleDetails","borderBottomRightRadius","borderBottomColor","ModuleStatusBase","moduleInfo","disableAliasHeader","convertedSerialNumber","serialNumber","originalProductionVersion","productionVersion","convertedProductionVersion","convertedModuleInfo","Body","childrenProps","md","RecordContext","ModuleStatus","fireAlarms","TableContainer","Table","TableHead","allPortsStates","forwardStatus","backwardStatus","fireAlarm","BooleanField","fireAlarmType","powerTurnedOn","freePassForward","freePassBackward","keyLock","tamperLock","directionReversed","turnstileControllerError","ledsColor","bgcolor","isPresenterActive","standbyMode","sensorId","scannerError","mifareError","flashError","sdCardError","licenceError","scannerFirmwareError","contentType","contentNumber","contrast","temperature","humidity","move","fan","heater","moveSensorTimeout","MultiModuleStatus","lastRefresh","valueOf","DeviceStatusesTab","rawJsonStatus","jsonStatus","modules","camelcaseKeys","deep","passageId","generalActions","CountersActions","countersModalOpen","setCountersModalOpen","handleResetCounters","CountersTab","PassageTabs","PassageShow","validateEntranceCreate","EntranceCreate","validateEntranceEdit","EntranceEdit","EntranceFilters","EntranceList","EntranceTabs","DevicesFilters","verifierDevicesIds","EntranceShow","validateEventCreate","RelationInputTab","sourceProperty","relationsIds","listSort","listColumns","EventCreate","TabbedForm","FormTab","validateEventEdit","EventEdit","handleActivation","IN_TRANSITION","EventTabs","CompaniesFilters","ObjectsFilters","EnginesFilters","PalmsFilters","companiesIds","EventShow","BlockCreate","objectIdRaw","BlocksGrid","EmptyView","BlocksList","ObjectCreate","ObjectEdit","ListFilters","ObjectGrid","ObjectList","SeatsGrid","SeatsList","TribuneGrid","TribunesList","ObjectShowTitle","ObjectShow","useShowController","SeatCreate","TribuneCreate","noBottomBorder","quarterWidth","ViewTitle","description","BlockGrid","firstColumnEntries","secondColumnEntries","thirdColumnEntries","TribuneHeader","ArrayField","OverallView","OverallViewGrid","OverallViewFilters","OverallViewList","TicketExpand","TicketGrid","TicketFilters","TicketList","validateAccessDateCreate","AccessDateCreate","accessIdRaw","generateResourcesBasedOnPermissions","Resource","ReceiptIcon","show","edit","ViewComfyIcon","dashboardReducer","App","env","fakeAuthProvider","fakeDataProvider","providersFactory","customRoutes","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lng","use","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","pl","translation","plTranslation","enTranslation","ReactDOM","StrictMode","getElementById"],"mappings":"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jZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,MACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,GACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,gBAUIohC,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAMqoC,GAAUpf,MAAOof,GAASjsC,WChGhDqsC,GAA2B,CAC/B,CACExkC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACbl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","file":"static/js/main.ed12b105.chunk.js","sourcesContent":["import { createContext } from 'react';\n/**\n * A context for preferences related configuration.\n */\nexport var PreferencesContext = createContext(undefined);\n","export var RA_PREFERENCE_WORKSPACE = 'preferences';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport get from 'lodash/get';\nimport { RA_PREFERENCE_WORKSPACE } from './constants';\nexport var getPreferencesStorage = function () {\n    if (localStorageAvailable == undefined) {\n        localStorageAvailable = testLocalStorage();\n    }\n    return localStorageAvailable ? window.localStorage : memoryStorage;\n};\n/**\n * reads key preference from storage\n *\n * @param {string} key Path of the preference key to read, uses lodash.get\n *\n * @return {T} Preference value\n\n * @example // Read full preferences\n *\n * const preferences = readStorage<PreferenceType>();\n *\n * @example // read preference for a particular key\n *\n * const density = readStorage<string>('density');\n\n * @example // read preference for a deep key\n *\n * const columns = readStorage<string[]>('orders.list.columns');\n */\nexport var readStorage = function (key) {\n    var preferences = JSON.parse(getPreferencesStorage().getItem(RA_PREFERENCE_WORKSPACE)) ||\n        {};\n    if (key) {\n        return tryParse(get(preferences, key));\n    }\n    return (tryParse(preferences) || {});\n};\n/**\n * sets key preference to value on the preference storage\n *\n * @param {string} key Path of the preference key to update, uses lodash.set\n * @param {T} value New preference value\n *\n * @return {void}\n *\n * @example // Write full preferences to localstorage\n *\n * writeStorage<PreferenceType>('', {\n *      users: {\n *          lists: {\n *              columns: ['id', 'address'],\n *          },\n *      },\n *  });\n *\n * @example // Update preference for a particular key\n *\n * writeStorage<string>('density', 'small');\n *\n * @example // Update preference for a deep key\n *\n * writeStorage<string[]>('orders.list.columns', ['id', 'date', 'customer']);\n */\nexport var writeStorage = function (key, value) {\n    var storage = getPreferencesStorage();\n    try {\n        var preferences = JSON.parse(storage.getItem(RA_PREFERENCE_WORKSPACE)) || {};\n        var newPreferences = key === '' ? value : set(__assign({}, preferences), key, value);\n        storage.setItem(RA_PREFERENCE_WORKSPACE, JSON.stringify(newPreferences));\n        window.dispatchEvent(PreferencesChanged.create(newPreferences));\n        return newPreferences;\n    }\n    catch (err) {\n        if (err instanceof TypeError &&\n            err.message.includes('circular structure')) {\n            throw new TypeError('The object that was given to the writeStorage function has circular references.\\n' +\n                'For more information, check here: ' +\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value');\n        }\n        throw err;\n    }\n};\nexport var overwriteStorage = function (value) {\n    var storage = getPreferencesStorage();\n    storage.setItem(RA_PREFERENCE_WORKSPACE, JSON.stringify(value));\n};\nvar localStorageAvailable = undefined;\nvar storage = {};\nvar memoryStorage = {\n    getItem: function (key) {\n        return get(storage, key);\n    },\n    setItem: function (key, value) {\n        set(storage, key, value);\n    },\n};\nvar tryParse = function (value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nvar testLocalStorage = function () {\n    if (window.localStorage == undefined) {\n        return false;\n    }\n    try {\n        window.localStorage.setItem('test', 'test');\n        window.localStorage.removeItem('test');\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n};\nexport var PreferencesChanged = {\n    eventName: 'onPreferencesChange',\n    create: function (payload) {\n        return new CustomEvent(PreferencesChanged.eventName, {\n            detail: payload,\n        });\n    },\n};\n","// Part of this code comes from rehooks useLocalStorage\n// (https://github.com/rehooks/local-storage/blob/master/src/use-localstorage.ts)\n// We needed to reimplement it, because we don't want the hook to rerender\n// the component subscribe to preference \"density\" when another component\n// sets any other preference\nimport { useEffect, useState, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { usePreferencesContext } from './usePreferencesContext';\nimport { RA_PREFERENCE_WORKSPACE } from './constants';\nimport { getPreferencesStorage, PreferencesChanged, readStorage, writeStorage, } from './preferencesStorage';\n/**\n * useState-like hook with localStorage persistence. Syncs changes between tabs.\n *\n * Preferences are stored in a tree structure, to allow retrievalm of the complete\n * preferencs list and namespacing.\n *\n * @param {string} path Name of the preference. Separate with dots to namespace, e.g. 'posts.list.columns'. Leave empty to retrieve the entire preference tree.\n * @param {any} defaultValue Default value\n *\n * @return {Object} A value and a setter for the value, in an array - just like for useState()\n *\n * Depending on the argument passed to usePreferences(), the return tuple concerns\n * either a single value, or the whole preference tree.\n *\n * @example // Here is how to **read a single value** from the preference store, with a default value\n *\n * import { usePreferences } from '@react-admin/ra-preferences';\n *\n * const PostList = props => {\n *     const [density] = usePreferences(\n *         'posts.list.density',\n *         'small'\n *     );\n *\n *     return (\n *         <List {...props}>\n *             <Datagrid size={density}>\n *                 ...\n *             </Datagrid>\n *         </List>\n *     );\n * }\n *\n * @example // To **write a single value** use the second return value:\n *\n * const ChangeDensity: FC<any> = () => {\n *     const [density, setDensity] = usePreferences(\n *         'posts.list.density',\n *         'small'\n *     );\n *\n *     const changeDensity = (): void => {\n *         setDensity(density === 'small' ? 'medium' : 'small');\n *     };\n *\n *     return (\n *         <Button onClick={changeDensity}>\n *             {`Change density (current ${density})`}\n *         </Button>\n *     );\n * };\n *\n * @example // To **read and write the entire preferences tree**, don't pass any argument to the hook. You will find this option useful when building a preferences Form:\n *\n * import { usePreferences } from '@react-admin/ra-preferences';\n * import { useNotify } from 'react-admin';\n * import { Form, Field } from 'react-final-form'\n *\n * const PreferencesPane = () => {\n *     const [preferences, setPreferences] = usePreferences();\n *     const notify = useNotify();\n *\n *     const handleSave = values => {\n *         setPreferences(values);\n *         notify('preferences saved');\n *     }\n *\n *     return (\n *         <Form\n *             initialValues={preferences}\n *             onSubmit={handleSave}\n *             render={({ handleSubmit }) => (\n *                 <form onSubmit={handleSubmit}>\n *                     <div>\n *                         <label>Post list density</label>\n *                         <Field name=\"posts.list.density\" component=\"select\">\n *                             <option value=\"small\">Small</option>\n *                             <option value=\"medium\">Medium</option>\n *                         </Field>\n *                     </div>\n *                     <button type=\"submit\">Submit</button>\n *                 </form>\n *             )}\n *         />\n *     );\n * }\n *\n * **Tip**: The preferences API is synchronous, because preferences are stored in memory, and replicated in localStorage. So even though localStorage has an async API, the preferences API is synchronous.\n */\nexport var usePreferences = function (key, defaultValue) {\n    if (key === void 0) { key = ''; }\n    var _a = useState(function () {\n        var storedValue = readStorage(key);\n        return typeof storedValue === 'undefined' ? defaultValue : storedValue;\n    }), localState = _a[0], updateLocalState = _a[1];\n    var preferencesContext = usePreferencesContext();\n    var onPreferencesChange = function (event) {\n        // preference events are custom events we send when modifying  preferences\n        // from the same tabs (because local storage events won't fire in the same tab)\n        // custom events payload contain full preferences, so we get the value we're\n        // subscribed to from the new preferences\n        var newValue = get(event.detail, key /* my own key */);\n        // and we update our state no matter what. If same value, it won't redraw anyway\n        updateLocalState(newValue);\n    };\n    var onLocalStorageChange = function (event) {\n        if (event.key !== RA_PREFERENCE_WORKSPACE) {\n            return;\n        }\n        // localStorage events send the full localstorage value (ie. full preferences)\n        // there's a chance we're concerned or not by the event\n        // so we get the value we're subscribed to from the new preferences\n        var preferences = JSON.parse(event.newValue);\n        var newValue = get(preferences, key /* my own key */);\n        // and we update our state no matter what. If same value, it won't redraw anyway\n        updateLocalState(newValue);\n    };\n    // when the key changes, update localState to reflect it.\n    useEffect(function () {\n        var storedValue = readStorage(key);\n        updateLocalState(typeof storedValue === 'undefined' ? defaultValue : storedValue);\n    }, [key]); // eslint-disable-line react-hooks/exhaustive-deps\n    useEffect(function () {\n        // the custom storage event allows us to update our component\n        // when a change occurs in localStorage outside of our component (same browser tab)\n        window.addEventListener(PreferencesChanged.eventName, onPreferencesChange);\n        // the storage event only works in the context of other documents (eg. other browser tabs)\n        window.addEventListener('storage', onLocalStorageChange);\n        var canWrite = getPreferencesStorage().getItem(RA_PREFERENCE_WORKSPACE) === null;\n        // write initial value to the local storage if it's not present or contains invalid JSON data.\n        if (defaultValue !== undefined && canWrite) {\n            writeStorage(key, defaultValue);\n        }\n        return function () {\n            window.removeEventListener(PreferencesChanged.eventName, onPreferencesChange);\n            window.removeEventListener('storage', onLocalStorageChange);\n        };\n    }, [key]); // eslint-disable-line react-hooks/exhaustive-deps\n    var writeState = useCallback(function (value) {\n        var previousData = readStorage();\n        var data = writeStorage(key, value);\n        // PreferencesContext is optional\n        if (preferencesContext) {\n            preferencesContext.updatePreferences(data, previousData);\n        }\n    }, [key, preferencesContext]);\n    return [localState === undefined ? defaultValue : localState, writeState];\n};\n","import { useContext } from 'react';\nimport { PreferencesContext } from './PreferencesContext';\n/**\n * A hook to retrieve the PreferencesContext which gives access to preferences related configuration.\n * @returns {PreferencesContextValue} The PreferencesContext value\n */\nexport var usePreferencesContext = function () { return useContext(PreferencesContext); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useMemo, cloneElement, isValidElement } from 'react';\nimport { usePreferences } from '..';\nvar defaultThemeFromType = function (type) { return ({\n    palette: { type: type },\n}); };\n/**\n * Inject a MUI theme object to its child component based on the theme in preferences\n *\n * @example\n *\n *     export const App = () => (\n *         <PreferencesBasedThemeProvider>\n *             <Admin dataProvider={dataProvider}>\n *                 <Resource name=\"posts\" list={PostList} />\n *             </Admin>\n *         </PreferencesBasedThemeProvider>\n *     );\n *\n * @param {function} themeFromType Function returning a MUI Theme based on the theme string stored in preferences. Defaults to type => ({ palette: { type } }).\n *\n * Additional props are passed down to the child component.\n */\nexport var PreferencesBasedThemeProvider = function (_a) {\n    var children = _a.children, _b = _a.themeFromType, themeFromType = _b === void 0 ? defaultThemeFromType : _b, rest = __rest(_a, [\"children\", \"themeFromType\"]);\n    var type = usePreferences('theme', 'light')[0];\n    var theme = useMemo(function () { return themeFromType(type); }, [type] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    if (!isValidElement(children)) {\n        throw new Error('PreferencesBasedThemeProvider must be used with a valid child');\n    }\n    return cloneElement(children, __assign({ theme: theme }, rest));\n};\n","import React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport { useTranslate } from 'react-admin';\nimport { usePreferences } from '..';\n/**\n * Button toggling the theme (light or dark) in the preferences.\n *\n * To be used in conjunction with PreferencesBasedThemeProvider.\n *\n * @see PreferencesBasedThemeProvider\n *\n * @example\n *\n *     const MyAppBar: FC = props => (\n *         <AppBar {...props}>\n *             <Box flex=\"1\">\n *                 <Typography variant=\"h6\" id=\"react-admin-title\"></Typography>\n *             </Box>\n *             <ToggleThemeButton />\n *         </AppBar>\n *     );\n *\n *     const MyLayout: FC = props => <Layout {...props} appBar={MyAppBar} />;\n */\nexport var ToggleThemeButton = function () {\n    var translate = useTranslate();\n    var _a = usePreferences('theme', 'light'), theme = _a[0], setTheme = _a[1];\n    var handleTogglePaletteType = function () {\n        setTheme(theme === 'light' ? 'dark' : 'light');\n    };\n    var toggleThemeTitle = translate('ra-preferences.action.toggle_theme', {\n        _: 'Toggle Theme',\n    });\n    return (React.createElement(Tooltip, { title: toggleThemeTitle, enterDelay: 300 },\n        React.createElement(IconButton, { color: \"inherit\", onClick: handleTogglePaletteType, \"aria-label\": toggleThemeTitle }, theme === 'light' ? React.createElement(Brightness4Icon, null) : React.createElement(Brightness7Icon, null))));\n};\n","import React from 'react';\nimport { useLocale } from 'react-admin';\nimport { Button, Menu, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LanguageIcon from '@material-ui/icons/Translate';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useSetLocaleAndPreference } from './useSetLocaleAndPreference';\n/**\n * Language selector. Changes the locale in the app and persists it in\n * preferences so that the app opens with the right locale in the future.\n *\n * @example\n *\n *     const MyAppBar: FC = props => (\n *         <AppBar {...props}>\n *             <Box flex=\"1\">\n *                 <Typography variant=\"h6\" id=\"react-admin-title\"></Typography>\n *             </Box>\n *             <LanguageSwitcher\n *                 languages={[\n *                     { locale: 'en', name: 'English' },\n *                     { locale: 'fr', name: 'Franais' },\n *                 ]}\n *             />\n *         </AppBar>\n *     );\n */\nexport var LanguageSwitcher = function (_a) {\n    var languages = _a.languages, _b = _a.defaultLanguage, defaultLanguage = _b === void 0 ? '' : _b;\n    var classes = useStyles();\n    var _c = React.useState(null), anchorEl = _c[0], setAnchorEl = _c[1];\n    var locale = useLocale();\n    var setLocale = useSetLocaleAndPreference();\n    var getNameForLocale = function (locale) {\n        var language = languages.find(function (language) { return language.locale === locale; });\n        return language ? language.name : defaultLanguage;\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    var changeLocale = function (locale) { return function () {\n        setLocale(locale);\n        setAnchorEl(null);\n    }; };\n    var handleLanguageClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { color: \"inherit\", \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", onClick: handleLanguageClick },\n            React.createElement(LanguageIcon, null),\n            React.createElement(\"div\", { className: classes.languageContainer }, getNameForLocale(locale)),\n            React.createElement(ExpandMoreIcon, { fontSize: \"small\" })),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, languages.map(function (language) { return (React.createElement(MenuItem, { key: language.locale, onClick: changeLocale(language.locale) }, language.name)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    languageContainer: {\n        marginLeft: theme.spacing(1),\n    },\n}); });\n","import { useEffect, useCallback } from 'react';\nimport { useSetLocale } from 'react-admin';\nimport { usePreferences } from '..';\n/**\n * Set the locale in the app and in the preferences.\n *\n * On mount, set the app locale based on preferences.\n *\n * @example\n *\n * import { useSetLocaleAndPreference } from '@react-admin/ra-preferences';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocaleAndPreference();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n *\n * @param {string} defaultLocale Default locale\n */\nexport var useSetLocaleAndPreference = function (defaultLocale) {\n    var setLocale = useSetLocale();\n    var _a = usePreferences('locale', defaultLocale), locale = _a[0], setLocaleInPreferences = _a[1];\n    // set language based on preferences\n    useEffect(function () {\n        if (locale) {\n            setLocale(locale);\n        }\n    }, [locale, setLocale]);\n    return useCallback(function (locale) {\n        setLocale(locale);\n        setLocaleInPreferences(locale);\n    }, [setLocale, setLocaleInPreferences]);\n};\n","import { useEffect, useRef } from 'react';\nimport { setSidebarVisibility } from 'react-admin';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { usePreferences } from '../';\n/**\n * Save Sidebar open status in Preferences, and restore it on load.\n *\n * @example\n *\n *     import { SidebarOpenPreferenceSync } from '@react-admin/ra-preferences';\n *\n *     const MyLayout = props => (\n *         <>\n *             <SidebarOpenPreferenceSync />\n *             <Layout {...props} />\n *         </>\n *     );\n *\n *     export const App = () => (\n *         <Admin dataProvider={dataProvider} layout={MyLayout}>\n *             ...\n *         </Admin>\n *     );\n */\nexport var SidebarOpenPreferenceSync = function () {\n    var sidebarOpenFromStore = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var _a = usePreferences('ui.sidebarOpen'), sidebarPref = _a[0], setSidebarPref = _a[1];\n    var dispatch = useDispatch();\n    var stateRef = useRef();\n    useEffect(function () {\n        if (typeof stateRef.current === 'undefined') {\n            // first mount\n            stateRef.current =\n                typeof sidebarPref !== 'undefined'\n                    ? sidebarPref\n                    : sidebarOpenFromStore;\n            if (typeof sidebarPref !== 'undefined' &&\n                sidebarPref !== sidebarOpenFromStore) {\n                // restore preference\n                dispatch(setSidebarVisibility(sidebarPref));\n            }\n        }\n        else {\n            if (stateRef.current !== sidebarOpenFromStore) {\n                // sidebar state changed in store\n                if (sidebarPref !== sidebarOpenFromStore) {\n                    // store latest state in preferences\n                    setSidebarPref(sidebarOpenFromStore);\n                    stateRef.current = sidebarOpenFromStore;\n                }\n            }\n            else {\n                // sidebar preference changed in localStorage (probably from another window)\n                if (sidebarPref != undefined &&\n                    sidebarPref !== sidebarOpenFromStore) {\n                    // store latest preference in state\n                    dispatch(setSidebarVisibility(sidebarPref));\n                    stateRef.current = sidebarPref;\n                }\n            }\n        }\n    }, [dispatch, sidebarPref, setSidebarPref, sidebarOpenFromStore]);\n    return null;\n};\n","import React from 'react';\nimport { FormControlLabel, Checkbox } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useListContext, getFieldLabelTranslationArgs, } from 'react-admin';\nimport classnames from 'classnames';\nimport { usePreferences } from '../usePreferences';\nexport var SelectColumnsMenu = function (_a) {\n    var preference = _a.preference, columns = _a.columns, className = _a.className;\n    var classes = useStyles();\n    var _b = usePreferences(preference, Object.keys(columns)), columnsPref = _b[0], setColumnsPref = _b[1];\n    var translate = useTranslate();\n    var resource = useListContext().resource;\n    var addColumn = function (event) {\n        setColumnsPref(Object.keys(columns).filter(function (name) { return name === event.target.name || columnsPref.includes(name); }));\n    };\n    var removeColumn = function (event) {\n        // always leave at least one column\n        if (columnsPref.length > 1) {\n            setColumnsPref(columnsPref.filter(function (name) { return name !== event.target.name; }));\n        }\n    };\n    return (React.createElement(\"div\", { className: classnames(classes.columnsContainer, className) }, Object.keys(columns).map(function (name) { return (React.createElement(\"div\", { key: name },\n        React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { name: name, checked: columnsPref.includes(name), onClick: columnsPref.includes(name)\n                    ? removeColumn\n                    : addColumn }), label: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: columns[name].props.label,\n                resource: resource,\n                source: name,\n            })) }))); })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    columnsContainer: {\n        margin: theme.spacing(1) + \"px \" + theme.spacing(2) + \"px\",\n    },\n}); });\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useListContext } from 'react-admin';\nimport isEqual from 'lodash/isEqual';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'query-string';\nvar useStyles = makeStyles({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n});\nvar SavedQueryFilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListContext(), filterValues = _a.filterValues, currentSort = _a.currentSort, perPage = _a.perPage, displayedFilters = _a.displayedFilters;\n    var history = useHistory();\n    var classes = useStyles(props);\n    var isSelected = isEqual(value, {\n        filter: filterValues,\n        sort: currentSort,\n        perPage: perPage,\n        displayedFilters: displayedFilters,\n    });\n    var addFilter = function () {\n        history.push({\n            search: stringify({\n                filter: JSON.stringify(value.filter),\n                sort: value.sort.field,\n                order: value.sort.order,\n                page: 1,\n                perPage: value.perPage,\n                displayedFilters: value.displayedFilters,\n            }),\n        });\n    };\n    var removeFilter = function () {\n        history.push({\n            search: stringify({\n                filter: JSON.stringify({}),\n            }),\n        });\n    };\n    var toggleFilter = function () {\n        return isSelected ? removeFilter() : addFilter();\n    };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: label, className: classes.listItemText }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        isEqual(prevProps.value, nextProps.value);\n};\nexport default memo(SavedQueryFilterListItem, arePropsEqual);\n","import * as React from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useListContext, useTranslate } from 'react-admin';\nimport { Tooltip, Typography, List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BookmarkIcon from '@material-ui/icons/BookmarkBorder';\nimport HelpIcon from '@material-ui/icons/HelpOutline';\nimport { useSavedQueries } from './useSavedQueries';\nimport SavedQueryFilterListItem from './SavedQueryFilterListItem';\nimport { AddSavedQueryIconButton } from './AddSavedQueryIconButton';\nimport { RemoveSavedQueryIconButton } from './RemoveSavedQueryIconButton';\nvar useStyles = makeStyles(function (theme) { return ({\n    floatingIcon: {\n        position: 'absolute',\n        top: '-1.8em',\n        right: 0,\n    },\n    floatingTooltip: {\n        position: 'absolute',\n        top: '-1.2em',\n        right: 3,\n        color: theme.palette.action.disabled,\n    },\n    titleContainer: {\n        alignItems: 'center',\n        display: 'flex',\n        marginTop: theme.spacing(2),\n    },\n    titleIcon: {\n        marginRight: theme.spacing(1),\n    },\n}); });\n/**\n * FilterList-like component allowing to save and restore a query (filters, sort, perPage).\n *\n * Use this component in a Filter sidebar to let users store custom queries\n * that they can reuse later. The saved queries will appear as FilterListItems,\n * and can be removed.\n *\n * This component uses usePreference under the hood to store saved queries in\n * localStorage, one set of saved queries per resource.\n *\n * @example\n *\n * import { FilterList, FilterListItem, List, Datagrid } from 'react-admin';\n * import { Card, CardContent } from '@material-ui/core';\n *\n * import { SavedQueriesList } from '@react-admin/ra-preferences';\n *\n * const PostFilterSidebar: FC = () => (\n *     <Card>\n *         <CardContent>\n *             <SavedQueriesList />\n *             <FilterList label=\"Category\" icon={<CategoryIcon />}>\n *                 ...\n *             </FilterList>\n *             <FilterList label=\"Published\" icon={<DateRangeIcon />}>\n *                ...\n *             </FilterList>\n *             <FilterList label=\"Popularity\" icon={<DateRangeIcon />}>\n *                ...\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * const PostList: FC<Props> = props => (\n *     <List {...props} aside={<PostFilterSidebar />}>\n *         <Datagrid>\n *             ...\n *         </Datagrid>\n *     </List>\n * );\n *\n */\nexport var SavedQueriesList = function (_a) {\n    var _b = _a.icon, icon = _b === void 0 ? defaultIcon : _b;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var _c = useListContext(), resource = _c.resource, filterValues = _c.filterValues, displayedFilters = _c.displayedFilters, currentSort = _c.currentSort, perPage = _c.perPage;\n    var savedQueries = useSavedQueries(resource)[0];\n    var hasSavedCurrentFilterValue = savedQueries.some(function (savedQuery) {\n        return isEqual(savedQuery.value, {\n            filter: filterValues,\n            sort: currentSort,\n            perPage: perPage,\n            displayedFilters: displayedFilters,\n        });\n    });\n    var hasFilterValues = !isEqual(filterValues, {});\n    // note: we don't use react-admin's FilterList because it doesn't accept a default translation\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.titleContainer },\n            React.createElement(\"div\", { className: classes.titleIcon }, icon),\n            React.createElement(Typography, { variant: \"overline\" }, translate('ra-preferences.saved_queries.label', {\n                _: 'Saved Queries',\n            }))),\n        React.createElement(List, { dense: true, disablePadding: true },\n            hasSavedCurrentFilterValue ? (React.createElement(RemoveSavedQueryIconButton, { className: classes.floatingIcon })) : hasFilterValues ? (React.createElement(AddSavedQueryIconButton, { className: classes.floatingIcon })) : (React.createElement(Tooltip, { title: translate('ra-preferences.saved_queries.help', {\n                    _: 'Filter the list and save this query for later',\n                }), className: classes.floatingTooltip },\n                React.createElement(HelpIcon, null))),\n            savedQueries.map(function (savedQuery, index) { return (React.createElement(SavedQueryFilterListItem, { label: savedQuery.label, value: savedQuery.value, key: index })); }))));\n};\nvar defaultIcon = React.createElement(BookmarkIcon, null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useCallback, useRef, forwardRef, } from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash/isEqual';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { Button, FieldTitle, useTranslate, useListContext, } from 'react-admin';\nimport { useSavedQueries } from './useSavedQueries';\nimport { AddSavedQueryDialog } from './AddSavedQueryDialog';\nimport { RemoveSavedQueryDialog } from './RemoveSavedQueryDialog';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nexport var FilterButtonWithSave = function (props) {\n    var filters = props.filters, className = props.className, rest = __rest(props, [\"filters\", \"className\"]);\n    var _a = useListContext(), filterValues = _a.filterValues, currentSort = _a.currentSort, perPage = _a.perPage, _b = _a.displayedFilters, displayedFilters = _b === void 0 ? {} : _b, showFilter = _a.showFilter, resource = _a.resource;\n    var translate = useTranslate();\n    var _c = useState(false), open = _c[0], setOpen = _c[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var savedQueries = useSavedQueries(resource)[0];\n    var history = useHistory();\n    var hasFilterValues = !isEqual(filterValues, {});\n    var hasSavedCurrentQuery = savedQueries.some(function (savedQuery) {\n        return isEqual(savedQuery.value, {\n            filter: filterValues,\n            sort: currentSort,\n            perPage: perPage,\n            displayedFilters: displayedFilters,\n        });\n    });\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    // menu state\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    // add query dialog state\n    var _d = useState(false), addSavedQueryDialogOpen = _d[0], setAddSavedQueryDialogOpen = _d[1];\n    var hideAddSavedQueryDialog = function () {\n        setAddSavedQueryDialogOpen(false);\n    };\n    var showAddSavedQueryDialog = function () {\n        setOpen(false);\n        setAddSavedQueryDialogOpen(true);\n    };\n    // remove query dialog state\n    var _e = useState(false), removeSavedQueryDialogOpen = _e[0], setRemoveSavedQueryDialogOpen = _e[1];\n    var hideRemoveSavedQueryDialog = function () {\n        setRemoveSavedQueryDialogOpen(false);\n    };\n    var showRemoveSavedQueryDialog = function () {\n        setOpen(false);\n        setRemoveSavedQueryDialogOpen(true);\n    };\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, rest),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose },\n            hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement, onShow: handleShow, resource: resource })); }),\n            savedQueries.map(function (savedQuery, index) {\n                return isEqual(savedQuery.value, {\n                    filter: filterValues,\n                    sort: currentSort,\n                    perPage: perPage,\n                    displayedFilters: displayedFilters,\n                }) ? (React.createElement(MenuItem, { onClick: showRemoveSavedQueryDialog, key: index }, translate('ra-preferences.saved_queries.remove_label_with_name', {\n                    _: 'Remove query \"%{name}\"',\n                    name: savedQuery.label,\n                }))) : (React.createElement(MenuItem, { onClick: function () {\n                        history.push({\n                            search: stringify({\n                                filter: JSON.stringify(savedQuery.value.filter),\n                                sort: savedQuery.value.sort.field,\n                                order: savedQuery.value.sort.order,\n                                page: 1,\n                                perPage: savedQuery.value.perPage,\n                                displayedFilters: JSON.stringify(savedQuery.value.displayedFilters),\n                            }),\n                        });\n                        setOpen(false);\n                    }, key: index }, savedQuery.label));\n            }),\n            hasFilterValues && !hasSavedCurrentQuery ? (React.createElement(MenuItem, { onClick: showAddSavedQueryDialog }, translate('ra-preferences.saved_queries.new_label', {\n                _: 'Save current query...',\n            }))) : null),\n        React.createElement(AddSavedQueryDialog, { open: addSavedQueryDialogOpen, onClose: hideAddSavedQueryDialog }),\n        React.createElement(RemoveSavedQueryDialog, { open: removeSavedQueryDialogOpen, onClose: hideRemoveSavedQueryDialog })));\n};\nFilterButtonWithSave.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n};\n// FIXME: remove once react-admin exports FilterButtonMenuItem\n// eslint-disable-next-line react/display-name\nvar FilterButtonMenuItem = forwardRef(function (props, ref) {\n    var filter = props.filter, onShow = props.onShow, resource = props.resource;\n    var handleShow = useCallback(function () {\n        onShow({\n            source: filter.props.source,\n            defaultValue: filter.props.defaultValue,\n        });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.props.source, \"data-default-value\": filter.props.defaultValue, key: filter.props.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.props.label, source: filter.props.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.element.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string.isRequired,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext, FilterForm, } from 'react-admin';\nimport { FilterButtonWithSave } from './FilterButtonWithSave';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\n/**\n * <Filter> alternative offering the ability to save queries.\n *\n * Use this component instead of <Filter> to let users store custom queries\n * that they can reuse later. The saved queries will appear as MenuItems in the\n * FilterMenu dropdown, and can be removed.\n *\n * This component uses usePreference under the hood to store saved queries in\n * localStorage, one set of saved queries per resource.\n *\n * @example\n *\n * import { FilterWithSave } from '@react-admin/ra-preferences';\n *\n * const SongFilter: FC = props => (\n *     <FilterWithSave {...props}>\n *         <SelectInput\n *             choices={[\n *                 { id: 'Apple', name: 'Apple' },\n *                 { id: 'Atlantic', name: 'Atlantic' },\n *                 { id: 'Capitol', name: 'Capitol' },\n *                 { id: 'Chess', name: 'Chess' },\n *                 { id: 'Columbia', name: 'Columbia' },\n *                 { id: 'DGC', name: 'DGC' },\n *                 { id: 'London', name: 'London' },\n *                 { id: 'Tamla', name: 'Tamla' },\n *             ]}\n *             source=\"recordCompany\"\n *         />\n *         <DateInput source=\"released_gte\" label=\"Released after\" />\n *         <DateInput source=\"released_lte\" label=\"Released before\" />\n *     </FilterWithSave>\n * );\n *\n * const SongList: FC<Props> = props => (\n *     <List {...props} filters={<SongFilter />}>\n *         <Datagrid rowClick=\"edit\">\n *             <TextField source=\"title\" />\n *             <TextField source=\"artist\" />\n *             <TextField source=\"writer\" />\n *             <TextField source=\"producer\" />\n *             <TextField source=\"recordCompany\" />\n *             <NumberField source=\"rank\" />\n *             <DateField source=\"released\" />\n *         </Datagrid>\n *     </List>\n * );\n */\nexport var FilterWithSave = function (props) {\n    // Same code as react-admin's <Filter>, except it uses <FilterButtonWithSave> instead of `<FilterButton>`\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButtonWithSave, __assign({ className: classes.button, filters: React.Children.toArray(children) }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilterWithSave.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\n","import { createContext } from 'react';\nexport var PreferencesEditorContext = createContext(undefined);\n","import { useContext } from 'react';\nimport { PreferencesEditorContext, } from './PreferencesEditorContext';\nexport var usePreferencesEditor = function () {\n    return useContext(PreferencesEditorContext);\n};\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { createMemoryHistory } from 'history';\nimport { Route, Router } from 'react-router-dom';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nvar history = createMemoryHistory();\nexport var PreferencesEditor = function (props) {\n    var children = props.children;\n    var setHistory = usePreferencesEditor().setHistory;\n    useEffect(function () {\n        setHistory(history);\n        return function () {\n            setHistory(null);\n        };\n    }, [setHistory]);\n    return (React.createElement(Router, { history: history },\n        React.createElement(Route, { path: \"/\", render: function () { return children; } })));\n};\n","import * as React from 'react';\nimport { DialogTitle, IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate } from 'react-admin';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var PreferencesEditorDialogTitle = function (props) {\n    var title = props.title;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _a = usePreferencesEditor(), disable = _a.disable, history = _a.history, setEditor = _a.setEditor;\n    var handleBackClick = function () {\n        if (history.location.pathname !== '/') {\n            history.goBack();\n        }\n        else {\n            setEditor(null);\n        }\n    };\n    return (React.createElement(DialogTitle, { className: classes.root, id: \"preferences-editor-dialog-title\", disableTypography: true },\n        !!history && (React.createElement(IconButton, { size: \"small\", \"aria-label\": translate('ra.action.back'), className: classes.backButton, onClick: handleBackClick },\n            React.createElement(BackIcon, null))),\n        React.createElement(Typography, { align: \"center\", color: \"textSecondary\" }, !!title && translate(title, { _: title })),\n        React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: disable, size: \"small\" },\n            React.createElement(CloseIcon, null))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        cursor: 'move',\n        padding: theme.spacing(1.5),\n    },\n    backButton: {\n        position: 'absolute',\n        left: theme.spacing(1),\n        top: theme.spacing(1.4),\n        color: theme.palette.grey[500],\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n}); }, {\n    name: 'RaBaseEditorTitle',\n});\n","import { createContext } from 'react';\nexport var PreferencesEditorDialogContext = createContext(null);\n","import { useEffect, useContext } from 'react';\nimport { PreferencesEditorDialogContext } from './PreferencesEditorDialogContext';\nexport var EditorTitle = function (_a) {\n    var title = _a.title;\n    var setTitle = useContext(PreferencesEditorDialogContext).setTitle;\n    useEffect(function () {\n        setTitle(title);\n    }, [title, setTitle]);\n    return null;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate, } from 'react-admin';\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport { TextField } from '@material-ui/core';\nimport { useResourceModel } from '.';\n/**\n * A component which provides a configuration UI to tweak a resource model reference field\n * @param {ReferenceFieldInputProps} props\n * @param {String} props.resource The resource\n */\nexport var ReferenceFieldInput = function (_a) {\n    var label = _a.label, resource = _a.resource, value = _a.value, onChange = _a.onChange;\n    var model = useResourceModel(resource)[0];\n    var fields = (model === null || model === void 0 ? void 0 : model.fields) || {};\n    var translate = useTranslate();\n    var displayField = inferBestReferenceDisplayField(fields || {});\n    var initialValue = value || displayField;\n    var _b = useState(function () {\n        var fieldChoices = Object.keys(fields).map(function (field) { return ({\n            id: field,\n            name: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: model.fields[field].props.label,\n                resource: resource,\n                source: model.fields[field].props.source,\n            })),\n        }); });\n        if (value && value.indexOf('{{') > -1) {\n            fieldChoices.push({\n                id: value,\n                name: value,\n            });\n        }\n        return fieldChoices;\n    }), choices = _b[0], setChoices = _b[1];\n    var autocompleteFilter = createFilterOptions();\n    var handleKeyChange = function (event, newKey) {\n        if (typeof newKey === 'string') {\n            setChoices(function (prev) { return __spreadArray(__spreadArray([], prev), [{ id: newKey, name: newKey }]); });\n            onChange(newKey);\n        }\n        else if (newKey && newKey.inputValue) {\n            // Create a new value from the user input\n            setChoices(function (prev) { return __spreadArray(__spreadArray([], prev), [\n                { id: newKey.inputValue, name: newKey.inputValue },\n            ]); });\n            onChange(newKey.inputValue);\n        }\n        else if (newKey && newKey.id) {\n            onChange(newKey.id);\n        }\n        else {\n            onChange(undefined);\n        }\n    };\n    return (React.createElement(Autocomplete, { freeSolo: true, options: choices, value: initialValue, onChange: handleKeyChange, filterOptions: function (options, params) {\n            var filtered = autocompleteFilter(options, params);\n            // Suggest the creation of a new value\n            if (params.inputValue !== '') {\n                filtered.push({\n                    inputValue: params.inputValue,\n                    name: \"Add computed field: \\\"\" + params.inputValue + \"\\\"\",\n                });\n            }\n            return filtered;\n        }, selectOnFocus: true, clearOnBlur: true, handleHomeEndKeys: true, renderInput: function (params) { return React.createElement(TextField, __assign({}, params, { label: label })); }, renderOption: function (option) { return option.name; }, getOptionLabel: function (option) {\n            // Value selected with enter, right from the input\n            if (typeof option === 'string') {\n                return option;\n            }\n            // Add \"xxx\" option created dynamically\n            if (option.inputValue) {\n                return option.inputValue;\n            }\n            // Regular option\n            return option.name;\n        } }));\n};\nvar FAVORITE_DISPLAY_FIELD_NAMES = [\n    'name',\n    'title',\n    'label',\n    'reference',\n    'email',\n];\nvar inferBestReferenceDisplayField = function (types) {\n    var best = Object.entries(types).find(function (entry) {\n        return FAVORITE_DISPLAY_FIELD_NAMES.includes(entry[0].toLowerCase());\n    });\n    if (best) {\n        return best[0];\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { InferenceTypes } from 'react-admin';\nimport { FormControl, InputLabel, MenuItem, Select, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var FieldTypeInput = function (_a) {\n    var label = _a.label, props = __rest(_a, [\"label\"]);\n    var classes = useStyles();\n    return (React.createElement(FormControl, { fullWidth: true, className: classes.root },\n        React.createElement(InputLabel, { id: \"type-label\" }, label),\n        React.createElement(Select, __assign({ labelId: \"type-label\", fullWidth: true }, props), FieldTypesChoices.map(function (type) { return (React.createElement(MenuItem, { key: type.id, value: type.id }, type.name)); }))));\n};\nvar FieldTypesChoices = InferenceTypes.map(function (type) { return ({\n    id: type,\n    name: type,\n}); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { getResources, useGetResourceLabel } from 'react-admin';\nimport { FormControl, InputLabel, MenuItem, Select, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nexport var ReferenceResourceInput = function (_a) {\n    var label = _a.label, props = __rest(_a, [\"label\"]);\n    var classes = useStyles();\n    var resources = useSelector(getResources);\n    var getResourceLabel = useGetResourceLabel();\n    var resourcesChoices = resources.map(function (resource) { return ({\n        id: resource.name,\n        name: getResourceLabel(resource.name, 2),\n    }); });\n    return (React.createElement(FormControl, { fullWidth: true, className: classes.root },\n        React.createElement(InputLabel, { id: \"type-label\" }, label),\n        React.createElement(Select, __assign({ fullWidth: true }, props), resourcesChoices.map(function (type) { return (React.createElement(MenuItem, { key: type.id, value: type.id }, type.name)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n}); });\n","import { useEffect } from 'react';\nimport { getValuesFromRecords, inferTypeFromValues } from 'ra-core';\nimport { useSelector } from 'react-redux';\nimport { usePreferences } from '../../usePreferences';\n/**\n * A hook which returns the model for the specified resource. Tries to infer it from the redux store data if not already defined.\n * @param {String} resource The resource\n * @param {String} preferencesKey The preference key which defaults to the resource name\n * @returns {ResourceModel} The resource model\n */\nexport var useResourceModel = function (resource, preferencesKey) {\n    if (preferencesKey === void 0) { preferencesKey = resource; }\n    var _a = usePreferences(preferencesKey), resourceModel = _a[0], setResourceModel = _a[1];\n    var data = useSelector(function (state) {\n        return state.admin.resources[resource]\n            ? state.admin.resources[resource].data\n            : {};\n    });\n    // data = [\n    //     1: {\n    //         id: 1,\n    //         title: \"Lorem Ipsum\",\n    //         views: 254,\n    //         user_id: 123,\n    //     },\n    //     2: {\n    //         id: 2,\n    //         title: \"Sic Dolor amet\",\n    //         views: 65,\n    //         user_id: 456,\n    //     },\n    // };\n    useEffect(function () {\n        if (resourceModel != null && Object.keys(resourceModel).length > 0) {\n            return;\n        }\n        // We might have no data after applying a filter and we would loose all types.\n        // This does not resolve the issue when loading a page without data though. For that we'll have to store the model in preferences\n        if (!data || Object.keys(data).length === 0) {\n            return;\n        }\n        var fields = inferResourceModel(data);\n        setResourceModel({\n            name: resource,\n            label: resource,\n            fields: fields,\n        });\n    }, [data, resource, resourceModel, setResourceModel]);\n    return [resourceModel, setResourceModel];\n};\nvar inferResourceModel = function (data) {\n    var values = getValuesFromRecords(Object.values(data));\n    // values = {\n    //    id: [1, 2],\n    //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\n    //    views: [254, 65],\n    //    user_id: [123, 456],\n    // }\n    var types = {};\n    Object.keys(values).forEach(function (key) {\n        var fieldType = inferTypeFromValues(key, values[key]);\n        types[key] = fieldType;\n    });\n    // types = {\n    //    id: { type: 'id', props: { source: 'id' } },\n    //    title: { type: 'string', props: { source: 'title } },\n    //    views: { type: 'number', props: { source: 'views } },\n    //    user_id: { type: 'reference', props: { source: 'user_id, reference: 'users' }, children: { type: 'referenceChild' },\n    // }\n    return types;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate, } from 'react-admin';\nimport { ReferenceFieldInput } from './ReferenceFieldInput';\nimport { FieldTypeInput } from './FieldTypeInput';\nimport { ReferenceResourceInput } from './ReferenceResourceInput';\nimport { useResourceModel } from './useResourceModel';\nimport { EditorTitle } from '../Editor';\n/**\n * A component which provides a configuration UI to tweak a resource model field\n * @param {ReferenceFieldInputProps} props\n * @param {InferredElementDescription} props.field The field from the resource model\n * @param {String} props.resource The resource\n * @param {Function} props.onSave The callback called to save the field model\n */\nexport var ResourceModelFieldEditor = function (_a) {\n    var _b;\n    var field = _a.field, preferencesKey = _a.preferencesKey, resource = _a.resource;\n    var translate = useTranslate();\n    var _c = useResourceModel(resource, preferencesKey), model = _c[0], saveModel = _c[1];\n    var handleTypeChange = function (event) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { type: event.target.value }), _a)) }));\n    };\n    var handleReferenceResourceChange = function (event) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { props: __assign(__assign({}, field.props), { reference: event.target.value }) }), _a)) }));\n    };\n    var handleReferenceFieldChange = function (referenceField) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { children: __assign(__assign({}, field.children), { props: __assign(__assign({}, field.children\n                        .props), { optionText: referenceField }) }) }), _a)) }));\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditorTitle, { title: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: field.props.label,\n                resource: resource,\n                source: field.props.source,\n            })) }),\n        React.createElement(FieldTypeInput, { label: \"Type\", onChange: handleTypeChange, value: field.type }),\n        field.type === 'reference' && (React.createElement(React.Fragment, null,\n            React.createElement(ReferenceResourceInput, { label: \"Reference\", onChange: handleReferenceResourceChange, value: field.props.reference }),\n            React.createElement(ReferenceFieldInput, { label: \"Field displayed\", onChange: handleReferenceFieldChange, resource: field.props.reference, value: (_b = field.children.props) === null || _b === void 0 ? void 0 : _b.optionText })))));\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { useTranslate, Confirm } from 'react-admin';\nimport { usePreferences } from '../usePreferences';\n/**\n * Resets the settings for a given preferences key\n *\n * @example\n *\n * <ResetSettingsButton preferencesKey=\"myPreferencesKey\" />\n */\nexport var ResetSettingsButton = function (_a) {\n    var preferencesKey = _a.preferencesKey;\n    var classes = useStyles();\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var translate = useTranslate();\n    var _c = usePreferences(preferencesKey), _ = _c[0], setPrefs = _c[1];\n    var handleClick = function () {\n        setOpen(true);\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleConfirm = function () {\n        setPrefs({});\n        setOpen(false);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { fullWidth: true, size: \"small\", onClick: handleClick, className: classes.root }, translate('ra-preferences.no-code.reset', {\n            _: 'Reset Settings',\n        })),\n        React.createElement(Confirm, { isOpen: open, loading: false, title: \"ra.message.are_you_sure\", content: \"\", onConfirm: handleConfirm, onClose: handleDialogClose })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginTop: theme.spacing(1),\n        color: theme.palette.error.main,\n        backgroundColor: theme.palette.background.paper,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n        },\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useMemo, forwardRef } from 'react';\nimport { Link as RouterLink, } from 'react-router-dom';\nimport { ListItem } from '@material-ui/core';\nexport var ListItemLink = function (props) {\n    var children = props.children, to = props.to;\n    var renderLink = useMemo(function () {\n        // eslint-disable-next-line react/display-name\n        return forwardRef(function (itemProps, ref) { return (React.createElement(RouterLink, __assign({ to: to, ref: ref }, itemProps))); });\n    }, [to]);\n    return (React.createElement(\"li\", null,\n        React.createElement(ListItem, { button: true, component: renderLink }, children)));\n};\n","import * as React from 'react';\nimport { List, ListItemText } from '@material-ui/core';\nimport { getFieldLabelTranslationArgs, useGetResourceLabel, useTranslate, } from 'react-admin';\nimport { ResourceModelFieldEditor } from './ResourceModelFieldEditor';\nimport { useResourceModel } from './useResourceModel';\nimport { ResetSettingsButton } from '../ResetSettingsButton';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { ListItemLink } from '../ListItemLink';\nimport { EditorTitle } from '../Editor';\n/**\n * A component which provides a configuration UI to tweak a resource model\n * @param {ReferenceFieldInputProps} props\n * @param {String} props.resource The resource\n * @param {String} props.preferencesKey The preference key which defaults to the resource name\n */\nexport var ResourceModelEditor = function (_a) {\n    var resource = _a.resource, _b = _a.preferencesKey, preferencesKey = _b === void 0 ? resource : _b;\n    var model = useResourceModel(resource, preferencesKey)[0];\n    var routeMatch = useRouteMatch();\n    var translate = useTranslate();\n    var getResourceLabel = useGetResourceLabel();\n    if (!model || !model.fields)\n        return null;\n    return (React.createElement(Switch, null,\n        Object.keys(model.fields).map(function (field) { return (React.createElement(Route, { key: \"route-\" + field, path: routeMatch.path + \"/\" + field, render: function () { return (React.createElement(ResourceModelFieldEditor, { field: model.fields[field], resource: resource, preferencesKey: preferencesKey })); } })); }),\n        React.createElement(Route, { path: routeMatch.path, render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: getResourceLabel(resource, 2) }),\n                React.createElement(List, { dense: true }, Object.keys(model.fields).map(function (field) { return (React.createElement(ListItemLink, { key: \"link-\" + field, to: routeMatch.path + \"/\" + field },\n                    React.createElement(ListItemText, { primary: translate.apply(void 0, getFieldLabelTranslationArgs({\n                            label: model.fields[field].props\n                                .label,\n                            resource: resource,\n                            source: model.fields[field]\n                                .props.source,\n                        })) }))); })),\n                React.createElement(ResetSettingsButton, { preferencesKey: preferencesKey }))); } })));\n};\n","import * as React from 'react';\nimport { getResources, useGetResourceLabel, } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router';\nimport { List, ListItemText } from '@material-ui/core';\nimport { ResourceModelEditor } from './ResourceModelEditor';\nimport { EditorTitle, PreferencesEditor } from '../Editor';\nimport { ListItemLink } from '../ListItemLink';\nimport { useRouteMatch } from 'react-router-dom';\nexport var ResourcesModelsEditor = function () {\n    var data = useSelector(getResources);\n    var getResourceLabel = useGetResourceLabel();\n    var routeMatch = useRouteMatch();\n    return (React.createElement(PreferencesEditor, null,\n        React.createElement(Switch, null,\n            data.map(function (_a) {\n                var name = _a.name;\n                return (React.createElement(Route, { key: name + \"-route\", path: routeMatch.path + \"/configure-\" + name, render: function () { return React.createElement(ResourceModelEditor, { resource: name }); } }));\n            }),\n            React.createElement(Route, { path: routeMatch.path, exact: true, render: function () { return (React.createElement(React.Fragment, null,\n                    React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.resources_models\" }),\n                    React.createElement(List, { dense: true }, data.map(function (_a) {\n                        var name = _a.name;\n                        return (React.createElement(ListItemLink, { key: name + \"-link\", to: routeMatch.path + \"/configure-\" + name },\n                            React.createElement(ListItemText, { primary: getResourceLabel(name, 2) })));\n                    })))); } }))));\n};\n","import * as React from 'react';\nimport { Button } from '@material-ui/core';\nimport { useTranslate } from 'react-admin';\nimport { ResourcesModelsEditor } from './ResourcesModelsEditor';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var EditResourcesModelsButton = function () {\n    var setEditor = usePreferencesEditor().setEditor;\n    var translate = useTranslate();\n    var handleShowModelEditorClick = function () {\n        setEditor(React.createElement(ResourcesModelsEditor, null));\n    };\n    return (React.createElement(Button, { onClick: handleShowModelEditorClick }, translate('ra-preferences.no-code.editor.resources_models')));\n};\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { EditorTitle } from './EditorTitle';\nimport { useTranslate } from 'react-admin';\nimport { EditResourcesModelsButton } from '../ResourceModel';\nexport var PreferencesEditorRoot = function () {\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditorTitle, { title: \"ra-preferences.no-code.title\" }),\n        React.createElement(Typography, null, translate('ra-preferences.no-code.instructions')),\n        React.createElement(EditResourcesModelsButton, null)));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect, useMemo, useState } from 'react';\nimport { Modal, Paper } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { usePreferences } from '../../usePreferences';\nimport Draggable from 'react-draggable';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nimport { PreferencesEditorDialogTitle } from './PreferencesEditorDialogTitle';\nimport { PreferencesEditorDialogContext } from './PreferencesEditorDialogContext';\nimport { PreferencesEditorRoot } from './PreferencesEditorRoot';\nexport var PreferencesEditorDialog = function (props) {\n    var _a = usePreferencesEditor(), disable = _a.disable, editor = _a.editor, isEnabled = _a.isEnabled;\n    var _b = useState(null), title = _b[0], setTitle = _b[1];\n    var memoizedContext = useMemo(function () { return ({ setTitle: setTitle }); }, [setTitle]);\n    var theme = useTheme();\n    var classes = useStyles(props);\n    var _c = usePreferences('preferencesDialog.position', {\n        x: \n        // We want it positioned to the far right of the screen\n        document.body.clientWidth -\n            // So we remove its size (see the root css class)\n            theme.breakpoints.values.sm / 2 -\n            // And add a margin\n            theme.spacing(1),\n        y: theme.spacing(1),\n    }), dialogPosition = _c[0], setDialogPosition = _c[1];\n    useEffect(function () {\n        if (dialogPosition.x > document.body.clientWidth) {\n            setDialogPosition({\n                x: \n                // We want it positioned to the far right of the screen\n                document.body.clientWidth -\n                    // So we remove its size (see the root css class)\n                    theme.breakpoints.values.sm / 2 -\n                    // And add a margin\n                    theme.spacing(1),\n                y: theme.spacing(1),\n            });\n        }\n    }, [isEnabled, dialogPosition, setDialogPosition, theme]);\n    var handleDraggableStop = function (e, data) {\n        setDialogPosition({ x: data.x, y: data.y });\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Modal, __assign({ className: classes.root, onClose: disable, open: isEnabled, \"aria-labelledby\": \"preferences-editor-dialog-title\", disableBackdropClick: true, hideBackdrop: true, disableEnforceFocus: true, disableScrollLock: true, BackdropComponent: null }, props),\n            React.createElement(Draggable, { handle: \"#preferences-editor-dialog-title\", cancel: '[class*=\"MuiDialogContent-root\"]', defaultPosition: dialogPosition, onStop: handleDraggableStop },\n                React.createElement(Paper, { className: classes.root, elevation: 3 },\n                    React.createElement(PreferencesEditorDialogTitle, { title: title }),\n                    React.createElement(PreferencesEditorDialogContext.Provider, { value: memoizedContext },\n                        React.createElement(\"div\", { className: classes.content }, editor || React.createElement(PreferencesEditorRoot, null))))))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: theme.breakpoints.values.sm / 2,\n        transition: theme.transitions.create(['height', 'width']),\n    },\n    content: {\n        overflowY: 'auto',\n        maxHeight: '75vh',\n        padding: theme.spacing(2),\n        paddingTop: 0,\n    },\n    instructions: {},\n}); }, {\n    name: 'RaPreferencesEditorDialog',\n});\nPreferencesEditorDialog.displayName = 'PreferencesEditorDialog';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { useTranslate } from 'ra-core';\nexport var OpenEditorButton = forwardRef(function (_a, ref) {\n    var _b = _a.children, children = _b === void 0 ? React.createElement(SettingsIcon, null) : _b, _c = _a.label, label = _c === void 0 ? 'ra-preferences.no-code.action.show_editor' : _c, props = __rest(_a, [\"children\", \"label\"]);\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, __assign({ ref: ref, \"aria-label\": translatedLabel, color: \"primary\" }, props), children)));\n});\nOpenEditorButton.displayName = 'OpenEditorButton';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport { fade, Fade, Popper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { OpenEditorButton } from './OpenEditorButton';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var Configurable = function (props) {\n    var children = props.children, editableEl = props.editableEl, editor = props.editor, openButtonLabel = props.openButtonLabel;\n    var classes = useStyles(props);\n    var buttonRef = useRef();\n    var _a = useState(false), showEditorButton = _a[0], setShowEditorButton = _a[1];\n    var _b = usePreferencesEditor(), isEnabled = _b.isEnabled, setEditor = _b.setEditor;\n    var handleMouseEnter = function (event) {\n        event.stopPropagation();\n        setShowEditorButton(true);\n    };\n    var handleMouseLeave = function (event) {\n        // We don't want to hide the configuration button if users hover it\n        // To ensure that, we check whether the cursor is still over the editor target (the table element for the Datagrid for example)\n        var targetRect = event.target.getBoundingClientRect();\n        var isMouseHoverTarget = event.clientX > targetRect.left &&\n            event.clientX < targetRect.right &&\n            event.clientY > targetRect.top &&\n            event.clientY < targetRect.bottom;\n        if (!isMouseHoverTarget) {\n            setShowEditorButton(false);\n        }\n    };\n    useEffect(function () {\n        if (!editableEl) {\n            return;\n        }\n        if (isEnabled) {\n            editableEl.classList.add(classes.element);\n            editableEl.addEventListener('mouseover', handleMouseEnter);\n            editableEl.addEventListener('mouseleave', handleMouseLeave);\n        }\n        return function () {\n            setShowEditorButton(false);\n            editableEl.classList.remove(classes.element);\n            editableEl.removeEventListener('mouseover', handleMouseEnter);\n            editableEl.removeEventListener('mouseleave', handleMouseLeave);\n        };\n    }, [classes, editableEl, isEnabled]);\n    var handleOpenEditor = function () {\n        setEditor(editor);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Popper, { open: showEditorButton, anchorEl: editableEl, placement: \"top-end\", transition: true, className: classes.popper, modifiers: popperModifiers }, function (_a) {\n            var TransitionProps = _a.TransitionProps;\n            return (React.createElement(Fade, __assign({}, TransitionProps, { timeout: 350 }),\n                React.createElement(OpenEditorButton, { ref: buttonRef, onClick: handleOpenEditor, label: openButtonLabel })));\n        }),\n        children));\n};\nvar popperModifiers = {\n    inner: { enabled: true },\n    flip: { enabled: false },\n    hide: { enabled: false },\n    preventOverflow: {\n        enabled: false,\n        padding: 0,\n    },\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    popper: {\n        zIndex: theme.zIndex.modal - 1,\n    },\n    element: {\n        boxShadow: \"rgb(255, 255, 255) 0px 0px 0px 0px, \" + fade(theme.palette.primary.main, 0.3) + \" 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px\",\n        '&:hover': {\n            boxShadow: \"rgb(255, 255, 255) 0px 0px 0px 0px, \" + theme.palette.primary.main + \" 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px\",\n        },\n    },\n}); }, {\n    name: 'RaPreferencesEditor',\n});\n","import * as React from 'react';\nimport { useState, useRef } from 'react';\nimport { Typography, Popover } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { useTranslate, getFieldLabelTranslationArgs } from 'react-admin';\nimport { useResourceModel } from './useResourceModel';\nvar useStyles = makeStyles({\n    popover: {\n        pointerEvents: 'none',\n    },\n    popoverContent: {\n        pointerEvents: 'auto',\n        padding: '1em',\n        maxWidth: '25em',\n    },\n});\nexport var TemplateInfoButton = function (_a) {\n    var resource = _a.resource;\n    var classes = useStyles();\n    var _b = useState(false), openedPopover = _b[0], setOpenedPopover = _b[1];\n    var popoverAnchor = useRef(null);\n    var handleEnter = function () {\n        setOpenedPopover(true);\n    };\n    var handleLeave = function () {\n        setOpenedPopover(false);\n    };\n    var id = openedPopover ? 'simple-popover' : undefined;\n    var translate = useTranslate();\n    var types = useResourceModel(resource);\n    var keys = Object.keys(types);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"span\", { ref: popoverAnchor, \"aria-owns\": id, onMouseEnter: handleEnter, onMouseLeave: handleLeave },\n            React.createElement(InfoIcon, { color: \"disabled\" })),\n        React.createElement(Popover, { id: id, open: openedPopover, anchorEl: popoverAnchor.current, onClose: handleLeave, anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n            }, transformOrigin: {\n                vertical: 'top',\n                horizontal: 'left',\n            }, className: classes.popover, classes: {\n                paper: classes.popoverContent,\n            }, PaperProps: {\n                onMouseEnter: handleEnter,\n                onMouseLeave: handleLeave,\n            } },\n            React.createElement(Typography, { color: \"textSecondary\" },\n                \"Display record data using the\",\n                ' ',\n                React.createElement(\"a\", { href: \"https://mozilla.github.io/nunjucks/\", target: \"_blank\", rel: \"noreferrer\" }, \"nunjucks\"),\n                ' ',\n                \"syntax \",\n                React.createElement(\"br\", null),\n                \"e.g. \",\n                '\"{{',\n                \" first_name \",\n                '}}',\n                \" \",\n                '{{',\n                \" last_name \",\n                '}}\"',\n                \".\",\n                React.createElement(\"br\", null),\n                React.createElement(\"br\", null),\n                \"Available fields for the \",\n                resource,\n                \" resource:\"),\n            React.createElement(\"ul\", null, keys.map(function (key) { return (React.createElement(Typography, { key: key, component: \"li\", color: \"textSecondary\" },\n                key,\n                \" (\",\n                translate.apply(void 0, getFieldLabelTranslationArgs({\n                    resource: resource,\n                    source: key,\n                })),\n                \")\")); })))));\n};\n","import * as React from 'react';\nimport { Button } from 'react-admin';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SaveIcon from '@material-ui/icons/Save';\n/**\n * A toolbar tailored for custom fields\n * @param {FieldFormToolbarProps} props\n * @param {FieldDefinition} field The edited field which may be an empty object for new ones.\n * @param {VoidFunction} onCancel An event handler called to cancel either the edition or creation.\n * @param {VoidFunction} onDelete An event handler called to delete the current field (only for existing ones).\n */\nexport var FieldFormToolbar = function (_a) {\n    var field = _a.field, onCancel = _a.onCancel, onDelete = _a.onDelete;\n    var classes = useStyles();\n    return (\n    // TODO: remove once react-admin 16.1 is out\n    // @ts-ignore\n    React.createElement(Toolbar, { className: classes.toolbar },\n        React.createElement(Button, { variant: \"contained\", type: \"submit\", label: \"Save\" },\n            React.createElement(SaveIcon, null)),\n        React.createElement(\"span\", { className: classes.spacer }),\n        !!(field === null || field === void 0 ? void 0 : field.id) && (React.createElement(Button, { label: \"ra.action.delete\", onClick: onDelete })),\n        React.createElement(Button, { label: \"ra.action.cancel\", onClick: onCancel })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        backgroundColor: theme.palette.type === 'light'\n            ? theme.palette.grey[100]\n            : theme.palette.grey[900],\n    },\n    spacer: {\n        flexGrow: 1,\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { v4 as createUuid } from 'uuid';\nimport { required, SelectInput, TextInput } from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Form } from 'react-final-form';\nimport { TemplateInfoButton } from '../TemplateInfoButton';\nimport { FieldFormToolbar } from './FieldFormToolbar';\nexport var ComputedFieldEditor = function (_a) {\n    var availableColumns = _a.availableColumns, _b = _a.field, field = _b === void 0 ? {} : _b, onCancel = _a.onCancel, onClose = _a.onClose, onDelete = _a.onDelete, onSave = _a.onSave, props = __rest(_a, [\"availableColumns\", \"field\", \"onCancel\", \"onClose\", \"onDelete\", \"onSave\"]);\n    var classes = useStyles();\n    return (React.createElement(Form, { initialValues: __assign({ id: createUuid() }, field), onSubmit: onSave }, function (formProps) { return (React.createElement(\"form\", { onSubmit: formProps.handleSubmit },\n        React.createElement(\"div\", { className: classes.form },\n            React.createElement(TextInput, { source: \"label\", validate: required(), fullWidth: true }),\n            React.createElement(TextInput, { source: \"template\", fullWidth: true, InputProps: {\n                    endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(TemplateInfoButton, { resource: props.resource }))),\n                }, validate: required() }),\n            React.createElement(SelectInput, { source: \"alignment\", choices: ALIGNMENT_CHOICES, validate: required(), initialValue: \"left\", fullWidth: true })),\n        React.createElement(FieldFormToolbar, { field: field, onCancel: onCancel, onDelete: onDelete }))); }));\n};\nvar ALIGNMENT_CHOICES = [\n    { id: 'left', name: 'Left' },\n    { id: 'center', name: 'Center' },\n    { id: 'right', name: 'Right' },\n    { id: 'justify', name: 'Justify' },\n];\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment } from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate } from 'react-admin';\nimport { DialogContent, Popover, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var ComputedFieldTemplatePopover = function (_a) {\n    var availableColumns = _a.availableColumns, resource = _a.resource, props = __rest(_a, [\"availableColumns\", \"resource\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(Popover, __assign({ anchorOrigin: {\n            vertical: 'center',\n            horizontal: 'left',\n        }, transformOrigin: {\n            vertical: 'center',\n            horizontal: 'right',\n        }, disableAutoFocus: true, disableEnforceFocus: true, disableEscapeKeyDown: true, disableRestoreFocus: true, disableScrollLock: true }, props),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, { component: \"p\" }, translate('ra-preferences.no-code.computed_fields.instructions')),\n            React.createElement(Typography, { component: \"code\", className: classes.template }, translate('ra-preferences.no-code.computed_fields.template'))),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, null, translate('ra-preferences.no-code.computed_fields.available_fields')),\n            React.createElement(\"dl\", { className: classes.dl },\n                React.createElement(Typography, { component: \"dt\", className: classes.dt, color: \"textSecondary\", variant: \"subtitle2\" }, translate('ra-preferences.no-code.computed_fields.source_title')),\n                React.createElement(Typography, { component: \"dd\", className: classes.dd, color: \"textSecondary\", variant: \"subtitle2\" }, translate('ra-preferences.no-code.computed_fields.label_title')),\n                availableColumns.map(function (column) { return (React.createElement(Fragment, { key: column[0] },\n                    React.createElement(Typography, { component: \"dt\", className: classes.dt }, column[0]),\n                    React.createElement(Typography, { component: \"dd\", className: classes.dd }, translate.apply(void 0, getFieldLabelTranslationArgs({\n                        label: column[1],\n                        resource: resource,\n                        source: column[0],\n                    }))))); })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    template: {\n        fontFamily: theme.typography.fontFamily.fixed,\n        padding: theme.spacing(0.5, 1),\n        backgroundColor: theme.palette.grey[200],\n        marginTop: theme.spacing(1),\n    },\n    dl: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n    },\n    dt: {\n        display: 'inline-block',\n    },\n    dd: {\n        display: 'inline-block',\n        marginBottom: theme.spacing(1),\n    },\n}); });\n","import * as React from 'react';\nimport { Button, Typography, Switch } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate } from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\n/**\n * A component providing UI to customize a single field.\n * Meant to be used inside the <DatagridEditor>\n *\n * @see DatagridEditor\n * @param {ColumnEditorProps} props\n * @param {Boolean} props.selected A boolean indicating whether this field is selected.\n * @param {Boolean} props.source The field source.\n * @param {Boolean} props.label The field label.\n * @param {Boolean} props.onToggle An event handler called when the selection state of the field changes.\n * @param {Boolean} props.onEdit An event handler called when users choose to edit this field.\n * @param {Boolean} props.resource The resource.\n * @param {FieldDefinition} props.customField The associated custom field if any.\n */\nexport var FieldEditor = function (props) {\n    var selected = props.selected, customField = props.customField, label = props.label, onToggle = props.onToggle, resource = props.resource, source = props.source;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, key: source },\n        React.createElement(\"label\", { htmlFor: \"switch_\" + source },\n            React.createElement(Switch, { checked: selected, className: classes.switch, onChange: onToggle, name: source, id: \"switch_\" + source, size: \"small\" }),\n            React.createElement(Typography, { component: \"span\", variant: \"body2\" },\n                React.createElement(FieldTitle, { label: label, source: source, resource: resource }))),\n        customField && (React.createElement(Button, { component: RouterLink, className: classes.editButton, to: getCustomFieldPath(customField) }, translate('ra.action.edit')))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        '&:hover': {\n            '& $editButton': {\n                opacity: 100,\n            },\n        },\n    },\n    switch: {\n        marginRight: theme.spacing(0.5),\n        marginLeft: -theme.spacing(0.5),\n    },\n    editButton: {\n        opacity: 0,\n        padding: 0,\n        marginLeft: theme.spacing(1),\n        transition: theme.transitions.create('opacity'),\n    },\n}); }, {\n    name: 'RaColumnEditor',\n});\nexport var getCustomFieldPath = function (field) {\n    var result = field.template.replace(/({{)|(}})/g, '').replace(' ', '-');\n    return \"/\" + result;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { Button, FormGroup, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useRefresh, useTranslate } from 'react-admin';\nimport { usePreferences } from '../../usePreferences';\nimport { ComputedFieldEditor } from './ComputedFieldEditor';\nimport { FieldEditor, getCustomFieldPath } from './FieldEditor';\nimport { useComputedFields } from './useComputedFields';\nimport { Route, Switch, Link as RouterLink, useHistory, } from 'react-router-dom';\nimport { EditorTitle } from '../Editor';\nexport var FieldsEditor = function (props) {\n    var defaultFields = props.defaultFields, preferencesKey = props.preferencesKey, resource = props.resource;\n    var translate = useTranslate();\n    var refresh = useRefresh();\n    var classes = useStyles();\n    var history = useHistory();\n    var columnsPreferencesKey = preferencesKey + \".columns\";\n    var customFieldsPreferencesKey = preferencesKey + \".customFields\";\n    var _a = usePreferences(columnsPreferencesKey, Object.keys(defaultFields)), columnsFromPrefs = _a[0], setColumnsFromPref = _a[1];\n    var _b = usePreferences(customFieldsPreferencesKey, []), customFieldsFromPrefs = _b[0], setCustomFieldsFromPref = _b[1];\n    var customFields = useComputedFields({\n        preferences: customFieldsPreferencesKey,\n    });\n    var availableFields = useMemo(function () {\n        var fields = __assign({}, defaultFields);\n        customFields.forEach(function (field) {\n            fields[field.props.source] = field;\n        });\n        return fields;\n    }, [customFields, defaultFields]);\n    var addColumn = function (event) {\n        setColumnsFromPref(Object.keys(availableFields).filter(function (name) {\n            return name === event.target.name ||\n                columnsFromPrefs.includes(name);\n        }));\n    };\n    var removeColumn = function (event) {\n        // always leave at least one column\n        if (columnsFromPrefs.length > 1) {\n            setColumnsFromPref(columnsFromPrefs.filter(function (name) { return name !== event.target.name; }));\n        }\n    };\n    var handleColumnToggle = function (event) {\n        if (event.target.checked) {\n            addColumn(event);\n        }\n        else {\n            removeColumn(event);\n        }\n    };\n    var handleSaveCustomField = function (values) {\n        var existingFieldIndex = customFieldsFromPrefs.findIndex(function (field) { return field.id === values.id; });\n        if (existingFieldIndex >= 0) {\n            setCustomFieldsFromPref(__spreadArray(__spreadArray(__spreadArray([], customFieldsFromPrefs.slice(0, existingFieldIndex)), [\n                values\n            ]), customFieldsFromPrefs.slice(existingFieldIndex + 1)));\n        }\n        else {\n            setCustomFieldsFromPref(customFieldsFromPrefs.concat(values));\n            setColumnsFromPref(columnsFromPrefs.concat(values.template));\n        }\n        history.push('/');\n        // Because react-admin won't rerender the datagrid header cells when the field props change, we have to refresh the view\n        refresh();\n    };\n    var handleDeleteCustomField = function (field) {\n        setColumnsFromPref(columnsFromPrefs.filter(function (column) { return column !== field.template; }));\n        setCustomFieldsFromPref(customFieldsFromPrefs.filter(function (field) { return field.id !== field.id; }));\n        history.push('/');\n        // Because react-admin won't rerender the datagrid header cells when the field props change, we have to refresh the view\n        refresh();\n    };\n    var handleCustomFieldPaneClose = function () {\n        history.push('/');\n    };\n    return (React.createElement(Switch, null,\n        React.createElement(Route, { path: \"/create-custom-field\", render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.custom_field\" }),\n                React.createElement(ComputedFieldEditor, { availableColumns: Object.keys(availableFields)\n                        .filter(function (column) { return !column.includes('{{'); })\n                        .map(function (column) { return [\n                        column,\n                        availableFields[column].props.label,\n                    ]; }), field: DefaultNewCustomField, onCancel: handleCustomFieldPaneClose, onSave: handleSaveCustomField, resource: resource }))); } }),\n        customFieldsFromPrefs.map(function (field) { return (React.createElement(Route, { key: field.template, path: getCustomFieldPath(field), render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.custom_field\" }),\n                React.createElement(ComputedFieldEditor, { availableColumns: Object.keys(availableFields)\n                        .filter(function (column) { return !column.includes('{{'); })\n                        .map(function (column) { return [\n                        column,\n                        availableFields[column].props.label,\n                    ]; }), field: field, onCancel: handleCustomFieldPaneClose, onDelete: function () { return handleDeleteCustomField(field); }, onSave: handleSaveCustomField, resource: resource }))); } })); }),\n        React.createElement(Route, { path: \"/\", render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(Typography, { id: resource + \"-columns-description\", variant: \"subtitle2\", color: \"textSecondary\", gutterBottom: true }, translate('ra-preferences.no-code.action.choose_fields')),\n                React.createElement(FormGroup, null, Object.keys(availableFields).map(function (source) { return (React.createElement(FieldEditor, { key: source, selected: columnsFromPrefs.some(function (column) { return column === source; }), source: source, label: availableFields[source].props.label, customField: customFieldsFromPrefs.find(function (field) { return field.template === source; }), onToggle: handleColumnToggle, resource: resource })); })),\n                React.createElement(Button, { component: RouterLink, to: \"/create-custom-field\", startIcon: React.createElement(AddIcon, null), className: classes.addFieldButton }, translate('ra-preferences.no-code.action.add_computed_field')))); } })));\n};\nvar DefaultNewCustomField = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    addFieldButton: {\n        marginLeft: theme.spacing(0.5),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { List, ListItem, IconButton, Button, TextField, } from '@material-ui/core';\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport DeleteIcon from '@material-ui/icons/CancelOutlined';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport isEqual from 'lodash/isEqual';\nimport { useTranslate } from 'ra-core';\nimport { useResourceModel } from '../ResourceModel';\nimport { PropertyValueInput } from './PropertyValueInput';\nvar autocompleteFilter = createFilterOptions();\n/**\n * A controlled input component for editing object values\n *\n * Renders one row for each key/value pairs, allows adding and removing pairs.\n *\n * @example\n *\n * const App = () => {\n *   const [value, setValue] = useState({ foo: \"bar \" });\n *   const handleChange = (val) => {\n *     setValue(val);\n *   };\n *   return (<ObjectInput value={value} onChange={handleChange} />);\n * }\n */\nexport var ObjectInput = function (_a) {\n    var resource = _a.resource, value = _a.value, onChange = _a.onChange, className = _a.className;\n    var classes = useStyles();\n    var translate = useTranslate();\n    var _b = useState(function () {\n        return value ? Object.entries(value) : [];\n    }), entries = _b[0], setEntries = _b[1];\n    // The form uses the local state, which updates immediately on user input\n    // The changes are bubbled up (via onChange) when the user blurs an input, or deletes a row\n    // Adding a empty row doesn't call onChange\n    useEffect(function () {\n        var localValue = Object.fromEntries(entries);\n        if (value && !isEqual(value, localValue)) {\n            setEntries(Object.entries(value));\n        }\n    }, [value]); // eslint-disable-line react-hooks/exhaustive-deps\n    var model = useResourceModel(resource)[0];\n    var keys = Object.keys((model === null || model === void 0 ? void 0 : model.fields) || {}).map(function (key) { return ({\n        title: key,\n        value: key,\n    }); });\n    var handleKeyChange = function (index) {\n        return function (event, newKey) {\n            if (typeof newKey === 'string') {\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey, entries[index][1]]\n                ]), entries.slice(index + 1)); });\n            }\n            else if (newKey && newKey.value) {\n                // Create a new value from the user input\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey && newKey.value, '']\n                ]), entries.slice(index + 1)); });\n            }\n            else {\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey, '']\n                ]), entries.slice(index + 1)); });\n            }\n            // onChange will be called when a value is set\n        };\n    };\n    var handleValueChange = function (index) {\n        return function (event, newValue) {\n            var newEntries = __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                [entries[index][0], newValue]\n            ]), entries.slice(index + 1));\n            onChange(Object.fromEntries(newEntries));\n        };\n    };\n    var handleItemRemove = function (index) { return function () {\n        onChange(Object.fromEntries(__spreadArray(__spreadArray([], entries.slice(0, index)), entries.slice(index + 1))));\n        // the local state will be modified by the useEffect\n    }; };\n    var handleItemAdd = function () {\n        setEntries(function (entries) { return __spreadArray(__spreadArray([], entries), [['', '']]); });\n    };\n    if (!model || !model.fields) {\n        return null;\n    }\n    return (React.createElement(List, { className: className, dense: true },\n        entries.map(function (_a, index) {\n            var key = _a[0], val = _a[1];\n            return (React.createElement(ListItem, { key: index, className: classes.filterItemRow },\n                React.createElement(Autocomplete, { freeSolo: true, options: keys, value: key, onChange: handleKeyChange(index), filterOptions: function (options, params) {\n                        var filtered = autocompleteFilter(options, params);\n                        // Suggest the creation of a new value\n                        if (params.inputValue !== '') {\n                            filtered.push({\n                                inputValue: params.inputValue,\n                                title: \"Add \\\"\" + params.inputValue + \"\\\"\",\n                            });\n                        }\n                        return filtered;\n                    }, selectOnFocus: true, clearOnBlur: true, handleHomeEndKeys: true, className: classes.filterItemField, renderInput: function (params) { return (React.createElement(TextField, __assign({}, params, { label: \"Key\" }))); }, renderOption: function (option) { return option.title; }, getOptionLabel: function (option) {\n                        // Value selected with enter, right from the input\n                        if (typeof option === 'string') {\n                            return option;\n                        }\n                        // Add \"xxx\" option created dynamically\n                        if (option.inputValue) {\n                            return option.inputValue;\n                        }\n                        // Regular option\n                        return option.title;\n                    } }),\n                React.createElement(PropertyValueInput, { name: key, value: val, onChange: handleValueChange(index), type: model.fields[key], className: classes.filterItemValue }),\n                React.createElement(IconButton, { \"arial-label\": \"ra.action.delete\", onClick: handleItemRemove(index), size: \"small\", className: classes.deleteButton },\n                    React.createElement(DeleteIcon, null))));\n        }),\n        React.createElement(ListItem, null,\n            React.createElement(Button, { variant: \"outlined\", size: \"small\", startIcon: React.createElement(AddIcon, null), onClick: handleItemAdd }, translate('ra-preferences.no-code.list.filter.add', {\n                _: 'Add condition',\n            })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    filterItemRow: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingRight: 0,\n    },\n    filterItemField: {\n        flex: 1,\n        '&:first-child': {\n            marginRight: theme.spacing(1),\n        },\n    },\n    filterItemValue: {\n        flex: 1,\n    },\n    deleteButton: {\n        height: 30,\n    },\n}); });\n","import * as React from 'react';\nimport { Typography, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport { usePreferences } from '../../usePreferences';\nimport { ObjectInput } from './ObjectInput';\nimport { ResetSettingsButton } from '../ResetSettingsButton';\nimport { PreferencesEditor, EditorTitle } from '../Editor';\nimport { useGetResourceLabel } from 'react-admin';\n/**\n * A component which provides a configuration UI to tweak the List\n * @param {ListEditorProps} props\n * @param {ColumnList} props.columns The List columns\n * @param {String} props.resource The resource\n * @param {String} props.preferencesKey The key of the columns preferences\n */\nexport var ListEditor = function (_a) {\n    var defaultFilter = _a.defaultFilter, defaultTitle = _a.defaultTitle, resource = _a.resource, preferencesKey = _a.preferencesKey;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var getResourceLabel = useGetResourceLabel();\n    // title preferences\n    var _b = usePreferences(preferencesKey + \".title\", defaultTitle), title = _b[0], setTitle = _b[1];\n    var handleTitleChange = function (event) {\n        setTitle(event.target.value);\n    };\n    // filter preferences\n    var _c = usePreferences(preferencesKey + \".filter\", defaultFilter), filter = _c[0], setFilter = _c[1];\n    var handleFilterChange = function (value) {\n        setFilter(value);\n    };\n    return (React.createElement(PreferencesEditor, null,\n        React.createElement(React.Fragment, null,\n            React.createElement(EditorTitle, { title: translate('ra-preferences.no-code.editor.list', {\n                    resource: getResourceLabel(resource, 2),\n                }) }),\n            React.createElement(TextField, { label: translate('ra-preferences.no-code.list.title', {\n                    _: 'Title',\n                }), value: title, onChange: handleTitleChange, fullWidth: true, variant: \"filled\", size: \"small\", helperText: \" \" }),\n            React.createElement(Typography, { variant: \"body2\", color: \"textSecondary\", gutterBottom: true }, translate('ra-preferences.no-code.list.filter', {\n                _: 'Permanent filter',\n            })),\n            React.createElement(ObjectInput, { resource: resource, value: filter, onChange: handleFilterChange, className: classes.objectInput }),\n            React.createElement(ResetSettingsButton, { preferencesKey: preferencesKey }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    objectInput: {\n        borderLeft: \"solid 1px \" + theme.palette.divider,\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n}); });\n","export var CHANGE_EXPANDED_NODES = 'RA/TREE/CHANGE_EXPANDED_NODES';\nexport var changeExpandedNodes = function (resource, nodeIds) { return ({\n    type: CHANGE_EXPANDED_NODES,\n    payload: nodeIds,\n    meta: { resource: resource },\n}); };\nexport var EXPAND_NODE = 'RA/TREE/EXPAND_NODE';\nexport var expandNode = function (resource, nodeId) { return ({\n    type: EXPAND_NODE,\n    payload: nodeId,\n    meta: { resource: resource },\n}); };\nexport var CRUD_GET_TREE = 'RA/CRUD_GET_TREE';\nexport var CRUD_GET_TREE_LOADING = 'RA/CRUD_GET_TREE_LOADING';\nexport var CRUD_GET_TREE_SUCCESS = 'RA/CRUD_GET_TREE_SUCCESS';\nexport var CRUD_GET_TREE_FAILURE = 'RA/CRUD_GET_TREE_FAILURE';\nexport var CRUD_GET_ROOT_NODES = 'RA/CRUD_GET_ROOT_NODES';\nexport var CRUD_GET_ROOT_NODES_LOADING = 'RA/CRUD_GET_ROOT_NODES_LOADING';\nexport var CRUD_GET_ROOT_NODES_SUCCESS = 'RA/CRUD_GET_ROOT_NODES_SUCCESS';\nexport var CRUD_GET_ROOT_NODES_FAILURE = 'RA/CRUD_GET_ROOT_NODES_FAILURE';\nexport var CRUD_GET_CHILD_NODES = 'RA/CRUD_GET_CHILD_NODES';\nexport var CRUD_GET_CHILD_NODES_LOADING = 'RA/CRUD_GET_CHILD_NODES_LOADING';\nexport var CRUD_GET_CHILD_NODES_SUCCESS = 'RA/CRUD_GET_CHILD_NODES_SUCCESS';\nexport var CRUD_GET_CHILD_NODES_FAILURE = 'RA/CRUD_GET_CHILD_NODES_FAILURE';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_LOADING = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_LOADING';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_SUCCESS = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_SUCCESS';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_FAILURE = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_FAILURE';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_LOADING = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_LOADING';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_SUCCESS = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_SUCCESS';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_FAILURE = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_FAILURE';\nexport var CRUD_ADD_ROOT_NODE = 'RA/CRUD_ADD_ROOT_NODE';\nexport var CRUD_ADD_ROOT_NODE_LOADING = 'RA/CRUD_ADD_ROOT_NODE_LOADING';\nexport var CRUD_ADD_ROOT_NODE_SUCCESS = 'RA/CRUD_ADD_ROOT_NODE_SUCCESS';\nexport var CRUD_ADD_ROOT_NODE_FAILURE = 'RA/CRUD_ADD_ROOT_NODE_FAILURE';\nexport var CRUD_ADD_CHILD_NODE = 'RA/CRUD_ADD_CHILD_NODE';\nexport var CRUD_ADD_CHILD_NODE_LOADING = 'RA/CRUD_ADD_CHILD_NODE_LOADING';\nexport var CRUD_ADD_CHILD_NODE_SUCCESS = 'RA/CRUD_ADD_CHILD_NODE_SUCCESS';\nexport var CRUD_ADD_CHILD_NODE_FAILURE = 'RA/CRUD_ADD_CHILD_NODE_FAILURE';\nexport var CRUD_DELETE_BRANCH = 'RA/CRUD_DELETE_BRANCH';\nexport var CRUD_DELETE_BRANCH_LOADING = 'RA/CRUD_DELETE_BRANCH_LOADING';\nexport var CRUD_DELETE_BRANCH_SUCCESS = 'RA/CRUD_DELETE_BRANCH_SUCCESS';\nexport var CRUD_DELETE_BRANCH_FAILURE = 'RA/CRUD_DELETE_BRANCH_FAILURE';\nexport var POPULATE_RECORDS_FROM_NODES = 'RA/TREE/POPULATE_RECORDS_FROM_NODES';\nexport var CREATE_RECORD_FROM_NODE = 'RA/TREE/CREATE_RECORD_FROM_NODE';\nexport var ADD_UNSAVED_ROOT_NODE = 'RA/TREE/ADD_UNSAVED_ROOT_NODE';\nexport var REMOVE_UNSAVED_ROOT_NODE = 'RA/TREE/REMOVE_UNSAVED_ROOT_NODE';\nexport var ADD_UNSAVED_CHILD_NODE = 'RA/TREE/ADD_UNSAVED_CHILD_NODE';\nexport var REMOVE_UNSAVED_CHILD_NODE = 'RA/TREE/REMOVE_UNSAVED_CHILD_NODE';\n","export var UNSAVED_NEW_NODE = 'RA/UNSAVED_NEW_NODE';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { CHANGE_EXPANDED_NODES, EXPAND_NODE, ADD_UNSAVED_ROOT_NODE, REMOVE_UNSAVED_ROOT_NODE, ADD_UNSAVED_CHILD_NODE, REMOVE_UNSAVED_CHILD_NODE, } from './actions';\nimport { GET_TREE, GET_ROOT_NODES, GET_CHILD_NODES, ADD_CHILD_NODE, ADD_ROOT_NODE, } from './fetchTypes';\nimport { UNSAVED_NEW_NODE } from './constants';\nvar initialState = {};\n/**\n * Reducer for Tree state\n *\n * Store, for each resource with a tree, 2 objects:\n *  - nodes: a list of nodes indexd by id, containing an array of child ids\n *  - expanded: an array of the expanded ids\n *\n * @example\n *\n * tree: {\n *   categories: {\n *     nodes: {\n *       '1': [2,6],\n *       '2': [3],\n *       '3': [4,5],\n *       '4': [],\n *       '5': [],\n *       '6': [7,10,11],\n *       '7': [8,9],\n *       '8': [],\n *       '9': [],\n *       '10': [],\n *       '11': []\n *     },\n *     expanded: []\n *   }\n */\nexport var reducer = function (state, _a) {\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n    if (state === void 0) { state = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (!meta || !meta.resource) {\n        return state;\n    }\n    var resourceState = state[meta.resource] || {\n        nodes: undefined,\n        expanded: [],\n    };\n    // handling node expansion\n    if (type === CHANGE_EXPANDED_NODES) {\n        return __assign(__assign({}, state), (_b = {}, _b[meta.resource] = __assign(__assign({}, resourceState), { expanded: payload.map(String) }), _b));\n    }\n    if (type === EXPAND_NODE) {\n        if (resourceState.expanded.includes(payload)) {\n            // already expanded\n            return state;\n        }\n        // rc-tree should also expand ancestors but for some reasons it doesn't\n        // determine all the ancestors that must be opened\n        var newExpanded = [];\n        var current_1 = payload;\n        do {\n            newExpanded = newExpanded.concat(String(current_1));\n            current_1 = Object.keys(resourceState.nodes)\n                .filter(function (id) {\n                return resourceState.nodes[id].some(function (item) { return item == current_1; });\n            })\n                .pop();\n        } while (current_1);\n        // expand all these nodes\n        return __assign(__assign({}, state), (_c = {}, _c[meta.resource] = __assign(__assign({}, resourceState), { expanded: resourceState.expanded.concat(newExpanded) }), _c));\n    }\n    // handling local node insertion\n    if (type === ADD_UNSAVED_ROOT_NODE) {\n        return __assign(__assign({}, state), (_d = {}, _d[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_e = {}, _e[UNSAVED_NEW_NODE] = [], _e)) }), _d));\n    }\n    if (type === REMOVE_UNSAVED_ROOT_NODE) {\n        var _v = resourceState.nodes, _w = UNSAVED_NEW_NODE, _ = _v[_w], nodes = __rest(_v, [typeof _w === \"symbol\" ? _w : _w + \"\"]);\n        return __assign(__assign({}, state), (_f = {}, _f[meta.resource] = __assign(__assign({}, resourceState), { nodes: nodes }), _f));\n    }\n    if (type === 'RA/CRUD_DELETE_OPTIMISTIC') {\n        if (typeof resourceState.nodes !== 'undefined') {\n            console.warn(\"A record from a tree resource should not be deleted using the dataProvider.delete method. Please use dataProvider.deleteBranch instead.\");\n        }\n        return state;\n    }\n    if (type === 'RA/CRUD_DELETE_BRANCH_OPTIMISTIC') {\n        var nodesToRemove_1 = getNodesToRemove(resourceState.nodes, payload.id);\n        return __assign(__assign({}, state), (_g = {}, _g[meta.resource] = {\n            expanded: resourceState.expanded.filter(function (id) { return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; }); }),\n            nodes: Object.keys(resourceState.nodes)\n                .filter(function (id) {\n                return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; });\n            })\n                .reduce(function (acc, curr) {\n                acc[curr] = resourceState.nodes[curr].filter(function (id) {\n                    return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; });\n                });\n                return acc;\n            }, {}),\n        }, _g));\n    }\n    if (type === ADD_UNSAVED_CHILD_NODE) {\n        return __assign(__assign({}, state), (_h = {}, _h[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_j = {}, _j[payload.parentId] = resourceState.nodes[payload.parentId].concat(UNSAVED_NEW_NODE), _j[UNSAVED_NEW_NODE] = [], _j)), \n            // expand parent id not expanded\n            expanded: resourceState.expanded.includes(payload.parentId)\n                ? resourceState.expanded\n                : resourceState.expanded.concat(String(payload.parentId)) }), _h));\n    }\n    if (type === REMOVE_UNSAVED_CHILD_NODE) {\n        var _x = resourceState.nodes, _y = UNSAVED_NEW_NODE, _ = _x[_y], nodes = __rest(_x, [typeof _y === \"symbol\" ? _y : _y + \"\"]);\n        var children = nodes[payload.parentId].filter(function (e) { return e !== UNSAVED_NEW_NODE; });\n        return __assign(__assign({}, state), (_k = {}, _k[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, nodes), (_l = {}, _l[payload.parentId] = children, _l)) }), _k));\n    }\n    if (!meta.fetchResponse) {\n        return state;\n    }\n    // handling dataProvider response\n    switch (meta.fetchResponse) {\n        case GET_TREE:\n            return __assign(__assign({}, state), (_m = {}, _m[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign({}, payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children;\n                    return acc;\n                }, {})) }), _m));\n        case GET_ROOT_NODES:\n            return __assign(__assign({}, state), (_o = {}, _o[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children || [];\n                    return acc;\n                }, {})) }), _o));\n        case GET_CHILD_NODES:\n            return __assign(__assign({}, state), (_p = {}, _p[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign(__assign({}, (resourceState.nodes || {})), (_q = {}, _q[requestPayload.parentId] = payload.data.map(function (node) { return node.id; }), _q)), payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children || [];\n                    return acc;\n                }, {})) }), _p));\n        case ADD_ROOT_NODE:\n            return __assign(__assign({}, state), (_r = {}, _r[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_s = {}, _s[payload.data.id] = [], _s)) }), _r));\n        case ADD_CHILD_NODE:\n            return __assign(__assign({}, state), (_t = {}, _t[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_u = {}, _u[requestPayload.parentId] = resourceState.nodes[requestPayload.parentId].concat(payload.data.id), _u[payload.data.id] = [], _u)) }), _t));\n        default:\n            return state;\n    }\n};\nvar getNodesToRemove = function (nodes, nodeId) {\n    var children = nodes[nodeId];\n    var ids = (children || []).reduce(function (acc, child) { return __spreadArray(__spreadArray([], acc), getNodesToRemove(nodes, child)); }, []);\n    ids.push(nodeId);\n    return ids;\n};\n","export var GET_TREE = 'getTree';\nexport var GET_ROOT_NODES = 'getRootNodes';\nexport var GET_CHILD_NODES = 'getChildNodes';\nexport var MOVE_AS_NTH_CHILD_OF = 'moveAsNthChildOf';\nexport var MOVE_AS_NTH_SIBLING_OF = 'moveAsNthSiblingOf';\nexport var ADD_ROOT_NODE = 'addRootNode';\nexport var ADD_CHILD_NODE = 'addChildNode';\n","export var GET_LOCK = 'RA/GET_LOCK';\nexport var GET_LOCK_LOADING = 'RA/GET_LOCK_LOADING';\nexport var GET_LOCK_SUCCESS = 'RA/GET_LOCK_SUCCESS';\nexport var GET_LOCK_FAILURE = 'RA/GET_LOCK_FAILURE';\nexport var GET_LOCKS = 'RA/GET_LOCKS';\nexport var GET_LOCKS_LOADING = 'RA/GET_LOCKS_LOADING';\nexport var GET_LOCKS_SUCCESS = 'RA/GET_LOCKS_SUCCESS';\nexport var GET_LOCKS_FAILURE = 'RA/GET_LOCKS_FAILURE';\nexport var LOCK = 'RA/LOCK';\nexport var LOCK_LOADING = 'RA/LOCK_LOADING';\nexport var LOCK_SUCCESS = 'RA/LOCK_SUCCESS';\nexport var LOCK_FAILURE = 'RA/LOCK_FAILURE';\nexport var UNLOCK = 'RA/UNLOCK';\nexport var UNLOCK_LOADING = 'RA/UNLOCK_LOADING';\nexport var UNLOCK_SUCCESS = 'RA/UNLOCK_SUCCESS';\nexport var UNLOCK_FAILURE = 'RA/UNLOCK_FAILURE';\n","import { useState, useEffect } from 'react';\nimport { useDataProvider } from 'react-admin';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LOCK, LOCK_LOADING, LOCK_SUCCESS, LOCK_FAILURE, UNLOCK, UNLOCK_LOADING, UNLOCK_SUCCESS, UNLOCK_FAILURE, GET_LOCK, GET_LOCK_LOADING, GET_LOCK_SUCCESS, GET_LOCK_FAILURE, } from '../actions';\n/**\n * Hook to lock a record on mount. The record is unlocked when unmounting the component.\n * Be careful, you cannot have two locks on the same record.\n * If you just want to get the current lock (for example to display a warning),\n * please use the `useHasLock` hook instead.\n *\n * @param {string} resource The resource to lock\n * @param {any} recordId The record id to lock\n * @param {string} identity The identity of the locker\n * @param {Object} options Options applied to the lock / unlock mechanism\n * @param {Function} options.onSuccess Side effect function to be executed upon lock success, e.g. `{ onSuccess: () => notify('ra-realtime.notification.lock.lockedByMe') } }`\n * @param {Function} options.onFailure Side effect function to be executed upon lock failure, e.g. `{ onFailure: error => notify(error) } }`\n * @param {Function} options.onUnlockSuccess Side effect function to be executed upon unlock success, e.g. `{ onUnlockSuccess: () => notify('ra-realtime.notification.lock.unlocked') } }`\n * @param {Function} options.onUnlockFailure Side effect function to be executed upon unlock failure, e.g. `{ onUnlockFailure: error => notify(error) } }`\n *\n * @returns The current request state. Destructure as `{ data, error, loading, loaded }`.\n *\n * @example Simple Usage\n *\n * const MyLockedEditView: FC<any> = props => {\n *     const { resource, id } = props;\n *\n *     const { loading } = useLock(resource, id, 'mario');\n *\n *     if (loading) {\n *         return <CircularProgress />;\n *     }\n *\n *     return (\n *         <Edit {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n * };\n *\n */\nfunction useLock(resource, recordId, identity, options) {\n    var dataProvider = useDataProvider();\n    var dispatch = useDispatch();\n    var _a = useState(true), loading = _a[0], setLoading = _a[1];\n    var _b = useState(null), error = _b[0], setError = _b[1];\n    // Use lock from the state\n    // This way we can claim the lock when the current one is unlocked\n    var data = useSelector(function (state) {\n        return typeof state.locks[resource] === 'undefined'\n            ? undefined\n            : state.locks[resource][recordId];\n    });\n    useEffect(function () {\n        // If there's no lock, or if the lock identity is not the same\n        // We can claim lock\n        if (!data || data.identity !== identity) {\n            setLoading(true);\n            dispatch({\n                type: LOCK_LOADING,\n                payload: {},\n                meta: {\n                    resource: resource,\n                    recordId: recordId,\n                },\n            });\n            dataProvider\n                .lock(resource, {\n                resource: resource,\n                recordId: recordId,\n                identity: identity,\n            })\n                .then(function (_a) {\n                // Set directly the lock in case of success\n                var lock = _a.data;\n                dispatch({\n                    type: LOCK_SUCCESS,\n                    payload: {\n                        data: lock,\n                    },\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                        fetchResponse: LOCK,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onSuccess) != null) {\n                    options.onSuccess(lock);\n                }\n            })\n                .catch(function (error) {\n                // Get the existing lock in case of failure\n                dispatch({\n                    type: LOCK_FAILURE,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                setError(error);\n                if ((options === null || options === void 0 ? void 0 : options.onFailure) != null) {\n                    options.onFailure(error);\n                }\n                dispatch({\n                    type: GET_LOCK_LOADING,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                return dataProvider\n                    .getLock(resource, {\n                    resource: resource,\n                    recordId: recordId,\n                    identity: identity,\n                })\n                    .then(function (_a) {\n                    var lock = _a.data;\n                    dispatch({\n                        type: GET_LOCK_SUCCESS,\n                        payload: {\n                            data: lock,\n                        },\n                        meta: {\n                            resource: resource,\n                            recordId: recordId,\n                            fetchResponse: GET_LOCK,\n                        },\n                    });\n                })\n                    .catch(function () {\n                    dispatch({\n                        type: GET_LOCK_FAILURE,\n                        payload: {},\n                        meta: {\n                            resource: resource,\n                            recordId: recordId,\n                        },\n                    });\n                });\n            })\n                .finally(function () {\n                setLoading(false);\n            });\n        }\n        // Called on unmount to remove the lock\n        var unlockOnUnmount = function () {\n            // Resource is already unlocked during the unmount\n            // So we ignore it\n            if (!data) {\n                return;\n            }\n            dispatch({\n                type: UNLOCK_LOADING,\n                payload: {},\n                meta: {\n                    resource: resource,\n                    recordId: recordId,\n                },\n            });\n            dataProvider\n                .unlock(resource, {\n                resource: resource,\n                recordId: recordId,\n                identity: identity,\n            })\n                .then(function (_a) {\n                var lock = _a.data;\n                dispatch({\n                    type: UNLOCK_SUCCESS,\n                    payload: {\n                        data: lock,\n                    },\n                    meta: {\n                        fetchResponse: UNLOCK,\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onUnlockSuccess) != null) {\n                    options.onUnlockSuccess(lock);\n                }\n            })\n                .catch(function (error) {\n                dispatch({\n                    type: UNLOCK_FAILURE,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onUnlockFailure) != null) {\n                    options === null || options === void 0 ? void 0 : options.onUnlockFailure(error);\n                }\n            });\n        };\n        return unlockOnUnmount;\n    }, [data && data.identity]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        loading: loading,\n        loaded: !loading && (data != null || error != null),\n        error: error,\n        data: data,\n    };\n}\nexport default useLock;\n","import { useEffect } from 'react';\nimport { useDataProvider } from 'react-admin';\n/**\n * Hook to subscribe to the events for a custom topic\n * on mount (and unsubscribe on unmount).\n *\n * @example // Auto-Updated Messages Component\n *\n * const MessageComponent: FC<Props> = (props) => {\n *     const notify = useNotify();\n *     const [messages, updateMessages] = useState([]);\n *     useSubscribe('messageEvent', (event) => {\n *         updateMessages([event, ...messages]);\n *         notify('new message');\n *     });\n *     return (\n *         <Card {...props}>\n *             <Messages list={messages} />\n *         </Card>;\n *     ):\n * };\n */\nvar useSubscribe = function (topic, subscriptionCallback) {\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        if (!dataProvider || !topic || !subscriptionCallback) {\n            return;\n        }\n        dataProvider.subscribe(topic, subscriptionCallback);\n        return function () {\n            dataProvider.unsubscribe(topic, subscriptionCallback);\n        };\n    }, [dataProvider, topic, subscriptionCallback]);\n};\nexport default useSubscribe;\n","import useSubscribe from './useSubscribe';\n/**\n * Hook to subscribe to the events for a record list\n * on mount (and unsubscribe on unmount).\n *\n * @example // Auto-Updated PostList\n *\n * const PostList: FC<ListProps> = (props) => {\n *     const notify = useNotify();\n *     const refresh = useRefresh();\n *     useSubscribeToRecordList('posts', () => {\n *         refresh();\n *         notify('list updated server-side');\n *     });\n *     return (\n *         <List {...props}>\n *             <Datagrid>\n *                 <TextField source=\"title\" />\n *             </Datagrid>\n *         </List>;\n *     ):\n * };\n */\nvar useSubscribeToRecordList = function (resource, subscriptionCallback) {\n    var topic = \"resource/\" + resource;\n    useSubscribe(topic, subscriptionCallback);\n};\nexport default useSubscribeToRecordList;\n","export var EventType;\n(function (EventType) {\n    EventType[\"Updated\"] = \"updated\";\n    EventType[\"Created\"] = \"created\";\n    EventType[\"Deleted\"] = \"deleted\";\n})(EventType || (EventType = {}));\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useTranslate, RefreshButton } from 'react-admin';\nimport { Paper, Typography } from '@material-ui/core';\nimport { darken, lighten, makeStyles } from '@material-ui/core/styles';\nexport var Warning = function (props) {\n    var message = props.message, refresh = props.refresh, onRefresh = props.onRefresh;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Paper, { className: classes.root, role: \"alert\", square: true, elevation: 0 },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Typography, { gutterBottom: true, component: \"div\" }, translate('ra-realtime.notification.title')),\n            message),\n        React.createElement(\"div\", { className: classes.action }, refresh && React.createElement(RefreshButton, { onClick: onRefresh }))));\n};\nvar useStyles = makeStyles(function (theme) {\n    var getColor = theme.palette.type === 'light' ? darken : lighten;\n    var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n    return {\n        root: __assign(__assign({}, theme.typography.body2), { borderRadius: theme.shape.borderRadius, display: 'flex', padding: '6px 16px', margin: theme.spacing(1) + \"px 0\", color: getColor(theme.palette.warning.main, 0.6), backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9) }),\n        message: {\n            padding: theme.spacing(1) + \"px 0\",\n        },\n        action: {\n            display: 'flex',\n            alignItems: 'center',\n            marginLeft: 'auto',\n            paddingLeft: theme.spacing(2),\n            marginRight: -theme.spacing(1),\n        },\n    };\n}, {\n    name: 'RaWarning',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, useState, useEffect, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { MenuItem, ListItemIcon, Tooltip, Badge } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { useSubscribeToRecordList } from './dataProvider';\n/**\n * <MenuItemLink> equivalent, but with real-time update counts in badges\n *\n * @example\n *\n * import { RealTimeMenuItemLink } from '@react-admin/ra-realtime'\n *\n * const CustomMenu = ({ onMenuClick, logout }) => {\n *   const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n *   const open = useSelector(state => state.admin.ui.sidebarOpen);\n *   const resources = useSelector(getResources);\n *   return (\n *       <div>\n *           {resources.map(resource => (\n *               <RealTimeMenuItemLink\n *                   key={resource.name}\n *                   to={`/${resource.name}`}\n *                   primaryText={resource.options && resource.options.label || resource.name}\n *                   leftIcon={createElement(resource.icon)}\n *                   resource={resource.name}\n *                   badgeColor={'primary'}\n *                   onClick={onMenuClick}\n *                   sidebarIsOpen={open}\n *               />\n *           ))}\n *           <RealTimeMenuItemLink\n *               to=\"/custom-route\"\n *               primaryText=\"Miscellaneous\"\n *               leftIcon={<LabelIcon />}\n *               resource={resource.name}\n *               badgeColor={'error'}\n *               onClick={onMenuClick}\n *               sidebarIsOpen={open}\n *           />\n *           {isXSmall && logout}\n *       </div>\n *   );\n * }\n */\n// This component is a copy of MenuItemLink with some specific changes for the badges\nvar RealTimeMenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, resource = props.resource, _a = props.badgeColor, badgeColor = _a === void 0 ? 'error' : _a, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"resource\", \"badgeColor\", \"onClick\", \"sidebarIsOpen\"]);\n    var classes = useStyles(props);\n    var location = useLocation();\n    var _b = useState(0), countEvent = _b[0], setCountEvent = _b[1];\n    useSubscribeToRecordList(resource, function (event) {\n        var count = event.payload.ids.length;\n        if (isMenuActive(location, props)) {\n            var activeRecordId_1 = getActiveRecordIdFromRoute(location, props);\n            if (activeRecordId_1 == null) {\n                return;\n            }\n            count = event.payload.ids.filter(function (id) { return \"\" + id !== activeRecordId_1; }).length;\n        }\n        if (count) {\n            setCountEvent(function (previous) { return previous + count; });\n        }\n    });\n    useEffect(function () {\n        // Reset the counter when the Menu path is the current path (i.e. when the resource List is displayed)\n        if (location.pathname === props.to) {\n            setCountEvent(0);\n        }\n    }, [location, props.to]);\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref }, rest, { onClick: handleMenuTap }), leftIcon ? (React.createElement(React.Fragment, null,\n            React.createElement(StyledBadgeForIcon, { badgeContent: countEvent, color: badgeColor },\n                React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                    titleAccess: primaryText,\n                }))),\n            primaryText)) : (React.createElement(StyledBadgeForText, { badgeContent: countEvent, color: badgeColor }, primaryText))));\n    };\n    if (sidebarIsOpen) {\n        return renderMenuItem();\n    }\n    return (React.createElement(Tooltip, { title: primaryText, placement: \"right\" }, renderMenuItem()));\n});\nRealTimeMenuItemLink.displayName = 'RealTimeMenuItemLink';\nRealTimeMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    resource: PropTypes.string,\n    badgeColor: PropTypes.oneOf(['default', 'error', 'primary', 'secondary']),\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nNavLinkRef.displayName = 'NavLinkRef';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\nvar StyledBadgeForIcon = withStyles(function (theme) { return ({\n    badge: {\n        right: 12,\n        top: 3,\n        border: \"1px solid \" + theme.palette.background.paper,\n        padding: '0 4px',\n    },\n}); })(Badge);\nvar StyledBadgeForText = withStyles(function (theme) { return ({\n    badge: {\n        top: 3,\n        border: \"1px solid \" + theme.palette.background.paper,\n        padding: '0 4px',\n    },\n}); })(Badge);\nexport var isMenuActive = function (location, menuProps) {\n    return location.pathname === menuProps.to ||\n        location.pathname.includes(menuProps.to + \"/\");\n};\nexport var getActiveRecordIdFromRoute = function (_a, _b) {\n    var currentPath = _a.pathname;\n    var menuPath = _b.to;\n    var startIndex = currentPath.indexOf(menuPath.toString()) +\n        menuPath.toString().length +\n        1;\n    var endIndex = currentPath.indexOf('/', startIndex);\n    if (endIndex === -1) {\n        endIndex = currentPath.length;\n    }\n    if (endIndex <= startIndex) {\n        return null;\n    }\n    return currentPath.substring(startIndex, endIndex);\n};\nexport default RealTimeMenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport inflection from 'inflection';\nimport { makeStyles, useMediaQuery } from '@material-ui/core';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate, DashboardMenuItem, } from 'react-admin';\nimport RealTimeMenuItemLink from './RealTimeMenuItemLink';\n/**\n * <Menu> equivalent, but with real-time update counts in badges\n *\n * @example\n *\n * import { RealTimeMenu } from '@react-admin/ra-realtime'\n *\n * const CustomLayout: FC = (props) => (<Layout {...props} menu={RealTimeMenu} />;\n *\n * const MyAdmin = props => (\n *     <Admin\n *         dataProvider={realTimeDataProvider}\n *         layout={CustomLayout}\n *         i18nProvider={i18nProvider}\n *     >\n *         <Resource\n *             name=\"posts\"\n *             list={PostList}\n *             show={PostShow}\n *         />\n *     </Admin>\n * );\n */\nvar useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n    },\n}, { name: 'RaMenu' });\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\n// This component is a copy of Menu with some specific changes for the badges\nvar RealTimeMenu = function (props) {\n    var classesOverride = props.classes, className = props.className, dense = props.dense, hasDashboard = props.hasDashboard, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var resources = useSelector(getResources, shallowEqual);\n    // Used to force redraw on navigation\n    useSelector(function (state) { return state.router.location.pathname; });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest),\n        hasDashboard && (React.createElement(DashboardMenuItem, { onClick: onMenuClick, dense: dense, sidebarIsOpen: open })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(RealTimeMenuItemLink, { key: resource.name, to: \"/\" + resource.name, primaryText: translatedResourceName(resource, translate), leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null), resource: resource.name, onClick: onMenuClick, dense: dense, sidebarIsOpen: open })); }),\n        isXSmall && logout));\n};\nRealTimeMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nRealTimeMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default RealTimeMenu;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { LOCK, UNLOCK, GET_LOCK, GET_LOCKS } from './actions';\nvar initialState = {};\n/**\n * Reducer for Locks state\n *\n * Store a list of locks for each resource, indexed by their record id.\n * Each lock contains an object with the following keys:\n * - resource\n * - recordId\n * - identity\n * - createdAt\n *\n * @example\n *\n * locks: {\n *     comments: {\n *         '10': {\n *             resource: 'comments',\n *             recordId: '10',\n *             identity: 'adrien'\n *             createdAt: '2020-08-20'\n *         },\n *     },\n *     posts: {\n *         '5': {\n *             resource: 'posts',\n *             recordId: '5',\n *             identity: 'francois'\n *             createdAt: '2020-08-25'\n *         },\n *     }\n *   }\n */\nvar locksReducer = function (state, _a) {\n    var _b, _c, _d;\n    if (state === void 0) { state = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (!meta || !meta.resource || !meta.fetchResponse) {\n        return state;\n    }\n    var resourceState = state[meta.resource];\n    // handling dataProvider response\n    switch (meta.fetchResponse) {\n        case LOCK:\n        case GET_LOCK:\n            if (!payload || !payload.data || !payload.data.recordId) {\n                return state;\n            }\n            return __assign(__assign({}, state), (_b = {}, _b[meta.resource] = __assign(__assign({}, resourceState), (_c = {}, _c[payload.data.recordId] = __assign({}, payload.data), _c)), _b));\n        case GET_LOCKS:\n            if (!payload || !payload.data || !payload.data.length) {\n                return state;\n            }\n            return __assign(__assign({}, state), (_d = {}, _d[meta.resource] = __assign(__assign({}, resourceState), payload.data.reduce(function (acc, lock) {\n                if (!lock.recordId) {\n                    return acc;\n                }\n                acc[lock.recordId] = __assign({}, lock);\n                return acc;\n            }, {})), _d));\n        case UNLOCK:\n            if (!payload || !payload.data || !payload.data.recordId) {\n                return state;\n            }\n            var newState = __assign({}, state);\n            delete newState[meta.resource][payload.data.recordId];\n            return newState;\n        default:\n            return state;\n    }\n};\nexport default locksReducer;\n","var raRealTimeEnglishMessages = {\n    'ra-realtime': {\n        action: {\n            refresh: 'Refresh',\n        },\n        event_type: {\n            updated: 'updated',\n            created: 'created',\n            deleted: 'deleted',\n        },\n        notification: {\n            title: 'Warning',\n            record: {\n                updated: 'This record has been updated by another user',\n                deleted: 'This record has been deleted and is no longer available',\n            },\n            list: {\n                refreshed: 'List refreshed with %{smart_count} %{name} %{type} by another user',\n            },\n            lock: {\n                lockedBySomeoneElse: 'This record is locked by someone else.',\n                lockedByMe: 'You locked this record.',\n                unlocked: 'This record has been unlocked.',\n            },\n        },\n        error: {\n            type: 'The type of the event is missing',\n            topic: 'The topic is missing',\n            lock: {\n                noLock: 'There is no lock for this record.',\n                lockedBySomeoneElse: 'This record is locked by someone else.',\n                cannotUnlock: 'Impossible to unlock this record.',\n            },\n        },\n    },\n};\nexport default raRealTimeEnglishMessages;\n","import * as React from 'react';\nimport { createContext, useMemo } from 'react';\nexport var AppBreadcrumbContext = createContext({ hasDashboard: false });\nexport var AppBreadcrumbContextProvider = function (_a) {\n    var children = _a.children, hasDashboard = _a.hasDashboard;\n    var context = useMemo(function () { return ({ hasDashboard: hasDashboard }); }, [hasDashboard]);\n    return (React.createElement(AppBreadcrumbContext.Provider, { value: context }, children));\n};\n","import { useSelector, shallowEqual } from 'react-redux';\nimport { getResources } from 'react-admin';\nimport { useLocation } from 'react-router-dom';\nimport { resolveResourceLocationInfo, } from './resolveResourceLocationInfo';\nvar recordSelector = function (resource, id) { return function (state) {\n    return state.admin.resources[resource] && state.admin.resources[resource].data[id];\n}; };\nvar buildResourceLocationInfoPath = function (_a) {\n    var resource = _a.resource, type = _a.type;\n    return \"\" + resource + (type === 'list' ? '' : \".\" + type);\n};\nexport var useResourceAppLocation = function () {\n    var pathname = useLocation().pathname;\n    var resources = useSelector(getResources, shallowEqual);\n    // Since this can be null at mount, don't memoize it\n    var resourceLocationInfo = resolveResourceLocationInfo(pathname, resources);\n    var record = useSelector(resourceLocationInfo &&\n        ['show', 'edit'].includes(resourceLocationInfo.type)\n        ? recordSelector(resourceLocationInfo.resource, resourceLocationInfo.resourceId)\n        : function () { return undefined; });\n    if (pathname === '/') {\n        return {\n            path: '',\n            values: {},\n        };\n    }\n    return resourceLocationInfo\n        ? {\n            path: buildResourceLocationInfoPath(resourceLocationInfo),\n            values: { record: record },\n        }\n        : null;\n};\n","/**\n * Returns a ResourceLocationInfo object from a pathname and an array of resources metadatas\n *\n * @param {string} pathname Router's slash separated location\n * @param {Object[]} resources\n * @param {string} resources[].name Name of the resource (eg: songs)\n * @param {boolean} resources[].hasList Does the resource implement a list view?\n * @param {boolean} resources[].hasEdit Does the resource implement an edit view?\n * @param {boolean} resources[].hasCreate Does the resource implement a create view?\n * @param {boolean} resources[].hasShow Does the resource implement a show view?\n *\n * @returns {?ResourceLocationInfo} The resource location metadata or null\n */\nexport var resolveResourceLocationInfo = function (pathname, resources) {\n    for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n        var resource = resources_1[_i];\n        var name_1 = resource.name;\n        if (pathname.match(\"/\" + name_1 + \"/?$\")) {\n            return { resource: name_1, type: 'list' };\n        }\n        if (pathname.match(\"/\" + name_1 + \"/create(/([^/]*))?$\")) {\n            return { resource: name_1, type: 'create' };\n        }\n        var showMatch = pathname.match(new RegExp(\"^/\" + name_1 + \"/([^/]+)/show(/([^/]*))?$\"));\n        if (showMatch) {\n            return { resource: name_1, type: 'show', resourceId: showMatch[1] };\n        }\n        var matchEdit = pathname.match(new RegExp(\"^/\" + name_1 + \"/([^/]+)(/([^/]*))?$\"));\n        if (matchEdit) {\n            return { resource: name_1, type: 'edit', resourceId: matchEdit[1] };\n        }\n    }\n    return null;\n};\n","import { useContext, useCallback } from 'react';\nimport { LocationContext } from './AppLocationContext';\n/**\n * Hook getting App Location State from the current AppLocationContext\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @example\n *\n *  import { AppLocationContext, useAppLocationState } from '@react-admin/ra-navigation';\n *  import { Admin, Resource } from 'react-admin';\n *\n *  const PathViewer = () => {\n *    const [location] = useAppLocationState();\n *    return <h1>{`You're on the ${location.path} path!`}</h1>;\n *  };\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <PathViewer />\n *      {children}\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will be respectively equal to:\n *   - \"You're on the posts.list path!\" on Post List page\n *   - \"You're on the posts.show path!\" on Post Show page\n *   - \"You're on the posts.edit path!\" on Post Edit page\n *   - \"You're on the posts.create path!\" on Post Create page\n *\n * The \"location.values\" will also contains { record: {<Post>} } on Post Edit and post Show Pages.\n *\n * You can also set a custom app location on \"non-resource\" pages\n *\n * @example\n *\n *  import React from 'react';\n *  import { AppLocationContext, useAppLocationState } from '@react-admin/ra-navigation';\n *  import { Admin, Resource } from 'react-admin';\n *  import { Route } from 'react-router-dom';\n *\n *  const Foo = () => {\n *    const [_, setLocation] = useAppLocationState();\n *\n *    useEffect(() => {\n *      setLocation('path.to.the.foo');\n *    }, []);\n *\n *    return <span>It's Foo!</span>;\n *  };\n *\n *  const routes = [\n *    <Route exact path=\"/foo\" component={Foo} />,\n *  ];\n *\n *  const PathViewer = () => {\n *    const [location] = useAppLocationState();\n *    return <h1>{`You're on the ${location.path} path!`}</h1>;\n *  };\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <PathViewer />\n *      {children}\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} customRoutes={routes} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will be equal to \"You're on the path.to.the.foo path!\" on \"/foo\";\n */\nexport var useAppLocationState = function () {\n    var _a = useContext(LocationContext), location = _a[0], setLocation = _a[1];\n    if (typeof setLocation !== 'function') {\n        throw new Error(\"\\n            You've tried to access app location outside <AppLocationContext />.\\n            Please wrap your code with it first.\\n            \");\n    }\n    var setAppLocation = useCallback(function (path, values) {\n        if (values === void 0) { values = {}; }\n        setLocation({ path: path, values: values });\n    }, [setLocation]);\n    return [location, setAppLocation];\n};\n","export var DASHBOARD = 'dashboard';\nexport var DASHBOARD_LABEL = 'ra.page.dashboard';\n","import { useEffect, useRef } from 'react';\nimport { useResourceAppLocation } from './useResourceAppLocation';\nimport { useAppLocationState } from './useAppLocationState';\nimport { DASHBOARD } from './constants';\nimport { defaultLocation } from './AppLocationContext';\n/**\n * This component acts as a listener on changes in the resource location.\n * When the location of the resource changes, it modifies the location of the application accordingly.\n */\nexport var ResourceLocationListener = function (_a) {\n    var _b = _a.hasDashboard, hasDashboard = _b === void 0 ? false : _b;\n    var _c = useAppLocationState(), setLocation = _c[1];\n    var resourceLocation = useResourceAppLocation();\n    var currentResourceLocation = useRef(undefined);\n    useEffect(function () {\n        var _a = resourceLocation || defaultLocation, path = _a.path, values = _a.values;\n        if (resourceLocation) {\n            if (!path && hasDashboard) {\n                // Set the location state to Dashboard when navigate to root url\n                setLocation(DASHBOARD);\n            }\n            else {\n                setLocation(path, values);\n            }\n        }\n        else if (currentResourceLocation.current) {\n            // Reset the location state if the users navigated away from a resource page or the dashboard\n            setLocation(null);\n        }\n        currentResourceLocation.current = resourceLocation;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [JSON.stringify(resourceLocation)]);\n    return null;\n};\n","import * as React from 'react';\nimport { createContext, useCallback, useRef, useState, } from 'react';\nimport { AppBreadcrumbContextProvider } from './AppBreadcrumbContext';\nimport { getDeepestLocation } from './getDeepestLocation';\nimport { ResourceLocationListener } from './ResourceLocationListener';\nexport var LocationContext = createContext([]);\nexport var defaultLocation = {\n    path: null,\n    values: {},\n};\n/**\n * The <AppLocationContext /> component allows to wrap our application inside an unique location context.\n * This component must be contained by our admin to be able to access the current registred resources from the redux store.\n *\n * So, the easiest way to include it is to use a custom Layout as a wrapper since you (probably) need to insert your breadcrumb here too.\n *\n * @example\n *\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  const MyLayout = ({ children, ...props }) => {\n *      const classes = useStyles();\n *\n *      return (\n *          <AppLocationContext>\n *              <Layout {...props}>\n *                  {children}\n *              </Layout>\n *          </AppLocationContext>\n *      );\n *  };\n *\n *  const App = () => (\n *      <Admin dataProvider={dataProvider} layout={MyLayout}>\n *          <Resource name=\"posts\" list={PostList} />\n *      </Admin>\n *  );\n */\nexport var AppLocationContext = function (_a) {\n    var children = _a.children, _b = _a.initialLocation, initialLocation = _b === void 0 ? defaultLocation : _b, _c = _a.hasDashboard, hasDashboard = _c === void 0 ? false : _c;\n    var locations = useRef([]);\n    var timeout = useRef(undefined);\n    var _d = useState(initialLocation), location = _d[0], setLocation = _d[1];\n    var optimizedSetLocation = useCallback(function (appLocation) {\n        locations.current.push(appLocation);\n        if (!timeout.current) {\n            timeout.current = setTimeout(function () {\n                setLocation(getDeepestLocation(locations.current));\n                locations.current = [];\n                timeout.current = undefined;\n            }, 50);\n        }\n    }, []);\n    return (React.createElement(LocationContext.Provider, { value: [location, optimizedSetLocation] },\n        React.createElement(AppBreadcrumbContextProvider, { hasDashboard: hasDashboard },\n            React.createElement(ResourceLocationListener, { hasDashboard: hasDashboard }),\n            children)));\n};\n","export var getDeepestLocation = function (locations) {\n    var result = locations.reduce(function (currentLocation, location) {\n        if (currentLocation) {\n            var currentLocationLength = currentLocation.path\n                ? currentLocation.path.split('.').length\n                : 0;\n            var locationLength = location.path\n                ? location.path.split('.').length\n                : 0;\n            if (currentLocationLength > locationLength) {\n                return currentLocation;\n            }\n            if (locationLength > currentLocationLength) {\n                return location;\n            }\n            if (currentLocation.path) {\n                return currentLocation;\n            }\n        }\n        return location;\n    }, undefined);\n    return result;\n};\n","import { useCallback } from 'react';\nimport { useAppLocationState } from './useAppLocationState';\n/**\n * Hook returning a function that checks if the path argument matches the current location in the context\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @example\n *\n *  import { AppLocationContext, useAppLocationMatcher } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  const MatchAdvertiser = () => {\n *    const match = useAppLocationMatcher();\n *\n *    return (\n *      <>\n *        {match('posts') && <h1>You're on the Posts...</h1>}\n *        {match('posts.list) && <h2>Moreover it's the Posts List!</h2>}\n *      </>\n *    );\n *  };\n *\n *  const MyLayout = ({ children, ...props }) =>  (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *        <MatchAdvertiser />\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will only show \"You're on the Posts...\" on Post Edit page.\n * It'll show both \"You're on the Posts...\" and \"Moreover it's the Posts List!\" on Post List page.\n */\nexport var useAppLocationMatcher = function () {\n    var location = useAppLocationState()[0];\n    return useCallback(function (path) {\n        // Should always match the empty path which is the dashboard\n        if (path === '') {\n            return location;\n        }\n        var pathToMatchParts = (location.path || '').split('.');\n        var pathParts = path.split('.');\n        var isMatch = pathParts.reduce(function (isMatch, part, index) {\n            if (pathToMatchParts.length - 1 < index) {\n                return false;\n            }\n            return isMatch && part === pathToMatchParts[index];\n        }, true);\n        return isMatch ? location : null;\n    }, [location]);\n};\n","import { useContext } from 'react';\nimport { AppBreadcrumbContext } from './AppBreadcrumbContext';\n/**\n * A hook which will returns a boolean indicating wether a dashboard exists on the Admin.\n * It relies on the `hasDashboard` prop of the `<AppLocationContext>`\n *\n * You may force its value by passing a props object containing an `hasDashboard` property.\n * @see AppLocationContext\n * @returns A boolean indicating wether a dashboard exists on the Admin.\n */\nexport var useHasDashboard = function (props) {\n    var context = useContext(AppBreadcrumbContext);\n    return props.hasDashboard != undefined\n        ? props.hasDashboard\n        : context.hasDashboard;\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { useAppLocationState } from '../app-location';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\n/**\n * The <Breadcrumb /> component allows to include a breadcrumb inside our application.\n * The layout of the app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @param {string} separator Optionnal. Specify the separator caracter between items. Default is '/'.\n * @param {string} className Optionnal. To allow a style customization of this Component.\n * @param {ReactElement} dashboard Optionnal. Passed by Layout to detect if a Dashboard page has been set.\n * @param {boolean} hasDashboard Optionnal. Boolean to manually activate Dashboard navigation. Default is false.\n *\n * By default, the <Breadcrumb /> item will not render anything.\n * To turn on the breadcrumb resolving from your current react-admin resources,\n * you'll need to provide a <ResourceBreacrumbItems /> component as <Breadcrumb /> child.\n *\n * We don't recommend adding the Breadcrumb inside your layout as it would add unecessary\n * space above the current view. Instead, you should add it directly on the views. For react-admin\n * views such as Create, Show and Edit, you can use `<Breadcrumb variant=\"actions\">` which applies custom styles to make it fit inside a `<TopToolbar>` used in actions.\n * The `ra-enterprise` package includes alternative version of all react-admin views with the breadcrumb\n * already included.\n *\n * @example\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb, ResourceBreadcrumbItems } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const MyLayout = ({ children, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb {...props}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * It'll display respectively:\n *   - \"Posts\" on Post List\n *   - \"Posts / Show #1\" on Post Show with id = 1\n *   - \"Posts / Edit #1\" on Post Edit with id = 1\n *   - \"Posts / Create\" on Post Create\n *\n * If the app have a dashboard page, you can automatically set the root the Breadcrumb to this page in to possible way:\n *\n * 1. By passing the dashboard prop to the Component\n * const MyLayout = ({ children, dashboard, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb dashboard={dashboard}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n * 2. By passing a hasDashboard prop to the Component\n * const MyLayout = ({ children, dashboard, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb hasDashboard={true}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n * By doing this, the breadcrumb will now show respectively:\n *   - \"Dashboard / Posts\" on Post List\n *   - \"Dashboard / Posts / Show #1\" on Post Show with id = 1\n *   - \"Dashboard / Posts / Edit #1\" on Post Edit with id = 1\n *   - \"Dashboard / Posts / Create\" on Post Create\n *\n * It's also possible to define a custom breadcrumb tree inside <Breadcrumb />.\n * This way, custom routes can also be displayed inside the breadcrumb.\n *\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *  import { Route } from 'react-router-dom';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const UserPreferences = () => {\n *    useDefineAppLocation('myhome.user.preferences');\n *    return <span>My Preferences</span>;\n *  };\n *\n *  const routes = [\n *    <Route exact path=\"/user/preferences\" component={UserPreferences} />,\n *  ];\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb>\n *            <ResourceBreadcrumbItems />\n *            <BreadcrumbItem name=\"myhome\" label=\"Home\">\n *              <BreadcrumbItem name=\"user\" label=\"User\">\n *                <BreadcrumbItem name=\"preferences\" label=\"Preferences\" />\n *              </BreadcrumbItem>\n *            </BreadcrumbItem>\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} customRoutes={routes} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The displayed path will be \"Dashboard / User / Preferences\" on \"/user/preferences\"\n *\n * The breadcrumb separator used by default is \"/\". It can be overridden using a string or a function.\n *\n *   <Breadcrumb separator=\">\">{items}</Breadcrumb>\n *   <Breadcrumb separator={() => `url('data:image/png;base64,iVBORw0KGgoAA....')`}>\n *      {items}\n *   </Breadcrumb>\n *\n * In some cases, it's useful to override the default resource breadcrumb path\n * eg: to add custom label instead of \"Show #1\", \"Edit #1\", ...\n *\n * This can be done by disabling concerned resources (enabling only ones we don't customize) and declare them manually.\n *\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb, ResourceBreadcrumbItems } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout, linkToRecord } from 'react-admin';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const MyLayout = ({ children }) => (\n *    <Layout {...props}>\n *        <Breadcrumb {...props}>\n *          <ResourceBreadcrumbItems resources={['otherResources']} />\n *          <BreadcrumbItem name=\"posts\" label=\"Posts\">\n *            <BreadcrumbItem\n *              name=\"edit\"\n *              label={({ record }) => `Edit \"${record.title}\"`}\n *              to={({ record }) => record && `${linkToRecord('/songs', record.id)}/edit`}\n *            />\n *            <BreadcrumbItem\n *              name=\"show\"\n *              label={({ record }) => record.title}\n *              to={({ record }) => record && `${linkToRecord('/songs', record.id)}/show`}\n *            />\n *            <BreadcrumbItem name=\"list\" label=\"My Post List\" />\n *            <BreadcrumbItem name=\"create\" label=\"Let's write a Post!\" />\n *          </BreadcrumbItem>\n *        </Breadcrumb>\n *      {children}\n *    </Layout>\n *  );\n *\n *  const App = () => (\n *    <AppLocationContext>\n *      <Admin dataProvider={dataProvider} layout={MyLayout}>\n *        <Resource\n *          name=\"posts\"\n *          list={PostList}\n *          edit={PostEdit}\n *          show={PostShow}\n *          create={PostCreate}\n *        />\n *        <Resource name=\"otherResource\" ... />\n *      </Admin>\n *    </AppLocationContext>\n *  );\n */\nexport var Breadcrumb = function (_a) {\n    var _b;\n    var children = _a.children, className = _a.className, variant = _a.variant, props = __rest(_a, [\"children\", \"className\", \"variant\"]);\n    var location = useAppLocationState()[0];\n    var classes = useStyles(props);\n    var hasDashboard = useHasDashboard(props);\n    var finalHasDashboard = props.dashboard != undefined ? !!props.dashboard : hasDashboard;\n    if (!location.path)\n        return null;\n    return (React.createElement(\"nav\", { \"aria-label\": \"Breadcrumb\", className: classnames(className, (_b = {},\n            _b[classes.actions] = variant === 'actions',\n            _b)) },\n        React.createElement(\"ul\", { className: classes.root }, React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                hasDashboard: finalHasDashboard,\n            });\n        }))));\n};\nvar separatorResolver = function (_a) {\n    var separator = _a.separator;\n    return typeof separator === 'function' ? separator() : \"\\\"\" + (separator || '/') + \"\\\"\";\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        '& li': {\n            display: 'inline',\n            color: theme.palette.text.secondary,\n            '&+li::before': {\n                content: separatorResolver,\n                padding: \"0 \" + theme.spacing(1) + \"px\",\n            },\n            '&+li:last-child': {\n                color: theme.palette.text.primary,\n            },\n            '& a': {\n                textDecoration: 'none',\n                '&:hover': {\n                    textDecoration: 'underline',\n                },\n            },\n        },\n    },\n    actions: {\n        // Same padding as the MuiButton with small text\n        padding: '4px 5px',\n        // Ensure the breadcrumb is at the left of the view\n        marginRight: 'auto',\n    },\n}); }, { name: 'ra-navigation/Breadcrumb' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Link, Typography } from '@material-ui/core';\nimport { useAppLocationMatcher, DASHBOARD } from '../app-location';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\nimport { useTranslate } from 'ra-core';\nvar resolveOrReturn = function (valueOrFunction, context) {\n    return typeof valueOrFunction === 'function'\n        ? valueOrFunction(context)\n        : valueOrFunction;\n};\n/**\n * The <BreadcrumbItem /> is the component used to display the breadcrumb path inside <Breadcrumb />\n *\n * @param {string} name Required. The name of this item which will be used to infer its full path.\n * @param {string} path Internal prop used to build the item full path.\n * @param {function|string} label Required. The label to display for this item.\n * @param {function|string} to Optional. The react-router path to redirect to.\n * @param {boolean} hasDashboard Optional. A boolean indicating whether a dashboard is present. If it is, the dashboard item will be added in the breadcrumb on every pages. You shouldn't have to pass this prop unless you're wrapping the `<BreadcrumbItem>`\n *\n * @see Breadcrumb\n */\nexport var BreadcrumbItem = function (props) {\n    var locationMatcher = useAppLocationMatcher();\n    var hasDashboard = useHasDashboard(props);\n    var translate = useTranslate();\n    var to = props.to, name = props.name, path = props.path, label = props.label, children = props.children, hasDashboardOverride = props.hasDashboard, rest = __rest(props, [\"to\", \"name\", \"path\", \"label\", \"children\", \"hasDashboard\"]);\n    var currentPath = name === DASHBOARD ? '' : \"\" + (path ? path + \".\" : '') + name;\n    var location = locationMatcher(currentPath);\n    if (!location) {\n        return null;\n    }\n    if (name === DASHBOARD && location.path === DASHBOARD) {\n        return null;\n    }\n    var exactMatch = location.path === currentPath;\n    var resolvedLabel = resolveOrReturn(label, location.values);\n    var translatedLabel = translate(resolvedLabel, { _: resolvedLabel });\n    var resolvedTo = resolveOrReturn(to, location.values);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"li\", __assign({ key: name }, rest), resolvedTo && !exactMatch ? (React.createElement(Link, { variant: \"body2\", color: \"inherit\", component: RouterLink, to: resolvedTo }, translatedLabel)) : (React.createElement(Typography, { variant: \"body2\", color: \"inherit\", component: \"span\" }, translatedLabel))),\n        React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                path: currentPath,\n                hasDashboard: hasDashboard,\n            });\n        })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { linkToRecord, getResources, useTranslate, useGetResourceLabel, } from 'react-admin';\nimport { useSelector, shallowEqual } from 'react-redux';\n/**\n * Builds a map of paths from a resources array\n *\n * @param {array} resources\n * @param {function} translate\n *\n * The output map is of the following form:\n *\n * {\n *  songs: { label: 'Songs', to: '/songs' },\n *  songs.create: { label: 'Create Song', to: '/songs/create' },\n *  songs.show: {\n *    label: ({ record }) => `Show #${record.id}`,\n *    to: ({ record }) => `/${record.id}/show`\n *  }\n *  songs.edit: {\n *    label: ({ record }) => `Edit #${record.id}`,\n *    to: ({ record }) => `/${record.id}/edit`\n *  }\n * }\n */\nexport var buildResourcesBreadcrumbPaths = function (resources, translate, getResourceLabel) {\n    return resources.reduce(function (paths, resource) {\n        var resourcePaths = {};\n        var resourceLabelPlural = getResourceLabel(resource.name, 2);\n        var resourceLabelSingular = getResourceLabel(resource.name, 1);\n        resourcePaths[resource.name] = {\n            label: resourceLabelPlural,\n            to: \"/\" + resource.name,\n        };\n        resourcePaths[resource.name + \".create\"] = {\n            label: !resource.hasList\n                ? translate('ra.page.create', {\n                    name: resourceLabelSingular,\n                })\n                : translate('ra.action.create'),\n            to: \"/\" + resource.name + \"/create\",\n        };\n        resourcePaths[resource.name + \".edit\"] = {\n            label: function (_a) {\n                var record = _a.record;\n                return !record\n                    ? translate('ra.action.edit')\n                    : !resource.hasList\n                        ? translate('ra.page.edit', {\n                            name: resourceLabelSingular,\n                            id: record.id,\n                            record: record,\n                        })\n                        : \"#\" + record.id;\n            },\n            to: function (_a) {\n                var record = _a.record;\n                return record &&\n                    linkToRecord('/' + resource.name, record.id) + \"/edit\";\n            },\n        };\n        resourcePaths[resource.name + \".show\"] = {\n            label: function (_a) {\n                var record = _a.record;\n                return !record\n                    ? translate('ra.action.show')\n                    : !resource.hasList\n                        ? translate('ra.page.show', {\n                            name: resourceLabelSingular,\n                            id: record.id,\n                            record: record,\n                        })\n                        : \"#\" + record.id;\n            },\n            to: function (_a) {\n                var record = _a.record;\n                return record &&\n                    linkToRecord('/' + resource.name, record.id) + \"/show\";\n            },\n        };\n        return __assign(__assign({}, paths), resourcePaths);\n    }, {});\n};\n/**\n * This hook is used internally to build a resource breadcrumb path map\n * The result is usually used by <ResourceBreadcrumbItems /> to render a BreadcrumbItem tree from current resources\n *\n * @see ResourceBreadcrumbItems\n */\nexport var useResourcesBreadcrumbPaths = function (selectedResources) {\n    var resources = useSelector(getResources, shallowEqual);\n    var getResourceLabel = useGetResourceLabel();\n    var translate = useTranslate();\n    return buildResourcesBreadcrumbPaths(resources.filter(function (resource) {\n        return !selectedResources || selectedResources.includes(resource.name);\n    }), translate, getResourceLabel);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { BreadcrumbItem } from './BreadcrumbItem';\nimport { DASHBOARD, DASHBOARD_LABEL } from '../app-location';\nexport var DashboardBreadcrumbItem = function (_a) {\n    var children = _a.children, _b = _a.label, label = _b === void 0 ? DASHBOARD_LABEL : _b, props = __rest(_a, [\"children\", \"label\"]);\n    return (React.createElement(BreadcrumbItem, __assign({ name: DASHBOARD, to: \"/\", label: label }, props), children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useResourcesBreadcrumbPaths } from './useResourcesBreadcrumbPaths';\nimport { BreadcrumbItem } from './BreadcrumbItem';\nimport { DashboardBreadcrumbItem } from './DashboardBreadcrumbItem';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\n/**\n * The <ResourceBreadcrumbItems /> component allows to render a bunch of <BreadcrumbItem /> from a list of resources\n * By default (without the \"resources\" props), it'll render all the react-admin registred resources\n *\n * @see BreadcrumbItem\n */\nexport var ResourceBreadcrumbItems = function (_a) {\n    var resources = _a.resources, props = __rest(_a, [\"resources\"]);\n    var resourcesPaths = useResourcesBreadcrumbPaths(resources);\n    var hasDashboard = useHasDashboard(props);\n    if (hasDashboard) {\n        return (React.createElement(DashboardBreadcrumbItem, null, Object.keys(resourcesPaths).map(function (name) { return (React.createElement(BreadcrumbItem, __assign({ key: name, name: name }, resourcesPaths[name]))); })));\n    }\n    return (React.createElement(React.Fragment, null, Object.keys(resourcesPaths).map(function (name) { return (React.createElement(BreadcrumbItem, __assign({ key: name, name: name }, resourcesPaths[name]))); })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var Menu = function (_a) {\n    var className = _a.className, props = __rest(_a, [\"className\"]);\n    var classes = useStyles();\n    return (React.createElement(List, __assign({ className: classnames(classes.root, className), disablePadding: true }, props, props)));\n};\nvar useStyles = makeStyles({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n","import { createContext, useContext } from 'react';\nexport var MultiLevelMenuContext = createContext(undefined);\nexport var useMultiLevelMenu = function () {\n    var context = useContext(MultiLevelMenuContext);\n    if (!context && process.env.NODE_ENV !== 'production') {\n        throw new Error('useMultiLevelMenu must be used within a MultiLevelMenuContext.Provider');\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint react/display-name:off */\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useCallback, useEffect, useRef, useState, forwardRef, } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useAppLocationMatcher } from '../app-location';\nimport { useMultiLevelMenu } from './MultiLevelMenuContext';\n/**\n * The <MenuItem> component is used to display a single item inside a <MultiLevelMenu> component.\n * @see Breadcrumb\n *\n * It accepts <MenuItems> children which will be displayed inside a collapsible container.\n *\n * @example <caption>Simple Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const MyMenu = () => (\n *     <MultiLevelMenu>\n *         <MenuItem name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItem name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItem name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *             <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const MyLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={MyMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={MyLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MenuItem = function (props) {\n    var _a, _b;\n    var children = props.children, classesOverride = props.classes, className = props.className, label = props.label, icon = props.icon, name = props.name, onClick = props.onClick, to = props.to, exact = props.exact, disableGutters = props.disableGutters, rest = __rest(props, [\"children\", \"classes\", \"className\", \"label\", \"icon\", \"name\", \"onClick\", \"to\", \"exact\", \"disableGutters\"]);\n    var rootRef = useRef();\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var sidebarIsOpen = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var hasSubItems = Children.count(children) > 0;\n    var match = useAppLocationMatcher();\n    var multiLevelMenuContext = useMultiLevelMenu();\n    var isActive = !!match(name);\n    var _c = useState(isActive || multiLevelMenuContext.isOpen(name)), isOpen = _c[0], setIsOpenState = _c[1];\n    var showSubMenuToggle = hasSubItems && (sidebarIsOpen || multiLevelMenuContext.hasCategories);\n    useEffect(function () {\n        if (multiLevelMenuContext.isFirstLoad &&\n            multiLevelMenuContext.initialOpen) {\n            multiLevelMenuContext.open(name);\n            setIsOpenState(true);\n        }\n    }, []); // eslint-disable-line\n    useEffect(function () {\n        // Automatically open submenu if needed on location change\n        if (isActive && !multiLevelMenuContext.isOpen(name)) {\n            multiLevelMenuContext.open(name);\n            setIsOpenState(true);\n        }\n    }, [isActive, multiLevelMenuContext, name]);\n    var setIsOpen = function (isOpen) {\n        multiLevelMenuContext.setIsOpen(name, isOpen);\n        setIsOpenState(isOpen);\n    };\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var handleToggleSubMenu = function (event) {\n        event.stopPropagation();\n        event.preventDefault();\n        setIsOpen(!isOpen);\n    };\n    var translatedLabel = isValidElement(label)\n        ? label\n        : translate(label.toString(), { _: label });\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListItem, __assign({ className: classnames(classes.root, className), ref: rootRef }, rest, { button: false, disableGutters: true, onClick: handleMenuTap }),\n            React.createElement(NavLink, { className: classnames(classes.link, (_a = {},\n                    _a[classes.active] = !!isActive,\n                    _a[classes.gutters] = !disableGutters,\n                    _a)), to: to, exact: exact },\n                icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                    titleAccess: translatedLabel,\n                }))),\n                (sidebarIsOpen || multiLevelMenuContext.hasCategories) && (React.createElement(ListItemText, null, translatedLabel)),\n                showSubMenuToggle && (React.createElement(ListItemSecondaryAction, { className: classes.icon },\n                    React.createElement(IconButton, { onClick: handleToggleSubMenu, edge: \"end\", \"aria-expanded\": isOpen, \"aria-controls\": name + \"-submenu\", \"aria-label\": translate(isOpen\n                            ? 'ra.action.close'\n                            : 'ra.action.expand') }, isOpen ? (React.createElement(ExpandLessIcon, null)) : (React.createElement(ExpandMoreIcon, null))))))),\n        hasSubItems && (React.createElement(Collapse, { in: isOpen, component: forwardRef(function (props, ref) { return (React.createElement(\"li\", __assign({ id: name + \"-submenu\", ref: ref }, props))); }), unmountOnExit: true },\n            React.createElement(List, { className: classnames(classes.nestedList, (_b = {},\n                    _b[classes.hiddenNestedList] = !showSubMenuToggle,\n                    _b)), disablePadding: true }, children)))));\n};\nMenuItem.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    onClick: PropTypes.func,\n    label: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        padding: theme.spacing(0),\n    },\n    link: {\n        color: theme.palette.text.secondary,\n        whiteSpace: 'nowrap',\n        textDecoration: 'none',\n        display: 'flex',\n        padding: theme.spacing(1, 0),\n        '&:hover': {\n            color: theme.palette.text.primary,\n            backgroundColor: theme.palette.grey[200],\n        },\n    },\n    gutters: {\n        padding: theme.spacing(1, 2),\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: {\n        color: 'inherit',\n        minWidth: theme.spacing(5),\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    nestedList: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        paddingLeft: theme.spacing(4),\n    },\n    hiddenNestedList: {\n        display: 'none',\n    },\n}); }, { name: 'RaMenuItem' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint react/display-name:off */\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useCallback, useEffect, useRef, useState, } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Popover from '@material-ui/core/Popover';\nimport IconButton from '@material-ui/core/IconButton';\nimport Slide from '@material-ui/core/Slide';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useMultiLevelMenu } from './MultiLevelMenuContext';\nimport { useAppLocationMatcher } from '../app-location';\n/**\n * The <MenuItemCategory> component is used to display a single category item inside a <MultiLevelMenu> component.\n * @see MultiLevelMenu\n *\n * It accepts <MenuItems> children which will be displayed inside a collapsible container.\n *\n * @example <caption>Category Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const MyMenu = () => (\n *     <MultiLevelMenu variant=\"categories\">\n *         <MenuItemCategory name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItemCategory name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItemCategory name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <Typography variant=\"h3\">By genre</Typography>\n *             <Menu>\n *                 <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *                 <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *             </Menu>\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const MyLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={MyMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={MyLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MenuItemCategory = function (props) {\n    var _a;\n    var children = props.children, classesOverride = props.classes, className = props.className, label = props.label, icon = props.icon, name = props.name, onClick = props.onClick, to = props.to, exact = props.exact, rest = __rest(props, [\"children\", \"classes\", \"className\", \"label\", \"icon\", \"name\", \"onClick\", \"to\", \"exact\"]);\n    var rootRef = useRef();\n    var subMenuRef = useRef();\n    var classes = useStyles(props);\n    var theme = useTheme();\n    var translate = useTranslate();\n    var match = useAppLocationMatcher();\n    var multiLevelMenuContext = useMultiLevelMenu();\n    var sidebarIsOpen = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var isActive = !!match(name);\n    var _b = useState(isActive || multiLevelMenuContext.isOpen(name)), isSubMenuOpen = _b[0], setIsSubMenuOpenState = _b[1];\n    var setIsSubmenuOpen = useCallback(function (isOpen) {\n        multiLevelMenuContext.setIsOpen(name, isOpen);\n        setIsSubMenuOpenState(isOpen);\n    }, [multiLevelMenuContext, name]);\n    useEffect(function () {\n        var callback = function (openingName) {\n            // We don't close items that starts with the same name\n            // It avoid closing item when a submenu is selected\n            if (!openingName.startsWith(name)) {\n                setIsSubmenuOpen(false);\n            }\n        };\n        multiLevelMenuContext.onOpen(callback);\n        return function () { return multiLevelMenuContext.offOpen(callback); };\n    }, [multiLevelMenuContext, name, setIsSubmenuOpen]);\n    var hasSubItems = Children.count(children) > 0;\n    var handleMenuTap = useCallback(function (event) {\n        onClick && onClick(event);\n        setIsSubmenuOpen(!isSubMenuOpen);\n    }, [isSubMenuOpen, onClick, setIsSubmenuOpen]);\n    useEffect(function () {\n        multiLevelMenuContext.setHasCategories(true);\n        if (subMenuRef.current) {\n            autoFocusFirstSubMenuItem(subMenuRef.current);\n        }\n    }, [multiLevelMenuContext]);\n    var handleCloseSubMenu = function () {\n        setIsSubmenuOpen(false);\n    };\n    useEffect(function () {\n        if (!isActive) {\n            setIsSubmenuOpen(false);\n        }\n    }, [isActive, setIsSubmenuOpen]);\n    var translatedLabel = isValidElement(label)\n        ? label\n        : translate(label.toString(), { _: label });\n    if (to && hasSubItems && process.env.NODE_ENV !== 'production') {\n        console.warn('A <MenuItemCategory> cannot have children and a to prop set');\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListItem, __assign({ className: classnames(classes.root, className, (_a = {},\n                _a[classes.active] = isActive,\n                _a)), ref: rootRef }, rest, { button: false, onClick: handleMenuTap }), to && !hasSubItems ? (React.createElement(NavLink, { className: classes.link, to: to, exact: exact },\n            icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                titleAccess: translatedLabel,\n            }))),\n            sidebarIsOpen && (React.createElement(ListItemText, null, translatedLabel)))) : (React.createElement(\"div\", { className: classes.link },\n            icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                titleAccess: translatedLabel,\n            }))),\n            sidebarIsOpen && (React.createElement(ListItemText, null, translatedLabel))))),\n        hasSubItems && (React.createElement(Popover, { anchorEl: rootRef.current, anchorOrigin: AnchorOrigin, transformOrigin: TransformOrigin, container: multiLevelMenuContext.rootRef.current, open: isSubMenuOpen, onClick: handleCloseSubMenu, onClose: handleCloseSubMenu, classes: {\n                paper: classes.popoverPaper,\n            }, TransitionComponent: Slide, \n            // @ts-ignore\n            TransitionProps: TransitionProps, style: {\n                // @ts-ignore\n                zIndex: theme.zIndex.appBar - 100 + \" !important\",\n            } },\n            React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: handleCloseSubMenu },\n                React.createElement(CloseIcon, null)),\n            children))));\n};\nvar AnchorOrigin = { vertical: 'top', horizontal: 'right' };\nvar TransformOrigin = { vertical: 'top', horizontal: 'left' };\nvar TransitionProps = { direction: 'right' };\nfunction autoFocusFirstSubMenuItem(element) {\n    setTimeout(function () {\n        var focusables = element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n        if (focusables.length > 0) {\n            focusables[0].focus();\n        }\n    }, 150);\n}\nMenuItemCategory.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    onClick: PropTypes.func,\n    label: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.common.white,\n        cursor: 'pointer',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        padding: theme.spacing(1),\n        '&:hover': {\n            backgroundColor: theme.palette.grey[700],\n        },\n    },\n    link: {\n        whiteSpace: 'nowrap',\n        textDecoration: 'none',\n        color: 'inherit',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        '& span': {\n            fontSize: theme.typography.caption.fontSize,\n        },\n    },\n    active: {\n        backgroundColor: theme.palette.grey[300],\n        color: theme.palette.common.black,\n        '&:hover': {\n            backgroundColor: theme.palette.grey[200],\n        },\n    },\n    icon: {\n        color: 'inherit',\n        minWidth: 0,\n    },\n    popoverPaper: {\n        backgroundColor: theme.palette.background.paper,\n        minHeight: '50%',\n        minWidth: '25%',\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        paddingRight: theme.spacing(4), // Some space to ensure the close button is visible\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaMenuItemCategory',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useEffect, useRef, useState, } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MultiLevelMenuContext } from './MultiLevelMenuContext';\nimport { Menu } from './Menu';\n/**\n * The <MultiLevelMenu> component allows to have complex menus with collapsible\n * sub menus inside our application.\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * It accepts <MenuItem> components as children which accepts <MenuItems> children as well.\n *\n * @example <caption>Simple Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const BasicMultiLevelMenu = () => (\n *     <MultiLevelMenu>\n *         <MenuItem name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItem name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItem name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *             <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const BasicLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={BasicMultiLevelMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={BasicLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MultiLevelMenu = function (props) {\n    var children = props.children, _a = props.initialOpen, initialOpen = _a === void 0 ? false : _a, _b = props.variant, variant = _b === void 0 ? 'default' : _b, rest = __rest(props, [\"children\", \"initialOpen\", \"variant\"]);\n    var classes = useStyles(props);\n    var openedItems = useRef([]);\n    var _c = useState(true), isFirstLoad = _c[0], setIsFirstLoad = _c[1];\n    var rootRef = useRef();\n    var openingListeners = useRef([]);\n    var onOpen = function (callback) {\n        openingListeners.current.push(callback);\n    };\n    var offOpen = function (callback) {\n        openingListeners.current = openingListeners.current.filter(function (l) { return l !== callback; });\n    };\n    var isOpen = useCallback(function (name) { return Array.from(openedItems.current).includes(name); }, []);\n    var close = useCallback(function (name) {\n        openedItems.current = openedItems.current.filter(function (item) { return item !== name; });\n    }, []);\n    var open = useCallback(function (name) {\n        var set = new Set(openedItems.current);\n        set.add(name);\n        openedItems.current = Array.from(set);\n        openingListeners.current.forEach(function (callback) { return callback(name); });\n    }, []);\n    var setIsOpen = useCallback(function (name, isOpen) {\n        if (isOpen) {\n            return open(name);\n        }\n        close(name);\n    }, [open, close]);\n    var toggle = useCallback(function (name) {\n        setIsOpen(name, !isOpen);\n    }, [setIsOpen, isOpen]);\n    var _d = useState(false), hasCategories = _d[0], setHasCategories = _d[1];\n    var context = {\n        close: close,\n        hasCategories: hasCategories,\n        initialOpen: initialOpen,\n        isFirstLoad: isFirstLoad,\n        isOpen: isOpen,\n        offOpen: offOpen,\n        onOpen: onOpen,\n        open: open,\n        rootRef: rootRef,\n        setHasCategories: setHasCategories,\n        setIsOpen: setIsOpen,\n        toggle: toggle,\n    };\n    useEffect(function () {\n        setTimeout(function () { return setIsFirstLoad(false); }, 150);\n    }, []);\n    return (React.createElement(\"div\", __assign({ ref: rootRef, className: classes.root }, rest),\n        React.createElement(MultiLevelMenuContext.Provider, { value: context },\n            React.createElement(\"nav\", { className: variant === 'categories'\n                    ? classes.navWithCategories\n                    : classes.nav },\n                React.createElement(Menu, { className: classes.list }, children)))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        zIndex: theme.zIndex.appBar - 1, // Display the menu under the AppBar\n    },\n    navWithCategories: {\n        backgroundColor: theme.palette.grey[800],\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        zIndex: theme.zIndex.appBar - 1, // Display the menu categories under the AppBar\n    },\n    nav: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    list: {},\n}); }, {\n    name: 'RaMultiLevelMenu',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { defaultTheme } from 'react-admin';\nexport var theme = __assign(__assign({}, defaultTheme), { overrides: {\n        RaSidebar: {\n            drawerPaper: {\n                width: 96,\n            },\n            fixed: {\n                zIndex: 1200,\n            },\n        },\n    } });\n","import * as React from 'react';\nimport { useTimeout, useTranslate } from 'react-admin';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var DualListInputSkeleton = function (_a) {\n    var className = _a.className;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var oneSecondHasPassed = useTimeout(1000);\n    if (oneSecondHasPassed) {\n        return (React.createElement(\"div\", { \"aria-disabled\": \"true\", \"aria-label\": translate('ra.message.loading'), className: classnames(className, classes.root) }));\n    }\n    return null;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.divider,\n        borderStyle: 'none',\n    },\n}); }, {\n    name: 'RaDualListInputSkeleton',\n});\n","var __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useCallback, useState } from 'react';\nimport { useChoices, useInput, useTranslate, Labeled, } from 'react-admin';\nimport { Button, List, ListSubheader } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ArrowRightIcon from '@material-ui/icons/ChevronRight';\nimport classnames from 'classnames';\nimport { DualListInputItem } from './DualListInputItem';\nimport { DualListInputSkeleton } from './DualListInputSkeleton';\n/**\n * An Input component displaying two list of selected or available items.\n * It allows multiple selections and uses an array of objects for the options.\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <DualListInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <DualListInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <DualListInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <DualListInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\nexport var DualListInput = function (props) {\n    var classes = useStyles(props);\n    var _a = props.addButtonLabel, addButtonLabel = _a === void 0 ? 'ra-relationships.duallistinput.select' : _a, _b = props.availableItemsLabel, availableItemsLabel = _b === void 0 ? 'ra-relationships.duallistinput.availableItems' : _b, choices = props.choices, className = props.className, _c = props.dense, dense = _c === void 0 ? true : _c, _d = props.disableValue, disableValue = _d === void 0 ? 'disabled' : _d, label = props.label, loading = props.loading, _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, _g = props.removeButtonLabel, removeButtonLabel = _g === void 0 ? 'ra-relationships.duallistinput.unselect' : _g, resource = props.resource, _h = props.selectedItemsLabel, selectedItemsLabel = _h === void 0 ? 'ra-relationships.duallistinput.selectedItems' : _h, translateChoice = props.translateChoice;\n    // We need a fix in react-admin as children of Reference related inputs do not have to specify their source.\n    // However, useInput requires it\n    // @ts-ignore\n    var _j = useInput(props), id = _j.id, input = _j.input, isRequired = _j.isRequired, meta = _j.meta, source = _j.source;\n    var translate = useTranslate();\n    var getChoiceValue = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }).getChoiceValue;\n    // This handle the internal selection of items which can then be moved\n    // from one list to the other\n    var _k = useState([]), selectedItems = _k[0], setSelectedItems = _k[1];\n    // Toggle the selection of a single item\n    var handleToggleItemSelection = useCallback(function (event, item) {\n        setSelectedItems(function (currentSelectedItems) {\n            var isItemSelected = currentSelectedItems.some(function (selectedItem) {\n                return getChoiceValue(selectedItem) === getChoiceValue(item);\n            });\n            if (isItemSelected) {\n                return currentSelectedItems.filter(function (selectedItem) {\n                    return getChoiceValue(selectedItem) !==\n                        getChoiceValue(item);\n                });\n            }\n            else {\n                return __spreadArray(__spreadArray([], currentSelectedItems), [item]);\n            }\n        });\n    }, [getChoiceValue]);\n    var setInputValue = useCallback(function (value) {\n        input.onChange(value);\n        setSelectedItems([]);\n    }, [input]);\n    // Handler called when an item should be moved to the other list\n    var handleMoveItem = useCallback(function (event, choice) {\n        if (input.value.some(function (value) { return value === getChoiceValue(choice); })) {\n            setInputValue((input.value || []).filter(function (item) { return item !== getChoiceValue(choice); }));\n            return;\n        }\n        setInputValue(__spreadArray(__spreadArray([], input.value), [getChoiceValue(choice)]));\n    }, [getChoiceValue, input, setInputValue]);\n    // Handler called when the selected items should be added to the input value\n    var handleAddItems = useCallback(function () {\n        var currentSet = new Set(input.value || []);\n        selectedItems.forEach(function (item) { return currentSet.add(getChoiceValue(item)); });\n        setInputValue(Array.from(currentSet));\n    }, [getChoiceValue, input, selectedItems, setInputValue]);\n    // Handler called when the selected items should be removed from the input value\n    var handleRemoveItems = useCallback(function () {\n        var newValue = (input.value || []).filter(function (value) {\n            return !selectedItems.some(function (choice) { return getChoiceValue(choice) === value; });\n        });\n        setInputValue(newValue);\n    }, [getChoiceValue, input, selectedItems, setInputValue]);\n    return (React.createElement(Labeled, { id: id, input: input, meta: meta, isRequired: isRequired, label: label, resource: resource, source: source, className: className },\n        React.createElement(\"div\", { className: classes.root },\n            React.createElement(\"div\", null,\n                React.createElement(ListSubheader, { component: \"div\", id: \"selected-items-title\", className: classes.listHeader }, translate(selectedItemsLabel, {\n                    _: 'Selected items',\n                })),\n                loading ? (React.createElement(DualListInputSkeleton, { className: classes.list })) : (React.createElement(List, { className: classnames(classes.list, classes.selectedList), dense: dense, disablePadding: true, \"aria-labelledby\": \"selected-items-title\", \"aria-multiselectable\": \"true\", role: \"listbox\" }, (input.value || []).map(function (value) {\n                    var choice = choices.find(function (c) { return getChoiceValue(c) === value; });\n                    return (React.createElement(DualListInputItem, { key: value, choice: choice, disableValue: disableValue, onMove: handleMoveItem, onToggleSelection: handleToggleItemSelection, optionText: optionText, optionValue: optionValue, selected: selectedItems.some(function (selectedItem) {\n                            return getChoiceValue(selectedItem) ===\n                                value;\n                        }), translateChoice: translateChoice }));\n                })))),\n            React.createElement(\"div\", { className: classes.actions },\n                React.createElement(Button, { className: classnames(classes.button, classes.addButton), onClick: handleAddItems, startIcon: React.createElement(ArrowLeftIcon, null), variant: \"contained\", disabled: selectedItems.length === 0 }, translate(addButtonLabel, {\n                    _: addButtonLabel,\n                })),\n                React.createElement(Button, { className: classnames(classes.button, classes.removeButton), onClick: handleRemoveItems, endIcon: React.createElement(ArrowRightIcon, null), variant: \"contained\", disabled: selectedItems.length === 0 }, translate(removeButtonLabel, {\n                    _: removeButtonLabel,\n                }))),\n            React.createElement(\"div\", null,\n                React.createElement(ListSubheader, { component: \"div\", id: \"available-items-title\", className: classes.listHeader }, translate(availableItemsLabel, {\n                    _: 'Available items',\n                })),\n                loading ? (React.createElement(DualListInputSkeleton, { className: classes.list })) : (React.createElement(List, { className: classnames(classes.list, classes.availableList), dense: dense, disablePadding: true, \"aria-labelledby\": \"available-items-title\", \"aria-multiselectable\": \"true\", role: \"listbox\" }, choices\n                    .filter(function (choice) {\n                    return !(input.value || []).some(function (val) {\n                        return getChoiceValue(choice) === val;\n                    });\n                })\n                    .map(function (choice) { return (React.createElement(DualListInputItem, { key: getChoiceValue(choice), choice: choice, disableValue: disableValue, onMove: handleMoveItem, onToggleSelection: handleToggleItemSelection, optionText: optionText, optionValue: optionValue, selected: selectedItems.some(function (selectedItem) {\n                        return getChoiceValue(selectedItem) ===\n                            getChoiceValue(choice);\n                    }), translateChoice: translateChoice })); })))))));\n};\nDualListInput.defaultProps = {\n    defaultValue: [],\n    source: '',\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n    },\n    actions: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    button: {\n        '& + &': {\n            marginTop: theme.spacing(1),\n        },\n    },\n    addButton: {\n        justifyContent: 'start',\n    },\n    removeButton: {\n        justifyContent: 'end',\n    },\n    list: {\n        minWidth: 256,\n        height: 256,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto',\n    },\n    listHeader: {\n        borderColor: theme.palette.divider,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderBottom: 'none',\n    },\n    selectedList: {},\n    availableList: {},\n}); }, {\n    name: 'RaDualListInput',\n});\n","export var UsingRegexp = /^([A-Za-z0-9_-]+),([A-Za-z0-9_-]+)$/;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useMemo } from 'react';\nimport get from 'lodash/get';\nimport uniq from 'lodash/uniq';\nimport { useGetMany, useGetManyReference, } from 'react-admin';\nimport { UsingRegexp } from './constants';\n/**\n * Hook that fetches records from another resource in a many to many scenario implemented with an associative resource.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, total } = useReferenceArrayFieldController({\n *      record: { id: 1, name: 'Eric Clapton' },\n *      reference: 'events',\n *      resource: 'artists',\n *      sort: { field: 'name', order: 'ASC' },\n *      source: 'id',\n *      through: 'performances',\n *      using: 'artist_id,event_id'\n * });\n *\n * @param {Object} options\n * @param {boolean} options.filter Filters to send with the request\n * @param {Object} options.record The current resource record\n * @param {string} options.reference The linked resource name\n * @param {string} options.resource The current resource name\n * @param {Object} options.sort The sort parameters\n * @param {string} options.sort.field The field used for sorting\n * @param {string} options.sort.order The sort order (asc, desc)\n * @param {string} options.source The key of the linked resource identifier\n * @param {string} options.through The name of the associative resource\n * @param {string} options.using A comma separated list of two field names which are the ids of the two linked resource in the associative resource\n * @param {boolean} options.unique Remove duplicates from the target table. defaults to true.\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceManyToManyFieldController = function (_a) {\n    var filter = _a.filter, record = _a.record, reference = _a.reference, resource = _a.resource, sort = _a.sort, _b = _a.source, source = _b === void 0 ? 'id' : _b, through = _a.through, using = _a.using, _c = _a.perPage, perPage = _c === void 0 ? 25 : _c, _d = _a.unique, unique = _d === void 0 ? true : _d;\n    if (!using.match(UsingRegexp)) {\n        throw new Error('useReferenceManyToManyFieldController incorrect `using` option format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _e = using.match(UsingRegexp), sourceField = _e[1], targetField = _e[2];\n    // TODO: Introduce real pagination (setters, etc.)\n    var page = 1;\n    var throughManyReferences = useGetManyReference(through, sourceField, get(record, source), { page: page, perPage: perPage }, sort, filter, resource);\n    var allReferencesIds = (throughManyReferences.ids || [])\n        .map(function (id) {\n        if (!throughManyReferences.data[id]) {\n            return undefined;\n        }\n        return throughManyReferences.data[id][targetField];\n    })\n        .filter(function (id) { return !!id; });\n    var referencesIds = unique\n        ? uniq(allReferencesIds)\n        : allReferencesIds;\n    var references = useGetMany(reference, referencesIds);\n    // Memoize the references data and only recompute them when they are reloaded\n    var referencesData = useMemo(function () {\n        return (references.data || [])\n            .filter(function (v) { return !!v; })\n            .reduce(function (acc, data) {\n            var _a;\n            return (__assign(__assign({}, acc), (_a = {}, _a[data.id] = data, _a)));\n        }, {});\n    }, [references.data]);\n    return {\n        basePath: \"/\" + reference,\n        resource: reference,\n        data: referencesData,\n        ids: referencesIds,\n        currentSort: sort,\n        error: throughManyReferences.error || references.error,\n        loading: throughManyReferences.loading || references.loading,\n        loaded: throughManyReferences.loaded && references.loaded,\n        total: throughManyReferences.total,\n        page: page,\n        perPage: perPage,\n    };\n};\nexport default useReferenceManyToManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { ListContextProvider, } from 'react-admin';\nimport useReferenceManyToManyFieldController from './useReferenceManyToManyFieldController';\nimport { UsingRegexp } from './constants';\n/**\n * Fetch reference record through a relations table using fields.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the posts having the current tag as a datagrid\n *  <ReferenceManyToManyField\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <Datagrid>\n *          <TextField label=\"Title\" source=\"title\" />\n *          <TextField label=\"Body\"  source=\"body\" />\n *      </Datagrid>\n *  </ReferenceManyToManyField>\n *\n * @example Display all the tags of the current post as a SingleFieldList\n *  <ReferenceManyToManyField\n *      label=\"Tags\"\n *      reference=\"tags\"\n *      through=\"posts_tags\"\n *      using={['post_id', 'tag_id']}\n *  >\n *      <SingleFieldList>\n *          <TextField label=\"name\" source=\"name\" />\n *      </Datagrid>\n *  </ReferenceManyToManyField>\n */\nvar ReferenceManyToManyField = function (_a) {\n    var reference = _a.reference, through = _a.through, using = _a.using, children = _a.children, perPage = _a.perPage, sort = _a.sort, sortBy = _a.sortBy, // eslint-disable-line\n    _b = _a.source, // eslint-disable-line\n    source = _b === void 0 ? 'id' : _b, props = __rest(_a, [\"reference\", \"through\", \"using\", \"children\", \"perPage\", \"sort\", \"sortBy\", \"source\"]);\n    if (!using.match(UsingRegexp)) {\n        throw new Error('<ReferenceManyToManyField> incorrect `using` props format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _c = useReferenceManyToManyFieldController({\n        filter: props.filter,\n        perPage: perPage,\n        record: props.record,\n        resource: props.resource,\n        reference: reference,\n        through: through,\n        source: source,\n        sort: sort,\n        using: using,\n    }), error = _c.error, referenceManyToManyProps = __rest(_c, [\"error\"]);\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    return (React.createElement(ListContextProvider, { value: __assign(__assign({}, referenceManyToManyProps), { \n            // Define default mandatory ListContextProps\n            // These are not provided by useReferenceManyToManyFieldController\n            displayedFilters: {}, filterValues: {}, hasCreate: false, onSelect: null, onToggleItem: null, onUnselectItems: null, hideFilter: null, selectedIds: [], setFilters: null, setPage: null, setPerPage: null, setSort: null, showFilter: null }) }, children));\n};\nReferenceManyToManyField.defaultProps = {\n    sort: {\n        field: 'id',\n        order: 'DESC',\n    },\n    addLabel: true,\n};\nexport default ReferenceManyToManyField;\n","var getReferenceManyToManyFormField = function (_a) {\n    var resource = _a.resource, through = _a.through, reference = _a.reference;\n    return \"@@ra-many-to-many/\" + resource + \"/\" + through + \"/\" + reference;\n};\nexport default getReferenceManyToManyFormField;\n","import { createContext } from 'react';\nexport var ManyToManyReferenceContext = createContext(undefined);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useState, useCallback } from 'react';\nimport { useField, useForm, } from 'react-final-form';\nimport { composeValidators, useGetList, useGetMany, useGetManyReference, } from 'react-admin';\nimport { UsingRegexp } from './constants';\nimport getReferenceManyToManyFormField from './getReferenceManyToManyFormField';\nimport { useManyToManyReferenceContext } from './useManyToManyReferenceContext';\n/**\n * Hook that fetches records from another resource in a many to many scenario implemented with an associative resource.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, total } = useReferenceManyToManyInputController({\n *      record: { id: 1, name: 'Eric Clapton' },\n *      reference: 'events',\n *      resource: 'artists',\n *      sort: { field: 'name', order: 'ASC' },\n *      source: 'id',\n *      through: 'performances',\n *      using: 'artist_id,event_id'\n * });\n *\n * @param {Object} options\n * @param {boolean} options.filter Filters to send with the request\n * @param {string} options.reference The linked resource name\n * @param {string} options.resource The current resource name\n * @param {Object} options.sort The sort parameters\n * @param {string} options.sort.field The field used for sorting\n * @param {string} options.sort.order The sort order (asc, desc)\n * @param {string} options.source The key of the linked resource identifier\n * @param {string} options.through The name of the associative resource\n * @param {string} options.using A comma separated list of two field names which are the ids of the two linked resource in the associative resource\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceManyToManyInputController = function (_a) {\n    var record = _a.record, filter = _a.filter, _b = _a.perPage, perPage = _b === void 0 ? 25 : _b, reference = _a.reference, resource = _a.resource, sort = _a.sort, _c = _a.source, source = _c === void 0 ? 'id' : _c, through = _a.through, using = _a.using, validate = _a.validate;\n    if (!using.match(UsingRegexp)) {\n        throw new Error('useReferenceManyToManyFieldController incorrect `using` option format. `using` should be a string of two fields separated by a comma  such as `book_id,author_id`');\n    }\n    var _d = using.match(UsingRegexp), sourceField = _d[1], targetField = _d[2];\n    // TODO: Introduce real pagination (setters, etc.)\n    var page = 1;\n    var throughManyReferences = useGetManyReference(through, sourceField, record.id, { page: page, perPage: perPage }, sort, filter, resource, {\n        enabled: !!(record === null || record === void 0 ? void 0 : record.id),\n    });\n    // As the edited record does not contains the references in a many-to-many\n    // relationship, we have to store them in a temporary field in the current form,\n    // named according to the many-to-many configuration.\n    // This field will be removed from the form values before the final submit\n    var temporaryFieldName = getReferenceManyToManyFormField({\n        reference: reference,\n        resource: resource,\n        through: through,\n    });\n    var _e = useState(undefined), temporaryFieldInitialValue = _e[0], setTemporaryFieldInitialValue = _e[1];\n    var temporaryField = useField(temporaryFieldName, {\n        // Artificial pristine / dirty system\n        initialValue: temporaryFieldInitialValue || undefined,\n        validate: composeValidators(validate),\n    });\n    var form = useForm();\n    var referenceIdsEffectSignature = (throughManyReferences.ids || []).join(',');\n    useEffect(function () {\n        if (typeof throughManyReferences.ids === 'undefined') {\n            return;\n        }\n        var referencesIds = (throughManyReferences.ids || []).reduce(function (acc, id) {\n            if (throughManyReferences.data[id]) {\n                var targetId = throughManyReferences.data[id][targetField];\n                if (acc.indexOf(targetId) === -1) {\n                    acc.push(targetId);\n                }\n            }\n            return acc;\n        }, []);\n        if (typeof temporaryFieldInitialValue !== 'undefined') {\n            form.change(temporaryFieldName, referencesIds);\n            form.resetFieldState(temporaryFieldName);\n        }\n        else {\n            setTemporaryFieldInitialValue(referencesIds);\n        }\n    } /* eslint-disable-next-line */, [referenceIdsEffectSignature, temporaryFieldName, form, targetField]);\n    // Load all possible references\n    var possibleValues = useGetList(reference, { page: 1, perPage: 25 }, sort, {});\n    useEffect(function () {\n        var _a;\n        if (possibleValues.loaded &&\n            ((_a = temporaryField.input.value) === null || _a === void 0 ? void 0 : _a.length) > 0 &&\n            temporaryField.input.value.some(function (id) { return !possibleValues.ids.includes(id); })) {\n            possibleValues.refetch();\n        }\n    }, [(temporaryField.input.value || []).join(), possibleValues.refetch]); // eslint-disable-line\n    // Ensure the current references are loaded\n    var references = useGetMany(reference, temporaryField.input.value || []);\n    var choices = possibleValues.ids.map(function (id) { return possibleValues.data[id]; });\n    var handleChange = useCallback(function (eventOrValue) {\n        var value = eventOrValue.target\n            ? eventOrValue.target.value\n            : eventOrValue;\n        form.change(temporaryFieldName, value);\n        // This ensure the field is flagged as touched\n        temporaryField.input.onBlur();\n    }, [form, temporaryFieldName, temporaryField]);\n    var value = temporaryField.input.value;\n    var _f = useManyToManyReferenceContext(), registerManyToManyInput = _f.registerManyToManyInput, unregisterManyToManyInput = _f.unregisterManyToManyInput;\n    useEffect(function () {\n        registerManyToManyInput({\n            resource: resource,\n            reference: reference,\n            source: source,\n            through: through,\n            using: using,\n        });\n        return function () {\n            unregisterManyToManyInput({\n                resource: resource,\n                reference: reference,\n                source: source,\n                through: through,\n                using: using,\n            });\n        };\n    }, [\n        resource,\n        reference,\n        source,\n        through,\n        using,\n        registerManyToManyInput,\n        unregisterManyToManyInput,\n    ]);\n    return {\n        basePath: \"/\" + reference,\n        resource: reference,\n        choices: choices,\n        input: __assign(__assign({}, temporaryField.input), { value: value, onChange: handleChange }),\n        meta: temporaryField.meta,\n        currentSort: sort,\n        error: throughManyReferences.error ||\n            references.error ||\n            possibleValues.error,\n        loading: throughManyReferences.loading ||\n            references.loading ||\n            possibleValues.loading,\n        loaded: throughManyReferences.loaded &&\n            references.loaded &&\n            possibleValues.loaded,\n        total: throughManyReferences.total,\n        page: page,\n        perPage: perPage,\n    };\n};\nexport default useReferenceManyToManyInputController;\n","import { useContext } from 'react';\nimport { ManyToManyReferenceContext, } from './ManyToManyReferenceContext';\n/**\n * Hook to get the `ManyToManyReferenceContext`.\n */\nexport var useManyToManyReferenceContext = function () {\n    var context = useContext(ManyToManyReferenceContext);\n    if (!context) {\n        throw new Error(\"\\nCannot get the ManyToManyReferenceContext. Have you wrapped your form with a <ManyToManyReferenceContextProvider>?\\n\\nFor example:\\n\\nimport { ManyToManyReferenceContextProvider } from '@react-admin/relationships';\\n\\n<Edit {...props}>\\n    <ManyToManyReferenceContextProvider>\\n        <SimpleForm>\\n            // ...\\n        </SimpleForm>\\n    </ManyToManyReferenceContextProvider>\\n</Edit>\\n\");\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { useInput, useTranslate, } from 'react-admin';\nimport useReferenceManyToManyInputController from './useReferenceManyToManyInputController';\nimport { UsingRegexp } from './constants';\n/**\n * Allows to edit reference records through a relations table.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Allowing to pick the tags of a post using a SelectArrayInput\n *  <ReferenceManyToManyInput\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <SelectArrayInput optionText=\"name\" />\n *  </ReferenceManyToManyInput>\n *\n * @example Allowing to pick the tags of a post using a CheckboxGroupInput\n *  <ReferenceManyToManyInput\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <CheckboxGroupInput optionText=\"name\" />\n *  </ReferenceManyToManyInput>\n */\nvar ReferenceManyToManyInput = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, idOverride = _a.id, format = _a.format, label = _a.label, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, perPage = _a.perPage, record = _a.record, reference = _a.reference, sort = _a.sort, _b = _a.source, source = _b === void 0 ? 'id' : _b, through = _a.through, using = _a.using, validate = _a.validate, props = __rest(_a, [\"basePath\", \"children\", \"className\", \"id\", \"format\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"perPage\", \"record\", \"reference\", \"sort\", \"source\", \"through\", \"using\", \"validate\"]);\n    if (!using.match(UsingRegexp)) {\n        throw new Error('<ReferenceManyToManyInput> incorrect `using` props format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _c = useInput({\n        id: idOverride,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        source: source,\n        validate: validate,\n        parse: parse,\n        format: format,\n    }), id = _c.id, isRequired = _c.isRequired;\n    var _d = useReferenceManyToManyInputController({\n        basePath: basePath,\n        record: record,\n        filter: props.filter,\n        perPage: perPage,\n        resource: props.resource,\n        reference: reference,\n        through: through,\n        source: source,\n        sort: sort,\n        using: using,\n        validate: validate,\n    }), error = _d.error, loading = _d.loading, loaded = _d.loaded, choices = _d.choices, referenceManyToManyProps = __rest(_d, [\"error\", \"loading\", \"loaded\", \"choices\"]);\n    var translate = useTranslate();\n    var translatedLabel = translate(label || \"resources.\" + props.resource + \".fields.\" + source, { _: label });\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    var childProps = __assign(__assign(__assign({}, props), { resource: reference, basePath: \"/\" + reference, choices: choices, id: id, input: referenceManyToManyProps.input, isRequired: isRequired, label: translatedLabel, loading: loading, loaded: loaded, meta: __assign(__assign({}, referenceManyToManyProps.meta), { helperText: false }), translateChoice: false, limitChoicesToValue: true }), children.props);\n    return cloneElement(Children.only(children), childProps);\n};\nReferenceManyToManyInput.defaultProps = {\n    sort: {\n        field: 'id',\n        order: 'DESC',\n    },\n};\nexport default ReferenceManyToManyInput;\n","var raTreeEnglishMessages = {\n    'ra-tree': {\n        drag_preview: 'Node #%{id} |||| Node #%{id} with %{smart_count} children',\n        root_target: 'Drop an item here to make it top level',\n        item_moved: 'Item moved',\n        new_node: 'New node',\n        action: {\n            add_root: 'Add root',\n            add_child: 'Add child',\n        },\n    },\n};\nexport default raTreeEnglishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { InputAdornment, IconButton, TextField, makeStyles, fade, } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useTranslate } from 'react-admin';\n/**\n * A text input built specifically for the search. Very similar to react-admin `SearchInput`,\n * except it does not requires to be inside a final-form `Form` component.\n *\n * It accepts all props of the Material UI [`<TextField>`](https://material-ui.com/components/text-fields/).\n * @param {SearchInputProps} props\n * @param {'light' | 'dark'} props.color The color mode for the input, applying light or dark backgrounds\n */\nexport var SearchInput = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _a = props.color, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    color = _a === void 0 ? 'light' : _a, InputProps = props.InputProps, value = props.value, disabled = props.disabled, _b = props.variant, variant = _b === void 0 ? 'filled' : _b, _c = props.margin, margin = _c === void 0 ? 'dense' : _c, _d = props.placeholder, placeholder = _d === void 0 ? 'ra.action.search' : _d, rest = __rest(props, [\"classes\", \"color\", \"InputProps\", \"value\", \"disabled\", \"variant\", \"margin\", \"placeholder\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onFocus = props.onFocus, onBlur = props.onBlur, onChange = props.onChange;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        // Haven't found a better way yet. We also have this issue in react-admin ResetableTextfield\n        // @ts-ignore\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornmentEnd = classes.inputAdornmentEnd, inputAdornmentStart = classes.inputAdornmentStart, visibleClearIcon = classes.visibleClearIcon, inputClassName = classes.input, inputBaseClassName = classes.inputBase, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornmentEnd\", \"inputAdornmentStart\", \"visibleClearIcon\", \"input\", \"inputBase\"]);\n    return (React.createElement(TextField, __assign({ classes: restClasses, value: value, inputProps: {\n            className: inputClassName,\n        }, InputProps: __assign({ className: inputBaseClassName, startAdornment: (React.createElement(InputAdornment, { className: inputAdornmentStart, position: \"start\" },\n                React.createElement(SearchIcon, null))), endAdornment: (React.createElement(InputAdornment, { className: inputAdornmentEnd, position: \"end\" },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: !value || disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) })))) }, InputProps), disabled: disabled, variant: variant, margin: margin, placeholder: translate(placeholder, { _: placeholder }) }, rest, { onFocus: handleFocus, onBlur: handleBlur, ref: ref })));\n});\nSearchInput.displayName = 'SearchInput';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: function (_a) {\n            var color = _a.color;\n            return fade(color === 'light'\n                ? theme.palette.common.white\n                : theme.palette.common.black, 0.05);\n        },\n        borderRadius: theme.shape.borderRadius,\n        marginTop: 4,\n        '&:hover': {\n            backgroundColor: function (_a) {\n                var color = _a.color;\n                return fade(color === 'light'\n                    ? theme.palette.common.white\n                    : theme.palette.common.black, color === 'light' ? 0.25 : 0.15);\n            },\n        },\n        '&:focus-within': {\n            backgroundColor: function (_a) {\n                var color = _a.color;\n                return fade(color === 'light'\n                    ? theme.palette.common.white\n                    : theme.palette.common.black, color === 'light' ? 0.25 : 0.15);\n            },\n        },\n        '& *': {\n            color: 'inherit',\n        },\n        '& .MuiFilledInput-underline:before': {\n            border: 'none',\n        },\n        '& .MuiFilledInput-underline:after': {\n            border: 'none',\n        },\n        zIndex: theme.zIndex.modal + 1,\n    },\n    inputBase: {\n        background: 'none',\n        borderRadius: 0,\n        '&:hover': {\n            background: 'none',\n        },\n    },\n    input: {\n        paddingTop: theme.spacing(1),\n        transition: theme.transitions.create('width'),\n        width: 120,\n        '&:focus': {\n            width: 170,\n        },\n    },\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    inputAdornmentStart: {\n        marginTop: '0 !important',\n    },\n    inputAdornmentEnd: {\n        transition: theme.transitions.create('opacity'),\n        opacity: function (_a) {\n            var value = _a.value;\n            return (!!value ? 1 : 0);\n        },\n    },\n}); }, { name: 'RaSearchInput' });\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    value: PropTypes.any,\n};\n","import { createContext, useContext } from 'react';\nexport var SearchResultContext = createContext({\n    onClose: function () {\n        /* noop */\n    },\n    loaded: false,\n    loading: false,\n    history: [],\n    query: '',\n});\nexport var SearchResultContextProvider = SearchResultContext.Provider;\nexport var useSearchResults = function () {\n    var context = useContext(SearchResultContext);\n    if (!context) {\n        console.warn('useContext must be used inside a SearchResultContextProvider such as the one provided by the <Search> component');\n    }\n    return context;\n};\n","import * as React from 'react';\nimport { cloneElement, isValidElement } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { ListSubheader, makeStyles } from '@material-ui/core';\nimport { SearchResultItem } from './SearchResultItem';\n/**\n * A component which displays search results for a specific target.\n *\n * @param props {SearchResultsGroupProps}\n * @param props.data {SearchResultDataItem[]} The search results\n * @param props.label {ReactElement|string} The target label\n * @param props.onClose {Function} The function to call when the Search PopOver should be closed.\n */\nexport var SearchResultsGroup = function (props) {\n    var _a = props.children, children = _a === void 0 ? defaultChildren : _a, data = props.data, label = props.label, onClose = props.onClose;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListSubheader, { className: classes.subHeader, component: \"h3\", role: \"presentation\" }, isValidElement(label)\n            ? label\n            : translate(label.toString(), { _: label })),\n        data.map(function (searchResultItem) {\n            return cloneElement(children, {\n                key: searchResultItem.id,\n                data: searchResultItem,\n                onClose: onClose,\n            });\n        })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    subHeader: {\n        background: theme.palette.background.paper,\n        marginBottom: theme.spacing(1),\n        marginTop: theme.spacing(1),\n    },\n}); });\nvar defaultChildren = React.createElement(SearchResultItem, null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { List, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { SearchResultItem } from './SearchResultItem';\nimport { SearchResultsGroup } from './SearchResultsGroup';\nimport { groupSearchResultsByResource } from './groupSearchResultsByResource';\nimport { useSearchResults } from './SearchResultContext';\nimport { useArrowKeysToNavigate } from './useArrowKeysToNavigate';\n/**\n * A component which displays search results inside a Material UI [`<List>`](https://material-ui.com/components/list/),\n * grouping results by targets when they are multiple targets.\n *\n * @param props {SearchPanelProps}\n * @param props.children {ReactElement} A ReactElement which will be cloned for each search result item.\n */\nexport var SearchResultsPanel = function (props) {\n    var listRef = React.useRef(null);\n    var _a = props.children, children = _a === void 0 ? React.createElement(SearchResultItem, null) : _a, rest = __rest(props, [\"children\"]);\n    useArrowKeysToNavigate(listRef);\n    var translate = useTranslate();\n    var classes = useStyles(rest);\n    var _b = useSearchResults(), data = _b.data, onClose = _b.onClose;\n    if (!data || data.length === 0) {\n        return (React.createElement(List, __assign({ dense: true }, rest),\n            React.createElement(ListItem, null,\n                React.createElement(ListItemText, { primary: translate('ra.navigation.no_results') }))));\n    }\n    var groupedData = groupSearchResultsByResource(data, translate);\n    if (groupedData.length === 1) {\n        return (React.createElement(List, __assign({ component: \"nav\", dense: true, innerRef: listRef }, rest), data.map(function (searchResultItem) {\n            return cloneElement(children, {\n                key: searchResultItem.id,\n                data: searchResultItem,\n                onClose: onClose,\n            });\n        })));\n    }\n    return (React.createElement(List, __assign({ component: \"nav\", dense: true, innerRef: listRef, className: classes.root }, rest), groupedData.map(function (group) { return (React.createElement(SearchResultsGroup, { key: group.label, label: group.label, data: group.data, onClose: onClose }, children)); })));\n};\nvar useStyles = makeStyles(function () { return ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n    },\n}); }, {\n    name: 'RaSearchResultsPanel',\n});\n","var raSearcheEnglishMessages = {\n    'ra-search': {\n        recent: 'Recent',\n    },\n};\nexport default raSearcheEnglishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { List, ListSubheader, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { SearchHistoryItem } from './SearchHistoryItem';\nimport { useArrowKeysToNavigate } from './useArrowKeysToNavigate';\n/**\n * A component which displays search history inside a Material UI [`<List>`](https://material-ui.com/components/list/),\n *\n * @param props {SearchHistoryPanelProps}\n * @param props.history {string[]} A list of previous searches.\n * @param props.onSelect {Function} The function to call when the item is selected.\n * @param props.children {ReactElement} A ReactElement which will be cloned for each search history item.\n */\nexport var SearchHistoryPanel = function (props) {\n    var listRef = React.useRef(null);\n    var _a = props.children, children = _a === void 0 ? React.createElement(SearchHistoryItem, null) : _a, history = props.history, onSelect = props.onSelect, rest = __rest(props, [\"children\", \"history\", \"onSelect\"]);\n    useArrowKeysToNavigate(listRef);\n    var translate = useTranslate();\n    var classes = useStyles(rest);\n    return (React.createElement(List, __assign({ component: \"nav\", dense: true, className: classes.root, innerRef: listRef }, rest),\n        React.createElement(ListSubheader, null,\n            React.createElement(\"strong\", null, translate('ra-search.recent')),\n            React.createElement(Divider, null)),\n        history.map(function (searchHistoryItem) {\n            return cloneElement(children, {\n                item: searchHistoryItem,\n                onSelect: onSelect,\n            });\n        })));\n};\nvar useStyles = makeStyles(function () { return ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n        minWidth: '100%',\n    },\n}); }, {\n    name: 'RaSearchHistoryPanel',\n});\n","import inflection from 'inflection';\nimport { useSelector } from 'react-redux';\nimport { getResources, useTranslate } from 'react-admin';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useSelector(getResources, shallowEqual);\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {resources.map(resource => (\n *                 <li key={resource.name}>\n *                     {getResourceLabel(resource.name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport var useGetResourceLabel = function () {\n    var resources = useSelector(getResources);\n    var translate = useTranslate();\n    return function (resource, count) {\n        if (count === void 0) { count = 2; }\n        var resourceDefinition = resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        var label = translate(\"resources.\" + resource + \".name\", {\n            smart_count: count,\n            _: resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                ? translate(resourceDefinition.options.label, {\n                    smart_count: count,\n                    _: resourceDefinition.options.label,\n                })\n                : inflection.humanize(count > 1\n                    ? inflection.pluralize(resource)\n                    : inflection.singularize(resource)),\n        });\n        return label;\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useRecordContext, useTranslate, getFieldLabelTranslationArgs, } from 'react-admin';\nimport { useGetResourceLabel } from './useGetResourceLabel';\n/**\n * Returns a translated label for an event.\n * @param options The hook options\n * @param options.record Optional. The event record. Uses the record from the RecordContext if not provided.\n * @param options.variant Optional. Either 'full', 'inline' or 'record'.\n * @param options.pluralizeResource Optional. A boolean indicating whether to pluralize the resource name.\n */\nexport var useEventLabel = function (options) {\n    var _a = options.variant, variant = _a === void 0 ? 'full' : _a, pluralizeResource = options.pluralizeResource;\n    var record = useRecordContext(options);\n    var getResourceLabel = useGetResourceLabel();\n    var translate = useTranslate();\n    if (!record) {\n        return null;\n    }\n    var pluralize = pluralizeResource != undefined\n        ? pluralizeResource\n        : actionPluralOptions[record.action];\n    var _b = record.payload, _c = _b.data, data = _c === void 0 ? {} : _c, _d = _b.ids, ids = _d === void 0 ? [] : _d, id = _b.id;\n    var name = (data === null || data === void 0 ? void 0 : data.name) ||\n        (data === null || data === void 0 ? void 0 : data.label) ||\n        (data === null || data === void 0 ? void 0 : data.title) ||\n        (data === null || data === void 0 ? void 0 : data.reference) ||\n        (data === null || data === void 0 ? void 0 : data.id) ||\n        id;\n    var fields = [];\n    if (record.payload.previousData) {\n        for (var _i = 0, _e = Object.keys(record.payload.previousData); _i < _e.length; _i++) {\n            var field = _e[_i];\n            if (record.payload.data &&\n                record.payload.data[field] !==\n                    record.payload.previousData[field]) {\n                fields.push(translate.apply(void 0, getFieldLabelTranslationArgs({\n                    source: field,\n                    resource: record.resource,\n                })));\n            }\n        }\n    }\n    var translateOptions = {\n        name: name,\n        ids: ids.join(', '),\n        resource: getResourceLabel(record.resource, pluralize ? 2 : 1).toLowerCase(),\n        fields: fields.slice(0, 2).join(', '),\n        all_fields: fields.join(', '),\n        smart_count: variant === 'record' && fields.length > 2\n            ? fields.length - 2\n            : fields.length,\n    };\n    var finalVariant = variant === 'record' && fields.length > 2\n        ? 'record_many_fields'\n        : variant;\n    var label = translate(\"ra-audit-log.\" + variantTranslationKeys[finalVariant] + \".\" + record.resource + \".\" + record.action, __assign(__assign({}, translateOptions), { \n        // Default generic translation when there is no resource specific translation available\n        _: translate(\"ra-audit-log.\" + variantTranslationKeys[finalVariant] + \".\" + record.action, translateOptions) }));\n    return label;\n};\nvar variantTranslationKeys = {\n    full: 'event',\n    inline: 'inline_event',\n    record: 'record_event',\n    record_many_fields: 'record_many_fields_events',\n};\nvar actionPluralOptions = {\n    create: false,\n    delete: false,\n    deleteMany: true,\n    update: false,\n    updateMany: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { sanitizeFieldRestProps, useRecordContext, } from 'react-admin';\nimport { useEventLabel } from './useEventLabel';\n/**\n * A react-admin field which displays a label specific to an event action.\n */\nexport var ActionField = function (props) {\n    var record = useRecordContext(props);\n    var actionLabel = useEventLabel({ record: record, variant: 'inline' });\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\" }, sanitizeFieldRestProps(props)), actionLabel));\n};\nActionField.defaultProps = {\n    addLabel: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PersonIcon from '@material-ui/icons/Person';\nimport classnames from 'classnames';\n/**\n * A Material-UI Avatar with fallback to the Person icon if no url was provided for an image.\n */\nexport var EventAvatar = function (props) {\n    var className = props.className, src = props.src, fullName = props.fullName, _a = props.size, size = _a === void 0 ? 'medium' : _a, rest = __rest(props, [\"className\", \"src\", \"fullName\", \"size\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Avatar, __assign({ src: src, className: classnames(className, classes[size]) }, rest), !!src ? null : fullName ? getInitials(fullName) : React.createElement(PersonIcon, null)));\n};\nvar useStyles = makeStyles({\n    small: {\n        width: 20,\n        height: 20,\n    },\n    medium: {\n        width: 40,\n        height: 40,\n    },\n});\nexport var getInitials = function (name) {\n    return name\n        .match(/(^\\w\\w?|\\b\\w)?/g)\n        .join('')\n        .match(/(^\\w|\\w$)?/g)\n        .join('')\n        .toUpperCase();\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { EventAvatar } from './EventAvatar';\n/**\n * A react-admin field which displays the avatar of an event author.\n */\nexport var AvatarField = function (props) {\n    var record = useRecordContext(props);\n    var _a = props.source, source = _a === void 0 ? 'avatar' : _a, _b = props.fullNameSource, fullNameSource = _b === void 0 ? 'fullName' : _b, rest = __rest(props, [\"source\", \"fullNameSource\"]);\n    var src = get(record, source);\n    var fullName = get(record, fullNameSource);\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(EventAvatar, __assign({ src: src, fullName: fullName, role: \"presentation\" }, rest)));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ReferenceField, TextField, useRecordContext, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { AvatarField } from './AvatarField';\n/**\n * A react-admin field which displays the author of an event with its avatar if available.\n */\nexport var AuthorField = function (props) {\n    var authorResource = props.authorResource, className = props.className, classesOverride = props.classes, link = props.link, source = props.source, rest = __rest(props, [\"authorResource\", \"className\", \"classes\", \"link\", \"source\"]);\n    var classes = useStyles(props);\n    var record = useRecordContext(props);\n    if (authorResource) {\n        return (React.createElement(ReferenceField, __assign({ source: \"author.id\", reference: authorResource, link: link }, rest),\n            React.createElement(AuthorField, null)));\n    }\n    return record ? (React.createElement(\"div\", { className: classnames(classes.root, className) },\n        React.createElement(AvatarField, { source: \"avatar\", record: record.author ? record.author : record, className: classes.small }),\n        React.createElement(TextField, __assign({ source: \"fullName\" }, rest, { record: record.author ? record.author : record })))) : null;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    small: {\n        display: 'inline-flex',\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        marginRight: theme.spacing(1),\n    },\n}); });\nAuthorField.defaultProps = {\n    addLabel: true,\n};\n","export var DefaultAuditLogResource = 'events';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { sanitizeFieldRestProps, useRecordContext, } from 'react-admin';\nimport get from 'lodash/get';\nimport { Typography } from '@material-ui/core';\nimport { useGetResourceLabel } from './useGetResourceLabel';\n/**\n * A react-admin field which displays a the name of the resource targeted by an event.\n */\nexport var ResourceField = function (props) {\n    var record = useRecordContext(props);\n    var getResourceLabel = useGetResourceLabel();\n    if (!record) {\n        return null;\n    }\n    var _a = props.source, source = _a === void 0 ? 'resource' : _a;\n    var resource = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\" }, sanitizeFieldRestProps(props)), getResourceLabel(resource, 1)));\n};\nResourceField.defaultProps = {\n    addLabel: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ListItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { Form } from 'react-final-form';\nimport { FilterList, useListFilterContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { AuthorInput } from './AuthorInput';\n/**\n * A react-admin FilterList allowing to filter events by author. Should be included in a List aside.\n * If the events authors have a dedicated resource, an AutoCompleteInput will be used to select them.\n *\n * @see {@link https://marmelab.com/react-admin/List.html#the-filterlist-sidebar|FilterList}\n * @see {@link https://marmelab.com/react-admin/Inputs.html#autocompleteinput|AutoCompleteInput}\n *\n * @param props The component props\n * @param {string} props.authorResource Optional. The name of the resource for authors.\n *\n * @example <caption>Basic usage</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { AuthorFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <AuthorFilterList />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n *\n * @example <caption>With an author resource</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { AuthorFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <AuthorFilterList authorResource=\"users\" />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n */\nexport var AuthorFilterList = function (props) {\n    var authorResource = props.authorResource;\n    var classes = useStyles(props);\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var handleChange = function (eventOrValue) {\n        var _a;\n        var _b;\n        var field = authorResource ? 'author.id' : 'author.fullName';\n        var value = authorResource\n            ? eventOrValue\n            : (_b = eventOrValue.target) === null || _b === void 0 ? void 0 : _b.value;\n        setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[field] = value, _a)), null, true);\n    };\n    var handleFormSubmit = function (values) {\n        setFilters(__assign(__assign({}, filterValues), { values: values }), null, false);\n    };\n    return (React.createElement(FilterList, { label: \"ra-audit-log.filter.author\", icon: React.createElement(PeopleIcon, null) },\n        React.createElement(ListItem, { className: classes.listItem },\n            React.createElement(Form, { onSubmit: handleFormSubmit, render: function (_a) {\n                    var handleSubmit = _a.handleSubmit;\n                    return (React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit },\n                        React.createElement(AuthorInput, { className: classes.input, label: \"Author\", onChange: handleChange, authorResource: authorResource, initialValue: authorResource\n                                ? get(filterValues, 'author.id')\n                                : get(filterValues, 'author.fullName') })));\n                } }))));\n};\nvar useStyles = makeStyles({\n    listItem: {\n        paddingRight: 0,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    input: {\n        width: '100%',\n    },\n}, {\n    name: 'RaAuthorFilterList',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListItem, ListItemText, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRecordContext, useTranslate } from 'react-admin';\nimport classnames from 'classnames';\nimport { EventAvatar } from '../EventAvatar';\nimport { useEventLabel } from '../useEventLabel';\n/**\n * Default component to display an audit logs.\n * @see Timeline\n */\nexport var RecordTimelineItem = function (props) {\n    var className = props.className, classesOverride = props.classes, rest = __rest(props, [\"className\", \"classes\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var record = useRecordContext(props.record);\n    var actionLabel = useEventLabel({ record: record, variant: 'record' });\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(ListItem, __assign({ className: classnames(classes.root, className), button: false, dense: true, disableGutters: true }, rest),\n        React.createElement(ListItemText, { primary: React.createElement(\"div\", { className: classes.authorContainer },\n                React.createElement(EventAvatar, { className: classes.avatar, alt: record.author.fullName, src: record.author.avatar, fullName: record.author.fullName, role: \"presentation\", size: \"small\" }),\n                React.createElement(Typography, { color: \"textPrimary\", className: classes.content },\n                    React.createElement(\"strong\", { className: classes.author }, record.author.fullName ||\n                        translate(\"ra-audit-log.author\", record.author)))), secondary: React.createElement(\"span\", { className: classes.action }, actionLabel) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    content: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    authorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n    author: {},\n    action: {},\n    date: {},\n}); }, {\n    name: 'RaTimelineItem',\n});\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nexport var TimelinePlaceholder = function (props) {\n    var className = props.className;\n    var classes = useStyles(props);\n    // Must be a span because it's used inside a Typography which is a p by default\n    return React.createElement(\"span\", { className: classnames(classes.root, className) }, \"\\u00A0\");\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[400],\n        display: 'inline-block',\n    },\n}); }, { name: 'RaTimelinePlaceholder' });\n","import * as React from 'react';\nimport { Card, List, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { TimelinePlaceholder } from './TimelinePlaceholder';\nimport { EventAvatar } from '../EventAvatar';\nexport var RecordTimelineSkeleton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, \"aria-disabled\": true, \"aria-label\": translate('ra.message.loading') },\n        React.createElement(\"div\", null, times(2, function (key1) { return (React.createElement(\"div\", { key: key1 },\n            React.createElement(TimelinePlaceholder, { className: classes.subTitle }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(List, null, times(5, function (key2) { return (React.createElement(ListItem, { key: key2 },\n                    React.createElement(ListItemText, { primary: React.createElement(\"div\", { className: classes.authorContainer },\n                            React.createElement(EventAvatar, { className: classes.avatar, size: \"small\" }),\n                            React.createElement(TimelinePlaceholder, { className: classes.text })), secondary: React.createElement(TimelinePlaceholder, { className: classes.text }) }))); }))))); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: '100%',\n        margin: 'auto',\n    },\n    card: {\n        marginTop: theme.spacing(0.5),\n        marginBottom: theme.spacing(1),\n    },\n    subTitle: {\n        width: '60%',\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        width: '100%',\n        marginBottom: theme.spacing(1),\n    },\n    authorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaTimelineSkeleton',\n});\nvar times = function (nbChildren, fn) { return Array.from({ length: nbChildren }, function (_, key) { return fn(key); }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListItem, ListItemText, ListItemAvatar, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useLocale, useRecordContext, useTranslate, } from 'react-admin';\nimport classnames from 'classnames';\nimport { EventAvatar } from '../EventAvatar';\nimport { Link } from 'react-router-dom';\nimport { useEventLabel } from '../useEventLabel';\nimport { useGetActionLink } from '../useGetActionLink';\n/**\n * Default component to display an audit logs.\n * @see Timeline\n */\nexport var TimelineItem = function (props) {\n    var className = props.className, classesOverride = props.classes, link = props.link, rest = __rest(props, [\"className\", \"classes\", \"link\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var locale = useLocale();\n    var record = useRecordContext(props.record);\n    var actionLabel = useEventLabel({ record: record, variant: 'inline' });\n    var getActionLink = useGetActionLink();\n    if (!record) {\n        return null;\n    }\n    var linkTo = getActionLink(record, link);\n    return (React.createElement(ListItem\n    // @ts-ignore\n    , __assign({ \n        // @ts-ignore\n        component: linkTo ? Link : 'div', role: \"listitem\", to: linkTo, className: classnames(classes.root, className) }, rest),\n        React.createElement(ListItemAvatar, null,\n            React.createElement(EventAvatar, { alt: record.author.fullName, src: record.author.avatar, fullName: record.author.fullName, role: \"presentation\" })),\n        React.createElement(ListItemText, { primary: React.createElement(Typography, { color: \"textPrimary\", className: classes.content },\n                React.createElement(\"strong\", { className: classes.author }, record.author.fullName ||\n                    translate(\"ra-audit-log.author\", record.author)),\n                React.createElement(\"span\", { className: classes.action }, actionLabel)), secondary: new Date(record.date).toLocaleString(locale) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        '&:hover': {\n            backgroundColor: theme.palette.action.hover,\n        },\n    },\n    content: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    author: {\n        marginRight: theme.spacing(0.5),\n    },\n    action: {},\n}); }, {\n    name: 'RaTimelineItem',\n});\n","import * as React from 'react';\nimport { RecordContextProvider, useTranslate, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { List, Typography } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { TimelineItem } from './TimelineItem';\nimport { useTimelineGroup } from './useTimelineGroup';\n/**\n * Default component to display a group of audit logs.\n * @see Timeline\n *\n * @example <caption>To use a custom item component</caption>\n * import { TimelineGroup } from '@react-admin/ra-audit-log';\n * import { useRecordContext } from 'react-admin';\n * import { ListItem, ListItemText } from '@material-ui/core';\n * import { getTextFromRecord } from './getTextFromRecord';\n *\n * const MyTimelineItem => {\n *     const record = useRecordContext();\n *     const label = getTextFromRecord(record);\n *\n *     return (\n *         <ListItem>\n *             <ListItemText>{label}</ListItemText>\n *         </ListItem>\n *     );\n * }\n *\n * const MyTimelineGroup = () => {\n *     return (\n *         <TimelineGroup>\n *             <MyTimelineItem />\n *         </TimelineGroup>\n *     );\n * };\n */\nexport var TimelineGroup = function (props) {\n    var className = props.className, _a = props.children, children = _a === void 0 ? React.createElement(TimelineItem, null) : _a;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _b = useTimelineGroup(), label = _b.label, records = _b.records;\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(\"div\", { className: classnames(classes.root, className) },\n        React.createElement(Typography, { variant: \"subtitle1\", gutterBottom: true, className: classes.label, role: \"presentation\" }, translatedLabel),\n        React.createElement(List, { component: \"div\", role: \"list\", \"aria-label\": translatedLabel, dense: true, className: classes.events }, records.map(function (record) { return (React.createElement(RecordContextProvider, { key: record.id, value: record }, children)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(1),\n    },\n    label: {},\n    events: {},\n}); }, { name: 'RaTimelineGroup' });\n","import * as React from 'react';\nimport { Card, List, ListItem, ListItemAvatar, ListItemText, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { TimelinePlaceholder } from './TimelinePlaceholder';\nimport { EventAvatar } from '../EventAvatar';\nexport var TimelineSkeleton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, \"aria-disabled\": true, \"aria-label\": translate('ra.message.loading') },\n        React.createElement(\"div\", null, times(2, function (key1) { return (React.createElement(\"div\", { key: key1 },\n            React.createElement(TimelinePlaceholder, { className: classes.subTitle }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(List, null, times(5, function (key2) { return (React.createElement(ListItem, { key: key2 },\n                    React.createElement(ListItemAvatar, null,\n                        React.createElement(EventAvatar, null)),\n                    React.createElement(ListItemText, { primary: React.createElement(TimelinePlaceholder, { className: classes.text }), secondary: React.createElement(TimelinePlaceholder, { className: classes.text }) }))); }))))); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: '100%',\n        margin: 'auto',\n    },\n    card: {\n        marginTop: theme.spacing(0.5),\n        marginBottom: theme.spacing(1),\n    },\n    subTitle: {\n        width: '60%',\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        width: '100%',\n        marginBottom: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaTimelineSkeleton',\n});\nvar times = function (nbChildren, fn) { return Array.from({ length: nbChildren }, function (_, key) { return fn(key); }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ListItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { Form } from 'react-final-form';\nimport { FilterList, useListFilterContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { ResourceInput } from './ResourceInput';\n/**\n * A react-admin FilterList allowing to filter events by resource. Should be included in a List aside.\n * It excludes the events resource itself which is named `events` by default.\n *\n * @see {@link https://marmelab.com/react-admin/List.html#the-filterlist-sidebar|FilterList}\n *\n * @param props The component props\n * @param {string} props.eventsResource Optional. The name of the resource for events. Defaults to `events`\n *\n * @example <caption>Basic usage</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { ResourceFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <ResourceFilterList />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n *\n * @example <caption>With a custom event resource</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { ResourceFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <ResourceFilterList eventResource=\"users\" />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n */\nexport var ResourceFilterList = function (props) {\n    var eventResource = props.eventResource;\n    var classes = useStyles(props);\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var handleChange = function (eventOrValue) {\n        var _a;\n        setFilters(__assign(__assign({}, filterValues), { resource: ((_a = eventOrValue === null || eventOrValue === void 0 ? void 0 : eventOrValue.target) === null || _a === void 0 ? void 0 : _a.value) || eventOrValue }), null, true);\n    };\n    var handleFormSubmit = function (values) {\n        setFilters(__assign(__assign({}, filterValues), { values: values }), null, false);\n    };\n    return (React.createElement(FilterList, { label: \"ra-audit-log.filter.resource\", icon: React.createElement(PeopleIcon, null) },\n        React.createElement(ListItem, { className: classes.listItem },\n            React.createElement(Form, { onSubmit: handleFormSubmit, render: function (_a) {\n                    var handleSubmit = _a.handleSubmit;\n                    return (React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit },\n                        React.createElement(ResourceInput, { onChange: handleChange, eventResource: eventResource, className: classes.input, initialValue: get(filterValues, 'resource') })));\n                } }))));\n};\nvar useStyles = makeStyles({\n    listItem: {\n        paddingRight: 0,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    input: {\n        width: '100%',\n    },\n}, {\n    name: 'RaResourceFilterList',\n});\n","import * as React from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterLiveSearch } from 'react-admin';\nimport classnames from 'classnames';\nimport { AuthorFilterList } from './AuthorFilterList';\nimport { EventDateFilterList } from './EventDateFilterList';\nimport { ResourceFilterList } from './ResourceFilterList';\n/**\n * Includes all the default filters for the EventList in a component usable in an aside sidebar.\n * @param props The component props\n * @param {string} props.authorResource Optional. The name of the resource for authors.\n * @param {string} props.className Optional. A css class name.\n * @param {object} props.classes Optional. An object of styles from material-ui hook built with makeStyles\n * @param {object} props.dateFilters Optional. A map of date filters where the key is the label (which can be a translation key) and the value a function returning a date.\n * @param {string} props.eventsResource Optional. The name of the resource for events. Defaults to `events`\n */\nexport var EventFilterAside = function (props) {\n    var authorResource = props.authorResource, className = props.className, dateFilters = props.dateFilters, eventResource = props.eventResource;\n    var classes = useStyles(props);\n    return (React.createElement(Card, { className: classnames(classes.root, className) },\n        React.createElement(CardContent, { className: classes.cardContent },\n            React.createElement(FilterLiveSearch, { source: \"q\" }),\n            React.createElement(EventDateFilterList, { dateFilters: dateFilters }),\n            React.createElement(ResourceFilterList, { eventResource: eventResource }),\n            React.createElement(AuthorFilterList, { authorResource: authorResource }))));\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                order: -1,\n                width: '19em',\n                marginRight: '1em',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                display: 'none',\n            },\n            _a),\n        cardContent: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n    });\n}, {\n    name: 'RaEventFilterAside',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListContextProvider, ListView, useListController, } from 'react-admin';\nimport { useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TimelineList } from '../Timeline';\nimport { EventListFilter } from './EventListFilter';\nimport { EventFilterAside } from './EventFilterAside';\nimport { EventDatagrid } from './EventDatagrid';\n/**\n * A pre-configured List for event logs. Provides adequate views and filters.\n * @param props\n */\nexport var EventList = function (props) {\n    var authorResource = props.authorResource, dateFilters = props.dateFilters, eventResource = props.eventResource, rest = __rest(props, [\"authorResource\", \"dateFilters\", \"eventResource\"]);\n    var controllerProps = useListController(__assign({ sort: { field: 'date', order: 'desc' } }, props));\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListView, __assign({ component: isSmall ? EventListSmallContent : undefined, bulkActionButtons: false, aside: isSmall ? undefined : (React.createElement(EventFilterAside, { authorResource: authorResource, dateFilters: dateFilters, eventResource: eventResource })), filters: isSmall ? (React.createElement(EventListFilter, { authorResource: authorResource, dateFilters: dateFilters, eventResource: eventResource })) : undefined }, rest, controllerProps), isSmall ? (React.createElement(TimelineList, null)) : (React.createElement(EventDatagrid, { authorResource: authorResource })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        paddingLeft: theme.spacing(0.5),\n        paddingRight: theme.spacing(0.5),\n        width: '100%',\n    },\n}); });\nexport var EventListSmallContent = function (props) {\n    var classes = useStyles();\n    return React.createElement(\"div\", __assign({}, props, { className: classes.root }));\n};\n","import * as React from 'react';\nimport { cloneElement, isValidElement, } from 'react';\nimport { DialogTitle, IconButton, makeStyles, } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate } from 'react-admin';\nvar FormDialogTitle = function (props) {\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var defaultTitle = props.defaultTitle, onClose = props.onClose, record = props.record, title = props.title;\n    return (React.createElement(DialogTitle, { id: \"edit-dialog-title\" },\n        isValidElement(title)\n            ? cloneElement(title, { record: record })\n            : title\n                ? translate(title, { _: title })\n                : defaultTitle,\n        React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: onClose },\n            React.createElement(CloseIcon, null))));\n};\nexport default FormDialogTitle;\nvar useStyles = makeStyles(function (theme) { return ({\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n}); }, {\n    name: 'RaFormDialogTitle',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, Fragment, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from 'react-admin';\n/**\n * The Toolbar displayed at the bottom of AccordionForm.\n *\n * @example Always enable the <SaveButton />\n *\n * import * as React from 'react';\n * import { Edit } from 'react-admin';\n * import { AccordionForm, AccordionFormToolbar } from '@react-admin/ra-form-layout';\n *\n * const CommentEdit = props => (\n *     <Edit {...props}>\n *         <AccordionForm toolbar={<AccordionFormToolbar alwaysEnableSaveButton={true} />}>\n *             ....\n *         </AccordionForm>\n *     </Edit>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\n * @prop {boolean} alwaysEnableSaveButton Force enabling the <SaveButton>. It it's not defined, the <SaveButton> will be enabled using the `pristine` prop (disabled if pristine, enabled otherwise).\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\n * @prop {string} width Apply the mobile or the desktop classes depending on the width. Pass \"xs\" to display the mobile version.\n *\n */\nvar AccordionFormToolbar = function (props) {\n    var _a;\n    var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n    var classes = useStyles(props);\n    // Use form pristine to enable or disable the save button\n    // if alwaysEnableSaveButton is undefined\n    var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine);\n    return (React.createElement(Fragment, null,\n        React.createElement(Toolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: basePath,\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: record,\n                    resource: resource,\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nAccordionFormToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    width: PropTypes.string,\n};\nAccordionFormToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {},\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaAccordionFormToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\nexport default withWidth({ initialWidth: 'xs' })(AccordionFormToolbar);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport classnames from 'classnames';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormInput, useTranslate } from 'react-admin';\nimport { useForm } from 'react-final-form';\nimport get from 'lodash/get';\nimport { Accordion as MuiAccordion, AccordionDetails as MuiAccordionDetails, AccordionSummary as MuiAccordionSummary, Typography, } from '@material-ui/core';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nvar DefaultAccordion = withStyles(function (theme) { return ({\n    root: {\n        width: theme.spacing(55),\n        border: '1px solid rgba(0, 0, 0, .125)',\n        boxShadow: 'none',\n        '&:not(:last-child)': {\n            borderBottom: 0,\n        },\n        '&:before': {\n            display: 'none',\n        },\n        '&$expanded:last-child': {\n            marginBottom: theme.spacing(2),\n        },\n    },\n    expanded: {},\n}); })(MuiAccordion);\nvar DefaultAccordionSummary = withStyles({\n    root: {\n        backgroundColor: 'rgba(0, 0, 0, .03)',\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\n        marginBottom: -1,\n        minHeight: 56,\n        '&$expanded': {\n            minHeight: 56,\n        },\n    },\n    content: {\n        '&$expanded': {\n            margin: '12px 0',\n        },\n    },\n    expanded: {},\n})(MuiAccordionSummary);\nvar DefaultAccordionDetails = withStyles(function (theme) { return ({\n    root: {\n        padding: theme.spacing(2),\n    },\n}); })(MuiAccordionDetails);\n/**\n * Renders children (Inputs) inside a material-ui <Accordion> element without a Card style.\n *\n * To be used as child of a <SimpleForm> or a <TabbedForm> element.\n *\n * @param {string} label The main label used as the accordion summary. Appears in red when the accordion has errors\n * @param {string} secondary Optional. The secondary label used as the accordion summary\n * @param {boolean} fullWidth Optional. If true, the Accordion take sthe entire form width.\n * @param {string} className Optional. A class name to style the underlying <Accordion>.\n * @param {object} classes Optional. Override styles of the <Accordion>, the <AccordionSummary> and the <AccordionDetails> internal components.\n * @param {boolean} defaultExpanded Optional. Set to true to have the accordion expanded by default.\n * @param {boolean} disabled Optional. If true, the accordion will be displayed in a disabled state.\n * @param {boolean} square Optional. If true, rounded corners are disabled.\n * @param {elementType} TransitionComponent Optional. If true, rounded corners are disabled.\n * @param {object} TransitionProps Optional. If true, rounded corners are disabled.\n *\n * @example\n *\n * import { Edit, TextField, TextInput, DateInput, SelectInput, ArrayInput, SimpleForm, SimpleFormIterator, BooleanInput } from 'react-admin';\n * import { AccordionSection } from '@react-admin/ra-form-layout';\n *\n * const CustomerEdit: FC = props => (\n *     <Edit {...props} component=\"div\">\n *         <SimpleForm>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"first_name\" validate={required()} />\n *             <TextInput source=\"last_name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput source=\"sex\" choices={sexChoices} />\n *             <AccordionSection label=\"Occupations\">\n *                 <ArrayInput source=\"occupations\" label=\"\">\n *                     <SimpleFormIterator>\n *                         <TextInput source=\"name\" validate={required()} />\n *                         <DateInput source=\"from\" validate={required()} />\n *                         <DateInput source=\"to\" />\n *                     </SimpleFormIterator>\n *                 </ArrayInput>\n *             </AccordionSection>\n *             <AccordionSection label=\"Preferences\">\n *                 <SelectInput\n *                     source=\"language\"\n *                     choices={languageChoices}\n *                     defaultValue=\"en\"\n *                 />\n *                 <BooleanInput source=\"dark_theme\" />\n *                 <BooleanInput source=\"accepts_emails_from_partners\" />\n *             </AccordionSection>\n *         </SimpleFormForm>\n *     </Edit>\n * );\n *\n */\nvar AccordionSection = function (props) {\n    var _a;\n    var _b = props.Accordion, Accordion = _b === void 0 ? DefaultAccordion : _b, _c = props.AccordionDetails, AccordionDetails = _c === void 0 ? DefaultAccordionDetails : _c, _d = props.AccordionSummary, AccordionSummary = _d === void 0 ? DefaultAccordionSummary : _d, children = props.children, className = props.className, _e = props.defaultExpanded, defaultExpanded = _e === void 0 ? false : _e, _f = props.disabled, disabled = _f === void 0 ? false : _f, _g = props.fullWidth, fullWidth = _g === void 0 ? false : _g, label = props.label, secondary = props.secondary, square = props.square, TransitionComponent = props.TransitionComponent, TransitionProps = props.TransitionProps, \n    // injected by the parent\n    basePath = props.basePath, margin = props.margin, record = props.record, resource = props.resource, variant = props.variant, rest = __rest(props, [\"Accordion\", \"AccordionDetails\", \"AccordionSummary\", \"children\", \"className\", \"defaultExpanded\", \"disabled\", \"fullWidth\", \"label\", \"secondary\", \"square\", \"TransitionComponent\", \"TransitionProps\", \"basePath\", \"margin\", \"record\", \"resource\", \"variant\"]);\n    var classes = useStyles(props);\n    var _h = useState(defaultExpanded), expanded = _h[0], setExpanded = _h[1];\n    var translate = useTranslate();\n    var form = useForm();\n    var handleChange = function () {\n        setExpanded(function (expanded) { return !expanded; });\n    };\n    var hasErrors = hasInputsWithError(children, form.getState().errors);\n    return (React.createElement(Accordion, __assign({}, rest, { expanded: expanded, onChange: handleChange, disabled: disabled, square: square, className: classnames(className, classes.root, (_a = {},\n            _a[classes.fullWidth] = fullWidth,\n            _a)), TransitionComponent: TransitionComponent, TransitionProps: TransitionProps }),\n        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel-\" + label + \"-content\", id: \"panel-\" + label + \"-header\", className: classes.summary },\n            React.createElement(Typography, { color: hasErrors ? 'error' : 'initial', className: classes.heading }, translate(label, { _: label })),\n            React.createElement(Typography, { className: classes.secondaryHeading }, secondary && translate(secondary, { _: secondary }))),\n        React.createElement(AccordionDetails, { className: classes.detail }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        }))));\n};\nAccordionSection.defaultProps = {\n    classes: {},\n};\nexport var hasInputsWithError = function (children, errors) {\n    return React.Children.toArray(children).some(function (input) { return React.isValidElement(input) && get(errors, input.props.source); });\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    summary: {},\n    detail: {\n        display: 'block',\n    },\n    fullWidth: {\n        width: '100%',\n    },\n}); }, {\n    name: 'RaAccordionSection',\n});\nexport default AccordionSection;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionDetails, AccordionSummary, Typography, } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormGroupContextProvider, FormInput, useFormGroup, useTranslate, } from 'react-admin';\nimport { useFormState } from 'react-final-form';\n/**\n * Renders children (Inputs) inside a material-ui <Accordion> element.\n *\n * To be used as child of an <AccordionForm> element.\n *\n * @param {string} label The main label used as the accordion summary. Appears in red when the accordion has errors\n * @param {string} secondary Optional. The secondary label used as the accordion summary\n * @param {boolean} defaultExpanded Optional. Set to true to have the accordion expanded by default (except if autoClose = true on the parent)\n * @param {boolean} disabled Optional. If true, the accordion will be displayed in a disabled state.\n * @param {boolean} square Optional. If true, rounded corners are disabled.\n *\n * @example\n *\n * import { Edit, TextField, TextInput, DateInput, SelectInput, ArrayInput, SimpleFormIterator, BooleanInput } from 'react-admin';\n * import { AccordionForm, AccordionFormPanel } from '@react-admin/ra-form-layout';\n *\n * // don't forget the component=\"div\" prop on the main component to disable the main Card\n * const CustomerEdit: FC = props => (\n *     <Edit {...props} component=\"div\">\n *         <AccordionForm>\n *             <AccordionFormPanel label=\"Identity\" defaultExpanded>\n *                 <TextField source=\"id\" />\n *                 <TextInput source=\"first_name\" validate={required()} />\n *                 <TextInput source=\"last_name\" validate={required()} />\n *                 <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *                 <SelectInput source=\"sex\" choices={sexChoices} />\n *             </AccordionFormPanel>\n *             <AccordionFormPanel label=\"Occupations\">\n *                 <ArrayInput source=\"occupations\" label=\"\">\n *                     <SimpleFormIterator>\n *                         <TextInput source=\"name\" validate={required()} />\n *                         <DateInput source=\"from\" validate={required()} />\n *                         <DateInput source=\"to\" />\n *                     </SimpleFormIterator>\n *                 </ArrayInput>\n *             </AccordionFormPanel>\n *             <AccordionFormPanel label=\"Preferences\">\n *                 <SelectInput\n *                     source=\"language\"\n *                     choices={languageChoices}\n *                     defaultValue=\"en\"\n *                 />\n *                 <BooleanInput source=\"dark_theme\" />\n *                 <BooleanInput source=\"accepts_emails_from_partners\" />\n *             </AccordionFormPanel>\n *         </AccordionForm>\n *     </Edit>\n * );\n */\nvar AccordionFormPanel = function (props) {\n    return (React.createElement(FormGroupContextProvider, { name: props.label },\n        React.createElement(AccordionFormPanelView, __assign({}, props))));\n};\nvar AccordionFormPanelView = function (props) {\n    var children = props.children, _a = props.defaultExpanded, defaultExpanded = _a === void 0 ? false : _a, _b = props.disabled, disabled = _b === void 0 ? false : _b, label = props.label, secondary = props.secondary, square = props.square, \n    // injected by the parent\n    _c = props.autoClose, \n    // injected by the parent\n    autoClose = _c === void 0 ? false : _c, basePath = props.basePath, margin = props.margin, onChange = props.onChange, record = props.record, resource = props.resource, expanded = props.expanded, variant = props.variant;\n    var classes = useStyles();\n    var _d = useState(defaultExpanded), innerExpanded = _d[0], setExpanded = _d[1];\n    var handleChange = function () {\n        setExpanded(function (expanded) { return !expanded; });\n    };\n    var accordionParams = autoClose\n        ? {\n            expanded: expanded,\n            onChange: onChange,\n        }\n        : {\n            expanded: innerExpanded,\n            onChange: handleChange,\n        };\n    var translate = useTranslate();\n    var formGroup = useFormGroup(label);\n    var submitFailed = useFormState(UseFormStateOptions).submitFailed;\n    var hasErrors = formGroup.invalid && (formGroup.touched || submitFailed);\n    return (React.createElement(Accordion, __assign({}, accordionParams, { disabled: disabled, square: square }),\n        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel-\" + label + \"-content\", id: \"panel-\" + label + \"-header\" },\n            React.createElement(Typography, { color: hasErrors ? 'error' : 'initial', className: classes.heading }, translate(label, { _: label })),\n            React.createElement(Typography, { className: classes.secondaryHeading }, secondary && translate(secondary, { _: secondary }))),\n        React.createElement(AccordionDetails, { className: classes.detail }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        }))));\n};\nvar UseFormStateOptions = {\n    subscription: {\n        submitFailed: true,\n    },\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    detail: {\n        display: 'block',\n    },\n}); }, {\n    name: 'RaAccordionFormPanel',\n});\nexport default AccordionFormPanel;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Stepper, StepButton, StepLabel, Step, } from '@material-ui/core';\n/**\n * Progress component rendering a stepper on top of the wizard\n *\n * @prop {number} currentStep Current selected step index\n * @prop {Function} onStepClick Action called when a step is clicked\n * @prop {React.ReactElement[]} steps Array of step elements\n */\nexport var WizardProgress = function (_a) {\n    var currentStep = _a.currentStep, onStepClick = _a.onStepClick, steps = _a.steps, rest = __rest(_a, [\"currentStep\", \"onStepClick\", \"steps\"]);\n    var handleStepClick = function (index) { return function () { return onStepClick(index); }; };\n    return (React.createElement(Stepper, __assign({ activeStep: currentStep }, rest), steps.map(function (step, index) {\n        var label = React.cloneElement(step, { intent: 'label' });\n        return (React.createElement(Step, { key: \"step_\" + index }, !onStepClick ? (React.createElement(StepLabel, null, label)) : (React.createElement(StepButton, { onClick: handleStepClick(index) }, label))));\n    })));\n};\nWizardProgress.defaultProps = {\n    currentStep: 0,\n    steps: [],\n};\n","var raFormLayoutLanguageEnglish = {\n    'ra-form-layout': {\n        action: {\n            next: 'Next',\n            previous: 'Previous',\n        },\n    },\n};\nexport default raFormLayoutLanguageEnglish;\n","import { mergeTranslations, } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nimport englishMessages from 'ra-language-english';\nimport { raRealTimeLanguageEnglish, } from '../../../ra-realtime';\nimport { raRelationshipsLanguageEnglish, } from '../../../ra-relationships';\nimport { raTreeLanguageEnglish, } from '../../../ra-tree';\nimport { raSearchLanguageEnglish, } from '../../../ra-search';\nimport { raAuditLogLanguageEnglish, } from '../../../ra-audit-log';\nimport { raFormLayoutLanguageEnglish, } from '../../../ra-form-layout';\nimport cloneDeep from 'lodash/cloneDeep';\nexport var defaultMessages = {\n    en: mergeTranslations(raRealTimeLanguageEnglish, raRelationshipsLanguageEnglish, raTreeLanguageEnglish, raSearchLanguageEnglish, raAuditLogLanguageEnglish, raFormLayoutLanguageEnglish, englishMessages),\n};\n/**\n * Returns a configured i18n provider for the ra-enterprise modules.\n *\n * This i18n provider is based on polyglot 'polyglotI18nProvider'.\n *\n * What is pre-configured?\n * - English translations for '@react-admin/ra-realtime'\n * - English translations for '@react-admin/ra-relationships'\n * - English  translations for '@react-admin/ra-tree'\n * - English translations for '@react-admin/ra-search'\n * - English translations for '@react-admin/ra-audit-log'\n * - English translations for '@react-admin/ra-form-layout'\n *\n * @param {EnterpriseTranslationMessages} messages Your own translations including overrides of the pre-configured modules.\n * @param {string} defaultLocale The default locale. Default to 'en' for English.\n *\n * @returns An i18n provider configured to work with all the ra-enterprise modules.\n *\n * @example Add a new language (Spanish) and use it as default (es)\n *\n * import spanishMessages from '@blackbox-vision/ra-language-spanish';\n * import { buildI18nProvider } from '@react-admin/ra-enterprise';\n *\n * const messages = {\n *     es: {\n *         ...spanishMessages,\n *         'ra-relationships': {\n *              duallistinput: {\n *                  availableItems: 'Elementos disponibles',\n *                  selectedItems: 'Elementos seleccionados',\n *             },\n *         },\n *         // Configure the other modules here\n *     },\n * };\n *\n * const i18nProvider = buildI18nProvider(messages, 'es');\n *\n */\nexport function buildI18nProvider(messages, defaultLocale) {\n    if (defaultLocale === void 0) { defaultLocale = 'en'; }\n    var mergedMessages = cloneDeep(defaultMessages);\n    if (messages != null) {\n        Object.keys(messages).forEach(function (locale) {\n            mergedMessages[locale] = mergeTranslations(mergedMessages[locale] || {}, messages[locale]);\n        });\n    }\n    return polyglotI18nProvider(function (locale) { return mergedMessages[locale]; }, defaultLocale);\n}\n","export var raRelationshipsLanguageEnglish = {\n    'ra-relationships': {\n        duallistinput: {\n            select: 'Select',\n            unselect: 'Unselect',\n            availableItems: 'Available items',\n            selectedItems: 'Selected items',\n        },\n    },\n};\n","export var raAuditLogLanguageEnglish = {\n    'ra-audit-log': {\n        event: {\n            create: 'Created %{resource} %{name}',\n            delete: 'Deleted %{resource} %{name}',\n            deleteMany: 'Deleted %{resource} %{ids}',\n            update: 'Updated %{resource} %{name}',\n            updateMany: 'Updated %{resource} %{ids}',\n        },\n        inline_event: {\n            create: 'created %{resource} %{name}',\n            delete: 'deleted %{resource} %{name}',\n            deleteMany: 'deleted %{resource} %{ids}',\n            update: 'updated %{resource} %{name}',\n            updateMany: 'updated %{resource} %{ids}',\n        },\n        record_event: {\n            create: 'Created this resource',\n            delete: 'Deleted this resource',\n            update: 'Updated field %{fields} |||| Updated fields %{fields}',\n        },\n        record_many_fields_events: {\n            create: 'Created this resource',\n            delete: 'Deleted this resource',\n            update: 'Updated field %{fields} and 1 other |||| Updated fields %{fields} and %{smart_count} others',\n        },\n        author: '{fullName}',\n        period_filters: {\n            today: 'Today',\n            this_week: 'This week',\n            this_month: 'This month',\n            this_quarter: 'This quarter',\n        },\n        filter: {\n            author: 'By author',\n            date: 'By date',\n            resource: 'By resource',\n        },\n        fields: {\n            author: 'Author',\n            action: 'Action',\n            date: 'Date',\n            resource: 'Resource',\n        },\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { AppBar as DefaultAppBar } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LanguageSwitcher, ToggleThemeButton, } from '../../../../ra-preferences';\n/**\n * An <AppBar> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A theme button to switch between light and dark mode (from @react-admin/ra-preferences)\n * - A language button to switch between the locales (from @react-admin/ra-preferences)\n *\n * It uses the same API as the <AppBar> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {Array<Languages>} languages A list of languages.\n * @param {Languages} languages[] A object describing the language.\n * @param {string} languages[].locale The locale. It should match those passed to the i18nProvider.\n * @param {string} languages[].name The language name.\n * @param {string} defaultLanguage The default language name. It should correspond to one of the passed languages name. Default to the first language name in the languages props.\n *\n * @example Enable the theme switcher for light and dark mode\n *\n * // Nothing to do, the <AppBar> is used in the default <Admin>\n * // and the theme switcher is enabled by default\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Enable the languages switcher\n *\n * import { Admin, AppBar, Layout } from '@react-admin/ra-enterprise';\n * import polyglotI18nProvider from 'ra-i18n-polyglot';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const languages = [\n *     { locale: 'en', name: 'English' },\n *     { locale: 'fr', name: 'Franais' },\n * ];\n *\n * const messages = {\n *     en: [englishMessages],\n *     fr: [frenchMessages],\n * };\n *\n * const i18nProvider = polyglotI18nProvider(\n *     locale => mergeTranslations(...messages[locale]),\n *     'en'\n * );\n *\n * function CustomAppBar(props) {\n *     return <AppBar languages={languages} {...props} />;\n * };\n *\n * function CustomLayout(props) {\n *     return <Layout appBar={CustomAppBar} {...props} />;\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin\n *             dataProvider={dataProvider}\n *             i18nProvider={i18nProvider}\n *             layout={CustomLayout}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var AppBar = function (props) {\n    var languages = props.languages, defaultLanguage = props.defaultLanguage, rest = __rest(props, [\"languages\", \"defaultLanguage\"]);\n    var classes = useStyles(rest);\n    return (React.createElement(DefaultAppBar, __assign({}, props, { elevation: 1 }),\n        React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" }),\n        React.createElement(ToggleThemeButton, null),\n        languages && languages.length > 0 ? (React.createElement(LanguageSwitcher, { languages: languages, defaultLanguage: defaultLanguage || languages[0].name })) : null,\n        props.children));\n};\nAppBar.defaultProps = {\n    languages: [],\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaEnterpriseAppBar',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Breadcrumb as DefaultBreadcrumb, ResourceBreadcrumbItems, } from '../../../../ra-navigation';\n/**\n * A <Breadcrumb> component for ra-enterprise\n *\n */\nexport var Breadcrumb = function (props) {\n    return (React.createElement(DefaultBreadcrumb, __assign({}, props),\n        React.createElement(ResourceBreadcrumbItems, null)));\n};\nBreadcrumb.defaultProps = {};\n","import { useContext } from 'react';\nimport { StateContext, DispatchContext } from './TourProvider';\n/**\n * Hook that handles the tour\n *\n * @returns {[StateType, DispatchStateType]} Current tour state, Tour control functions\n *\n * @example // Accessing tour state\n *\n * import { useTour } from '@react-admin/ra-tour';\n * import tours from './tours';\n *\n * const StepIndicator = () => {\n *     const [{ running, stepIndex, activeTour }] = useTour();\n *     return (\n *         <span>Step ${stepIndex} / ${tours[activeTour].steps.length}</span>\n *     );\n * };\n *\n * @example // Controlling tour\n *\n * import { useTour } from '@react-admin/ra-tour';\n *\n * const StartTourButton = ({ tourName }) => {\n *     const [_, { start, stop, next, previous }] = useTour();\n *     return (\n *         <button onClick={() => start(tourName)}>HELP</button>\n *     );\n * };\n */\nvar useTour = function () {\n    var stateContextHook = useContext(StateContext);\n    var dispatchContextHook = useContext(DispatchContext);\n    if (dispatchContextHook === undefined || stateContextHook === undefined) {\n        throw new Error('useTour must be used within a TourProvider');\n    }\n    return [stateContextHook, dispatchContextHook];\n};\nexport default useTour;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useTour from '../useTour';\n/**\n * Tooltip UI Component that displays one step of a tour\n *\n * @param {Step} step The step to display\n * @param {number} index The index of the step within its tour\n * @param {boolean} isLastStep True if the current step is the last step of its tour\n * @param {boolean} continuous If true, clicking next on last step brings back to first step\n * @param {Object} tooltipProps Props passed down to the tooltip container\n * @param {Object} backProps Props passed down to the back button container\n * @param {Object} closeProps Props passed down to the close button container\n * @param {Object} primaryProps Props passed down to the primary button (next/last) container\n * @param {Object} skipProps Props passed down to the skip button container\n */\nvar Tooltip = function (_a) {\n    var tooltipProps = _a.tooltipProps, continuous = _a.continuous, backProps = _a.backProps, closeProps = _a.closeProps, primaryProps = _a.primaryProps, skipProps = _a.skipProps, index = _a.index, isLastStep = _a.isLastStep, step = _a.step;\n    var _b = useTour(), _ = _b[0], _c = _b[1], cancel = _c.cancel, stop = _c.stop, next = _c.next, previous = _c.previous;\n    var content = step.content, hideBackButton = step.hideBackButton, locale = step.locale, showSkipButton = step.showSkipButton, title = step.title, styles = step.styles;\n    var output = {\n        primary: locale.close,\n        back: null,\n        skip: null,\n        close: null,\n    };\n    if (continuous) {\n        if (isLastStep) {\n            output.primary = locale.last;\n        }\n        else {\n            output.primary = locale.next;\n        }\n    }\n    if (showSkipButton && !isLastStep) {\n        output.skip = (React.createElement(Button, __assign({}, skipProps, { onClick: function () {\n                cancel();\n            }, \"data-testid\": \"tour-tooltip-skip-button\" }), locale.skip));\n    }\n    if (!hideBackButton && index > 0) {\n        output.back = (React.createElement(Button, __assign({}, backProps, { onClick: function () {\n                previous();\n            }, \"data-testid\": \"tour-tooltip-back-button\" }), locale.back));\n    }\n    output.close = (React.createElement(IconButton, __assign({}, closeProps, { title: locale.close, \"aria-label\": locale.close, onClick: function () {\n            cancel();\n        }, size: \"small\", style: { position: 'absolute', top: 10, right: 10 } }),\n        React.createElement(CloseIcon, null)));\n    return (React.createElement(\"div\", __assign({ key: \"JoyrideTooltip\", style: styles.tooltip }, tooltipProps),\n        React.createElement(\"div\", { style: styles.tooltipContainer },\n            output.close,\n            title && React.createElement(\"h4\", { style: styles.tooltipTitle }, title),\n            content && React.createElement(\"div\", { style: styles.tooltipContent }, content)),\n        React.createElement(\"div\", { style: styles.tooltipFooter },\n            output.skip,\n            output.back,\n            React.createElement(Button, __assign({ variant: \"contained\", color: \"primary\" }, primaryProps, { \"data-testid\": \"tour-tooltip-primary-button\", onClick: function () {\n                    if (isLastStep) {\n                        stop();\n                        return;\n                    }\n                    next();\n                } }), output.primary))));\n};\nexport default Tooltip;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport Joyride from 'react-joyride';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport useTour from './useTour';\nimport Tooltip from './ui/Tooltip';\nimport { useTranslate } from 'react-admin';\nvar ErrorFallback = function (_a) {\n    var error = _a.error, componentStack = _a.componentStack, resetErrorBoundary = _a.resetErrorBoundary;\n    process.env.NODE_ENV !== 'production' &&\n        console.warn('Joyride error', {\n            error: error,\n            componentStack: componentStack,\n            resetErrorBoundary: resetErrorBoundary,\n        });\n    return null;\n};\n/**\n * Component that handles the UI part of the tour.\n *\n * Uses react-joyride\n *\n * @param {TourType} tours List of supported tours\n * @param {any} joyrideProps Props passed down to react-joyride\n */\nvar Tour = function (_a) {\n    var tours = _a.tours, joyrideProps = _a.joyrideProps;\n    var _b = useTour(), _c = _b[0], running = _c.running, stepIndex = _c.stepIndex, activeTour = _c.activeTour, stop = _b[1].stop;\n    var translate = useTranslate();\n    var defaultJoyRideProps = {\n        locale: {\n            back: translate('ra.action.back', { _: 'Back' }),\n            close: translate('ra.action.close', { _: 'Close' }),\n            last: translate('ra-tour.action.last', { _: 'Last' }),\n            next: translate('ra-tour.action.next', { _: 'Next' }),\n            open: translate('ra-tour.action.open', { _: 'Open the dialog' }),\n            skip: translate('ra-tour.action.skip', { _: 'Skip' }),\n        },\n    };\n    if (!activeTour) {\n        return null;\n    }\n    var steps = tours[activeTour].steps;\n    if (!running) {\n        return null;\n    }\n    var stepJoyrideProps = steps[stepIndex]\n        ? steps[stepIndex].joyrideProps\n        : {};\n    return (React.createElement(ErrorBoundary, { FallbackComponent: ErrorFallback, onError: function (error, componentStack) {\n            process.env.NODE_ENV !== 'production' &&\n                console.warn('Joyride error', { error: error, componentStack: componentStack });\n        }, onReset: function () {\n            stop();\n        } },\n        React.createElement(Joyride, __assign({ showProgress: true, showSkipButton: true, disableCloseOnEsc: true, disableOverlayClose: true, spotlightClicks: true, tooltipComponent: Tooltip }, defaultJoyRideProps, joyrideProps, stepJoyrideProps, { steps: steps.map(function (step) { return (__assign(__assign({}, step), { content: typeof step.content === 'string'\n                    ? translate(step.content, {\n                        _: step.content,\n                    })\n                    : step.content })); }), run: true, stepIndex: stepIndex, continuous: true }))));\n};\nexport default Tour;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar reducer = function (state, action) {\n    switch (action.type) {\n        case 'start': {\n            return __assign(__assign({}, state), { running: true, stepIndex: 0, activeTour: action.payload.tour });\n        }\n        case 'pause': {\n            return __assign(__assign({}, state), { running: false });\n        }\n        case 'stop': {\n            return __assign(__assign({}, state), { running: false, stepIndex: 0, activeTour: null });\n        }\n        case 'next': {\n            if (!state.activeTour) {\n                return state;\n            }\n            return __assign(__assign({}, state), { running: true, stepIndex: state.stepIndex + 1 });\n        }\n        case 'previous': {\n            if (!state.activeTour) {\n                return state;\n            }\n            if (state.stepIndex - 1 < 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { running: true, stepIndex: state.stepIndex - 1 });\n        }\n        default: {\n            throw new Error(\"Unhandled action type: \" + action.type);\n        }\n    }\n};\nexport default reducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { useReducer, createContext } from 'react';\nimport Tour from './Tour';\nimport reducer from './reducer';\nexport var StateContext = createContext({\n    running: false,\n    stepIndex: 0,\n    activeTour: null,\n});\nexport var DispatchContext = createContext({});\n/**\n * Wait until getter returns something not null, tries every {interval}ms for {maxTries} times.\n *\n * @param {() => any} getter Function to call repetively\n * @param {number} interval Time between each function call in ms. Defaults to 100.\n * @param {number} maxTries Maximum number of function call before failing. Defaults to 10.\n *\n * @returns {any} What getter returns\n */\nvar waitAndReturn = function (getter, interval, maxTries) {\n    if (interval === void 0) { interval = 100; }\n    if (maxTries === void 0) { maxTries = 10; }\n    return new Promise(function (resolve, reject) {\n        var iterations;\n        iterations = 0;\n        var getterInterval = setInterval(function () {\n            var result = getter();\n            iterations++;\n            if (result) {\n                clearInterval(getterInterval);\n                resolve(result);\n            }\n            if (iterations > maxTries) {\n                reject();\n            }\n        }, interval);\n    });\n};\n/**\n * A provider that handles tour logic and injects UI\n *\n * @example\n *   import tours from './tours';\n *\n *   const MyLayout: FC = props => (\n *       <TourProvider\n *           tours={tours}\n *       >\n *           <Layout {...props} />\n *       </TourProvider>\n *   );\n *\n * @param {{ [id: string]: TourType }} tours List of supported tours\n * @param {Object} tools Tools to be injected into before and after functions\n * @param {StateType} initialState State the tour should be initialized to\n * @param {any} joyrideProps Props passed down to react-joyride\n */\nvar TourProvider = function (_a) {\n    var _b = _a.tours, tours = _b === void 0 ? {} : _b, _c = _a.tools, tools = _c === void 0 ? {} : _c, _d = _a.joyrideProps, joyrideProps = _d === void 0 ? {} : _d, initialState = _a.initialState, children = _a.children;\n    var _e = useReducer(reducer, initialState || {\n        running: false,\n        stepIndex: 0,\n        activeTour: null,\n    }), state = _e[0], dispatch = _e[1];\n    var actions = {\n        start: function (tour) { return __awaiter(void 0, void 0, void 0, function () {\n            var before, step, stepBefore, target;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        before = tours[tour].before;\n                        if (!before) return [3 /*break*/, 2];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        step = tours[tour].steps[0];\n                        stepBefore = step.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 3:\n                        target = _a.sent();\n                        if (!stepBefore) return [3 /*break*/, 5];\n                        return [4 /*yield*/, stepBefore(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        dispatch({ type: 'start', payload: { tour: tour } });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        stop: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, stepAfter, target, globalAfter;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        stepAfter = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!stepAfter) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, stepAfter(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        globalAfter = tours[state.activeTour].after;\n                        if (!globalAfter) return [3 /*break*/, 5];\n                        return [4 /*yield*/, globalAfter(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        dispatch({ type: 'stop' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        cancel: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var globalAfter;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        globalAfter = tours[state.activeTour].after;\n                        if (!globalAfter) return [3 /*break*/, 2];\n                        return [4 /*yield*/, globalAfter(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        dispatch({ type: 'stop' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        next: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, after, target, nextStep_1, before, nextTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        after = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!after) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, after(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        if (!(tours[state.activeTour].steps.length > state.stepIndex + 1)) return [3 /*break*/, 6];\n                        dispatch({ type: 'pause' });\n                        nextStep_1 = tours[state.activeTour].steps[state.stepIndex + 1];\n                        before = nextStep_1.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(nextStep_1.target);\n                            })];\n                    case 4:\n                        nextTarget = _a.sent();\n                        if (!before) return [3 /*break*/, 6];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign(__assign({}, state), { stepIndex: state.stepIndex + 1 }), target: nextTarget }))];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'next' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        previous: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, after, target, previousStep_1, before, previousTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        after = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!after) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, after(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        if (!(state.stepIndex - 1 >= 0)) return [3 /*break*/, 6];\n                        dispatch({ type: 'pause' });\n                        previousStep_1 = tours[state.activeTour].steps[state.stepIndex - 1];\n                        before = previousStep_1.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(previousStep_1.target);\n                            })];\n                    case 4:\n                        previousTarget = _a.sent();\n                        if (!before) return [3 /*break*/, 6];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign(__assign({}, state), { stepIndex: state.stepIndex - 1 }), target: previousTarget }))];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'previous' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n    };\n    return (React.createElement(StateContext.Provider, { value: state },\n        React.createElement(DispatchContext.Provider, { value: actions },\n            React.createElement(Tour, { joyrideProps: joyrideProps, tours: tours }),\n            children)));\n};\nexport default TourProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport inflection from 'inflection';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport { getResources, useTranslate } from 'react-admin';\nimport { MenuItemCategory, MultiLevelMenu, } from '../../../../ra-navigation';\nexport var Menu = function (_a) {\n    var hasDashboard = _a.hasDashboard, props = __rest(_a, [\"hasDashboard\"]);\n    var translate = useTranslate();\n    var resources = useSelector(getResources, shallowEqual);\n    return (React.createElement(MultiLevelMenu, __assign({ variant: \"categories\" }, props),\n        hasDashboard && (React.createElement(MenuItemCategory, { name: \"dashboard\", to: \"/\", exact: true, label: \"Dashboard\", icon: React.createElement(DashboardIcon, null) })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemCategory, { key: resource.name, name: resource.name, to: \"/\" + resource.name, exact: true, label: translatedResourceName(resource, translate), icon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null) })); })));\n};\nMenu.propTypes = {\n    hasDashboard: PropTypes.bool,\n};\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Layout as DefaultLayout, useNotify, useRedirect, useRefresh, useDataProvider, } from 'react-admin';\nimport { useDispatch } from 'react-redux';\nimport { SidebarOpenPreferenceSync, usePreferences, } from '../../../../ra-preferences';\nimport { AppLocationContext } from '../../../../ra-navigation';\nimport { TourProvider } from '../../../../ra-tour';\nimport { AppBar } from './AppBar';\nimport { Menu } from './Menu';\n/**\n * A <Layout> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A breadcrumb on every pages based on the resources (from @react-admin/ra-navigation)\n * - A synchronized sidebar which saves its open/close state in the preferences (from @react-admin/ra-preferences)\n *\n * It uses the same API as the <Layout> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {object} appBar The customized <AppBar>. Default to the @react-admin/ra-enterprise <AppBar>.\n * @param {object} breadcrumb The customized <Breadcrumb>. Default to the @react-admin/ra-enterprise <Breadcrumb>.\n * @param {object} sidebar The customized <Sidebar>. Default to the @react-admin/ra-enterprise <Sidebar>.\n * @param {object} tours An object describing the tours. Default to an empty object.\n *\n * @example Customize the <Layout> main elements (the <AppBar>, the <Breadcrumb> and the <Sidebar>)\n *\n * import {\n *     Admin,\n *     AppBar,\n *     Breadcrumb,\n *     Layout,\n *     Sidebar\n * } from '@react-admin/ra-enterprise';\n *\n * function CustomAppBar(props) {\n *     return <AppBar {...props} />;\n * };\n *\n * function CustomBreadcrumb(props) {\n *     return (\n *         <Breadcrumb {...props}>\n *             // You custom beadcrumb.\n *             // See @react-admin/ra-navigation for more details about breadcrumbs.\n *         </Breadcrumb>\n *     );\n * };\n *\n * function CustomSidebar(props) {\n *     return <Sidebar {...props} />;\n * };\n *\n * function CustomLayout(props) {\n *     return (\n *         <Layout\n *             appBar={CustomAppBar}\n *             breadcrumb={CustomBreadcrumb}\n *             sidebar={CustomSidebar}\n *             {...props}\n *         />\n *     );\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin\n *              dataProvider={dataProvider}\n *              layout={CustomLayout}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Activate the tour (from @react-admin/ra-tour)\n *\n * import { Admin, Layout } from '@react-admin/ra-enterprise';\n *\n * const tours = {\n *     example: {\n *         steps: [\n *             // Put your tour steps here\n *         ]\n *     }\n * };\n *\n * function CustomLayout(props) {\n *     return (\n *         <Layout tours={tours} {...props} />\n *     );\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var Layout = function (props) {\n    var appBar = props.appBar, dashboard = props.dashboard, sidebar = props.sidebar, menu = props.menu, tours = props.tours, rest = __rest(props, [\"appBar\", \"dashboard\", \"sidebar\", \"menu\", \"tours\"]);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var dataProvider = useDataProvider();\n    var dispatch = useDispatch();\n    var _a = usePreferences(RA_TOUR_PREFERENCE_KEY), tourPreferences = _a[0], setTourPreferences = _a[1];\n    return (React.createElement(AppLocationContext, { hasDashboard: !!dashboard },\n        React.createElement(TourProvider, { initialState: tourPreferences, tours: tours, tools: {\n                notify: notify,\n                redirect: redirect,\n                refresh: refresh,\n                dataProvider: dataProvider,\n                setTourPreferences: setTourPreferences,\n                dispatch: dispatch,\n            } },\n            React.createElement(React.Fragment, null,\n                React.createElement(SidebarOpenPreferenceSync, null),\n                React.createElement(DefaultLayout, __assign({ appBar: appBar, sidebar: sidebar, menu: menu }, rest), props.children)))));\n};\nLayout.defaultProps = {\n    appBar: AppBar,\n    menu: Menu,\n    tours: {},\n};\nvar RA_TOUR_PREFERENCE_KEY = '@react-admin/ra-tour';\n","import merge from 'lodash/merge';\n/**\n * Returns a configured theme from type method that builds a theme from a palette type (\"light\" or \"dark\").\n *\n * It should be used for example to build the method \"themeFromType\"\n * required by the <PreferencesBasedThemeProvider> of '@react-admin/ra-preferences'.\n *\n * @param {ThemeOptions} theme The base theme\n * @param {ThemeOptions} lightTheme A special theme for the light mode\n * @param {ThemeOptions} darkTheme A special theme for the dark mode\n *\n * @returns A function that builds the theme from a palette type (\"light\" or \"dark\").\n *\n */\nexport var buildThemeFromTypeMethod = function (theme, lightTheme, darkTheme) {\n    return function (type) {\n        return merge({}, theme, type === 'dark' ? defaultDarkTheme : defaultLightTheme, type === 'dark' ? darkTheme || {} : lightTheme || {});\n    };\n};\nvar overrides = {\n    RaTopToolbar: {\n        root: {\n            alignItems: 'center',\n            minHeight: 'auto',\n            paddingTop: 0,\n            width: '100%',\n        },\n    },\n    RaListToolbar: {\n        root: {\n            alignItems: 'center',\n            paddingTop: 0,\n            width: '100%',\n        },\n        actions: {\n            alignItems: 'center',\n            minHeight: 'auto',\n            paddingTop: 0,\n            width: '100%',\n        },\n        toolbar: {\n            minHeight: 'auto',\n            width: '100%',\n        },\n    },\n    RaSidebar: {\n        drawerPaper: {\n            width: 96,\n        },\n        fixed: {\n            zIndex: 1200,\n        },\n    },\n};\nexport var defaultDarkTheme = {\n    palette: {\n        type: 'dark',\n        primary: {\n            main: '#90caf9',\n        },\n        background: {\n            default: '#313131',\n        },\n    },\n    overrides: overrides,\n};\nexport var defaultLightTheme = {\n    palette: {\n        type: 'light',\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            main: '#283593',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n    },\n    overrides: overrides,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport merge from 'lodash/merge';\nimport { PreferencesBasedThemeProvider } from '../../../ra-preferences';\nimport { reducer as tree } from '../../../ra-tree';\nimport { reducer as locks } from '../../../ra-realtime';\nimport { theme as navigationTheme } from '../../../ra-navigation';\nimport { Admin as DefaultAdmin, } from 'react-admin';\nimport { buildI18nProvider } from './i18nProvider';\nimport { Layout } from './layout';\nimport { buildThemeFromTypeMethod } from './themes';\n/**\n * An <Admin> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A Breadcrumb based on resources (from @react-admin/ra-navigation)\n * - A light and dark mode for the theme (from @react-admin/ra-preferences)\n * - A preference based sidebar state (from @react-admin/ra-preferences)\n * - The possibility to lock a resource (from @react-admin/ra-realtime)\n *\n * It uses the same API as the <Admin> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {object} customReducers Augment the data provider with your own reducers (optional). The tree and the locks reducers are added by default.\n * @param {object} i18nProvider Replace the ra-enterprise i18nProvider (optional). The default one enables the translations from ra-enterprise.\n * @param {ThemeOptions} theme The main theme. It will be merged with the light or the dark theme.\n * @param {ThemeOptions} lightTheme Override the light mode with your own light theme (optional).\n * @param {ThemeOptions} darkTheme Override the dark mode with your own dark theme (optional).\n *\n * @example Basic usage\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Override the dark theme\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const darkTheme = {\n *     palette: {\n *         type: 'dark', // Don't forget to specify the palette type\n *         primary: {\n *             main: '#90caf9',\n *         },\n *         secondary: {\n *             main: '#ffff00',\n *         },\n *     },\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider} darkTheme={darkTheme}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Pass your own translations\n *\n * import { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\n *\n * const messages = {\n *     en: {\n *         // Put your english translations here\n *     },\n *     fr: {\n *         // Put your french translations here\n *     },\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * const i18nProvider = buildI18nProvider(messages)\n *\n * function App(props) {\n *     return (\n *         <Admin\n *             dataProvider={dataProvider}\n *             i18nProvider={i18nProvider}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var Admin = function (props) {\n    var customReducers = props.customReducers, darkTheme = props.darkTheme, i18nProvider = props.i18nProvider, lightTheme = props.lightTheme, theme = props.theme, rest = __rest(props, [\"customReducers\", \"darkTheme\", \"i18nProvider\", \"lightTheme\", \"theme\"]);\n    var mergedCustomReducers = merge({}, {\n        tree: tree,\n        locks: locks,\n    }, customReducers);\n    return (React.createElement(PreferencesBasedThemeProvider, { themeFromType: buildThemeFromTypeMethod(merge({}, navigationTheme, theme), lightTheme, darkTheme) },\n        React.createElement(DefaultAdmin, __assign({ i18nProvider: i18nProvider || buildI18nProvider(), customReducers: mergedCustomReducers }, rest))));\n};\nAdmin.defaultProps = {\n    layout: Layout,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { FilterContext, FilterForm as RaFilterForm, useListContext, } from 'react-admin';\nimport get from 'lodash/get';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core';\n/**\n * A customized version of react-admin FilterForm component which takes less\n * space when there are no filters.\n */\nexport var FilterForm = function (props) {\n    var _a;\n    var filtersProps = props.filters, initialValues = props.initialValues;\n    var _b = useListContext(props).displayedFilters, displayedFilters = _b === void 0 ? {} : _b;\n    var classes = useStyles();\n    var filters = useContext(FilterContext) || filtersProps;\n    var shownFilters = filters.filter(function (filterElement) {\n        return filterElement.props.alwaysOn ||\n            displayedFilters[filterElement.props.source] ||\n            typeof get(initialValues, filterElement.props.source) !==\n                'undefined';\n    });\n    return (React.createElement(RaFilterForm, __assign({}, props, { className: classnames((_a = {},\n            _a[classes.emptyForm] = shownFilters.length === 0,\n            _a)) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    emptyForm: {\n        minHeight: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterContext, ListToolbar as RaListToolbar, } from 'react-admin';\nimport { FilterForm } from './FilterForm';\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, [\"classes\", \"filters\", \"actions\"]);\n    var classes = useStyles(props);\n    return Array.isArray(filters) ? (React.createElement(FilterContext.Provider, { value: filters },\n        React.createElement(Toolbar, { className: classes.toolbar },\n            React.createElement(\"span\", null),\n            actions &&\n                React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions }), actions.props))),\n        React.createElement(FilterForm, null))) : (React.createElement(React.Fragment, null,\n        React.createElement(Toolbar, { className: classes.toolbar }, actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))),\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' }))));\n};\nListToolbar.propTypes = __assign(__assign({}, RaListToolbar.propTypes), { breadcrumb: PropTypes.element });\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a.width = '100%',\n            _a),\n        actions: (_b = {\n                alignItems: 'center',\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b.width = '100%',\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nexport default React.memo(ListToolbar);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, useResourceDefinition, CreateButton, ExportButton, ListActions as RaListActions, TopToolbar, FilterContext, FilterButton, } from 'react-admin';\nimport { Breadcrumb } from '../layout';\nexport var ListActions = function (props) {\n    var breadcrumb = props.breadcrumb, className = props.className, exporter = props.exporter, filtersProp = props.filters, rest = __rest(props, [\"breadcrumb\", \"className\", \"exporter\", \"filters\"]);\n    var _a = useListContext(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;\n    var resource = useResourceContext(rest);\n    var filters = useContext(FilterContext) || filtersProp;\n    var hasCreate = useResourceDefinition(rest).hasCreate;\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        breadcrumb,\n        filtersProp\n            ? cloneElement(filtersProp, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            })\n            : filters && React.createElement(FilterButton, null),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = __assign(__assign({}, RaListActions.propTypes), { breadcrumb: PropTypes.element });\nListActions.defaultProps = {\n    breadcrumb: React.createElement(Breadcrumb, { variant: \"actions\" }),\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { defaultExporter, useListContext, getListControllerProps, useVersion, sanitizeListRestProps, Empty, ListView as RaListView, Title, Pagination as DefaultPagination, BulkDeleteButton, BulkActionsToolbar, } from 'react-admin';\nimport { ListActions } from './ListActions';\nimport ListToolbar from './ListToolbar';\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, bulkActionButtons = props.bulkActionButtons, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, empty = props.empty, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, filters = props.filters, pagination = props.pagination, title = props.title, hasList = props.hasList, hasEdit = props.hasEdit, hasShow = props.hasShow, hasCreate = props.hasCreate, syncWithLocation = props.syncWithLocation, rest = __rest(props, [\"actions\", \"aside\", \"bulkActionButtons\", \"children\", \"classes\", \"className\", \"component\", \"empty\", \"exporter\", \"filters\", \"pagination\", \"title\", \"hasList\", \"hasEdit\", \"hasShow\", \"hasCreate\", \"syncWithLocation\"]);\n    var controllerProps = getListControllerProps(props); // deprecated, to be removed in v4\n    var listContext = useListContext(props);\n    var classes = useStyles(props);\n    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;\n    var version = useVersion();\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, listContext)),\n                aside && cloneElement(aside, listContext))));\n    };\n    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;\n    return (React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeListRestProps(rest)),\n        React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n        shouldRenderEmptyPage && empty !== false\n            ? cloneElement(empty, listContext)\n            : renderList()));\n};\nListView.propTypes = RaListView.propTypes;\nvar DefaultBulkActionButtons = function (props) { return (React.createElement(BulkDeleteButton, __assign({}, props))); };\nListView.defaultProps = {\n    actions: React.createElement(ListActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext, FilterButton, } from 'react-admin';\nimport { FilterForm } from './FilterForm';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\n/**\n * A customized version of the Filter button/form combo from react-admin which\n * uses our custom FilterForm. This fixes the issue where the filter form is taking\n * too much vertical space even though there are no filters.\n *\n * @example\n *\n * const PostFilter = (props) => (\n *     <Filter {...props}>\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *         <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\n *     </Filter>\n * );\n *\n * export const PostList = (props) => (\n *     <List {...props} filters={<PostFilter />}>\n *         ...\n *     </List>\n * );\n *\n */\nexport var Filter = function (props) {\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, showFilter = _a.showFilter, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButton, __assign({ className: classes.button, resource: resource, filters: React.Children.toArray(children), showFilter: showFilter, displayedFilters: displayedFilters, filterValues: filterValues }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilter.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\n","export const CHANGE_THEME = 'change-theme'\nexport const UPDATE_DASHBOARD = 'dashboard/update'\n","import { Action } from 'redux'\nimport { CHANGE_THEME } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\n\nexport type ThemeState = {\n  theme: {\n    darkMode: 'light' | 'dark'\n  }\n}\n\nconst initialState = {\n  darkMode:\n    localStorage.getItem(`${identity}.darkMode`) === 'dark' ? 'dark' : 'light',\n}\n\nfunction themeReducer(state = initialState, action: Action<any>) {\n  if (action.type === CHANGE_THEME) {\n    if (state.darkMode === 'dark')\n      localStorage.setItem(`${identity}.darkMode`, 'light')\n    else localStorage.setItem(`${identity}.darkMode`, 'dark')\n    return {\n      ...state,\n      darkMode: state.darkMode === 'dark' ? 'light' : 'dark',\n    }\n  }\n  return state\n}\n\nexport default themeReducer\n","export enum ResourceName {\n  ACCESS_DATES = 'access-dates',\n  ACCESSES = 'accesses',\n  ACCESS_USINGS = 'access-usings',\n  BOOKINGS = 'bookings',\n  ENGINES = 'engines',\n  ENTRANCES = 'entrances',\n  EVENTS = 'events',\n  COMPANIES = 'companies',\n  CUSTOMERS = 'customers',\n  LOGS = 'logs',\n  OBJECTS = 'objects',\n  PALMS = 'palms',\n  PASSAGES = 'passages',\n  STATS_OVERALL_VIEW_LIST = 'stats-overall-view-list',\n  STATS_OVERALL_VIEW = 'stats-overall-view',\n  TICKETS = 'tickets',\n  TICKET_LOGS = 'ticket-logs',\n  TRIBUNES = 'tribunes',\n  BLOCKS = 'blocks',\n  SEATS = 'seats',\n  USERS = 'users',\n  VARIANTS = 'variants',\n  DEVICE_CATEGORIES = 'device-categories',\n  DETECTORS = 'detectors',\n}\n","import { DataProvider } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) => Promise.resolve({ data: {}, total: 0 }),\n} as DataProvider\n\nexport default provider\n","export enum AccessActivePeriodStartingOptions {\n  NO_LIMIT = 'NO_LIMIT',\n  PURCHASE_DATE = 'PURCHASE_DATE',\n  FIRST_USE = 'FIRST_USE',\n}\n","export enum AccessBonuses {\n  N = 'N',\n  Y = 'Y',\n  Z = 'Z',\n  D = 'D',\n}\n","export enum DayOfWeek {\n  Sunday = 'Sunday',\n  Monday = 'Monday',\n  Tuesday = 'Tuesday',\n  Wednesday = 'Wednesday',\n  Thursday = 'Thursday',\n  Friday = 'Friday',\n  Saturday = 'Saturday',\n}\n","import { CreateResult, DataProvider, UpdateManyResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateMany: async (resource, params): Promise<UpdateManyResult> =>\n    Promise.resolve({\n      data: [1],\n    }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create: async (resource, params): Promise<CreateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { AccessDto } from '../../dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../enum/AccessBonuses'\nimport { DayOfWeek } from '../../enum/DayOfWeek'\n\nconst fakeAccesses: AccessDto[] = [\n  {\n    id: 1,\n    name: 'access1',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    name: 'access2',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    name: 'access3',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    name: 'access4',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    name: 'access5',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    name: 'access6',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    name: 'access7',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    name: 'access8',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    name: 'access9',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    name: 'access10',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeAccesses, total: fakeAccesses.length }),\n} as DataProvider\n\nexport default provider\n","export enum BlockType {\n  NUMBERED = 'NUMBERED',\n  NOT_NUMBERED = 'NOT_NUMBERED',\n  DYNAMIC = 'DYNAMIC',\n}\n","import { DataProvider } from 'react-admin'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BlockType } from '../../enum/BlockType'\n\nconst fakeBlocks: BlockDto[] = [\n  {\n    id: 0,\n    name: 'Sektor 1',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 1,\n    name: 'Sektor 2',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 2,\n    name: 'Sektor 3',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 3,\n    name: 'Sektor 4',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 4,\n    name: 'Sektor 5',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 5,\n    name: 'Sektor 6',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 6,\n    name: 'Sektor 7',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 7,\n    name: 'Sektor 8',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 2,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 8,\n    name: 'Sektor 9',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 2,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeBlocks, total: fakeBlocks.length }),\n} as DataProvider\n\nexport default provider\n","export enum BookingDisabledOption {\n  ADMIN = 'ADMIN',\n  BAN = 'BAN',\n  STORNO = 'STORNO',\n  MISTAKE = 'MISTAKE',\n}\n","export enum BookingType {\n  NORMAL = 'NORMAL',\n  ABO = 'ABO',\n  INFIX = 'INFIX',\n  SERVICE = 'SERVICE',\n  POINTS = 'POINTS',\n}\n","import { DataProvider, UpdateResult } from 'react-admin'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { BookingDisabledOption } from '../../enum/BookingDisabledOption'\nimport { BookingType } from '../../enum/BookingType'\n\nconst fakeBookingsList: BookingDto[] = [\n  {\n    id: 1,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeBookingsList, total: fakeBookingsList.length }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update: async (resource, params): Promise<UpdateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeBookingsList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum CustomerDocumentType {\n  OTHER = 'OTHER',\n  ID_CARD = 'ID_CARD',\n  PASSPORT = 'PASSPORT',\n  STUDENT_CARD = 'STUDENT_CARD',\n  SCHOOL_ID = 'SCHOOL_ID',\n  DRIVING_LICENSE = 'DRIVING_LICENSE',\n}\n","export enum Gender {\n  MALE = 'MALE',\n  FEMALE = 'FEMALE',\n}\n","import { DataProvider } from 'react-admin'\nimport { CompanyDto } from '../../dto/company.dto'\n\nconst fakeCompanies: CompanyDto[] = [\n  {\n    id: 0,\n    name: '0',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 1,\n    name: '1',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 2,\n    name: '2',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 3,\n    name: '3',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 4,\n    name: '4',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 5,\n    name: '5',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 6,\n    name: '6',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 7,\n    name: '7',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 8,\n    name: '8',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 9,\n    name: '9',\n    usersIds: [],\n    eventsIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeCompanies, total: fakeCompanies.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { CustomerDto } from '../../dto/customer.dto'\nimport { CustomerDocumentType } from '../../enum/CustomerDocumentType'\nimport { Gender } from '../../enum/Gender'\n\nconst fakeCustomers: CustomerDto[] = [\n  {\n    id: 1,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 2,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 3,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 4,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 5,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 6,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 7,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 8,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 9,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 10,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeCustomers.find((c) => `${c.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum EventStatus {\n  INACTIVE = 'INACTIVE',\n  ACTIVE = 'ACTIVE',\n  IN_TRANSITION = 'IN_TRANSITION',\n}\n","import { DataProvider } from 'react-admin'\nimport { DetectorDto } from '../../dto/device/detector/detector.dto'\n\nconst fakeDetectors: DetectorDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeDetectors, total: fakeDetectors.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { DeviceCategoryDto } from '../../dto/device-category/device-category.dto'\n\nconst fakeDeviceCategories: DeviceCategoryDto[] = [\n  {\n    id: 1,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 2,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 3,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 4,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 5,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 6,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 7,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 8,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 9,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 10,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeDeviceCategories,\n      total: fakeDeviceCategories.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\n\nconst fakeEngines: EngineDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEngines, total: fakeEngines.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EntranceDto } from '../../dto/entrance.dto'\n\nconst fakeEntrances: EntranceDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEntrances, total: fakeEntrances.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { EventStatus } from '../../enum/EventStatus'\n\nconst fakeEvents: EventDto[] = [\n  {\n    id: 1,\n    name: 'Event1',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 2,\n    name: 'Event2',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 3,\n    name: 'Event3',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 4,\n    name: 'Event4',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 5,\n    name: 'Event5',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 6,\n    name: 'Event6',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 7,\n    name: 'Event7',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 8,\n    name: 'Event8',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 9,\n    name: 'Event9',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 10,\n    name: 'Event10',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEvents, total: fakeEvents.length }),\n} as DataProvider\n\nexport default provider\n","export enum TicketType {\n  K = 'K',\n  M = 'M',\n  Z = 'Z',\n  N = 'N',\n  P = 'P',\n  U = 'U',\n  R = 'R',\n}\n","import { DataProvider } from 'react-admin'\nimport { ExtendedLog } from '../../dto/extended-log'\n\nconst fakeLogs: ExtendedLog[] = [\n  {\n    id: 1,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52815,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 2,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52816,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 3,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 1111,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 4,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 11112,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 5,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 16612,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 6,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 167782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 7,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 122782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 8,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 189782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 9,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 183332,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 10,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 656565,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeLogs, total: fakeLogs.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { ObjectDto } from '../../dto/object.dto'\n\nconst fakeObjects: ObjectDto[] = [\n  {\n    id: 0,\n    name: 'Stadion 0',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 1,\n    name: 'Stadion 1',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 2,\n    name: 'Stadion 2',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 3,\n    name: 'Stadion 3',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 4,\n    name: 'Stadion 4',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 5,\n    name: 'Stadion 5',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 6,\n    name: 'Stadion 6',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 7,\n    name: 'Stadion 7',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 8,\n    name: 'Stadion 8',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 9,\n    name: 'Stadion 9',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeObjects, total: fakeObjects.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\n\nconst fakePalms: PalmDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePalms, total: fakePalms.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { SeatDto } from '../../dto/seat.dto'\n\nconst fakeSeats: SeatDto[] = [\n  {\n    id: 1,\n    rowAlias: 'Rzd 1',\n    numberAlias: '1',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 2,\n    rowAlias: 'Rzd 1',\n    numberAlias: '2',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 3,\n    rowAlias: 'Rzd 1',\n    numberAlias: '3',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 4,\n    rowAlias: 'Rzd 1',\n    numberAlias: '4',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 5,\n    rowAlias: 'Rzd 1',\n    numberAlias: '5',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 6,\n    rowAlias: 'Rzd 1',\n    numberAlias: '6',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 7,\n    rowAlias: 'Rzd 1',\n    numberAlias: '7',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 8,\n    rowAlias: 'Rzd 1',\n    numberAlias: '8',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeSeats, total: fakeSeats.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventOverallView } from '../../stats/overall-view/event-overall-view'\n\nconst fakeStatsOverallViewList: EventOverallView[] = [\n  {\n    id: 1,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 2,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 3,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 4,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 5,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeStatsOverallViewList,\n      total: fakeStatsOverallViewList.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { DateTime } from '../../common/date-time'\nimport { OverallView } from '../../stats/overall-view/overall-view'\n\nconst fakeStatsOverallViewList: OverallView[] = [\n  {\n    id: 1,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 2,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 3,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 4,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 5,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeStatsOverallViewList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { TicketDto } from '../../dto/ticket.dto'\nimport { TicketType } from '../../enum/TicketType'\n\nconst fakeTickets: TicketDto[] = [\n  {\n    id: 1,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52815,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52816,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    ticketCode: '010000011492',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52817,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    ticketCode: '411000006572',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52818,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    ticketCode: '871000006824',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52819,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    ticketCode: '370000011495',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52820,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    ticketCode: '450000011501',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52821,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    ticketCode: '630000011502',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52822,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    ticketCode: '020000011503',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52823,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    ticketCode: '310000011504',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52824,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTickets, total: fakeTickets.length }),\n} as DataProvider\n\nexport default provider\n","export enum TribuneType {\n  MANUAL = 'MANUAL',\n  VIRTUAL = 'VIRTUAL',\n}\n","import { DataProvider } from 'react-admin'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { TribuneType } from '../../enum/TribuneType'\n\nconst fakeTribunes: TribuneDto[] = [\n  {\n    id: 0,\n    name: 'Trybuna A',\n    code: 'AB999',\n    type: TribuneType.VIRTUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 1,\n    name: 'Trybuna A',\n    code: 'AB000',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 2,\n    name: 'Trybuna B',\n    code: 'AB890',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 3,\n    name: 'Trybuna B',\n    code: 'AB777',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 4,\n    name: 'Trybuna A',\n    code: 'AB456',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 5,\n    name: 'Trybuna A',\n    code: 'AB333',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 6,\n    name: 'Trybuna C',\n    code: 'AB225',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 7,\n    name: 'Trybuna C',\n    code: 'AB222',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 8,\n    name: 'Trybuna D',\n    code: 'AB333',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 9,\n    name: 'Trybuna D',\n    code: 'AB555',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTribunes, total: fakeTribunes.length }),\n} as DataProvider\n\nexport default provider\n","export enum DeviceDirection {\n  IN = 'IN',\n  OUT = 'OUT',\n  INFO = 'INFO',\n}\n","import { DataProvider } from 'react-admin'\nimport { UserDto } from '../../dto/user.dto'\n\nconst fakeUsers: UserDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeUsers, total: fakeUsers.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { VariantDto } from '../../dto/variant.dto'\n\nconst fakeVariants: VariantDto[] = [\n  {\n    id: 1,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 2,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 3,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 4,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 5,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 6,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 7,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 8,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 9,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 10,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeVariants, total: fakeVariants.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\n\nconst fakePassages: PassageDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePassages, total: fakePassages.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport fakeAccessDatesProvider from './providers/fake-access-dates.provider'\nimport fakeAccessUsingsProvider from './providers/fake-access-usings.provider'\nimport fakeAccessesProvider from './providers/fake-accesses.provider'\nimport fakeBlocksProvider from './providers/fake-blocks.provider'\nimport fakeBookingsProvider from './providers/fake-bookings.provider'\nimport fakeCompaniesProvider from './providers/fake-companies.provider'\nimport fakeCustomersProvider from './providers/fake-customers.provider'\nimport fakeDetectorsProvider from './providers/fake-detectors.provider'\nimport fakeDeviceCategoriesProvider from './providers/fake-device-categories.provider'\nimport fakeEnginesProvider from './providers/fake-engines.provider'\nimport fakeEntrancesProvider from './providers/fake-entrances.provider'\nimport fakeEventsProvider from './providers/fake-events.provider'\nimport fakeLogsProvider from './providers/fake-logs.provider'\nimport fakeObjectsProvider from './providers/fake-objects.provider'\nimport fakePalmsProvider from './providers/fake-palms.provider'\nimport fakeSeatsProvider from './providers/fake-seats.provider'\nimport fakeStatsOverallViewListProvider from './providers/fake-stats-overall-view-list.provider'\nimport fakeStatsOverallViewProvider from './providers/fake-stats-overall-view.provider'\nimport fakeTicketsProvider from './providers/fake-tickets.provider'\nimport fakeTribunesProvider from './providers/fake-tribunes.provider'\nimport fakeUsersProvider from './providers/fake-user.provider'\nimport fakeVariantsProvider from './providers/fake-variants.provider'\nimport fakePassagesProvider from './providers/fake-passages.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: fakeAccessDatesProvider,\n  [ResourceName.ACCESSES]: fakeAccessesProvider,\n  [ResourceName.ACCESS_USINGS]: fakeAccessUsingsProvider,\n  [ResourceName.BOOKINGS]: fakeBookingsProvider,\n  [ResourceName.COMPANIES]: fakeCompaniesProvider,\n  [ResourceName.CUSTOMERS]: fakeCustomersProvider,\n  [ResourceName.DETECTORS]: fakeDetectorsProvider,\n  [ResourceName.DEVICE_CATEGORIES]: fakeDeviceCategoriesProvider,\n  [ResourceName.ENGINES]: fakeEnginesProvider,\n  [ResourceName.ENTRANCES]: fakeEntrancesProvider,\n  [ResourceName.EVENTS]: fakeEventsProvider,\n  [ResourceName.LOGS]: fakeLogsProvider,\n  [ResourceName.OBJECTS]: fakeObjectsProvider,\n  [ResourceName.PALMS]: fakePalmsProvider,\n  [ResourceName.PASSAGES]: fakePassagesProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: fakeStatsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: fakeStatsOverallViewListProvider,\n  [ResourceName.TRIBUNES]: fakeTribunesProvider,\n  [ResourceName.BLOCKS]: fakeBlocksProvider,\n  [ResourceName.SEATS]: fakeSeatsProvider,\n  [ResourceName.TICKETS]: fakeTicketsProvider,\n  [ResourceName.TICKET_LOGS]: fakeLogsProvider,\n  [ResourceName.TRIBUNES]: fakeTribunesProvider,\n  [ResourceName.BLOCKS]: fakeBlocksProvider,\n  [ResourceName.SEATS]: fakeSeatsProvider,\n  [ResourceName.USERS]: fakeUsersProvider,\n  [ResourceName.VARIANTS]: fakeVariantsProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import { AuthProvider } from 'react-admin'\n\nconst authProvider: AuthProvider = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(new Set([])),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'no-auth',\n      fullName: 'no-auth',\n    }),\n}\n\nexport default authProvider\n","export type ContentRangeHeaderValue = `bytes ${number}-${number}/${number}`\n\nexport const contentRangeParser = (headerValue: ContentRangeHeaderValue) => {\n  if (!headerValue) {\n    // 'content-range' header should exist otherwise pagination doesn't work\n    return {\n      total: 0,\n    }\n  }\n  const summary = headerValue.split(' ')[1]\n  const split = summary.split('-')\n  const rangeFrom = split[0]\n  const summarySecondPartSplit = split[1].split('/')\n  const rangeTo = summarySecondPartSplit[0]\n  const total = summarySecondPartSplit[1]\n  return {\n    rangeFrom: parseInt(rangeFrom, 10),\n    rangeTo: parseInt(rangeTo, 10),\n    total: parseInt(total, 10),\n  }\n}\n","import { fetchUtils } from 'react-admin'\nimport { ContentRangeHeaderValue, contentRangeParser } from './header.parser'\n\nconst getToken = () => localStorage.getItem('token') as string\n\nconst baseHeaders: HeadersInit = {\n  'Content-Type': 'application/json',\n}\n\nconst authHeaders = (token = getToken()): HeadersInit => ({\n  ...baseHeaders,\n  Authorization: `Bearer ${token}`,\n})\n\nconst getWithHeaders = <T>(url: string, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'GET',\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<T>)\n\nconst postWithHeaders = <T, K>(url: string, body: T, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const get = <T>(baseUrl: string, path?: string) =>\n  getWithHeaders<T>(`${baseUrl}${path || ''}`, authHeaders())\n\nexport const getWithToken = <T>(url: string, token: string) =>\n  getWithHeaders<T>(url, authHeaders(token))\n\nexport const getByConditions = <T>(\n  baseUrl: string,\n  path: string,\n): Promise<T[]> =>\n  getWithHeaders<T[]>(`${baseUrl}/GetByConditions/${path}`, authHeaders())\n\nexport const getWithPagination = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json, headers }) =>\n      Promise.resolve({\n        data: json as T,\n        range: contentRangeParser(\n          headers.get('content-range') as ContentRangeHeaderValue,\n        ),\n      }),\n    )\n\nexport const authPost = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, baseHeaders)\n\nexport const post = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, authHeaders())\n\nexport const patch = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PATCH',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const put = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PUT',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n","const API_V1 = `${process.env.REACT_APP_API_BASE_URL}/api/v1`\nexport const AUTH_URL = `${API_V1}/Authorization/Authenticate`\nexport const ROLES_URL = `${API_V1}/User/GetRoles`\nexport const ACCESS_USINGS = `${API_V1}/ticketManagement/AccessUsings`\nexport const ACCESSES_URL = `${API_V1}/ticketManagement/Accesses`\nexport const ACCESS_DATES_URL = `${API_V1}/ticketManagement/AccessDates`\nexport const BOOKINGS_URL = `${API_V1}/ticketManagement/Bookings`\nexport const CUSTOMERS_URL = `${API_V1}/ticketManagement/Customers`\nexport const EVENTS_URL = `${API_V1}/ticketManagement/Events`\nexport const EXTENDED_LOGS_URL = `${API_V1}/ticketManagement/Logs/GetExtendedLogByConditions`\nexport const TICKETS_URL = `${API_V1}/ticketManagement/Tickets`\nexport const VARIANTS_URL = `${API_V1}/ticketManagement/Variants`\nexport const SEATS_URL = `${API_V1}/ticketManagement/Seats`\nexport const BLOCKS_URL = `${API_V1}/ticketManagement/Blocks`\nexport const TRIBUNES_URL = `${API_V1}/ticketManagement/Tribunes`\nexport const OBJECTS_URL = `${API_V1}/ticketManagement/Objects`\nexport const ENGINES_URL = `${API_V1}/deviceManagement/Engines`\nexport const PALMS_URL = `${API_V1}/deviceManagement/Palms`\nexport const ADMINISTRATOR_URL = `${API_V1}/Administrator`\nexport const ENTRANCES_URL = `${API_V1}/deviceManagement/Entrances`\nexport const DEVICE_CATEGORIES_URL = `${API_V1}/deviceManagement/DeviceCategories`\nexport const PASSAGES_URL = `${API_V1}/deviceManagement/Passages`\nexport const DETECTORS_URL = `${API_V1}/deviceManagement/Detectors`\n","import { AuthProvider } from 'react-admin'\nimport { authPost, getWithToken } from '../common/fetch.utils'\nimport { AuthDto } from '../dto/auth.dto'\nimport { AUTH_URL, ROLES_URL } from '../api-urls'\nimport { AuthRequest } from './auth.request'\nimport { RoleDto } from '../dto/role.dto'\n\nconst authProvider: AuthProvider = {\n  login: async ({ username, password }) => {\n    const { token } = await authPost<AuthRequest, AuthDto>(AUTH_URL, {\n      login: username,\n      password,\n    })\n    const roleDtos = await getWithToken<RoleDto[]>(ROLES_URL, token)\n    const roles = roleDtos.map((r) => r.name)\n    localStorage.setItem('username', username)\n    localStorage.setItem('token', token)\n    localStorage.setItem('roles', roles.join())\n  },\n  logout: () => {\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    localStorage.removeItem('roles')\n    return Promise.resolve()\n  },\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('username')\n      localStorage.removeItem('token')\n      localStorage.removeItem('roles')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: (): Promise<Set<string>> => {\n    const roles = localStorage.getItem('roles') as string\n    return Promise.resolve(new Set(roles?.split(',') || []))\n  },\n  getIdentity: () =>\n    Promise.resolve({\n      id: localStorage.getItem('username') as string,\n    }),\n}\n\nexport default authProvider\n","export type DateTime =\n  `${number}-${number}-${number}T${number}:${number}:${number}.${number}` // 2021-07-13T15:11:06.771267\n\nexport const formatDate = (value: string | undefined) => {\n  if (value == null || value === '') {\n    return ''\n  }\n  return value.includes('T') ? value.substring(0, 10) : value\n}\n\nexport const formatTime = (value: string | undefined) => {\n  if (value == null || value === '') {\n    return ''\n  }\n  return value.includes('T') ? value.substring(11, 16) : value\n}\n\nexport const ignoreTimezoneOffset = (value: Date) => {\n  const tzoffset = value.getTimezoneOffset() * 60000 //offset in milliseconds\n  return new Date(value.getTime() - tzoffset)\n}\n","import { PaginationPayload } from 'ra-core'\nimport { TicketAPISortPayload } from './ticket-api-get-list.params'\n\nexport const ALL_RESULTS = 'l=>true'\n\nexport const filterParamsComposer = (\n  lambdaParameter: string,\n  filterValues: any,\n  filterMapper: (\n    key: string,\n  ) => (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string,\n): string => {\n  if (Object.keys(filterValues).length) {\n    const filterParams = Object.entries(filterValues)\n      .map(([key, value]) => {\n        const mapper = filterMapper(key)\n        return mapper(lambdaParameter, value as string, filterValues)\n      })\n      .filter((val) => val != null)\n    if (filterParams.length) {\n      return filterParams.reduce((p, c) => `${p}&&${c}`)\n    }\n  }\n  return 'true'\n}\n\nexport const queryParamsComposer = (\n  sort: TicketAPISortPayload,\n  pagination: PaginationPayload,\n  sortMapper: (key: string) => string,\n): string | null => {\n  const queryParams: string[] = []\n  if (sort) {\n    const { field, order } = sort\n    queryParams.push(`sortBy=${sortMapper(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n  }\n  if (pagination) {\n    const { page, perPage } = pagination\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage - 1}`)\n  }\n  return queryParams.length > 0\n    ? queryParams.reduce((p, c) => `${p}&${c}`)\n    : null\n}\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  accessId: (lambdaParameter, value) =>\n    `${lambdaParameter}.AccessId.Equals(${value as number})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'ad=>ad.Id',\n  activeFrom: 'ad=>ad.ActiveFrom',\n  activeTo: 'ad=>ad.ActiveTo',\n  timeFrom: 'ad=>ad.TimeFrom',\n  timeTo: 'ad=>ad.TimeTo',\n  type: 'ad=>ad.Type',\n}\n\nexport const mapSortAccessDatesParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ACCESS_DATES_URL } from '../api-urls'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { AccessDateDto } from '../dto/access-date.dto'\nimport { AccessDateTypes } from '../enum/AccessDateTypes'\nimport { DayOfWeek } from '../enum/DayOfWeek'\nimport filterMapper from './access-dates-filter.mapper'\nimport { mapSortAccessDatesParam } from './access-dates-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessDateDto>> => {\n    const filterParams = `ad=>${filterParamsComposer(\n      'ad',\n      filter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortAccessDatesParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessDateDto[]>(\n      `${ACCESS_DATES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<AccessDateDto>> => {\n    const data = await get<AccessDateDto>(ACCESS_DATES_URL, `/${id}`)\n    return {\n      data,\n    }\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<AccessDateDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessDateRequest, AccessDateDto>(\n      ACCESS_DATES_URL,\n      {\n        id: data.id,\n        activeFrom:\n          data.activeFrom !== previousData.activeFrom\n            ? (ignoreTimezoneOffset(\n                new Date(data.activeFrom),\n              ).toISOString() as DateTime)\n            : undefined,\n        activeTo:\n          data.activeTo !== previousData.activeTo\n            ? (ignoreTimezoneOffset(\n                new Date(data.activeTo),\n              ).toISOString() as DateTime)\n            : undefined,\n        type: data.type !== previousData.type ? data.type : undefined,\n        priority:\n          data.priority !== previousData.priority ? data.priority : undefined,\n        dayOfWeek:\n          data.dayOfWeek !== previousData.dayOfWeek\n            ? data.dayOfWeek\n            : undefined,\n        timeFrom:\n          data.timeFrom !== previousData.timeFrom ? data.timeFrom : undefined,\n        timeTo: data.timeTo !== previousData.timeTo ? data.timeTo : undefined,\n        accessId:\n          data.accessId !== previousData.accessId ? data.accessId : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<AccessDateDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateAccessDateRequest[], AccessDateDto[]>(\n      ACCESS_DATES_URL,\n      [\n        {\n          ...data,\n          activeFrom: ignoreTimezoneOffset(\n            new Date(data.activeFrom),\n          ).toISOString() as DateTime,\n          activeTo: ignoreTimezoneOffset(\n            new Date(data.activeTo),\n          ).toISOString() as DateTime,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n} as DataProvider\n\ninterface CreateAccessDateRequest {\n  readonly activeFrom: DateTime\n  readonly activeTo: DateTime\n  readonly type: AccessDateTypes\n  readonly priority?: number\n  readonly dayOfWeek?: DayOfWeek\n  readonly timeFrom: DateTime\n  readonly timeTo: DateTime\n  readonly accessId: number\n}\n\ninterface UpdateAccessDateRequest {\n  readonly id: Identifier\n  readonly activeFrom?: DateTime\n  readonly activeTo?: DateTime\n  readonly type?: AccessDateTypes\n  readonly priority?: number\n  readonly dayOfWeek?: DayOfWeek\n  readonly timeFrom?: DateTime\n  readonly timeTo?: DateTime\n  readonly accessId?: number\n}\n\nexport default provider\n","const mapping: Record<string, string> = {\n  id: 'au=>au.Id',\n  date: 'au=>au.Date',\n  direction: 'au=>au.Direction',\n  active: 'au=>au.Active',\n  ticketId: 'au=>au.TicketId',\n  accessId: 'au=>au.AccessId',\n}\n\nexport const mapSortAccessUsingsParam = (key: string) => mapping[key]\n","export enum Authority {\n  // User management\n  VIEW_USER_MANAGEMENT,\n\n  // Logs\n  VIEW_LOGS,\n\n  // Stats\n  VIEW_STATS_OVERALL_VIEW,\n\n  // Companies\n  VIEW_COMPANIES,\n  EDIT_COMPANIES,\n  CREATE_COMPANIES,\n\n  // Users\n  VIEW_USERS,\n  EDIT_USERS,\n  CREATE_USERS,\n\n  // Roles\n  VIEW_ROLES,\n  EDIT_ROLES,\n  CREATE_ROLES,\n\n  // Access dates\n  VIEW_ACCESS_DATES,\n  EDIT_ACCESS_DATES,\n  CREATE_ACCESS_DATES,\n\n  // Accesses\n  VIEW_ACCESSES,\n  EDIT_ACCESSES,\n  CREATE_ACCESSES,\n\n  // Access usings\n  VIEW_ACCESS_USINGS,\n  EDIT_ACCESS_USINGS,\n  CREATE_ACCESS_USINGS,\n\n  // Blocks\n  VIEW_BLOCKS,\n  EDIT_BLOCKS,\n  CREATE_BLOCKS,\n\n  // Bookings\n  VIEW_BOOKINGS,\n  EDIT_BOOKINGS,\n  CREATE_BOOKINGS,\n\n  // Customers\n  VIEW_CUSTOMERS,\n  EDIT_CUSTOMERS,\n  CREATE_CUSTOMERS,\n\n  // Events\n  VIEW_EVENTS,\n  EDIT_EVENTS,\n  CREATE_EVENTS,\n\n  // Objects\n  VIEW_OBJECTS,\n  EDIT_OBJECTS,\n  CREATE_OBJECTS,\n\n  // Schemes\n  VIEW_SCHEMES,\n  EDIT_SCHEMES,\n  CREATE_SCHEMES,\n\n  // Seats\n  VIEW_SEATS,\n  EDIT_SEATS,\n  CREATE_SEATS,\n\n  // Tickets\n  VIEW_TICKETS,\n  EDIT_TICKETS,\n  CREATE_TICKETS,\n\n  // Tribunes\n  VIEW_TRIBUNES,\n  EDIT_TRIBUNES,\n  CREATE_TRIBUNES,\n\n  // Variants\n  VIEW_VARIANTS,\n  EDIT_VARIANTS,\n  CREATE_VARIANTS,\n\n  // Engines\n  VIEW_ENGINES,\n  EDIT_ENGINES,\n  CREATE_ENGINES,\n\n  // Palms\n  VIEW_PALMS,\n  EDIT_PALMS,\n  CREATE_PALMS,\n\n  // Palm scheme data\n  VIEW_PALM_SCHEME_DATA,\n  EDIT_PALM_SCHEME_DATA,\n  CREATE_PALM_SCHEME_DATA,\n\n  // Passages\n  VIEW_PASSAGES,\n  EDIT_PASSAGES,\n  CREATE_PASSAGES,\n\n  // Detectors\n  VIEW_DETECTORS,\n  EDIT_DETECTORS,\n  CREATE_DETECTORS,\n\n  // Device categories\n  VIEW_DEVICE_CATEGORIES,\n  EDIT_DEVICE_CATEGORIES,\n  CREATE_DEVICE_CATEGORIES,\n\n  // Entrances\n  VIEW_ENTRANCES,\n  EDIT_ENTRANCES,\n  CREATE_ENTRANCES,\n}\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id.Equals(${value})`,\n  ticketsIds: (lambdaParameter, value) => {\n    if (!value) {\n      return null\n    }\n    return `new int[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.TicketId)`\n  },\n  accessId: (lambdaParameter, value) =>\n    `${lambdaParameter}.AccessId.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  UpdateManyParams,\n  UpdateManyResult,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n} from 'react-admin'\nimport { AccessUsingsCreateParams } from './access-usings-create.params'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { DeviceDirection } from '../enum/DeviceDirection'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { ACCESS_USINGS } from '../api-urls'\nimport { mapSortAccessUsingsParam } from './access-usings-sort.mapper'\nimport filterMapper from './access-usings-filter.mapper'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessUsingDto>> => {\n    const filterParams = `au=>${filterParamsComposer(\n      'au',\n      filter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortAccessUsingsParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessUsingDto[]>(\n      `${ACCESS_USINGS}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  updateMany: async (\n    resource,\n    { ids, data: { active = false } }: UpdateManyParams,\n  ): Promise<UpdateManyResult> => {\n    const pendingUpdates = ids\n      .map((auId) => ({ id: auId, active } as UpdateAccessUsingRequest))\n      .map((req) =>\n        patch<UpdateAccessUsingRequest, AccessUsingDto>(ACCESS_USINGS, req),\n      )\n    const accessUsings = await Promise.all(pendingUpdates)\n    return Promise.resolve({\n      data: accessUsings.map((au) => au.id),\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<AccessUsingsCreateParams>,\n  ): Promise<CreateResult> => {\n    const { ticketIds, accessIds } = data\n    const request: CreateAccessUsingRequest[] = accessIds.flatMap((accessId) =>\n      ticketIds.map((ticketId) => ({\n        date: ignoreTimezoneOffset(new Date()).toISOString() as DateTime,\n        direction: DeviceDirection.IN,\n        active: true,\n        accessId,\n        ticketId,\n        verifierDeviceId: null,\n      })),\n    )\n    await post<CreateAccessUsingRequest[], AccessUsingDto[]>(\n      ACCESS_USINGS,\n      request,\n    )\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<AccessUsingDto>> => {\n    const data = await get<AccessUsingDto[]>(\n      `${ACCESS_USINGS}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n} as DataProvider\n\ninterface CreateAccessUsingRequest {\n  readonly date: DateTime\n  readonly direction: DeviceDirection\n  readonly active: boolean\n  readonly ticketId: number\n  readonly accessId: number\n}\n\ninterface UpdateAccessUsingRequest {\n  readonly id: Identifier\n  readonly active: false\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  bonus: (lambdaParameter, value) =>\n    `${lambdaParameter}.Bonus.Equals(TicketAPI.Models.Enums.TicketManagement.AccessBonuses.${value})`,\n  entranceId: (lambdaParameter, value) =>\n    `${lambdaParameter}.EntranceId.Equals(${value})`,\n  allowReenter: (lambdaParameter) => `${lambdaParameter}.AllowReenter`,\n  multipleEntry: (lambdaParameter) => `${lambdaParameter}.MultipleEntry`,\n  isTicketUnlockedWithNextDay: (lambdaParameter) =>\n    `${lambdaParameter}.IsTicketUnlockedWithNextDay`,\n  filterVariantId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Variants.Any(v=>v.Id.Equals(${otherValues?.variantId}))`\n      : null,\n  variantId: () => null,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'a=>a.Id',\n  name: 'a=>a.Name',\n  bonus: 'a=>a.Bonus',\n  entranceId: 'a=>a.EntranceId',\n  modifiedAt: 'a=>a.ModifiedAt',\n  createdAt: 'a=>a.CreatedAt',\n}\n\nexport const mapSortAccessParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ACCESSES_URL } from '../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\nimport { DateTime } from '../common/date-time'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { AccessVariantsDto } from '../dto/access-variants.dto'\nimport { AccessDto } from '../dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../enum/AccessBonuses'\nimport { DayOfWeek } from '../enum/DayOfWeek'\nimport filterMapper from './access-filter.mapper'\nimport { mapSortAccessParam } from './access-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessDto>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortAccessParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<AccessDto>> => {\n    const data = await get<AccessDto>(ACCESSES_URL, `/${id}`)\n    return {\n      data,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<AccessDto>> => {\n    const data = await get<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<AccessDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessRequest, AccessDto>(ACCESSES_URL, {\n      id: data.id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      bonus: data.bonus !== previousData.bonus ? data.bonus : undefined,\n      entranceId:\n        data.entranceId !== previousData.entranceId\n          ? data.entranceId\n          : undefined,\n      allowReenter:\n        data.allowReenter !== previousData.allowReenter\n          ? data.allowReenter\n          : undefined,\n      multipleEntry:\n        data.multipleEntry !== previousData.multipleEntry\n          ? data.multipleEntry\n          : undefined,\n      multiple:\n        data.multiple !== previousData.multiple ? data.multiple : undefined,\n      usePriority:\n        data.usePriority !== previousData.usePriority\n          ? data.usePriority\n          : undefined,\n      isTicketUnlockedWithNextDay:\n        data.isTicketUnlockedWithNextDay !==\n        previousData.isTicketUnlockedWithNextDay\n          ? data.isTicketUnlockedWithNextDay\n          : undefined,\n      releaseTime:\n        data.releaseTime !== previousData.releaseTime\n          ? data.releaseTime\n          : undefined,\n      releaseDayOfWeek:\n        data.releaseDayOfWeek !== previousData.releaseDayOfWeek\n          ? data.releaseDayOfWeek\n          : undefined,\n      releaseDayOfMonth:\n        data.releaseDayOfMonth !== previousData.releaseDayOfMonth\n          ? data.releaseDayOfMonth\n          : undefined,\n      delay: data.delay !== previousData.delay ? data.delay : undefined,\n      activePeriod:\n        data.activePeriod !== previousData.activePeriod\n          ? data.activePeriod\n          : undefined,\n      activePeriodStartingFrom:\n        data.activePeriodStartingFrom !== previousData.activePeriodStartingFrom\n          ? data.activePeriodStartingFrom\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<AccessDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateAccessRequest[], AccessDto[]>(\n      ACCESSES_URL,\n      [\n        {\n          name: data.name,\n          bonus: data.bonus ? data.bonus : undefined,\n          entranceId: data.entranceId || undefined,\n          allowReenter: data.allowReenter || undefined,\n          multipleEntry: data.multipleEntry || undefined,\n          multiple: data.multiple || undefined,\n          usePriority: data.usePriority || undefined,\n          isTicketUnlockedWithNextDay:\n            data.isTicketUnlockedWithNextDay || undefined,\n          releaseTime: data.releaseTime || undefined,\n          releaseDayOfWeek: data.releaseDayOfWeek || undefined,\n          releaseDayOfMonth: data.releaseDayOfMonth || undefined,\n          delay: data.delay || undefined,\n          activePeriod: data.activePeriod || undefined,\n          activePeriodStartingFrom: data.activePeriodStartingFrom || undefined,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  attachVariants: async (\n    resource: string,\n    params: AccessVariantsDto,\n  ): Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>> => {\n    const accessVariants = await put<AccessVariantsDto, AccessVariantsDto>(\n      `${ACCESSES_URL}/AttachVariants`,\n      params,\n    )\n    return {\n      data: accessVariants,\n    }\n  },\n  detachVariants: async (\n    resource: string,\n    params: AccessVariantsDto,\n  ): Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>> => {\n    const accessVariants = await put<AccessVariantsDto, AccessVariantsDto>(\n      `${ACCESSES_URL}/DetachVariants`,\n      params,\n    )\n    return {\n      data: accessVariants,\n    }\n  },\n} as AccessDataProvider\n\ninterface AccessDataProvider extends DataProvider {\n  attachVariants: (\n    resource: string,\n    params: AccessVariantsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>>\n\n  detachVariants: (\n    resource: string,\n    params: AccessVariantsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>>\n}\n\ninterface CreateAccessRequest {\n  readonly name: string\n  readonly bonus?: AccessBonuses\n  readonly entranceId?: number\n  readonly allowReenter?: boolean\n  readonly multipleEntry?: boolean\n  readonly multiple?: number\n  readonly usePriority?: number\n  readonly isTicketUnlockedWithNextDay?: boolean\n  readonly releaseTime?: DateTime\n  readonly releaseDayOfWeek?: DayOfWeek\n  readonly releaseDayOfMonth?: number\n  readonly delay?: string\n  readonly activePeriod?: string\n  readonly activePeriodStartingFrom?: AccessActivePeriodStartingOptions\n}\n\ninterface UpdateAccessRequest {\n  readonly id: Identifier\n  readonly name?: string\n  readonly bonus?: AccessBonuses\n  readonly entranceId?: number\n  readonly allowReenter?: boolean\n  readonly multipleEntry?: boolean\n  readonly multiple?: number\n  readonly usePriority?: number\n  readonly isTicketUnlockedWithNextDay?: boolean\n  readonly releaseTime?: DateTime\n  readonly releaseDayOfWeek?: DayOfWeek\n  readonly releaseDayOfMonth?: number\n  readonly delay?: string\n  readonly activePeriod?: string\n  readonly activePeriodStartingFrom?: AccessActivePeriodStartingOptions\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id==${value}`,\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Tribune.ObjectId.Equals(${value})`,\n  tribuneId: (lambdaParameter, value) =>\n    `${lambdaParameter}.TribuneId==${value}`,\n  code: (lambdaParameter, value) => `${lambdaParameter}.Code==${value}`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'b=>b.Id',\n  name: 'b=>b.Name',\n  tribuneId: 'b=>b.TribuneId',\n  type: 'b=>b.Type',\n  code: 'b=>b.Code',\n}\n\nexport const mapSortBlockParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { BLOCKS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { BlockDto } from '../dto/block.dto'\nimport { BlockCreateParams } from './blocks-create.params'\nimport filterMapper from './blocks-filter.mapper'\nimport { mapSortBlockParam } from './blocks-sort.mapper'\n\ntype CreateBlockRequest = Array<BlockCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<BlockDto>> => {\n    const filterParams = `b=>${filterParamsComposer('b', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortBlockParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<BlockDto[]>(\n      `${BLOCKS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<BlockCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateBlockRequest = [data]\n    await post<CreateBlockRequest, BlockDto[]>(BLOCKS_URL, request)\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<BlockDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, BlockDto>(\n      BLOCKS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        tribuneId:\n          data.tribuneId !== previousData.tribuneId\n            ? data.tribuneId\n            : undefined,\n        type: data.type !== previousData.type ? data.type : undefined,\n        code: data.code !== previousData.code ? data.code : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<BlockDto>> => {\n    const data = await get<BlockDto[]>(\n      BLOCKS_URL,\n      `/GetByConditions/b=>new int[] {${ids.toString()}}.Contains(b.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  customerId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Customer.Id.Equals(${value as number})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  variantId: 'l=>l.VariantId',\n  eventId: 'l=>l.EventId',\n}\n\nexport const mapSortBookingParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  UpdateParams,\n  UpdateResult,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { get, getWithPagination, patch } from '../common/fetch.utils'\nimport { BOOKINGS_URL } from '../api-urls'\nimport { BookingUpdateRequest } from './booking-update.request'\nimport { BookingDto } from '../dto/booking.dto'\nimport filterMapper from './booking-filter.mapper'\nimport { mapSortBookingParam } from './booking-sort.mapper'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<BookingDto>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortBookingParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<BookingDto[]>(\n      `${BOOKINGS_URL}/GetByConditions`,\n      path,\n    )\n\n    return {\n      data,\n      total,\n    }\n  },\n  getOne: async (\n    resource: string,\n    { id: bookingId }: GetOneParams,\n  ): Promise<GetOneResult<BookingDto>> => {\n    const booking = await get<BookingDto>(BOOKINGS_URL, `/${bookingId}`)\n\n    return {\n      data: booking,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<BookingDto>> => {\n    const data = await get<BookingDto[]>(\n      `${BOOKINGS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<BookingUpdateRequest>,\n  ): Promise<UpdateResult<BookingDto>> => {\n    const booking = await patch<BookingUpdateRequest, BookingDto>(\n      BOOKINGS_URL,\n      {\n        id: data.id,\n        disabled:\n          data?.disabled !== previousData?.disabled\n            ? data?.disabled\n            : undefined,\n      },\n    )\n    return Promise.resolve({\n      data: { ...booking, ticketsIds: [] },\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Events.Any(e=>e.Id==${otherValues?.eventId})`\n      : null,\n  eventId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  name: 'c=>c.Name',\n}\n\nexport const mapSortCompanyParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyResult,\n  GetManyParams,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../api-urls'\nimport { get, getWithPagination } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { CompanyDto } from '../dto/company.dto'\nimport filterMapper from './company-filter.mapper'\nimport { mapSortCompanyParam } from './company-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CompanyDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCompanyParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CompanyDto[]>(\n      `${ADMINISTRATOR_URL}/GetCompaniesByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CompanyDto>> => {\n    const data = await get<CompanyDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetCompaniesByConditions/c=>new int[] {${ids.toString()}}.Contains(c.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  firstname: (lambdaParameter, value) =>\n    `${lambdaParameter}.Firstname.Contains(\"${value}\")`,\n  lastname: (lambdaParameter, value) =>\n    `${lambdaParameter}.Lastname.Contains(\"${value}\")`,\n  pesel: (lambdaParameter, value) =>\n    `${lambdaParameter}.Pesel.Contains(\"${value}\")`,\n  documentNumber: (lambdaParameter, value) =>\n    `${lambdaParameter}.DocumentNumber.Contains(\"${value}\")`,\n  info: (lambdaParameter, value) =>\n    `${value\n      .toString()\n      .split(' ')\n      .map(\n        (q: string) =>\n          `(${lambdaParameter}.Firstname+${lambdaParameter}.Lastname+${lambdaParameter}.Pesel+${lambdaParameter}.DocumentNumber).Contains(\"${q}\")`,\n      )\n      .join('&&')}`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  firstname: 'c=>c.Firstname',\n  lastname: 'c=>c.Lastname',\n  pesel: 'c=>c.Pesel',\n  documentNumber: 'c=>c.DocumentNumber',\n}\n\nexport const mapSortCustomerParams = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { CUSTOMERS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport filterMapper from './customer-filter.mapper'\nimport { mapSortCustomerParams } from './customer-sort.mapper'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { CustomerDocumentType } from '../enum/CustomerDocumentType'\nimport { Gender } from '../enum/Gender'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CustomerDto>> => {\n    const filterParams = `c=>${filterParamsComposer('c', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCustomerParams,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id: customerId }: GetOneParams,\n  ): Promise<GetOneResult<CustomerDto>> => {\n    const customer = await get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    return {\n      data: customer as CustomerDto,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CustomerDto>> => {\n    const data = await get<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<CustomerDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateCustomerRequest, CustomerDto>(\n      CUSTOMERS_URL,\n      {\n        id: data.id,\n        firstname:\n          data.firstname !== previousData.firstname\n            ? data.firstname\n            : undefined,\n        lastname:\n          data.lastname !== previousData.lastname ? data.lastname : undefined,\n        company:\n          data.company !== previousData.company ? data.company : undefined,\n        birthdate:\n          data.birthdate !== previousData.birthdate\n            ? (ignoreTimezoneOffset(\n                new Date(data.birthdate),\n              ).toISOString() as DateTime)\n            : undefined,\n        documentType:\n          data.documentType !== previousData.documentType\n            ? data.documentType\n            : undefined,\n        pesel: data.pesel !== previousData.pesel ? data.pesel : undefined,\n        documentNumber:\n          data.documentNumber !== previousData.documentNumber\n            ? data.documentNumber\n            : undefined,\n        nationality:\n          data.nationality !== previousData.nationality\n            ? data.nationality\n            : undefined,\n        gender: data.gender !== previousData.gender ? data.gender : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CustomerDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateCustomerRequest[], CustomerDto[]>(\n      CUSTOMERS_URL,\n      [\n        {\n          ...data,\n          birthdate:\n            data.birthdate &&\n            (ignoreTimezoneOffset(\n              new Date(data.birthdate),\n            ).toISOString() as DateTime),\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n} as DataProvider\n\ninterface CreateCustomerRequest {\n  readonly firstname: string\n  readonly lastname: string\n  readonly company?: string\n  readonly birthdate?: DateTime\n  readonly documentType?: CustomerDocumentType\n  readonly pesel?: string\n  readonly documentNumber?: string\n  readonly nationality?: string\n  readonly gender?: Gender\n}\n\ninterface UpdateCustomerRequest {\n  readonly id: number\n  readonly firstname?: string\n  readonly lastname?: string\n  readonly company?: string\n  readonly birthdate?: DateTime\n  readonly documentType?: CustomerDocumentType\n  readonly pesel?: string\n  readonly documentNumber?: string\n  readonly nationality?: string\n  readonly gender?: Gender\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  parentId: (lambdaParameter, value) => `${lambdaParameter}.ParentId==${value}`,\n  parentIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.ParentId)`,\n  notId: (lambdaParameter, value) => `!${lambdaParameter}.Id.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'dc=>dc.Id',\n  name: 'dc=>dc.Name',\n  parentId: 'dc=>dc.ParentId',\n}\n\nexport const mapSortDeviceCategoryParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { DEVICE_CATEGORIES_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { DeviceCategoryDto } from '../dto/device-category/device-category.dto'\nimport filterMapper from './device-category-filter.mapper'\nimport { mapSortDeviceCategoryParam } from './device-category-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<DeviceCategoryDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortDeviceCategoryParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<DeviceCategoryDto[]>(\n      `${DEVICE_CATEGORIES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<DeviceCategoryDto>> => {\n    const data = await get<DeviceCategoryDto>(DEVICE_CATEGORIES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<DeviceCategoryDto>> => {\n    const data = await get<DeviceCategoryDto[]>(\n      DEVICE_CATEGORIES_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateDeviceCategoryRequest>,\n  ): Promise<CreateResult<DeviceCategoryDto>> => {\n    const deviceCategory = await post<\n      CreateDeviceCategoryRequest[],\n      DeviceCategoryDto[]\n    >(DEVICE_CATEGORIES_URL, [data])\n\n    return {\n      data: deviceCategory[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<DeviceCategoryDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      DeviceCategoryDto\n    >(DEVICE_CATEGORIES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      parentId:\n        data.parentId !== previousData.parentId ? data.parentId : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n} as DataProvider\n\n// interface DeviceCategoryDataProvider extends DataProvider {\n// }\n\nexport interface CreateDeviceCategoryRequest {\n  readonly name: string\n  readonly parentId?: number\n}\n\nexport default provider\n","import { DEVICE_CATEGORIES_URL } from '../api-urls'\nimport { get, getByConditions } from '../common/fetch.utils'\nimport { filterParamsComposer } from '../common/get-by-conditions.utils'\nimport deviceCategoryfilterMapper from '../device-categories/device-category-filter.mapper'\nimport { DeviceCategoryDto } from '../dto/device-category/device-category.dto'\n\n// Tree type filter for device categories\nconst getDeviceCategories = async (categoryId: number) => {\n  let categoriesIds: number[] = []\n  // eslint-disable-next-line no-await-in-loop\n  const selectedCategory = await get<DeviceCategoryDto>(\n    DEVICE_CATEGORIES_URL,\n    `/${categoryId}`,\n  )\n  categoriesIds.push(selectedCategory?.id)\n  let resolveParents = true\n  while (resolveParents) {\n    const parentCategoriesfilters = { parentIds: categoriesIds }\n    // eslint-disable-next-line no-await-in-loop\n    const childrenCategories = await getByConditions<DeviceCategoryDto>(\n      `${DEVICE_CATEGORIES_URL}`,\n      `o=>${filterParamsComposer(\n        'o',\n        parentCategoriesfilters,\n        deviceCategoryfilterMapper,\n      )}`,\n    )\n    const newChildren = childrenCategories\n      .map((cc) => cc.id)\n      // eslint-disable-next-line no-loop-func\n      .filter((cc) => !categoriesIds.includes(cc))\n    if (newChildren.length === 0) {\n      resolveParents = false\n    } else {\n      categoriesIds = categoriesIds.concat(newChildren)\n    }\n  }\n  return categoriesIds\n}\n\nexport { getDeviceCategories }\n","import { EventStatus } from '../../enum/EventStatus'\n\nconst mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Events.Any(e=>e.Id==${otherValues?.eventId})`\n      : null,\n  eventId: () => null,\n  eventActive: (lambdaParameter) =>\n    `${lambdaParameter}.Events.Any(ev=>ev.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${EventStatus.ACTIVE}))`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  filterEntranceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Entrances.Any(en=>en.Id==${otherValues?.entranceId})`\n      : null,\n  entranceId: () => null,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortEngineParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ENGINES_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { EngineEntrancesDto } from '../../dto/device/engine/engine-entrances.dto'\nimport { EngineEventsDto } from '../../dto/device/engine/engine-events.dto'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\nimport { RemoveTSCanCredentialsDto } from '../../dto/device/engine/remove-tscan-credentials.dto'\nimport { SetStandbyModeDto } from '../../dto/device/engine/set-standby-mode.dto'\nimport { SetTSCanCredentialsDto } from '../../dto/device/engine/set-tscan-credentials.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { EngineLockResults } from '../../enum/EngineLockResults'\nimport { EngineUnlockResults } from '../../enum/EngineUnlockResults'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { Multiplicities } from '../../enum/Multiplicities'\nimport { StanbyMode } from '../../enum/StanbyMode'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './engine-filter.mapper'\nimport { mapSortEngineParam } from './engine-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EngineDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortEngineParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EngineDto[]>(\n      `${ENGINES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EngineDto>> => {\n    const data = await get<EngineDto>(ENGINES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EngineDto>> => {\n    const data = await get<EngineDto[]>(\n      ENGINES_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateEngineRequest>,\n  ): Promise<CreateResult<EngineDto>> => {\n    const engine = await post<CreateEngineRequest[], EngineDto[]>(ENGINES_URL, [\n      data,\n    ])\n    return {\n      data: engine[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EngineDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, EngineDto>(\n      ENGINES_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        isWatched:\n          data.isWatched !== previousData.isWatched\n            ? data.isWatched\n            : undefined,\n        address:\n          data.address !== previousData.address ? data.address : undefined,\n        direction:\n          data.direction !== previousData.direction\n            ? data.direction\n            : undefined,\n        categoryId:\n          data.categoryId !== previousData.categoryId\n            ? data.categoryId\n            : undefined,\n        onlineInfixCeck:\n          data.onlineInfixCeck !== previousData.onlineInfixCeck\n            ? data.onlineInfixCeck\n            : undefined,\n        multiplicity:\n          data.multiplicity !== previousData.multiplicity\n            ? data.multiplicity\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  attachEvents: async (\n    resource: string,\n    params: EngineEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>(\n      `${ENGINES_URL}/AttachEvents`,\n      params,\n    )\n    return {\n      data: engineEvents,\n    }\n  },\n  detachEvents: async (\n    resource: string,\n    params: EngineEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>(\n      `${ENGINES_URL}/DetachEvents`,\n      params,\n    )\n    return {\n      data: engineEvents,\n    }\n  },\n  attachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>(\n      `${ENGINES_URL}/AttachEntrances`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  detachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>(\n      `${ENGINES_URL}/DetachEntrances`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ): Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const setTSCanCredentials = await put<\n      SetTSCanCredentialsDto,\n      SetTSCanCredentialsDto\n    >(`${ENGINES_URL}/SetTSCanCredentials`, params)\n    return {\n      data: setTSCanCredentials,\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ): Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>> => {\n    const removeTSCanCredentials = await put<\n      RemoveTSCanCredentialsDto,\n      RemoveTSCanCredentialsDto\n    >(`${ENGINES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: removeTSCanCredentials,\n    }\n  },\n  lock: async (\n    resource: string,\n    params: LockParams,\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const lock = await put<LockParams, LockResponse>(\n      `${ENGINES_URL}/Lock`,\n      params,\n    )\n    return {\n      data: lock,\n    }\n  },\n  unlock: async (\n    resource: string,\n    params: UnlockParams,\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const unlock = await put<UnlockParams, UnlockResponse>(\n      `${ENGINES_URL}/Unlock`,\n      params,\n    )\n    return {\n      data: unlock,\n    }\n  },\n  setStandbyMode: async (\n    resource: string,\n    params: SetStandbyModeDto,\n  ): Promise<DataProviderExtensionResult<SetStandbyModeDto>> => {\n    const setStandbyMode = await put<SetStandbyModeDto, SetStandbyModeDto>(\n      `${ENGINES_URL}/SetStandbyMode`,\n      params,\n    )\n    return {\n      data: setStandbyMode,\n    }\n  },\n} as EngineDataProvider\n\ninterface EngineDataProvider extends DataProvider {\n  attachEvents: (\n    resource: string,\n    params: EngineEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>\n\n  detachEvents: (\n    resource: string,\n    params: EngineEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>\n\n  attachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>\n\n  detachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>\n\n  lock: (\n    resource: string,\n    params: LockParams,\n  ) => Promise<DataProviderExtensionResult<LockResponse>>\n\n  unlock: (\n    resource: string,\n    params: UnlockParams,\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>\n\n  setStandbyMode: (\n    resource: string,\n    params: SetStandbyModeDto,\n  ) => Promise<DataProviderExtensionResult<SetStandbyModeDto>>\n}\n\nexport interface CreateEngineRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly address: string\n  readonly direction: DeviceDirection\n  readonly categoryId: number\n  readonly disabled: string\n  readonly stanbyMode: StanbyMode\n  readonly jsonStatus: string\n  readonly onlineInfixCeck: boolean\n  readonly multiplicity: Multiplicities\n  readonly hardwareVersion: HardwareVersions\n}\n\nexport interface LockParams {\n  engineId: number\n  lockName: string\n}\n\nexport interface LockResponse {\n  engineId: number\n  lockName: string\n  lockResult: EngineLockResults\n}\n\nexport interface UnlockParams {\n  engineId: number\n}\n\nexport interface UnlockResponse {\n  engineId: number\n  unlockResult: EngineUnlockResults\n}\n\nexport default provider\n","import { EventStatus } from '../../enum/EventStatus'\n\nconst mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Events.Any(e=>e.Id==${otherValues?.eventId})`\n      : null,\n  eventId: () => null,\n  eventActive: (lambdaParameter) =>\n    `${lambdaParameter}.Events.Any(ev=>ev.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${EventStatus.ACTIVE}))`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  filterEntranceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Entrances.Any(e=>e.Id==${otherValues?.entranceId})`\n      : null,\n  entranceId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  name: 'p=>p.Name',\n}\n\nexport const mapSortPalmParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { PALMS_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PalmEntrancesDto } from '../../dto/device/palm/palm-entrances.dto'\nimport { PalmEventsDto } from '../../dto/device/palm/palm-events.dto'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { Multiplicities } from '../../enum/Multiplicities'\nimport { PalmLockResult } from '../../enum/PalmLockResult'\nimport { PalmResetMobileDeviceIdResults } from '../../enum/PalmResetMobileDeviceIdResults'\nimport { PalmSetMobileDeviceIdResults } from '../../enum/PalmSetMobileDeviceIdResults'\nimport { PalmUnlockResult } from '../../enum/PalmUnlockResult'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './palm-filter.mapper'\nimport { mapSortPalmParam } from './palm-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PalmDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortPalmParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PalmDto[]>(`${PALMS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<PalmDto>> => {\n    const data = await get<PalmDto>(PALMS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PalmDto>> => {\n    const data = await get<PalmDto[]>(\n      PALMS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreatePalmRequest>,\n  ): Promise<CreateResult<PalmDto>> => {\n    const palm = await post<CreatePalmRequest[], PalmDto[]>(PALMS_URL, [data])\n    return {\n      data: palm[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<PalmDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, PalmDto>(\n      PALMS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        isWatched:\n          data.isWatched !== previousData.isWatched\n            ? data.isWatched\n            : undefined,\n        direction:\n          data.direction !== previousData.direction\n            ? data.direction\n            : undefined,\n        categoryId:\n          data.categoryId !== previousData.categoryId\n            ? data.categoryId\n            : undefined,\n        onlineInfixCeck:\n          data.onlineInfixCeck !== previousData.onlineInfixCeck\n            ? data.onlineInfixCeck\n            : undefined,\n        multiplicity:\n          data.multiplicity !== previousData.multiplicity\n            ? data.multiplicity\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  lock: async (\n    resource: string,\n    { palmId, lockName }: LockParams,\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const data = await put<LockParams, LockResponse>(`${PALMS_URL}/Lock`, {\n      palmId,\n      lockName,\n    })\n    return Promise.resolve({ data })\n  },\n  unlock: async (\n    resource: string,\n    { palmId }: UnlockParams,\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const data = await put<UnlockParams, UnlockResponse>(\n      `${PALMS_URL}/Unlock`,\n      {\n        palmId,\n      },\n    )\n    return Promise.resolve({ data: { ...data, disabled: undefined } })\n  },\n  setMobileDeviceId: async (\n    resource: string,\n    { palmId, mobileDeviceId }: SetMobileDeviceIdParams,\n  ): Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>> => {\n    const data = await put<SetMobileDeviceIdParams, SetMobileDeviceIdResponse>(\n      `${PALMS_URL}/SetMobileDeviceId`,\n      {\n        palmId,\n        mobileDeviceId,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  resetMobileDeviceId: async (\n    resource: string,\n    { palmId }: ResetMobileDeviceIdParams,\n  ): Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>> => {\n    const data = await put<\n      ResetMobileDeviceIdParams,\n      ResetMobileDeviceIdResponse\n    >(`${PALMS_URL}/ResetMobileDeviceId`, {\n      palmId,\n    })\n    return Promise.resolve({ data: { ...data, mobileDeviceId: undefined } })\n  },\n  attachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(\n      `${PALMS_URL}/AttachEvents`,\n      {\n        palmId,\n        eventsIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  detachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(\n      `${PALMS_URL}/DetachEvents`,\n      {\n        palmId,\n        eventsIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  attachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(\n      `${PALMS_URL}/AttachEntrances`,\n      {\n        palmId,\n        entrancesIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  detachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(\n      `${PALMS_URL}/DetachEntrances`,\n      {\n        palmId,\n        entrancesIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n} as PalmDataProvider\n\ninterface PalmDataProvider extends DataProvider {\n  lock: (\n    resource: string,\n    params: LockParams,\n  ) => Promise<DataProviderExtensionResult<LockResponse>>\n\n  unlock: (\n    resource: string,\n    params: UnlockParams,\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>\n\n  setMobileDeviceId: (\n    resource: string,\n    params: SetMobileDeviceIdParams,\n  ) => Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>>\n\n  resetMobileDeviceId: (\n    resource: string,\n    params: ResetMobileDeviceIdParams,\n  ) => Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>>\n\n  attachEvents: (\n    resource: string,\n    params: PalmEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>\n\n  detachEvents: (\n    resource: string,\n    params: PalmEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>\n\n  attachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n\n  detachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n}\n\nexport interface CreatePalmRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly direction: DeviceDirection\n  readonly categoryId: number\n  readonly disabled: string\n  readonly jsonStatus: string\n  readonly onlineInfixCeck: boolean\n  readonly multiplicity: Multiplicities\n  readonly mobileDeviceId: string\n}\n\nexport interface LockParams {\n  palmId: Identifier\n  lockName: string\n}\n\nexport interface LockResponse {\n  palmId: Identifier\n  lockName: string\n  lockResult: PalmLockResult\n}\n\nexport interface UnlockParams {\n  palmId: Identifier\n}\n\nexport interface UnlockResponse {\n  palmId: Identifier\n  unlockResult: PalmUnlockResult\n}\n\nexport interface SetMobileDeviceIdParams {\n  palmId: Identifier\n  mobileDeviceId: string\n}\n\nexport interface SetMobileDeviceIdResponse {\n  palmId: Identifier\n  mobileDeviceId: string\n  setResult: PalmSetMobileDeviceIdResults\n}\n\nexport interface ResetMobileDeviceIdParams {\n  palmId: Identifier\n}\n\nexport interface ResetMobileDeviceIdResponse {\n  palmId: Identifier\n  resetResult: PalmResetMobileDeviceIdResults\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  note: (lambdaParameter, value) =>\n    `${lambdaParameter}.Note.Contains(\"${value}\")`,\n  filterVerifierDeviceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.VerifierDevices.Any(vd=>vd.Id==${otherValues?.verifierDeviceId})`\n      : null,\n  verifierDeviceId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  note: 'e=>e.Note',\n}\n\nexport const mapSortEntranceParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyReferenceResult,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  CreateParams,\n  CreateResult,\n  Identifier,\n} from 'react-admin'\nimport { ENTRANCES_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport {\n  TicketAPIGetListParams,\n  TicketAPIGetManyRefrenceParams,\n} from '../common/ticket-api-get-list.params'\nimport { EntranceDto } from '../dto/entrance.dto'\nimport { EntranceDevicesDto } from '../dto/entrances-devices.dto'\nimport filterMapper from './entrance-filter.mapper'\nimport { mapSortEntranceParam } from './entrance-sort.mapper'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EntranceDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortEntranceParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EntranceDto>> => {\n    const data = await get<EntranceDto>(ENTRANCES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EntranceDto>> => {\n    const { data } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions/`,\n      `e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getManyReference: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetManyRefrenceParams,\n  ): Promise<GetManyReferenceResult<EntranceDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortEntranceParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateEntranceRequest>,\n  ): Promise<CreateResult<EntranceDto>> => {\n    const entrance = await post<CreateEntranceRequest[], EntranceDto[]>(\n      ENTRANCES_URL,\n      [data],\n    )\n    return {\n      data: entrance[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EntranceDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      EntranceDto\n    >(ENTRANCES_URL, {\n      id,\n      note: data.note !== previousData.name ? data.note : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  attachDevices: async (\n    resource: string,\n    params: EntranceDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>> => {\n    const entranceDevices = await put<EntranceDevicesDto, EntranceDevicesDto>(\n      `${ENTRANCES_URL}/AttachDevices`,\n      params,\n    )\n    return {\n      data: entranceDevices,\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EntranceDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>> => {\n    const entranceDevices = await put<EntranceDevicesDto, EntranceDevicesDto>(\n      `${ENTRANCES_URL}/DetachDevices`,\n      params,\n    )\n    return {\n      data: entranceDevices,\n    }\n  },\n} as EntranceDataProvider\n\ninterface EntranceDataProvider extends DataProvider {\n  attachDevices: (\n    resource: string,\n    params: EntranceDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>>\n\n  detachDevices: (\n    resource: string,\n    params: EntranceDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>>\n}\n\nexport interface CreateEntranceRequest {\n  readonly note: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterVerifierDeviceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.VerifierDevices.Any(vd=>vd.Id==${otherValues?.verifierDeviceId})`\n      : null,\n  verifierDeviceId: () => null,\n  status: (lambdaParameter, value) =>\n    `${lambdaParameter}.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n  status: 'e=>e.Status',\n}\n\nexport const mapSortEventParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { EVENTS_URL } from '../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../common/data-provider'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { EventCompaniesDto } from '../dto/event/event-companies.dto'\nimport { EventDevicesDto } from '../dto/event/event-devices.dto'\nimport { EventObjectsDto } from '../dto/event/event-objects.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { EventStatus } from '../enum/EventStatus'\nimport filterMapper from './event-filter.mapper'\nimport { mapSortEventParam } from './event-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EventDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortEventParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EventDto>> => {\n    const event = await get<EventDto>(EVENTS_URL, `/${id}`)\n\n    return {\n      data: event,\n    }\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<EventDto>,\n  ): Promise<CreateResult<EventDto>> => {\n    const event = await post<CreateEventRequest[], EventDto[]>(EVENTS_URL, [\n      {\n        ...data,\n        dateStart: ignoreTimezoneOffset(\n          new Date(data.dateStart),\n        ).toISOString() as DateTime,\n        dateEnd: ignoreTimezoneOffset(\n          new Date(data.dateEnd),\n        ).toISOString() as DateTime,\n      },\n    ])\n\n    return {\n      data: event[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EventDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, EventDto>(\n      EVENTS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        dateStart:\n          data.dateStart !== previousData.dateStart\n            ? (ignoreTimezoneOffset(\n                new Date(data.dateStart),\n              ).toISOString() as DateTime)\n            : undefined,\n        dateEnd:\n          data.dateEnd !== previousData.dateEnd\n            ? (ignoreTimezoneOffset(\n                new Date(data.dateEnd),\n              ).toISOString() as DateTime)\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EventDto>> => {\n    const data = await get<EventDto[]>(\n      EVENTS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  activate: async (\n    resource: string,\n    { eventId }: ChangeStateParams,\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const activate = await put<undefined, ChangeStateResponse>(\n      `${EVENTS_URL}/ActivateAsyncJob/${eventId}`,\n      undefined,\n    )\n    return {\n      data: activate,\n    }\n  },\n  deactivate: async (\n    resource: string,\n    { eventId }: ChangeStateParams,\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const deactivate = await put<undefined, ChangeStateResponse>(\n      `${EVENTS_URL}/DeactivateAsyncJob/${eventId}`,\n      undefined,\n    )\n    return {\n      data: deactivate,\n    }\n  },\n  getCompanies: async (\n    resource: string,\n    { eventId }: GetCompaniesParams,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const companies = await get<EventCompaniesDto>(\n      `${EVENTS_URL}`,\n      `/GetCompanies/${eventId}`,\n    )\n    return {\n      data: companies,\n    }\n  },\n  attachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>(\n      `${EVENTS_URL}/AttachCompanies`,\n      params,\n    )\n    return {\n      data: eventCompanies,\n    }\n  },\n  detachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>(\n      `${EVENTS_URL}/DetachCompanies`,\n      params,\n    )\n    return {\n      data: eventCompanies,\n    }\n  },\n  attachObjects: async (\n    resource: string,\n    params: EventObjectsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>(\n      `${EVENTS_URL}/AttachObjects`,\n      params,\n    )\n    return {\n      data: eventObjects,\n    }\n  },\n  detachObjects: async (\n    resource: string,\n    params: EventObjectsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>(\n      `${EVENTS_URL}/DetachObjects`,\n      params,\n    )\n    return {\n      data: eventObjects,\n    }\n  },\n  getDevices: async (\n    resource: string,\n    { eventId }: GetDevicesParams,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const devices = await get<EventDevicesDto>(\n      `${EVENTS_URL}`,\n      `/GetDevices/${eventId}`,\n    )\n    return {\n      data: devices,\n    }\n  },\n  attachDevices: async (\n    resource: string,\n    params: EventDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>(\n      `${EVENTS_URL}/AttachDevices`,\n      params,\n    )\n    return {\n      data: eventDevices,\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EventDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>(\n      `${EVENTS_URL}/DetachDevices`,\n      params,\n    )\n    return {\n      data: eventDevices,\n    }\n  },\n} as EventDataProvider\n\ninterface EventDataProvider extends DataProvider {\n  activate: (\n    resource: string,\n    params: ChangeStateParams,\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>\n\n  deactivate: (\n    resource: string,\n    params: ChangeStateParams,\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>\n\n  getCompanies: (\n    resource: string,\n    params: GetCompaniesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  attachCompanies: (\n    resource: string,\n    params: EventCompaniesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  detachCompanies: (\n    resource: string,\n    params: EventCompaniesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  getObjectsList: (\n    resource: string,\n    params: GetObjectsParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  attachObjects: (\n    resource: string,\n    params: EventObjectsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  detachObjects: (\n    resource: string,\n    params: EventObjectsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  getDevices: (\n    resource: string,\n    params: GetDevicesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n\n  attachDevices: (\n    resource: string,\n    params: EventDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n\n  detachDevices: (\n    resource: string,\n    params: EventDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n}\n\nexport interface ChangeStateParams {\n  eventId: Identifier\n}\n\nexport interface ChangeStateResponse {\n  jobId: Identifier\n}\n\nexport interface GetCompaniesParams {\n  eventId: Identifier\n}\n\nexport interface GetObjectsParams {\n  eventId: Identifier\n}\n\nexport interface GetDevicesParams {\n  eventId: Identifier\n}\n\nexport interface CreateEventRequest {\n  readonly name: string\n  readonly status?: EventStatus\n  readonly dateStart: DateTime\n  readonly dateEnd: DateTime\n  readonly externalId?: string\n  readonly infix?: string\n  readonly objectsIds?: number[]\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  ticketCode: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BookingId.Equals(${value})`,\n  customerId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.CustomerId.Equals(${value})`,\n  date: (lambdaParameter, value) =>\n    `${lambdaParameter}.Date > DateTimeOffset.FromUnixTimeMilliseconds(${\n      value.toString().split(';')[0]\n    }).DateTime && ${lambdaParameter}.Date < DateTimeOffset.FromUnixTimeMilliseconds(${\n      value.toString().split(';')[1]\n    }).DateTime`,\n  deviceName: (lambdaParameter, value) =>\n    `${lambdaParameter}.Device.Name.Contains(\"${value}\")`,\n  text: (lambdaParameter, value) =>\n    `${lambdaParameter}.Data.Text.Contains(\"${value}\")`,\n  event: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Name.Contains(\"${value}\")`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  date: 'l=>l.Date',\n  deviceName: 'l=>l.Device.Name',\n  ticketCode: 'l=>l.TicketCode',\n  bookingId: 'l=>l.BookingId',\n}\n\nexport const mapSortLogParam = (key: string) => mapping[key]\n","import { ExtendedLog } from '../dto/extended-log'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\n\nexport const mapToExtendedLog = (\n  {\n    id,\n    date,\n    ticketCode,\n    bookingId,\n    scheme,\n    device: { name: deviceName },\n    data,\n  }: ExtendedLogDto,\n  locale: string,\n): ExtendedLog => {\n  const logEntry = data.filter(({ language }) => language.includes(locale))[0]\n  return {\n    id,\n    date,\n    deviceName,\n    ticketCode,\n    text: logEntry?.text || scheme,\n    color: data[0].color || 'transparent',\n    bookingId,\n  }\n}\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EXTENDED_LOGS_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\nimport { ExtendedLog } from '../dto/extended-log'\nimport { filterMapper } from './extended-log-filter.mapper'\nimport { mapSortLogParam } from './extended-log-sort.mapper'\nimport { mapToExtendedLog } from './extended-logs.mapper'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { locale, ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<ExtendedLog>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortLogParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ExtendedLogDto[]>(EXTENDED_LOGS_URL, path)\n    const extendedLogs = data.map((dto) => mapToExtendedLog(dto, locale))\n\n    return Promise.resolve({\n      data: extendedLogs,\n      total,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string | null\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.id==${value}`,\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Events.Any(e=>e.Id==${otherValues?.eventId})`\n      : null,\n  eventId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'o=>o.Id',\n  name: 'o=>o.Name',\n}\n\nexport const mapSortObjectParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { OBJECTS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { ObjectDto } from '../dto/object.dto'\nimport filterMapper from './object-filter.mapper'\nimport { mapSortObjectParam } from './object-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<ObjectDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortObjectParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ObjectDto[]>(\n      `${OBJECTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<ObjectDto>> => {\n    const data = await get<ObjectDto>(OBJECTS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<CreateObjectRequest>,\n  ): Promise<CreateResult<ObjectDto>> => {\n    const object = await post<CreateObjectRequest[], ObjectDto[]>(OBJECTS_URL, [\n      data,\n    ])\n    return {\n      data: object[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, ObjectDto>(\n      OBJECTS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<ObjectDto>> => {\n    const data = await get<ObjectDto[]>(\n      OBJECTS_URL,\n      `/GetByConditions/o=>new int[] {${ids.toString()}}.Contains(o.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport interface CreateObjectRequest {\n  readonly name: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id==${value}`,\n  numberAlias: (lambdaParameter, value) =>\n    `${lambdaParameter}.NumberAlias.Contains(\"${value}\")`,\n  rowAlias: (lambdaParameter, value) =>\n    `${lambdaParameter}.RowAlias.Contains(\"${value}\")`,\n  blockId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BlockId.Equals(${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Block.Tribune.ObjectId.Equals(${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 's=>s.Id',\n  rowAlias: 's=>s.RowAlias',\n  numberAlias: 's=>s.numberAlias',\n  blockId: 's=>s.blockId',\n}\n\nexport const mapSortSeatParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { SEATS_URL } from '../api-urls'\nimport { get, getWithPagination, post, patch } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { SeatDto } from '../dto/seat.dto'\nimport { SeatCreateParams } from './seats-create.params'\nimport filterMapper from './seats-filter.mapper'\nimport { mapSortSeatParam } from './seats-sort.mapper'\n\ntype CreateSeatRequest = Array<SeatCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<SeatDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortSeatParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<SeatDto[]>(`${SEATS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<SeatCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateSeatRequest = [data]\n    await post<CreateSeatRequest, SeatDto[]>(SEATS_URL, request)\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<SeatDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, SeatDto>(\n      SEATS_URL,\n      {\n        id,\n        rowAlias:\n          data.rowAlias !== previousData.rowAlias ? data.rowAlias : undefined,\n        numberAlias:\n          data.numberAlias !== previousData.numberAlias\n            ? data.numberAlias\n            : undefined,\n        blockId:\n          data.blockId !== previousData.blockId ? data.blockId : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<SeatDto>> => {\n    const data = await get<SeatDto[]>(\n      SEATS_URL,\n      `/GetByConditions/s=>new int[] {${ids.toString()}}.Contains(s.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","import { EventOverallView } from './event-overall-view'\n\nconst mapping: Partial<Record<keyof EventOverallView, string>> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n}\n\nexport const mapSortOverallViewParam = (key: keyof EventOverallView) =>\n  mapping[key]\n","import { EventDto } from '../../dto/event/event.dto'\nimport { EventOverallView } from './event-overall-view'\n\nexport const mapToEventOverallView = (event: EventDto): EventOverallView => ({\n  id: event.id,\n  name: event.name,\n  dateStart: event.dateStart,\n  dateEnd: event.dateEnd,\n})\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EVENTS_URL } from '../../api-urls'\nimport { getWithPagination } from '../../common/fetch.utils'\nimport { ALL_RESULTS } from '../../common/get-by-conditions.utils'\nimport { NameFilter } from '../../common/name.filter'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { EventOverallView } from './event-overall-view'\nimport { mapSortOverallViewParam } from './overall-view-list-sort.mapper'\nimport { mapToEventOverallView } from './overall-view-list.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { order, field },\n      pagination: { page, perPage },\n    }: NameFilter,\n  ): Promise<GetListResult<EventOverallView>> => {\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortOverallViewParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `${\n      filter.name ? `e=>e.Name.Contains(\"${filter.name}\")` : ALL_RESULTS\n    }?${pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions/`,\n      path,\n    )\n\n    const overallViewList = data.map((event) => mapToEventOverallView(event))\n\n    return {\n      data: overallViewList,\n      total,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { BookingType } from '../../enum/BookingType'\nimport {\n  BlockOverallView,\n  ObjectOverallView,\n  OverallView,\n  TribuneOverallView,\n} from './overall-view'\n\nconst calculateCapacity = (seats: SeatDto[], bookings: BookingDto[]) =>\n  seats.length + bookings.filter((b) => b.seatId == null).length\n\nconst mapToBlockOverallView = (\n  block: BlockDto,\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): BlockOverallView => ({\n  id: block.id,\n  name: block.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookings.length,\n  soldNormal: bookings.filter((b) => b.type === BookingType.NORMAL).length,\n  enteredNormal: enteredBookings.filter((b) => b.type === BookingType.NORMAL)\n    .length,\n  soldAbo: bookings.filter((b) => b.type === BookingType.ABO).length,\n  enteredAbo: enteredBookings.filter((b) => b.type === BookingType.ABO).length,\n  soldInfix: bookings.filter((b) => b.type === BookingType.INFIX).length,\n  enteredInfix: enteredBookings.filter((b) => b.type === BookingType.INFIX)\n    .length,\n  soldService: bookings.filter((b) => b.type === BookingType.SERVICE).length,\n  enteredService: enteredBookings.filter((b) => b.type === BookingType.SERVICE)\n    .length,\n  soldPoints: bookings.filter((b) => b.type === BookingType.POINTS).length,\n  enteredPoints: enteredBookings.filter((b) => b.type === BookingType.POINTS)\n    .length,\n})\n\nconst mapToTribuneOverallView = (\n  tribune: TribuneDto,\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): TribuneOverallView => ({\n  id: tribune.id,\n  name: tribune.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  blocks: blocks\n    .filter((b) => tribune.blocksIds.includes(b.id))\n    .map((block) => {\n      const filteredSeats = seats.filter((s) => s.blockId === block.id)\n      const filteredBookingIds = block.bookingsIds.concat(\n        filteredSeats.flatMap((s) => s.bookingsIds),\n      )\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      const filteredEnteredBookings = bookings.filter((book) =>\n        filteredEnteredBookingIds.includes(book.id),\n      )\n      return mapToBlockOverallView(\n        block,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookings,\n      )\n    }),\n})\n\nconst mapToObjectOverallView = (\n  object: ObjectDto,\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): ObjectOverallView => ({\n  id: object.id,\n  name: object.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  tribunes: tribunes\n    .filter((t) => object.tribunesIds.includes(t.id))\n    .map((tribune) => {\n      const filteredBlocks = blocks.filter((b) => b.tribuneId === tribune.id)\n      const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n      const filteredSeats = seats.filter((s) => filteredSeatIds.includes(s.id))\n      const filteredBookingIds = filteredBlocks\n        .flatMap((b) => b.bookingsIds)\n        .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      return mapToTribuneOverallView(\n        tribune,\n        filteredBlocks,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookingIds,\n      )\n    }),\n})\n\nexport const mapToOverallView = (\n  selectedEvent: EventDto,\n  objects: ObjectDto[],\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): OverallView => {\n  const enteredBookingIds = enteredBookings.map((book) => book.id)\n  return {\n    id: selectedEvent.id,\n    eventName: selectedEvent.name,\n    capacity: calculateCapacity(seats, bookings),\n    sold: bookings.length,\n    entered: enteredBookings.length,\n    date: selectedEvent.dateStart,\n    objects: objects\n      .filter((o) => selectedEvent.objectsIds.includes(o.id))\n      .map((object) => {\n        const filteredTribunes = tribunes.filter(\n          (t) => t.objectId === object.id,\n        )\n        const filteredBlocks = blocks.filter((b) =>\n          filteredTribunes.flatMap((t) => t.blocksIds).includes(b.id),\n        )\n        const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n        const filteredSeats = seats.filter((s) =>\n          filteredSeatIds.includes(s.id),\n        )\n        const filteredBookingIds = filteredBlocks\n          .flatMap((b) => b.bookingsIds)\n          .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n        const filteredBookings = bookings.filter((book) =>\n          filteredBookingIds.includes(book.id),\n        )\n        const filteredEnteredBookingIds = enteredBookingIds.filter(\n          (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n        )\n        return mapToObjectOverallView(\n          object,\n          filteredTribunes,\n          filteredBlocks,\n          filteredSeats,\n          filteredBookings,\n          filteredEnteredBookingIds,\n        )\n      }),\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  BLOCKS_URL,\n  BOOKINGS_URL,\n  EVENTS_URL,\n  OBJECTS_URL,\n  SEATS_URL,\n  TRIBUNES_URL,\n} from '../../api-urls'\nimport { get, getByConditions } from '../../common/fetch.utils'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { OverallView } from './overall-view'\nimport { mapToOverallView } from './overall-view.mapper'\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: eventId }: GetOneParams,\n  ): Promise<GetOneResult<OverallView>> => {\n    const pendingSelectedEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingObjects = getByConditions<ObjectDto>(\n      OBJECTS_URL,\n      `o=>o.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=o=>o.Name&sortOrder=ASC`,\n    )\n    const pendingTribunes = getByConditions<TribuneDto>(\n      TRIBUNES_URL,\n      `t=>t.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=t=>t.Name&sortOrder=ASC`,\n    )\n    const pendingBlocks = getByConditions<BlockDto>(\n      BLOCKS_URL,\n      `b=>b.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=b=>b.Name&sortOrder=ASC`,\n    )\n    const pendingSeats = getByConditions<SeatDto>(\n      SEATS_URL,\n      `s=>s.Block.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))`,\n    )\n    const bookingsCondition = `b=>b.EventId.Equals(${eventId}) && b.Disabled != TicketAPI.Models.Enums.TicketManagement.BookingDisabledOptions.STORNO`\n    const pendingBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      bookingsCondition,\n    )\n    const pendingEnteredBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      `${bookingsCondition} && b.Tickets.SelectMany(t => t.AccessUsings).Any(au => au.Active == true && au.Direction.Equals(TicketAPI.Models.Enums.DeviceManagement.DeviceDirections.IN))`,\n    )\n\n    const [\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    ] = await Promise.all([\n      pendingSelectedEvent,\n      pendingObjects,\n      pendingTribunes,\n      pendingBlocks,\n      pendingSeats,\n      pendingBookings,\n      pendingEnteredBookings,\n    ])\n\n    const overallViewData = mapToOverallView(\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    )\n\n    return {\n      data: overallViewData,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string | null\n> = {\n  ids: (lambdaParameter, value) =>\n    `new int[] {${value}}.Contains(${lambdaParameter}.Id)`,\n  ticketCode: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BookingId.Equals(${value})`,\n  eventId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.EventId.Equals(${value})`,\n  bookingType: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Type.Equals(TicketAPI.Models.Enums.TicketManagement.BookingTypes.${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Objects.Any(o=>o.Id.Equals(${value}))`,\n  variantId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.VariantId.Equals(${value})`,\n  ticketType: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketType.Equals(TicketAPI.Models.Enums.TicketManagement.TicketTypes.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  ticketCode: 'p=>p.TicketCode',\n  bookingId: 't=>t.BookingId',\n  customerFirstname: 't=>t.Booking.Customer.Firstname',\n  customerLastname: 't=>t.Booking.Customer.Lastname',\n  customerPesel: 't=>t.Booking.Customer.Pesel',\n  eventName: 't=>t.Booking.Event.Name',\n}\n\nexport const mapSortTicketParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  CreateParams,\n  CreateResult,\n} from 'react-admin'\nimport { TICKETS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { TicketType } from '../enum/TicketType'\nimport filterMapper from './ticket-filter.mapper'\nimport { mapSortTicketParam } from './ticket-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, pagination, sort }: TicketAPIGetListParams,\n  ): Promise<GetListResult<TicketDto>> => {\n    const filterParams = `t=>${filterParamsComposer('t', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortTicketParam)\n    const path = `/${filterParams}${pathParams ? `?${pathParams}` : ''}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<TicketDto>> => {\n    const filterParams = `t=>${filterParamsComposer(\n      't',\n      { ids },\n      filterMapper,\n    )}`\n    const data = await get<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions/`,\n      filterParams,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<TicketDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, TicketDto>(\n      TICKETS_URL,\n      {\n        id,\n        ticketCode:\n          data.ticketCode !== previousData.ticketCode\n            ? data.ticketCode\n            : undefined,\n        ticketType:\n          data.ticketType !== previousData.ticketType\n            ? data.ticketType\n            : undefined,\n        active: data.active !== previousData.active ? data.active : undefined,\n        bookingId:\n          data.bookingId !== previousData.bookingId\n            ? data.bookingId\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<CreateTicketRequest>,\n  ): Promise<CreateResult> => {\n    const ticket = await post<CreateTicketRequest[], TicketDto[]>(TICKETS_URL, [\n      data,\n    ])\n    return Promise.resolve({\n      data: ticket[0],\n    })\n  },\n} as DataProvider\n\ninterface CreateTicketRequest {\n  readonly ticketCode: string\n  readonly ticketType: TicketType\n  readonly active: boolean\n  readonly bookingId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) => `${lambdaParameter}.ObjectId==${value}`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 't=>t.Id',\n  name: 't=>t.Name',\n}\nexport const mapSortTribuneParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { TRIBUNES_URL } from '../api-urls'\nimport { get, getWithPagination, post, patch } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { TribuneDto } from '../dto/tribune.dto'\nimport { TribuneCreateParams } from './tribunes-create.params'\nimport filterMapper from './tribunes-filter.mapper'\nimport { mapSortTribuneParam } from './tribunes-sort.mapper'\n\ntype CreateTribuneRequest = Array<TribuneCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<TribuneDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortTribuneParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<TribuneDto[]>(\n      `${TRIBUNES_URL}/GetByConditions`,\n      path,\n    )\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<TribuneCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateTribuneRequest = [data]\n    await post<CreateTribuneRequest, TribuneDto[]>(TRIBUNES_URL, request)\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      TribuneDto\n    >(TRIBUNES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<TribuneDto>> => {\n    const data = await get<TribuneDto[]>(\n      TRIBUNES_URL,\n      `/GetByConditions/t=>new int[] {${ids.toString()}}.Contains(t.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","import {\n  DataProvider,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../api-urls'\nimport { get } from '../common/fetch.utils'\nimport { UserDto } from '../dto/user.dto'\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<UserDto>> => {\n    const data = await get<UserDto>(\n      `${ADMINISTRATOR_URL}/GetUserById`,\n      `/${id}`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<UserDto>> => {\n    const data = await get<UserDto[]>(\n      `${ADMINISTRATOR_URL}/GetUsersByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterAccessId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Accesses.Any(a=>a.Id==${otherValues?.accessId})`\n      : null,\n  accessId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  active: 'p=>p.Active',\n}\n\nexport const mapSortVariantParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  CreateParams,\n  CreateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { VARIANTS_URL } from '../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { VariantAccessesDto } from '../dto/variant-accesses.dto'\nimport { VariantDto } from '../dto/variant.dto'\nimport filterMapper from './variants-filter.mapper'\nimport { mapSortVariantParam } from './variants-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<VariantDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortVariantParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<VariantDto[]>(\n      `${VARIANTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<VariantDto>> => {\n    const data = await get<VariantDto>(VARIANTS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<VariantDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateVariantRequest, VariantDto>(VARIANTS_URL, {\n      id: id as number,\n      name: data.name !== previousData.name ? data.name : undefined,\n      active: data.active !== previousData.active ? data.active : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<VariantDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateVariantRequest[], VariantDto[]>(\n      VARIANTS_URL,\n      [\n        {\n          name: data?.name,\n          active: data?.active || false,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<VariantDto>> => {\n    const data = await get<VariantDto[]>(\n      VARIANTS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  attachAccesses: async (\n    resource: string,\n    params: VariantAccessesDto,\n  ): Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>> => {\n    const variantAccesses = await put<VariantAccessesDto, VariantAccessesDto>(\n      `${VARIANTS_URL}/AttachAccesses`,\n      params,\n    )\n    return {\n      data: variantAccesses,\n    }\n  },\n  detachAccesses: async (\n    resource: string,\n    params: VariantAccessesDto,\n  ): Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>> => {\n    const variantAccesses = await put<VariantAccessesDto, VariantAccessesDto>(\n      `${VARIANTS_URL}/DetachAccesses`,\n      params,\n    )\n    return {\n      data: variantAccesses,\n    }\n  },\n} as VariantDataProvider\n\ninterface VariantDataProvider extends DataProvider {\n  attachAccesses: (\n    resource: string,\n    params: VariantAccessesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>>\n\n  detachAccesses: (\n    resource: string,\n    params: VariantAccessesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>>\n}\n\ntype CreateVariantRequest = Pick<VariantDto, 'name'> &\n  Partial<Pick<VariantDto, 'active'>>\n\ntype UpdateVariantRequest = Pick<VariantDto, 'id'> &\n  Partial<Pick<VariantDto, 'name' | 'active'>>\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortPassageParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { PASSAGES_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport { DateTime } from '../../common/date-time'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { RemoveTSCanCredentialsDto } from '../../dto/device/passages/remove-tscan-credentials.dto'\nimport { ResetCountersDto } from '../../dto/device/passages/reset-counters.dto'\nimport { SetTSCanCredentialsDto } from '../../dto/device/passages/set-tscan-credentials.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './passage-filter.mapper'\nimport { mapSortPassageParam } from './passage-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PassageDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortPassageParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PassageDto[]>(\n      `${PASSAGES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<PassageDto>> => {\n    const data = await get<PassageDto>(PASSAGES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PassageDto>> => {\n    const { data } = await getWithPagination<PassageDto[]>(\n      `${PASSAGES_URL}/GetByConditions/`,\n      `e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreatePassageRequest>,\n  ): Promise<CreateResult<PassageDto>> => {\n    const passage = await post<CreatePassageRequest[], PassageDto[]>(\n      PASSAGES_URL,\n      [data],\n    )\n    return {\n      data: passage[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<PassageDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      PassageDto\n    >(PASSAGES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      isWatched:\n        data.isWatched !== previousData.isWatched ? data.isWatched : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      categoryId:\n        data.categoryId !== previousData.categoryId\n          ? data.categoryId\n          : undefined,\n      freeEntrancesCount:\n        data.freeEntrancesCount !== previousData.freeEntrancesCount\n          ? data.freeEntrancesCount\n          : undefined,\n      freeExitsCount:\n        data.freeExitsCount !== previousData.freeExitsCount\n          ? data.freeExitsCount\n          : undefined,\n      ticketEntrancesCount:\n        data.ticketEntrancesCount !== previousData.ticketEntrancesCount\n          ? data.ticketEntrancesCount\n          : undefined,\n      ticketExitsCount:\n        data.ticketExitsCount !== previousData.ticketExitsCount\n          ? data.ticketExitsCount\n          : undefined,\n      unauthorizedEntrancesCount:\n        data.unauthorizedEntrancesCount !==\n        previousData.unauthorizedEntrancesCount\n          ? data.unauthorizedEntrancesCount\n          : undefined,\n      unauthorizedExitsCount:\n        data.unauthorizedExitsCount !== previousData.unauthorizedExitsCount\n          ? data.unauthorizedExitsCount\n          : undefined,\n      hardwareVersion:\n        data.hardwareVersion !== previousData.hardwareVersion\n          ? data.hardwareVersion\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  resetCounters: async (\n    resource: string,\n    params: ResetCountersDto,\n  ): Promise<CacheableDataProviderExtensionResult<ResetCountersDto>> => {\n    const response = await put<ResetCountersDto, ResetCountersDto>(\n      `${PASSAGES_URL}/ResetCounters`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ): Promise<CacheableDataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const response = await put<SetTSCanCredentialsDto, SetTSCanCredentialsDto>(\n      `${PASSAGES_URL}/SetTSCanCredentials`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ): Promise<\n    CacheableDataProviderExtensionResult<RemoveTSCanCredentialsDto>\n  > => {\n    const response = await put<\n      RemoveTSCanCredentialsDto,\n      RemoveTSCanCredentialsDto\n    >(`${PASSAGES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: response,\n    }\n  },\n  setLockState: async (\n    resource: string,\n    params: SetLockStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetLockStateResponse>> => {\n    const response = await put<SetLockStateRequest, SetLockStateResponse>(\n      `${PASSAGES_URL}/SetLockState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setPowerState: async (\n    resource: string,\n    params: SetPowerStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetPowerStateResponse>> => {\n    const response = await put<SetPowerStateRequest, SetPowerStateResponse>(\n      `${PASSAGES_URL}/SetPowerState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setPPOZState: async (\n    resource: string,\n    params: SetPPOZStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetPPOZStateResponse>> => {\n    const response = await put<SetPPOZStateRequest, SetPPOZStateResponse>(\n      `${PASSAGES_URL}/SetPPOZState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setFreePassState: async (\n    resource: string,\n    params: SetFreePassStateRequest,\n  ): Promise<\n    CacheableDataProviderExtensionResult<SetFreePassStateResponse>\n  > => {\n    const response = await put<\n      SetFreePassStateRequest,\n      SetFreePassStateResponse\n    >(`${PASSAGES_URL}/SetFreePassState`, params)\n    return {\n      data: response,\n    }\n  },\n} as DetectorDataProvider\n\ninterface DetectorDataProvider extends DataProvider {\n  resetCounters: (\n    resource: string,\n    params: ResetCountersDto,\n  ) => Promise<DataProviderExtensionResult<ResetCountersDto>>\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>\n\n  setLockState: (\n    resource: string,\n    params: SetLockStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetLockStateResponse>>\n\n  setPowerState: (\n    resource: string,\n    params: SetPowerStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetPowerStateResponse>>\n\n  setPPOZState: (\n    resource: string,\n    params: SetPPOZStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetPPOZStateResponse>>\n\n  setFreePassState: (\n    resource: string,\n    params: SetFreePassStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetFreePassStateResponse>>\n}\n\nexport interface CreatePassageRequest {\n  readonly name: string\n  readonly isWatched?: boolean\n  readonly lastRefresh?: DateTime\n  readonly address: string\n  readonly direction?: DeviceDirection\n  readonly categoryId?: number\n  readonly jsonStatus?: string\n  readonly freeEntrancesCount?: number\n  readonly freeExitsCount?: number\n  readonly ticketEntrancesCount?: number\n  readonly ticketExitsCount?: number\n  readonly unauthorizedEntrancesCount?: number\n  readonly unauthorizedExitsCount?: number\n  readonly hardwareVersion?: HardwareVersions\n}\n\nexport interface SetFreePassStateRequest {\n  readonly passageId: number\n  readonly freePassState: boolean\n  readonly direction: DeviceDirection\n}\n\nexport interface SetFreePassStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetLockStateRequest {\n  readonly passageId: number\n  readonly lockState: boolean\n}\n\nexport interface SetLockStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetPowerStateRequest {\n  readonly passageId: number\n  readonly powerState: boolean\n}\n\nexport interface SetPowerStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetPPOZStateRequest {\n  readonly passageId: number\n  readonly ppozState: boolean\n}\n\nexport interface SetPPOZStateResponse {\n  readonly passageId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: string | number | boolean,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortDetectorParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  CreateParams,\n  CreateResult,\n} from 'react-admin'\nimport { DETECTORS_URL } from '../../api-urls'\nimport { get, getWithPagination, patch, post } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { DetectorDto } from '../../dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './detector-filter.mapper'\nimport { mapSortDetectorParam } from './detector-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<DetectorDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortDetectorParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<DetectorDto[]>(\n      `${DETECTORS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<DetectorDto>> => {\n    const data = await get<DetectorDto>(DETECTORS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<DetectorDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      DetectorDto\n    >(DETECTORS_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      isWatched:\n        data.isWatched !== previousData.isWatched ? data.isWatched : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      categoryId:\n        data.categoryId !== previousData.categoryId\n          ? data.categoryId\n          : undefined,\n      hardwareVersion:\n        data.hardwareVersion !== previousData.hardwareVersion\n          ? data.hardwareVersion\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateDetectorRequest>,\n  ): Promise<CreateResult<DetectorDto>> => {\n    const engine = await post<CreateDetectorRequest[], DetectorDto[]>(\n      DETECTORS_URL,\n      [data],\n    )\n    return {\n      data: engine[0],\n    }\n  },\n} as DataProvider\n\nexport interface CreateDetectorRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly address: string\n  readonly categoryId: number\n  readonly jsonStatus: string\n  readonly hardwareVersion: HardwareVersions\n}\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport accessDatesProvider from './access-dates/access-dates.provider'\nimport accessUsingsProvider from './access-usings/access-usings.provider'\nimport accessesProvider from './accesses/access.provider'\nimport blocksProvider from './blocks/blocks.provider'\nimport bookingsProvider from './bookings/bookings.provider'\nimport companiesProvider from './companies/companies.provider'\nimport customersProvider from './customers/customers.provider'\nimport deviceCategoriesProvider from './device-categories/device-categories.provider'\nimport engineProvider from './devices/engines/engines.provider'\nimport palmProvider from './devices/palms/palms.provider'\nimport entrancesProvider from './entrances/entrance.provider'\nimport eventsProvider from './events/event.provider'\nimport logsProvider from './extended-logs/extended-logs.provider'\nimport objectsProvider from './objects/objects.provider'\nimport { ResourceName } from './ResourceName'\nimport seatsProvider from './seats/seats.provider'\nimport statsOverallViewListProvider from './stats/overall-view/overall-view-list.provider'\nimport statsOverallViewProvider from './stats/overall-view/overall-view.provider'\nimport ticketsProvider from './tickets/tickets.provider'\nimport tribunesProvider from './tribunes/tribunes.provider'\nimport usersProvider from './users/user.provider'\nimport variantsProvider from './variants/variants.provider'\nimport passagesProvider from './devices/passages/passages.provider'\nimport detectorsProvider from './devices/detectors/detectors.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: accessDatesProvider,\n  [ResourceName.ACCESSES]: accessesProvider,\n  [ResourceName.ACCESS_USINGS]: accessUsingsProvider,\n  [ResourceName.BOOKINGS]: bookingsProvider,\n  [ResourceName.COMPANIES]: companiesProvider,\n  [ResourceName.CUSTOMERS]: customersProvider,\n  [ResourceName.DETECTORS]: detectorsProvider,\n  [ResourceName.ENGINES]: engineProvider,\n  [ResourceName.ENTRANCES]: entrancesProvider,\n  [ResourceName.EVENTS]: eventsProvider,\n  [ResourceName.LOGS]: logsProvider,\n  [ResourceName.OBJECTS]: objectsProvider,\n  [ResourceName.PALMS]: palmProvider,\n  [ResourceName.PASSAGES]: passagesProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: statsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: statsOverallViewListProvider,\n  [ResourceName.TICKETS]: ticketsProvider,\n  [ResourceName.TICKET_LOGS]: logsProvider,\n  [ResourceName.TRIBUNES]: tribunesProvider,\n  [ResourceName.BLOCKS]: blocksProvider,\n  [ResourceName.SEATS]: seatsProvider,\n  [ResourceName.USERS]: usersProvider,\n  [ResourceName.VARIANTS]: variantsProvider,\n  [ResourceName.DEVICE_CATEGORIES]: deviceCategoriesProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import i18n from 'i18next'\n\nconst provider = {\n  translate: (key: string, options: any): string => i18n.t(key, options),\n  changeLocale: async (locale: string): Promise<void> => {\n    const identity = localStorage.getItem('username') as string\n    localStorage.setItem(`${identity}.lng`, locale)\n    await i18n.changeLanguage(locale)\n  },\n  getLocale: (): string => i18n.language,\n}\n\nexport default provider\n","import { AuthProvider } from 'react-admin'\nimport { get } from '../common/fetch.utils'\nimport { RoleDto } from '../dto/role.dto'\nimport { ROLES_URL } from '../api-urls'\n\nconst areRolesOutOfSync = (local: Set<string>, remote: string[]) =>\n  local.size !== remote.length || !remote.every((value) => local.has(value))\n\nconst validateRoles = async (\n  dataProvider: AuthProvider,\n  params: any,\n  rolesFromRemote: string[],\n): Promise<Set<string>> => {\n  const rolesFromLocalStorage = (await dataProvider.getPermissions(\n    params,\n  )) as Set<string>\n  if (areRolesOutOfSync(rolesFromLocalStorage, rolesFromRemote)) {\n    // eslint-disable-next-line no-console\n    console.error('Corrupted permissions')\n    await dataProvider.logout('')\n    return Promise.resolve(new Set([]))\n  }\n  return Promise.resolve(rolesFromLocalStorage)\n}\n\nexport const withSynchronizedPermissions = (dataProvider: AuthProvider) => {\n  // this is set once on app initialization\n  let rolesFromRemote: string[] | null = null\n\n  return new Proxy<AuthProvider>(dataProvider, {\n    get:\n      (target, name: string) =>\n      async (params: any): Promise<any> => {\n        switch (name as keyof AuthProvider) {\n          // avoid re-executing getRoles call\n          case 'login': {\n            await dataProvider.login(params)\n            const rolesFromLocalStorage = (await dataProvider.getPermissions(\n              params,\n            )) as Set<string>\n            rolesFromRemote = Array.from(rolesFromLocalStorage)\n            return Promise.resolve()\n          }\n          case 'getPermissions': {\n            if (rolesFromRemote) {\n              // compares the status of local and remote roles each time it checks for permissions\n              return validateRoles(dataProvider, params, rolesFromRemote)\n            }\n            // after reloading the page it needs to fetch roles from remote\n            const roleDtos = await get<RoleDto[]>(ROLES_URL)\n            const roles = roleDtos.map((v) => v.name)\n            rolesFromRemote = roles\n            localStorage.setItem('roles', roles.join())\n            return Promise.resolve(new Set(roles))\n          }\n          default: {\n            return dataProvider[name](params)\n          }\n        }\n      },\n  })\n}\n","import { defaultTheme, RaThemeOptions } from 'react-admin'\nimport { deepPurple, green } from '@material-ui/core/colors'\n\nconst overriddenTheme: RaThemeOptions = {\n  ...defaultTheme,\n  typography: {\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    body1: {\n      fontWeight: 300,\n    },\n    body2: {\n      fontWeight: 300,\n    },\n    h5: {\n      fontWeight: 200,\n    },\n  },\n  overrides: {\n    RaFilter: {\n      form: {\n        margin: 0,\n      },\n    },\n  },\n  sidebar: {\n    width: 240,\n    closedWidth: 55,\n  },\n}\n\nexport const LightTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: deepPurple,\n    secondary: green,\n    type: 'light',\n  },\n}\n\nexport const DarkTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: {\n      light: deepPurple[100],\n      main: deepPurple[200],\n      dark: deepPurple[300],\n      contrastText: '#F1F1F1',\n    },\n    secondary: green,\n    type: 'dark',\n  },\n}\n","import {\n  MenuItem,\n  Collapse,\n  Tooltip,\n  ListItemIcon,\n  Typography,\n  List,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ExpandMore } from '@material-ui/icons'\nimport React, { ReactElement, ReactNode } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ReduxState } from 'react-admin'\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    minWidth: theme.spacing(5),\n  },\n  sidebarIsOpen: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(4),\n    },\n  },\n  sidebarIsClosed: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(2),\n    },\n  },\n}))\n\ninterface SubMenuProps {\n  handleToggle: () => void\n  icon: ReactElement\n  isOpen: boolean\n  name: string\n  children: ReactNode\n}\n\nexport const SubMenu = (props: SubMenuProps) => {\n  const { handleToggle, icon, isOpen, name, children } = props\n  const sidebarOpen = useSelector(\n    (state: ReduxState) => state?.admin.ui.sidebarOpen,\n  )\n  const classes = useStyles()\n\n  const header = (\n    <MenuItem button onClick={handleToggle}>\n      <ListItemIcon className={classes.icon}>\n        {isOpen ? <ExpandMore /> : icon}\n      </ListItemIcon>\n      <Typography variant=\"inherit\" color=\"textSecondary\">\n        {name}\n      </Typography>\n    </MenuItem>\n  )\n\n  return (\n    <>\n      {sidebarOpen || isOpen ? (\n        header\n      ) : (\n        <Tooltip title={name} placement=\"right\">\n          {header}\n        </Tooltip>\n      )}\n      <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n        <List\n          component=\"div\"\n          disablePadding\n          className={\n            sidebarOpen ? classes.sidebarIsOpen : classes.sidebarIsClosed\n          }\n        >\n          {children}\n        </List>\n      </Collapse>\n    </>\n  )\n}\n","import { makeStyles, Theme } from '@material-ui/core'\nimport {\n  AccountBalance,\n  Assessment,\n  DirectionsWalk,\n  CenterFocusStrong,\n  Category,\n  Event,\n  ExitToApp,\n  List,\n  Person,\n  PhoneAndroid,\n  Receipt,\n  SettingsApplications,\n  Sort,\n  VideoLabel,\n  ViewComfy,\n  AccountBalanceWallet,\n  ArrowForward,\n} from '@material-ui/icons'\nimport classNames from 'classnames'\nimport { getResources, ResourceDefinition } from 'ra-core'\nimport React, { useState } from 'react'\nimport {\n  DashboardMenuItem,\n  MenuItemLink,\n  ReduxState,\n  useTranslate,\n  RaThemeOverrides,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SubMenu } from './AppSubmenu'\n\ninterface AdminTheme extends Theme {\n  sidebar?: {\n    width?: number\n    closedWidth?: number\n  }\n  overrides?: RaThemeOverrides\n}\n\nconst useStyles = makeStyles((theme: AdminTheme) => ({\n  root: {\n    marginTop: theme.spacing(1) || 0,\n    marginBottom: theme.spacing(1),\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  open: {\n    width: theme.sidebar?.width,\n  },\n  closed: {\n    width: theme.sidebar?.closedWidth,\n  },\n}))\n\nexport const AppMenu = () => {\n  const open = useSelector((state: ReduxState) => state.admin.ui.sidebarOpen)\n  const classes = useStyles()\n  const [menuState, setMenuState] = useState({\n    menuStats: true,\n    menuDevices: true,\n    menuConfiguration: true,\n  })\n\n  const availableResources = new Set(\n    useSelector<ReduxState, ResourceDefinition[]>(getResources).map(\n      (r) => r.name as ResourceName,\n    ),\n  )\n  const translate = useTranslate()\n\n  const handleToggle = (\n    menu: 'menuStats' | 'menuDevices' | 'menuConfiguration',\n  ) => setMenuState((state) => ({ ...state, [menu]: !state[menu] }))\n\n  const anyStatsResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.STATS_OVERALL_VIEW_LIST)\n\n  const anyDeviceResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.PALMS) ||\n    avRes.has(ResourceName.ENGINES) ||\n    avRes.has(ResourceName.DETECTORS) ||\n    avRes.has(ResourceName.DEVICE_CATEGORIES) ||\n    avRes.has(ResourceName.PASSAGES)\n  const anyConfigurationResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.ACCESSES) ||\n    avRes.has(ResourceName.VARIANTS) ||\n    avRes.has(ResourceName.ENTRANCES)\n\n  return (\n    <div\n      style={{ userSelect: 'none' }}\n      className={classNames(classes.root, {\n        [classes.open]: open,\n        [classes.closed]: !open,\n      })}\n    >\n      <DashboardMenuItem />\n      {availableResources.has(ResourceName.TICKETS) && (\n        <MenuItemLink\n          to={`/${ResourceName.TICKETS}`}\n          primaryText={translate('resources.tickets.name')}\n          leftIcon={<Receipt />}\n        />\n      )}\n      {availableResources.has(ResourceName.CUSTOMERS) && (\n        <MenuItemLink\n          to={`/${ResourceName.CUSTOMERS}`}\n          primaryText={translate('resources.customers.name')}\n          leftIcon={<Person />}\n        />\n      )}\n      {availableResources.has(ResourceName.LOGS) && (\n        <MenuItemLink\n          to={`/${ResourceName.LOGS}`}\n          primaryText={translate('resources.logs.name')}\n          leftIcon={<List />}\n        />\n      )}\n      {availableResources.has(ResourceName.EVENTS) && (\n        <MenuItemLink\n          to={`/${ResourceName.EVENTS}`}\n          primaryText={translate('resources.events.name')}\n          leftIcon={<Event />}\n        />\n      )}\n      {anyStatsResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuStats')}\n          isOpen={menuState.menuStats}\n          name={translate('side-menu.stats.name')}\n          icon={<ViewComfy />}\n        >\n          {availableResources.has(ResourceName.STATS_OVERALL_VIEW_LIST) && (\n            <MenuItemLink\n              to={`/${ResourceName.STATS_OVERALL_VIEW_LIST}`}\n              primaryText={translate('side-menu.stats.overall-view')}\n              leftIcon={<Sort style={{ transform: 'scaleX(-1)' }} />}\n            />\n          )}\n        </SubMenu>\n      )}\n      {anyDeviceResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuDevices')}\n          isOpen={menuState.menuDevices}\n          name={translate('side-menu.devices.name')}\n          icon={<VideoLabel />}\n        >\n          {availableResources.has(ResourceName.PALMS) && (\n            <MenuItemLink\n              to={`/${ResourceName.PALMS}`}\n              primaryText={translate('resources.palms.name')}\n              leftIcon={<PhoneAndroid />}\n            />\n          )}\n          {availableResources.has(ResourceName.ENGINES) && (\n            <MenuItemLink\n              to={`/${ResourceName.ENGINES}`}\n              primaryText={translate('resources.engines.name')}\n              leftIcon={<AccountBalanceWallet />}\n            />\n          )}\n          {availableResources.has(ResourceName.DETECTORS) && (\n            <MenuItemLink\n              to=\"/detectors\"\n              primaryText={translate('resources.detectors.name')}\n              leftIcon={<CenterFocusStrong />}\n            />\n          )}\n          {availableResources.has(ResourceName.PASSAGES) && (\n            <MenuItemLink\n              to={`/${ResourceName.PASSAGES}`}\n              primaryText={translate('resources.passages.name')}\n              leftIcon={<ArrowForward />}\n            />\n          )}\n          {availableResources.has(ResourceName.DEVICE_CATEGORIES) && (\n            <MenuItemLink\n              to=\"/device-categories\"\n              primaryText={translate('resources.device-categories.name')}\n              leftIcon={<Category />}\n            />\n          )}\n        </SubMenu>\n      )}\n      {anyConfigurationResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuConfiguration')}\n          isOpen={menuState.menuConfiguration}\n          name={translate('side-menu.configuration.name')}\n          icon={<SettingsApplications />}\n        >\n          {availableResources.has(ResourceName.ACCESSES) && (\n            <MenuItemLink\n              to={`/${ResourceName.ACCESSES}`}\n              primaryText={translate('resources.accesses.name')}\n              leftIcon={<ExitToApp />}\n            />\n          )}\n          {availableResources.has(ResourceName.VARIANTS) && (\n            <MenuItemLink\n              to={`/${ResourceName.VARIANTS}`}\n              primaryText={translate('resources.variants.name')}\n              leftIcon={<Assessment />}\n            />\n          )}\n          {availableResources.has(ResourceName.ENTRANCES) && (\n            <MenuItemLink\n              to={`/${ResourceName.ENTRANCES}`}\n              primaryText={translate('resources.entrances.name')}\n              leftIcon={<DirectionsWalk />}\n            />\n          )}\n        </SubMenu>\n      )}\n      {availableResources.has(ResourceName.OBJECTS) && (\n        <MenuItemLink\n          to={`/${ResourceName.OBJECTS}`}\n          primaryText={translate('resources.objects.name')}\n          leftIcon={<AccountBalance />}\n        />\n      )}\n    </div>\n  )\n}\n","import { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Settings } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  AppBar,\n  AppBarProps,\n  CoreLayoutProps,\n  UserMenu,\n  UserMenuProps,\n  MenuItemLink,\n  useTranslate,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { DarkTheme, LightTheme } from './app.theme'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport { AppMenu } from './AppMenu'\nimport { Layout } from '../../lib/@react-admin/ra-enterprise/esm/src'\n\nconst useStyles = makeStyles({\n  title: {\n    flex: 1,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n})\n\nconst AppUserMenu = (props: UserMenuProps) => {\n  const translate = useTranslate()\n  return (\n    <UserMenu {...props}>\n      <MenuItemLink\n        to=\"/configuration\"\n        primaryText={translate('settings.name')}\n        leftIcon={<Settings />}\n      />\n    </UserMenu>\n  )\n}\n\nconst AppTopBar = (props: AppBarProps) => {\n  const classes = useStyles()\n  return (\n    <AppBar {...props} userMenu={<AppUserMenu />}>\n      <Typography\n        variant=\"h6\"\n        className={classes.title}\n        id=\"react-admin-title\"\n      />\n    </AppBar>\n  )\n}\n\nexport const AppLayout = (props: CoreLayoutProps) => {\n  const theme = useSelector((state: ThemeState) =>\n    state.theme.darkMode === 'dark' ? DarkTheme : LightTheme,\n  )\n\n  return <Layout {...props} menu={AppMenu} appBar={AppTopBar} theme={theme} />\n}\n","import React, { ChangeEvent, FC, useState } from 'react'\nimport {\n  Box,\n  Button,\n  FormControl,\n  FormHelperText,\n  Input,\n  withStyles,\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { useTranslate } from 'react-admin'\n\nconst RoundInputBox = withStyles(({ palette }) => ({\n  root: {\n    borderRadius: 16,\n    width: '90%',\n    marginLeft: '5%',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n    border: 'solid',\n    borderColor: palette.primary.dark,\n  },\n}))(Box)\n\nconst RoundInputBoxBtn = withStyles(({ palette }) => ({\n  root: {\n    background: palette.primary.dark,\n    variant: 'contained',\n    borderRadius: 11,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    margin: 0,\n    fontWeight: 'bold',\n    '&:hover': {\n      background: palette.primary.main,\n    },\n  },\n}))(Button)\n\nconst RoundInputBoxFC = withStyles({\n  root: {\n    width: '100%',\n    marginLeft: 13,\n    marginTop: 2,\n  },\n})(FormControl)\n\nexport type SearchInputProps = {\n  label: string\n  onValue: (value: string) => void\n  disabled: boolean\n  error: string\n}\n\nconst SearchInput: FC<Readonly<SearchInputProps>> = ({\n  label,\n  onValue,\n  disabled,\n  error,\n}) => {\n  const [inputError, setInputError] = useState(false)\n  const [inputValue, setInputValue] = useState('')\n  const t = useTranslate()\n\n  const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value)\n  }\n\n  const handleClick = () => {\n    if (inputValue) {\n      setInputError(false)\n      onValue(inputValue)\n    } else {\n      setInputError(true)\n    }\n  }\n\n  return (\n    <RoundInputBox>\n      <RoundInputBoxBtn onClick={handleClick} disabled={disabled}>\n        <SearchIcon style={{ color: 'white' }} />\n      </RoundInputBoxBtn>\n      <RoundInputBoxFC disabled={disabled}>\n        <Input\n          disableUnderline\n          placeholder={t(label)}\n          onInput={handleInput}\n          onKeyDown={(ev) => ev.key === 'Enter' && handleClick()}\n          error={inputError || !!error}\n        />\n        {inputError && (\n          <FormHelperText error>{t('ra.validation.required')}</FormHelperText>\n        )}\n        {!!error && <FormHelperText error>{t(error)}</FormHelperText>}\n      </RoundInputBoxFC>\n    </RoundInputBox>\n  )\n}\n\nexport default SearchInput\n","import React, { useCallback, useState } from 'react'\nimport {\n  useNotify,\n  useMutation,\n  useTranslate,\n  sanitizeFetchType,\n  GetListResult,\n  GET_LIST,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { stringify } from 'querystring'\nimport { CardContent, CardHeader } from '@material-ui/core'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\nimport { CustomerDto } from '../../core/dto/customer.dto'\n\nexport const FindCustomerByInfo = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchCustomers = useCallback(\n    (info: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.CUSTOMERS,\n          payload: { filter: { info } },\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<CustomerDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (info: string) => {\n      if (info.replace(/\\s/g, '').length === 0) {\n        setError('common.find-customer-by-info.invalidQuery')\n      } else if (info.length < 2) {\n        setError('common.find-customer-by-info.tooShort')\n      } else {\n        setError('')\n        try {\n          const {\n            total,\n            data: [onlyCustomer],\n          } = await fetchCustomers(info)\n          if (!total) {\n            setError('common.find-customer-by-info.error')\n          } else if (total === 1) {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMERS}/${onlyCustomer.id}/show`,\n            })\n          } else {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMERS}`,\n              search: stringify({\n                filter: JSON.stringify({\n                  info,\n                }),\n              }),\n            })\n          }\n        } catch (err) {\n          notify((err as Error)?.message, 'error')\n        }\n      }\n    },\n    [fetchCustomers, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-customer-by-info.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-customer-by-info.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { CardContent, CardHeader } from '@material-ui/core'\nimport { stringify } from 'querystring'\nimport * as React from 'react'\nimport { useCallback, useState } from 'react'\nimport {\n  GetListResult,\n  GET_LIST,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\n\nexport const FindUserByTicket = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchTickets = useCallback(\n    (ticketCode: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.TICKETS,\n          payload: {\n            filter: { ticketCode },\n          },\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<TicketDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (ticketCode: string) => {\n      setError('')\n      try {\n        const {\n          total,\n          data: [onlyTicket],\n        } = await fetchTickets(ticketCode)\n        if (!total) {\n          setError('common.find-user-by-ticket.error')\n        } else if (total === 1) {\n          history.push({\n            pathname: `/${ResourceName.BOOKINGS}/${onlyTicket.bookingId}/show`,\n          })\n        } else {\n          history.push({\n            pathname: `/${ResourceName.TICKETS}`,\n            search: stringify({\n              filter: JSON.stringify({\n                ticketCode,\n              }),\n            }),\n          })\n        }\n      } catch (err) {\n        notify((err as Error)?.message, 'error')\n      }\n    },\n    [fetchTickets, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-user-by-ticket.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-user-by-ticket.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { Authority } from './Authority'\n\nconst mapping: Record<Authority, string[]> = {\n  // User management\n  [Authority.VIEW_USER_MANAGEMENT]: ['ViewItems_Variants_Show'],\n\n  // Logs\n  [Authority.VIEW_LOGS]: ['ViewItems_Logs'],\n\n  // Stats\n  [Authority.VIEW_STATS_OVERALL_VIEW]: ['ViewItems_Stats_OverallView'],\n\n  // Companies\n  [Authority.VIEW_COMPANIES]: [\n    'ViewItems_Companies_Show',\n    'ViewItems_Companies_Edit',\n    'ViewItems_Companies_Add',\n  ],\n  [Authority.EDIT_COMPANIES]: ['ViewItems_Companies_Edit'],\n  [Authority.CREATE_COMPANIES]: ['ViewItems_Companies_Add'],\n\n  // Users\n  [Authority.VIEW_USERS]: [\n    'ViewItems_Users_Show',\n    'ViewItems_Users_Edit',\n    'ViewItems_Users_Add',\n  ],\n  [Authority.EDIT_USERS]: ['ViewItems_Users_Edit'],\n  [Authority.CREATE_USERS]: ['ViewItems_Users_Add'],\n\n  // Roles\n  [Authority.VIEW_ROLES]: [\n    'ViewItems_Roles_Show',\n    'ViewItems_Roles_Edit',\n    'ViewItems_Roles_Add',\n  ],\n  [Authority.EDIT_ROLES]: ['ViewItems_Roles_Edit'],\n  [Authority.CREATE_ROLES]: ['ViewItems_Roles_Add'],\n\n  // Access dates\n  [Authority.VIEW_ACCESS_DATES]: [\n    'ViewItems_AccessDates_Show',\n    'ViewItems_AccessDates_Edit',\n    'ViewItems_AccessDates_Add',\n  ],\n  [Authority.EDIT_ACCESS_DATES]: ['ViewItems_AccessDates_Edit'],\n  [Authority.CREATE_ACCESS_DATES]: ['ViewItems_AccessDates_Add'],\n\n  // Accesses\n  [Authority.VIEW_ACCESSES]: [\n    'ViewItems_Accesses_Show',\n    'ViewItems_Accesses_Edit',\n    'ViewItems_Accesses_Add',\n  ],\n  [Authority.EDIT_ACCESSES]: ['ViewItems_Accesses_Edit'],\n  [Authority.CREATE_ACCESSES]: ['ViewItems_Accesses_Add'],\n\n  // Access usings\n  [Authority.VIEW_ACCESS_USINGS]: [\n    'ViewItems_AccessUsings_Show',\n    'ViewItems_AccessUsings_Edit',\n    'ViewItems_AccessUsings_Add',\n  ],\n  [Authority.EDIT_ACCESS_USINGS]: ['ViewItems_AccessUsings_Edit'],\n  [Authority.CREATE_ACCESS_USINGS]: ['ViewItems_AccessUsings_Add'],\n\n  // Blocks\n  [Authority.VIEW_BLOCKS]: [\n    'ViewItems_Blocks_Show',\n    'ViewItems_Blocks_Edit',\n    'ViewItems_Blocks_Add',\n  ],\n  [Authority.EDIT_BLOCKS]: ['ViewItems_Blocks_Edit'],\n  [Authority.CREATE_BLOCKS]: ['ViewItems_Blocks_Add'],\n\n  // Bookings\n  [Authority.VIEW_BOOKINGS]: [\n    'ViewItems_Bookings_Show',\n    'ViewItems_Bookings_Edit',\n    'ViewItems_Bookings_Add',\n  ],\n  [Authority.EDIT_BOOKINGS]: ['ViewItems_Bookings_Edit'],\n  [Authority.CREATE_BOOKINGS]: ['ViewItems_Bookings_Add'],\n\n  // Customers\n  [Authority.VIEW_CUSTOMERS]: [\n    'ViewItems_Customers_Show',\n    'ViewItems_Customers_Edit',\n    'ViewItems_Customers_Add',\n  ],\n  [Authority.EDIT_CUSTOMERS]: ['ViewItems_Customers_Edit'],\n  [Authority.CREATE_CUSTOMERS]: ['ViewItems_Customers_Add'],\n\n  // Events\n  [Authority.VIEW_EVENTS]: [\n    'ViewItems_Events_Show',\n    'ViewItems_Events_Edit',\n    'ViewItems_Events_Add',\n  ],\n  [Authority.EDIT_EVENTS]: ['ViewItems_Events_Edit'],\n  [Authority.CREATE_EVENTS]: ['ViewItems_Events_Add'],\n\n  // Objects\n  [Authority.VIEW_OBJECTS]: [\n    'ViewItems_Objects_Show',\n    'ViewItems_Objects_Edit',\n    'ViewItems_Objects_Add',\n  ],\n  [Authority.EDIT_OBJECTS]: ['ViewItems_Objects_Edit'],\n  [Authority.CREATE_OBJECTS]: ['ViewItems_Objects_Add'],\n\n  // Schemes\n  [Authority.VIEW_SCHEMES]: [\n    'ViewItems_Schemes_Show',\n    'ViewItems_Schemes_Edit',\n    'ViewItems_Schemes_Add',\n  ],\n  [Authority.EDIT_SCHEMES]: ['ViewItems_Schemes_Edit'],\n  [Authority.CREATE_SCHEMES]: ['ViewItems_Schemes_Add'],\n\n  // Seats\n  [Authority.VIEW_SEATS]: [\n    'ViewItems_Seats_Show',\n    'ViewItems_Seats_Edit',\n    'ViewItems_Seats_Add',\n  ],\n  [Authority.EDIT_SEATS]: ['ViewItems_Seats_Edit'],\n  [Authority.CREATE_SEATS]: ['ViewItems_Seats_Add'],\n\n  // Tickets\n  [Authority.VIEW_TICKETS]: [\n    'ViewItems_Tickets_Show',\n    'ViewItems_Tickets_Edit',\n    'ViewItems_Tickets_Add',\n  ],\n  [Authority.EDIT_TICKETS]: ['ViewItems_Tickets_Edit'],\n  [Authority.CREATE_TICKETS]: ['ViewItems_Tickets_Add'],\n\n  // Tribunes\n  [Authority.VIEW_TRIBUNES]: [\n    'ViewItems_Tribunes_Show',\n    'ViewItems_Tribunes_Edit',\n    'ViewItems_Tribunes_Add',\n  ],\n  [Authority.EDIT_TRIBUNES]: ['ViewItems_Tribunes_Edit'],\n  [Authority.CREATE_TRIBUNES]: ['ViewItems_Tribunes_Add'],\n\n  // Variants\n  [Authority.VIEW_VARIANTS]: [\n    'ViewItems_Variants_Show',\n    'ViewItems_Variants_Edit',\n    'ViewItems_Variants_Add',\n  ],\n  [Authority.EDIT_VARIANTS]: ['ViewItems_Variants_Edit'],\n  [Authority.CREATE_VARIANTS]: ['ViewItems_Variants_Add'],\n\n  // Engines\n  [Authority.VIEW_ENGINES]: [\n    'ViewItems_Engines_Show',\n    'ViewItems_Engines_Edit',\n    'ViewItems_Engines_Add',\n  ],\n  [Authority.EDIT_ENGINES]: ['ViewItems_Engines_Edit'],\n  [Authority.CREATE_ENGINES]: ['ViewItems_Engines_Add'],\n\n  // Palms\n  [Authority.VIEW_PALMS]: [\n    'ViewItems_Palms_Show',\n    'ViewItems_Palms_Edit',\n    'ViewItems_Palms_Add',\n  ],\n  [Authority.EDIT_PALMS]: ['ViewItems_Palms_Edit'],\n  [Authority.CREATE_PALMS]: ['ViewItems_Palms_Add'],\n\n  // Palm scheme data\n  [Authority.VIEW_PALM_SCHEME_DATA]: [\n    'ViewItems_PalmSchemeData_Show',\n    'ViewItems_PalmSchemeData_Edit',\n    'ViewItems_PalmSchemeData_Add',\n  ],\n  [Authority.EDIT_PALM_SCHEME_DATA]: ['ViewItems_PalmSchemeData_Edit'],\n  [Authority.CREATE_PALM_SCHEME_DATA]: ['ViewItems_PalmSchemeData_Add'],\n\n  // Passages\n  [Authority.VIEW_PASSAGES]: [\n    'ViewItems_Passages_Show',\n    'ViewItems_Passages_Edit',\n    'ViewItems_Passages_Add',\n  ],\n  [Authority.EDIT_PASSAGES]: ['ViewItems_Passages_Edit'],\n  [Authority.CREATE_PASSAGES]: ['ViewItems_Passages_Add'],\n\n  // Detectors\n  [Authority.VIEW_DETECTORS]: [\n    'ViewItems_Detectors_Show',\n    'ViewItems_Detectors_Edit',\n    'ViewItems_Detectors_Add',\n  ],\n  [Authority.EDIT_DETECTORS]: ['ViewItems_Detectors_Edit'],\n  [Authority.CREATE_DETECTORS]: ['ViewItems_Detectors_Add'],\n\n  // Device categories\n  [Authority.VIEW_DEVICE_CATEGORIES]: [\n    'ViewItems_DeviceCategories_Show',\n    'ViewItems_DeviceCategories_Edit',\n    'ViewItems_DeviceCategories_Add',\n  ],\n  [Authority.EDIT_DEVICE_CATEGORIES]: ['ViewItems_DeviceCategories_Edit'],\n  [Authority.CREATE_DEVICE_CATEGORIES]: ['ViewItems_DeviceCategories_Add'],\n\n  // Entrances\n  [Authority.VIEW_ENTRANCES]: [\n    'ViewItems_Entrances_Show',\n    'ViewItems_Entrances_Edit',\n    'ViewItems_Entrances_Add',\n  ],\n  [Authority.EDIT_ENTRANCES]: ['ViewItems_Entrances_Edit'],\n  [Authority.CREATE_ENTRANCES]: ['ViewItems_Entrances_Add'],\n}\n\nexport const mapAuthorityToRequiredPermissions = (authority: Authority) =>\n  mapping[authority]\n","import { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\nexport const INACTIVE_COMPONENTS_KEY = `${identity}.inactiveComponents`\n\nexport enum DashboardItem {\n  TICKET_FINDER = 'ticket_finder',\n  LAST_LOGS = 'last_logs',\n  LAST_EVENTS = 'last_events',\n  CUSTOMER_FINDER = 'customer_finder',\n}\n\nexport type DashboardState = {\n  dashboard: {\n    inactiveComponents: DashboardItem[]\n  }\n}\n\nexport type DashboardAction = {\n  type: typeof UPDATE_DASHBOARD\n  payload: DashboardItem\n}\n","import { usePermissions } from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { mapAuthorityToRequiredPermissions } from '../../core/auth/authority.mapper'\n\nexport const hasAuthorityWithGivenPermissions = (\n  authority: Authority,\n  permissions: Set<string>,\n) => {\n  const permissionSet = new Set(permissions)\n  const requiredPerms = mapAuthorityToRequiredPermissions(authority)\n  return requiredPerms.some((reqPerms) => permissionSet.has(reqPerms))\n}\n\nexport const useHasAuthority = () => {\n  const { permissions, loaded } = usePermissions<Set<string>>()\n  return (authority: Authority) => {\n    if (loaded && !permissions) {\n      // eslint-disable-next-line no-console\n      console.error(\n        '\"useHasAuthority\" - No permissions or hook was used outside the react admin context',\n      )\n      return false\n    }\n    return hasAuthorityWithGivenPermissions(\n      authority,\n      permissions as Set<string>,\n    )\n  }\n}\n","import {\n  Datagrid,\n  DateField,\n  Filter,\n  FunctionField,\n  Link,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useTranslate,\n  SelectInput,\n} from 'react-admin'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  IconButton,\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Event as EventIcon, Sort } from '@material-ui/icons'\nimport { ResourceName } from '../../core/ResourceName'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\nimport { DateTime } from '../../core/common/date-time'\nimport FilterProps from '../common/FilterProps'\nimport { EventStatus } from '../../core/enum/EventStatus'\n\nconst useStyles = makeStyles((theme) => ({\n  actionColumnsWithoutPadding: {\n    // applies always for last column\n    '& tr > td:last-child': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n    // only applies when there are four columns and targets the penultimate column\n    '& tr > td:first-child:nth-last-child(4) ~ td:nth-last-child(2)': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n  },\n}))\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid className={classes.actionColumnsWithoutPadding}>\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.name')}\n        render={(record?: EventDto) => {\n          const { id, name } = record as EventDto\n          return `${id}. ${name}`\n        }}\n      />\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.status')}\n        render={(record?: EventDto) => {\n          const { status } = record as EventDto\n          return t(`resources.enums.eventStatus.${status.toLowerCase()}`)\n        }}\n      />\n      <FunctionField<EventDto>\n        render={(record?: EventDto) => {\n          const { id } = record as EventDto\n          return (\n            <Link to={`/${ResourceName.EVENTS}/${id}/show`}>\n              <IconButton>\n                <EventIcon />\n              </IconButton>\n            </Link>\n          )\n        }}\n      />\n      {hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW) && (\n        <FunctionField<EventDto>\n          render={(record?: EventDto) => {\n            const { id } = record as EventDto\n            return (\n              <Link to={`/${ResourceName.STATS_OVERALL_VIEW}/${id}/show`}>\n                <IconButton>\n                  <Sort style={{ transform: 'scaleX(-1)' }} />\n                </IconButton>\n              </Link>\n            )\n          }}\n        />\n      )}\n    </Datagrid>\n  )\n}\n\nconst EventDateField = ({\n  source,\n  label,\n}: {\n  source: string\n  label?: string\n}) => (\n  <FunctionField<EventDto>\n    source={source}\n    label={label}\n    render={(record?: EventDto) => {\n      const { dateStart, dateEnd } = {\n        dateStart: new Date(record?.dateStart as DateTime),\n        dateEnd: new Date(record?.dateEnd as DateTime),\n      }\n      if (dateStart.toDateString() === dateEnd.toDateString())\n        return (\n          <>\n            <DateField source=\"dateStart\" />\n            <span>\n              {' '}\n              {dateStart.getHours() < 10 && 0}\n              {dateStart.getHours()}:\n            </span>\n            <span>\n              {dateStart.getMinutes() < 10 && 0}\n              {dateStart.getMinutes()} -{' '}\n            </span>\n            <span>\n              {dateEnd.getHours() < 10 && 0}\n              {dateEnd.getHours()}:\n            </span>\n            <span>\n              {dateEnd.getMinutes() < 10 && 0}\n              {dateEnd.getMinutes()}\n            </span>\n          </>\n        )\n      return (\n        <>\n          <span>\n            <DateField source=\"dateStart\" showTime />\n          </span>\n          <span> - </span>\n          <span>\n            <DateField source=\"dateEnd\" showTime />\n          </span>\n        </>\n      )\n    }}\n  />\n)\n\nconst EventGrid = ({ compactMode }: { compactMode?: boolean }) => {\n  const { loading } = useListContext()\n  const t = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <>\n      {compactMode ? (\n        <LastEvents />\n      ) : (\n        <Datagrid\n          size=\"small\"\n          loaded={!loading}\n          rowClick={(id) => `${ResourceName.EVENTS}/${id}/show`}\n        >\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          {!smallScreen && <DateField source=\"dateStart\" showTime />}\n          {!smallScreen && <DateField source=\"dateEnd\" showTime />}\n          {smallScreen && (\n            <EventDateField\n              source=\"dateStart\"\n              label=\"resources.events.fields.date\"\n            />\n          )}\n          <FunctionField<EventDto>\n            source=\"status\"\n            render={(r?: EventDto) =>\n              t(`resources.enums.eventStatus.${r?.status.toLowerCase()}`)\n            }\n          />\n        </Datagrid>\n      )}\n    </>\n  )\n}\n\ninterface EventListProps extends ListProps {\n  compactMode?: boolean\n}\n\nconst EventFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n    <SelectInput\n      source=\"status\"\n      choices={Object.entries(EventStatus).map(([value]) => ({\n        id: value,\n        name: `resources.enums.eventStatus.${value.toLowerCase()}`,\n      }))}\n    />\n  </Filter>\n)\n\nexport const EventList = ({ compactMode = false, ...props }: EventListProps) =>\n  compactMode ? (\n    <List\n      {...props}\n      actions={false}\n      filters={undefined}\n      perPage={10}\n      pagination={false}\n    >\n      <EventGrid compactMode />\n    </List>\n  ) : (\n    <List\n      {...props}\n      exporter={false}\n      filters={<EventFilters />}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    >\n      <EventGrid />\n    </List>\n  )\n","export const getContrastColor = (hexcolor: string) => {\n  const r = parseInt(hexcolor.substring(1, 2), 16)\n  const g = parseInt(hexcolor.substring(3, 2), 16)\n  const b = parseInt(hexcolor.substring(5, 2), 16)\n  const yiq = (r * 299 + g * 587 + b * 114) / 1000\n  return yiq >= 128 ? 'black' : 'white'\n}\n","import * as React from 'react'\nimport { TextField, makeStyles, Theme, createStyles } from '@material-ui/core'\nimport { useField } from 'react-final-form'\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      verticalAlign: 'center',\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const DateFilterInput = ({ source }: { source: string }) => {\n  const classes = useStyles()\n  const defaultFromDate = React.useMemo(\n    () => new Date(Date.now() - 2678400000),\n    [],\n  )\n  defaultFromDate.setHours(0, 0, 0, 0)\n  const defaultToDate = new Date(Date.now())\n  defaultToDate.setHours(23, 59, 0, 0)\n  const [dateFrom, setDateFrom] = React.useState(\n    defaultFromDate.getTime().toString(),\n  )\n  const [dateTo, setDateTo] = React.useState(defaultToDate.getTime().toString())\n  const {\n    input: { onChange },\n    meta: { touched, error },\n  } = useField(source)\n\n  React.useEffect(() => {\n    onChange(\n      [\n        (\n          parseInt(dateFrom, 10) -\n          defaultFromDate.getTimezoneOffset() * 60000\n        ).toString(),\n        (\n          parseInt(dateTo, 10) -\n          defaultFromDate.getTimezoneOffset() * 60000\n        ).toString(),\n      ].join(';'),\n    )\n  }, [dateFrom, dateTo, onChange, defaultFromDate])\n\n  const convertedDate = (date: Date) =>\n    new Date(date.getTime() - defaultFromDate.getTimezoneOffset() * 60000)\n      .toJSON()\n      .substring(0, 16)\n\n  return (\n    <span key=\"date\" className={classes.container}>\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultFromDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateFrom(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        style={{ alignSelf: 'center' }}\n        size=\"small\"\n      />\n      <ArrowRightAltIcon style={{ marginTop: '4%' }} />\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultToDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateTo(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        size=\"small\"\n      />\n    </span>\n  )\n}\n","import { Grid, withStyles } from '@material-ui/core'\n\nexport const VCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n})(Grid)\n\nexport const VHCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n})(Grid)\n","import {\n  useMediaQuery,\n  useTheme,\n  Grid,\n  Divider,\n  TableBody,\n  Box,\n  Typography,\n} from '@material-ui/core'\nimport { Receipt } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Pagination,\n  SelectInput,\n  TextInput,\n  useTranslate,\n  Datagrid,\n  TextField,\n  DateField,\n  Record,\n  FunctionField,\n  useLocale,\n  DatagridBodyProps,\n  DatagridRow,\n  DatagridHeader,\n  DatagridHeaderProps,\n  ShowButton,\n  Filter,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { getContrastColor } from '../../core/common/visual.utils'\nimport { ExtendedLog } from '../../core/dto/extended-log'\nimport { DateFilterInput } from './DateFilterInput'\nimport { VCenterGrid, VHCenterGrid } from './LogsComponents'\nimport FilterProps from '../common/FilterProps'\n\ninterface LogExpandProps {\n  readonly noBooking?: boolean\n  readonly record?: ExtendedLog\n}\n\ninterface LogBodyProps extends DatagridBodyProps {\n  readonly noBooking?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogHeaderProps extends DatagridHeaderProps {\n  readonly noBooking?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogListProps extends ListProps {\n  readonly compactMode?: boolean\n  readonly noBooking?: boolean\n}\n\nconst BookingButton = ({ style }: { style?: any }) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const history = useHistory()\n  return (\n    <FunctionField\n      source=\"bookingId\"\n      render={(record: Record | undefined) =>\n        record?.bookingId && (\n          <>\n            <ShowButton\n              basePath=\"/bookings\"\n              label={record.bookingId.toString()}\n              record={{ id: record.bookingId }}\n              icon={<Receipt />}\n              style={style}\n            />\n            {xSmallScreen && (\n              <Typography\n                color=\"primary\"\n                onClick={() =>\n                  history.push(`/bookings/${record.bookingId}/show`)\n                }\n              >\n                {record.bookingId}\n              </Typography>\n            )}\n          </>\n        )\n      }\n    />\n  )\n}\n\nconst LogExpand = ({ noBooking, record }: LogExpandProps) => {\n  const translate = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <VCenterGrid item xs={4}>\n          {translate('resources.logs.fields.description')}:\n        </VCenterGrid>\n        <VCenterGrid item xs={8}>\n          <TextField source=\"text\" />\n        </VCenterGrid>\n        {!noBooking && record?.bookingId && (\n          <>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n            <VCenterGrid item xs={4}>\n              {translate('resources.logs.fields.bookingId')}:\n            </VCenterGrid>\n            <VHCenterGrid item xs={8}>\n              <BookingButton />\n            </VHCenterGrid>\n          </>\n        )}\n      </Grid>\n    </Box>\n  )\n}\n\nconst LogBody = ({\n  noBooking,\n  compactMode,\n  data,\n  ids,\n  rowStyle,\n  expand,\n}: LogBodyProps) => (\n  <TableBody>\n    {data &&\n      rowStyle &&\n      ids?.map((id) => {\n        const style = rowStyle(data[id], id as number)\n        return (\n          <DatagridRow\n            key={id}\n            id={id}\n            record={data[id]}\n            resource=\"logs\"\n            expand={expand}\n            style={style}\n          >\n            <DateField\n              source=\"date\"\n              style={style}\n              options={{\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n              }}\n            />\n            <TextField source=\"deviceName\" style={style} />\n            <TextField source=\"ticketCode\" style={style} />\n            {!compactMode && <TextField source=\"text\" style={style} />}\n            {!compactMode && !noBooking && <BookingButton style={style} />}\n          </DatagridRow>\n        )\n      })}\n  </TableBody>\n)\n\nconst LogHeader = ({ noBooking, compactMode, ...props }: LogHeaderProps) => (\n  <DatagridHeader {...props}>\n    <DateField source=\"date\" label=\"resources.logs.fields.date\" />\n    <TextField source=\"deviceName\" label=\"resources.logs.fields.deviceName\" />\n    <TextField source=\"ticketCode\" label=\"resources.logs.fields.ticketCode\" />\n    {!compactMode && (\n      <TextField\n        source=\"text\"\n        sortable={false}\n        label=\"resources.logs.fields.description\"\n      />\n    )}\n    {!noBooking && !compactMode && (\n      <TextField source=\"bookingId\" label=\"resources.logs.fields.bookingId\" />\n    )}\n  </DatagridHeader>\n)\n\nconst LogFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput key=\"ticketCode\" source=\"ticketCode\" alwaysOn />\n    <SelectInput\n      key=\"deviceName\"\n      source=\"deviceName\"\n      choices={[\n        {\n          id: 'Czytnik',\n          name: 'resources.logs.fields.deviceNameChoices.reader',\n        },\n        {\n          id: 'Przej\\u015Bcie',\n          name: 'resources.logs.fields.deviceNameChoices.gateway',\n        },\n      ]}\n    />\n    <DateFilterInput source=\"date\" key=\"date\" />\n    <TextInput source=\"bookingId\" key=\"bookingId\" />\n    <TextInput source=\"event\" key=\"event\" />\n  </Filter>\n)\n\nexport const LogList = ({\n  compactMode = false,\n  noBooking = false,\n  ...props\n}: LogListProps) => {\n  const { filter, ...listProps } = props\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const locale = useLocale()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      filters={<LogFilters />}\n      filter={{ ...filter, locale }}\n      sort={{ field: 'date', order: 'DESC' }}\n      {...listProps}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        header={\n          <LogHeader\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n          />\n        }\n        body={\n          <LogBody\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n          />\n        }\n        isRowExpandable={() => smallScreen || compactMode}\n        expand={<LogExpand noBooking={noBooking} />}\n        rowStyle={(record: Record) => ({\n          background: record.color,\n          color:\n            record.color !== 'transparent'\n              ? getContrastColor(record.color)\n              : 'inherit',\n        })}\n        padding={xSmallScreen ? 'none' : 'default'}\n      >\n        <div />\n      </Datagrid>\n    </List>\n  )\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ResourceContextProvider, useTranslate } from 'react-admin'\nimport { ResourceName } from '../core/ResourceName'\nimport { FindCustomerByInfo } from './common/FindCustomerByInfo'\nimport { FindUserByTicket } from './common/FindUserByTicket'\nimport { EventList } from './events/EventList'\nimport { LogList } from './logs/LogList'\nimport { DashboardItem, DashboardState } from '../core/common/dashboard'\nimport { useHasAuthority } from './hooks/useHasAuthority'\nimport { Authority } from '../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      textAlign: 'center',\n      letterSpacing: theme.spacing(0.2),\n    },\n    lastLogs: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-end',\n      width: '10%',\n    },\n  }),\n)\n\nconst TicketFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindUserByTicket />\n  </Card>\n)\n\nconst CustomerFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindCustomerByInfo />\n  </Card>\n)\n\nconst LastLogs = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-logs.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.LOGS}>\n          <LogList\n            basePath=\"/\"\n            title=\" \"\n            compactMode\n            pagination={false}\n            perPage={10}\n            actions={false}\n            filters={undefined}\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-events.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.EVENTS}>\n          <EventList\n            sort={{ field: 'status', order: 'DESC' }}\n            compactMode\n            basePath=\"/\"\n            title=\" \"\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const isItemActive = (item: DashboardItem, inactiveItems: DashboardItem[]) =>\n    !inactiveItems.includes(item)\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Card>\n          <CardHeader\n            className={classes.header}\n            title={t('dashboard.welcome')}\n            titleTypographyProps={{ variant: 'h4' }}\n          />\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        {hasAuthority(Authority.VIEW_TICKETS) &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          isItemActive(DashboardItem.TICKET_FINDER, inactiveComponents) && (\n            <TicketFinder />\n          )}\n        {hasAuthority(Authority.VIEW_EVENTS) &&\n          isItemActive(DashboardItem.LAST_EVENTS, inactiveComponents) && (\n            <LastEvents />\n          )}\n      </Grid>\n      <Grid className={classes.lastLogs} item sm={6} xs={12}>\n        {hasAuthority(Authority.VIEW_CUSTOMERS) &&\n          isItemActive(DashboardItem.CUSTOMER_FINDER, inactiveComponents) && (\n            <CustomerFinder />\n          )}\n        {hasAuthority(Authority.VIEW_LOGS) &&\n          isItemActive(DashboardItem.LAST_LOGS, inactiveComponents) && (\n            <LastLogs />\n          )}\n      </Grid>\n    </Grid>\n  )\n}\n","import {\n  Button,\n  ButtonGroup,\n  Card,\n  CardContent,\n  createStyles,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { Dispatch, ReactElement } from 'react'\nimport { Title, useLocale, useSetLocale, useTranslate } from 'react-admin'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Event, List, Search, Person } from '@material-ui/icons'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport {\n  CHANGE_THEME,\n  UPDATE_DASHBOARD,\n} from '../../core/constants/reducer.actions'\nimport {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n} from '../../core/common/dashboard'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    label: { width: '15vw', display: 'inline-block' },\n    button: { margin: theme.spacing(2) },\n    select: { width: '40vw', margin: theme.spacing(2) },\n    compsContainer: {\n      width: '40vw',\n      display: 'inline-block',\n      margin: theme.spacing(2),\n    },\n  }),\n)\n\ntype DashboardItemSwitchProps = {\n  dashboardItem: DashboardItem\n  label: string\n  icon: ReactElement\n}\n\nconst DashboardItemSwitch = ({\n  dashboardItem,\n  label,\n  icon,\n}: DashboardItemSwitchProps) => {\n  const t = useTranslate()\n  const dispatch = useDispatch<Dispatch<DashboardAction>>()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const onSwitch = ({\n    target: { name },\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({ type: UPDATE_DASHBOARD, payload: name as DashboardItem })\n  }\n  return (\n    <Grid item xs={6}>\n      <Paper>\n        {icon}\n        <FormControlLabel\n          control={\n            <Switch\n              checked={!inactiveComponents.includes(dashboardItem)}\n              name={dashboardItem}\n              onChange={onSwitch}\n            />\n          }\n          label={t(label)}\n          labelPlacement=\"top\"\n          style={{ margin: '5%', textAlign: 'center', width: '90%' }}\n        />\n      </Paper>\n    </Grid>\n  )\n}\n\nconst DashboardCustomization = () => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Grid container spacing={1}>\n      <DashboardItemSwitch\n        dashboardItem={DashboardItem.TICKET_FINDER}\n        label=\"dashboard.settings.ticket-finder-label\"\n        icon={<Search />}\n      />\n      {hasAuthority(Authority.VIEW_LOGS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.LAST_LOGS}\n          label=\"dashboard.settings.last-logs-label\"\n          icon={<List />}\n        />\n      )}\n      <DashboardItemSwitch\n        dashboardItem={DashboardItem.LAST_EVENTS}\n        label=\"dashboard.settings.last-events-label\"\n        icon={<Event />}\n      />\n      <DashboardItemSwitch\n        dashboardItem={DashboardItem.CUSTOMER_FINDER}\n        label=\"dashboard.settings.customer-finder-label\"\n        icon={<Person />}\n      />\n    </Grid>\n  )\n}\n\nexport const Configuration = () => {\n  const dispatch = useDispatch()\n  const theme = useSelector(\n    (state: ThemeState) => state.theme.darkMode === 'dark',\n  )\n  const classes = useStyles()\n  const locale = useLocale()\n  const setLocale = useSetLocale()\n  const t = useTranslate()\n\n  return (\n    <Card>\n      <Title title={t('settings.name')} />\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.darkMode.name')}\n        </Typography>\n        <ButtonGroup className={classes.button}>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={!theme ? 'primary' : 'default'}\n            onClick={() => theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.light')}\n          </Button>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={theme ? 'primary' : 'default'}\n            onClick={() => !theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.dark')}\n          </Button>\n        </ButtonGroup>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.language.name')}\n        </Typography>\n        <Select\n          value={locale}\n          onChange={(e) => setLocale(e.target.value as string)}\n          className={classes.select}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pl\">{t('settings.language.pl')}</MenuItem>\n          <MenuItem value=\"en\">{t('settings.language.en')}</MenuItem>\n        </Select>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('dashboard.settings.title')}\n        </Typography>\n        <div className={classes.compsContainer}>\n          <DashboardCustomization />\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","import * as React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Configuration } from './Configuration'\n\nexport default [\n  <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n]\n","import { createContext } from 'react';\n/**\n * We need this context to communicate the callback to enable edit mode on a\n * row between the <EditableDatagridRow> and the <EditRowButton> and through\n * <DatagridRow> (which does not expect this prop).\n */\nexport var EditRowContext = createContext(null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useCallback, useMemo, useState, } from 'react';\nimport { CRUD_UPDATE, DatagridRow, SaveContextProvider, useNotify, useSaveModifiers, useUpdate, useResourceContext, useRecordContext, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core';\nimport { EditRowContext } from './EditRowContext';\nvar EditableRow = function (props) {\n    var form = props.form, resourceOverride = props.resource, id = props.id, recordOverride = props.record, basePath = props.basePath, children = props.children, rowClick = props.rowClick, mutationMode = props.mutationMode, undoable = props.undoable, rest = __rest(props, [\"form\", \"resource\", \"id\", \"record\", \"basePath\", \"children\", \"rowClick\", \"mutationMode\", \"undoable\"]);\n    var resource = useResourceContext(props);\n    var record = useRecordContext(props);\n    var _a = useState(false), isEdit = _a[0], setEdit = _a[1];\n    var classes = useStyles(emptyObject);\n    var openEditMode = useCallback(function () {\n        setEdit(true);\n    }, []);\n    var closeEditMode = useCallback(function () {\n        setEdit(false);\n    }, []);\n    var notify = useNotify();\n    var _b = useUpdate(resource, id, {}, // set by the caller\n    record), update = _b[0], saving = _b[1].loading;\n    var defaultOnSuccess = useCallback(function () {\n        notify('ra.notification.updated', 'info', {\n            smart_count: 1,\n        }, undoable);\n        closeEditMode();\n    }, [notify, undoable, closeEditMode]);\n    var defaultOnFailure = useCallback(function (error) {\n        notify(typeof error === 'string'\n            ? error\n            : error.message || 'ra.notification.http_error', 'warning');\n    }, [notify]);\n    var _c = useSaveModifiers({\n        onFailure: defaultOnFailure,\n        onSuccess: defaultOnSuccess,\n    }), onSuccessRef = _c.onSuccessRef, setOnSuccess = _c.setOnSuccess, onFailureRef = _c.onFailureRef, setOnFailure = _c.setOnFailure, transformRef = _c.transformRef, setTransform = _c.setTransform;\n    var handleClick = useCallback(function (event) {\n        var _a = getTableClickEventPosition(event), tbody = _a.tbody, row = _a.row, column = _a.column;\n        openEditMode();\n        // once the row is replaced by a form, focus the input inside the cell clicked\n        setTimeout(function () {\n            // No way to know the markup of the form in advance, as developers\n            // can inject a form element of their own. The only valid assumption\n            // is that the form should have the same number of columns as the row.\n            // So we select the input based on the column it's in.\n            var input = tbody.querySelector(\"tr:nth-child(\" + row + \") td:nth-child(\" + column + \") input\");\n            input && input.focus && input.focus();\n        }, 100); // FIXME not super robust\n    }, [openEditMode]);\n    var save = useCallback(function (data, _, // unused redirectTo\n    _a) {\n        var // unused redirectTo\n        _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : !!transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return update({ payload: { data: data } }, {\n                action: CRUD_UPDATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : !!onSuccessRef.current\n                        ? onSuccessRef.current\n                        : defaultOnSuccess,\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : !!onFailureRef.current\n                        ? onFailureRef.current\n                        : defaultOnFailure,\n                undoable: undoable,\n            });\n        });\n    }, [\n        defaultOnFailure,\n        defaultOnSuccess,\n        update,\n        undoable,\n        onFailureRef,\n        onSuccessRef,\n        transformRef,\n    ]);\n    var saveContext = {\n        save: save,\n        saving: saving,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n    };\n    var rowContext = useMemo(function () { return ({\n        open: openEditMode,\n        close: closeEditMode,\n    }); }, [openEditMode, closeEditMode]);\n    return (React.createElement(EditRowContext.Provider, { value: rowContext }, isEdit ? (React.createElement(SaveContextProvider, { value: saveContext }, cloneElement(form, __assign({ id: id, quitEditMode: closeEditMode, resource: resource, record: record, basePath: basePath, save: save, saving: saving, mutationMode: mutationMode, undoable: undoable }, rest)))) : (React.createElement(DatagridRow, __assign({ resource: resource, id: id, record: record, basePath: basePath }, rest, { className: classes.td, onClick: rowClick === 'edit'\n            ? handleClick\n            : function () { return undefined; } }), children))));\n};\n/**\n * Based on a MouseEvent triggered by a click on a table row,\n * get the tbody element, the row and column number of the cell clicked.\n *\n * @param {MouseEvent} event\n */\nvar getTableClickEventPosition = function (event) {\n    var target = event.target;\n    var td = target.closest('td');\n    var tr = td.parentNode;\n    var columns = tr.children;\n    var column;\n    for (var index = 0; index < columns.length; index++) {\n        if (columns.item(index) === td) {\n            column = index + 1;\n        }\n    }\n    var tbody = tr.parentNode;\n    var rows = tbody.children;\n    var row;\n    for (var index = 0; index < rows.length; index++) {\n        if (rows.item(index) === tr) {\n            row = index + 1;\n        }\n    }\n    return { tbody: tbody, row: row, column: column };\n};\nvar useStyles = makeStyles({\n    td: {\n        '& td:last-of-type > *': {\n            visibility: 'hidden',\n        },\n        '&:hover td:last-of-type > *': {\n            visibility: 'visible',\n        },\n    },\n}, {\n    name: 'RaEditableDatagridRow',\n});\nvar emptyObject = {};\nexport default EditableRow;\n","import { createContext } from 'react';\n/**\n * We need this context to communicate the callback to exit the create mode on a\n * row between the <EditableDatagrid> and the <CreateRowButton> and through\n * <DatagridRow> (which does not expect this prop).\n */\nexport var CreateRowContext = createContext(null);\n","import React, { cloneElement, useCallback, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useCreate, useNotify, useRefresh, CRUD_CREATE, useSaveModifiers, SaveContextProvider, useResourceContext, } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { CreateRowContext } from './CreateRowContext';\nvar EditableDatagridCreateForm = function (props) {\n    var basePath = props.basePath, classes = props.classes, expand = props.expand, hasBulkActions = props.hasBulkActions, createForm = props.createForm, hasStandaloneCreateForm = props.hasStandaloneCreateForm, isStandaloneCreateFormVisible = props.isStandaloneCreateFormVisible, closeStandaloneCreateForm = props.closeStandaloneCreateForm;\n    var history = useHistory();\n    var notify = useNotify();\n    var refresh = useRefresh();\n    var resource = useResourceContext(props);\n    var _a = useCreate(resource, {}), create = _a[0], saving = _a[1].loading;\n    var hideCreateForm = useCallback(function () {\n        if (hasStandaloneCreateForm) {\n            closeStandaloneCreateForm();\n        }\n        else {\n            history.push(basePath);\n        }\n    }, [basePath, closeStandaloneCreateForm, hasStandaloneCreateForm, history]);\n    var defaultOnSuccess = useCallback(function () {\n        notify('ra.notification.created', 'info', {\n            smart_count: 1,\n        });\n        refresh();\n        hideCreateForm();\n    }, [hideCreateForm, notify, refresh]);\n    var defaultOnFailure = useCallback(function (error) {\n        notify(typeof error === 'string'\n            ? error\n            : error.message || 'ra.notification.http_error', 'warning');\n    }, [notify]);\n    var _b = useSaveModifiers({\n        onFailure: defaultOnFailure,\n        onSuccess: defaultOnSuccess,\n    }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var save = useCallback(function (data, _, // unused redirectTo\n    _a) {\n        var // unused redirectTo\n        _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return create({ payload: { data: data } }, {\n                action: CRUD_CREATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : !!onSuccessRef.current\n                        ? onSuccessRef.current\n                        : defaultOnSuccess,\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : !!onFailureRef.current\n                        ? onFailureRef.current\n                        : defaultOnFailure,\n            });\n        });\n    }, [\n        create,\n        defaultOnFailure,\n        defaultOnSuccess,\n        onFailureRef,\n        onSuccessRef,\n        transformRef,\n    ]);\n    var saveContext = {\n        save: save,\n        saving: saving,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n    };\n    var createContext = useMemo(function () { return ({\n        close: hideCreateForm,\n    }); }, [hideCreateForm]);\n    var createFormElement = (React.createElement(SaveContextProvider, { value: saveContext },\n        React.createElement(CreateRowContext.Provider, { value: createContext }, cloneElement(createForm, {\n            classes: classes,\n            expand: expand,\n            hasBulkActions: hasBulkActions,\n            id: 'new_record',\n            quitEditMode: hideCreateForm,\n            record: {},\n            resource: resource,\n            basePath: basePath,\n            save: save,\n            saving: saving,\n            selectable: false,\n        }))));\n    if (hasStandaloneCreateForm) {\n        // create form triggered by state\n        return isStandaloneCreateFormVisible && createFormElement;\n    }\n    // create form in a route\n    return React.createElement(Route, { path: basePath + \"/create\" }, createFormElement);\n};\nEditableDatagridCreateForm.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    resource: PropTypes.string,\n    createForm: PropTypes.element,\n    hasStandaloneCreateForm: PropTypes.bool,\n    isStandaloneCreateFormVisible: PropTypes.bool.isRequired,\n    closeStandaloneCreateForm: PropTypes.func.isRequired,\n};\nexport default EditableDatagridCreateForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableBody } from '@material-ui/core';\nimport EditableDatagridRow from './EditableDatagridRow';\nimport EditableDatagridCreateForm from './EditableDatagridCreateForm';\nvar EditableDatagridBody = function (_a) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    version = _a.version, isRowSelectable = _a.isRowSelectable, editForm = _a.editForm, createForm = _a.createForm, undoable = _a.undoable, _b = _a.hasStandaloneCreateForm, hasStandaloneCreateForm = _b === void 0 ? false : _b, isStandaloneCreateFormVisible = _a.isStandaloneCreateFormVisible, closeStandaloneCreateForm = _a.closeStandaloneCreateForm, mutationMode = _a.mutationMode, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"version\", \"isRowSelectable\", \"editForm\", \"createForm\", \"undoable\", \"hasStandaloneCreateForm\", \"isStandaloneCreateFormVisible\", \"closeStandaloneCreateForm\", \"mutationMode\"]);\n    return (React.createElement(TableBody, __assign({ className: classnames('datagrid-body', className) }, rest),\n        createForm && (React.createElement(EditableDatagridCreateForm, { basePath: basePath, classes: classes, closeStandaloneCreateForm: closeStandaloneCreateForm, createForm: createForm, expand: expand, hasBulkActions: hasBulkActions, hasStandaloneCreateForm: hasStandaloneCreateForm, isStandaloneCreateFormVisible: isStandaloneCreateFormVisible, resource: resource })),\n        ids.map(function (id, rowIndex) {\n            var _a;\n            return (React.createElement(EditableDatagridRow, { basePath: basePath, classes: classes, className: classnames(classes.row, (_a = {},\n                    _a[classes.rowEven] = rowIndex % 2 === 0,\n                    _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                    _a[classes.clickableRow] = rowClick,\n                    _a)), expand: expand, form: editForm, hasBulkActions: hasBulkActions, hover: hover, id: id, key: id, onToggleItem: onToggleItem, record: data[id], resource: resource, rowClick: rowClick, selectable: !isRowSelectable || isRowSelectable(data[id]), selected: selectedIds.includes(id), style: rowStyle ? rowStyle(data[id], rowIndex) : null, undoable: undoable, mutationMode: mutationMode }, children));\n        })));\n};\nEditableDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    data: PropTypes.object.isRequired,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.string,\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    isRowSelectable: PropTypes.func,\n    version: PropTypes.number,\n};\nEditableDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n};\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nEditableDatagridBody.muiName = 'TableBody';\nexport default EditableDatagridBody;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useTranslate } from 'react-admin';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nexport var CancelEditButton = function (_a) {\n    var cancel = _a.cancel, props = __rest(_a, [\"cancel\"]);\n    var translate = useTranslate();\n    return (React.createElement(Tooltip, { title: translate('ra.action.cancel', {\n            _: 'ra.action.cancel',\n        }) },\n        React.createElement(IconButton, __assign({ onClick: cancel, size: \"small\" }, props),\n            React.createElement(CancelIcon, null))));\n};\nexport default CancelEditButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useGetResourceLabel, useResourceContext, useTranslate, } from 'react-admin';\nimport { Tooltip, Button } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nexport var CreateButton = function (props) {\n    var resourceOverride = props.resource, rest = __rest(props, [\"resource\"]);\n    var translate = useTranslate();\n    var resource = useResourceContext(props);\n    var getResourceLabel = useGetResourceLabel();\n    var singularResourceName = getResourceLabel(resource, 1);\n    var label = translate('ra.page.create', { name: singularResourceName });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(Button, __assign({ size: \"small\", color: \"primary\", \"aria-label\": label }, rest),\n            React.createElement(AddIcon, null),\n            label)));\n};\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { Confirm, getMutationMode, useDeleteWithConfirmController, useRecordContext, useResourceContext, useTranslate, } from 'react-admin';\nexport var DeleteWithConfirmIconButton = function (props) {\n    var basePath = props.basePath, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.label, label = _c === void 0 ? 'ra.action.delete' : _c, mutationMode = props.mutationMode, _d = props.redirect, redirectTo = _d === void 0 ? 'list' : _d, undoable = props.undoable;\n    var mode = getMutationMode(mutationMode, undoable);\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _e = useDeleteWithConfirmController({\n        mutationMode: mutationMode || mode,\n        resource: resource,\n        record: record,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), open = _e.open, loading = _e.loading, handleDialogOpen = _e.handleDialogOpen, handleDialogClose = _e.handleDialogClose, handleDelete = _e.handleDelete;\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Fragment, null,\n        React.createElement(Tooltip, { title: translatedLabel },\n            React.createElement(IconButton, { \"aria-label\": translatedLabel, onClick: handleDialogOpen, className: classnames('ra-delete-button', className), key: \"button\", size: \"small\" },\n                React.createElement(ActionDelete, { color: \"error\" }))),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                    smart_count: 1,\n                    _: inflection.singularize(resource),\n                }), true),\n                id: record ? record.id : undefined,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nDeleteWithConfirmIconButton.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useTranslate, useDeleteWithUndoController, useRecordContext, useResourceContext, } from 'react-admin';\nexport var DeleteWithUndoIconButton = function (props) {\n    var basePath = props.basePath, className = props.className, _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, _b = props.redirect, redirectTo = _b === void 0 ? 'list' : _b;\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _c = useDeleteWithUndoController({\n        resource: resource,\n        record: record,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), loading = _c.loading, handleDelete = _c.handleDelete;\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, { \"aria-label\": translatedLabel, disabled: loading, onClick: handleDelete, className: classnames('ra-delete-button', className), key: \"button\", size: \"small\" },\n            React.createElement(ActionDelete, { color: \"error\" }))));\n};\nDeleteWithUndoIconButton.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { getMutationMode } from 'react-admin';\nimport { DeleteWithConfirmIconButton } from './DeleteWithConfirmIconButton';\nimport { DeleteWithUndoIconButton } from './DeleteWithUndoIconButton';\nexport var DeleteRowButton = function (_a) {\n    var mutationMode = _a.mutationMode, undoable = _a.undoable, rest = __rest(_a, [\"mutationMode\", \"undoable\"]);\n    var mode = getMutationMode(mutationMode, undoable);\n    return mode === 'undoable' ? (React.createElement(DeleteWithUndoIconButton, __assign({}, rest))) : (React.createElement(DeleteWithConfirmIconButton, __assign({ mutationMode: mode, undoable: undoable }, rest)));\n};\nexport default DeleteRowButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { useTranslate } from 'react-admin';\nimport { useEditRowContext } from '../useEditRowContext';\nexport var EditRowButton = function (props) {\n    var open = useEditRowContext().open;\n    var translate = useTranslate();\n    var _a = props.label, label = _a === void 0 ? 'ra.action.edit' : _a;\n    var translatedLabel = translate(label, { _: 'Edit' });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, __assign({ onClick: open, size: \"small\", color: \"primary\", \"aria-label\": translatedLabel }, props),\n            React.createElement(ContentCreate, null))));\n};\n","import { useContext } from 'react';\nimport { EditRowContext } from './EditRowContext';\n/**\n * A hook which returns a function to open or quit the edit mode of a row from the sideEffect of a custom form inside the <EditableDatagrid>.\n *\n * @example\n *     const ArtistList = props => (\n *         <List {...props} hasCreate>\n *             <EditableDatagrid\n *                 undoable\n *                 editForm={<ArtistForm />}\n *             >\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"firstname\" />\n *                 <TextField source=\"name\" />\n *                 <DateField source=\"dob\" label=\"born\" />\n *                 <SelectField\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </EditableDatagrid>\n *         </List>\n *     );\n *\n *     const ArtistForm: FC = props => {\n *         const { close } = useEditRowContext();\n *\n *         return (\n *             <RowForm onSuccess={() => close()} {...props}>\n *                 <TextField source=\"id\" />\n *                 <TextInput source=\"firstname\" validate={required()} />\n *                 <TextInput source=\"name\" validate={required()} />\n *                 <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *                 <SelectInput\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </RowForm>\n *         );\n *     };\n */\nexport var useEditRowContext = function () {\n    var context = useContext(EditRowContext);\n    if (!context && process.env.NODE_ENV === 'development') {\n        console.error('useEditRowContext cannot be called outside of the RowForm passed as the `editForm` of the <EditableDatagrid> row.');\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useTranslate } from 'react-admin';\nexport var InlineCreateButton = function (props) {\n    var translate = useTranslate();\n    var label = translate('ra.action.create', { _: 'ra.action.create' });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(IconButton, __assign({ \"aria-label\": label, size: \"small\", color: \"primary\" }, props),\n            React.createElement(AddIcon, null),\n            props.children)));\n};\n","import React from 'react';\nimport { getMutationMode, useTranslate } from 'react-admin';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport ContentSave from '@material-ui/icons/Save';\nexport var SaveRowButton = function (_a) {\n    var dirty = _a.dirty, handleSubmit = _a.handleSubmit, invalid = _a.invalid, mutationMode = _a.mutationMode, quitEditMode = _a.quitEditMode, saving = _a.saving, undoable = _a.undoable;\n    var translate = useTranslate();\n    var onClick = function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        if (dirty && invalid) {\n            return;\n        }\n        handleSubmit();\n        var mode = getMutationMode(mutationMode, undoable);\n        if (mode === 'undoable') {\n            quitEditMode();\n        }\n    };\n    var label = translate('ra.action.save', {\n        _: 'ra.action.save',\n    });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(IconButton, { \"aria-label\": label, disabled: saving, onClick: onClick, size: \"small\", color: \"primary\" },\n            React.createElement(ContentSave, null))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { EditRowButton, DeleteRowButton } from './buttons';\nexport var ActionsColumn = function (_a) {\n    var mutationMode = _a.mutationMode, noDelete = _a.noDelete, undoable = _a.undoable, label = _a.label, props = __rest(_a, [\"mutationMode\", \"noDelete\", \"undoable\", \"label\"]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditRowButton, null),\n        !noDelete && (React.createElement(DeleteRowButton, __assign({ mutationMode: mutationMode, undoable: undoable }, props)))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { Datagrid, useResourceContext, useDatagridStyles, } from 'react-admin';\nimport EditableDatagridBody from './EditableDatagridBody';\nimport { CreateButton, InlineCreateButton } from './buttons';\nimport { ActionsColumn } from './ActionsColumn';\n/**\n * Component to display and edit tabular data.\n *\n * To be used as child of <List> or <ReferenceManyField>.\n * The <EditableDatagrid> expects the same props as <Datagrid>, plus 4 more props:\n *\n * - editForm: a component to display instead of a row when the users edits a record\n * - createForm: a component to display as the first row when the user creates a record\n * - undoable: whether the edit and delete actions are undoable. Defaults to false.\n * - noDelete: disable the inline Delete button\n *\n * The component renders the editForm and createForm elements in a <table>, so they\n * should render a <tr>. We advise you to use <RowForm> for editForm and createForm.\n *\n * Note: No need to include an <EditButton> as child, the <EditableDatagrid>\n * component adds a column with edit/delete/save/cancel buttons itself.\n *\n * Note: To enable the create form in a <List>, you should add the `hasCreate`\n * prop to the <List> component.\n *\n * @example\n *\n *     const ArtistList = props => (\n *         <List {...props} hasCreate>\n *             <EditableDatagrid\n *                 undoable\n *                 createForm={<ArtistForm />}\n *                 editForm={<ArtistForm />}\n *             >\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"firstname\" />\n *                 <TextField source=\"name\" />\n *                 <DateField source=\"dob\" label=\"born\" />\n *                 <SelectField\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </EditableDatagrid>\n *         </List>\n *     );\n *\n *     const ArtistForm: FC = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"firstname\" validate={required()} />\n *             <TextInput source=\"name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput\n *                 source=\"prof\"\n *                 label=\"Profession\"\n *                 choices={professionChoices}\n *             />\n *         </RowForm>\n *     );\n *\n * @example // inside a <ReferenceManyField> - remember to set the foreign ket in the createForm using initialValues\n *\n *     const OrderEdit = ({ id, ...props }) => (\n *         <Edit {...props} id={id}>\n *             <SimpleForm>\n *                 <ReferenceManyField\n *                     fullWidth\n *                     label=\"Products\"\n *                     reference=\"products\"\n *                     target=\"order_id\"\n *                 >\n *                     <EditableDatagrid\n *                         undoable\n *                         createForm={<ProductForm initialValues={{ order_id: id }} />}\n *                         editForm={<ProductForm />}\n *                     >\n *                         <TextField source=\"id\" />\n *                         <TextField source=\"name\" />\n *                         <NumberField source=\"price\" label=\"Default Price\" />\n *                         <DateField source=\"available_since\" />\n *                     </EditableDatagrid>\n *                 </ReferenceManyField>\n *                 <DateInput source=\"purchase_date\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n *\n *     const ProductForm = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" disabled />\n *             <TextInput source=\"name\" validate={required()} />\n *             <NumberInput\n *                 source=\"price\"\n *                 label=\"Default Price\"\n *                 validate={required()}\n *             />\n *             <DateInput source=\"available_since\" validate={required()} />\n *         </RowForm>\n *     );\n *\n * @see Datagrid for the other props\n * @see RowForm for the create and edit form\n */\nvar EditableDatagrid = function (props) {\n    var actions = props.actions, children = props.children, createForm = props.createForm, editForm = props.editForm, mutationMode = props.mutationMode, noDelete = props.noDelete, undoable = props.undoable, rest = __rest(props, [\"actions\", \"children\", \"createForm\", \"editForm\", \"mutationMode\", \"noDelete\", \"undoable\"]);\n    var resource = useResourceContext(props);\n    var classes = useDatagridStyles(props);\n    var _a = useState(false), isStandaloneCreateFormVisible = _a[0], setShowStandaloneCreateForm = _a[1];\n    var openStandaloneCreateForm = function () {\n        setShowStandaloneCreateForm(true);\n        // once the row is replaced by a form, focus the first input\n        setTimeout(function () {\n            var input = document.querySelectorAll('#new_record input')[0];\n            input && input.focus && input.focus();\n        }, 100); // FIXME not super robust\n    };\n    var closeStandaloneCreateForm = function () {\n        setShowStandaloneCreateForm(false);\n    };\n    // If EditableDatagrid is in a List view, the create form is displayed based on the route\n    // If not, the create form is displayed based on an internal state (see EditableDatagridBody)\n    // In order to detect if we are in a List view, we check the props that are passed\n    // We choose 'defaultTitle' since it's very unlikely to have this prop in a Reference field\n    // Also, we don't want to have 'defaultTitle' in the Props type, to not confuse users\n    var isInListView = rest.defaultTitle !== null;\n    var hasStandaloneCreateForm = !isInListView && Boolean(createForm);\n    var datagridBody = (React.createElement(EditableDatagridBody, { className: rest.className, classes: classes, closeStandaloneCreateForm: closeStandaloneCreateForm, createForm: createForm, editForm: editForm, expand: rest.expand, hasBulkActions: rest.hasBulkActions, hasStandaloneCreateForm: hasStandaloneCreateForm, isStandaloneCreateFormVisible: isStandaloneCreateFormVisible, mutationMode: mutationMode, undoable: undoable, basePath: rest.basePath, resource: resource }));\n    // Since <Datagrid /> returns null when there's no data\n    // We need to bypass it and display our datagrid by ourself\n    if (rest.loaded && (rest.ids.length === 0 || rest.total === 0)) {\n        return hasStandaloneCreateForm ? (React.createElement(React.Fragment, null,\n            React.createElement(CreateButton, { onClick: openStandaloneCreateForm, resource: resource }),\n            React.createElement(\"table\", null, datagridBody))) : (React.createElement(\"table\", null, datagridBody));\n    }\n    return (React.createElement(Datagrid, __assign({ body: datagridBody, resource: resource }, rest),\n        children,\n        actions !== false\n            ? actions || (React.createElement(ActionsColumn\n            // Datagrid cells supports the label prop which accept a React element.\n            , { \n                // Datagrid cells supports the label prop which accept a React element.\n                label: hasStandaloneCreateForm ? (React.createElement(InlineCreateButton, { onClick: openStandaloneCreateForm })) : (''), mutationMode: mutationMode, undoable: undoable, noDelete: noDelete, redirect: isInListView ? 'list' : false }))\n            : null));\n};\nexport default EditableDatagrid;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, cloneElement, useEffect, } from 'react';\nimport { Form } from 'react-final-form';\nimport { ExpandRowButton, useSaveContext, } from 'react-admin';\nimport { TableRow, TableCell, Checkbox, makeStyles } from '@material-ui/core';\nimport { CancelEditButton, SaveRowButton } from './buttons';\n/**\n * A form to be rendered as a table row in an <EditableDatagrid>.\n *\n * All the props it expects are injected by <EditableDatagrid>. You should only\n * provide children to be rendered in each table cell.\n *\n * The children should be Input components, just like in a <SimpleForm>. You\n * can also pass a <Field> component as child.\n *\n * <RowForm> should have as many children as the <EditableDatagrid> that calls\n * it, or there will be a colSpan issue.\n *\n * @example\n *\n *     const ArtistForm: FC = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"firstname\" validate={required()} />\n *             <TextInput source=\"name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput\n *                 source=\"prof\"\n *                 label=\"Profession\"\n *                 choices={professionChoices}\n *             />\n *         </RowForm>\n *     );\n *\n * @see EditableDatagrid\n */\nvar RowForm = function (props) {\n    var children = props.children, record = props.record, id = props.id, className = props.className, quitEditMode = props.quitEditMode, expand = props.expand, hasBulkActions = props.hasBulkActions, initialValues = props.initialValues, selectable = props.selectable, basePath = props.basePath, resource = props.resource, save = props.save, saving = props.saving, selected = props.selected, _a = props.submitOnEnter, submitOnEnter = _a === void 0 ? true : _a, undoable = props.undoable, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform, mutationMode = props.mutationMode, rest = __rest(props, [\"children\", \"record\", \"id\", \"className\", \"quitEditMode\", \"expand\", \"hasBulkActions\", \"initialValues\", \"selectable\", \"basePath\", \"resource\", \"save\", \"saving\", \"selected\", \"submitOnEnter\", \"undoable\", \"onSuccess\", \"onFailure\", \"transform\", \"mutationMode\"]);\n    var classes = useStyles();\n    // handle submit by enter\n    var onKeyDown = function (handleSubmit) {\n        return function (event) {\n            if (event.key === 'Enter' && submitOnEnter) {\n                event.preventDefault();\n                event.stopPropagation();\n                handleSubmit();\n            }\n        };\n    };\n    var saveContext = useSaveContext();\n    useEffect(function () {\n        if (onFailure) {\n            saveContext.setOnFailure(onFailure);\n        }\n        if (onSuccess) {\n            saveContext.setOnSuccess(onSuccess);\n        }\n        if (transform) {\n            saveContext.setTransform(transform);\n        }\n    }, [saveContext, onFailure, onSuccess, transform]);\n    return (React.createElement(Form, __assign({ initialValues: __assign(__assign({}, initialValues), record), onSubmit: save }, rest), function (_a) {\n        var handleSubmit = _a.handleSubmit, invalid = _a.invalid, dirty = _a.dirty;\n        return (React.createElement(TableRow, { className: className, key: id, onKeyDown: onKeyDown(handleSubmit) },\n            expand && (React.createElement(TableCell, { padding: \"none\" },\n                React.createElement(ExpandRowButton, { classes: rest.classes, expanded: false, disabled: true }))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { color: \"primary\", checked: selected, disabled: true })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(TableCell, { key: index, className: field.props.cellClassName, align: field.props.textAlign }, cloneElement(field, {\n                    record: record,\n                    basePath: field.props.basePath || basePath,\n                    resource: resource,\n                }))) : null;\n            }),\n            React.createElement(TableCell, { className: classes.actionColumn },\n                React.createElement(SaveRowButton, { dirty: dirty, handleSubmit: handleSubmit, invalid: invalid, quitEditMode: quitEditMode, saving: saving, undoable: undoable, mutationMode: mutationMode }),\n                React.createElement(CancelEditButton, { cancel: quitEditMode }))));\n    }));\n};\nvar useStyles = makeStyles({\n    actionColumn: {\n        whiteSpace: 'nowrap',\n        width: '5em',\n    },\n}, {\n    name: 'RaRowForm',\n});\nexport default RowForm;\n","import {\n  Button as MuiButton,\n  IconButton,\n  PropTypes as MuiPropTypes,\n  Theme,\n  Tooltip,\n  useMediaQuery,\n} from '@material-ui/core'\nimport { ButtonProps as MuiButtonProps } from '@material-ui/core/Button'\nimport { makeStyles } from '@material-ui/core/styles'\nimport classnames from 'classnames'\nimport { LocationDescriptor } from 'history'\nimport PropTypes from 'prop-types'\nimport { Record, RedirectionSideEffect, useTranslate } from 'ra-core'\nimport * as React from 'react'\nimport { ReactElement, ReactNode, SyntheticEvent } from 'react'\n\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\n\nconst useStyles = makeStyles(\n  {\n    button: {\n      display: 'inline-flex',\n      alignItems: 'center',\n    },\n    label: {\n      paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n      paddingRight: '0.5em',\n    },\n    smallIcon: {\n      fontSize: 20,\n    },\n    mediumIcon: {\n      fontSize: 22,\n    },\n    largeIcon: {\n      fontSize: 24,\n    },\n  },\n  { name: 'RaButton' },\n)\n\nexport const sanitizeButtonRestProps = ({\n  // The next props are injected by Toolbar\n  basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n  handleSubmit, // eslint-disable-line @typescript-eslint/no-unused-vars\n  handleSubmitWithRedirect, // eslint-disable-line @typescript-eslint/no-unused-vars\n  invalid, // eslint-disable-line @typescript-eslint/no-unused-vars\n  onSave, // eslint-disable-line @typescript-eslint/no-unused-vars\n  pristine, // eslint-disable-line @typescript-eslint/no-unused-vars\n  record, // eslint-disable-line @typescript-eslint/no-unused-vars\n  redirect, // eslint-disable-line @typescript-eslint/no-unused-vars\n  resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n  saving, // eslint-disable-line @typescript-eslint/no-unused-vars\n  submitOnEnter, // eslint-disable-line @typescript-eslint/no-unused-vars\n  undoable, // eslint-disable-line @typescript-eslint/no-unused-vars\n  ...rest\n}: any) => rest\n\nconst Button = (props: ButtonProps) => {\n  const {\n    alignIcon = 'left',\n    children,\n    classes: classesOverride, // eslint-disable-line @typescript-eslint/no-unused-vars\n    className,\n    color,\n    disabled,\n    label,\n    size = 'small',\n    useSmallVersionBreakpoint: useSmallVersion,\n    ...rest\n  } = props\n  const translate = useTranslate()\n  const classes = useStyles(props)\n  const isXSmall = useMediaQuery((theme: Theme) => theme.breakpoints.down('xs'))\n  const restProps = sanitizeButtonRestProps(rest)\n  // eslint-disable-next-line no-nested-ternary\n  return isXSmall && useSmallVersion ? (\n    label && !disabled ? (\n      <Tooltip title={translate(label, { _: label })}>\n        <IconButton\n          aria-label={translate(label, { _: label })}\n          className={className}\n          color={color}\n          {...restProps}\n        >\n          {children}\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <IconButton\n        className={className}\n        color={color}\n        disabled={disabled}\n        {...restProps}\n      >\n        {children}\n      </IconButton>\n    )\n  ) : (\n    <MuiButton\n      className={classnames(classes.button, className)}\n      color={color}\n      size={size}\n      aria-label={label ? translate(label, { _: label }) : undefined}\n      disabled={disabled}\n      {...restProps}\n    >\n      {alignIcon === 'left' &&\n        children &&\n        React.cloneElement(children, {\n          className: classes[`${size}Icon`],\n        })}\n      {label && (\n        <span\n          className={classnames({\n            [classes.label]: alignIcon === 'left',\n            [classes.labelRightIcon]: alignIcon !== 'left',\n          })}\n        >\n          {translate(label, { _: label })}\n        </span>\n      )}\n      {alignIcon === 'right' &&\n        children &&\n        React.cloneElement(children, {\n          className: classes[`${size}Icon`],\n        })}\n    </MuiButton>\n  )\n}\n\ninterface Props {\n  alignIcon?: 'left' | 'right'\n  children?: ReactElement\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  classes?: object\n  className?: string\n  color?: MuiPropTypes.Color\n  component?: ReactNode\n  to?: string | LocationDescriptor\n  disabled?: boolean\n  label?: string\n  size?: 'small' | 'medium' | 'large'\n  icon?: ReactElement\n  redirect?: RedirectionSideEffect\n  variant?: string\n  // May be injected by Toolbar\n  basePath?: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  handleSubmit?: (event?: SyntheticEvent<HTMLFormElement>) => Promise<Object>\n  handleSubmitWithRedirect?: (redirect?: RedirectionSideEffect) => void\n  invalid?: boolean\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  onSave?: (values: object, redirect: RedirectionSideEffect) => void\n  saving?: boolean\n  submitOnEnter?: boolean\n  pristine?: boolean\n  record?: Record\n  resource?: string\n  undoable?: boolean\n  useSmallVersionBreakpoint?: boolean\n}\n\nexport type ButtonProps = Props & MuiButtonProps\n\nButton.propTypes = {\n  alignIcon: PropTypes.oneOf(['left', 'right']),\n  children: PropTypes.element,\n  // eslint-disable-next-line react/forbid-prop-types\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  useSmallVersionBreakpoint: PropTypes.bool,\n}\n\nButton.defaultProps = {\n  color: 'primary',\n  size: 'small',\n  useSmallVersionBreakpoint: true,\n}\n\nexport default Button\n","export enum AccessDateTypes {\n  GRANT = 'GRANT',\n  REVOKE = 'REVOKE',\n}\n","import { Chip } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Labeled,\n  LabeledProps,\n  useRecordContext,\n  useTranslate,\n} from 'react-admin'\n\nexport const MappedChipField = <T extends unknown>({\n  mapper,\n  source,\n  ...props\n}: Omit<LabeledProps, 'children'> & { mapper: (value: T) => string }) => {\n  const record = useRecordContext()\n  const t = useTranslate()\n  const mappedValue = mapper(record[source as string])\n  return (\n    <Labeled {...props} source={source}>\n      <>\n        <Chip label={t(mappedValue)} />\n      </>\n    </Labeled>\n  )\n}\n","import * as React from 'react'\nimport { useListContext } from 'react-admin'\nimport {\n  Button,\n  Toolbar,\n  Grid,\n  Paper,\n  ButtonGroup,\n  Select,\n  MenuItem,\n} from '@material-ui/core'\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\nimport ChevronRight from '@material-ui/icons/ChevronRight'\n\nexport const MobilePostPagination = () => {\n  const { page, perPage, total, setPage, setPerPage } = useListContext()\n  const nbPages = Math.ceil(total / perPage) || 1\n  return nbPages > 1 ? (\n    <Toolbar>\n      <Grid container>\n        <Grid item xs={3}>\n          <Paper\n            elevation={0}\n            style={{\n              height: '100%',\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n              alignItems: 'center',\n            }}\n          >\n            <Select\n              value={perPage}\n              style={{ width: '100%', height: '70%', textAlign: 'center' }}\n              variant=\"outlined\"\n              onChange={(e) =>\n                setPerPage(parseInt(e.target.value as string, 10))\n              }\n            >\n              <MenuItem value={20}> 20 </MenuItem>\n              <MenuItem value={50}> 50 </MenuItem>\n              <MenuItem value={100}> 100 </MenuItem>\n            </Select>\n          </Paper>\n        </Grid>\n        <Grid item xs={4} />\n        <Grid item xs={5}>\n          <Paper\n            elevation={0}\n            style={{\n              height: '100%',\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n              alignItems: 'center',\n            }}\n          >\n            <ButtonGroup style={{ height: '70%' }}>\n              {page > 1 ? (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  key=\"prev\"\n                  onClick={() => setPage(page - 1)}\n                >\n                  <ChevronLeft />\n                </Button>\n              ) : (\n                <Button variant=\"outlined\" color=\"primary\" disabled>\n                  <ChevronLeft />\n                </Button>\n              )}\n              <Button disabled variant=\"contained\">\n                {' '}\n                {page}{' '}\n              </Button>\n              {page !== nbPages ? (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  key=\"next\"\n                  onClick={() => setPage(page + 1)}\n                >\n                  <ChevronRight />\n                </Button>\n              ) : (\n                <Button variant=\"outlined\" color=\"primary\" disabled>\n                  <ChevronRight />\n                </Button>\n              )}\n            </ButtonGroup>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Toolbar>\n  ) : (\n    <div />\n  )\n}\n","import React from 'react'\nimport { useMediaQuery, useTheme } from '@material-ui/core'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  Datagrid,\n  TextField,\n  Identifier,\n} from 'react-admin'\nimport { MobilePostPagination } from '../../common/Pagination'\n\nexport const AccessList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      {...props}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        rowClick={(id: Identifier) =>\n          `?${new URLSearchParams({ id } as any).toString()}`\n        }\n      >\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <TextField source=\"entranceId\" />\n      </Datagrid>\n    </List>\n  )\n}\n","import * as React from 'react'\nimport {\n  CreateButton,\n  CreateButtonProps,\n  useResourceContext,\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\n\ninterface ParameterizedCreateButtonProps extends CreateButtonProps {\n  searchParams?: any\n}\n\nconst ParameterizedCreateButton = ({\n  ...props\n}: ParameterizedCreateButtonProps) => {\n  const history = useHistory()\n  const resource = useResourceContext()\n\n  const onClick = (e: any) => {\n    if (props.searchParams) {\n      e.preventDefault()\n      history.push({\n        pathname: props.basePath\n          ? `${props.basePath}/create`\n          : `/${resource}/create`,\n        state: { _scrollToTop: props.scrollToTop },\n        search: new URLSearchParams(props.searchParams).toString(),\n      })\n    }\n  }\n\n  return <CreateButton onClick={onClick} />\n}\n\nexport default ParameterizedCreateButton\n","export enum ToggleType {\n  BLOCK = 'BLOCK',\n  UNBLOCK = 'UNBLOCK',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { Checkbox, CheckboxProps, Typography } from '@material-ui/core'\nimport { SwitchBaseProps } from '@material-ui/core/internal/SwitchBase'\nimport React, { MouseEventHandler } from 'react'\nimport { useRecordContext } from 'react-admin'\n\nexport interface CheckboxFieldProps extends CheckboxProps {\n  sortable?: boolean\n  label?: string\n  source: string\n  checkBySource?: (sourceValue: any) => SwitchBaseProps['checked']\n  onClick?: (sourceValue: any) => MouseEventHandler | undefined\n}\n\nconst sanitizeFieldRestProps: (props: any) => any = ({\n  addLabel, // eslint-disable-line @typescript-eslint/no-unused-vars\n  allowEmpty, // eslint-disable-line @typescript-eslint/no-unused-vars\n  basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n  cellClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  className, // eslint-disable-line @typescript-eslint/no-unused-vars\n  emptyText, // eslint-disable-line @typescript-eslint/no-unused-vars\n  formClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  fullWidth, // eslint-disable-line @typescript-eslint/no-unused-vars\n  headerClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  label, // eslint-disable-line @typescript-eslint/no-unused-vars\n  linkType, // eslint-disable-line @typescript-eslint/no-unused-vars\n  link, // eslint-disable-line @typescript-eslint/no-unused-vars\n  locale, // eslint-disable-line @typescript-eslint/no-unused-vars\n  record, // eslint-disable-line @typescript-eslint/no-unused-vars\n  refetch, // eslint-disable-line @typescript-eslint/no-unused-vars\n  resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortable, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortBy, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortByOrder, // eslint-disable-line @typescript-eslint/no-unused-vars\n  source, // eslint-disable-line @typescript-eslint/no-unused-vars\n  textAlign, // eslint-disable-line @typescript-eslint/no-unused-vars\n  translateChoice, // eslint-disable-line @typescript-eslint/no-unused-vars\n  ...props\n}) => props\n\nexport const CheckboxField = ({\n  sortable,\n  label,\n  source,\n  checkBySource,\n  onClick,\n  className,\n  style,\n  ...props\n}: CheckboxFieldProps): JSX.Element => {\n  const record = useRecordContext()\n  const value = record[source as string]\n  return (\n    <Typography aria-label={label} className={className} style={style}>\n      <Checkbox\n        aria-sort={sortable ? undefined : 'none'}\n        {...(sanitizeFieldRestProps(props) as CheckboxProps)}\n        checked={checkBySource && checkBySource(value)}\n        onClick={onClick && onClick(value)}\n      />\n    </Typography>\n  )\n}\n","import { ButtonGroup } from '@material-ui/core'\nimport React, { ReactElement } from 'react'\nimport {\n  Datagrid,\n  GET_LIST,\n  List,\n  Pagination,\n  Record,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  TextField,\n  TopToolbar,\n  useListContext,\n  useMutation,\n  useQuery,\n  useShowContext,\n} from 'react-admin'\nimport { TicketAPISortPayload } from '../../core/common/ticket-api-get-list.params'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CheckboxField } from './CheckboxField'\nimport Button from './customized-mui-components/Button'\n\nconst RelationTab = <RecordType extends Record = Record>({\n  resource,\n  source,\n  mode,\n  attachMethod,\n  detachMethod,\n  attachRequestPayload,\n  detachRequestPayload,\n  refetchListAfterChange = () => true,\n  relationsRequestMethod,\n  relationsRequestPayload,\n  filters,\n  filterDefaultValues,\n  sort,\n  children,\n}: {\n  resource: ResourceName\n  source: string\n  mode: 'show' | 'edit'\n  attachMethod: string\n  detachMethod: string\n  attachRequestPayload: (record: RecordType, idsToAttach: number[]) => any\n  detachRequestPayload: (record: RecordType, idsToDetach: number[]) => any\n  refetchListAfterChange?: (filterValues: any) => boolean\n  relationsRequestMethod?: string\n  relationsRequestPayload?: (record: RecordType) => any\n  filters?: ReactElement | ReactElement[]\n  filterDefaultValues?: any\n  sort?: TicketAPISortPayload\n  children?: React.ReactNode\n}) => {\n  const [mutate] = useMutation()\n  const {\n    record,\n    basePath,\n    refetch,\n    resource: recordResource,\n  } = useShowContext<RecordType>()\n\n  const { data: relationsDto, refetch: refetchRelationsIds } = useQuery(\n    {\n      type: sanitizeFetchType(relationsRequestMethod as string),\n      resource: recordResource as string,\n      payload:\n        record && relationsRequestPayload && relationsRequestPayload(record),\n    },\n    {\n      enabled: !!relationsRequestMethod && !!relationsRequestPayload,\n    },\n  )\n\n  const handleAttach = async (idsToAttach: number[]) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(attachMethod),\n        resource: recordResource as string,\n        payload:\n          record &&\n          attachRequestPayload &&\n          attachRequestPayload(record, idsToAttach),\n      },\n      { returnPromise: true },\n    )\n    if (refetch) {\n      refetch()\n    }\n    refetchRelationsIds()\n  }\n\n  const handleDetach = async (idsToDetach: number[]) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(detachMethod),\n        resource: recordResource as string,\n        payload:\n          record &&\n          detachRequestPayload &&\n          detachRequestPayload(record, idsToDetach),\n      },\n      { returnPromise: true },\n    )\n    if (refetch) {\n      refetch()\n    }\n    refetchRelationsIds()\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    if (!!relationsRequestMethod && !!relationsRequestPayload && relationsDto)\n      return relationsDto[source].includes(relatedRecordId)\n    if (record && !relationsRequestMethod && !relationsRequestPayload)\n      return record[source].includes(relatedRecordId)\n    return false\n  }\n\n  const Actions = () => {\n    const { filterValues, refetch: refetchList } = useListContext()\n    const getFilteredRelatedRecordsIds = async () =>\n      (\n        await mutate(\n          {\n            type: sanitizeFetchType(GET_LIST),\n            resource,\n            payload: {\n              filter: {\n                ...filterValues,\n              },\n            },\n          },\n          { returnPromise: true },\n        )\n      )?.data?.map((r: any) => r?.id)\n\n    const handleAttachAll = async () => {\n      await handleAttach(await getFilteredRelatedRecordsIds())\n      refetchList()\n    }\n\n    const handleDetachAll = async () => {\n      await handleDetach(await getFilteredRelatedRecordsIds())\n      refetchList()\n    }\n\n    return (\n      <TopToolbar>\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            onClick={() => handleAttachAll()}\n            label=\"common.related-records.actions.attach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleDetachAll()}\n            label=\"common.related-records.actions.detach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  const AttachedCheckbox = ({ ...props }) => {\n    const { filterValues, refetch: refetchList } = useListContext()\n\n    return (\n      <CheckboxField\n        {...props}\n        disabled={mode !== 'edit'}\n        sortable={false}\n        checkBySource={(id: number) => isAttached(id)}\n        source=\"id\"\n        onClick={(id: number) =>\n          isAttached(id as number)\n            ? async () => {\n                await handleDetach([id as number])\n                if (refetchListAfterChange(filterValues)) {\n                  refetchList()\n                }\n              }\n            : async () => {\n                await handleAttach([id as number])\n                if (refetchListAfterChange(filterValues)) {\n                  refetchList()\n                }\n              }\n        }\n      />\n    )\n  }\n\n  return (\n    <ResourceContextProvider value={resource}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        filters={filters}\n        filterDefaultValues={filterDefaultValues}\n        sort={sort}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={mode === 'edit' ? <Actions /> : <></>}\n      >\n        <>\n          <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }}>\n            {children || <TextField source=\"id\" />}\n            <AttachedCheckbox label=\"common.related-records.fields.is-attached\" />\n          </Datagrid>\n        </>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nexport default RelationTab\n","import {\n  Box,\n  Divider,\n  Grid,\n  IconButton,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Power, PowerOff } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Datagrid,\n  DatagridProps,\n  DateField,\n  DateTimeInput,\n  EditButton,\n  Filter,\n  FunctionField,\n  Identifier,\n  Labeled,\n  List,\n  ListProps,\n  NumberField,\n  NumberInput,\n  Pagination,\n  ReferenceField,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SelectInput,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TabbedShowLayoutProps,\n  TextField,\n  TextInput,\n  TitleProps,\n  TopToolbar,\n  UPDATE_MANY,\n  useListContext,\n  useMutation,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { formatDate, formatTime } from '../../../core/common/date-time'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessDateTypes } from '../../../core/enum/AccessDateTypes'\nimport { ResourceName } from '../../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid/esm/src'\nimport Button from '../../common/customized-mui-components/Button'\nimport FilterProps from '../../common/FilterProps'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst ShowTitle = (data: AccessTitleProps) => {\n  const { record: variant } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.accesses.titles.show')}: {variant?.id}.{' '}\n      {variant?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: access } = useShowContext<AccessDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.ACCESSES}`}\n          record={access}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ACCESSES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const AccessDetailsTab = ({\n  displayActions = true,\n  ...props\n}: AccessDetailsTabProps) => {\n  const { record: access } = useShowContext<AccessDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <FunctionField<AccessDto>\n        source=\"bonus\"\n        render={(r?: AccessDto) => (\n          <div>{translate(`resources.enums.bonus.${r?.bonus}`)}</div>\n        )}\n      />\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <ReferenceField\n          source=\"entranceId\"\n          reference={ResourceName.ENTRANCES}\n          link=\"show\"\n        >\n          <FunctionField<EntranceDto>\n            render={(record?: EntranceDto) => (\n              <div>\n                {record?.id} ({record?.note})\n              </div>\n            )}\n          />\n        </ReferenceField>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <ReferenceField\n          source=\"modifiedById\"\n          reference={ResourceName.USERS}\n          link=\"show\"\n        >\n          <TextField source=\"userName\" />\n        </ReferenceField>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <ReferenceField\n          source=\"createdById\"\n          reference={ResourceName.USERS}\n          link=\"show\"\n        >\n          <TextField source=\"userName\" />\n        </ReferenceField>\n      )}\n      <FunctionField<AccessDto>\n        source=\"allowReenter\"\n        render={(r?: AccessDto) => (\n          <div>\n            {r?.allowReenter ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <FunctionField<AccessDto>\n        source=\"multipleEntry\"\n        render={(r?: AccessDto) => (\n          <div>\n            {r?.multipleEntry ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <TextField source=\"multiple\" />\n      <TextField source=\"usePriority\" />\n      <TextField source=\"delay\" />\n      {access?.releaseTime && (\n        <FunctionField<AccessDto>\n          source=\"releaseTime\"\n          render={(record?: AccessDto) => (\n            <div>{formatTime(record?.releaseTime)}</div>\n          )}\n        />\n      )}\n      {access?.releaseDayOfMonth && <TextField source=\"releaseDayOfMonth\" />}\n      {access?.releaseDayOfWeek && (\n        <FunctionField<AccessDto>\n          source=\"releaseDayOfWeek\"\n          render={(r?: AccessDto) => (\n            <div>\n              {translate(`resources.enums.dayOfWeek.${r?.releaseDayOfWeek}`)}\n            </div>\n          )}\n        />\n      )}\n      <DateField source=\"createdAt\" showTime />\n      <DateField source=\"modifiedAt\" showTime />\n      {access?.activePeriodStartingFrom !==\n        AccessActivePeriodStartingOptions.NO_LIMIT && (\n        <TextField source=\"activePeriod\" />\n      )}\n      <FunctionField<AccessDto>\n        source=\"activePeriodStartingFrom\"\n        render={(r?: AccessDto) => (\n          <div>\n            {translate(\n              `resources.enums.activePeriodStartingFrom.${r?.activePeriodStartingFrom}`,\n            )}\n          </div>\n        )}\n      />\n      {displayActions && <GeneralActions />}\n    </SimpleShowLayout>\n  )\n}\n\nconst AccessDateExpand = ({ ...props }) => {\n  const { record: accessDate } = useShowContext<AccessDateDto>()\n\n  return (\n    <Grid container justify=\"space-around\">\n      <Grid item>\n        <Labeled {...props} source=\"timeFrom\">\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeFrom)}</div>\n            )}\n          />\n        </Labeled>\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"timeTo\">\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeTo)}</div>\n            )}\n          />\n        </Labeled>\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"priority\">\n          <NumberField source=\"priority\" />\n        </Labeled>\n      </Grid>\n      {accessDate?.dayOfWeek && (\n        <Grid item>\n          <Labeled {...props} source=\"dayOfWeek\">\n            <TextField source=\"dayOfWeek\" />\n          </Labeled>\n        </Grid>\n      )}\n    </Grid>\n  )\n}\n\nconst AccessDatesList = ({\n  displayActions,\n  predefinedAccessId: accessId,\n  ...props\n}: AccessDatesListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const { basePath } = useListContext()\n\n  const ListActions = () => (\n    <TopToolbar>\n      {hasAuthority(Authority.CREATE_ACCESS_DATES) && (\n        <ParameterizedCreateButton\n          searchParams={{ accessId }}\n        />\n      )}\n    </TopToolbar>\n  )\n\n  const EditForm = ({ ...editProps }) => (\n    <RowForm {...editProps}>\n      <DateTimeInput\n        source=\"activeFrom\"\n        type=\"date\"\n        format={formatDate}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"activeTo\"\n        type=\"date\"\n        format={formatDate}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"timeFrom\"\n        type=\"time\"\n        format={formatTime}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"timeTo\"\n        type=\"time\"\n        format={formatTime}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <SelectInput\n        source=\"type\"\n        choices={Object.entries(AccessDateTypes).map(([value]) => ({\n          id: value,\n          name: `resources.enums.accessDateTypes.${value}`,\n        }))}\n      />\n      <NumberInput source=\"priority\" />\n    </RowForm>\n  )\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      perPage={20}\n      sort={{ field: 'id', order: 'DESC' }}\n      bulkActionButtons={false}\n      actions={displayActions === undefined && <ListActions />}\n      hasCreate={hasAuthority(Authority.CREATE_ACCESS_DATES)}\n      empty={false}\n    >\n      <EditableDatagrid\n        isRowExpandable={() => smallScreen}\n        expand={<AccessDateExpand />}\n        padding={xSmallScreen ? 'checkbox' : 'default'}\n        editForm={<EditForm />}\n        noDelete\n        actions={\n          displayActions === undefined &&\n          hasAuthority(Authority.EDIT_ACCESS_DATES)\n            ? undefined\n            : false\n        }\n      >\n        <DateField source=\"activeFrom\" />\n        <DateField source=\"activeTo\" />\n        {!smallScreen && (\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeFrom)}</div>\n            )}\n          />\n        )}\n        {!smallScreen && (\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeTo)}</div>\n            )}\n          />\n        )}\n        <FunctionField<AccessDateDto>\n          source=\"type\"\n          render={(r?: AccessDateDto) =>\n            translate(`resources.enums.accessDateTypes.${r?.type}`)\n          }\n        />\n        {!smallScreen && <NumberField source=\"priority\" />}\n      </EditableDatagrid>\n    </List>\n  )\n}\n\nexport const AccessDatesTab = ({\n  displayActions,\n  predefinedAccessId,\n}: AccessDatesTabProps) => {\n  const { basePath, record } = useShowContext<AccessDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.ACCESS_DATES}>\n      <AccessDatesList\n        displayActions={displayActions}\n        predefinedAccessId={predefinedAccessId}\n        title=\" \"\n        basePath={basePath}\n        filter={{\n          accessId: record?.id,\n        }}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst AccessUsingsExpand = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <Grid container justify=\"space-around\">\n      <Grid item>\n        {hasAuthority(Authority.VIEW_TICKETS) && (\n          <Labeled {...props} source=\"ticketCode\">\n            <ReferenceField\n              reference={ResourceName.TICKETS}\n              source=\"ticketId\"\n              link={false}\n            >\n              <TextField source=\"ticketCode\" />\n            </ReferenceField>\n          </Labeled>\n        )}\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"active\">\n          <FunctionField<AccessUsingDto>\n            source=\"active\"\n            render={(record?: AccessUsingDto) =>\n              record?.active ? translate('const.yes') : translate('const.no')\n            }\n          />\n        </Labeled>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst AccessUsingsGrid = (props: DatagridProps) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const [mutate] = useMutation()\n  const { refetch } = useListContext()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const patchAccess = async (access: AccessUsingDto) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(UPDATE_MANY),\n        resource: ResourceName.ACCESS_USINGS,\n        payload: {\n          ids: [access.id],\n          data: {\n            active: !access.active,\n          },\n        },\n      },\n      { returnPromise: true },\n    )\n    refetch()\n  }\n\n  return (\n    <Datagrid\n      {...props}\n      padding={xSmallScreen ? 'checkbox' : 'default'}\n      isRowExpandable={() => xSmallScreen}\n      expand={<AccessUsingsExpand />}\n    >\n      <DateField source=\"date\" showTime />\n      <FunctionField<AccessUsingDto>\n        source=\"direction\"\n        render={(record?: AccessUsingDto) =>\n          translate(`resources.enums.deviceDirection.${record?.direction}`)\n        }\n      />\n      {!xSmallScreen && hasAuthority(Authority.VIEW_TICKETS) && (\n        <ReferenceField\n          label=\"resources.access-usings.fields.ticketCode\"\n          reference={ResourceName.TICKETS}\n          source=\"ticketId\"\n          link={false}\n        >\n          <TextField source=\"ticketCode\" />\n        </ReferenceField>\n      )}\n      {!xSmallScreen && (\n        <FunctionField<AccessUsingDto>\n          source=\"active\"\n          render={(record?: AccessUsingDto) =>\n            record?.active ? translate('const.yes') : translate('const.no')\n          }\n        />\n      )}\n      <FunctionField<AccessUsingDto>\n        render={(record?: AccessUsingDto) =>\n          xSmallScreen ? (\n            <IconButton\n              color=\"primary\"\n              onClick={() => patchAccess(record as AccessUsingDto)}\n              disabled={!hasAuthority(Authority.EDIT_ACCESS_USINGS)}\n            >\n              {record?.active ? <Power /> : <PowerOff />}\n            </IconButton>\n          ) : (\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              style={{ width: '100%', fontSize: '13px' }}\n              onClick={() => patchAccess(record as AccessUsingDto)}\n              useSmallVersionBreakpoint={false}\n              label={`resources.access-usings.actions.${\n                record?.active ? `deactivate` : `activate`\n              }`}\n              disabled={!hasAuthority(Authority.EDIT_ACCESS_USINGS)}\n            />\n          )\n        }\n      />\n    </Datagrid>\n  )\n}\n\nconst AccessUsingsList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    perPage={20}\n    sort={{ field: 'date', order: 'DESC' }}\n    bulkActionButtons={false}\n  >\n    <AccessUsingsGrid />\n  </List>\n)\n\nexport const AccessUsingsTab = ({\n  accessUsingsTicketsIdsFilter = null,\n}: {\n  accessUsingsTicketsIdsFilter?: number[] | null | undefined\n}) => {\n  const { basePath, record: selectedAccess } = useShowContext<AccessDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.ACCESS_USINGS}>\n      <AccessUsingsList\n        title=\" \"\n        basePath={basePath}\n        filter={{\n          accessId: selectedAccess?.id,\n          ticketsIds: accessUsingsTicketsIdsFilter,\n        }}\n        actions={false}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst AccessTabs = ({ ...props }: Omit<TabbedShowLayoutProps, 'children'>) => {\n  const { record: access } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const RelationFilter = (filterProps?: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterAccessId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.accesses.tabs.details\">\n        <AccessDetailsTab displayActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_VARIANTS) && (\n        <Tab path=\"variants\" label=\"resources.accesses.tabs.variants\">\n          <>\n            <RelationTab<AccessDto>\n              resource={ResourceName.VARIANTS}\n              source=\"variantsIds\"\n              mode={hasAuthority(Authority.EDIT_VARIANTS) ? 'edit' : 'show'}\n              attachMethod=\"attachVariants\"\n              detachMethod=\"detachVariants\"\n              attachRequestPayload={(r, ids) => ({\n                accessId: r.id,\n                variantsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                accessId: r.id,\n                variantsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterAccessId === true\n              }\n              filters={<RelationFilter />}\n              filterDefaultValues={{\n                accessId: access?.id,\n                filterAccessId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n              <FunctionField<VariantDto>\n                source=\"active\"\n                key=\"active\"\n                render={(r?: VariantDto) =>\n                  r?.active ? translate('const.yes') : translate('const.no')\n                }\n              />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ACCESS_DATES) && (\n        <Tab path=\"dates\" label=\"resources.accesses.tabs.dates\">\n          <AccessDatesTab predefinedAccessId={access?.id} />\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ACCESS_USINGS) && (\n        <Tab path=\"uses\" label=\"resources.accesses.tabs.uses\">\n          <AccessUsingsTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const AccessShow = ({ ...props }: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <AccessTabs />\n  </Show>\n)\n\nexport interface AccessDetailsTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions?: boolean\n}\n\nexport interface AccessDatesTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions?: false\n  predefinedAccessId?: Identifier\n}\n\nexport interface AccessDatesListProps extends ListProps {\n  displayActions?: false\n  predefinedAccessId?: Identifier\n}\n\ninterface AccessTitleProps extends TitleProps {\n  record?: AccessDto\n}\n","import React from 'react'\nimport { Show, ShowProps, Tab, TabbedShowLayout } from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport {\n  AccessDatesTab,\n  AccessDetailsTab,\n  AccessUsingsTab,\n} from '../../configuration/accesses/AccessShow'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nexport const AccessShow = ({\n  accessUsingsTicketsIdsFilter,\n  ...props\n}: AccessShowProps) => {\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Show {...props} actions={false}>\n      <TabbedShowLayout syncWithLocation={false}>\n        {hasAuthority(Authority.VIEW_ACCESSES) && (\n          <Tab path=\"details\" label=\"resources.bookings.accesses.tabs.details\">\n            <AccessDetailsTab displayActions={false} />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESS_DATES) && (\n          <Tab path=\"dates\" label=\"resources.bookings.accesses.tabs.dates\">\n            <AccessDatesTab displayActions={false} />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESS_USINGS) && (\n          <Tab path=\"uses\" label=\"resources.bookings.accesses.tabs.uses\">\n            <AccessUsingsTab\n              accessUsingsTicketsIdsFilter={accessUsingsTicketsIdsFilter}\n            />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n\nexport interface AccessShowProps extends ShowProps {\n  accessUsingsTicketsIdsFilter: number[] | null | undefined\n}\n","import {\n  CREATE,\n  CreateParams,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  UpdateManyParams,\n} from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport { AccessUsingsCreateParams } from '../access-usings/access-usings-create.params'\nimport {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-booking-blockade-button'\nimport { VariantDto } from '../dto/variant.dto'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { BookingDto } from '../dto/booking.dto'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst blockMutation = (\n  ticketDetails?: BookingDto,\n  variant?: VariantDto,\n): Mutation => ({\n  type: sanitizeFetchType(CREATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      ticketIds: ticketDetails?.ticketsIds,\n      accessIds: variant?.accessesIds,\n    },\n  } as CreateParams<AccessUsingsCreateParams>,\n})\n\nconst unblockMutation = (\n  ticketDetails?: BookingDto,\n  variant?: VariantDto,\n  accessUsings?: AccessUsingDto[],\n): Mutation => {\n  const activeAccessUsingIds = accessUsings\n    ?.filter((au) => au.active)\n    .map((au) => au.id)\n\n  return {\n    type: sanitizeFetchType(UPDATE_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: activeAccessUsingIds,\n      data: {\n        active: false,\n      },\n    } as UpdateManyParams,\n  }\n}\n\ntype State = {\n  mutateQuery?: (\n    ticketDetails?: BookingDto,\n    variant?: VariantDto,\n    accessUsings?: AccessUsingDto[],\n  ) => Mutation\n} & ToggleButtonState\n\nexport const blockAccessButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.bookings.actions.blockAccessNA',\n}\n\nexport const toggleAccessButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.blockAccess',\n        mutateQuery: blockMutation,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.unblockAccess',\n        mutateQuery: unblockMutation,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockAccessButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  GET_MANY,\n  GET_ONE,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useQueryWithStore,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport {\n  blockAccessButtonInitialState,\n  toggleAccessButtonReducer,\n} from '../../../core/bookings/toggle-booking-access-button.reducer'\nimport { ToggleType } from '../../../core/bookings/toggle-booking-blockade-button'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { BookingDto } from '../../../core/dto/booking.dto'\nimport { TicketDto } from '../../../core/dto/ticket.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleBookingAccessButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleAccessButtonReducer,\n    blockAccessButtonInitialState,\n  )\n  const ticketDetails = useRecordContext<BookingDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const { data: tickets } = useQueryWithStore({\n    type: sanitizeFetchType(GET_MANY),\n    resource: ResourceName.TICKETS,\n    payload: {\n      ids: ticketDetails?.ticketsIds,\n    },\n  })\n\n  const { data: accessUsings } = useQueryWithStore({\n    type: sanitizeFetchType(GET_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: tickets\n        ? tickets.flatMap((ticket: TicketDto) => ticket.accessUsingsIds)\n        : [],\n    },\n  })\n\n  const isActive = (au?: AccessUsingDto[]) => au && au.some((a) => a.active)\n\n  useEffect(() => {\n    if (isActive(accessUsings)) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.BLOCK })\n    }\n  }, [accessUsings])\n\n  const onClick = async () => {\n    try {\n      const { data: variant } =\n        type === ToggleType.BLOCK\n          ? await mutate(\n              {\n                type: sanitizeFetchType(GET_ONE),\n                resource: ResourceName.VARIANTS,\n                payload: {\n                  id: ticketDetails?.variantId,\n                },\n              },\n              { returnPromise: true },\n            )\n          : { data: null }\n\n      const query = mutateQuery?.(ticketDetails, variant, accessUsings)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === ToggleType.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  )\n}\n","import {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-booking-blockade-button'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\nimport { BookingUpdateRequest } from './booking-update.request'\n\ntype State = {\n  mutateParam?: BookingUpdateRequest['disabled']\n} & ToggleButtonState\n\nexport const blockTicketButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.bookings.actions.blockTicketNA',\n}\n\nexport const toggleTicketButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.blockTicket',\n        mutateParam: BookingDisabledOption.ADMIN,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.unblockTicket',\n        mutateParam: null,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockTicketButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  sanitizeFetchType,\n  UPDATE,\n  UpdateParams,\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { BookingUpdateRequest } from '../../../core/bookings/booking-update.request'\nimport { ToggleType } from '../../../core/bookings/toggle-booking-blockade-button'\nimport {\n  blockTicketButtonInitialState,\n  toggleTicketButtonReducer,\n} from '../../../core/bookings/toggle-booking-blockade-button.reducer'\nimport { BookingDto } from '../../../core/dto/booking.dto'\nimport { BookingDisabledOption } from '../../../core/enum/BookingDisabledOption'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleBookingBlockadeButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateParam }, dispatch] = useReducer(\n    toggleTicketButtonReducer,\n    blockTicketButtonInitialState,\n  )\n  const { id: bookingId, disabled } = useRecordContext<BookingDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (disabled === null) {\n      dispatch({ type: ToggleType.BLOCK })\n    } else if (disabled === BookingDisabledOption.ADMIN) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.DISABLED })\n    }\n  }, [disabled])\n\n  const onClick = async () => {\n    try {\n      await mutate(\n        {\n          type: sanitizeFetchType(UPDATE),\n          resource: ResourceName.BOOKINGS,\n          payload: {\n            data: { id: bookingId, disabled: mutateParam },\n          } as UpdateParams<BookingUpdateRequest>,\n        },\n        { returnPromise: true },\n      )\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === ToggleType.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  )\n}\n","import {\n  Box,\n  Chip,\n  createStyles,\n  Divider,\n  Grid,\n  makeStyles,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { ArrowBack } from '@material-ui/icons'\nimport React, { useEffect } from 'react'\nimport {\n  DateField,\n  Filter,\n  FunctionField,\n  GET_ONE,\n  List,\n  Pagination,\n  ReferenceField,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SelectInput,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  useQueryWithStore,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { useHistory, useLocation } from 'react-router'\nimport { Authority } from '../../core/auth/Authority'\nimport { BookingDto } from '../../core/dto/booking.dto'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { BookingType } from '../../core/enum/BookingType'\nimport { TicketType } from '../../core/enum/TicketType'\nimport { ResourceName } from '../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../lib/@react-admin/ra-editable-datagrid'\nimport Button from '../common/customized-mui-components/Button'\nimport { MappedChipField } from '../common/MappedChipField'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { LogList } from '../logs/LogList'\nimport { AccessList } from './booking-show/AccessList'\nimport { AccessShow } from './booking-show/AccessShow'\nimport { ToggleBookingAccessButton } from './booking-show/ToggleBookingAccessButton'\nimport { ToggleBookingBlockadeButton } from './booking-show/ToggleBookingBlockadeButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      letterSpacing: theme.spacing(0.2),\n    },\n  }),\n)\n\nconst BookingTicketCreate = ({ ...props }) => {\n  const { ...rest } = props\n  const { record: booking } = useShowContext()\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const validateTicketCreate = (values: TicketDto) => {\n    const errors: { [n: string]: string } = {}\n    if (!values.ticketCode) {\n      errors.ticketCode = 'ra.validation.required'\n    }\n    return errors\n  }\n\n  return (\n    <RowForm\n      {...rest}\n      initialValues={{\n        bookingId: booking?.id,\n        ticketType: TicketType.K,\n      }}\n      validate={validateTicketCreate}\n    >\n      <TextField source=\"id\" />\n      <TextInput source=\"ticketCode\" label=\" \" variant=\"standard\" />\n      <SelectInput\n        label=\" \"\n        variant=\"standard\"\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n      {!smallScreen && <DateField source=\"createdAt\" />}\n    </RowForm>\n  )\n}\n\nconst BookingTicketEdit = ({ ...props }) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <RowForm {...props}>\n      <TextField source=\"id\" />\n      <TextInput source=\"ticketCode\" label=\" \" variant=\"standard\" />\n      <SelectInput\n        label=\" \"\n        variant=\"standard\"\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n      {!smallScreen && (\n        <DateField\n          source=\"createdAt\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n      )}\n    </RowForm>\n  )\n}\n\nconst BookingTicketsGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <EditableDatagrid\n      {...props}\n      padding={smallScreen ? 'checkbox' : 'default'}\n      actions={hasAuthority(Authority.EDIT_TICKETS) ? undefined : false}\n      editForm={<BookingTicketEdit />}\n      createForm={\n        hasAuthority(Authority.EDIT_TICKETS) &&\n        hasAuthority(Authority.CREATE_TICKETS) ? (\n          <BookingTicketCreate />\n        ) : undefined\n      }\n      hasBulkActions={false}\n      defaultTitle={null}\n      noDelete\n    >\n      <TextField label=\"ID\" source=\"id\" />\n      <TextField source=\"ticketCode\" />\n      <FunctionField<TicketDto>\n        source=\"ticketType\"\n        render={(record?: TicketDto) =>\n          smallScreen ? (\n            <div>\n              {translate(`resources.enums.ticketType.${record?.ticketType}`)}\n            </div>\n          ) : (\n            <Chip\n              label={translate(\n                `resources.enums.ticketType.${record?.ticketType}`,\n              )}\n            />\n          )\n        }\n      />\n      {!smallScreen && (\n        <DateField\n          source=\"createdAt\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n      )}\n    </EditableDatagrid>\n  )\n}\n\nconst BookingTickets = () => {\n  const { basePath, record: booking } = useShowContext()\n  const translate = useTranslate()\n\n  const Filters = ({ ...props }) => (\n    <Filter {...props}>\n      <TextInput source=\"ticketCode\" alwaysOn />\n      <SelectInput\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n    </Filter>\n  )\n\n  return (\n    <ResourceContextProvider value={ResourceName.TICKETS}>\n      <List\n        exporter={false}\n        perPage={20}\n        sort={{ field: 'id', order: 'DESC' }}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n        bulkActionButtons={false}\n        basePath={basePath}\n        filter={{\n          bookingId: booking?.id,\n        }}\n        filters={<Filters />}\n        title=\" \"\n      >\n        <BookingTicketsGrid />\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst BookingLogsView = () => {\n  const { record, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ bookingId: record?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n        noBooking\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst ProfileDetailsView = () => {\n  const { record: booking } = useShowContext<BookingDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const { data: customer } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.CUSTOMERS,\n    payload: {\n      id: booking?.customerId,\n    },\n  })\n\n  return (\n    <>\n      <SimpleShowLayout record={customer} resource={ResourceName.CUSTOMERS}>\n        <ReferenceField\n          label=\"resources.customers.fields.firstname\"\n          source=\"id\"\n          reference={ResourceName.CUSTOMERS}\n          link=\"show\"\n        >\n          <TextField source=\"firstname\" />\n        </ReferenceField>\n        <TextField source=\"lastname\" />\n        {hasAuthority(Authority.VIEW_COMPANIES) && customer?.company && (\n          <ReferenceField\n            source=\"company\"\n            reference={ResourceName.COMPANIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {customer?.birthdate && <DateField source=\"birthdate\" />}\n        {customer?.documentType && <TextField source=\"documentType\" />}\n        {customer?.pesel ? (\n          <TextField source=\"pesel\" />\n        ) : (\n          <TextField source=\"documentNumber\" />\n        )}\n        {customer?.nationality && <TextField source=\"nationality\" />}\n        {customer?.gender && (\n          <FunctionField<CustomerDto>\n            source=\"gender\"\n            render={(r?: CustomerDto) => (\n              <div>{translate(`resources.enums.gender.${r?.gender}`)}</div>\n            )}\n          />\n        )}\n      </SimpleShowLayout>\n    </>\n  )\n}\n\nconst AccessDetailsView = ({ ...props }) => {\n  const { record: booking } = useShowContext<BookingDto>()\n  const translate = useTranslate()\n  const { search } = useLocation()\n  const selectedAccess = new URLSearchParams(search).get('id')\n\n  const history = useHistory()\n  const location = useLocation()\n\n  const { data: variant } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.VARIANTS,\n    payload: {\n      id: booking?.variantId,\n    },\n  })\n\n  useEffect(() => {\n    if (variant?.accessesIds.length === 1)\n      history.push({\n        search: new URLSearchParams({ id: variant?.accessesIds[0] }).toString(),\n      })\n  }, [variant, history])\n\n  return (\n    <SimpleShowLayout\n      {...props}\n      record={variant}\n      resource={ResourceName.VARIANTS}\n    >\n      <TextField source=\"name\" label=\"resources.bookings.fields.variantName\" />\n      {variant?.accessesIds.length !== 1 && !selectedAccess && (\n        <>\n          <Typography variant=\"h5\">\n            {translate('resources.bookings.accesses.name')}\n          </Typography>\n          <ResourceContextProvider value={ResourceName.ACCESSES}>\n            <AccessList\n              basePath={`/${ResourceName.ACCESSES}`}\n              actions={false}\n              filters={undefined}\n              filter={{\n                filterVariantId: variant?.id !== undefined,\n                variantId: variant?.id,\n              }}\n              title=\" \"\n            />\n          </ResourceContextProvider>\n        </>\n      )}\n      {selectedAccess && (\n        <>\n          {variant?.accessesIds.length > 1 && (\n            <Grid container item direction=\"column\" alignItems=\"stretch\">\n              <Button\n                label=\"resources.bookings.accesses.actions.selectAccess\"\n                useSmallVersionBreakpoint={false}\n                variant=\"outlined\"\n                startIcon={<ArrowBack />}\n                onClick={() => {\n                  const newQueryParams = new URLSearchParams(location.search)\n                  newQueryParams.delete('id')\n                  history.replace({\n                    search: newQueryParams.toString(),\n                  })\n                }}\n              />\n            </Grid>\n          )}\n          <ResourceContextProvider value={ResourceName.ACCESSES}>\n            <AccessShow\n              id={selectedAccess}\n              basePath={`/${ResourceName.ACCESSES}`}\n              actions={false}\n              resource={ResourceName.ACCESSES}\n              title=\" \"\n              accessUsingsTicketsIdsFilter={booking?.ticketsIds}\n            />\n          </ResourceContextProvider>\n        </>\n      )}\n    </SimpleShowLayout>\n  )\n}\n\nconst StatusButtons = () => (\n  <>\n    <Divider />\n    <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n      <ToggleBookingAccessButton />\n      <ToggleBookingBlockadeButton />\n    </Box>\n  </>\n)\n\nexport const BookingHeader = () => {\n  const classes = useStyles()\n  const { record: ticketDetails } = useShowContext<BookingDto>()\n  const { data: customer } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.CUSTOMERS,\n    payload: {\n      id: ticketDetails?.customerId,\n    },\n  })\n\n  return (\n    <Box m={2}>\n      <Typography className={classes.header} variant=\"h5\" paragraph>\n        {customer?.firstname} {customer?.lastname}\n      </Typography>\n    </Box>\n  )\n}\n\nconst BookingView = ({ ...props }) => {\n  const { record: ticketDetails } = useShowContext<BookingDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Tab {...props} label=\"resources.bookings.tabs.general\">\n      {ticketDetails?.eventId && hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.eventName\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link=\"show\"\n        >\n          <TextField source=\"id\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.seatNumber\"\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link={false}\n        >\n          <TextField source=\"numberAlias\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.rowNumber\"\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link={false}\n        >\n          <TextField source=\"rowAlias\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.blockName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <>\n              <ReferenceField\n                label=\" \"\n                source=\"blockId\"\n                reference={ResourceName.BLOCKS}\n                link=\"show\"\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            </>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId && hasAuthority(Authority.VIEW_BLOCKS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.blockName\"\n          source=\"blockId\"\n          reference={ResourceName.BLOCKS}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.tribuneName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"blockId\"\n              reference={ResourceName.BLOCKS}\n              link={false}\n            >\n              <>\n                <ReferenceField\n                  source=\"tribuneId\"\n                  reference={ResourceName.TRIBUNES}\n                  link=\"show\"\n                >\n                  <TextField source=\"name\" />\n                </ReferenceField>\n              </>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.tribuneName\"\n            source=\"blockId\"\n            reference={ResourceName.BLOCKS}\n            link={false}\n          >\n            <>\n              <ReferenceField\n                source=\"tribuneId\"\n                reference={ResourceName.TRIBUNES}\n                link=\"show\"\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            </>\n          </ReferenceField>\n        )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) &&\n        hasAuthority(Authority.VIEW_OBJECTS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.objectName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"blockId\"\n              reference={ResourceName.BLOCKS}\n              link={false}\n            >\n              <ReferenceField\n                source=\"tribuneId\"\n                reference={ResourceName.TRIBUNES}\n                link={false}\n              >\n                <>\n                  <ReferenceField\n                    source=\"objectId\"\n                    reference={ResourceName.OBJECTS}\n                    link=\"show\"\n                  >\n                    <TextField source=\"name\" />\n                  </ReferenceField>\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) &&\n        hasAuthority(Authority.VIEW_OBJECTS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.objectName\"\n            source=\"blockId\"\n            reference={ResourceName.BLOCKS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"tribuneId\"\n              reference={ResourceName.TRIBUNES}\n              link={false}\n            >\n              <>\n                <ReferenceField\n                  source=\"objectId\"\n                  reference={ResourceName.OBJECTS}\n                  link=\"show\"\n                >\n                  <TextField source=\"name\" />\n                </ReferenceField>\n              </>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.activeFrom && <DateField source=\"activeFrom\" showTime />}\n      {ticketDetails?.activeTo && <DateField source=\"activeTo\" showTime />}\n      <DateField source=\"createdAt\" showTime />\n      <DateField source=\"modifiedAt\" showTime />\n      <StatusButtons />\n    </Tab>\n  )\n}\n\nconst BookingTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <BookingHeader />\n      <Divider />\n      <TabbedShowLayout {...props}>\n        <BookingView />\n        {hasAuthority(Authority.VIEW_TICKETS) && (\n          <Tab path=\"tickets\" label=\"resources.bookings.tabs.tickets\">\n            <MappedChipField\n              source=\"type\"\n              mapper={(value: BookingType) =>\n                `resources.enums.bookingType.${value}`\n              }\n            />\n            <BookingTickets />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_LOGS) && (\n          <Tab path=\"logs\" label=\"resources.bookings.tabs.logs\">\n            <BookingLogsView />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_CUSTOMERS) && (\n          <Tab path=\"profile\" label=\"resources.bookings.tabs.profile\">\n            <ProfileDetailsView />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESSES) && (\n          <Tab path=\"accesses\" label=\"resources.bookings.tabs.accesses\">\n            <AccessDetailsView />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </>\n  )\n}\n\nexport const BookingShow = (props: ShowProps) => (\n  <Show {...props} actions={false}>\n    <BookingTabs />\n  </Show>\n)\n","import { makeStyles } from '@material-ui/core'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport PropTypes from 'prop-types'\nimport {\n  FieldTitle,\n  useChoices,\n  useInput,\n  useTranslate,\n  warning,\n} from 'ra-core'\nimport * as React from 'react'\nimport { useCallback } from 'react'\nimport {\n  ClassesOverride,\n  InputHelperText,\n  Pagination,\n  PaginationProps,\n  ResettableTextField,\n  SelectInputProps,\n  useSupportCreateSuggestion,\n} from 'react-admin'\n\n// import ResettableTextField, { resettableStyles } from './ResettableTextField';\n// import InputHelperText from './InputHelperText';\n// import sanitizeInputRestProps from './sanitizeInputRestProps';\n// import Labeled from './Labeled';\n// import { LinearProgress } from '../layout';\n// import {\n//     useSupportCreateSuggestion,\n//     SupportCreateSuggestionOptions,\n// } from './useSupportCreateSuggestion';\n// import { ClassesOverride } from '../types';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    // ...resettableStyles,\n    input: {\n      minWidth: theme.spacing(20),\n    },\n  }),\n  { name: 'RaSelectInput' },\n)\n\nexport interface SelectWithPaginationInputProps extends SelectInputProps {\n  classes?: ClassesOverride<typeof useStyles>\n  paginationProps?: PaginationProps\n}\n\nexport const SelectWithPaginationInput = (\n  props: SelectWithPaginationInputProps,\n) => {\n  const {\n    allowEmpty,\n    choices = [],\n    // classes: classesOverride,\n    className,\n    create,\n    createLabel,\n    createValue,\n    // disableValue,\n    emptyText,\n    emptyValue,\n    format,\n    helperText,\n    label,\n    // loaded,\n    loading,\n    margin = 'dense',\n    onBlur,\n    onChange,\n    onCreate,\n    onFocus,\n    options,\n    optionText,\n    optionValue,\n    parse,\n    paginationProps,\n    resource,\n    source,\n    translateChoice,\n    validate,\n    ...rest\n  } = props\n  const translate = useTranslate()\n  const classes = useStyles(props)\n\n  warning(\n    source === undefined,\n    `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop`,\n  )\n\n  warning(\n    choices === undefined,\n    `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop`,\n  )\n\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText,\n    optionValue,\n    translateChoice,\n  })\n\n  const { id, input, isRequired, meta } = useInput({\n    format,\n    onBlur,\n    onChange,\n    onFocus,\n    parse,\n    resource,\n    source: source as string,\n    validate,\n    ...rest,\n  })\n\n  const { touched, error, submitError } = meta\n\n  const renderEmptyItemOption = useCallback(\n    () =>\n      React.isValidElement(emptyText) // eslint-disable-line no-nested-ternary\n        ? React.cloneElement(emptyText)\n        : emptyText === ''\n        ? '' // em space, forces the display of an empty line of normal height\n        : translate(emptyText, { _: emptyText }),\n    [emptyText, translate],\n  )\n\n  const renderMenuItemOption = useCallback(\n    (choice) => getChoiceText(choice),\n    [getChoiceText],\n  )\n\n  const handleChange = useCallback(\n    async (event: React.ChangeEvent<HTMLSelectElement>, newItem) => {\n      if (newItem) {\n        const value = getChoiceValue(newItem)\n        input.onChange(value)\n        return\n      }\n\n      input.onChange(event)\n    },\n    [input, getChoiceValue],\n  )\n\n  const {\n    getCreateItem,\n    handleChange: handleChangeWithCreateSupport,\n    createElement,\n  } = useSupportCreateSuggestion({\n    create,\n    createLabel,\n    createValue,\n    handleChange,\n    onCreate,\n    optionText,\n  })\n  // if (loading) {\n  //     return (\n  //         <Labeled\n  //             id={id}\n  //             label={label}\n  //             source={source}\n  //             resource={resource}\n  //             className={className}\n  //             isRequired={isRequired}\n  //             meta={meta}\n  //             input={input}\n  //             margin={margin}\n  //         >\n  //             <LinearProgress />\n  //         </Labeled>\n  //     );\n  // }\n\n  const renderCreateItem = () => {\n    if (onCreate || create) {\n      const createItem = getCreateItem()\n      return (\n        <MenuItem value={createItem.id} key={createItem.id}>\n          {createItem.name}\n        </MenuItem>\n      )\n    }\n    return null\n  }\n\n  return (\n    <>\n      <ResettableTextField\n        id={id}\n        {...input}\n        onChange={handleChangeWithCreateSupport}\n        select\n        label={\n          label !== '' &&\n          label !== false && (\n            <FieldTitle\n              label={label}\n              source={source}\n              resource={resource}\n              isRequired={isRequired}\n            />\n          )\n        }\n        className={`${classes.input} ${className}`}\n        clearAlwaysVisible\n        error={!!(touched && (error || submitError))}\n        helperText={\n          <InputHelperText\n            touched={touched === true}\n            error={error || submitError}\n            helperText={helperText}\n          />\n        }\n        margin={margin}\n        {...options}\n        // {...sanitizeRestProps(rest)}\n      >\n        {allowEmpty ? (\n          <MenuItem\n            value={emptyValue}\n            key=\"null\"\n            aria-label={translate('ra.action.clear_input_value')}\n            title={translate('ra.action.clear_input_value')}\n          >\n            {renderEmptyItemOption()}\n          </MenuItem>\n        ) : null}\n        {!loading &&\n          choices.map((choice) => (\n            <MenuItem\n              key={getChoiceValue(choice)}\n              value={getChoiceValue(choice)}\n              // disabled={get(choice, disableValue)}\n            >\n              {renderMenuItemOption(choice)}\n            </MenuItem>\n          ))}\n        {renderCreateItem()}\n        {!loading && <Pagination {...paginationProps} />}\n      </ResettableTextField>\n      {createElement}\n    </>\n  )\n}\n\nSelectWithPaginationInput.propTypes = {\n  allowEmpty: PropTypes.bool,\n  emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  emptyValue: PropTypes.any, // eslint-disable-line react/forbid-prop-types\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  className: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  options: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  optionText: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.element,\n  ]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  disableValue: PropTypes.string,\n  resettable: PropTypes.bool,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool,\n}\n\nSelectWithPaginationInput.defaultProps = {\n  emptyText: '',\n  emptyValue: '',\n  options: {},\n  optionText: 'name', // eslint-disable-line react/default-props-match-prop-types\n  optionValue: 'id', // eslint-disable-line react/default-props-match-prop-types\n  translateChoice: true,\n  disableValue: 'disabled',\n}\n\n// const sanitizeRestProps = ({\n//     addLabel,\n//     afterSubmit,\n//     allowNull,\n//     beforeSubmit,\n//     choices,\n//     className,\n//     crudGetMatching,\n//     crudGetOne,\n//     data,\n//     filter,\n//     filterToQuery,\n//     formatOnBlur,\n//     isEqual,\n//     limitChoicesToValue,\n//     multiple,\n//     name,\n//     pagination,\n//     perPage,\n//     ref,\n//     reference,\n//     refetch,\n//     render,\n//     setFilter,\n//     setPagination,\n//     setSort,\n//     sort,\n//     subscription,\n//     type,\n//     validateFields,\n//     validation,\n//     value,\n//     ...rest\n// }: any) => sanitizeInputRestProps(rest);\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  DateTimeInput,\n  ReferenceInput,\n  required,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { formatTime } from '../../../core/common/date-time'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { DayOfWeek } from '../../../core/enum/DayOfWeek'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateAccessCreate = (values: AccessDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.entranceId) {\n    errors.entranceId = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.multiple)))\n    errors.multiple = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.usePriority)))\n    errors.usePriority = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.releaseDayOfMonth)))\n    errors.releaseDayOfMonth = 'ra.validation.not_numeric'\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.accesses.titles.create')}</span>\n}\n\nexport const AccessCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateAccessCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired validate={required()} />\n        <SelectInput\n          source=\"bonus\"\n          choices={Object.entries(AccessBonuses).map(([value]) => ({\n            id: value,\n            name: `resources.enums.bonus.${value}`,\n          }))}\n        />\n        <ReferenceInput\n          source=\"entranceId\"\n          defaultValue={null}\n          reference={ResourceName.ENTRANCES}\n          sort={{ field: 'note', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"note\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <BooleanInput source=\"allowReenter\" defaultChecked />\n        <BooleanInput source=\"multipleEntry\" />\n        <TextInput source=\"multiple\" defaultValue={1} />\n        <TextInput source=\"usePriority\" />\n        <BooleanInput source=\"isTicketUnlockedWithNextDay\" />\n        <DateTimeInput\n          source=\"releaseTime\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"releaseDayOfWeek\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(DayOfWeek).map(([value]) => ({\n              id: value,\n              name: `resources.enums.dayOfWeek.${value}`,\n            })),\n          ]}\n        />\n        <TextInput source=\"releaseDayOfMonth\" defaultValue={1} />\n        <TextInput source=\"delay\" />\n        <TextInput source=\"activePeriod\" />\n        <SelectInput\n          source=\"activePeriodStartingFrom\"\n          choices={Object.entries(AccessActivePeriodStartingOptions).map(\n            ([value]) => ({\n              id: value,\n              name: `resources.enums.activePeriodStartingFrom.${value}`,\n            }),\n          )}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","export enum HardwareVersions {\n  MODULO5 = 'MODULO5',\n  SPOM4 = 'SPOM4',\n  OLDER = 'OLDER',\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateTimeInput,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { formatTime } from '../../../core/common/date-time'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { DayOfWeek } from '../../../core/enum/DayOfWeek'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateAccessEdit = (values: AccessDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.entranceId) {\n    errors.entranceId = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.multiple)))\n    errors.multiple = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.usePriority)))\n    errors.usePriority = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.releaseDayOfMonth)))\n    errors.releaseDayOfMonth = 'ra.validation.not_numeric'\n  return errors\n}\n\ninterface AccessTitleProps extends TitleProps {\n  record?: AccessDto\n}\n\nconst EditTitle = (data: AccessTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.accesses.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const AccessEdit = (props: EditProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Edit {...props} hasShow={false} title={<EditTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        toolbar={<EditToolbar />}\n        validate={validateAccessEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" />\n        <SelectInput\n          source=\"bonus\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(AccessBonuses).map(([value]) => ({\n              id: value,\n              name: `resources.enums.bonus.${value}`,\n            })),\n          ]}\n        />\n        <ReferenceInput\n          source=\"entranceId\"\n          reference={ResourceName.ENTRANCES}\n          sort={{ field: 'note', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"note\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <BooleanInput source=\"allowReenter\" />\n        <BooleanInput source=\"multipleEntry\" />\n        <TextInput source=\"multiple\" />\n        <TextInput source=\"usePriority\" />\n        <BooleanInput source=\"isTicketUnlockedWithNextDay\" />\n        <DateTimeInput\n          source=\"releaseTime\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"releaseDayOfWeek\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(DayOfWeek).map(([value]) => ({\n              id: value,\n              name: `resources.enums.dayOfWeek.${value}`,\n            })),\n          ]}\n        />\n        <TextInput source=\"releaseDayOfMonth\" />\n        <TextInput source=\"delay\" />\n        <TextInput source=\"activePeriod\" />\n        <SelectInput\n          source=\"activePeriodStartingFrom\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(AccessActivePeriodStartingOptions).map(\n              ([value]) => ({\n                id: value,\n                name: `resources.enums.activePeriodStartingFrom.${value}`,\n              }),\n            ),\n          ]}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { Chip } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslate } from 'react-admin'\nimport { ResourceName } from '../../core/ResourceName'\n\ninterface QuickFilterProps {\n  label?: string\n  resource?: keyof ResourceName\n  source: string\n  defaultValue?: any\n}\n\nconst QuickFilter = (props: QuickFilterProps) => {\n  const translate = useTranslate()\n  const { label, resource, source, defaultValue } = props // eslint-disable-line @typescript-eslint/no-unused-vars\n  return (\n    <Chip\n      style={{ marginBottom: '1em' }}\n      label={translate(\n        `resources.${resource as string}.fields.${label || source}`,\n      )}\n    />\n  )\n}\n\nexport default QuickFilter\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Datagrid,\n  TextField,\n  Pagination,\n  FunctionField,\n  useTranslate,\n  DateField,\n  TextInput,\n  SelectInput,\n  Filter,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst AccessFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n    <SelectInput\n      source=\"bonus\"\n      choices={Object.entries(AccessBonuses).map(([value]) => ({\n        id: value,\n        name: `resources.enums.bonus.${value}`,\n      }))}\n    />\n    <TextInput source=\"entranceId\" />\n    <QuickFilter source=\"allowReenter\" />\n    <QuickFilter source=\"multipleEntry\" />\n    <QuickFilter source=\"isTicketUnlockedWithNextDay\" />\n  </Filter>\n)\n\nexport const AccessList = (props: ListProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<AccessFilters />}\n      hasCreate={hasAuthority(Authority.CREATE_ACCESSES)}\n    >\n      <Datagrid rowClick={(id) => `${ResourceName.ACCESSES}/${id}/show`}>\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<AccessDto>\n          source=\"bonus\"\n          render={(record?: AccessDto) =>\n            translate(`resources.enums.bonus.${record?.bonus}`)\n          }\n        />\n        <TextField source=\"entranceId\" />\n        {!smallScreen && <DateField source=\"modifiedAt\" />}\n        {!smallScreen && <DateField source=\"createdAt\" />}\n      </Datagrid>\n    </List>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport {\n  Create,\n  CreateProps,\n  TextInput,\n  useTranslate,\n  BooleanInput,\n  SimpleForm,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport React from 'react'\nimport { VariantDto } from '../../../core/dto/variant.dto'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateVariantCreate = (values: VariantDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.variants.titles.create')}</span>\n}\n\nexport const VariantCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateVariantCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"active\" />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n  BooleanInput,\n} from 'react-admin'\nimport { VariantDto } from '../../../core/dto/variant.dto'\n\nconst validateVariantEdit = (values: VariantDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface VariantTitleProps extends TitleProps {\n  record?: VariantDto\n}\n\nconst EditTitle = (data: VariantTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.variants.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const VariantEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateVariantEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"active\" />\n    </SimpleForm>\n  </Edit>\n)\n","import React from 'react'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  TextField,\n  FunctionField,\n  Datagrid,\n  useTranslate,\n  Filter,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst VariantsFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const VariantList = (props: ListProps) => {\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<VariantsFilters />}\n      hasCreate={hasAuthority(Authority.CREATE_VARIANTS)}\n    >\n      <Datagrid rowClick={(id) => `${ResourceName.VARIANTS}/${id}/show`}>\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<VariantDto>\n          source=\"active\"\n          render={(record?: VariantDto) =>\n            record?.active ? translate('const.yes') : translate('const.no')\n          }\n        />\n      </Datagrid>\n    </List>\n  )\n}\n","import { Box, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  ShowProps,\n  Show,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  FunctionField,\n  useTranslate,\n  useShowContext,\n  TabbedShowLayoutProps,\n  TitleProps,\n  EditButton,\n  Filter,\n  BooleanInput,\n  TextInput,\n} from 'react-admin'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\nimport RelationTab from '../../common/RelationTab'\nimport FilterProps from '../../common/FilterProps'\nimport { AccessDto } from '../../../core/dto/access.dto'\n\ntype VariantTabsProps = Omit<TabbedShowLayoutProps, 'children'>\n\ninterface VariantTitleProps extends TitleProps {\n  record?: VariantDto\n}\n\nconst ShowTitle = (data: VariantTitleProps) => {\n  const { record: variant } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.variants.titles.show')}: {variant?.id}.{' '}\n      {variant?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: variant } = useShowContext<VariantDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath=\"/variants\"\n          record={variant}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_VARIANTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst VariantTabs = (props: VariantTabsProps) => {\n  const { record: variant } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const RelationFilter = (filterProps?: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterVariantId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.variants.tabs.general\">\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<VariantDto>\n          source=\"active\"\n          render={(r?: VariantDto) => (\n            <div>\n              {r?.active ? translate('const.yes') : translate('const.no')}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_ACCESSES) && (\n        <Tab path=\"accesses\" label=\"resources.variants.tabs.accesses\">\n          <>\n            <RelationTab<VariantDto>\n              resource={ResourceName.ACCESSES}\n              source=\"accessesIds\"\n              mode={hasAuthority(Authority.EDIT_ACCESSES) ? 'edit' : 'show'}\n              attachMethod=\"attachAccesses\"\n              detachMethod=\"detachAccesses\"\n              attachRequestPayload={(r, ids) => ({\n                variantId: r.id,\n                accessesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                variantId: r.id,\n                accessesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVariantId === true\n              }\n              filters={<RelationFilter />}\n              filterDefaultValues={{\n                variantId: variant?.id,\n                filterVariantId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n              {!smallScreen && (\n                <FunctionField<AccessDto>\n                  source=\"bonus\"\n                  key=\"bonus\"\n                  render={(r?: AccessDto) =>\n                    translate(`resources.enums.bonus.${r?.bonus}`)\n                  }\n                />\n              )}\n              {!smallScreen && (\n                <TextField source=\"entranceId\" key=\"entranceId\" />\n              )}\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const VariantShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <VariantTabs />\n  </Show>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  DateTimeInput,\n  ListButton,\n  required,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { CustomerDocumentType } from '../../core/enum/CustomerDocumentType'\nimport { Gender } from '../../core/enum/Gender'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateCustomerCreate = (values: CustomerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.firstname) {\n    errors.firstname = 'ra.validation.required'\n  }\n  if (!values.lastname) {\n    errors.lastname = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.customers.titles.create')}</span>\n}\n\nexport const CustomersCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCustomerCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"firstname\" isRequired validate={required()} />\n      <TextInput source=\"lastname\" isRequired validate={required()} />\n      <TextInput source=\"company\" />\n      <DateTimeInput source=\"birthdate\" />\n      <SelectInput\n        source=\"documentType\"\n        choices={Object.entries(CustomerDocumentType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.customerDocumentType.${value}`,\n        }))}\n      />\n      <TextInput source=\"pesel\" />\n      <TextInput source=\"documentNumber\" />\n      <TextInput source=\"nationality\" />\n      <SelectInput\n        source=\"gender\"\n        choices={Object.entries(Gender).map(([value]) => ({\n          id: value,\n          name: `resources.enums.gender.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  DateTimeInput,\n  Edit,\n  EditProps,\n  required,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { CustomerDocumentType } from '../../core/enum/CustomerDocumentType'\nimport { Gender } from '../../core/enum/Gender'\n\nconst validateCustomerEdit = (values: CustomerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.firstname) {\n    errors.firstname = 'ra.validation.required'\n  }\n  if (!values.lastname) {\n    errors.lastname = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface CustomerTitleProps extends TitleProps {\n  record?: CustomerDto\n}\n\nconst EditTitle = (data: CustomerTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.customers.titles.edit')}: {record?.id}.{' '}\n      {record?.firstname} {record?.lastname}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CustomerEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateCustomerEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"firstname\" isRequired validate={required()} />\n      <TextInput source=\"lastname\" isRequired validate={required()} />\n      <TextInput source=\"company\" />\n      <DateTimeInput source=\"birthdate\" />\n      <SelectInput\n        source=\"documentType\"\n        choices={Object.entries(CustomerDocumentType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.customerDocumentType.${value}`,\n        }))}\n      />\n      <TextInput source=\"pesel\" />\n      <TextInput source=\"documentNumber\" />\n      <TextInput source=\"nationality\" />\n      <SelectInput\n        source=\"gender\"\n        choices={Object.entries(Gender).map(([value]) => ({\n          id: value,\n          name: `resources.enums.gender.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  </Edit>\n)\n","import * as React from 'react'\nimport { TextField, TextFieldProps, useRecordContext } from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\n\nexport const MaskField = ({ source, ...rest }: TextFieldProps) => {\n  const record = useRecordContext()\n  const properRecord = record[source as string]\n    ? {\n        ...record,\n        [source as string]: maskMiddlePart(record[source as string], 2),\n      }\n    : record\n  return <TextField {...rest} record={properRecord} source={source} />\n}\n","/**\n * @example\n * maskMiddlePart('importantValue', 3) === 'imp********lue'\n */\nexport const maskMiddlePart = (word: string, threshold: number) => {\n  const firstChars = word.substring(0, threshold)\n  const lastChars = word.slice(-threshold)\n  const restCharsLength = word.length - firstChars.length - lastChars.length\n  return `${firstChars}${'*'.repeat(\n    restCharsLength > 0 ? restCharsLength : 0,\n  )}${lastChars}`\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FunctionField,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { MaskField } from '../common/MaskField'\n\nconst CustomerGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallDevice = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Datagrid\n      {...props}\n      rowClick={(id) => `${ResourceName.CUSTOMERS}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"firstname\" />\n      <TextField source=\"lastname\" />\n      {smallDevice && (\n        <FunctionField<CustomerDto>\n          source=\"documentNumber\"\n          render={(record?: CustomerDto) =>\n            record?.pesel ? (\n              <MaskField source=\"pesel\" />\n            ) : (\n              <MaskField source=\"documentNumber\" />\n            )\n          }\n        />\n      )}\n      {!smallDevice && <MaskField source=\"pesel\" />}\n      {!smallDevice && <MaskField source=\"documentNumber\" />}\n    </Datagrid>\n  )\n}\n\nconst CustomerFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"firstname\" />\n    <TextInput source=\"lastname\" />\n    <TextInput source=\"pesel\" />\n    <TextInput source=\"documentNumber\" />\n    <TextInput source=\"info\" />\n  </Filter>\n)\n\nexport const CustomerList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    sort={{ field: 'lastname', order: 'ASC' }}\n    filters={<CustomerFilters />}\n  >\n    <CustomerGrid />\n  </List>\n)\n","import { Box, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React, { useMemo } from 'react'\nimport {\n  Datagrid,\n  DateField,\n  EditButton,\n  FunctionField,\n  List,\n  ListProps,\n  Pagination,\n  Record,\n  ReferenceField,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TabbedShowLayoutProps,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { MobilePostPagination } from '../common/Pagination'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { LogList } from '../logs/LogList'\n\nconst ShowTitle = (data: CustomerTitleProps) => {\n  const { record: customer } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.customers.titles.show')}: {customer?.id}.{' '}\n      {customer?.firstname} {customer?.lastname}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.CUSTOMERS}`}\n          record={customer}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_CUSTOMERS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const CustomerDetailsTab = ({\n  displayActions = true,\n  ...props\n}: CustomerDetailsTabProps) => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const translate = useTranslate()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"firstname\" />\n      <TextField source=\"lastname\" />\n      {customer?.company && <TextField source=\"company\" />}\n      {customer?.birthdate && (\n        <DateField\n          source=\"birthdate\"\n          options={{ day: '2-digit', month: '2-digit', year: 'numeric' }}\n        />\n      )}\n      {customer?.documentType && (\n        <FunctionField\n          source=\"documentType\"\n          render={(r: Record | undefined) => (\n            <div>\n              {translate(\n                `resources.enums.customerDocumentType.${r?.documentType}`,\n              )}\n            </div>\n          )}\n        />\n      )}\n      {customer?.pesel ? (\n        <TextField source=\"pesel\" />\n      ) : (\n        <TextField source=\"documentNumber\" />\n      )}\n      {customer?.nationality && <TextField source=\"nationality\" />}\n      {customer?.gender && (\n        <FunctionField\n          source=\"gender\"\n          render={(r: Record | undefined) => (\n            <div>{translate(`resources.enums.gender.${r?.gender}`)}</div>\n          )}\n        />\n      )}\n      {displayActions && <GeneralActions />}\n    </SimpleShowLayout>\n  )\n}\n\nconst BookingsList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      {...props}\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      sort={{ field: 'id', order: 'DESC' }}\n      bulkActionButtons={false}\n    >\n      <Datagrid rowClick={(id) => `/${ResourceName.BOOKINGS}/${id}/show`}>\n        <TextField source=\"id\" />\n        <ReferenceField\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          link={false}\n        >\n          <FunctionField<EventDto>\n            render={() => (\n              <div>\n                {' '}\n                <TextField source=\"id\" />. <TextField source=\"name\" /> (\n                <DateField source=\"dateStart\" />){' '}\n              </div>\n            )}\n          />\n        </ReferenceField>\n        <ReferenceField\n          reference={ResourceName.VARIANTS}\n          source=\"variantId\"\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      </Datagrid>\n    </List>\n  )\n}\n\nexport const BookingsTab = () => {\n  const { record: customer, basePath } = useShowContext<CustomerDto>()\n\n  return (\n    <ResourceContextProvider value={ResourceName.BOOKINGS}>\n      <BookingsList\n        basePath={basePath}\n        filter={{ customerId: customer?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nexport const LogsTab = () => {\n  const { record: customer, basePath } = useShowContext<CustomerDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ customerId: customer?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst CustomerTabs = ({ ...props }) => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const bookingPresent = useMemo(\n    () => customer?.bookingsIds && customer.bookingsIds.length > 0,\n    [customer],\n  )\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.customers.tabs.profile')}>\n        <CustomerDetailsTab displayActions />\n      </Tab>\n      {bookingPresent && hasAuthority(Authority.VIEW_BOOKINGS) && (\n        <Tab\n          path=\"bookings\"\n          label={translate('resources.customers.tabs.bookings')}\n        >\n          <BookingsTab />\n        </Tab>\n      )}\n      {bookingPresent && hasAuthority(Authority.VIEW_LOGS) && (\n        <Tab path=\"logs\" label={translate('resources.customers.tabs.logs')}>\n          <LogsTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const CustomerDetailsView = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <CustomerTabs />\n  </Show>\n)\n\nexport interface CustomerDetailsTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions: boolean\n}\n\ninterface CustomerTitleProps extends TitleProps {\n  record?: CustomerDto\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  required,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst validateDeviceCategoryCreate = (values: DeviceCategoryDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.device-categories.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const DeviceCategoryCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateDeviceCategoryCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired validate={required()} />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"parentId\"\n            defaultValue={null}\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst validateDeviceCategoryEdit = (values: DeviceCategoryDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface DeviceCategoryTitleProps extends TitleProps {\n  record?: DeviceCategoryDto\n}\n\nconst DeviceCategoryTitle = (data: DeviceCategoryTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.device-categories.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst DeviceCategory = ({ ...props }) => {\n  const { record: deviceCategory } = useEditContext<DeviceCategoryDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateDeviceCategoryEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"parentId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ notId: deviceCategory?.id }}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </SimpleForm>\n  )\n}\n\nexport const DeviceCategoryEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<DeviceCategoryTitle />}>\n    <DeviceCategory />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst DeviceCategoryFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"parentId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst DeviceCategoryGrid = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.DEVICE_CATEGORIES}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"parentId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const DeviceCategoryList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<DeviceCategoryFilters />}\n  >\n    <DeviceCategoryGrid />\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  ReferenceField,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\ninterface DeviceCategoryTitleProps extends TitleProps {\n  record?: DeviceCategoryDto\n}\n\nconst ShowTitle = (data: DeviceCategoryTitleProps) => {\n  const { record: deviceCategory } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.device-categories.titles.show')}:{' '}\n      {deviceCategory?.id}. {deviceCategory?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: deviceCategory } = useShowContext<DeviceCategoryDto>()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.DEVICE_CATEGORIES}`}\n          record={deviceCategory}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst DeviceCategroy = ({ ...props }) => {\n  const { record: deviceCategory } = useShowContext<DeviceCategoryDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField label=\"ID\" source=\"id\" />\n      <TextField source=\"name\" />\n      {deviceCategory?.parentId &&\n        hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"parentId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n      <GeneralActions />\n    </SimpleShowLayout>\n  )\n}\n\nexport const DeviceCategoryShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <DeviceCategroy />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  ListButton,\n  Toolbar,\n  ToolbarProps,\n  BooleanInput,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateDetectorCreate = (values: DetectorDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.detectors.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Detector = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateDetectorCreate}\n    >\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"isWatched\" />\n      <TextInput source=\"address\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const DetectorCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <Detector />\n  </Create>\n)\n","export enum Multiplicities {\n  SINGLE = 'SINGLE',\n  MULTIPLE = 'MULTIPLE',\n  CHECK_ALL = 'CHECK_ALL',\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  useTranslate,\n  TitleProps,\n  SimpleForm,\n  TextField,\n  TextInput,\n  SaveButton,\n  ShowButton,\n  Toolbar,\n  ToolbarProps,\n  BooleanInput,\n  DateField,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateDetectorEdit = (values: DetectorDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EngineTitleProps extends TitleProps {\n  record?: DetectorDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.detectors.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Detector = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateDetectorEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <TextInput source=\"address\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const DetectorEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Detector />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst DetectorFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const DetectorList = ({ ...props }: ListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      {...props}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      exporter={false}\n      filters={<DetectorFilters />}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        size=\"small\"\n        rowClick={(id) => `${ResourceName.DETECTORS}/${id}/show`}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        {!smallScreen && <TextField source=\"address\" />}\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n      </Datagrid>\n    </List>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: DetectorDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const { record: detector } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.detectors.titles.show')}: {detector?.id}.{' '}\n      {detector?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: detector } = useShowContext<DetectorDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.DETECTORS}`}\n          record={detector}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_DETECTORS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst Detector = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useShowContext<DetectorDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      <FunctionField<DetectorDto>\n        source=\"isWatched\"\n        render={(record?: DetectorDto) => (\n          <div>\n            {record?.isWatched ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      {engine?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      <TextField source=\"address\" />\n      <FunctionField<DetectorDto>\n        source=\"hardwareVersion\"\n        render={(record?: DetectorDto) => (\n          <div>\n            {translate(\n              `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n            )}\n          </div>\n        )}\n      />\n      <GeneralActions />\n    </SimpleShowLayout>\n  )\n}\n\nexport const DetectorShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <Detector />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateEngineCreate = (values: EngineDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.engines.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EngineCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateEngineCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" />\n        <BooleanInput source=\"isWatched\" />\n        <TextInput source=\"address\" />\n        <SelectInput\n          source=\"direction\"\n          defaultValue={DeviceDirection.IN}\n          choices={Object.entries(DeviceDirection).map(([value]) => ({\n            id: value,\n            name: `resources.enums.deviceDirection.${value}`,\n          }))}\n        />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          defaultValue={Multiplicities.SINGLE}\n          choices={Object.entries(Multiplicities).map(([value]) => ({\n            id: value,\n            name: `resources.enums.multiplicities.${value}`,\n          }))}\n        />\n        <SelectInput\n          source=\"hardwareVersion\"\n          defaultValue={HardwareVersions.MODULO5}\n          choices={Object.entries(HardwareVersions).map(([value]) => ({\n            id: value,\n            name: `resources.enums.hardwareVersions.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","export enum StanbyMode {\n  SENSOR = 'Sensor',\n  ALWAYS_ON = 'AlwaysOn',\n  ALWAYS_OFF = 'AlwaysOff',\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  FunctionField,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateEngineEdit = (values: EngineDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Engine = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useEditContext<EngineDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateEngineEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <TextInput source=\"address\" />\n      <SelectInput\n        source=\"direction\"\n        choices={Object.entries(DeviceDirection).map(([value]) => ({\n          id: value,\n          name: `resources.enums.deviceDirection.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <FunctionField<EngineDto>\n        source=\"stanbyMode\"\n        render={(record?: EngineDto) => (\n          <div>\n            {translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n          </div>\n        )}\n      />\n      {engine?.disabled && <TextField source=\"disabled\" />}\n      <BooleanInput source=\"onlineInfixCeck\" />\n      <SelectInput\n        source=\"multiplicity\"\n        choices={Object.entries(Multiplicities).map(([value]) => ({\n          id: value,\n          name: `resources.enums.multiplicities.${value}`,\n        }))}\n      />\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const EngineEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Engine />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst EngineFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <QuickFilter source=\"eventActive\" defaultValue />\n    </Filter>\n  )\n}\n\nconst EngineGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.ENGINES}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {!smallScreen && <TextField source=\"address\" />}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {!smallScreen && <TextField source=\"disabled\" sortable={false} />}\n    </Datagrid>\n  )\n}\n\nexport const EngineList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<EngineFilters />}\n  >\n    <EngineGrid />\n  </List>\n)\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { StanbyMode } from '../../../core/enum/StanbyMode'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'setStandbyMode' | 'lock' | 'setTSCanCredentials'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.engines.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.ENGINES,\n          payload: {\n            engineId: engine?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.engines.dialogs.setTSCanCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.engines.dialogs.setTSCanCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetStandbyModeModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    close()\n  }\n\n  const handleSetStandbyMode = async () => {\n    setConfirmOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('setStandbyMode'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n          stanbyMode: value,\n        },\n      },\n      { returnPromise: true },\n    )\n    setValue('')\n    refresh()\n    close()\n  }\n\n  useEffect(() => {\n    if (open && engine?.stanbyMode) {\n      setValue(engine?.stanbyMode as string)\n    }\n  }, [open, engine?.stanbyMode])\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetStandbyMode}\n        source=\"setStandbyMode\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setStandbyMode.title')}\n      </DialogTitle>\n      <DialogContent>\n        <Select\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value as string)}\n          fullWidth\n        >\n          <MenuItem value={StanbyMode.ALWAYS_ON}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_ON}`)}\n          </MenuItem>\n          <MenuItem value={StanbyMode.ALWAYS_OFF}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_OFF}`)}\n          </MenuItem>\n          <MenuItem value={StanbyMode.SENSOR}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.SENSOR}`)}\n          </MenuItem>\n        </Select>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const LockModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleLock = async () => {\n    setConfirmOpen(false)\n    if (value.replace(/\\s/g, '').length === 0) {\n      setError(true)\n      setErrorText(translate('resources.engines.dialogs.lock.error-bad-string'))\n    } else if (value.replace(/\\s/g, '').length !== value.length) {\n      setError(true)\n      setErrorText(translate('resources.engines.dialogs.lock.error-no-spaces'))\n    } else {\n      await mutate(\n        {\n          type: sanitizeFetchType('lock'),\n          resource: ResourceName.ENGINES,\n          payload: {\n            engineId: engine?.id,\n            lockName: value,\n          },\n        },\n        { returnPromise: true },\n      )\n      handleClose()\n      refresh()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","export enum SPOM4Directions {\n  Right = 'Right',\n  Left = 'Left',\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  EditButton,\n  Filter,\n  FunctionField,\n  ReferenceField,\n  sanitizeFetchType,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport FilterProps from '../../common/FilterProps'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport {\n  ConfirmDialog,\n  LockModal,\n  SetStandbyModeModal,\n  SetTSCanCredentialsModal,\n} from './EngineDialogs'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const { record: engine } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.show')}: {engine?.id}. {engine?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: engine } = useShowContext<EngineDto>()\n  const [lockModalOpen, setLockModalOpen] = useState(false)\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const [standbyModeModalOpen, setStandbyModeModalOpen] = useState(false)\n  const [\n    removeTSCanCredentialsDialogOpen,\n    setRemoveTSCanCredentialsDialogOpen,\n  ] = useState(false)\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] =\n    useState(false)\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const hasAuthority = useHasAuthority()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  const handleSetStandbyModeDialog = () => {\n    setStandbyModeModalOpen(true)\n  }\n\n  const handleLock = async () => {\n    setUnlockDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('unlock'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleLockDialog = () => {\n    if (engine?.disabled) setUnlockDialogOpen(true)\n    else setLockModalOpen(true)\n  }\n\n  return (\n    <>\n      <Divider />\n      <SetTSCanCredentialsModal\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <SetStandbyModeModal\n        open={standbyModeModalOpen}\n        close={() => setStandbyModeModalOpen(false)}\n      />\n      <LockModal open={lockModalOpen} close={() => setLockModalOpen(false)} />\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <Button\n          variant=\"contained\"\n          onClick={handleSetTSCanCredentialsDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n          label=\"resources.engines.actions.setTSCanCredentials\"\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleRemoveTSCanCredentialsDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n          label=\"resources.engines.actions.removeTSCanCredentials\"\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleSetStandbyModeDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n          label=\"resources.engines.actions.setStandbyMode\"\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleLockDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n          label={\n            engine?.disabled\n              ? 'resources.engines.actions.unlock'\n              : 'resources.engines.actions.lock'\n          }\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n        <EditButton\n          basePath={`/${ResourceName.ENGINES}`}\n          record={engine}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EngineTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useShowContext<EngineDto>()\n  const hasAuthority = useHasAuthority()\n\n  const EventsFilter = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterVerifierDeviceId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  const EntrancesFilter = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"note\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterVerifierDeviceId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.engines.tabs.general\">\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<EngineDto>\n          source=\"isWatched\"\n          render={(record?: EngineDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        <TextField source=\"address\" />\n        <FunctionField<EngineDto>\n          source=\"direction\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.deviceDirection.${record?.direction}`,\n              )}\n            </div>\n          )}\n        />\n        {engine?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {engine?.disabled && <TextField source=\"disabled\" />}\n        {engine?.stanbyMode && (\n          <FunctionField<EngineDto>\n            source=\"stanbyMode\"\n            render={(record?: EngineDto) => (\n              <div>\n                {translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n              </div>\n            )}\n          />\n        )}\n        <FunctionField<EngineDto>\n          source=\"onlineInfixCeck\"\n          render={(record?: EngineDto) => (\n            <div>\n              {record?.onlineInfixCeck\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <FunctionField<EngineDto>\n          source=\"multiplicity\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.multiplicities.${record?.multiplicity}`,\n              )}\n            </div>\n          )}\n        />\n        <FunctionField<EngineDto>\n          source=\"hardwareVersion\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab path=\"events\" label={translate('resources.engines.tabs.events')}>\n          <>\n            <RelationTab<EngineDto>\n              resource={ResourceName.EVENTS}\n              source=\"eventsIds\"\n              mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'}\n              attachMethod=\"attachEvents\"\n              detachMethod=\"detachEvents\"\n              attachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                eventsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                eventsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EventsFilter />}\n              filterDefaultValues={{\n                verifierDeviceId: engine?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <Tab\n          path=\"entrances\"\n          label={translate('resources.engines.tabs.entrances')}\n        >\n          <>\n            <RelationTab<EngineDto>\n              resource={ResourceName.ENTRANCES}\n              source=\"entrancesIds\"\n              mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n              attachMethod=\"attachEntrances\"\n              detachMethod=\"detachEntrances\"\n              attachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                entrancesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                entrancesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EntrancesFilter />}\n              filterDefaultValues={{\n                verifierDeviceId: engine?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"note\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const EngineShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EngineTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validatePalmCreate = (values: PalmDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.palms.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PalmCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validatePalmCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" />\n        <BooleanInput source=\"isWatched\" />\n        <SelectInput\n          source=\"direction\"\n          defaultValue={DeviceDirection.IN}\n          choices={Object.entries(DeviceDirection).map(([value]) => ({\n            id: value,\n            name: `resources.enums.deviceDirection.${value}`,\n          }))}\n        />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          defaultValue={Multiplicities.SINGLE}\n          choices={Object.entries(Multiplicities).map(([value]) => ({\n            id: value,\n            name: `resources.enums.multiplicities.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validatePalmEdit = (values: PalmDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst EditTitle = (data: PalmTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Palm = ({ ...props }) => {\n  const { record: palm } = useEditContext<PalmDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validatePalmEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <SelectInput\n        source=\"direction\"\n        choices={Object.entries(DeviceDirection).map(([value]) => ({\n          id: value,\n          name: `resources.enums.deviceDirection.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {palm?.disabled && <TextField source=\"disabled\" />}\n      <BooleanInput source=\"onlineInfixCeck\" />\n      <SelectInput\n        source=\"multiplicity\"\n        choices={Object.entries(Multiplicities).map(([value]) => ({\n          id: value,\n          name: `resources.enums.multiplicities.${value}`,\n        }))}\n      />\n      {palm?.mobileDeviceId && <TextField source=\"mobileDeviceId\" />}\n    </SimpleForm>\n  )\n}\n\nexport const PalmEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Palm />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst PalmFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <QuickFilter source=\"eventActive\" defaultValue />\n    </Filter>\n  )\n}\n\nconst PalmGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.PALMS}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {!smallScreen && <TextField source=\"disabled\" sortable={false} />}\n      {!smallScreen && <TextField source=\"mobileDeviceId\" sortable={false} />}\n    </Datagrid>\n  )\n}\n\nexport const PalmList = (props: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<PalmFilters />}\n  >\n    <PalmGrid />\n  </List>\n)\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'deviceId' | 'lock'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.palms.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const DeviceIdModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: palm } = useShowContext<PalmDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleSetMobileDeviceId = async () => {\n    setConfirmOpen(false)\n    if (value.replace(/\\s/g, '').length === 0) {\n      setError(true)\n      setErrorText(\n        translate('resources.palms.dialogs.deviceId.error-bad-string'),\n      )\n    } else if (value.replace(/\\s/g, '').length !== value.length) {\n      setError(true)\n      setErrorText(\n        translate('resources.palms.dialogs.deviceId.error-no-spaces'),\n      )\n    } else {\n      await mutate(\n        {\n          type: sanitizeFetchType('setMobileDeviceId'),\n          resource: ResourceName.PALMS,\n          payload: {\n            palmId: palm?.id,\n            mobileDeviceId: value,\n          },\n        },\n        { returnPromise: true },\n      )\n      setValue('')\n      setError(false)\n      setErrorText('')\n      refresh()\n      close()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetMobileDeviceId}\n        source=\"deviceId\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.deviceId.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const LockModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: palm } = useShowContext<PalmDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleLock = async () => {\n    setConfirmOpen(false)\n    if (value.replace(/\\s/g, '').length === 0) {\n      setError(true)\n      setErrorText(translate('resources.palms.dialogs.lock.error-bad-string'))\n    } else if (value.replace(/\\s/g, '').length !== value.length) {\n      setError(true)\n      setErrorText(translate('resources.palms.dialogs.lock.error-no-spaces'))\n    } else {\n      await mutate(\n        {\n          type: sanitizeFetchType('lock'),\n          resource: ResourceName.PALMS,\n          payload: {\n            palmId: palm?.id,\n            lockName: value,\n          },\n        },\n        { returnPromise: true },\n      )\n      handleClose()\n      refresh()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  EditButton,\n  Filter,\n  FunctionField,\n  ReferenceField,\n  sanitizeFetchType,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport FilterProps from '../../common/FilterProps'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { ConfirmDialog, DeviceIdModal, LockModal } from './PalmDialogs'\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst ShowTitle = (data: PalmTitleProps) => {\n  const { record: palm } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.show')}: {palm?.id}. {palm?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: palm } = useShowContext<PalmDto>()\n  const [deviceIdModalOpen, setDeviceIdModalOpen] = useState(false)\n  const [lockModalOpen, setLockModalOpen] = useState(false)\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const [resetIdDialogOpen, setResetIdDialogOpen] = useState(false)\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const hasAuthority = useHasAuthority()\n\n  const handleSetMobileDeviceId = async () => {\n    setResetIdDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('resetMobileDeviceId'),\n        resource: ResourceName.PALMS,\n        payload: {\n          palmId: palm?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleSetMobileDeviceIdDialog = () => {\n    if (palm?.mobileDeviceId) setResetIdDialogOpen(true)\n    else setDeviceIdModalOpen(true)\n  }\n\n  const handleLock = async () => {\n    setUnlockDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('unlock'),\n        resource: ResourceName.PALMS,\n        payload: {\n          palmId: palm?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleLockDialog = () => {\n    if (palm?.disabled) setUnlockDialogOpen(true)\n    else setLockModalOpen(true)\n  }\n\n  return (\n    <>\n      <Divider />\n      <DeviceIdModal\n        open={deviceIdModalOpen}\n        close={() => setDeviceIdModalOpen(false)}\n      />\n      <LockModal open={lockModalOpen} close={() => setLockModalOpen(false)} />\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <ConfirmDialog\n        open={resetIdDialogOpen}\n        confirm={handleSetMobileDeviceId}\n        source=\"deviceId\"\n        cancel={() => setResetIdDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          variant=\"contained\"\n          onClick={handleSetMobileDeviceIdDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n          label={\n            palm?.mobileDeviceId\n              ? 'resources.palms.actions.resetMobileDeviceId'\n              : 'resources.palms.actions.setMobileDeviceId'\n          }\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_PALMS)}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleLockDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n          label={\n            palm?.disabled\n              ? 'resources.palms.actions.unlock'\n              : 'resources.palms.actions.lock'\n          }\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_PALMS)}\n        />\n        <EditButton\n          basePath={`/${ResourceName.PALMS}`}\n          record={palm}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_PALMS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst PalmTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: palm } = useShowContext<PalmDto>()\n  const hasAuthority = useHasAuthority()\n\n  const EventsFilter = (filterProps?: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterVerifierDeviceId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  const EntrancesFilter = (filterProps?: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"note\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterVerifierDeviceId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.palms.tabs.general')}>\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<PalmDto>\n          source=\"isWatched\"\n          render={(record?: PalmDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        <FunctionField<PalmDto>\n          source=\"direction\"\n          render={(record?: PalmDto) => (\n            <div>\n              {translate(\n                `resources.enums.deviceDirection.${record?.direction}`,\n              )}\n            </div>\n          )}\n        />\n        {palm?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {palm?.disabled && <TextField source=\"disabled\" />}\n        <FunctionField<PalmDto>\n          source=\"onlineInfixCeck\"\n          render={(record?: PalmDto) => (\n            <div>\n              {record?.onlineInfixCeck\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <FunctionField<PalmDto>\n          source=\"multiplicity\"\n          render={(record?: PalmDto) => (\n            <div>\n              {translate(\n                `resources.enums.multiplicities.${record?.multiplicity}`,\n              )}\n            </div>\n          )}\n        />\n        {palm?.mobileDeviceId && <TextField source=\"mobileDeviceId\" />}\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab path=\"events\" label={translate('resources.engines.tabs.events')}>\n          <>\n            <RelationTab<PalmDto>\n              resource={ResourceName.EVENTS}\n              source=\"eventsIds\"\n              mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'}\n              attachMethod=\"attachEvents\"\n              detachMethod=\"detachEvents\"\n              attachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                eventsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                eventsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EventsFilter />}\n              filterDefaultValues={{\n                verifierDeviceId: palm?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <Tab\n          path=\"entrances\"\n          label={translate('resources.engines.tabs.entrances')}\n        >\n          <>\n            <RelationTab<PalmDto>\n              resource={ResourceName.ENTRANCES}\n              source=\"entrancesIds\"\n              mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n              attachMethod=\"attachEntrances\"\n              detachMethod=\"detachEntrances\"\n              attachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                entrancesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                entrancesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EntrancesFilter />}\n              filterDefaultValues={{\n                verifierDeviceId: palm?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"note\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const PalmShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PalmTabs />\n  </Show>\n)\n","import { Box, Grid } from '@material-ui/core'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Labeled,\n  SelectInput,\n  TextField,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useField } from 'react-final-form'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { SPOM4Directions } from '../../../core/enum/SPOM4Directions'\nimport { ResourceName } from '../../../core/ResourceName'\n\nexport const SPOM4FullAddressField = ({\n  source,\n  record,\n}: {\n  source: keyof PassageDto\n  record?: PassageDto\n}) => {\n  const translate = useTranslate()\n  const addressParts = (record && (record[source] as string))?.split('&')\n\n  return (\n    <Box>\n      <Grid container direction=\"column\">\n        {addressParts && addressParts[0] && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_ipGate\">\n              <TextField emptyText={addressParts[0]} />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[1] && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_tscanHost\">\n              <TextField emptyText={addressParts[1]} />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[2] && addressParts[2] in SPOM4Directions && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_direction\">\n              <TextField\n                emptyText={translate(\n                  `resources.enums.spom4Directions.${addressParts[2]}`,\n                )}\n              />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[3] && (\n          <Grid item>\n            <Labeled\n              resource={ResourceName.PASSAGES}\n              source=\"spom4_rs485Address\"\n            >\n              <TextField emptyText={addressParts[3]} />\n            </Labeled>\n          </Grid>\n        )}\n      </Grid>\n    </Box>\n  )\n}\n\nexport const SPOM4IpGateAddressField = ({\n  source,\n  record,\n}: {\n  source: keyof PassageDto\n  record?: PassageDto\n}) => {\n  const addressParts = (record && (record[source] as string))?.split('&')\n\n  return (\n    <TextField\n      source=\"spom4_ipGate\"\n      emptyText={addressParts && addressParts[0]}\n    />\n  )\n}\n\nexport const SPOM4FullAddressInput = ({\n  ...props\n}: SPOM4FullAddressInputProps) => {\n  const { source, record } = props\n  const {\n    input: { onChange },\n  } = useField(source)\n\n  const initialAddressParts = (record && (record[source] as string))?.split('&')\n  const [ipGate, setIpGate] = useState(\n    initialAddressParts && initialAddressParts[0] ? initialAddressParts[0] : '',\n  )\n  const [tscanHost, setTScanHost] = useState(\n    initialAddressParts && initialAddressParts[1] ? initialAddressParts[1] : '',\n  )\n  const [direction, setDirection] = useState(\n    initialAddressParts && initialAddressParts[2] ? initialAddressParts[2] : '',\n  )\n  const [rs485Address, setRS485Address] = useState(\n    initialAddressParts && initialAddressParts[3] ? initialAddressParts[3] : '',\n  )\n  const getFinalValue = useCallback(\n    () => `${ipGate}&${tscanHost}&${direction}&${rs485Address}`,\n    [ipGate, tscanHost, direction, rs485Address],\n  )\n\n  useEffect(() => {\n    onChange({ target: { value: getFinalValue() } })\n  }, [getFinalValue, onChange])\n\n  return (\n    <Box>\n      <Grid container direction=\"column\">\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_ipGate\"\n            defaultValue={ipGate}\n            value={ipGate}\n            onChange={(e) => {\n              setIpGate(e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_tscanHost\"\n            defaultValue={tscanHost}\n            value={tscanHost}\n            onChange={(e) => {\n              setTScanHost(e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <SelectInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_direction\"\n            defaultValue={direction}\n            value={direction}\n            onChange={(e) => setDirection(e.target.value)}\n            choices={Object.entries(SPOM4Directions).map(([value]) => ({\n              id: value,\n              name: `resources.enums.spom4Directions.${value}`,\n            }))}\n          />\n        </Grid>\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_rs485Address\"\n            defaultValue={rs485Address}\n            value={rs485Address}\n            onChange={(e) => {\n              setRS485Address(e.target.value)\n            }}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n}\n\nexport interface SPOM4FullAddressInputProps {\n  source: keyof PassageDto\n  record?: PassageDto\n}\n","export enum DeviceModuleTypes {\n  IO_GP = 4, // IOStatusDto\n  IO_KA = 8, // TurnstileDto\n  IO_GT = 12, // TurnstileDto\n  IO_GA = 16, // TurnstileDto\n  LITE = 20, // LiteDto\n  SCANNER_DS = 24, // ReaderDto\n  LED_19X7 = 44, // PresenterDto\n  LCD_7 = 48, // PresenterDto\n  IO_16 = 52, // IOStatusDto\n  LED_8X8 = 60, // PresenterDto\n  BUZZER = 64, // PresenterDto\n  LCD_TXT = 76, // PresenterDto\n  LITE_MOBILE = 84, // LiteDto\n  SENSOR = 96, // SensorDto\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4FullAddressInput } from './SPOM4Address'\n\nconst validatePassageCreate = (values: PassageDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (values.hardwareVersion === HardwareVersions.SPOM4) {\n    const addressParts = values.address?.split('&')\n    if (!addressParts?.[0]) {\n      errors.spom4_ipGate = 'ra.validation.required'\n    }\n    if (!addressParts?.[1]) {\n      errors.spom4_tscanHost = 'ra.validation.required'\n    }\n    if (!addressParts?.[2]) {\n      errors.spom4_direction = 'ra.validation.required'\n    }\n    if (!addressParts?.[3]) {\n      errors.spom4_rs485Address = 'ra.validation.required'\n    }\n  } else if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.freeEntrancesCount)))\n    errors.freeEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.freeExitsCount)))\n    errors.freeExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketEntrancesCount)))\n    errors.ticketEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketExitsCount)))\n    errors.ticketExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedEntrancesCount)))\n    errors.unauthorizedEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedExitsCount)))\n    errors.unauthorizedExitsCount = 'ra.validation.not_numeric'\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.passages.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PassageCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const { record: passage } = props\n  const [hardwareVersion, setHardwareVersion] = useState(\n    passage?.hardwareVersion\n      ? passage?.hardwareVersion\n      : HardwareVersions.MODULO5,\n  )\n\n  const defaultValues = {\n    hardwareVersion: HardwareVersions.MODULO5,\n  }\n\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validatePassageCreate}\n        toolbar={<CreateToolbar />}\n        initialValues={defaultValues}\n      >\n        <TextInput source=\"name\" />\n        <BooleanInput source=\"isWatched\" />\n        {hardwareVersion === HardwareVersions.SPOM4 ? (\n          <SPOM4FullAddressInput source=\"address\" />\n        ) : (\n          <TextInput source=\"address\" />\n        )}\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <TextInput source=\"freeEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"freeExitsCount\" defaultValue={0} />\n        <TextInput source=\"ticketEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"ticketExitsCount\" defaultValue={0} />\n        <TextInput source=\"unauthorizedEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"unauthorizedExitsCount\" defaultValue={0} />\n        <SelectInput\n          value={hardwareVersion}\n          onChange={(e) => setHardwareVersion(e.target.value)}\n          source=\"hardwareVersion\"\n          choices={Object.entries(HardwareVersions).map(([value]) => ({\n            id: value,\n            name: `resources.enums.hardwareVersions.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4FullAddressInput } from './SPOM4Address'\n\nconst validatePassageEdit = (values: PassageDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (values.hardwareVersion === HardwareVersions.SPOM4) {\n    const addressParts = values.address?.split('&')\n    if (!addressParts?.[0]) {\n      errors.spom4_ipGate = 'ra.validation.required'\n    }\n    if (!addressParts?.[1]) {\n      errors.spom4_tscanHost = 'ra.validation.required'\n    }\n    if (!addressParts?.[2]) {\n      errors.spom4_direction = 'ra.validation.required'\n    }\n    if (!addressParts?.[3]) {\n      errors.spom4_rs485Address = 'ra.validation.required'\n    }\n  } else if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.freeEntrancesCount)))\n    errors.freeEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.freeExitsCount)))\n    errors.freeExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketEntrancesCount)))\n    errors.ticketEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketExitsCount)))\n    errors.ticketExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedEntrancesCount)))\n    errors.unauthorizedEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedExitsCount)))\n    errors.unauthorizedExitsCount = 'ra.validation.not_numeric'\n  return errors\n}\n\ninterface PassageTitleProps extends TitleProps {\n  record?: PassageDto\n}\n\nconst EditTitle = (props: PassageTitleProps) => {\n  const { record: passage } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.passages.titles.edit')}: {passage?.id}.{' '}\n      {passage?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Passage = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const { record: passage } = props\n  const [hardwareVersion, setHardwareVersion] = useState(\n    passage.hardwareVersion,\n  )\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validatePassageEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      {hardwareVersion === HardwareVersions.SPOM4 ? (\n        <SPOM4FullAddressInput source=\"address\" />\n      ) : (\n        <TextInput source=\"address\" />\n      )}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <TextInput source=\"freeEntrancesCount\" />\n      <TextInput source=\"freeExitsCount\" />\n      <TextInput source=\"ticketEntrancesCount\" />\n      <TextInput source=\"ticketExitsCount\" />\n      <TextInput source=\"unauthorizedEntrancesCount\" />\n      <TextInput source=\"unauthorizedExitsCount\" />\n      <SelectInput\n        value={hardwareVersion}\n        onChange={(e) => setHardwareVersion(e.target.value)}\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const PassageEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Passage />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FunctionField,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  SelectInput,\n  TextField,\n  TextInput,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4IpGateAddressField } from './SPOM4Address'\n\nconst PassageFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </Filter>\n  )\n}\n\nconst PassagesGrid = ({ ...props }) => {\n  const { loading } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.PASSAGES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {!smallScreen && (\n        <FunctionField<PassageDto>\n          source=\"address\"\n          render={(record?: PassageDto) =>\n            record?.hardwareVersion === HardwareVersions.SPOM4 ? (\n              <SPOM4IpGateAddressField source=\"address\" record={record} />\n            ) : (\n              <TextField source=\"address\" />\n            )\n          }\n        />\n      )}\n      {!smallScreen && (\n        <FunctionField<PassageDto>\n          source=\"hardwareVersion\"\n          render={(record?: PassageDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const PassagesList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<PassageFilters />}\n    sort={{\n      field: 'id',\n      order: 'DESC',\n    }}\n    bulkActionButtons={false}\n  >\n    <PassagesGrid />\n  </List>\n)\n","import { Identifier } from 'ra-core'\nimport { IOStatusDto } from '../../../dto/device/common/modules/io-status.dto'\nimport { LiteDto } from '../../../dto/device/common/modules/lite.dto'\nimport { ModuleBaseDto } from '../../../dto/device/common/modules/module-base.dto'\nimport { PresenterDto } from '../../../dto/device/common/modules/presenter.dto'\nimport { ReaderDto } from '../../../dto/device/common/modules/reader.dto'\nimport { SensorDto } from '../../../dto/device/common/modules/sensor.dto'\nimport { TurnstileDto } from '../../../dto/device/common/modules/turnstile.dto'\nimport { DeviceModuleTypes } from '../../../enum/device-modues/DeviceModuleTypes'\n\nconst mapping: Record<DeviceModuleTypes, (moduleObject: any) => ModuleBaseDto> =\n  {\n    '4': (moduleObject) => moduleObject as IOStatusDto,\n    '8': (moduleObject) => moduleObject as TurnstileDto,\n    '12': (moduleObject) => moduleObject as TurnstileDto,\n    '16': (moduleObject) => moduleObject as TurnstileDto,\n    '20': (moduleObject) => moduleObject as LiteDto,\n    '24': (moduleObject) => moduleObject as ReaderDto,\n    '44': (moduleObject) => moduleObject as PresenterDto,\n    '48': (moduleObject) => moduleObject as PresenterDto,\n    '52': (moduleObject) => moduleObject as IOStatusDto,\n    '60': (moduleObject) => moduleObject as PresenterDto,\n    '64': (moduleObject) => moduleObject as PresenterDto,\n    '76': (moduleObject) => moduleObject as PresenterDto,\n    '84': (moduleObject) => moduleObject as LiteDto,\n    '96': (moduleObject) => moduleObject as SensorDto,\n  }\n\nconst moduleMapper = (moduleObject: any, key: Identifier) => {\n  const moduleType = Number(moduleObject?.module?.typeId)\n  const moduleTypeEnum = Object.entries(DeviceModuleTypes).filter(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ([index, value]) => value === moduleType,\n  )?.[0]?.[1] as DeviceModuleTypes\n  if (!moduleTypeEnum) {\n    return null\n  }\n  const moduleObjectWithId = { id: key, ...moduleObject }\n  return mapping[moduleTypeEnum](moduleObjectWithId)\n}\n\nexport default moduleMapper\n","import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Box,\n  Checkbox,\n  Divider,\n  Grid,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport camelcaseKeys from 'camelcase-keys'\nimport React, { ReactNode } from 'react'\nimport {\n  BooleanField,\n  DateField,\n  FunctionField,\n  Labeled,\n  RecordContextProvider,\n  SimpleShowLayout,\n  TextField,\n  useTranslate,\n} from 'react-admin'\nimport { getContrastColor } from '../../../../core/common/visual.utils'\nimport moduleMapper from '../../../../core/devices/common/modules/module.mapper'\nimport { IOStatusDto } from '../../../../core/dto/device/common/modules/io-status.dto'\nimport { LiteDto } from '../../../../core/dto/device/common/modules/lite.dto'\nimport { ModuleBaseDto } from '../../../../core/dto/device/common/modules/module-base.dto'\nimport { PresenterDto } from '../../../../core/dto/device/common/modules/presenter.dto'\nimport { ReaderDto } from '../../../../core/dto/device/common/modules/reader.dto'\nimport { SensorDto } from '../../../../core/dto/device/common/modules/sensor.dto'\nimport { TurnstileDto } from '../../../../core/dto/device/common/modules/turnstile.dto'\nimport { PinStates } from '../../../../core/enum/device-modues/PinStates'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  simpleShowLayoutWithNoPadding: {\n    paddingBottom: 0,\n    '&:first-child': {\n      paddingTop: 0,\n    },\n    '&:last-child': {\n      paddingBottom: 0,\n      [theme.breakpoints.only('xs')]: {\n        paddingBottom: 0,\n      },\n    },\n  },\n  terminatedModuleHeader: {\n    borderTop: 'solid',\n    borderRight: 'solid',\n    borderLeft: 'solid',\n    borderTopRightRadius: 5,\n    borderTopLeftRadius: 5,\n    backgroundColor: theme.palette.error.main,\n    borderTopColor: theme.palette.error.main,\n    borderRightColor: theme.palette.error.main,\n    borderLeftColor: theme.palette.error.main,\n  },\n  terminatedModuleDetails: {\n    borderBottom: 'solid',\n    borderRight: 'solid',\n    borderLeft: 'solid',\n    borderBottomRightRadius: 5,\n    borderBottomLeftRadius: 5,\n    borderBottomColor: theme.palette.error.main,\n    borderRightColor: theme.palette.error.main,\n    borderLeftColor: theme.palette.error.main,\n  },\n}))\n\nconst ModuleStatusBase = (props: ModuleBaseStatusProps) => {\n  const translate = useTranslate()\n  const classes = useStyles()\n  const { moduleInfo, disableAliasHeader, children } = props\n  const convertedSerialNumber = Number(\n    moduleInfo.identity.serialNumber,\n  ).toString(16)\n  const originalProductionVersion = Number(\n    moduleInfo.identity.version.productionVersion,\n  )\n  /* eslint-disable no-bitwise */\n  const convertedProductionVersion = `${\n    (originalProductionVersion >> 8) & 0xff\n  }.${originalProductionVersion & 0xff}`\n  const convertedModuleInfo = {\n    ...moduleInfo,\n    identity: {\n      ...moduleInfo.identity,\n      serialNumber: convertedSerialNumber,\n      version: {\n        ...moduleInfo.identity.version,\n        productionVersion: convertedProductionVersion,\n      },\n    },\n  }\n  const Body = ({ ...childrenProps }) => (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"space-around\"\n      alignItems=\"flex-start\"\n    >\n      {children !== undefined &&\n        children.map((child, index) => {\n          if (child !== false) {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <Grid item key={index} md={2} sm={4} xs={12}>\n                <RecordContextProvider value={convertedModuleInfo}>\n                  {child}\n                </RecordContextProvider>\n              </Grid>\n            )\n          }\n          return undefined\n        })}\n      <Grid item key=\"base-module-divider\" xs={12}>\n        <Divider />\n      </Grid>\n      <Grid item key=\"base-module-typeId\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<ModuleBaseDto>\n            source=\"module.typeId\"\n            render={(record?: ModuleBaseDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.deviceModuleTypes.${record?.module?.typeId}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-address\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"module.address\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-lastRefresh\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <DateField\n            source=\"lastRefresh\"\n            showTime\n            options={{\n              day: '2-digit',\n              month: '2-digit',\n              year: 'numeric',\n              hour: '2-digit',\n              minute: '2-digit',\n              second: '2-digit',\n            }}\n          />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-serialNumber\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"identity.serialNumber\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-productionVersion\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"identity.version.productionVersion\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-develVersion\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"identity.version.develVersion\" />\n        </SimpleShowLayout>\n      </Grid>\n    </Grid>\n  )\n\n  return (\n    <RecordContextProvider value={convertedModuleInfo}>\n      <SimpleShowLayout resource=\"modules\">\n        {!disableAliasHeader && (\n          <>\n            <Box marginBottom={1}>\n              <TextField variant=\"h6\" source=\"module.alias\" />\n            </Box>\n          </>\n        )}\n        <Body />\n      </SimpleShowLayout>\n    </RecordContextProvider>\n  )\n}\n\nconst ModuleStatus = (props: ModuleStatusProps) => {\n  const { moduleInfo } = props\n  const translate = useTranslate()\n  const classes = useStyles()\n\n  return (\n    <ModuleStatusBase {...props}>\n      {/* IOStatusDto */}\n      {(moduleInfo as IOStatusDto)?.fireAlarms !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <Labeled source=\"fireAlarms.title\">\n            <>\n              <TableContainer component={Paper}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\">\n                        {translate('resources.modules.fields.fireAlarms.zone')}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        {translate('resources.modules.fields.fireAlarms.state')}\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {((moduleInfo as IOStatusDto)?.fireAlarms as boolean[]).map(\n                      (value, index) => (\n                        // eslint-disable-next-line react/no-array-index-key\n                        <TableRow key={index}>\n                          <TableCell align=\"center\">\n                            {(index + 1).toString()}\n                          </TableCell>\n                          <TableCell align=\"center\">\n                            <Checkbox style={{ padding: 0 }} checked={value} />\n                          </TableCell>\n                        </TableRow>\n                      ),\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as IOStatusDto)?.allPortsStates !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <Labeled source=\"allPortsStates.title\">\n            <>\n              <TableContainer component={Paper}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\">\n                        {translate(\n                          'resources.modules.fields.allPortsStates.pin',\n                        )}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        {translate(\n                          'resources.modules.fields.allPortsStates.state',\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {(\n                      (moduleInfo as IOStatusDto)?.allPortsStates as PinStates[]\n                    ).map((value, index) => (\n                      // eslint-disable-next-line react/no-array-index-key\n                      <TableRow key={index}>\n                        <TableCell align=\"center\">\n                          {(index + 1).toString()}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <Typography>\n                            {translate(\n                              `resources.enums.module.pinStates.${value}`,\n                            )}\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n\n      {/* TurnstileDto */}\n      {(moduleInfo as TurnstileDto)?.forwardStatus !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"forwardStatus\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileStatuses.${record?.forwardStatus}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.backwardStatus !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"backwardStatus\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileStatuses.${record?.forwardStatus}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.fireAlarm !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"fireAlarm\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.fireAlarmType !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"fireAlarmType\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileInputTypes.${record?.fireAlarmType}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.powerTurnedOn !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"powerTurnedOn\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.freePassForward !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"freePassForward\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.freePassBackward !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"freePassBackward\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.keyLock !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"keyLock\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.keyLockStatuses.${record?.keyLock}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.tamperLock !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"tamperLock\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.directionReversed !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"directionReversed\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.turnstileControllerError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"turnstileControllerError\" />\n        </SimpleShowLayout>\n      )}\n\n      {/* LiteDto */}\n      {(moduleInfo as LiteDto)?.ledsColor !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <Labeled source=\"ledsColor\">\n            <>\n              <Box\n                p={1}\n                borderRadius={10}\n                color={\n                  (moduleInfo as LiteDto)?.ledsColor &&\n                  Number((moduleInfo as LiteDto).ledsColor) > 0\n                    ? getContrastColor(\n                        `#${(moduleInfo as LiteDto)?.ledsColor?.toString(16)}`,\n                      )\n                    : '#ffffff'\n                }\n                bgcolor={\n                  (moduleInfo as LiteDto)?.ledsColor &&\n                  Number((moduleInfo as LiteDto).ledsColor) > 0\n                    ? `#${(moduleInfo as LiteDto)?.ledsColor?.toString(16)}`\n                    : '#000000'\n                }\n              >\n                <Typography>\n                  #{(moduleInfo as LiteDto).ledsColor?.toString(16)}\n                </Typography>\n              </Box>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n\n      {/* ReaderDto */}\n      {(moduleInfo as ReaderDto)?.isPresenterActive !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"isPresenterActive\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.standbyMode !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<ReaderDto>\n            source=\"standbyMode\"\n            render={(record?: ReaderDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.stanbyModeNumeric.${record?.standbyMode}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.sensorId !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<ReaderDto>\n            source=\"sensorId\"\n            render={(record?: ReaderDto) => (\n              <Typography>{record?.sensorId?.toString(16)}</Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.scannerError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.scannerError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.mifareError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.mifareError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.flashError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.flashError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.sdCardError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.sdCardError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.licenceError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.licenceError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.scannerFirmwareError !==\n        undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.scannerFirmwareError\" />\n        </SimpleShowLayout>\n      )}\n\n      {/* PresenterDto */}\n      {(moduleInfo as PresenterDto)?.contentType !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<PresenterDto>\n            source=\"contentType\"\n            render={(record?: PresenterDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.contentTypes.${record?.contentType}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as PresenterDto)?.contentNumber !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"contentNumber\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as PresenterDto)?.contrast !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<PresenterDto>\n            source=\"contrast\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"contrast\" />\n                <Typography>%</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n\n      {/* SensorDto */}\n      {(moduleInfo as SensorDto)?.temperature !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"temperature\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"temperature\" />\n                <Typography>&deg;C</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.humidity !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"humidity\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"humidity\" />\n                <Typography>%</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.move !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"move\"\n            render={(record?: SensorDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.moveSensorStatuses.${record?.move}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.light !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"light\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.lightLevels.${record?.light}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.fan !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"fan\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.fanHeaterStatuses.${record?.fan}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.heater !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"heater\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.fanHeaterStatuses.${record?.heater}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.moveSensorTimeout !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"moveSensorTimeout\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"moveSensorTimeout\" />\n                <Typography>s</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n    </ModuleStatusBase>\n  )\n}\n\nconst MultiModuleStatus = (props: MultiModuleStatusProps) => {\n  const classes = useStyles()\n  const { moduleInfo } = props\n\n  return (\n    <>\n      {moduleInfo.map((record) => (\n        <Accordion key={record.id}>\n          <AccordionSummary\n            expandIcon={<ExpandMoreIcon />}\n            className={\n              new Date(record.lastRefresh).valueOf() < Date.now() - 90000\n                ? classes.terminatedModuleHeader\n                : ''\n            }\n          >\n            <RecordContextProvider value={record}>\n              <TextField variant=\"h6\" source=\"module.alias\" />\n            </RecordContextProvider>\n          </AccordionSummary>\n          <AccordionDetails\n            className={\n              new Date(record.lastRefresh).valueOf() < Date.now() - 90000\n                ? classes.terminatedModuleDetails\n                : ''\n            }\n          >\n            <ModuleStatus moduleInfo={record} disableAliasHeader />\n          </AccordionDetails>\n        </Accordion>\n      ))}\n    </>\n  )\n}\n\nconst DeviceStatusesTab = (props: StatusTabProps) => {\n  const { jsonStatus: rawJsonStatus } = props\n  const jsonStatus = JSON.parse(rawJsonStatus) as Array<any>\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const modules = Object.entries(jsonStatus).map(([key, value]) =>\n    moduleMapper(camelcaseKeys(value, { deep: true }), key),\n  )\n\n  return (\n    <MultiModuleStatus\n      moduleInfo={modules\n        .filter((m) => m != null)\n        .map((m) => m as ModuleBaseDto)}\n    />\n  )\n}\n\ninterface ModuleBaseStatusProps {\n  readonly moduleInfo: ModuleBaseDto\n  readonly disableAliasHeader?: boolean\n  readonly children?: ReactNode[]\n}\n\ninterface ModuleStatusProps {\n  readonly moduleInfo: ModuleBaseDto\n  readonly disableAliasHeader?: boolean\n}\n\ninterface MultiModuleStatusProps {\n  readonly moduleInfo: ModuleBaseDto[]\n}\n\ninterface StatusTabProps {\n  readonly jsonStatus: any\n}\n\nexport { ModuleStatus, MultiModuleStatus, DeviceStatusesTab }\n","import {\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  makeStyles,\n  Theme,\n  createStyles,\n  DialogContent,\n  TextField,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  useTranslate,\n  useShowContext,\n  useMutation,\n  useRefresh,\n  sanitizeFetchType,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: string\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.passages.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: passage } = useShowContext<PassageDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.PASSAGES,\n          payload: {\n            passageId: passage?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.passages.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.passages.dialogs.setTSCanCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.passages.dialogs.setTSCanCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { Box, createStyles, Divider, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  sanitizeFetchType,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\nimport { ConfirmDialog, SetTSCanCredentialsModal } from './PassageDialogs'\nimport { SPOM4FullAddressField } from './SPOM4Address'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    generalActions: {\n      margin: '2px',\n    },\n  }),\n)\n\ninterface PassageTitleProps extends TitleProps {\n  record?: PassageDto\n}\n\nconst ShowTitle = (data: PassageTitleProps) => {\n  const { record: passage } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.passages.titles.show')}: {passage?.id}.{' '}\n      {passage?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: passage, basePath } = useShowContext<PassageDto>()\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] =\n    useState(false)\n  const [\n    removeTSCanCredentialsDialogOpen,\n    setRemoveTSCanCredentialsDialogOpen,\n  ] = useState(false)\n  const hasAuthority = useHasAuthority()\n  const classes = useStyles()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.PASSAGES,\n        payload: {\n          passageId: passage?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  return (\n    <>\n      <Divider />\n      <SetTSCanCredentialsModal\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <Button\n          className={classes.generalActions}\n          variant=\"contained\"\n          onClick={handleSetTSCanCredentialsDialog}\n          color=\"primary\"\n          label=\"resources.passages.actions.setTSCanCredentials\"\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_PASSAGES)}\n        />\n        <Button\n          className={classes.generalActions}\n          variant=\"contained\"\n          onClick={handleRemoveTSCanCredentialsDialog}\n          color=\"primary\"\n          label=\"resources.passages.actions.removeTSCanCredentials\"\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_PASSAGES)}\n        />\n        <EditButton\n          className={classes.generalActions}\n          basePath={basePath}\n          record={passage}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_PASSAGES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst CountersActions = () => {\n  const { record: passage } = useShowContext<PassageDto>()\n  const [countersModalOpen, setCountersModalOpen] = useState(false)\n  const hasAuthority = useHasAuthority()\n  const classes = useStyles()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n\n  const countersEmpty = () =>\n    (!passage?.freeEntrancesCount || passage.freeEntrancesCount === 0) &&\n    (!passage?.freeExitsCount || passage.freeExitsCount === 0) &&\n    (!passage?.ticketEntrancesCount || passage.ticketEntrancesCount === 0) &&\n    (!passage?.ticketExitsCount || passage.ticketExitsCount === 0) &&\n    (!passage?.unauthorizedEntrancesCount ||\n      passage.unauthorizedEntrancesCount === 0) &&\n    (!passage?.unauthorizedExitsCount || passage.unauthorizedExitsCount === 0)\n\n  const handleResetCounters = async () => {\n    setCountersModalOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('resetCounters'),\n        resource: ResourceName.PASSAGES,\n        payload: {\n          passageId: passage?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleResetCountersDialog = () => {\n    setCountersModalOpen(true)\n  }\n\n  return (\n    <>\n      <Divider />\n      <ConfirmDialog\n        open={countersModalOpen}\n        confirm={handleResetCounters}\n        source=\"setTSCanCredentials\"\n        cancel={() => setCountersModalOpen(false)}\n        action=\"remove\"\n      />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <Button\n          className={classes.generalActions}\n          variant=\"contained\"\n          onClick={handleResetCountersDialog}\n          color=\"primary\"\n          label=\"resources.passages.actions.resetCounters\"\n          useSmallVersionBreakpoint={false}\n          disabled={!hasAuthority(Authority.EDIT_PASSAGES) || countersEmpty()}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst CountersTab = ({ ...props }) => (\n  <SimpleShowLayout {...props}>\n    <TextField source=\"freeEntrancesCount\" />\n    <TextField source=\"freeExitsCount\" />\n    <TextField source=\"ticketEntrancesCount\" />\n    <TextField source=\"ticketExitsCount\" />\n    <TextField source=\"unauthorizedEntrancesCount\" />\n    <TextField source=\"unauthorizedExitsCount\" />\n    <CountersActions />\n  </SimpleShowLayout>\n)\n\n// const Statuses = ({ ...props }) => {\n//   const { record: passage } = props\n//   const jsonStatus = JSON.parse(passage.jsonStatus) as Array<any>\n//   // eslint-disable-next-line @typescript-eslint/no-unused-vars\n//   const modules = Object.entries(jsonStatus).map(([key, value]) =>\n//     moduleMapper(camelcaseKeys(value, { deep: true }), key),\n//   )\n\n//   return <MultiModuleStatus moduleInfo={modules} />\n\n// const handleFireAlarm = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setPPOZState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         ppozState: !jsonStatus?.FireAlarm,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handlePower = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setPowerState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         powerState: !jsonStatus?.PowerTurnedOn,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handleFreePassForward = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setFreePassState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         freePassState: !jsonStatus?.FreePassForward,\n//         direction: DeviceDirection.IN,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handleFreePassBackward = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setFreePassState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         freePassState: !jsonStatus?.FreePassBackward,\n//         direction: DeviceDirection.IN,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handleLockState = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setLockState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         lockState: !jsonStatus?.TamperLock,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// return (\n//   <TableContainer>\n//     <Table>\n//       <TableHead>\n//         <TableRow>\n//           <TableCell>{jsonStatus?.Module?.Alias}</TableCell>\n//           <TableCell />\n//         </TableRow>\n//       </TableHead>\n//       <TableBody>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.forwardStatus')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>{jsonStatus?.ForwardStatus}</Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.backwardStatus')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>{jsonStatus?.BackwardStatus}</Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.fireAlarm')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.FireAlarm}\n//               onChange={handleFireAlarm}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.powerTurnedOn')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.PowerTurnedOn}\n//               onChange={handlePower}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.freePassForward')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.FreePassForward}\n//               onChange={handleFreePassForward}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.freePassBackward')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.FreePassBackward}\n//               onChange={handleFreePassBackward}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.keyLock')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>{jsonStatus?.KeyLock}</Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.tamperLock')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.TamperLock}\n//               onChange={handleLockState}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate(\n//                 'resources.passages.fields.turnstileControllerError',\n//               )}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>\n//               {jsonStatus?.TurnstileControllerError ? 'error' : 'ok'}\n//             </Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.lastRefresh')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>\n//               <DateField record={jsonStatus} source=\"LastRefresh\" />\n//             </Typography>\n//           </TableCell>\n//         </TableRow>\n//       </TableBody>\n//     </Table>\n//   </TableContainer>\n// )\n// }\n\nconst PassageTabs = ({ ...props }) => {\n  const { record: passage } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.passages.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <FunctionField<PassageDto>\n          source=\"isWatched\"\n          render={(record?: PassageDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        {passage?.hardwareVersion === HardwareVersions.SPOM4 ? (\n          <SPOM4FullAddressField source=\"address\" />\n        ) : (\n          <TextField source=\"address\" />\n        )}\n        {passage?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        <FunctionField<PassageDto>\n          source=\"hardwareVersion\"\n          render={(record?: PassageDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      <Tab label=\"resources.passages.tabs.counters\" path=\"counters\">\n        <CountersTab />\n      </Tab>\n      {passage?.jsonStatus && (\n        <Tab label=\"resources.passages.tabs.statuses\" path=\"statuses\">\n          <DeviceStatusesTab jsonStatus={passage.jsonStatus} />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const PassageShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PassageTabs />\n  </Show>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\n\nconst validateEntranceCreate = (values: EntranceDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.note) {\n    errors.note = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.entrances.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EntranceCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateEntranceCreate}\n    >\n      <TextInput source=\"note\" />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  TitleProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ShowButton,\n  TextField,\n} from 'react-admin'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\n\nconst validateEntranceEdit = (values: EntranceDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.note) {\n    errors.note = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EntranceTitleProps extends TitleProps {\n  record?: EntranceDto\n}\n\nconst EditTitle = (data: EntranceTitleProps) => {\n  const { record: entrance } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.entrances.titles.edit')}: {entrance?.id}.{' '}\n      {entrance?.note}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EntranceEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateEntranceEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"note\" />\n    </SimpleForm>\n  </Edit>\n)\n","import React from 'react'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  Datagrid,\n  Filter,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\n\nconst EntranceFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"note\" alwaysOn />\n  </Filter>\n)\n\nexport const EntranceList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    filters={<EntranceFilters />}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    bulkActionButtons={false}\n  >\n    <Datagrid\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.ENTRANCES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"note\" />\n    </Datagrid>\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  ShowProps,\n  Show,\n  TitleProps,\n  useTranslate,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  Filter,\n  TextInput,\n  BooleanInput,\n  EditButton,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport FilterProps from '../../common/FilterProps'\n\ninterface EntranceTitleProps extends TitleProps {\n  record?: EntranceDto\n}\n\nconst ShowTitle = (props: EntranceTitleProps) => {\n  const translate = useTranslate()\n  const { record: entrance } = props\n  return (\n    <span>\n      {translate('resources.entrances.titles.show')}: {entrance?.id}.{' '}\n      {entrance?.note}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: entrance } = useShowContext<EntranceDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <EditButton\n          variant=\"contained\"\n          basePath=\"/entrances\"\n          record={entrance}\n          disabled={!hasAuthority(Authority.EDIT_ENTRANCES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EntranceTabs = ({ ...props }) => {\n  const { record: entrance } = props\n  const hasAuthority = useHasAuthority()\n\n  const DevicesFilters = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterEntranceId\"\n        alwaysOn\n      />\n      <TextInput source=\"categoryId\" />\n    </Filter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.entrances.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"note\" />\n        <GeneralActions />\n      </Tab>\n      <Tab path=\"engines\" label=\"resources.entrances.tabs.engines\">\n        <>\n          <RelationTab<EntranceDto>\n            resource={ResourceName.ENGINES}\n            source=\"verifierDevicesIds\"\n            mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              entranceId: entrance?.id,\n              filterEntranceId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField label=\"ID\" source=\"id\" />\n            <TextField source=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"palms\" label=\"resources.entrances.tabs.palms\">\n        <>\n          <RelationTab<EntranceDto>\n            resource={ResourceName.PALMS}\n            source=\"verifierDevicesIds\"\n            mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              entranceId: entrance?.id,\n              filterEntranceId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EntranceShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EntranceTabs />\n  </Show>\n)\n","import { ButtonGroup } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  Datagrid,\n  DateTimeInput,\n  FormTab,\n  GET_LIST,\n  List,\n  ListButton,\n  Pagination,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SaveButton,\n  TabbedForm,\n  TextField,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  TopToolbar,\n  useEditContext,\n  useListContext,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { useField } from 'react-final-form'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ObjectDto } from '../../core/dto/object.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CheckboxField } from '../common/CheckboxField'\nimport Button from '../common/customized-mui-components/Button'\n\nconst validateEventCreate = (values: EventDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.dateStart) {\n    errors.dateStart = 'ra.validation.required'\n  }\n  if (!values.dateEnd) {\n    errors.dateEnd = 'ra.validation.required'\n  }\n  if (new Date(values.dateStart) > new Date(values.dateEnd)) {\n    errors.dateStart = 'ra.validation.incorrect_date'\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.events.titles.create')}</span>\n}\n\nconst RelationInputTab = ({\n  sourceProperty,\n  source,\n}: {\n  sourceProperty: keyof EventDto\n  source: ResourceName.OBJECTS\n}) => {\n  const [mutate] = useMutation()\n  const notify = useNotify()\n  const { basePath } = useEditContext<EventDto>()\n  const {\n    input: { onChange, value: relationsIds },\n  } = useField<number[]>(sourceProperty)\n\n  const handleAttach = (idsToAttach: number[]) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        onChange([...relationsIds, ...idsToAttach])\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n  }\n\n  const handleDetach = (idsToDetach: number[]) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        onChange(relationsIds.filter((id: number) => !idsToDetach.includes(id)))\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return relationsIds?.includes(relatedRecordId)\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n        return false\n    }\n  }\n\n  // const listFilters = () => {\n  //   switch (source) {\n  //     case ResourceName.OBJECTS:\n  //       return ([<TextInput source=\"name\" alwaysOn />])\n  //     default: return ([])\n  //   }\n  // }\n\n  const listSort = () => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return { field: 'name', order: 'ASC' }\n      default:\n        return undefined\n    }\n  }\n\n  const listColumns = () => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return [\n          <TextField source=\"id\" label=\"ID\" key=\"id\" />,\n          <TextField source=\"name\" key=\"name\" />,\n        ]\n      default:\n        return []\n    }\n  }\n\n  const Actions = () => {\n    const { filterValues } = useListContext<ObjectDto>()\n    const getFilteredRelatedRecordsIds = async () =>\n      (\n        await mutate(\n          {\n            type: sanitizeFetchType(GET_LIST),\n            resource: source,\n            payload: {\n              filter: {\n                ...filterValues,\n              },\n            },\n          },\n          { returnPromise: true },\n        )\n      )?.data?.map((record: ObjectDto) => record?.id)\n\n    const handleAttachAll = async () =>\n      handleAttach(await getFilteredRelatedRecordsIds())\n\n    const handleDetachAll = async () =>\n      handleDetach(await getFilteredRelatedRecordsIds())\n\n    return (\n      <TopToolbar>\n        {/* <FilterButton/> */}\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            onClick={() => handleAttachAll()}\n            label=\"common.related-records.actions.attach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleDetachAll()}\n            label=\"common.related-records.actions.detach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  const AttachedCheckbox = ({ ...props }) => (\n    <CheckboxField\n      {...props}\n      sortable={false}\n      checkBySource={(id: number) => isAttached(id)}\n      source=\"id\"\n      onClick={(id: number) =>\n        isAttached(id as number)\n          ? () => handleDetach([id as number])\n          : () => handleAttach([id as number])\n      }\n    />\n  )\n\n  return (\n    <ResourceContextProvider value={source}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        // filters={listFilters()} // FilterForm cannot be descendant of another Form component\n        sort={listSort()}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={<Actions />}\n      >\n        <>\n          <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }}>\n            {listColumns()}\n            <AttachedCheckbox label=\"common.related-records.fields.is-attached\" />\n          </Datagrid>\n        </>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EventCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <TabbedForm\n        redirect=\"show\"\n        toolbar={<CreateToolbar />}\n        validate={validateEventCreate}\n      >\n        <FormTab label={translate('resources.events.tabs.general')}>\n          <TextInput source=\"name\" />\n          <DateTimeInput source=\"dateStart\" />\n          <DateTimeInput source=\"dateEnd\" />\n          <TextInput source=\"externalId\" />\n          <TextInput source=\"infix\" />\n          <BooleanInput source=\"active\" />\n        </FormTab>\n        <FormTab label={translate('resources.events.tabs.objects')}>\n          <RelationInputTab\n            sourceProperty=\"objectsIds\"\n            source={ResourceName.OBJECTS}\n          />\n        </FormTab>\n      </TabbedForm>\n    </Create>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport React, { useMemo } from 'react'\nimport {\n  DateTimeInput,\n  Edit,\n  EditProps,\n  FunctionField,\n  Record,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { EventDto } from '../../core/dto/event/event.dto'\n\ninterface EventTitleProps extends TitleProps {\n  record?: EventDto\n}\n\nconst validateEventEdit = (values: EventDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.dateStart) {\n    errors.dateStart = 'ra.validation.required'\n  }\n  if (!values.dateEnd) {\n    errors.dateEnd = 'ra.validation.required'\n  }\n  if (new Date(values.dateStart) > new Date(values.dateEnd)) {\n    errors.dateStart = 'ra.validation.incorrect_date'\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  }\n  return errors\n}\n\nconst EditTitle = (data: EventTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  const date = useMemo(\n    () =>\n      !((record?.dateStart as any) instanceof Date)\n        ? record?.dateStart.replace('T', ' ')\n        : '',\n    [record?.dateStart],\n  )\n  return (\n    <span>\n      {translate('resources.events.titles.edit')}: {record?.name} {date}{' '}\n      {record?.id}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EventEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit {...props} title={<EditTitle />} actions={false}>\n      <SimpleForm\n        redirect=\"show\"\n        toolbar={<EditToolbar />}\n        validate={validateEventEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" />\n        <DateTimeInput source=\"dateStart\" />\n        <DateTimeInput source=\"dateEnd\" />\n        <FunctionField\n          source=\"status\"\n          render={(r: Record | undefined) => (\n            <TextField\n              emptyText={translate(\n                `resources.enums.eventStatus.${r?.status.toLowerCase()}`,\n              )}\n            />\n          )}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React, { useMemo } from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  EditButton,\n  Filter,\n  FunctionField,\n  Record,\n  sanitizeFetchType,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { EventStatus } from '../../core/enum/EventStatus'\nimport { ResourceName } from '../../core/ResourceName'\nimport Button from '../common/customized-mui-components/Button'\nimport FilterProps from '../common/FilterProps'\nimport RelationTab from '../common/RelationTab'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\ninterface EventTitleProps extends TitleProps {\n  record?: EventDto\n}\n\nconst ShowTitle = (data: EventTitleProps) => {\n  const { record: event } = data\n  const translate = useTranslate()\n  const date = useMemo(\n    () =>\n      !((event?.dateStart as any) instanceof Date)\n        ? event?.dateStart.replace('T', ' ')\n        : '',\n    [event?.dateStart],\n  )\n  return (\n    <span>\n      {translate('resources.events.titles.show')}: {event?.name} {date}{' '}\n      {event?.id}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: event } = useShowContext<EventDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const handleActivation = async () => {\n    if (event?.status !== EventStatus.IN_TRANSITION) {\n      if (event?.status === EventStatus.ACTIVE) {\n        await mutate(\n          {\n            type: sanitizeFetchType('deactivate'),\n            resource: ResourceName.EVENTS,\n            payload: {\n              eventId: event?.id,\n            },\n          },\n          { returnPromise: false },\n        )\n      } else {\n        await mutate(\n          {\n            type: sanitizeFetchType('activate'),\n            resource: ResourceName.EVENTS,\n            payload: {\n              eventId: event?.id,\n            },\n          },\n          { returnPromise: false },\n        )\n      }\n      refresh()\n    }\n  }\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          variant=\"contained\"\n          onClick={handleActivation}\n          color=\"primary\"\n          style={{ marginRight: '5px' }}\n          label={\n            event?.status === EventStatus.INACTIVE\n              ? translate('resources.events.actions.activate')\n              : translate('resources.events.actions.deactivate')\n          }\n          useSmallVersionBreakpoint={false}\n          disabled={\n            !hasAuthority(Authority.EDIT_EVENTS) ||\n            event?.status === EventStatus.IN_TRANSITION\n          }\n        />\n        <EditButton\n          variant=\"contained\"\n          basePath=\"/events\"\n          record={event}\n          disabled={!hasAuthority(Authority.EDIT_EVENTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EventTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: event } = props\n\n  const CompaniesFilters = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterEventId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  const ObjectsFilters = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterEventId\"\n        alwaysOn\n      />\n    </Filter>\n  )\n\n  const EnginesFilters = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterEventId\"\n        alwaysOn\n      />\n      <TextInput source=\"categoryId\" />\n    </Filter>\n  )\n\n  const PalmsFilters = (filterProps: FilterProps) => (\n    <Filter {...filterProps}>\n      <TextInput source=\"name\" alwaysOn />\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source=\"filterEventId\"\n        alwaysOn\n      />\n      <TextInput source=\"categoryId\" />\n    </Filter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.events.tabs.general')}>\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <DateField source=\"dateStart\" showTime />\n        <DateField source=\"dateEnd\" showTime />\n        <FunctionField\n          source=\"status\"\n          render={(r: Record | undefined) => (\n            <TextField\n              emptyText={translate(\n                `resources.enums.eventStatus.${r?.status.toLowerCase()}`,\n              )}\n            />\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      <Tab\n        path=\"companies\"\n        label={translate('resources.events.tabs.companies')}\n      >\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.COMPANIES}\n            source=\"companiesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachCompanies\"\n            detachMethod=\"detachCompanies\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              companiesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              companiesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getCompanies\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<CompaniesFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"objects\" label={translate('resources.events.tabs.objects')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.OBJECTS}\n            source=\"objectsIds\"\n            mode=\"edit\"\n            attachMethod=\"attachObjects\"\n            detachMethod=\"detachObjects\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              objectsIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              objectsIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<ObjectsFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"engines\" label={translate('resources.events.tabs.engines')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.ENGINES}\n            source=\"verifierDevicesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getDevices\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<EnginesFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"palms\" label={translate('resources.events.tabs.palms')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.PALMS}\n            source=\"verifierDevicesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getDevices\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<PalmsFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EventShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EventTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ReferenceInput,\n  required,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { BlockType } from '../../../core/enum/BlockType'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst BlockCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  return (\n    <Create {...props} title={translate('resources.blocks.create')}>\n      <SimpleForm redirect={`/objects/${objectId}/show/2`}>\n        <ReferenceInput\n          validate={required()}\n          source=\"tribuneId\"\n          reference={ResourceName.TRIBUNES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ objectId }}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <TextInput source=\"name\" validate={required()} />\n        <TextInput source=\"code\" />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(BlockType).map(([value]) => ({\n            id: value,\n            name: `resources.enums.blockType.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default BlockCreate\n","import * as React from 'react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nconst Empty = ({ text }: { text: string }) => (\n  <Box textAlign=\"start\" m={2}>\n    <Typography variant=\"body2\" paragraph>\n      {text}\n    </Typography>\n  </Box>\n)\n\nexport default Empty\n","import { Box } from '@material-ui/core'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  FilterButton,\n  FunctionField,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  required,\n  SelectInput,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useTranslate,\n} from 'react-admin'\nimport { BlockDto } from '../../../core/dto/block.dto'\nimport { BlockType } from '../../../core/enum/BlockType'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [\n  <TextInput source=\"name\" alwaysOn />,\n  <TextInput source=\"id\" />,\n  <TextInput source=\"tribuneId\" />,\n  <TextInput source=\"code\" />,\n]\n\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" />\n    <TextInput source=\"name\" validate={required()} />\n    <TextField source=\"tribuneId\" />\n    <SelectInput\n      source=\"type\"\n      choices={Object.entries(BlockType).map(([value]) => ({\n        id: value,\n        name: `resources.enums.blockType.${value}`,\n      }))}\n    />\n    <TextInput source=\"code\" />\n  </RowForm>\n)\n\nconst BlocksGrid = ({ ...props }) => {\n  const translate = useTranslate()\n\n  return (\n    <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <TextField source=\"tribuneId\" />\n      <FunctionField<BlockDto>\n        source=\"type\"\n        render={(r?: BlockDto) =>\n          translate(`resources.enums.blockType.${r?.type}`)\n        }\n      />\n      <TextField source=\"code\" />\n    </EditableDatagrid>\n  )\n}\n\ninterface BlockListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: BlockListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.blocks.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface BlockListProps extends ListProps {\n  objectId?: number\n}\n\nconst BlocksList = ({ objectId, ...props }: BlockListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <BlocksGrid />\n    </List>\n  )\n}\n\nexport default BlocksList\n","import { Cancel } from '@material-ui/icons'\nimport * as React from 'react'\nimport {\n  Create,\n  SimpleForm,\n  TextInput,\n  CreateProps,\n  useTranslate,\n  required,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst ObjectCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={translate('resources.objects.create')}>\n      <SimpleForm redirect=\"list\" toolbar={<CreateToolbar />}>\n        <TextInput source=\"name\" validate={required()} />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default ObjectCreate\n","import * as React from 'react'\nimport {\n  Edit,\n  SimpleForm,\n  TextInput,\n  TextField,\n  required,\n  EditProps,\n  useTranslate,\n  Toolbar,\n  SaveButton,\n  ShowButton,\n  ToolbarProps,\n} from 'react-admin'\nimport { Cancel } from '@material-ui/icons'\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst ObjectEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit\n      {...props}\n      hasShow={false}\n      title={translate('resources.objects.edit')}\n    >\n      <SimpleForm toolbar={<EditToolbar />} redirect=\"show\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" validate={required()} />\n      </SimpleForm>\n    </Edit>\n  )\n}\n\nexport default ObjectEdit\n","import React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FilterProps,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst ObjectGrid = ({ ...props }) => (\n  <Datagrid\n    {...props}\n    size=\"small\"\n    rowClick={(id) => `${ResourceName.OBJECTS}/${id}/show`}\n  >\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n  </Datagrid>\n)\n\nconst ObjectList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    filters={<ListFilters />}\n    bulkActionButtons={false}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n  >\n    <ObjectGrid />\n  </List>\n)\n\nexport default ObjectList\n","import { Box } from '@material-ui/core'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  FilterButton,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useTranslate,\n} from 'react-admin'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [\n  <TextInput source=\"numberAlias\" alwaysOn />,\n  <TextInput source=\"id\" />,\n  <TextInput source=\"rowAlias\" />,\n  <TextInput source=\"blockId\" />,\n]\n\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" />\n    <TextInput source=\"rowAlias\" />\n    <TextInput source=\"numberAlias\" />\n    <TextField source=\"blockId\" />\n  </RowForm>\n)\n\nconst SeatsGrid = ({ ...props }) => (\n  <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n    <TextField source=\"id\" />\n    <TextField source=\"rowAlias\" />\n    <TextField source=\"numberAlias\" />\n    <TextField source=\"blockId\" />\n  </EditableDatagrid>\n)\n\ninterface SeatListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: SeatListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.seats.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface SeatsListProps extends ListProps {\n  objectId?: number\n}\n\nconst SeatsList = ({ objectId, ...props }: SeatsListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      exporter={false}\n      basePath={basePath}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <SeatsGrid />\n    </List>\n  )\n}\n\nexport default SeatsList\n","import { Box } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  FilterButton,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [<TextInput source=\"name\" alwaysOn />]\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextInput source=\"name\" />\n  </RowForm>\n)\n\nconst TribuneGrid = ({ ...props }) => (\n  <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n  </EditableDatagrid>\n)\n\ninterface TribuneListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: TribuneListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.tribunes.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface TribuneListProps extends ListProps {\n  objectId?: number\n}\n\nconst TribunesList = ({ objectId, ...props }: TribuneListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <TribuneGrid />\n    </List>\n  )\n}\n\nexport default TribunesList\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useShowController,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ObjectDto } from '../../../core/dto/object.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport BlocksList from '../Blocks/BlocksList'\nimport SeatsList from '../Seats/SeatsList'\nimport TribunesList from '../Tribunes/TribunesList'\n\ninterface ObjectTitleProps extends TitleProps {\n  record?: ObjectDto\n}\n\nconst ObjectShowTitle = (data: ObjectTitleProps) => {\n  const { record } = data\n  const t = useTranslate()\n  return (\n    <span>\n      {t('resources.objects.name')}: {record?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: object, basePath } = useShowContext<ObjectDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <EditButton\n          basePath={basePath}\n          record={object}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_OBJECTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst ObjectShow = (props: ShowProps) => {\n  const t = useTranslate()\n  const { record: object } = useShowController<ObjectDto>(props)\n\n  return (\n    <Show {...props} title={<ObjectShowTitle />} actions={false}>\n      <TabbedShowLayout>\n        <Tab label={t('resources.objects.tabs.general')}>\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <GeneralActions />\n        </Tab>\n        <Tab label={t('resources.objects.tabs.tribunes')}>\n          <ResourceContextProvider value={ResourceName.TRIBUNES}>\n            <TribunesList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n        <Tab label={t('resources.objects.tabs.blocks')}>\n          <ResourceContextProvider value={ResourceName.BLOCKS}>\n            <BlocksList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n        <Tab label={t('resources.objects.tabs.seats')}>\n          <ResourceContextProvider value={ResourceName.SEATS}>\n            <SeatsList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n\nexport default ObjectShow\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ReferenceInput,\n  required,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst SeatCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  return (\n    <Create {...props} title={translate('resources.seats.create')}>\n      <SimpleForm redirect={`/objects/${objectId}/show/3`}>\n        <ReferenceInput\n          validate={required()}\n          source=\"blockId\"\n          reference={ResourceName.BLOCKS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ objectId }}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <TextInput source=\"numberAlias\" />\n        <TextInput source=\"rowAlias\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default SeatCreate\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Create,\n  CreateProps,\n  GET_ONE,\n  Identifier,\n  NumberInput,\n  ReferenceInput,\n  required,\n  sanitizeFetchType,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useQuery,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { TribuneType } from '../../../core/enum/TribuneType'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst CreateTitle = ({ objectId }: { objectId?: Identifier }) => {\n  const translate = useTranslate()\n  const { data: object } = useQuery(\n    {\n      type: sanitizeFetchType(GET_ONE),\n      resource: ResourceName.OBJECTS,\n      payload: {\n        id: objectId,\n      },\n    },\n    { enabled: objectId !== undefined },\n  )\n\n  return (\n    <span>{`${translate('resources.tribunes.create')}${\n      object ? `: ${object?.name} (${object?.id})` : ''\n    }`}</span>\n  )\n}\n\nconst TribuneCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  const defaultValue = () => ({\n    objectId,\n  })\n\n  return (\n    <Create {...props} title={<CreateTitle objectId={objectId} />}>\n      <SimpleForm\n        redirect={objectId ? `/objects/${objectId}/show/1` : 'show'}\n        initialValues={defaultValue}\n      >\n        {!objectId ? (\n          <ReferenceInput\n            source=\"objectId\"\n            reference={ResourceName.OBJECTS}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        ) : (\n          <NumberInput source=\"objectId\" disabled />\n        )}\n        <TextInput source=\"name\" validate={required()} />\n        <TextInput source=\"code\" />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(TribuneType).map(([value]) => ({\n            id: value,\n            name: `resources.enums.tribuneType.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default TribuneCreate\n","import React from 'react'\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  ArrayField,\n  Datagrid,\n  TextField,\n} from 'react-admin'\n\nconst useStyles = makeStyles({\n  noBottomBorder: {\n    borderBottom: 'none',\n  },\n  quarterWidth: {\n    width: '25%',\n  },\n})\n\nconst ViewTitle = (record: any) => {\n  const {\n    record: { eventName, date, id },\n  } = record\n  const t = useTranslate()\n  const description = `${eventName} ${date.replace('T', ' ')} ${id}`\n  return (\n    <span>{`${t('resources.stats-overall-view.name')}: ${description}`}</span>\n  )\n}\n\nconst BlockGrid = (props: any) => {\n  const {\n    record: { soldAbo, soldInfix, soldNormal, soldPoints, soldService },\n  } = props\n  const classes = useStyles()\n  const translate = useTranslate()\n\n  const firstColumnEntries = [\n    { label: 'abo', value: soldAbo },\n    { label: 'infix', value: soldInfix },\n    { label: 'normal', value: soldNormal },\n    { label: 'points', value: soldPoints },\n    { label: 'service', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && (\n        <div key={label}>\n          {translate(`resources.stats-overall-view.fields.${label}`)}\n        </div>\n      ),\n  )\n\n  const secondColumnEntries = [\n    { label: 'enteredAbo', value: soldAbo },\n    { label: 'enteredInfix', value: soldInfix },\n    { label: 'enteredNormal', value: soldNormal },\n    { label: 'enteredPoints', value: soldPoints },\n    { label: 'enteredService', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && <TextField key={label} source={label} label=\" \" />,\n  )\n\n  const thirdColumnEntries = [\n    { label: 'soldAbo', value: soldAbo },\n    { label: 'soldInfix', value: soldInfix },\n    { label: 'soldNormal', value: soldNormal },\n    { label: 'soldPoints', value: soldPoints },\n    { label: 'soldService', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && <TextField key={label} source={label} label=\" \" />,\n  )\n\n  return (\n    <TableContainer style={{ paddingTop: '10px', marginBottom: '10px' }}>\n      <Table padding=\"none\">\n        <TableBody>\n          <TableRow>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            />\n            <TableCell\n              style={{ width: '40%' }}\n              className={classes.noBottomBorder}\n            >\n              {firstColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            >\n              {secondColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            >\n              {thirdColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            />\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst TribuneGrid = () => {\n  const translate = useTranslate()\n\n  const TribuneHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '40%' }}>\n          {translate('resources.stats-overall-view.fields.block')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"blocks\">\n      <Datagrid\n        expand={<BlockGrid />}\n        padding=\"none\"\n        header={<TribuneHeader />}\n        isRowExpandable={(record) => !!record.sold}\n      >\n        <TextField source=\"name\" label=\"Sektor\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nconst ObjectGrid = () => {\n  const translate = useTranslate()\n\n  const objectHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '10%' }} />\n        <TableCell style={{ width: '45%' }}>\n          {translate('resources.stats-overall-view.fields.tribune')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"tribunes\">\n      <Datagrid expand={<TribuneGrid />} padding=\"none\" header={objectHeader}>\n        <TextField source=\"name\" label=\"Trybuna\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nexport const OverallView = (props: ShowProps) => {\n  const translate = useTranslate()\n\n  const overallHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '5%' }} />\n        <TableCell style={{ width: '50%' }}>\n          {translate('resources.stats-overall-view.fields.name')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.entered')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.sold')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.capacity')}\n        </TableCell>\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <Show title={<ViewTitle />} {...props}>\n      <ArrayField source=\"objects\">\n        <Datagrid expand={<ObjectGrid />} padding=\"none\" header={overallHeader}>\n          <TextField source=\"name\" label=\"Obiekt\" />\n          <TextField source=\"entered\" />\n          <TextField source=\"sold\" />\n          <TextField source=\"capacity\" />\n        </Datagrid>\n      </ArrayField>\n    </Show>\n  )\n}\n","import * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst OverallViewGrid = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  // TODO: header doesn't change color when theme value is switched\n  //  the reason is the need to change the theme at <Admin> level - not at <Layout> level\n  //  the solution is here - https://stackoverflow.com/a/63967145 -> after that customReducer needs to be removed\n  return (\n    <Datagrid\n      {...props}\n      rowClick={\n        hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW)\n          ? (id) => `${ResourceName.STATS_OVERALL_VIEW}/${id}/show`\n          : undefined\n      }\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <DateField source=\"dateStart\" showTime />\n      <DateField source=\"dateEnd\" showTime />\n    </Datagrid>\n  )\n}\n\nconst OverallViewFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const OverallViewList = (props: ListProps) => (\n  <List\n    {...props}\n    actions={false}\n    filters={<OverallViewFilters />}\n    sort={{ field: 'id', order: 'DESC' }}\n  >\n    <OverallViewGrid />\n  </List>\n)\n","import { Box, Grid, useMediaQuery, useTheme } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  TextField,\n  TextInput,\n  useListContext,\n  useTranslate,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { BookingType } from '../../core/enum/BookingType'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { MaskField } from '../common/MaskField'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst TicketExpand = () => {\n  const t = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <Grid item xs={4}>\n          {t('resources.tickets.fields.bookingId')}\n        </Grid>\n        <Grid item xs={8} style={{ textAlign: 'center' }}>\n          <TextField source=\"bookingId\" />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n}\n\nconst TicketGrid = ({ ...props }) => {\n  const { data } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Datagrid\n        {...props}\n        padding={smallScreen ? 'checkbox' : 'default'}\n        rowClick={(id) =>\n          `${ResourceName.BOOKINGS}/${data[id]?.bookingId}/show`\n        }\n        isRowExpandable={() => xSmallScreen}\n        expand={<TicketExpand />}\n        hasBulkActions={false}\n      >\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.firstname\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerFirstname\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <TextField source=\"firstname\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.lastname\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerLastname\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <TextField source=\"lastname\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.pesel\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerPesel\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <MaskField source=\"pesel\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.customer\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerPesel\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <>\n                  <TextField source=\"firstname\" />{' '}\n                  <TextField source=\"lastname\" /> <MaskField source=\"pesel\" />\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        <TextField source=\"ticketCode\" />\n        {hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_EVENTS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.event\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"eventName\"\n            >\n              <ReferenceField\n                source=\"eventId\"\n                reference={ResourceName.EVENTS}\n                link={false}\n              >\n                <>\n                  <TextField source=\"name\" /> <DateField source=\"dateStart\" /> (\n                  <TextField source=\"id\" />)\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!xSmallScreen && <TextField source=\"bookingId\" />}\n      </Datagrid>\n    </>\n  )\n}\n\nconst TicketFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"ticketCode\" alwaysOn />\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput\n          label=\"resources.tickets.fields.event\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          sort={{ field: 'dateStart', order: 'DESC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"bookingType\"\n        choices={Object.entries(BookingType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.bookingType.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_VARIANTS) && (\n        <ReferenceInput\n          source=\"variantId\"\n          reference={ResourceName.VARIANTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const TicketList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    perPage={20}\n    sort={{ field: 'id', order: 'DESC' }}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    filters={<TicketFilters />}\n  >\n    <TicketGrid />\n  </List>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  DateTimeInput,\n  GET_ONE,\n  Identifier,\n  NumberInput,\n  ReferenceInput,\n  sanitizeFetchType,\n  SelectInput,\n  SimpleForm,\n  useQuery,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { formatDate, formatTime } from '../../../core/common/date-time'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\nimport { AccessDateTypes } from '../../../core/enum/AccessDateTypes'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateAccessDateCreate = (values: AccessDateDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.activeFrom) {\n    errors.activeFrom = 'ra.validation.required'\n  }\n  if (!values.activeTo) {\n    errors.activeTo = 'ra.validation.required'\n  }\n  if (!values.type) {\n    errors.type = 'ra.validation.required'\n  }\n  if (!values.timeFrom) {\n    errors.timeFrom = 'ra.validation.required'\n  }\n  if (!values.timeTo) {\n    errors.timeTo = 'ra.validation.required'\n  }\n  if (!values.accessId) {\n    errors.accessId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = ({ accessId }: { accessId?: Identifier }) => {\n  const translate = useTranslate()\n  const { data: access } = useQuery(\n    {\n      type: sanitizeFetchType(GET_ONE),\n      resource: ResourceName.ACCESSES,\n      payload: {\n        id: accessId,\n      },\n    },\n    { enabled: accessId !== undefined },\n  )\n\n  return (\n    <span>{`${translate('resources.access-dates.titles.create')}${\n      access ? `: ${access?.name} (${access?.id})` : ''\n    }`}</span>\n  )\n}\n\nexport const AccessDateCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const accessIdRaw = new URLSearchParams(search).get('accessId')\n  const accessId: number | undefined =\n    accessIdRaw !== null ? Number(accessIdRaw) : undefined\n\n  const defaultValue = () => ({\n    accessId,\n  })\n\n  return (\n    <Create {...props} title={<CreateTitle accessId={accessId} />}>\n      <SimpleForm\n        redirect={accessId ? `/accesses/${accessId}/show/dates` : 'show'}\n        validate={validateAccessDateCreate}\n        initialValues={defaultValue}\n      >\n        {!accessId ? (\n          <ReferenceInput\n            source=\"accessId\"\n            defaultValue={null}\n            reference={ResourceName.ACCESSES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        ) : (\n          <NumberInput source=\"accessId\" disabled />\n        )}\n        <DateTimeInput\n          source=\"activeFrom\"\n          type=\"date\"\n          format={formatDate}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <DateTimeInput\n          source=\"activeTo\"\n          type=\"date\"\n          format={formatDate}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <DateTimeInput\n          source=\"timeFrom\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <DateTimeInput\n          source=\"timeTo\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(AccessDateTypes).map(([value]) => ({\n            id: value,\n            name: `resources.enums.accessDateTypes.${value}`,\n          }))}\n        />\n        <NumberInput source=\"priority\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import PersonIcon from '@material-ui/icons/Person'\nimport ReceiptIcon from '@material-ui/icons/Receipt'\nimport ViewComfyIcon from '@material-ui/icons/ViewComfy'\nimport React from 'react'\nimport { Resource } from 'react-admin'\nimport { Authority } from '../core/auth/Authority'\nimport { ResourceName } from '../core/ResourceName'\nimport { BookingShow } from './bookings/BookingShow'\nimport { AccessCreate } from './configuration/accesses/AccessCreate'\nimport { AccessEdit } from './configuration/accesses/AccessEdit'\nimport { AccessList } from './configuration/accesses/AccessList'\nimport { AccessShow } from './configuration/accesses/AccessShow'\nimport { VariantCreate } from './configuration/variants/VariantCreate'\nimport { VariantEdit } from './configuration/variants/VariantEdit'\nimport { VariantList } from './configuration/variants/VariantList'\nimport { VariantShow } from './configuration/variants/VariantShow'\nimport { CustomersCreate } from './customers/CustomerCreate'\nimport { CustomerEdit } from './customers/CustomerEdit'\nimport { CustomerList } from './customers/CustomerList'\nimport { CustomerDetailsView } from './customers/CustomerShow'\nimport { DeviceCategoryCreate } from './device-categories/DeviceCategoryCreate'\nimport { DeviceCategoryEdit } from './device-categories/DeviceCategoryEdit'\nimport { DeviceCategoryList } from './device-categories/DeviceCategoryList'\nimport { DeviceCategoryShow } from './device-categories/DeviceCategoryShow'\nimport { DetectorCreate } from './devices/detectors/DetectorCreate'\nimport { DetectorEdit } from './devices/detectors/DetectorEdit'\nimport { DetectorList } from './devices/detectors/DetectorList'\nimport { DetectorShow } from './devices/detectors/DetectorShow'\nimport { EngineCreate } from './devices/engines/EngineCreate'\nimport { EngineEdit } from './devices/engines/EngineEdit'\nimport { EngineList } from './devices/engines/EngineList'\nimport { EngineShow } from './devices/engines/EngineShow'\nimport { PalmCreate } from './devices/palms/PalmCreate'\nimport { PalmEdit } from './devices/palms/PalmEdit'\nimport { PalmList } from './devices/palms/PalmList'\nimport { PalmShow } from './devices/palms/PalmShow'\nimport { PassageCreate } from './devices/passages/PassageCreate'\nimport { PassageEdit } from './devices/passages/PassageEdit'\nimport { PassagesList } from './devices/passages/PassageList'\nimport { PassageShow } from './devices/passages/PassageShow'\nimport { EntranceCreate } from './configuration/entrances/EntranceCreate'\nimport { EntranceEdit } from './configuration/entrances/EntranceEdit'\nimport { EntranceList } from './configuration/entrances/EntranceList'\nimport { EntranceShow } from './configuration/entrances/EntranceShow'\nimport { EventCreate } from './events/EventCreate'\nimport { EventEdit } from './events/EventEdit'\nimport { EventList } from './events/EventList'\nimport { EventShow } from './events/EventShow'\nimport { hasAuthorityWithGivenPermissions as hasAuthority } from './hooks/useHasAuthority'\nimport { LogList } from './logs/LogList'\nimport BlockCreate from './objects/Blocks/BlockCreate'\nimport BlocksList from './objects/Blocks/BlocksList'\nimport ObjectCreate from './objects/Objects/ObjectCreate'\nimport ObjectEdit from './objects/Objects/ObjectEdit'\nimport ObjectList from './objects/Objects/ObjectList'\nimport ObjectShow from './objects/Objects/ObjectShow'\nimport SeatCreate from './objects/Seats/SeatCreate'\nimport SeatsList from './objects/Seats/SeatsList'\nimport TribuneCreate from './objects/Tribunes/TribuneCreate'\nimport TribunesList from './objects/Tribunes/TribunesList'\nimport { OverallView } from './stats/overall-view/OverallView'\nimport { OverallViewList } from './stats/overall-view/OverallViewList'\nimport { TicketList } from './tickets/TicketList'\nimport { AccessDateCreate } from './configuration/access-dates/AccessDateCreate'\n\nexport const generateResourcesBasedOnPermissions = (\n  permissions: Set<string>,\n) => [\n  <Resource name=\"dummy\" />,\n  hasAuthority(Authority.VIEW_TICKETS, permissions) && (\n    <Resource\n      icon={ReceiptIcon}\n      name={ResourceName.TICKETS}\n      list={TicketList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESS_USINGS, permissions) && (\n    <Resource name={ResourceName.ACCESS_USINGS} />\n  ),\n  hasAuthority(Authority.VIEW_CUSTOMERS, permissions) && (\n    <Resource\n      icon={PersonIcon}\n      name={ResourceName.CUSTOMERS}\n      show={CustomerDetailsView}\n      list={CustomerList}\n      edit={\n        hasAuthority(Authority.EDIT_CUSTOMERS, permissions)\n          ? CustomerEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_CUSTOMERS, permissions)\n          ? CustomersCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.LOGS} list={LogList} />\n  ),\n  hasAuthority(Authority.VIEW_EVENTS, permissions) && (\n    <Resource\n      name={ResourceName.EVENTS}\n      list={EventList}\n      show={EventShow}\n      edit={\n        hasAuthority(Authority.EDIT_EVENTS, permissions) ? EventEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_EVENTS, permissions)\n          ? EventCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW_LIST}\n      list={OverallViewList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW}\n      show={OverallView}\n    />\n  ),\n  hasAuthority(Authority.VIEW_PALMS, permissions) && (\n    <Resource\n      name={ResourceName.PALMS}\n      list={PalmList}\n      show={PalmShow}\n      edit={\n        hasAuthority(Authority.EDIT_PALMS, permissions) ? PalmEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_PALMS, permissions)\n          ? PalmCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESS_DATES, permissions) && (\n    <Resource\n      name={ResourceName.ACCESS_DATES}\n      create={\n        hasAuthority(Authority.CREATE_ACCESS_DATES, permissions)\n          ? AccessDateCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESSES, permissions) && (\n    <Resource\n      name={ResourceName.ACCESSES}\n      list={AccessList}\n      show={AccessShow}\n      edit={\n        hasAuthority(Authority.EDIT_ACCESSES, permissions)\n          ? AccessEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ACCESSES, permissions)\n          ? AccessCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_BOOKINGS, permissions) && (\n    <Resource name={ResourceName.BOOKINGS} show={BookingShow} />\n  ),\n  hasAuthority(Authority.VIEW_COMPANIES, permissions) && (\n    <Resource name={ResourceName.COMPANIES} />\n  ),\n  hasAuthority(Authority.VIEW_ENGINES, permissions) && (\n    <Resource\n      name={ResourceName.ENGINES}\n      list={EngineList}\n      show={EngineShow}\n      edit={\n        hasAuthority(Authority.EDIT_ENGINES, permissions)\n          ? EngineEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ENGINES, permissions)\n          ? EngineCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ENTRANCES, permissions) && (\n    <Resource\n      name={ResourceName.ENTRANCES}\n      list={EntranceList}\n      show={EntranceShow}\n      edit={\n        hasAuthority(Authority.EDIT_ENTRANCES, permissions)\n          ? EntranceEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ENTRANCES, permissions)\n          ? EntranceCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.TICKET_LOGS} />\n  ),\n  hasAuthority(Authority.VIEW_VARIANTS, permissions) && (\n    <Resource\n      name={ResourceName.VARIANTS}\n      list={VariantList}\n      show={VariantShow}\n      edit={\n        hasAuthority(Authority.EDIT_VARIANTS, permissions)\n          ? VariantEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_VARIANTS, permissions)\n          ? VariantCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_USERS, permissions) && (\n    <Resource name={ResourceName.USERS} />\n  ),\n  hasAuthority(Authority.VIEW_OBJECTS, permissions) && (\n    <Resource\n      name={ResourceName.OBJECTS}\n      list={ObjectList}\n      show={ObjectShow}\n      edit={\n        hasAuthority(Authority.EDIT_OBJECTS, permissions)\n          ? ObjectEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_OBJECTS, permissions)\n          ? ObjectCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_TRIBUNES, permissions) && (\n    <Resource\n      name={ResourceName.TRIBUNES}\n      list={TribunesList}\n      create={\n        hasAuthority(Authority.CREATE_TRIBUNES, permissions)\n          ? TribuneCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_BLOCKS, permissions) && (\n    <Resource\n      name={ResourceName.BLOCKS}\n      list={BlocksList}\n      create={\n        hasAuthority(Authority.CREATE_BLOCKS, permissions)\n          ? BlockCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_SEATS, permissions) && (\n    <Resource\n      name={ResourceName.SEATS}\n      list={SeatsList}\n      create={\n        hasAuthority(Authority.CREATE_SEATS, permissions)\n          ? SeatCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_DEVICE_CATEGORIES, permissions) && (\n    <Resource\n      name={ResourceName.DEVICE_CATEGORIES}\n      list={DeviceCategoryList}\n      show={DeviceCategoryShow}\n      edit={\n        hasAuthority(Authority.EDIT_DEVICE_CATEGORIES, permissions)\n          ? DeviceCategoryEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_DEVICE_CATEGORIES, permissions)\n          ? DeviceCategoryCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_PASSAGES, permissions) && (\n    <Resource\n      name={ResourceName.PASSAGES}\n      list={PassagesList}\n      show={PassageShow}\n      edit={\n        hasAuthority(Authority.EDIT_PASSAGES, permissions)\n          ? PassageEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_PASSAGES, permissions)\n          ? PassageCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_DETECTORS, permissions) && (\n    <Resource\n      name={ResourceName.DETECTORS}\n      list={DetectorList}\n      show={DetectorShow}\n      edit={\n        hasAuthority(Authority.EDIT_DETECTORS, permissions)\n          ? DetectorEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_DETECTORS, permissions)\n          ? DetectorCreate\n          : undefined\n      }\n    />\n  ),\n]\n","import {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n  INACTIVE_COMPONENTS_KEY,\n} from './dashboard'\nimport { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst initialState: DashboardState['dashboard'] = {\n  inactiveComponents:\n    (localStorage\n      .getItem(INACTIVE_COMPONENTS_KEY)\n      ?.split(',') as DashboardItem[]) || [],\n}\n\nconst save = (state: DashboardState['dashboard']) => {\n  const { inactiveComponents } = state\n  if (inactiveComponents.length) {\n    localStorage.setItem(INACTIVE_COMPONENTS_KEY, inactiveComponents.join())\n  } else {\n    localStorage.removeItem(INACTIVE_COMPONENTS_KEY)\n  }\n  return state\n}\n\nexport const dashboardReducer = (\n  state = initialState,\n  { type, payload: dashboardItem }: DashboardAction,\n): DashboardState['dashboard'] => {\n  if (type === UPDATE_DASHBOARD) {\n    const { inactiveComponents } = state\n    if (inactiveComponents.includes(dashboardItem)) {\n      return save({\n        ...state,\n        inactiveComponents: inactiveComponents.filter(\n          (v) => v !== dashboardItem,\n        ),\n      })\n    }\n    return save({\n      ...state,\n      inactiveComponents: [...inactiveComponents, dashboardItem],\n    })\n  }\n  return state\n}\n","import React from 'react'\nimport { Admin } from './lib/@react-admin/ra-enterprise'\nimport themeReducer from './core/common/theme.reducer'\nimport { providersFactory } from './core/providers.factory'\nimport { AppLayout } from './main/layout/AppLayout'\nimport { Dashboard } from './main/Dashboard'\nimport routes from './main/common/routes'\nimport { generateResourcesBasedOnPermissions } from './main/Resources'\nimport { dashboardReducer } from './core/common/dashboard.reducer'\n\nconst App = () => {\n  const { authProvider, dataProvider, i18nProvider } = providersFactory(\n    process.env.NODE_ENV,\n  )\n  return (\n    <Admin\n      dashboard={Dashboard}\n      authProvider={authProvider}\n      dataProvider={dataProvider}\n      i18nProvider={i18nProvider}\n      customReducers={{\n        theme: themeReducer,\n        dashboard: dashboardReducer,\n      }}\n      customRoutes={routes}\n      layout={AppLayout}\n    >\n      {generateResourcesBasedOnPermissions}\n    </Admin>\n  )\n}\n\nexport default App\n","import {\n  AuthProvider,\n  DataProvider,\n  I18nProvider,\n  LegacyDataProvider,\n} from 'react-admin'\nimport fakeDataProvider from './fake/fake-data.provider'\nimport fakeAuthProvider from './fake/providers/fake-auth.provider'\nimport authProvider from './auth/auth.provider'\nimport dataProvider from './data.provider'\nimport i18nProvider from './i18n.provider'\nimport { withSynchronizedPermissions } from './auth/withSyncPermissions'\n\ninterface Providers {\n  readonly authProvider: AuthProvider\n  readonly dataProvider: DataProvider | LegacyDataProvider\n  readonly i18nProvider: I18nProvider\n}\n\nexport const providersFactory = (\n  env: 'development' | 'test' | 'production',\n): Providers => {\n  switch (env) {\n    case 'production':\n      return {\n        authProvider: withSynchronizedPermissions(authProvider),\n        dataProvider,\n        i18nProvider,\n      }\n    case 'development':\n      return {\n        authProvider,\n        dataProvider,\n        i18nProvider,\n      }\n    default:\n      return {\n        authProvider: fakeAuthProvider,\n        dataProvider: fakeDataProvider,\n        i18nProvider,\n      }\n  }\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import { initReactI18next } from 'react-i18next'\nimport i18n from 'i18next'\nimport plTranslation from './locales/pl/translation.json'\nimport enTranslation from './locales/en/translation.json'\n\nconst identity = localStorage.getItem('username')\nconst lng = identity && localStorage.getItem(`${identity}.lng`)\n\ni18n.use(initReactI18next).init({\n  lng: lng || 'pl',\n  fallbackLng: 'pl',\n  debug: false,\n  interpolation: {\n    escapeValue: false, // not needed for react as it escapes by default\n  },\n  resources: {\n    pl: { translation: plTranslation },\n    en: { translation: enTranslation },\n  },\n})\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport './i18n.init'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}
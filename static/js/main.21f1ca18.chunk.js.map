{"version":3,"sources":["lib/@react-admin/ra-preferences/esm/src/PreferencesContext.js","lib/@react-admin/ra-preferences/esm/src/constants.js","lib/@react-admin/ra-preferences/esm/src/preferencesStorage.js","lib/@react-admin/ra-preferences/esm/src/usePreferences.js","lib/@react-admin/ra-preferences/esm/src/usePreferencesContext.js","lib/@react-admin/ra-preferences/esm/src/theme/PreferencesBasedThemeProvider.js","lib/@react-admin/ra-preferences/esm/src/theme/ToggleThemeButton.js","lib/@react-admin/ra-preferences/esm/src/i18n/LanguageSwitcher.js","lib/@react-admin/ra-preferences/esm/src/i18n/useSetLocaleAndPreference.js","lib/@react-admin/ra-preferences/esm/src/ui/SidebarOpenPreferenceSync.js","lib/@react-admin/ra-preferences/esm/src/list/SelectColumnsMenu.js","lib/@react-admin/ra-preferences/esm/src/list/SavedQueryFilterListItem.js","lib/@react-admin/ra-preferences/esm/src/list/SavedQueriesList.js","lib/@react-admin/ra-preferences/esm/src/list/FilterButtonWithSave.js","lib/@react-admin/ra-preferences/esm/src/list/FilterWithSave.js","lib/@react-admin/ra-preferences/esm/src/no-code/PreferencesEditorContext.js","lib/@react-admin/ra-preferences/esm/src/no-code/usePreferencesEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialogTitle.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialogContext.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/EditorTitle.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ReferenceFieldInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/FieldTypeInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ReferenceResourceInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/useResourceModel.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourceModelFieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResetSettingsButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/ListItemLink.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourceModelEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourcesModelsEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/EditResourcesModelsButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorRoot.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialog.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/OpenEditorButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/Configurable.js","lib/@react-admin/ra-preferences/esm/src/no-code/TemplateInfoButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldFormToolbar.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/ComputedFieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/ComputedFieldTemplatePopover.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldsEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/List/ObjectInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/List/ListEditor.js","lib/@react-admin/ra-tree/esm/src/actions.js","lib/@react-admin/ra-tree/esm/src/constants.js","lib/@react-admin/ra-tree/esm/src/reducer.js","lib/@react-admin/ra-tree/esm/src/fetchTypes.js","lib/@react-admin/ra-realtime/esm/src/actions.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useLock.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useSubscribe.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useSubscribeToRecordList.js","lib/@react-admin/ra-realtime/esm/src/types.js","lib/@react-admin/ra-realtime/esm/src/Warning.js","lib/@react-admin/ra-realtime/esm/src/RealTimeMenuItemLink.js","lib/@react-admin/ra-realtime/esm/src/RealTimeMenu.js","lib/@react-admin/ra-realtime/esm/src/reducer.js","lib/@react-admin/ra-realtime/esm/src/i18n/raRealTimeLanguageEnglish.js","lib/@react-admin/ra-navigation/esm/src/app-location/AppBreadcrumbContext.js","lib/@react-admin/ra-navigation/esm/src/app-location/useResourceAppLocation.js","lib/@react-admin/ra-navigation/esm/src/app-location/resolveResourceLocationInfo.js","lib/@react-admin/ra-navigation/esm/src/app-location/useAppLocationState.js","lib/@react-admin/ra-navigation/esm/src/app-location/constants.js","lib/@react-admin/ra-navigation/esm/src/app-location/ResourceLocationListener.js","lib/@react-admin/ra-navigation/esm/src/app-location/AppLocationContext.js","lib/@react-admin/ra-navigation/esm/src/app-location/getDeepestLocation.js","lib/@react-admin/ra-navigation/esm/src/app-location/useAppLocationMatcher.js","lib/@react-admin/ra-navigation/esm/src/app-location/useHasDashboard.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/Breadcrumb.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/BreadcrumbItem.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/useResourcesBreadcrumbPaths.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/DashboardBreadcrumbItem.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/ResourceBreadcrumbItems.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/Menu.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MultiLevelMenuContext.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MenuItem.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MenuItemCategory.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MultiLevelMenu.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/theme.js","lib/@react-admin/ra-relationships/esm/src/DualListInput/DualListInputSkeleton.js","lib/@react-admin/ra-relationships/esm/src/DualListInput/DualListInput.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/constants.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useReferenceManyToManyFieldController.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ReferenceManyToManyField.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/getReferenceManyToManyFormField.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ManyToManyReferenceContext.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useReferenceManyToManyInputController.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useManyToManyReferenceContext.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ReferenceManyToManyInput.js","lib/@react-admin/ra-tree/esm/src/i18n/ra-tree-language-english.js","lib/@react-admin/ra-search/esm/src/SearchInput.js","lib/@react-admin/ra-search/esm/src/SearchResultContext.js","lib/@react-admin/ra-search/esm/src/SearchResultsGroup.js","lib/@react-admin/ra-search/esm/src/SearchResultsPanel.js","lib/@react-admin/ra-search/esm/src/i18n/raSearchLanguageEnglish.js","lib/@react-admin/ra-search/esm/src/SearchHistoryPanel.js","lib/@react-admin/ra-audit-log/esm/src/useGetResourceLabel.js","lib/@react-admin/ra-audit-log/esm/src/useEventLabel.js","lib/@react-admin/ra-audit-log/esm/src/ActionField.js","lib/@react-admin/ra-audit-log/esm/src/EventAvatar.js","lib/@react-admin/ra-audit-log/esm/src/AvatarField.js","lib/@react-admin/ra-audit-log/esm/src/AuthorField.js","lib/@react-admin/ra-audit-log/esm/src/constants.js","lib/@react-admin/ra-audit-log/esm/src/ResourceField.js","lib/@react-admin/ra-audit-log/esm/src/EventList/AuthorFilterList.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/RecordTimelineItem.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelinePlaceholder.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/RecordTimelineSkeleton.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineItem.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineGroup.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineSkeleton.js","lib/@react-admin/ra-audit-log/esm/src/EventList/ResourceFilterList.js","lib/@react-admin/ra-audit-log/esm/src/EventList/EventFilterAside.js","lib/@react-admin/ra-audit-log/esm/src/EventList/EventList.js","lib/@react-admin/ra-form-layout/esm/src/forms/dialog-form/FormDialogTitle.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionFormToolbar.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionSection.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionFormPanel.js","lib/@react-admin/ra-form-layout/esm/src/forms/wizard-form/WizardProgress.js","lib/@react-admin/ra-form-layout/esm/src/i18n/raFormLayoutLanguageEnglish.js","lib/@react-admin/ra-enterprise/esm/src/i18nProvider.js","lib/@react-admin/ra-relationships/esm/src/i18n/raRelationshipsLanguageEnglish.js","lib/@react-admin/ra-audit-log/esm/src/i18n/raAuditLogLanguageEnglish.js","lib/@react-admin/ra-enterprise/esm/src/layout/AppBar.js","lib/@react-admin/ra-enterprise/esm/src/layout/Breadcrumb.js","lib/@react-admin/ra-tour/esm/src/useTour.js","lib/@react-admin/ra-tour/esm/src/ui/Tooltip.js","lib/@react-admin/ra-tour/esm/src/Tour.js","lib/@react-admin/ra-tour/esm/src/reducer.js","lib/@react-admin/ra-tour/esm/src/TourProvider.js","lib/@react-admin/ra-enterprise/esm/src/layout/Menu.js","lib/@react-admin/ra-enterprise/esm/src/layout/Layout.js","lib/@react-admin/ra-enterprise/esm/src/themes.js","lib/@react-admin/ra-enterprise/esm/src/Admin.js","lib/@react-admin/ra-enterprise/esm/src/list/FilterForm.js","lib/@react-admin/ra-enterprise/esm/src/list/ListToolbar.js","lib/@react-admin/ra-enterprise/esm/src/list/ListActions.js","lib/@react-admin/ra-enterprise/esm/src/list/ListView.js","lib/@react-admin/ra-enterprise/esm/src/list/Filter.js","core/constants/reducer.actions.ts","core/common/theme.reducer.ts","core/ResourceName.ts","core/fake/providers/fake-access-dates.provider.ts","core/enum/AccessActivePeriodStartingOptions.ts","core/enum/AccessBonuses.ts","core/enum/DayOfWeek.ts","core/fake/providers/fake-access-usings.provider.ts","core/fake/providers/fake-accesses.provider.ts","core/enum/BlockType.ts","core/fake/providers/fake-blocks.provider.ts","core/enum/BookingDisabledOption.ts","core/enum/BookingType.ts","core/fake/providers/fake-bookings.provider.ts","core/enum/CustomerDocumentType.ts","core/enum/Gender.ts","core/fake/providers/fake-companies.provider.ts","core/fake/providers/fake-customers.provider.ts","core/enum/EventStatus.ts","core/fake/providers/fake-detectors.provider.ts","core/fake/providers/fake-device-categories.provider.ts","core/fake/providers/fake-engines.provider.ts","core/fake/providers/fake-entrances.provider.ts","core/fake/providers/fake-events.provider.ts","core/enum/TicketType.ts","core/fake/providers/fake-logs.provider.ts","core/fake/providers/fake-objects.provider.ts","core/fake/providers/fake-palms.provider.ts","core/fake/providers/fake-passages.provider.ts","core/fake/providers/fake-permissions.provider.ts","core/fake/providers/fake-roles.provider.ts","core/fake/providers/fake-seats.provider.ts","core/fake/providers/fake-stats-overall-view-list.provider.ts","core/fake/providers/fake-stats-overall-view.provider.ts","core/fake/providers/fake-tickets.provider.ts","core/enum/TribuneType.ts","core/fake/providers/fake-tribunes.provider.ts","core/enum/DeviceDirection.ts","core/fake/providers/fake-user.provider.ts","core/fake/providers/fake-variants.provider.ts","core/fake/fake-data.provider.ts","core/fake/providers/fake-auth.provider.ts","core/common/header.parser.ts","core/common/fetch.utils.ts","core/api-urls.ts","core/auth/auth.provider.ts","core/common/date-time.ts","core/common/get-by-conditions.utils.ts","core/access-dates/access-dates-filter.mapper.ts","core/access-dates/access-dates-sort.mapper.ts","core/access-dates/access-dates.provider.ts","core/access-usings/access-usings-sort.mapper.ts","core/auth/Authority.ts","core/access-usings/access-usings-filter.mapper.ts","core/access-usings/access-usings.provider.ts","core/accesses/access-filter.mapper.ts","core/accesses/access-sort.mapper.ts","core/accesses/access.provider.ts","core/administration/companies/company-filter.mapper.ts","core/administration/companies/company-sort.mapper.ts","core/administration/companies/companies.provider.ts","core/administration/permissions/permissions-filter.mapper.ts","core/administration/permissions/permissions-sort.mapper.ts","core/administration/permissions/permissions.provider.ts","core/administration/roles/role-filter.mapper.ts","core/administration/roles/role-sort.mapper.ts","core/administration/roles/roles.provider.ts","core/administration/users/users-filter.mapper.ts","core/administration/users/users-sort.mapper.ts","core/administration/users/users.provider.ts","core/blocks/blocks-filter.mapper.ts","core/blocks/blocks-sort.mapper.ts","core/blocks/blocks.provider.ts","core/bookings/booking-filter.mapper.ts","core/bookings/booking-sort.mapper.ts","core/bookings/bookings.provider.ts","core/customers/customer-filter.mapper.ts","core/customers/customer-sort.mapper.ts","core/customers/customers.provider.ts","core/device-categories/device-category-filter.mapper.ts","core/device-categories/device-category-sort.mapper.ts","core/device-categories/device-categories.provider.ts","core/devices/devices.utils.ts","core/devices/detectors/detector-filter.mapper.ts","core/devices/detectors/detector-sort.mapper.ts","core/devices/detectors/detectors.provider.ts","core/devices/engines/engine-filter.mapper.ts","core/devices/engines/engine-sort.mapper.ts","core/devices/engines/engines.provider.ts","core/devices/palms/palm-filter.mapper.ts","core/devices/palms/palm-sort.mapper.ts","core/devices/palms/palms.provider.ts","core/devices/passages/passage-filter.mapper.ts","core/devices/passages/passage-sort.mapper.ts","core/devices/passages/passages.provider.ts","core/entrances/entrance-filter.mapper.ts","core/entrances/entrance-sort.mapper.ts","core/entrances/entrance.provider.ts","core/events/event-filter.mapper.ts","core/events/event-sort.mapper.ts","core/events/event.provider.ts","core/extended-logs/extended-log-filter.mapper.ts","core/extended-logs/extended-log-sort.mapper.ts","core/extended-logs/extended-logs.mapper.ts","core/extended-logs/extended-logs.provider.ts","core/objects/object-filter.mapper.ts","core/objects/object-sort.mapper.ts","core/objects/objects.provider.ts","core/seats/seats-filter.mapper.ts","core/seats/seats-sort.mapper.ts","core/seats/seats.provider.ts","core/stats/overall-view/list/overall-view-list-filter.mapper.ts","core/stats/overall-view/list/overall-view-list-sort.mapper.ts","core/stats/overall-view/list/overall-view-list.mapper.ts","core/stats/overall-view/list/overall-view-list.provider.ts","core/stats/overall-view/overall-view.mapper.ts","core/stats/overall-view/overall-view.provider.ts","core/tickets/ticket-filter.mapper.ts","core/tickets/ticket-sort.mapper.ts","core/tickets/tickets.provider.ts","core/tribunes/tribunes-filter.mapper.ts","core/tribunes/tribunes-sort.mapper.ts","core/tribunes/tribunes.provider.ts","core/variants/variants-filter.mapper.ts","core/variants/variants-sort.mapper.ts","core/variants/variants.provider.ts","core/data.provider.ts","core/i18n.provider.ts","core/auth/withSyncPermissions.ts","main/layout/app.theme.ts","main/layout/AppSubmenu.tsx","main/layout/MenuItem.tsx","main/layout/AppMenu.tsx","main/layout/AppLayout.tsx","main/common/SearchInput.tsx","main/common/FindCustomerByInfo.tsx","main/common/FindUserByTicket.tsx","core/auth/authority.mapper.ts","main/hooks/useHasAuthority.ts","main/common/SelectWithPaginationInput.tsx","core/common/dashboard.ts","main/events/EventList.tsx","core/common/visual.utils.ts","main/logs/DateFilterInput.tsx","main/logs/LogsComponents.ts","main/logs/LogList.tsx","main/Dashboard.tsx","main/common/Configuration.tsx","main/common/routes.tsx","lib/@react-admin/ra-editable-datagrid/esm/src/EditRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridRow.js","lib/@react-admin/ra-editable-datagrid/esm/src/CreateRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridCreateForm.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridBody.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/CancelEditButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/CreateButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteWithConfirmIconButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteWithUndoIconButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/EditRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/useEditRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/InlineCreateButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/SaveRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/ActionsColumn.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagrid.js","lib/@react-admin/ra-editable-datagrid/esm/src/RowForm.js","main/common/customized-mui-components/Button.tsx","core/enum/AccessDateTypes.ts","main/common/MappedChipField.tsx","main/common/Pagination.tsx","main/bookings/booking-show/AccessList.tsx","main/common/ParameterizedCreateButton.tsx","core/access-usings/access-using-activation-button.ts","main/common/CheckboxField.tsx","main/common/RelationTab.tsx","core/common/relation-tab-filter.mapper.ts","main/common/RelationTabFilter.tsx","core/access-usings/access-using-activation-button.reducer.ts","core/bookings/toggle-booking-blockade-button.ts","main/configuration/access-usings/AccessUsingActivationButton.tsx","main/configuration/accesses/AccessShow.tsx","main/bookings/booking-show/AccessShow.tsx","core/bookings/toggle-booking-access-button.reducer.ts","core/enum/HardwareVersions.ts","main/bookings/booking-show/ToggleBookingAccessButton.tsx","core/bookings/toggle-booking-blockade-button.reducer.ts","main/bookings/booking-show/ToggleBookingBlockadeButton.tsx","main/bookings/BookingShow.tsx","main/configuration/accesses/AccessCreate.tsx","main/configuration/accesses/AccessEdit.tsx","main/common/QuickFilter.tsx","main/configuration/accesses/AccessList.tsx","main/configuration/variants/VariantCreate.tsx","main/configuration/variants/VariantEdit.tsx","main/configuration/variants/VariantList.tsx","main/configuration/variants/VariantShow.tsx","main/customers/CustomerCreate.tsx","main/customers/CustomerEdit.tsx","main/common/MaskField.tsx","core/common/mask.utils.ts","main/customers/CustomerList.tsx","main/customers/CustomerShow.tsx","main/device-categories/DeviceCategoryCreate.tsx","main/device-categories/DeviceCategoryEdit.tsx","main/device-categories/DeviceCategoryList.tsx","main/device-categories/DeviceCategoryShow.tsx","main/devices/detectors/DetectorCreate.tsx","core/enum/device-modues/DeviceModuleTypes.ts","main/devices/detectors/DetectorEdit.tsx","main/devices/detectors/DetectorList.tsx","core/devices/common/modules/module.mapper.ts","core/enum/Multiplicities.ts","main/devices/common/modules/ModuleStatus.tsx","main/devices/detectors/DetectorShow.tsx","main/devices/engines/EngineCreate.tsx","core/devices/engines/engine-lock-button.ts","main/devices/engines/EngineEdit.tsx","main/devices/engines/EngineList.tsx","core/devices/engines/engine-lock-button.reducer.ts","core/enum/StanbyMode.ts","main/devices/engines/EngineDialogs.tsx","core/devices/palms/palm-device-id-button.ts","main/devices/engines/engine-show/EngineLockButton.tsx","main/devices/engines/engine-show/EngineRemoveTSCanCredentialsButton.tsx","main/devices/engines/engine-show/EngineSetTSCanCredentialsButton.tsx","main/devices/engines/engine-show/EngineStandbyModeButton.tsx","main/devices/engines/EngineShow.tsx","main/devices/palms/PalmCreate.tsx","main/devices/palms/PalmEdit.tsx","main/devices/palms/PalmList.tsx","core/devices/palms/palm-device-id-button.reducer.ts","core/devices/palms/palm-lock-button.ts","main/devices/palms/PalmDialogs.tsx","main/devices/palms/palm-show/PalmDeviceIdButton.tsx","core/devices/palms/palm-lock-button.reducer.ts","core/enum/SPOM4Directions.ts","main/devices/palms/palm-show/PalmLockButton.tsx","main/devices/palms/PalmShow.tsx","main/devices/passages/SPOM4Address.tsx","core/devices/passages/passage-reset-counters-button.ts","main/devices/passages/PassageCreate.tsx","main/devices/passages/PassageEdit.tsx","main/devices/passages/PassageList.tsx","main/devices/passages/PassageDialogs.tsx","main/devices/passages/passage-show/PassageRemoveTSCanCredentialsButton.tsx","core/devices/passages/passage-reset-counters-button.reducer.ts","main/devices/passages/passage-show/PassageResetCountersButton.tsx","main/devices/passages/passage-show/PassageSetTSCanCredentialsButton.tsx","main/devices/passages/PassageShow.tsx","main/configuration/entrances/EntranceCreate.tsx","main/configuration/entrances/EntranceEdit.tsx","main/configuration/entrances/EntranceList.tsx","main/configuration/entrances/EntranceShow.tsx","main/events/EventCreate.tsx","main/events/EventEdit.tsx","core/events/handle-activation-button.reducer.ts","main/events/event-show/StatusTransitionDialog.tsx","main/events/event-show/ToggleActivationButton.tsx","main/events/EventShow.tsx","main/objects/Blocks/BlockCreate.tsx","main/objects/Empty.tsx","main/objects/Blocks/BlocksList.tsx","main/objects/Objects/ObjectCreate.tsx","main/objects/Objects/ObjectEdit.tsx","main/objects/Objects/ObjectList.tsx","main/objects/Seats/SeatsList.tsx","main/objects/Tribunes/TribunesList.tsx","main/objects/Objects/ObjectShow.tsx","main/objects/Seats/SeatCreate.tsx","main/objects/Tribunes/TribuneCreate.tsx","main/stats/overall-view/OverallView.tsx","main/stats/overall-view/OverallViewList.tsx","main/tickets/TicketList.tsx","main/configuration/access-dates/AccessDateCreate.tsx","main/administration/companies/CompanyList.tsx","main/administration/users/UserCreate.tsx","main/administration/users/UserEdit.tsx","main/administration/companies/CompanyShow.tsx","main/administration/roles/RoleList.tsx","main/administration/roles/RoleShow.tsx","main/administration/users/UserList.tsx","main/administration/users/UserShow/UserDialogs.tsx","main/administration/users/UserShow/UserChangePasswordButton.tsx","main/administration/users/UserShow.tsx","main/administration/companies/CompanyEdit.tsx","main/administration/companies/CompanyCreate.tsx","main/administration/roles/RoleEdit.tsx","core/csv/csv.consts.ts","core/csv/choices.reducer.ts","core/csv/csv-data.reducer.ts","core/csv/csv-form-processor.ts","core/csv/csv-processor.ts","main/common/import/ImportCsvPreview.tsx","main/common/import/ImportView.tsx","main/common/import/ImportCsvButton.tsx","main/common/import/ImportBase.tsx","core/csv/csv-types.ts","main/common/import/Import.tsx","main/tickets/TicketImport.tsx","main/Resources.tsx","core/common/dashboard.reducer.ts","App.tsx","core/providers.factory.ts","reportWebVitals.ts","i18n.init.ts","index.tsx"],"names":["PreferencesContext","createContext","undefined","RA_PREFERENCE_WORKSPACE","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","getPreferencesStorage","localStorageAvailable","testLocalStorage","window","localStorage","memoryStorage","readStorage","key","preferences","JSON","parse","getItem","tryParse","get","writeStorage","value","storage","newPreferences","set","setItem","stringify","dispatchEvent","PreferencesChanged","create","err","TypeError","message","includes","_a","removeItem","eventName","payload","CustomEvent","detail","usePreferences","defaultValue","useState","storedValue","localState","updateLocalState","preferencesContext","useContext","onPreferencesChange","event","newValue","onLocalStorageChange","useEffect","addEventListener","canWrite","removeEventListener","writeState","useCallback","previousData","data","updatePreferences","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defaultThemeFromType","type","palette","PreferencesBasedThemeProvider","children","_b","themeFromType","rest","theme","useMemo","isValidElement","Error","cloneElement","ToggleThemeButton","translate","useTranslate","setTheme","toggleThemeTitle","_","React","createElement","Tooltip","title","enterDelay","IconButton","color","onClick","Brightness4Icon","Brightness7Icon","LanguageSwitcher","languages","defaultLanguage","classes","useStyles","_c","anchorEl","setAnchorEl","locale","useLocale","setLocale","defaultLocale","useSetLocale","setLocaleInPreferences","useSetLocaleAndPreference","changeLocale","Fragment","Button","currentTarget","LanguageIcon","className","languageContainer","language","find","name","getNameForLocale","ExpandMoreIcon","fontSize","Menu","id","keepMounted","open","Boolean","onClose","map","MenuItem","makeStyles","marginLeft","spacing","SidebarOpenPreferenceSync","sidebarOpenFromStore","useSelector","state","admin","ui","sidebarOpen","sidebarPref","setSidebarPref","dispatch","useDispatch","stateRef","useRef","current","setSidebarVisibility","columnsContainer","margin","listItem","paddingLeft","listItemText","floatingIcon","position","top","right","floatingTooltip","action","disabled","titleContainer","alignItems","display","marginTop","titleIcon","marginRight","BookmarkIcon","root","button","form","PreferencesEditorContext","usePreferencesEditor","history","createMemoryHistory","PreferencesEditor","props","setHistory","Router","Route","path","render","PreferencesEditorDialogTitle","disable","setEditor","DialogTitle","disableTypography","size","backButton","location","pathname","goBack","BackIcon","Typography","align","closeButton","CloseIcon","cursor","padding","left","grey","PreferencesEditorDialogContext","EditorTitle","setTitle","__spreadArray","to","from","il","j","ReferenceFieldInput","label","resource","onChange","model","useResourceModel","fields","displayField","inferBestReferenceDisplayField","initialValue","fieldChoices","keys","field","getFieldLabelTranslationArgs","source","push","choices","setChoices","autocompleteFilter","createFilterOptions","Autocomplete","freeSolo","options","newKey","prev","inputValue","filterOptions","params","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","TextField","renderOption","option","getOptionLabel","FAVORITE_DISPLAY_FIELD_NAMES","types","best","entries","entry","toLowerCase","FieldTypeInput","FormControl","fullWidth","InputLabel","Select","labelId","FieldTypesChoices","InferenceTypes","marginBottom","ReferenceResourceInput","resources","getResources","getResourceLabel","useGetResourceLabel","resourcesChoices","preferencesKey","resourceModel","setResourceModel","inferResourceModel","values","getValuesFromRecords","forEach","fieldType","inferTypeFromValues","ResourceModelFieldEditor","saveModel","target","reference","referenceField","optionText","ResetSettingsButton","setOpen","setPrefs","Confirm","isOpen","loading","content","onConfirm","error","main","backgroundColor","background","paper","fade","ListItemLink","renderLink","forwardRef","itemProps","ref","RouterLink","ListItem","component","ResourceModelEditor","routeMatch","useRouteMatch","Switch","List","dense","ListItemText","primary","ResourcesModelsEditor","exact","EditResourcesModelsButton","PreferencesEditorRoot","PreferencesEditorDialog","editor","isEnabled","memoizedContext","useTheme","x","document","body","clientWidth","breakpoints","sm","y","dialogPosition","setDialogPosition","Modal","disableBackdropClick","hideBackdrop","disableEnforceFocus","disableScrollLock","BackdropComponent","Draggable","handle","cancel","defaultPosition","onStop","Paper","elevation","Provider","width","transition","transitions","overflowY","maxHeight","paddingTop","instructions","displayName","OpenEditorButton","SettingsIcon","translatedLabel","popper","zIndex","modal","element","boxShadow","popover","pointerEvents","popoverContent","maxWidth","toolbar","spacer","flexGrow","paddingRight","template","fontFamily","typography","fixed","dl","gridTemplateColumns","dt","dd","opacity","switch","editButton","addFieldButton","filterItemRow","filterItemField","flex","filterItemValue","deleteButton","height","objectInput","borderLeft","divider","paddingBottom","CHANGE_EXPANDED_NODES","EXPAND_NODE","UNSAVED_NEW_NODE","initialState","reducer","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","requestPayload","meta","resourceState","nodes","expanded","String","newExpanded","current_1","concat","filter","some","item","pop","_v","_w","console","warn","nodesToRemove_1","getNodesToRemove","idToRemove","reduce","acc","curr","parentId","_x","_y","fetchResponse","node","nodeId","ids","child","GET_LOCK","GET_LOCKS","LOCK","UNLOCK","useLock","useSubscribe","topic","subscriptionCallback","dataProvider","useDataProvider","subscribe","unsubscribe","useSubscribeToRecordList","EventType","getColor","darken","lighten","getBackgroundColor","body2","borderRadius","shape","warning","RealTimeMenuItemLink","primaryText","leftIcon","badgeColor","sidebarIsOpen","useLocation","countEvent","setCountEvent","count","isMenuActive","activeRecordId_1","getActiveRecordIdFromRoute","previous","handleMenuTap","renderMenuItem","classnames","activeClassName","active","NavLinkRef","StyledBadgeForIcon","badgeContent","ListItemIcon","icon","titleAccess","StyledBadgeForText","placement","NavLink","innerRef","text","secondary","minWidth","withStyles","badge","border","Badge","menuProps","currentPath","menuPath","startIndex","toString","endIndex","substring","flexDirection","justifyContent","translatedResourceName","smart_count","inflection","humanize","pluralize","RealTimeMenu","hasDashboard","onMenuClick","logout","isXSmall","useMediaQuery","down","shallowEqual","router","DashboardMenuItem","r","hasList","DefaultIcon","defaultProps","locksReducer","recordId","lock","newState","raRealTimeEnglishMessages","refresh","event_type","updated","created","deleted","notification","record","list","refreshed","lockedBySomeoneElse","lockedByMe","unlocked","noLock","cannotUnlock","AppBreadcrumbContext","AppBreadcrumbContextProvider","context","buildResourceLocationInfoPath","useResourceAppLocation","resourceLocationInfo","_i","resources_1","name_1","match","showMatch","RegExp","resourceId","matchEdit","resolveResourceLocationInfo","useAppLocationState","LocationContext","setLocation","DASHBOARD","ResourceLocationListener","resourceLocation","currentResourceLocation","defaultLocation","AppLocationContext","initialLocation","locations","timeout","optimizedSetLocation","appLocation","setTimeout","currentLocation","currentLocationLength","split","locationLength","getDeepestLocation","useAppLocationMatcher","pathToMatchParts","isMatch","part","index","useHasDashboard","Breadcrumb","variant","finalHasDashboard","dashboard","actions","Children","separatorResolver","separator","listStyle","textDecoration","resolveOrReturn","valueOrFunction","BreadcrumbItem","locationMatcher","exactMatch","resolvedLabel","resolvedTo","Link","useResourcesBreadcrumbPaths","selectedResources","paths","resourcePaths","resourceLabelPlural","resourceLabelSingular","linkToRecord","buildResourcesBreadcrumbPaths","DashboardBreadcrumbItem","ResourceBreadcrumbItems","resourcesPaths","disablePadding","MultiLevelMenuContext","useMultiLevelMenu","link","whiteSpace","gutters","nestedList","hiddenNestedList","MenuItemCategory","rootRef","subMenuRef","multiLevelMenuContext","isActive","isSubMenuOpen","setIsSubMenuOpenState","setIsSubmenuOpen","setIsOpen","callback","openingName","startsWith","onOpen","offOpen","hasSubItems","setHasCategories","focusables","querySelectorAll","focus","handleCloseSubMenu","Popover","anchorOrigin","AnchorOrigin","transformOrigin","TransformOrigin","container","popoverPaper","TransitionComponent","Slide","TransitionProps","style","appBar","vertical","horizontal","direction","common","white","caption","black","minHeight","borderTopLeftRadius","borderBottomLeftRadius","MultiLevelMenu","initialOpen","openedItems","isFirstLoad","setIsFirstLoad","openingListeners","Array","close","Set","add","toggle","hasCategories","l","navWithCategories","nav","defaultTheme","overrides","RaSidebar","drawerPaper","borderStyle","addButton","removeButton","borderWidth","borderColor","overflow","listHeader","borderBottom","selectedList","availableList","UsingRegexp","useReferenceManyToManyFieldController","sort","through","using","perPage","unique","sourceField","targetField","throughManyReferences","useGetManyReference","page","allReferencesIds","referencesIds","uniq","references","useGetMany","basePath","v","currentSort","loaded","total","ReferenceManyToManyField","sortBy","referenceManyToManyProps","ListContextProvider","displayedFilters","filterValues","hasCreate","onSelect","onToggleItem","onUnselectItems","hideFilter","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","order","addLabel","getReferenceManyToManyFormField","ManyToManyReferenceContext","useReferenceManyToManyInputController","validate","enabled","temporaryFieldName","temporaryFieldInitialValue","setTemporaryFieldInitialValue","temporaryField","useField","composeValidators","useForm","referenceIdsEffectSignature","join","targetId","change","resetFieldState","possibleValues","useGetList","input","refetch","handleChange","eventOrValue","onBlur","useManyToManyReferenceContext","registerManyToManyInput","unregisterManyToManyInput","ReferenceManyToManyInput","idOverride","format","onFocus","useInput","isRequired","childProps","helperText","translateChoice","limitChoicesToValue","only","raTreeEnglishMessages","drag_preview","root_target","item_moved","new_node","add_root","add_child","SearchInput","InputProps","placeholder","handleClickClearButton","preventDefault","handleFocus","handleBlur","clearButton","clearIcon","inputAdornmentEnd","inputAdornmentStart","visibleClearIcon","inputClassName","inputBaseClassName","inputBase","restClasses","inputProps","startAdornment","InputAdornment","SearchIcon","endAdornment","disableRipple","onMouseDown","handleMouseDownClearButton","ClearIcon","classNames","SearchResultContext","subHeader","query","raSearcheEnglishMessages","recent","resourceDefinition","singularize","useEventLabel","pluralizeResource","useRecordContext","actionPluralOptions","translateOptions","slice","all_fields","finalVariant","variantTranslationKeys","full","inline","record_many_fields","delete","deleteMany","update","updateMany","ActionField","actionLabel","sanitizeFieldRestProps","EventAvatar","src","fullName","Avatar","getInitials","PersonIcon","small","medium","toUpperCase","AvatarField","fullNameSource","role","AuthorField","authorResource","ReferenceField","author","ResourceField","flexWrap","authorContainer","avatar","date","card","subTitle","hover","events","up","cardContent","AccordionFormToolbar","alwaysEnableSaveButton","handleSubmit","handleSubmitWithRedirect","invalid","pristine","redirect","saving","submitOnEnter","undoable","valueOrDefault","Toolbar","mobileToolbar","desktopToolbar","defaultToolbar","SaveButton","DeleteButton","onSave","bottom","boxSizing","flexShrink","withWidth","initialWidth","DefaultAccordion","MuiAccordion","DefaultAccordionSummary","MuiAccordionSummary","DefaultAccordionDetails","MuiAccordionDetails","AccordionSection","Accordion","AccordionDetails","AccordionSummary","defaultExpanded","square","setExpanded","hasErrors","hasInputsWithError","getState","errors","expandIcon","summary","heading","secondaryHeading","FormInput","toArray","pxToRem","flexBasis","WizardProgress","currentStep","onStepClick","steps","handleStepClick","Stepper","activeStep","step","intent","Step","StepButton","StepLabel","raFormLayoutLanguageEnglish","next","defaultMessages","en","mergeTranslations","raRealTimeLanguageEnglish","duallistinput","select","unselect","availableItems","selectedItems","raTreeLanguageEnglish","raSearchLanguageEnglish","inline_event","record_event","record_many_fields_events","period_filters","today","this_week","this_month","this_quarter","englishMessages","buildI18nProvider","messages","mergedMessages","cloneDeep","polyglotI18nProvider","AppBar","DefaultAppBar","textOverflow","DefaultBreadcrumb","useTour","stateContextHook","StateContext","dispatchContextHook","DispatchContext","tooltipProps","continuous","backProps","closeProps","primaryProps","skipProps","isLastStep","stop","hideBackButton","showSkipButton","styles","output","back","skip","last","tooltip","tooltipContainer","tooltipTitle","tooltipContent","tooltipFooter","ErrorFallback","componentStack","resetErrorBoundary","Tour","tours","joyrideProps","running","stepIndex","activeTour","defaultJoyRideProps","stepJoyrideProps","ErrorBoundary","FallbackComponent","onError","onReset","Joyride","showProgress","disableCloseOnEsc","disableOverlayClose","spotlightClicks","tooltipComponent","run","tour","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","result","done","then","__generator","f","g","sent","trys","ops","verb","Symbol","iterator","op","waitAndReturn","getter","interval","maxTries","iterations","getterInterval","setInterval","clearInterval","TourProvider","tools","useReducer","start","before","stepBefore","querySelector","stepAfter","globalAfter","after","nextStep_1","nextTarget","previousStep_1","previousTarget","Layout","sidebar","menu","notify","useNotify","useRedirect","useRefresh","RA_TOUR_PREFERENCE_KEY","tourPreferences","setTourPreferences","DefaultLayout","DashboardIcon","buildThemeFromTypeMethod","lightTheme","darkTheme","merge","defaultDarkTheme","defaultLightTheme","RaTopToolbar","RaListToolbar","default","Admin","customReducers","i18nProvider","mergedCustomReducers","tree","locks","navigationTheme","DefaultAdmin","layout","FilterForm","filtersProps","filters","initialValues","useListContext","shownFilters","FilterContext","filterElement","alwaysOn","RaFilterForm","emptyForm","ListToolbar","isArray","ListActions","breadcrumb","exporter","filtersProp","useResourceContext","useResourceDefinition","TopToolbar","sanitizeListRestProps","FilterButton","CreateButton","ExportButton","ListView","aside","bulkActionButtons","Content","empty","defaultExporter","pagination","hasEdit","hasShow","syncWithLocation","controllerProps","getListControllerProps","listContext","defaultTitle","version","useVersion","shouldRenderEmptyPage","Title","bulkActionsDisplayed","BulkActionsToolbar","hasBulkActions","renderList","DefaultBulkActionButtons","BulkDeleteButton","Card","DefaultPagination","Empty","noResults","CHANGE_THEME","UPDATE_DASHBOARD","identity","darkMode","themeReducer","ResourceName","AccessActivePeriodStartingOptions","AccessBonuses","DayOfWeek","provider","getList","a","BlockType","fakeAccesses","bonus","N","entranceId","allowReenter","multipleEntry","multiple","usePriority","isTicketUnlockedWithNextDay","releaseTime","releaseDayOfWeek","Friday","releaseDayOfMonth","delay","activePeriod","activePeriodStartingFrom","FIRST_USE","variantsIds","accessDatesIds","createdById","modifiedById","createdAt","modifiedAt","BookingDisabledOption","BookingType","fakeBlocks","NUMBERED","code","tribuneId","bookingsIds","seatsIds","CustomerDocumentType","Gender","fakeBookingsList","NORMAL","STORNO","activeFrom","activeTo","eventId","seatId","blockId","customerId","variantId","ticketsIds","getOne","found","fakeCompanies","usersIds","eventsIds","EventStatus","fakeCustomers","firstname","lastname","company","birthdate","documentType","ID_CARD","pesel","documentNumber","nationality","gender","MALE","c","fakeDetectors","fakeDeviceCategories","devicesIds","fakeEngines","fakeEntrances","TicketType","fakeEvents","dateStart","dateEnd","status","INACTIVE","externalId","infix","objectsIds","fakeLogs","ticketCode","bookingId","deviceName","fakeObjects","tribunesIds","fakePalms","fakePassages","fakePermissions","fakeRoles","fakeSeats","rowAlias","numberAlias","fakeStatsOverallViewList","capacity","sold","entered","objects","TribuneType","fakeTickets","ticketType","K","accessUsingsIds","DeviceDirection","fakeTribunes","VIRTUAL","objectId","blocksIds","MANUAL","fakeUsers","fakeVariants","accessesIds","dataProviders","ACCESS_DATES","fakeAccessDatesProvider","ACCESSES","fakeAccessesProvider","ACCESS_USINGS","fakeAccessUsingsProvider","BOOKINGS","fakeBookingsProvider","COMPANIES","fakeCompaniesProvider","CUSTOMERS","fakeCustomersProvider","DETECTORS","fakeDetectorsProvider","DEVICE_CATEGORIES","fakeDeviceCategoriesProvider","ENGINES","fakeEnginesProvider","ENTRANCES","fakeEntrancesProvider","EVENTS","fakeEventsProvider","LOGS","fakeLogsProvider","OBJECTS","fakeObjectsProvider","PALMS","fakePalmsProvider","ROLES","fakeRolesProvider","PERMISSIONS","fakePermissionsProvider","PASSAGES","fakePassagesProvider","STATS_OVERALL_VIEW","fakeStatsOverallViewProvider","STATS_OVERALL_VIEW_LIST","fakeStatsOverallViewListProvider","TRIBUNES","fakeTribunesProvider","BLOCKS","fakeBlocksProvider","SEATS","fakeSeatsProvider","TICKETS","fakeTicketsProvider","TICKET_LOGS","USERS","fakeUsersProvider","VARIANTS","fakeVariantsProvider","fetchType","sanitizeFetchType","authProvider","login","checkError","checkAuth","getPermissions","getIdentity","contentRangeParser","headerValue","rangeFrom","summarySecondPartSplit","rangeTo","parseInt","getToken","baseHeaders","authHeaders","token","Authorization","getWithHeaders","url","headers","fetchUtils","fetchJson","method","Headers","json","postWithHeaders","baseUrl","getWithToken","getByConditions","getWithPagination","range","post","patch","put","API_V1","process","AUTH_URL","ROLES_URL","ACCESSES_URL","ACCESS_DATES_URL","BOOKINGS_URL","CUSTOMERS_URL","EVENTS_URL","EXTENDED_LOGS_URL","TICKETS_URL","VARIANTS_URL","SEATS_URL","BLOCKS_URL","TRIBUNES_URL","OBJECTS_URL","ENGINES_URL","PALMS_URL","ADMINISTRATOR_URL","ENTRANCES_URL","DEVICE_CATEGORIES_URL","PASSAGES_URL","DETECTORS_URL","username","password","roleDtos","roles","formatDate","formatTime","ignoreTimezoneOffset","tzoffset","getTimezoneOffset","Date","getTime","filterParamsComposer","lambdaParameter","filterMapper","filterParams","mapper","val","queryParamsComposer","sortMapper","queryParams","mapping","accessId","timeFrom","timeTo","mapSortAccessDatesParam","pathParams","toISOString","priority","dayOfWeek","Authority","ticketId","mapSortAccessUsingsParam","pendingUpdates","auId","req","all","accessUsings","au","ticketIds","accessIds","request","flatMap","IN","verifierDeviceId","getMany","filterVariantId","otherValues","mapSortAccessParam","attachVariants","accessVariants","detachVariants","filterEventId","mapSortCompanyParam","filterRoleId","roleId","mapSortRoleParam","filterUserId","userId","attachPermissions","engineEntrances","detachPermissions","userName","companyId","mapSortUserParam","requirePasswordUpdate","changeUserPassword","newPassword","generateResetUserPasswordToken","attachRoles","detachRoles","getRoles","mapSortBlockParam","mapSortBookingParam","booking","info","q","mapSortCustomerParams","customer","parentIds","notId","mapSortDeviceCategoryParam","deviceCategory","getDeviceCategories","categoryId","categoriesIds","selectedCategory","resolveParents","parentCategoriesfilters","deviceCategoryfilterMapper","childrenCategories","newChildren","cc","categoryIdWithDescendants","hardwareVersion","address","mapSortDetectorParam","extendedFilter","isWatched","engine","eventActive","ACTIVE","filterEntranceId","mapSortEngineParam","onlineInfixCeck","multiplicity","attachEvents","engineEvents","detachEvents","attachEntrances","detachEntrances","setTSCanCredentials","removeTSCanCredentials","unlock","setStandbyMode","mapSortPalmParam","palm","palmId","lockName","setMobileDeviceId","mobileDeviceId","resetMobileDeviceId","entrancesIds","mapSortPassageParam","passage","freeEntrancesCount","freeExitsCount","ticketEntrancesCount","ticketExitsCount","unauthorizedEntrancesCount","unauthorizedExitsCount","resetCounters","response","setLockState","setPowerState","setPPOZState","setFreePassState","note","filterVerifierDeviceId","mapSortEntranceParam","getManyReference","entrance","attachDevices","entranceDevices","detachDevices","mapSortEventParam","activate","deactivate","getCompanies","companies","attachCompanies","eventCompanies","detachCompanies","attachObjects","eventObjects","detachObjects","getDevices","devices","eventDevices","mapSortLogParam","mapToExtendedLog","scheme","device","logEntry","extendedLogs","dto","mapSortObjectParam","object","mapSortSeatParam","hasObjects","mapSortOverallViewParam","mapToEventOverallView","overallViewList","calculateCapacity","seats","bookings","b","mapToTribuneOverallView","tribune","blocks","enteredBookingIds","block","filteredSeats","filteredBookingIds","filteredBookings","book","filteredEnteredBookingIds","enteredBookingId","filteredEnteredBookings","enteredBookings","soldNormal","enteredNormal","soldAbo","ABO","enteredAbo","soldInfix","INFIX","enteredInfix","soldService","SERVICE","enteredService","soldPoints","POINTS","enteredPoints","mapToBlockOverallView","mapToOverallView","selectedEvent","tribunes","o","filteredTribunes","filteredBlocks","filteredSeatIds","mapToObjectOverallView","pendingSelectedEvent","pendingObjects","pendingTribunes","pendingBlocks","pendingSeats","bookingsCondition","pendingBookings","pendingEnteredBookings","overallViewData","bookingType","customerFirstname","customerLastname","customerPesel","mapSortTicketParam","ticket","createMany","tickets","mapSortTribuneParam","filterAccessId","mapSortVariantParam","attachAccesses","variantAccesses","detachAccesses","accessDatesProvider","accessesProvider","accessUsingsProvider","bookingsProvider","companiesProvider","customersProvider","detectorsProvider","engineProvider","entrancesProvider","eventsProvider","logsProvider","objectsProvider","palmProvider","rolesProvider","permissionsProvider","passagesProvider","statsOverallViewProvider","statsOverallViewListProvider","ticketsProvider","tribunesProvider","blocksProvider","seatsProvider","usersProvider","variantsProvider","deviceCategoriesProvider","i18n","changeLanguage","getLocale","areRolesOutOfSync","local","remote","every","has","validateRoles","rolesFromRemote","rolesFromLocalStorage","withSynchronizedPermissions","Proxy","overriddenTheme","body1","fontWeight","h5","RaFilter","closedWidth","LightTheme","deepPurple","green","DarkTheme","light","dark","contrastText","sidebarIsClosed","slideIn","transitionDelay","SubMenu","handleToggle","expandIconVisible","setExpandIconVisible","containerRef","header","in","Collapse","unmountOnExit","availableResources","MenuItemLink","easing","sharp","duration","leavingScreen","closed","AppMenu","avRes","menuStats","menuDevices","menuConfiguration","menuAdministration","menuState","setMenuState","userSelect","Receipt","Event","ViewComfy","Sort","transform","anyDeviceResourcesAvailable","VideoLabel","PhoneAndroid","AccountBalanceWallet","CenterFocusStrong","ArrowForward","Category","anyConfigurationResourcesAvailable","SettingsApplications","ExitToApp","Assessment","DirectionsWalk","anyAdministrationResourcesAvailable","SupervisorAccount","Apartment","VerifiedUser","Group","AccountBalance","AppUserMenu","UserMenu","AppTopBar","userMenu","AppLayout","RoundInputBox","Box","RoundInputBoxBtn","RoundInputBoxFC","onValue","inputError","setInputError","setInputValue","handleClick","Input","disableUnderline","onInput","onKeyDown","ev","FormHelperText","FindCustomerByInfo","useHistory","setError","useMutation","mutate","fetchCustomers","GET_LIST","returnPromise","replace","onlyCustomer","search","CardHeader","CardContent","FindUserByTicket","fetchTickets","onlyTicket","VIEW_USER_MANAGEMENT","VIEW_LOGS","VIEW_STATS_OVERALL_VIEW","VIEW_COMPANIES","EDIT_COMPANIES","CREATE_COMPANIES","VIEW_USERS","EDIT_USERS","CREATE_USERS","VIEW_ROLES","EDIT_ROLES","CREATE_ROLES","VIEW_ACCESS_DATES","EDIT_ACCESS_DATES","CREATE_ACCESS_DATES","VIEW_ACCESSES","EDIT_ACCESSES","CREATE_ACCESSES","VIEW_ACCESS_USINGS","EDIT_ACCESS_USINGS","CREATE_ACCESS_USINGS","VIEW_BLOCKS","EDIT_BLOCKS","CREATE_BLOCKS","VIEW_BOOKINGS","EDIT_BOOKINGS","CREATE_BOOKINGS","VIEW_CUSTOMERS","EDIT_CUSTOMERS","CREATE_CUSTOMERS","VIEW_EVENTS","EDIT_EVENTS","CREATE_EVENTS","VIEW_OBJECTS","EDIT_OBJECTS","CREATE_OBJECTS","VIEW_SCHEMES","EDIT_SCHEMES","CREATE_SCHEMES","VIEW_SEATS","EDIT_SEATS","CREATE_SEATS","VIEW_TICKETS","EDIT_TICKETS","CREATE_TICKETS","VIEW_TRIBUNES","EDIT_TRIBUNES","CREATE_TRIBUNES","VIEW_VARIANTS","EDIT_VARIANTS","CREATE_VARIANTS","VIEW_ENGINES","EDIT_ENGINES","CREATE_ENGINES","VIEW_PALMS","EDIT_PALMS","CREATE_PALMS","VIEW_PALM_SCHEME_DATA","EDIT_PALM_SCHEME_DATA","CREATE_PALM_SCHEME_DATA","VIEW_PASSAGES","EDIT_PASSAGES","CREATE_PASSAGES","VIEW_DETECTORS","EDIT_DETECTORS","CREATE_DETECTORS","VIEW_DEVICE_CATEGORIES","EDIT_DEVICE_CATEGORIES","CREATE_DEVICE_CATEGORIES","VIEW_ENTRANCES","EDIT_ENTRANCES","CREATE_ENTRANCES","hasAuthorityWithGivenPermissions","authority","permissions","permissionSet","mapAuthorityToRequiredPermissions","reqPerms","useHasAuthority","usePermissions","SelectWithPaginationInput","allowEmpty","createLabel","createValue","emptyText","emptyValue","onCreate","optionValue","paginationProps","useChoices","getChoiceText","getChoiceValue","touched","submitError","renderEmptyItemOption","renderMenuItemOption","choice","newItem","useSupportCreateSuggestion","getCreateItem","handleChangeWithCreateSupport","ResettableTextField","FieldTitle","clearAlwaysVisible","InputHelperText","createItem","renderCreateItem","Pagination","disableValue","DashboardItem","actionColumnsWithoutPadding","LastEvents","hasAuthority","FunctionField","EventDateField","toDateString","DateField","getHours","getMinutes","showTime","EventGrid","compactMode","smallScreen","rowClick","EventFilters","TextInput","SelectInput","ReferenceInput","rowsPerPageOptions","EventList","getContrastColor","hexcolor","convertedColor","createStyles","verticalAlign","mobileContainer","alignSelf","mobileIcon","DateFilterInput","xSmallScreen","defaultFromDate","now","setHours","defaultToDate","dateFrom","setDateFrom","dateTo","setDateTo","convertedDate","toJSON","VCenterGrid","Grid","VHCenterGrid","BookingButton","ShowButton","LogExpand","noBooking","xs","Divider","LogBody","rowStyle","expand","TableBody","DatagridRow","hour","minute","second","LogHeader","DatagridHeader","sortable","LogFilters","LogList","listProps","isRowExpandable","INACTIVE_COMPONENTS_KEY","textAlign","letterSpacing","lastLogs","TicketFinder","CustomerFinder","LastLogs","ResourceContextProvider","Dashboard","inactiveComponents","isItemActive","inactiveItems","titleTypographyProps","TICKET_FINDER","LAST_EVENTS","CUSTOMER_FINDER","LAST_LOGS","compsContainer","DashboardItemSwitch","dashboardItem","FormControlLabel","control","checked","labelPlacement","DashboardCustomization","Configuration","ButtonGroup","EditRowContext","getTableClickEventPosition","column","td","closest","tr","parentNode","columns","row","tbody","rows","visibility","emptyObject","EditableRow","mutationMode","isEdit","setEdit","openEditMode","closeEditMode","useUpdate","defaultOnSuccess","defaultOnFailure","useSaveModifiers","onFailure","onSuccess","onSuccessRef","setOnSuccess","onFailureRef","setOnFailure","transformRef","setTransform","save","onSuccessFromSave","onFailureFromSave","transformFromSave","CRUD_UPDATE","saveContext","rowContext","SaveContextProvider","quitEditMode","CreateRowContext","EditableDatagridCreateForm","createForm","hasStandaloneCreateForm","isStandaloneCreateFormVisible","closeStandaloneCreateForm","useCreate","hideCreateForm","CRUD_CREATE","createFormElement","selectable","EditableDatagridBody","isRowSelectable","editForm","rowIndex","EditableDatagridRow","rowEven","rowOdd","clickableRow","selected","muiName","CancelEditButton","CancelIcon","AddIcon","DeleteWithConfirmIconButton","confirmTitle","confirmContent","redirectTo","mode","getMutationMode","useDeleteWithConfirmController","handleDialogOpen","handleDialogClose","handleDelete","ActionDelete","DeleteWithUndoIconButton","useDeleteWithUndoController","DeleteRowButton","EditRowButton","ContentCreate","InlineCreateButton","SaveRowButton","dirty","evt","stopPropagation","ContentSave","ActionsColumn","noDelete","EditableDatagrid","useDatagridStyles","setShowStandaloneCreateForm","openStandaloneCreateForm","isInListView","datagridBody","Datagrid","actionColumn","RowForm","useSaveContext","Form","onSubmit","TableRow","TableCell","ExpandRowButton","Checkbox","cellClassName","labelRightIcon","smallIcon","mediumIcon","largeIcon","alignIcon","useSmallVersion","useSmallVersionBreakpoint","restProps","AccessDateTypes","MappedChipField","mappedValue","Labeled","Chip","MobilePostPagination","nbPages","Math","ceil","AccessList","URLSearchParams","ToggleType","ParameterizedCreateButton","searchParams","_scrollToTop","scrollToTop","formClassName","headerClassName","linkType","sortByOrder","CheckboxField","checkBySource","RelationTab","attachMethod","detachMethod","attachRequestPayload","detachRequestPayload","refetchListAfterChange","relationsRequestMethod","relationsRequestPayload","relationsMapper","filterDefaultValues","useShowContext","recordResource","useQuery","relationsDto","refetchRelationsIds","relations","handleAttach","idsToAttach","handleDetach","idsToDetach","isAttached","relatedRecordId","Actions","refetchList","getFilteredRelatedRecordsIds","handleAttachAll","handleDetachAll","AttachedCheckbox","tableLayout","RelationTabFilter","filterProps","BooleanInput","deactivateMutation","UPDATE","activateMutation","activationButtonInitialState","toggleActivationButtonReducer","mutateQuery","AccessUsingActivationButton","accessUsing","mutationLoading","PowerOff","Power","ShowTitle","GeneralActions","access","EditButton","AccessDetailsTab","displayActions","SimpleShowLayout","NO_LIMIT","AccessDateExpand","accessDate","justify","NumberField","AccessDatesList","predefinedAccessId","EditForm","editProps","DateTimeInput","NumberInput","AccessDatesTab","AccessUsingsExpand","AccessUsingsGrid","AccessUsingsList","AccessUsingsTab","accessUsingsTicketsIdsFilter","selectedAccess","AccessTabs","RelationFilters","TabbedShowLayout","Tab","AccessShow","HardwareVersions","blockMutation","ticketDetails","CREATE","unblockMutation","activeAccessUsingIds","UPDATE_MANY","blockAccessButtonInitialState","DISABLED","toggleAccessButtonReducer","BLOCK","UNBLOCK","ToggleBookingAccessButton","useQueryWithStore","GET_MANY","GET_ONE","blockTicketButtonInitialState","toggleTicketButtonReducer","mutateParam","ADMIN","ToggleBookingBlockadeButton","BookingTicketCreate","BookingTicketEdit","day","month","year","BookingTicketsGrid","BookingTickets","Filters","BookingLogsView","ProfileDetailsView","AccessDetailsView","startIcon","newQueryParams","StatusButtons","BookingHeader","m","paragraph","BookingView","BookingTabs","BookingShow","CreateToolbar","ListButton","validateAccessCreate","Number","isNaN","CreateTitle","AccessCreate","defaultChecked","validateAccessEdit","EditTitle","EditToolbar","AccessEdit","QuickFilter","AccessFilters","validateVariantCreate","VariantCreate","validateVariantEdit","VariantEdit","VariantsFilters","VariantList","VariantTabs","VariantShow","validateCustomerCreate","CustomersCreate","validateCustomerEdit","CustomerEdit","MaskField","properRecord","word","threshold","firstChars","lastChars","restCharsLength","repeat","maskMiddlePart","CustomerGrid","smallDevice","CustomerFilters","CustomerList","CustomerDetailsTab","BookingsList","BookingsTab","LogsTab","CustomerTabs","bookingPresent","CustomerDetailsView","validateDeviceCategoryCreate","DeviceCategoryCreate","validateDeviceCategoryEdit","DeviceCategoryTitle","DeviceCategory","useEditContext","DeviceCategoryEdit","DeviceCategoryFilters","DeviceCategoryGrid","DeviceCategoryList","DeviceCategroy","DeviceCategoryShow","DeviceModuleTypes","validateDetectorCreate","Detector","MODULO5","DetectorCreate","validateDetectorEdit","DetectorEdit","DetectorFilters","DetectorList","Multiplicities","moduleObject","moduleMapper","moduleType","module","typeId","moduleTypeEnum","moduleObjectWithId","simpleShowLayoutWithNoPadding","terminatedModuleHeader","borderTop","borderRight","borderTopRightRadius","borderTopColor","borderRightColor","borderLeftColor","terminatedModuleDetails","borderBottomRightRadius","borderBottomColor","ModuleStatusBase","moduleInfo","disableAliasHeader","convertedSerialNumber","serialNumber","originalProductionVersion","productionVersion","convertedProductionVersion","convertedModuleInfo","Body","childrenProps","md","RecordContext","ModuleStatus","fireAlarms","TableContainer","Table","TableHead","allPortsStates","forwardStatus","backwardStatus","fireAlarm","BooleanField","fireAlarmType","powerTurnedOn","freePassForward","freePassBackward","keyLock","tamperLock","directionReversed","turnstileControllerError","ledsColor","bgcolor","isPresenterActive","standbyMode","sensorId","scannerError","mifareError","flashError","sdCardError","licenceError","scannerFirmwareError","contentType","contentNumber","contrast","temperature","humidity","move","fan","heater","moveSensorTimeout","MultiModuleStatus","lastRefresh","valueOf","DeviceStatusesTab","rawJsonStatus","jsonStatus","modules","camelcaseKeys","deep","detector","DetectorTabs","DetectorShow","validateEngineCreate","EngineCreate","SINGLE","validateEngineEdit","Engine","stanbyMode","EngineEdit","EngineFilters","EngineGrid","EngineList","StanbyMode","lockMutation","engineId","unlockMutation","engineLockButtonInitialState","engineLockButtonReducer","dialogProperty","ConfirmDialog","confirm","Dialog","DialogActions","SetTSCanCredentialsDialog","loginValue","setLoginValue","useStateRef","loginError","setLoginError","loginErrorCurrentValue","loginErrorText","setLoginErrorText","passwordValue","setPasswordValue","passwordError","setPasswordError","passwordErrorCurrentValue","passwordErrorText","setPasswordErrorText","confirmOpen","setConfirmOpen","handleClose","handleSetTSCanCredentials","DialogContent","autoComplete","SetStandbyModeDialog","setValue","handleSetStandbyMode","ALWAYS_ON","ALWAYS_OFF","SENSOR","EngineLockDialog","setLockName","handleLock","errorText","setErrorText","EngineLockButton","lockDialogOpen","setLockDialogOpen","unlockDialogOpen","setUnlockDialogOpen","EngineRemoveTSCanCredentialsButton","removeTSCanCredentialsDialogOpen","setRemoveTSCanCredentialsDialogOpen","handleRemoveTSCanCredentials","EngineSetTSCanCredentialsButton","tsCanCredentialsModalOpen","setTSCanCredentialsModalOpen","EngineStandbyModeButton","standbyModeDialogOpen","setStandbyModeDialogOpen","EngineTabs","EventsFilters","EntrancesFilters","EngineShow","validatePalmCreate","PalmCreate","validatePalmEdit","Palm","PalmEdit","PalmFilters","PalmGrid","PalmList","setIdMutation","resetIdMutation","palmDeviceIdButtonInitialState","RESETID","palmDeviceIdButtonReducer","SETID","PalmDeviceIdDialog","deviceId","setDeviceId","PalmLockDialog","PalmDeviceIdButton","setDeviceIdDialogOpen","setSetDeviceIdDialogOpen","resetDeviceIdDialogOpen","setResetDeviceIdDialogOpen","SPOM4Directions","palmLockButtonInitialState","palmLockButtonReducer","PalmLockButton","PalmTabs","PalmShow","SPOM4FullAddressField","addressParts","SPOM4IpGateAddressField","SPOM4FullAddressInput","initialAddressParts","ipGate","setIpGate","tscanHost","setTScanHost","setDirection","rs485Address","setRS485Address","getFinalValue","validatePassageCreate","SPOM4","spom4_ipGate","spom4_tscanHost","spom4_direction","spom4_rs485Address","PassageCreate","setHardwareVersion","defaultValues","validatePassageEdit","Passage","PassageEdit","PassageFilters","PassagesGrid","PassagesList","passageId","PassageRemoveTSCanCredentialsButton","resetMutation","passageResetCountersButtonInitialState","passageResetCountersButtonReducer","RESET","PassageResetCountersButton","resetDialogOpen","setResetDialogOpen","countersEmpty","PassageSetTSCanCredentialsButton","generalActions","CountersActions","CountersTab","PassageTabs","PassageShow","validateEntranceCreate","EntranceCreate","validateEntranceEdit","EntranceEdit","EntranceFilters","EntranceList","EntranceTabs","DevicesFilters","verifierDevicesIds","EntranceShow","validateEventCreate","RelationInputTab","sourceProperty","relationsIds","listSort","listColumns","EventCreate","TabbedForm","FormTab","validateEventEdit","EventEdit","IN_TRANSITION","StatusTransitionDialog","handleSkipDialog","DialogContentText","ToggleActivationButton","transitionDialogOpen","setTransitionDialogOpen","skipTransitionDialog","setSkipTransitionDialog","waitingForJobStart","setWaitingForJobStart","EventTabs","companiesIds","EventShow","validateBlockCreate","BlockCreate","objectIdRaw","required","BlocksGrid","EmptyView","BlocksList","validateObjectCreate","ObjectCreate","validateObjectEdit","ObjectEdit","ListFilters","ObjectGrid","ObjectList","SeatsGrid","SeatsList","TribuneGrid","TribunesList","ObjectShowTitle","ObjectShow","useShowController","validateSeatCreate","SeatCreate","validateTribuneCreate","TribuneCreate","noBottomBorder","quarterWidth","ViewTitle","description","BlockGrid","firstColumnEntries","secondColumnEntries","thirdColumnEntries","TribuneHeader","ArrayField","OverallView","OverallViewGrid","OverallViewFilters","OverallViewList","TicketExpand","TicketGrid","TicketFilters","TicketList","validateAccessDateCreate","AccessDateCreate","accessIdRaw","CompanyFilters","CompanyGrid","CompanyList","validateUserCreate","UserCreate","validateUserEdit","UserEdit","CompanyEvents","CompanyUserCreate","CompanyUserEdit","CompanyUsersGrid","CompanyUsers","CompanyShow","RolesFilters","RolesGrid","RoleList","RoleUsers","RoleTabs","PermissionsFilter","permissionsIds","RoleShow","UsersFilters","UsersGrid","UserList","ChangePasswordDialog","user","handleChangeUserPassword","ChangePasswordButton","dialogOpen","setDialogOpen","UserRoles","rolesIds","records","UserShow","validateCompanyEdit","CompanyEdit","validateCompanyCreate","CompanyCreate","validateRoleEdit","RoleEdit","STATIC_ENTRIES_KEY","TRANSITIONAL_STATIC_ENTRIES_KEY","STATIC_VALUE_ID","primarySelectChoices","choicesReducer","columnNames","columnName","csvDataInitialState","previewRows","csvData","csvDataReducer","aggregate","rawCsvData","transitionalStaticFieldsResolver","mappings","transitionalStaticEntries","restMappings","resolvedStaticEntries","staticEntries","resolvedEntries","entryKey","entryValue","resolveTransitionalStaticEntriesLeftovers","restMappingsWithoutStaticEntries","restMappingsWithoutUnresolvedKeys","applyMappingsToCsvData","mappedDataCollector","csvRecord","mappedRecord","mappedRecordCollector","mappingKey","csvKey","applyMappingsToRecord","processCsvFile","importedFile","res","rej","skipEmptyLines","complete","results","processCsvData","targetModelEntries","fromEntries","fitContent","cellOverflow","columnWidth","columnPadding","ImportCsvPreview","columnIdx","rowIdx","cell","cellIdx","ImportView","createControllerProps","useCreateController","CreateContextProvider","CreateView","ImportCsvButton","refInput","csvDataDispatcher","fileName","setFileName","onFileAdded","files","processedCsvData","click","accept","ml","ImportBase","columnNamesDispatcher","formValuesMapper","formMappings","processedMappings","processedData","mappedData","mt","spacingLeft","Import","selectFields","customMapper","additionalFields","dispatchColumnNames","initialFormValues","setInitialFormValues","fieldNames","formValues","resolvedMappings","fieldName","fieldRequired","FormDataConsumer","formData","restFormDataProps","resettable","TicketImport","DYNAMIC","generateResourcesBasedOnPermissions","Resource","ReceiptIcon","show","edit","ViewComfyIcon","dashboardReducer","App","env","fakeAuthProvider","fakeDataProvider","providersFactory","customRoutes","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lng","use","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","pl","translation","plTranslation","enTranslation","ReactDOM","StrictMode","getElementById"],"mappings":"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,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,MACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,EACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,eAET,CACEiC,GAAI,GACJytB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACNjZ,MAAO,gBAUIohC,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAMqoC,GAAUpf,MAAOof,GAASjsC,WChGhDqsC,GAA2B,CAC/B,CACExkC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,IAEb,CACEviC,GAAI,EACJL,KAAM,YACN8kC,YAAa,GACblC,UAAW,KAUApD,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAMyoC,GAAaxf,MAAOwf,GAAYrsC,WClEtDusC,GAAuB,GAQdvF,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAM2oC,GAAW1f,MAAO0f,GAAUvsC,WCLlDwsC,GAA6B,GAQpBxF,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAM4oC,GAAc3f,MAAO2f,GAAaxsC,WCLxDysC,GAAmC,GAQ1BzF,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAM6oC,GAAiB5f,MAAO4f,GAAgBzsC,WCL9D0sC,GAAuB,GAQd1F,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAM8oC,GAAW7f,MAAO6f,GAAU1sC,WCLlD2sC,GAAuB,CAC3B,CACE9kC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,KAEpB,CACEphC,GAAI,EACJ+kC,SAAU,cACVC,YAAa,IACbjD,QAAS,EACTX,YAAa,CAAC,GAAI,MAUPjC,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAM+oC,GAAW9f,MAAO8f,GAAU3sC,WC9DlD8sC,GAA+C,CACnD,CACEjlC,GAAI,EACJL,KAAM,GACNkkC,UAAW,6BACXC,QAAS,8BAEX,CACE9jC,GAAI,EACJL,KAAM,GACNkkC,UAAW,6BACXC,QAAS,8BAEX,CACE9jC,GAAI,EACJL,KAAM,GACNkkC,UAAW,6BACXC,QAAS,8BAEX,CACE9jC,GAAI,EACJL,KAAM,GACNkkC,UAAW,6BACXC,QAAS,8BAEX,CACE9jC,GAAI,EACJL,KAAM,GACNkkC,UAAW,6BACXC,QAAS,+BAaE3E,GATE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CACdl7B,KAAMkpC,GACNjgB,MAAOigB,GAAyB9sC,WCrChC8sC,GAA0C,CAC9C,CACEjlC,GAAI,EACJxF,UAAW,GACX0qC,SAAU,EACVC,KAAM,EACNC,QAAS,EACTC,QAAS,GACT5X,KAAM,uBAER,CACEztB,GAAI,EACJxF,UAAW,GACX0qC,SAAU,EACVC,KAAM,EACNC,QAAS,EACTC,QAAS,GACT5X,KAAM,uBAER,CACEztB,GAAI,EACJxF,UAAW,GACX0qC,SAAU,EACVC,KAAM,EACNC,QAAS,EACTC,QAAS,GACT5X,KAAM,uBAER,CACEztB,GAAI,EACJxF,UAAW,GACX0qC,SAAU,EACVC,KAAM,EACNC,QAAS,EACTC,QAAS,GACT5X,KAAM,uBAER,CACEztB,GAAI,EACJxF,UAAW,GACX0qC,SAAU,EACVC,KAAM,EACNC,QAAS,EACTC,QAAS,GACT5X,KAAM,wBAgBK0R,GAZE,CACfgD,OAAQ,SAAC58B,EAAD,GAAuC,IAA1BvF,EAAyB,EAAzBA,GACboiC,EAAQ6C,GAAyBvlC,MAAK,SAACmlB,GAAD,MAAO,UAAGA,EAAE7kB,MAASA,KACjE,OAAIoiC,EACKpL,QAAQC,QAAQ,CACrBl7B,KAAMqmC,IAGHpL,QAAQE,OAAO,IAAIj6B,U,ST5DlB0mC,K,MAAAA,E,MAAAA,E,MAAAA,E,MAAAA,E,MAAAA,E,MAAAA,E,MAAAA,E,qBAAAA,Q,KUIZ,ICJY2B,GDINC,GAA2B,CAC/B,CACEvlC,GAAI,EACJqkC,WAAY,IACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,IACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,EACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,4BAEd,CACE7gC,GAAI,GACJqkC,WAAY,eACZmB,WAAY7B,GAAW8B,EACvBpvB,QAAQ,EACRiuB,UAAW,MACXoB,gBAAiB,GACjB9E,UAAW,2BACXC,WAAY,6BAUD1B,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAMwpC,GAAavgB,MAAOugB,GAAYptC,Y,SC9GhDmtC,K,gBAAAA,E,mBAAAA,Q,KCIZ,I,GCJYK,GDINC,GAA6B,CACjC,CACE5lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYO,QAClBC,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,IAEb,CACE/lC,GAAI,EACJL,KAAM,YACNuhC,KAAM,QACN3kC,KAAM+oC,GAAYU,OAClBF,SAAU,EACVC,UAAW,KAUA5G,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAM6pC,GAAc5gB,MAAO4gB,GAAaztC,WEvFxD8tC,GAAuB,GAQd9G,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAMkqC,GAAWjhB,MAAOihB,GAAU9tC,WCLlD+tC,GAA6B,CACjC,CACElmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,EACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,IAEf,CACEnmC,GAAI,GACJL,KAAM,GACN0W,QAAQ,EACR+qB,YAAa,GACb+E,YAAa,KAUFhH,GANE,CAEfC,QAAS,SAAC75B,EAAUyB,GAAX,OACPgwB,QAAQC,QAAQ,CAAEl7B,KAAMmqC,GAAclhB,MAAOkhB,GAAa/tC,WCnDxDiuC,IAAiD,sBACpDrH,GAAasH,aAAeC,IADwB,gBAEpDvH,GAAawH,SAAWC,IAF4B,gBAGpDzH,GAAa0H,cAAgBC,IAHuB,gBAIpD3H,GAAa4H,SAAWC,IAJ4B,gBAKpD7H,GAAa8H,UAAYC,IAL2B,gBAMpD/H,GAAagI,UAAYC,IAN2B,gBAOpDjI,GAAakI,UAAYC,IAP2B,gBAQpDnI,GAAaoI,kBAAoBC,IARmB,gBASpDrI,GAAasI,QAAUC,IAT6B,gBAUpDvI,GAAawI,UAAYC,IAV2B,gBAWpDzI,GAAa0I,OAASC,IAX8B,gBAYpD3I,GAAa4I,KAAOC,IAZgC,gBAapD7I,GAAa8I,QAAUC,IAb6B,gBAcpD/I,GAAagJ,MAAQC,IAd+B,gBAepDjJ,GAAakJ,MAAQC,IAf+B,gBAgBpDnJ,GAAaoJ,YAAcC,IAhByB,gBAiBpDrJ,GAAasJ,SAAWC,IAjB4B,gBAkBpDvJ,GAAawJ,mBAAqBC,IAlBkB,gBAmBpDzJ,GAAa0J,wBAA0BC,IAnBa,gBAoBpD3J,GAAa4J,SAAWC,IApB4B,gBAqBpD7J,GAAa8J,OAASC,IArB8B,gBAsBpD/J,GAAagK,MAAQC,IAtB+B,gBAuBpDjK,GAAakK,QAAUC,IAvB6B,gBAwBpDnK,GAAaoK,YAAcvB,IAxByB,gBAyBpD7I,GAAa4J,SAAWC,IAzB4B,gBA0BpD7J,GAAa8J,OAASC,IA1B8B,gBA2BpD/J,GAAagK,MAAQC,IA3B+B,gBA4BpDjK,GAAaqK,MAAQC,IA5B+B,gBA6BpDtK,GAAauK,SAAWC,IA7B4B,IAgCxC,YACbC,EACAjkC,EACAyB,GAIA,OAFyBo/B,GAAc7gC,GAC1BkkC,aAAkBD,IACDjkC,EAAUyB,ICpD3B0iC,GAboB,CACjCC,MAAO,kBAAM3S,QAAQC,WACrBze,OAAQ,kBAAMwe,QAAQC,WACtB2S,WAAY,kBAAM5S,QAAQC,WAC1B4S,UAAW,kBAAM7S,QAAQC,WACzB6S,eAAgB,kBAAM9S,QAAQC,QAAQ,IAAI3U,IAAI,MAC9CynB,YAAa,kBACX/S,QAAQC,QAAQ,CACdj3B,GAAI,UACJusB,SAAU,c,UCTHyd,GAAqB,SAACC,GACjC,IAAKA,EAEH,MAAO,CACLjlB,MAAO,GAGX,IACM1I,EADU2tB,EAAY3tB,MAAM,KAAK,GACjBA,MAAM,KACtB4tB,EAAY5tB,EAAM,GAClB6tB,EAAyB7tB,EAAM,GAAGA,MAAM,KACxC8tB,EAAUD,EAAuB,GACjCnlB,EAAQmlB,EAAuB,GACrC,MAAO,CACLD,UAAWG,SAASH,EAAW,IAC/BE,QAASC,SAASD,EAAS,IAC3BplB,MAAOqlB,SAASrlB,EAAO,MCfrBslB,GAAW,kBAAMxxC,aAAaO,QAAQ,UAEtCkxC,GAA2B,CAC/B,eAAgB,oBAGZC,GAAc,eAACC,EAAD,uDAASH,KAAT,oBAAC,gBAChBC,IADe,IAElBG,cAAc,UAAD,OAAYD,MAGrBE,GAAiB,SAAIC,EAAaC,GAAjB,OACrBC,KACGC,UAAUH,EAAK,CACdI,OAAQ,MACRH,QAAS,IAAII,QAAQJ,KAEtBtT,MAAK,qBAAG2T,SAEPC,GAAkB,SAAOP,EAAar+B,EAASs+B,GAA7B,OACtBC,KACGC,UAAUH,EAAK,CACdI,OAAQ,OACRz+B,KAAMpT,KAAKW,UAAUyS,GACrBs+B,QAAS,IAAII,QAAQJ,KAEtBtT,MAAK,qBAAG2T,SAEA3xC,GAAM,SAAI6xC,EAAiB5nC,GAArB,OACjBmnC,GAAc,UAAOS,GAAP,OAAiB5nC,GAAQ,IAAMgnC,OAElCa,GAAe,SAAIT,EAAaH,GAAjB,OAC1BE,GAAkBC,EAAKJ,GAAYC,KAExBa,GAAkB,SAC7BF,EACA5nC,GAF6B,OAI7BmnC,GAAc,UAASS,EAAT,4BAAoC5nC,GAAQgnC,OAE/Ce,GAAoB,SAAIH,EAAiB5nC,GAArB,OAC/BsnC,KACGC,UADH,UACgBK,GADhB,OAC0B5nC,GAAQ,CAC9BwnC,OAAQ,MACRH,QAAS,IAAII,QAAQT,QAEtBjT,MAAK,gBAAG2T,EAAH,EAAGA,KAAML,EAAT,EAASA,QAAT,OACJ7T,QAAQC,QAAQ,CACdl7B,KAAMmvC,EACNM,MAAOxB,GACLa,EAAQtxC,IAAI,wBAQTkyC,GAAO,SAAOb,EAAar+B,GAApB,OAClB4+B,GAAsBP,EAAKr+B,EAAMi+B,OAEtBkB,GAAQ,SAAON,EAAiB7+B,GAAxB,OACnBu+B,KACGC,UAAUK,EAAS,CAClBJ,OAAQ,QACRz+B,KAAMpT,KAAKW,UAAUyS,GACrBs+B,QAAS,IAAII,QAAQT,QAEtBjT,MAAK,qBAAG2T,SAEAS,GAAM,SAAOP,EAAiB7+B,GAAxB,OACjBu+B,KACGC,UAAUK,EAAS,CAClBJ,OAAQ,MACRz+B,KAAMpT,KAAKW,UAAUyS,GACrBs+B,QAAS,IAAII,QAAQT,QAEtBjT,MAAK,qBAAG2T,SChFPU,GAAM,UAAMC,qCAAN,WACCC,GAAQ,UAAMF,GAAN,+BACRG,GAAS,UAAMH,GAAN,kBACTnF,GAAa,UAAMmF,GAAN,kCACbI,GAAY,UAAMJ,GAAN,8BACZK,GAAgB,UAAML,GAAN,iCAChBM,GAAY,UAAMN,GAAN,8BACZO,GAAa,UAAMP,GAAN,+BACbQ,GAAU,UAAMR,GAAN,4BACVS,GAAiB,UAAMT,GAAN,qDACjBU,GAAW,UAAMV,GAAN,6BACXW,GAAY,UAAMX,GAAN,8BACZY,GAAS,UAAMZ,GAAN,2BACTa,GAAU,UAAMb,GAAN,4BACVc,GAAY,UAAMd,GAAN,8BACZe,GAAW,UAAMf,GAAN,6BACXgB,GAAW,UAAMhB,GAAN,6BACXiB,GAAS,UAAMjB,GAAN,2BACTkB,GAAiB,UAAMlB,GAAN,kBACjBmB,GAAa,UAAMnB,GAAN,+BACboB,GAAqB,UAAMpB,GAAN,sCACrBqB,GAAY,UAAMrB,GAAN,8BACZsB,GAAa,UAAMtB,GAAN,+BCwBXlC,GAvCoB,CACjCC,MAAM,WAAD,8BAAE,wCAAAtK,EAAA,6DAAS8N,EAAT,EAASA,SAAUC,EAAnB,EAAmBA,SAAnB,SFmDPjC,GElDyDW,GAAU,CAC/DnC,MAAOwD,EACPC,YFgD6B7C,IEnD1B,uBACGE,EADH,EACGA,MADH,SAKkBY,GAAwBU,GAAWtB,GALrD,OAKC4C,EALD,OAMCC,EAAQD,EAAShtC,KAAI,SAAC0Y,GAAD,OAAOA,EAAEpZ,QACpC7G,aAAae,QAAQ,WAAYszC,GACjCr0C,aAAae,QAAQ,QAAS4wC,GAC9B3xC,aAAae,QAAQ,QAASyzC,EAAMrmB,QAT/B,4CAAF,mDAAC,GAWNzO,OAAQ,WAIN,OAHA1f,aAAayB,WAAW,YACxBzB,aAAayB,WAAW,SACxBzB,aAAayB,WAAW,SACjBy8B,QAAQC,WAEjB2S,WAAY,YAAiB,IAAd7F,EAAa,EAAbA,OACb,OAAe,MAAXA,GAA6B,MAAXA,GACpBjrC,aAAayB,WAAW,YACxBzB,aAAayB,WAAW,SACxBzB,aAAayB,WAAW,SACjBy8B,QAAQE,UAEVF,QAAQC,WAEjB4S,UAAW,kBACT/wC,aAAaO,QAAQ,SAAW29B,QAAQC,UAAYD,QAAQE,UAC9D4S,eAAgB,WACd,IAAMwD,EAAQx0C,aAAaO,QAAQ,SACnC,OAAO29B,QAAQC,QAAQ,IAAI3U,KAAS,OAALgrB,QAAK,IAALA,OAAA,EAAAA,EAAOhxB,MAAM,OAAQ,MAEtDytB,YAAa,kBACX/S,QAAQC,QAAQ,CACdj3B,GAAIlH,aAAaO,QAAQ,gBCvClBk0C,GAAa,SAAC9zC,GACzB,OAAa,MAATA,GAA2B,KAAVA,EACZ,GAEFA,EAAMY,SAAS,KAAOZ,EAAMoe,UAAU,EAAG,IAAMpe,GAG3C+zC,GAAa,SAAC/zC,GACzB,OAAa,MAATA,GAA2B,KAAVA,EACZ,GAEFA,EAAMY,SAAS,KAAOZ,EAAMoe,UAAU,GAAI,IAAMpe,GAG5Cg0C,GAAuB,SAACh0C,GACnC,IAAMi0C,EAAuC,IAA5Bj0C,EAAMk0C,oBACvB,OAAO,IAAIC,KAAKn0C,EAAMo0C,UAAYH,I,SChBvBI,GAAuB,SAClCC,EACAzoB,EACA0oB,GAIA,GAAIp2C,OAAOoO,KAAKsf,GAAcntB,OAAQ,CACpC,IAAM81C,EAAer2C,OAAOiQ,QAAQyd,GACjCjlB,KAAI,YAAmB,IAAD,oBAAhBpH,EAAgB,KAAXQ,EAAW,KAErB,OADeu0C,EAAa/0C,EACrBi1C,CAAOH,EAAiBt0C,EAAiB6rB,MAEjD9S,QAAO,SAAC27B,GAAD,OAAgB,MAAPA,KACnB,GAAIF,EAAa91C,OACf,OAAO81C,EAAa96B,QAAO,SAAC/a,EAAGirC,GAAJ,gBAAajrC,EAAb,aAAmBirC,MAGlD,MAAO,QAGI+K,GAAsB,SACjCvqB,EACAuZ,EACAiR,GAEA,IAAMC,EAAwB,GAC9B,GAAIzqB,EAAM,CACR,IAAQ5d,EAAiB4d,EAAjB5d,MAAOigB,EAAUrC,EAAVqC,MACfooB,EAAYloC,KAAZ,iBAA2BioC,EAAWpoC,KACtCqoC,EAAYloC,KAAZ,oBAA8B8f,IAEhC,GAAIkX,EAAY,CACd,IAAQ9Y,EAAkB8Y,EAAlB9Y,KAAMN,EAAYoZ,EAAZpZ,QACdsqB,EAAYloC,KAAZ,oBAA8Bke,EAAON,EAAUA,IAC/CsqB,EAAYloC,KAAZ,kBAA4Bke,EAAON,EAAU,IAE/C,OAAOsqB,EAAYn2C,OAAS,EACxBm2C,EAAYn7B,QAAO,SAAC/a,EAAGirC,GAAJ,gBAAajrC,EAAb,YAAkBirC,MACrC,MC1CAkL,GAGF,CACFC,SAAU,SAACT,EAAiBt0C,GAAlB,gBACLs0C,EADK,4BAC8Bt0C,EAD9B,OAWGu0C,GAPa,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,ICTJs1C,GAAkC,CACtCvuC,GAAI,YACJ2hC,WAAY,oBACZC,SAAU,kBACV6M,SAAU,kBACVC,OAAQ,gBACRnyC,KAAM,eAGKoyC,GAA0B,SAAC11C,GAAD,OAAiBs1C,GAAQt1C,ICwIjDkmC,GAxHE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,cAIqBH,GAC1B,KACAt7B,EACAw7B,KAEIY,EAAaR,GACjBvqB,EACAuZ,EACAuR,IAEInrC,EAdC,WAcUyqC,EAdV,YAc0BW,GAd1B,SAmBGrD,GAAiB,UACtBU,GADsB,oBAEzBzoC,GArBK,uBAiBLzH,EAjBK,EAiBLA,KACSipB,EAlBJ,EAkBLwmB,MAASxmB,MAlBJ,kBAwBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WA1BK,4CAAF,qDAAC,GA6BRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAmB0yC,GAAhB,WAAsCjsC,IAJtD,cAIAjE,EAJA,yBAKC,CACLA,SANI,2CAAF,qDAAC,GASPiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,uBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAAMD,EAFF,EAEEA,aAFF,SAIe4vC,GACnBO,GACA,CACEjsC,GAAIjE,EAAKiE,GACT2hC,WACE5lC,EAAK4lC,aAAe7lC,EAAa6lC,WAC5B8L,GACC,IAAIG,KAAK7xC,EAAK4lC,aACdkN,mBACFp3C,EACNmqC,SACE7lC,EAAK6lC,WAAa9lC,EAAa8lC,SAC1B6L,GACC,IAAIG,KAAK7xC,EAAK6lC,WACdiN,mBACFp3C,EACN8E,KAAMR,EAAKQ,OAAST,EAAaS,KAAOR,EAAKQ,UAAO9E,EACpDq3C,SACE/yC,EAAK+yC,WAAahzC,EAAagzC,SAAW/yC,EAAK+yC,cAAWr3C,EAC5Ds3C,UACEhzC,EAAKgzC,YAAcjzC,EAAaizC,UAC5BhzC,EAAKgzC,eACLt3C,EACNg3C,SACE1yC,EAAK0yC,WAAa3yC,EAAa2yC,SAAW1yC,EAAK0yC,cAAWh3C,EAC5Di3C,OAAQ3yC,EAAK2yC,SAAW5yC,EAAa4yC,OAAS3yC,EAAK2yC,YAASj3C,EAC5D+2C,SACEzyC,EAAKyyC,WAAa1yC,EAAa0yC,SAAWzyC,EAAKyyC,cAAW/2C,IA/B1D,cAIAu0B,EAJA,yBAkCCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAlCzB,2CAAF,qDAAC,GAoCP/xB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GACpBQ,GACA,CAAC,6BAEMlwC,GAFP,IAGI4lC,WAAY8L,GACV,IAAIG,KAAK7xC,EAAK4lC,aACdkN,cACFjN,SAAU6L,GACR,IAAIG,KAAK7xC,EAAK6lC,WACdiN,kBAdF,cAIAl1B,EAJA,yBAkBCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,EAAQ,MAlBjC,2CAAF,qDAAC,K,SbpGGgsB,K,QAAAA,E,UAAAA,E,aAAAA,Q,KcAZ,I,GCAYqJ,G,GDANT,GAAkC,CACtCvuC,GAAI,YACJytB,KAAM,cACNnM,UAAW,mBACXjL,OAAQ,gBACR44B,SAAU,kBACVT,SAAU,mBAGCU,GAA2B,SAACj2C,GAAD,OAAiBs1C,GAAQt1C,IET3Ds1C,GAGF,CACFvuC,GAAI,SAAC+tC,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,sBAA4Dt0C,EAA5D,MACJyoC,WAAY,SAAC6L,EAAiBt0C,GAC5B,OAAKA,EAGC,cAAN,cACEA,QADF,IACEA,OADF,EACEA,EACCke,WAFH,sBAE2Bo2B,EAF3B,cAFS,MAMXS,SAAU,SAACT,EAAiBt0C,GAAlB,gBACLs0C,EADK,4BAC8Bt0C,EAD9B,OAWGu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICSJkmC,GAAW,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,cAIqBH,GAC1B,KACAt7B,EACAw7B,KAEIY,EAAaR,GACjBvqB,EACAuZ,EACA8R,IAEI1rC,EAdC,WAcUyqC,EAdV,YAc0BW,GAd1B,SAmBGrD,GAAiB,UACtB9E,GADsB,oBAEzBjjC,GArBK,uBAiBLzH,EAjBK,EAiBLA,KACSipB,EAlBJ,EAkBLwmB,MAASxmB,MAlBJ,kBAwBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WA1BK,4CAAF,qDAAC,GA6BRgH,OAAO,WAAD,8BAAE,WACNzmB,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIe2vC,GACnBjF,GACA,CACEzmC,GAAIjE,EAAKiE,GACTqW,OAAQta,EAAKsa,SARX,cAIA2V,EAJA,yBAWCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAXzB,2CAAF,qDAAC,GAaPC,WAAW,WAAD,8BAAE,WACV1mB,EADU,2BAAA85B,EAAA,6DAERzrB,EAFQ,EAERA,IAFQ,IAEH7X,KAAQsa,cAFL,SAIJ84B,EAAiBv7B,EACpBvT,KAAI,SAAC+uC,GAAD,MAAW,CAAEpvC,GAAIovC,EAAM/4B,aAC3BhW,KAAI,SAACgvC,GAAD,OACH3D,GAAgDjF,GAAe4I,MAPzD,SASiBrY,QAAQsY,IAAIH,GAT7B,cASJI,EATI,yBAUHvY,QAAQC,QAAQ,CACrBl7B,KAAMwzC,EAAalvC,KAAI,SAACmvC,GAAD,OAAQA,EAAGxvC,SAX1B,2CAAF,qDAAC,GAcX/F,OAAO,WAAD,8BAAE,WACNsL,EADM,yBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAEM0zC,EAAyB1zC,EAAzB0zC,UAAWC,EAAc3zC,EAAd2zC,UACbC,EAAsCD,EAAUE,SAAQ,SAACpB,GAAD,OAC5DiB,EAAUpvC,KAAI,SAAC4uC,GAAD,MAAe,CAC3BxhB,KAAMggB,GAAqB,IAAIG,MAAQiB,cACvCvtB,UAAWqkB,GAAgBkK,GAC3Bx5B,QAAQ,EACRm4B,WACAS,WACAa,iBAAkB,YAZhB,SAeArE,GACJhF,GACAkJ,GAjBI,gCAmBC3Y,QAAQC,QAAQ,CACrBl7B,KAAM,CAAEiE,GAAI,MApBR,2CAAF,qDAAC,GAuBP+vC,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GAAG,UACjBktC,GADiB,6CAEF7yB,EAAI+D,WAFF,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,IA2BKojC,MCtIToP,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN+lC,MAAO,SAACuO,EAAiBt0C,GAAlB,gBACFs0C,EADE,+EACoFt0C,EADpF,MAEPimC,WAAY,SAACqO,EAAiBt0C,GAAlB,gBACPs0C,EADO,8BAC8Bt0C,EAD9B,MAEZkmC,aAAc,SAACoO,GAAD,gBAAwBA,EAAxB,kBACdnO,cAAe,SAACmO,GAAD,gBAAwBA,EAAxB,mBACfhO,4BAA6B,SAACgO,GAAD,gBACxBA,EADwB,iCAE7BiC,gBAAiB,SAACjC,EAAiBt0C,EAAOw2C,GAAzB,OACfx2C,EAAK,UACEs0C,EADF,+CACiDkC,QADjD,IACiDA,OADjD,EACiDA,EAAahO,UAD9D,MAED,MACNA,UAAW,kBAAM,OAUJ+L,GAPa,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,ICtBJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACN6/B,MAAO,aACPE,WAAY,kBACZmB,WAAY,kBACZD,UAAW,kBAGAsP,GAAqB,SAACj3C,GAAD,OAAiBs1C,GAAQt1C,ICqBrDkmC,GAAW,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAY8S,IACnD1sC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBS,GADsB,oBAEzBxoC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAeyyC,GAAZ,WAA8BhsC,IAJ9C,cAIAjE,EAJA,yBAKC,CACLA,SANI,2CAAF,qDAAC,GASPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GAAG,UACjByyC,GADiB,6CAEFp4B,EAAI+D,WAFF,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,GAYRiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,uBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAAMD,EAFF,EAEEA,aAFF,SAIe4vC,GAAsCM,GAAc,CACvEhsC,GAAIjE,EAAKiE,GACTL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD+nC,MAAOzjC,EAAKyjC,QAAU1jC,EAAa0jC,MAAQzjC,EAAKyjC,WAAQ/nC,EACxDioC,WACE3jC,EAAK2jC,aAAe5jC,EAAa4jC,WAC7B3jC,EAAK2jC,gBACLjoC,EACNkoC,aACE5jC,EAAK4jC,eAAiB7jC,EAAa6jC,aAC/B5jC,EAAK4jC,kBACLloC,EACNmoC,cACE7jC,EAAK6jC,gBAAkB9jC,EAAa8jC,cAChC7jC,EAAK6jC,mBACLnoC,EACNooC,SACE9jC,EAAK8jC,WAAa/jC,EAAa+jC,SAAW9jC,EAAK8jC,cAAWpoC,EAC5DqoC,YACE/jC,EAAK+jC,cAAgBhkC,EAAagkC,YAC9B/jC,EAAK+jC,iBACLroC,EACNsoC,4BACEhkC,EAAKgkC,8BACLjkC,EAAaikC,4BACThkC,EAAKgkC,iCACLtoC,EACNuoC,YACEjkC,EAAKikC,cAAgBlkC,EAAakkC,YAC9BjkC,EAAKikC,iBACLvoC,EACNwoC,iBACElkC,EAAKkkC,mBAAqBnkC,EAAamkC,iBACnClkC,EAAKkkC,sBACLxoC,EACN0oC,kBACEpkC,EAAKokC,oBAAsBrkC,EAAaqkC,kBACpCpkC,EAAKokC,uBACL1oC,EACN2oC,MAAOrkC,EAAKqkC,QAAUtkC,EAAaskC,MAAQrkC,EAAKqkC,WAAQ3oC,EACxD4oC,aACEtkC,EAAKskC,eAAiBvkC,EAAaukC,aAC/BtkC,EAAKskC,kBACL5oC,EACN6oC,yBACEvkC,EAAKukC,2BAA6BxkC,EAAawkC,yBAC3CvkC,EAAKukC,8BACL7oC,IAnDF,cAIAu0B,EAJA,yBAqDCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KArDzB,2CAAF,qDAAC,GAuDP/xB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GACpBO,GACA,CACE,CACErsC,KAAM5D,EAAK4D,KACX6/B,MAAOzjC,EAAKyjC,MAAQzjC,EAAKyjC,WAAQ/nC,EACjCioC,WAAY3jC,EAAK2jC,iBAAcjoC,EAC/BkoC,aAAc5jC,EAAK4jC,mBAAgBloC,EACnCmoC,cAAe7jC,EAAK6jC,oBAAiBnoC,EACrCooC,SAAU9jC,EAAK8jC,eAAYpoC,EAC3BqoC,YAAa/jC,EAAK+jC,kBAAeroC,EACjCsoC,4BACEhkC,EAAKgkC,kCAA+BtoC,EACtCuoC,YAAajkC,EAAKikC,kBAAevoC,EACjCwoC,iBAAkBlkC,EAAKkkC,uBAAoBxoC,EAC3C0oC,kBAAmBpkC,EAAKokC,wBAAqB1oC,EAC7C2oC,MAAOrkC,EAAKqkC,YAAS3oC,EACrB4oC,aAActkC,EAAKskC,mBAAgB5oC,EACnC6oC,yBAA0BvkC,EAAKukC,+BAA4B7oC,KAtB3D,cAIAkiB,EAJA,yBA0BCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,EAAQ,MA1BjC,2CAAF,qDAAC,GA4BPw2B,eAAe,WAAD,8BAAE,WACd5qC,EACAyB,GAFc,gBAAAq4B,EAAA,sEAIesM,GAAG,UAC3BK,GAD2B,mBAE9BhlC,GANY,cAIRopC,EAJQ,yBAQP,CACLr0C,KAAMq0C,IATM,2CAAF,qDAAC,GAYfC,eAAe,WAAD,8BAAE,WACd9qC,EACAyB,GAFc,gBAAAq4B,EAAA,sEAIesM,GAAG,UAC3BK,GAD2B,mBAE9BhlC,GANY,cAIRopC,EAJQ,yBAQP,CACLr0C,KAAMq0C,IATM,2CAAF,qDAAC,IA6DFjR,MCrOToP,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN62C,cAAe,kBAAM,MACrBzO,QAAS,SAACkM,EAAiBt0C,EAAOw2C,GAAzB,OACuB,IAA9BA,EAAYK,cACR,KADJ,UAEOvC,EAFP,sCAEoDt0C,EAFpD,QAYWu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICdJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,aAGK4wC,GAAsB,SAACt3C,GAAD,OAAiBs1C,GAAQt1C,ICmBtDkmC,GAAW,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAmT,IAEI/sC,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtBuB,GADsB,6BAEzBtpC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAdJ,kBAoBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAtBK,4CAAF,qDAAC,GAyBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAG,UACjBuzC,GADiB,oBAEpB9sC,GANI,cAIAjE,EAJA,yBAQCi7B,QAAQC,QAAQ,CACrBl7B,UATI,2CAAF,qDAAC,GAYPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBuzC,GADoB,kDAEuBl5B,EAAI+D,WAF3B,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAUR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GAAI,UACrBqB,GADqB,gBAExB/wC,GANI,cAIA4d,EAJA,yBAQCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,KARzB,2CAAF,qDAAC,GAUPqS,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAAK,UAGrBoB,GAHqB,iBAGa,CACrC9sC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,IAThD,cAIAu0B,EAJA,yBAWCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAXzB,2CAAF,qDAAC,IAmBMmT,MCrGToP,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN+2C,aAAc,kBAAM,MACpBC,OAAQ,SAAC1C,EAAiBt0C,EAAOw2C,GAAzB,OACuB,IAA7BA,EAAYO,aACR,KADJ,UAEOzC,EAFP,qCAEmDt0C,EAFnD,QAYWu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICdJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,aAGK+wC,GAAmB,SAACz3C,GAAD,OAAiBs1C,GAAQt1C,ICYnDkmC,GAAW,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEQ7sB,EAFR,mBAELA,QAAuBqR,EAFlB,EAEkBA,KAAMuZ,EAFxB,EAEwBA,WAEzB6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAYsT,IACnDltC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBuB,GADsB,+BAEzBtpC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAiCR+qB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBuzC,GADoB,oDAEyBl5B,EAAI+D,WAF7B,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,IAYKojC,MC/DToP,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENk3C,aAAc,kBAAM,MACpBC,OAAQ,SAAC7C,EAAiBt0C,EAAOw2C,GAAzB,OACuB,IAA7BA,EAAYU,aACR,KADJ,UAEO5C,EAFP,qCAEmDt0C,EAFnD,QAYWu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICdJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,aAGK+wC,GAAmB,SAACz3C,GAAD,OAAiBs1C,GAAQt1C,IC2BnDkmC,GAAW,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEQ7sB,EAFR,mBAELA,QAAuBqR,EAFlB,EAEkBA,KAAMuZ,EAFxB,EAEwBA,WAEzB6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAYsT,IACnDltC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBuB,GADsB,yBAEzBtpC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAG,UACjBuzC,GADiB,iBAEpB9sC,GANI,cAIAjE,EAJA,yBAQCi7B,QAAQC,QAAQ,CACrBl7B,UATI,2CAAF,qDAAC,GAYPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBuzC,GADoB,8CAEmBl5B,EAAI+D,WAFvB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAUR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GAAI,UACrBqB,GADqB,gBAExB,CAAC/wC,IANG,cAIA4d,EAJA,yBAQCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,EAAQ,MARjC,2CAAF,qDAAC,GAUPqS,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAAK,UACrBoB,GADqB,cAExB,CACE9sC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,IARlD,cAIAu0B,EAJA,yBAWCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAXzB,2CAAF,qDAAC,GAaP6kB,kBAAkB,WAAD,8BAAE,WACjBtrC,EACAyB,GAFiB,gBAAAq4B,EAAA,sEAIasM,GAAG,UAC5BmB,GAD4B,4BAE/B9lC,GANe,cAIX8pC,EAJW,yBAQV,CACL/0C,KAAM+0C,IATS,2CAAF,qDAAC,GAYlBC,kBAAkB,WAAD,8BAAE,WACjBxrC,EACAyB,GAFiB,gBAAAq4B,EAAA,sEAIasM,GAAG,UAC5BmB,GAD4B,8BAE/B9lC,GANe,cAIX8pC,EAJW,yBAQV,CACL/0C,KAAM+0C,IATS,2CAAF,qDAAC,IA+BL3R,MC9IToP,GAGF,CACFyC,SAAU,SAACjD,EAAiBt0C,GAAlB,gBACLs0C,EADK,+BACiCt0C,EADjC,OAEVw3C,UAAW,SAAClD,EAAiBt0C,GAAlB,gBACNs0C,EADM,8BAC+Bt0C,EAD/B,MAEXg3C,OAAQ,SAAC1C,EAAiBt0C,GAAlB,gBACHs0C,EADG,qCACyCt0C,EADzC,QAWKu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICbJs1C,GAAkC,CACtCvuC,GAAI,UACJgxC,SAAU,iBAGCE,GAAmB,SAACj4C,GAAD,OAAiBs1C,GAAQt1C,IC8BnDkmC,GAAW,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEQ7sB,EAFR,mBAELA,QAAuBqR,EAFlB,EAEkBA,KAAMuZ,EAFxB,EAEwBA,WAEzB6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAY8T,IACnD1tC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBuB,GADsB,yBAEzBtpC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAG,UACjBuzC,GADiB,2BAEhB9sC,IANA,cAIAjE,EAJA,yBAQCi7B,QAAQC,QAAQ,CACrBl7B,UATI,2CAAF,qDAAC,GAYPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GAAG,UACjBuzC,GADiB,kDAEFl5B,EAAI+D,WAFF,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,GAYR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GAAI,UACrBqB,GADqB,aAExB/wC,GANI,cAIA4d,EAJA,yBAQCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,KARzB,2CAAF,qDAAC,GAUPqS,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAAK,UACrBoB,GADqB,cAExB,CACE9sC,KACAgxC,SACEj1C,EAAKi1C,WAAal1C,EAAak1C,SAAWj1C,EAAKi1C,cAAWv5C,EAC5Dw5C,UACEl1C,EAAKk1C,YAAcn1C,EAAam1C,UAC5Bl1C,EAAKk1C,eACLx5C,EACN05C,sBACEp1C,EAAKo1C,wBAA0Br1C,EAAaq1C,sBACxCp1C,EAAKo1C,2BACL15C,IAjBJ,cAIAu0B,EAJA,yBAoBCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KApBzB,2CAAF,qDAAC,GAsBPolB,mBAAmB,WAAD,8BAAE,WAClB7rC,EACAyB,GAFkB,gBAAAq4B,EAAA,sEAIQsM,GAAG,UAGxBmB,GAHwB,uBAGgB9lC,GAP3B,cAIZqqC,EAJY,yBAQX,CACLt1C,KAAMs1C,IATU,2CAAF,qDAAC,GAYnBC,+BAA+B,WAAD,8BAAE,WAC9B/rC,EACAyB,GAF8B,gBAAAq4B,EAAA,sEAMVsM,GAAG,UAGlBmB,GAHkB,mCAGkC9lC,GAT3B,cAMxByjC,EANwB,yBAUvB,CACL1uC,KAAM0uC,IAXsB,2CAAF,qDAAC,GAc/B8G,YAAY,WAAD,8BAAE,WACXhsC,EACAyB,GAFW,gBAAAq4B,EAAA,sEAISsM,GAAG,UAClBmB,GADkB,sBAErB9lC,GANS,cAILyjC,EAJK,yBAQJ,CACL1uC,KAAM0uC,IATG,2CAAF,qDAAC,GAYZ+G,YAAY,WAAD,8BAAE,WACXjsC,EACAyB,GAFW,gBAAAq4B,EAAA,sEAISsM,GAAG,UAClBmB,GADkB,wBAErB9lC,GANS,cAILyjC,EAJK,yBAQJ,CACL1uC,KAAM0uC,IATG,2CAAF,qDAAC,GAYZgH,SAAS,WAAD,8BAAE,WACRlsC,EADQ,qBAAA85B,EAAA,6DAENuR,EAFM,EAENA,OAFM,SAIYr3C,GAAG,UAClBuzC,GADkB,kBAErB8D,GANM,cAIFnG,EAJE,yBAQD,CACL1uC,KAAM0uC,IATA,2CAAF,qDAAC,IA+EItL,MClPToP,GAGF,CACFvuC,GAAI,SAAC+tC,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,gBAAsDt0C,IAC1DkG,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENqsC,SAAU,SAACiI,EAAiBt0C,GAAlB,gBACLs0C,EADK,oCACsCt0C,EADtC,MAEV0nC,UAAW,SAAC4M,EAAiBt0C,GAAlB,gBACNs0C,EADM,uBACwBt0C,IACnCynC,KAAM,SAAC6M,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,kBAAwDt0C,IAC9D8C,KAAM,SAACwxC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2EACiFt0C,EADjF,OAWOu0C,GAPa,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,ICjBJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACNwhC,UAAW,iBACX5kC,KAAM,YACN2kC,KAAM,aAGKwQ,GAAoB,SAACz4C,GAAD,OAAiBs1C,GAAQt1C,ICgF3CkmC,GA/DE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAYsU,IACnDluC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBkB,GADsB,oBAEzBjpC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBR/qB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAEI4zC,EAA8B,CAAC5zC,GAJ/B,SAKA0vC,GAAqCgB,GAAYkD,GALjD,gCAMC3Y,QAAQC,QAAQ,CACrBl7B,KAAM,CAAEiE,GAAI,MAPR,2CAAF,qDAAC,GAUPgsB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBe,GACA,CACEzsC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD0pC,UACEplC,EAAKolC,YAAcrlC,EAAaqlC,UAC5BplC,EAAKolC,eACL1pC,EACN8E,KAAMR,EAAKQ,OAAST,EAAaS,KAAOR,EAAKQ,UAAO9E,EACpDypC,KAAMnlC,EAAKmlC,OAASplC,EAAaolC,KAAOnlC,EAAKmlC,UAAOzpC,IAdlD,cAIAu0B,EAJA,yBAiBCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAjBzB,2CAAF,qDAAC,GAmBP+jB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBkzC,GADoB,yCAEc74B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,IC5EJwyC,GAGF,CACFvM,WAAY,SAAC+L,EAAiBt0C,GAAlB,gBACPs0C,EADO,+BAC+Bt0C,EAD/B,OAWCu0C,GAPa,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,ICTJs1C,GAAkC,CACtCvuC,GAAI,UACJiiC,UAAW,iBACXJ,QAAS,gBAGE8P,GAAsB,SAAC14C,GAAD,OAAiBs1C,GAAQt1C,ICoF7CkmC,GApEE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAuU,IAEInuC,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtBW,GADsB,oBAEzB1oC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAdJ,kBAoBA,CACLjpB,OACAipB,UAtBK,4CAAF,qDAAC,GAyBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEAiF,EAFA,EAEJtkC,GAFI,SAIgBzG,GAAgB2yC,GAAb,WAA+B5H,IAJlD,cAIAsN,EAJA,yBAMC,CACL71C,KAAM61C,IAPF,2CAAF,qDAAC,GAUP7B,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GAAG,UACjB2yC,GADiB,6CAEFt4B,EAAI+D,WAFF,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,GAYRiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,uBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAAMD,EAFF,EAEEA,aAFF,SAIgB4vC,GACpBQ,GACA,CACElsC,GAAIjE,EAAKiE,GACToC,UACM,OAAJrG,QAAI,IAAJA,OAAA,EAAAA,EAAMqG,aAAN,OAAmBtG,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAcsG,UAAjC,OACIrG,QADJ,IACIA,OADJ,EACIA,EAAMqG,cACN3K,IAXJ,cAIAm6C,EAJA,yBAcC5a,QAAQC,QAAQ,CACrBl7B,KAAK,6BAAM61C,GAAP,IAAgB1P,WAAY,QAf5B,2CAAF,qDAAC,ICtEHqM,GAGF,CACF7L,UAAW,SAACqL,EAAiBt0C,GAAlB,gBACNs0C,EADM,gCACiCt0C,EADjC,OAEXkpC,SAAU,SAACoL,EAAiBt0C,GAAlB,gBACLs0C,EADK,+BACiCt0C,EADjC,OAEVupC,MAAO,SAAC+K,EAAiBt0C,GAAlB,gBACFs0C,EADE,4BACiCt0C,EADjC,OAEPwpC,eAAgB,SAAC8K,EAAiBt0C,GAAlB,gBACXs0C,EADW,qCACiCt0C,EADjC,OAEhBo4C,KAAM,SAAC9D,EAAiBt0C,GAAlB,gBACDA,EACAke,WACA2E,MAAM,KACNjc,KACC,SAACyxC,GAAD,iBACM/D,EADN,sBACmCA,EADnC,qBAC+DA,EAD/D,kBACwFA,EADxF,sCACqI+D,EADrI,SAGD7qB,KAAK,SAUG+mB,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICxBJs1C,GAAkC,CACtCvuC,GAAI,UACJ0iC,UAAW,iBACXC,SAAU,gBACVK,MAAO,aACPC,eAAgB,uBAGL8O,GAAwB,SAAC94C,GAAD,OAAiBs1C,GAAQt1C,ICuJ/CkmC,GArIE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACA2U,IAEIvuC,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtBY,GADsB,oBAEzB3oC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAdJ,kBAoBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAtBK,4CAAF,qDAAC,GAyBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEA2C,EAFA,EAEJhiC,GAFI,SAIiBzG,GAAiB4yC,GAAd,WAAiCnK,IAJrD,cAIAgQ,EAJA,yBAKC,CACLj2C,KAAMi2C,IANF,2CAAF,qDAAC,GASPjC,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GAAG,UACjB4yC,GADiB,6CAEFv4B,EAAI+D,WAFF,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,GAYRiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,uBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAAMD,EAFF,EAEEA,aAFF,SAIe4vC,GACnBS,GACA,CACEnsC,GAAIjE,EAAKiE,GACT0iC,UACE3mC,EAAK2mC,YAAc5mC,EAAa4mC,UAC5B3mC,EAAK2mC,eACLjrC,EACNkrC,SACE5mC,EAAK4mC,WAAa7mC,EAAa6mC,SAAW5mC,EAAK4mC,cAAWlrC,EAC5DmrC,QACE7mC,EAAK6mC,UAAY9mC,EAAa8mC,QAAU7mC,EAAK6mC,aAAUnrC,EACzDorC,UACE9mC,EAAK8mC,YAAc/mC,EAAa+mC,UAC3B4K,GACC,IAAIG,KAAK7xC,EAAK8mC,YACdgM,mBACFp3C,EACNqrC,aACE/mC,EAAK+mC,eAAiBhnC,EAAagnC,aAC/B/mC,EAAK+mC,kBACLrrC,EACNurC,MAAOjnC,EAAKinC,QAAUlnC,EAAaknC,MAAQjnC,EAAKinC,WAAQvrC,EACxDwrC,eACElnC,EAAKknC,iBAAmBnnC,EAAamnC,eACjClnC,EAAKknC,oBACLxrC,EACNyrC,YACEnnC,EAAKmnC,cAAgBpnC,EAAaonC,YAC9BnnC,EAAKmnC,iBACLzrC,EACN0rC,OAAQpnC,EAAKonC,SAAWrnC,EAAaqnC,OAASpnC,EAAKonC,YAAS1rC,IAnC1D,cAIAu0B,EAJA,yBAsCCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAtCzB,2CAAF,qDAAC,GAwCP/xB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GACpBU,GACA,CAAC,6BAEMpwC,GAFP,IAGI8mC,UACE9mC,EAAK8mC,WACJ4K,GACC,IAAIG,KAAK7xC,EAAK8mC,YACdgM,kBAbJ,cAIAl1B,EAJA,yBAiBCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,EAAQ,MAjBjC,2CAAF,qDAAC,ICjHH40B,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN6Z,SAAU,SAACy6B,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,sBAA4Dt0C,IACtEw4C,UAAW,SAAClE,EAAiBt0C,GAAlB,qCAEPA,QAFO,IAEPA,OAFO,EAEPA,EACCke,WAHM,sBAGkBo2B,EAHlB,eAIXmE,MAAO,SAACnE,EAAiBt0C,GAAlB,iBAAgCs0C,EAAhC,sBAA6Dt0C,EAA7D,OAUMu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICfJs1C,GAAkC,CACtCvuC,GAAI,YACJL,KAAM,cACN2T,SAAU,mBAGC6+B,GAA6B,SAACl5C,GAAD,OAAiBs1C,GAAQt1C,ICqGpDkmC,GAnFE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACA+U,IAEI3uC,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtByB,GADsB,oBAEzBxpC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAdJ,kBAoBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAtBK,4CAAF,qDAAC,GAyBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAuByzC,GAApB,WAA+ChtC,IAJ/D,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjByzC,GADoB,yCAEcp5B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAUR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIuB0vC,GAG3BuB,GAAuB,CAACjxC,IAPpB,cAIAq2C,EAJA,yBASC,CACLr2C,KAAMq2C,EAAe,KAVjB,2CAAF,qDAAC,GAaPpmB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAGnBsB,GAAuB,CACvBhtC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD6b,SACEvX,EAAKuX,WAAaxX,EAAawX,SAAWvX,EAAKuX,cAAW7b,IAXxD,cAIAu0B,EAJA,yBAaCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAbzB,2CAAF,qDAAC,IC3EHqmB,GAAmB,yCAAG,WAAOC,GAAP,0BAAAjT,EAAA,6DACtBkT,EAA0B,GADJ,SAGKh5C,GAC7ByzC,GADgC,WAE5BsF,IALoB,OAGpBE,EAHoB,OAO1BD,EAAcnsC,KAAd,OAAmBosC,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAkBxyC,IACjCyyC,GAAiB,EARK,WASnBA,EATmB,wBAUlBC,EAA0B,CAAET,UAAWM,GAVrB,UAYSjH,GAAe,UAC3C0B,IAD2C,aAExCc,GACJ,IACA4E,EACAC,MAjBoB,QAYlBC,EAZkB,OAwBG,KAJrBC,EAAcD,EACjBvyC,KAAI,SAACyyC,GAAD,OAAQA,EAAG9yC,MAEfwS,QAAO,SAACsgC,GAAD,OAASP,EAAcl4C,SAASy4C,OAC1B36C,OACds6C,GAAiB,EAEjBF,EAAgBA,EAAchgC,OAAOsgC,GA3Bf,gDA8BnBN,GA9BmB,4CAAH,sDCPnBhE,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENs5C,0BAA2B,kBAAM,MACjCR,cAAe,SAACxE,EAAiBt0C,GAAlB,qCAEXA,QAFW,IAEXA,OAFW,EAEXA,EACCke,WAHU,sBAGco2B,EAHd,iBAIfiF,gBAAiB,SAACjF,EAAiBt0C,GAAlB,gBACZs0C,EADY,4FACuFt0C,EADvF,OAWJu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,IChBJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACNszC,QAAS,eACTD,gBAAiB,wBAGNE,GAAuB,SAACj6C,GAAD,OAAiBs1C,GAAQt1C,IC+G9CkmC,GA9FE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,yCAAA85B,EAAA,yDAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,aAFT,UAIH+V,EAAiB3gC,SAJd,aAMH,EAAgBugC,2BANb,gCAOuBV,GAC1Bc,EAAeJ,2BARZ,OAOCR,EAPD,OAULY,EAAc,6BAAQA,GAAR,IAAwBZ,kBAVjC,cAYDtE,EAZC,aAYoBH,GACzB,IACAqF,EACAnF,KAEIY,EAAaR,GACjBvqB,EACAuZ,EACA8V,IAEI1vC,EAtBC,WAsBUyqC,EAtBV,YAsB0BW,GAtB1B,UA2BGrD,GAAiB,UACtB2B,GADsB,oBAEzB1pC,GA7BK,wBAyBLzH,EAzBK,EAyBLA,KACSipB,EA1BJ,EA0BLwmB,MAASxmB,MA1BJ,kBAgCAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlCK,4CAAF,qDAAC,GAqCRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAiB2zC,GAAd,WAAiCltC,IAJjD,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAGnBwB,GAAe,CACfltC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD27C,UACEr3C,EAAKq3C,YAAct3C,EAAas3C,UAAYr3C,EAAKq3C,eAAY37C,EAC/Dw7C,QAASl3C,EAAKk3C,UAAYn3C,EAAam3C,QAAUl3C,EAAKk3C,aAAUx7C,EAChE66C,WACEv2C,EAAKu2C,aAAex2C,EAAaw2C,WAC7Bv2C,EAAKu2C,gBACL76C,EACNu7C,gBACEj3C,EAAKi3C,kBAAoBl3C,EAAak3C,gBAClCj3C,EAAKi3C,qBACLv7C,IApBF,cAIAu0B,EAJA,yBAsBCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAtBzB,2CAAF,qDAAC,GAwBP/xB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIe0vC,GACnByB,GACA,CAACnxC,IANG,cAIAs3C,EAJA,yBAQC,CACLt3C,KAAMs3C,EAAO,KATT,2CAAF,qDAAC,IC7FH9E,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN62C,cAAe,kBAAM,MACrBzO,QAAS,SAACkM,EAAiBt0C,EAAOw2C,GAAzB,OACuB,IAA9BA,EAAYK,cACR,KADJ,UAEOvC,EAFP,sCAEoDt0C,EAFpD,OAGF65C,YAAa,SAACvF,GAAD,gBACRA,EADQ,kGACiGvL,GAAY+Q,OAD7G,OAEbR,0BAA2B,kBAAM,MACjCR,cAAe,SAACxE,EAAiBt0C,GAAlB,qCAEXA,QAFW,IAEXA,OAFW,EAEXA,EACCke,WAHU,sBAGco2B,EAHd,iBAIfyF,iBAAkB,SAACzF,EAAiBt0C,EAAOw2C,GAAzB,OAChBx2C,EAAK,UACEs0C,EADF,4CAC8CkC,QAD9C,IAC8CA,OAD9C,EAC8CA,EAAavQ,WAD3D,KAED,MACNA,WAAY,kBAAM,MAClBsT,gBAAiB,SAACjF,EAAiBt0C,GAAlB,gBACZs0C,EADY,4FACuFt0C,EADvF,OAWJu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,IC9BJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACNszC,QAAS,eACTD,gBAAiB,wBAGNS,GAAqB,SAACx6C,GAAD,OAAiBs1C,GAAQt1C,ICyU5CkmC,GAlSE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,yCAAA85B,EAAA,yDAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,aAFT,UAIH+V,EAAiB3gC,SAJd,aAMH,EAAgBugC,2BANb,gCAOuBV,GAC1Bc,EAAeJ,2BARZ,OAOCR,EAPD,OAULY,EAAc,6BAAQA,GAAR,IAAwBZ,kBAVjC,cAYDtE,EAZC,aAYoBH,GACzB,IACAqF,EACAnF,KAEIY,EAAaR,GAAoBvqB,EAAMuZ,EAAYqW,IACnDjwC,EAlBC,WAkBUyqC,EAlBV,YAkB0BW,GAlB1B,UAuBGrD,GAAiB,UACtBqB,GADsB,oBAEzBppC,GAzBK,wBAqBLzH,EArBK,EAqBLA,KACSipB,EAtBJ,EAsBLwmB,MAASxmB,MAtBJ,kBA4BAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WA9BK,4CAAF,qDAAC,GAiCRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAeqzC,GAAZ,WAA6B5sC,IAJ7C,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBqzC,GADoB,yCAEch5B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAUR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIe0vC,GAAyCmB,GAAa,CACzE7wC,IALI,cAIAs3C,EAJA,yBAOC,CACLt3C,KAAMs3C,EAAO,KART,2CAAF,qDAAC,GAWPrnB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBkB,GACA,CACE5sC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD27C,UACEr3C,EAAKq3C,YAAct3C,EAAas3C,UAC5Br3C,EAAKq3C,eACL37C,EACNw7C,QACEl3C,EAAKk3C,UAAYn3C,EAAam3C,QAAUl3C,EAAKk3C,aAAUx7C,EACzD6pB,UACEvlB,EAAKulB,YAAcxlB,EAAawlB,UAC5BvlB,EAAKulB,eACL7pB,EACN66C,WACEv2C,EAAKu2C,aAAex2C,EAAaw2C,WAC7Bv2C,EAAKu2C,gBACL76C,EACNi8C,gBACE33C,EAAK23C,kBAAoB53C,EAAa43C,gBAClC33C,EAAK23C,qBACLj8C,EACNk8C,aACE53C,EAAK43C,eAAiB73C,EAAa63C,aAC/B53C,EAAK43C,kBACLl8C,IA9BJ,cAIAu0B,EAJA,yBAiCCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAjCzB,2CAAF,qDAAC,GAmCP4nB,aAAa,WAAD,8BAAE,WACZruC,EACAyB,GAFY,gBAAAq4B,EAAA,sEAIesM,GAAG,UACzBiB,GADyB,iBAE5B5lC,GANU,cAIN6sC,EAJM,yBAQL,CACL93C,KAAM83C,IATI,2CAAF,qDAAC,GAYbC,aAAa,WAAD,8BAAE,WACZvuC,EACAyB,GAFY,gBAAAq4B,EAAA,sEAIesM,GAAG,UACzBiB,GADyB,iBAE5B5lC,GANU,cAIN6sC,EAJM,yBAQL,CACL93C,KAAM83C,IATI,2CAAF,qDAAC,GAYbE,gBAAgB,WAAD,8BAAE,WACfxuC,EACAyB,GAFe,gBAAAq4B,EAAA,sEAIesM,GAAG,UAC5BiB,GAD4B,oBAE/B5lC,GANa,cAIT8pC,EAJS,yBAQR,CACL/0C,KAAM+0C,IATO,2CAAF,qDAAC,GAYhBkD,gBAAgB,WAAD,8BAAE,WACfzuC,EACAyB,GAFe,gBAAAq4B,EAAA,sEAIesM,GAAG,UAC5BiB,GAD4B,oBAE/B5lC,GANa,cAIT8pC,EAJS,yBAQR,CACL/0C,KAAM+0C,IATO,2CAAF,qDAAC,GAYhBmD,oBAAoB,WAAD,8BAAE,WACnB1uC,EACAyB,GAFmB,gBAAAq4B,EAAA,sEAIesM,GAAG,UAGhCiB,GAHgC,wBAGG5lC,GAPrB,cAIbitC,EAJa,yBAQZ,CACLl4C,KAAMk4C,IATW,2CAAF,qDAAC,GAYpBC,uBAAuB,WAAD,8BAAE,WACtB3uC,EACAyB,GAFsB,gBAAAq4B,EAAA,sEAIesM,GAAG,UAGnCiB,GAHmC,2BAGG5lC,GAPrB,cAIhBktC,EAJgB,yBAQf,CACLn4C,KAAMm4C,IATc,2CAAF,qDAAC,GAYvB76B,KAAK,WAAD,8BAAE,WACJ9T,EACAyB,GAFI,gBAAAq4B,EAAA,sEAIesM,GAAG,UACjBiB,GADiB,SAEpB5lC,GANE,cAIEqS,EAJF,yBAQG,CACLtd,KAAMsd,IATJ,2CAAF,qDAAC,GAYL86B,OAAO,WAAD,8BAAE,WACN5uC,EACAyB,GAFM,gBAAAq4B,EAAA,sEAIesM,GAAG,UACnBiB,GADmB,WAEtB5lC,GANI,cAIAmtC,EAJA,yBAQC,CACLp4C,KAAMo4C,IATF,2CAAF,qDAAC,GAYPC,eAAe,WAAD,8BAAE,WACd7uC,EACAyB,GAFc,gBAAAq4B,EAAA,sEAIesM,GAAG,UAC3BiB,GAD2B,mBAE9B5lC,GANY,cAIRotC,EAJQ,yBAQP,CACLr4C,KAAMq4C,IATM,2CAAF,qDAAC,IC/OX7F,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN62C,cAAe,kBAAM,MACrBzO,QAAS,SAACkM,EAAiBt0C,EAAOw2C,GAAzB,OACuB,IAA9BA,EAAYK,cACR,KADJ,UAEOvC,EAFP,sCAEoDt0C,EAFpD,OAGF65C,YAAa,SAACvF,GAAD,gBACRA,EADQ,kGACiGvL,GAAY+Q,OAD7G,OAEbR,0BAA2B,kBAAM,MACjCR,cAAe,SAACxE,EAAiBt0C,GAAlB,qCAEXA,QAFW,IAEXA,OAFW,EAEXA,EACCke,WAHU,sBAGco2B,EAHd,iBAIfyF,iBAAkB,SAACzF,EAAiBt0C,EAAOw2C,GAAzB,OAChBx2C,EAAK,UACEs0C,EADF,0CAC4CkC,QAD5C,IAC4CA,OAD5C,EAC4CA,EAAavQ,WADzD,KAED,MACNA,WAAY,kBAAM,OAULsO,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,IC5BJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,aAGK00C,GAAmB,SAACp7C,GAAD,OAAiBs1C,GAAQt1C,ICqU1CkmC,GA/RE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,yCAAA85B,EAAA,yDAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,aAFT,UAIH+V,EAAiB3gC,SAJd,aAMH,EAAgBugC,2BANb,gCAOuBV,GAC1Bc,EAAeJ,2BARZ,OAOCR,EAPD,OAULY,EAAc,6BAAQA,GAAR,IAAwBZ,kBAVjC,cAYDtE,EAZC,aAYoBH,GACzB,IACAqF,EACAnF,KAEIY,EAAaR,GAAoBvqB,EAAMuZ,EAAYiX,IACnD7wC,EAlBC,WAkBUyqC,EAlBV,YAkB0BW,GAlB1B,UAuBGrD,GAAiB,UAAesB,GAAf,oBAA4CrpC,GAvBhE,wBAqBLzH,EArBK,EAqBLA,KACSipB,EAtBJ,EAsBLwmB,MAASxmB,MAtBJ,kBAyBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WA3BK,4CAAF,qDAAC,GA8BRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAaszC,GAAV,WAAyB7sC,IAJzC,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBszC,GADoB,yCAEcj5B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAUR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIa0vC,GAAqCoB,GAAW,CAAC9wC,IAJ9D,cAIAu4C,EAJA,yBAKC,CACLv4C,KAAMu4C,EAAK,KANP,2CAAF,qDAAC,GASPtoB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBmB,GACA,CACE7sC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD27C,UACEr3C,EAAKq3C,YAAct3C,EAAas3C,UAC5Br3C,EAAKq3C,eACL37C,EACN6pB,UACEvlB,EAAKulB,YAAcxlB,EAAawlB,UAC5BvlB,EAAKulB,eACL7pB,EACN66C,WACEv2C,EAAKu2C,aAAex2C,EAAaw2C,WAC7Bv2C,EAAKu2C,gBACL76C,EACNi8C,gBACE33C,EAAK23C,kBAAoB53C,EAAa43C,gBAClC33C,EAAK23C,qBACLj8C,EACNk8C,aACE53C,EAAK43C,eAAiB73C,EAAa63C,aAC/B53C,EAAK43C,kBACLl8C,IA5BJ,cAIAu0B,EAJA,yBA+BCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KA/BzB,2CAAF,qDAAC,GAiCP3S,KAAK,WAAD,8BAAE,WACJ9T,EADI,uBAAA85B,EAAA,6DAEFkV,EAFE,EAEFA,OAAQC,EAFN,EAEMA,SAFN,SAIe7I,GAAG,UAA8BkB,GAA9B,SAAgD,CACpE0H,SACAC,aANE,cAIEz4C,EAJF,yBAQGi7B,QAAQC,QAAQ,CAAEl7B,UARrB,2CAAF,qDAAC,GAULo4C,OAAO,WAAD,8BAAE,WACN5uC,EADM,qBAAA85B,EAAA,6DAEJkV,EAFI,EAEJA,OAFI,SAIa5I,GAAG,UACjBkB,GADiB,WAEpB,CACE0H,WAPE,cAIAx4C,EAJA,yBAUCi7B,QAAQC,QAAQ,CAAEl7B,KAAK,6BAAMA,GAAP,IAAaqG,cAAU3K,OAV9C,2CAAF,qDAAC,GAYPg9C,kBAAkB,WAAD,8BAAE,WACjBlvC,EADiB,uBAAA85B,EAAA,6DAEfkV,EAFe,EAEfA,OAAQG,EAFO,EAEPA,eAFO,SAIE/I,GAAG,UACjBkB,GADiB,sBAEpB,CACE0H,SACAG,mBARa,cAIX34C,EAJW,yBAWVi7B,QAAQC,QAAQ,CAAEl7B,UAXR,2CAAF,qDAAC,GAalB44C,oBAAoB,WAAD,8BAAE,WACnBpvC,EADmB,qBAAA85B,EAAA,6DAEjBkV,EAFiB,EAEjBA,OAFiB,SAIA5I,GAAG,UAGjBkB,GAHiB,wBAGgB,CACpC0H,WARiB,cAIbx4C,EAJa,yBAUZi7B,QAAQC,QAAQ,CAAEl7B,KAAK,6BAAMA,GAAP,IAAa24C,oBAAgBj9C,OAVvC,2CAAF,qDAAC,GAYpBm8C,aAAa,WAAD,8BAAE,WACZruC,EADY,uBAAA85B,EAAA,6DAEVkV,EAFU,EAEVA,OAAQhS,EAFE,EAEFA,UAFE,SAIOoJ,GAAG,UACjBkB,GADiB,iBAEpB,CACE0H,SACAhS,cARQ,cAINxmC,EAJM,yBAWLi7B,QAAQC,QAAQ,CAAEl7B,UAXb,2CAAF,qDAAC,GAab+3C,aAAa,WAAD,8BAAE,WACZvuC,EADY,uBAAA85B,EAAA,6DAEVkV,EAFU,EAEVA,OAAQhS,EAFE,EAEFA,UAFE,SAIOoJ,GAAG,UACjBkB,GADiB,iBAEpB,CACE0H,SACAhS,cARQ,cAINxmC,EAJM,yBAWLi7B,QAAQC,QAAQ,CAAEl7B,UAXb,2CAAF,qDAAC,GAabg4C,gBAAgB,WAAD,8BAAE,WACfxuC,EADe,uBAAA85B,EAAA,6DAEbkV,EAFa,EAEbA,OAAQK,EAFK,EAELA,aAFK,SAIIjJ,GAAG,UACjBkB,GADiB,oBAEpB,CACE0H,SACAK,iBARW,cAIT74C,EAJS,yBAWRi7B,QAAQC,QAAQ,CAAEl7B,UAXV,2CAAF,qDAAC,GAahBi4C,gBAAgB,WAAD,8BAAE,WACfzuC,EADe,uBAAA85B,EAAA,6DAEbkV,EAFa,EAEbA,OAAQK,EAFK,EAELA,aAFK,SAIIjJ,GAAG,UACjBkB,GADiB,oBAEpB,CACE0H,SACAK,iBARW,cAIT74C,EAJS,yBAWRi7B,QAAQC,QAAQ,CAAEl7B,UAXV,2CAAF,qDAAC,IC7NZwyC,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENs5C,0BAA2B,kBAAM,MACjCR,cAAe,SAACxE,EAAiBt0C,GAAlB,qCAEXA,QAFW,IAEXA,OAFW,EAEXA,EACCke,WAHU,sBAGco2B,EAHd,iBAIfiF,gBAAiB,SAACjF,EAAiBt0C,GAAlB,gBACZs0C,EADY,4FACuFt0C,EADvF,OAWJu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,IChBJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACNszC,QAAS,eACTD,gBAAiB,wBAGN6B,GAAsB,SAAC57C,GAAD,OAAiBs1C,GAAQt1C,IC+U7CkmC,GA7SE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,yCAAA85B,EAAA,yDAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,aAFT,UAIH+V,EAAiB3gC,SAJd,aAMH,EAAgBugC,2BANb,gCAOuBV,GAC1Bc,EAAeJ,2BARZ,OAOCR,EAPD,OAULY,EAAc,6BAAQA,GAAR,IAAwBZ,kBAVjC,cAYDtE,EAZC,aAYoBH,GACzB,IACAqF,EACAnF,KAEIY,EAAaR,GACjBvqB,EACAuZ,EACAyX,IAEIrxC,EAtBC,WAsBUyqC,EAtBV,YAsB0BW,GAtB1B,UA2BGrD,GAAiB,UACtB0B,GADsB,oBAEzBzpC,GA7BK,wBAyBLzH,EAzBK,EAyBLA,KACSipB,EA1BJ,EA0BLwmB,MAASxmB,MA1BJ,kBAgCAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlCK,4CAAF,qDAAC,GAqCRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAgB0zC,GAAb,WAA+BjtC,IAJ/C,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,uBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIgB23B,GAAiB,UACnC0B,GADmC,6CAErBr5B,EAAI+D,WAFiB,qBAJjC,uBAIC5b,EAJD,EAICA,KAJD,kBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,GAYR9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GACpBwB,GACA,CAAClxC,IANG,cAIA+4C,EAJA,yBAQC,CACL/4C,KAAM+4C,EAAQ,KATV,2CAAF,qDAAC,GAYP9oB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAGnBuB,GAAc,CACdjtC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD27C,UACEr3C,EAAKq3C,YAAct3C,EAAas3C,UAAYr3C,EAAKq3C,eAAY37C,EAC/Dw7C,QAASl3C,EAAKk3C,UAAYn3C,EAAam3C,QAAUl3C,EAAKk3C,aAAUx7C,EAChE66C,WACEv2C,EAAKu2C,aAAex2C,EAAaw2C,WAC7Bv2C,EAAKu2C,gBACL76C,EACNs9C,mBACEh5C,EAAKg5C,qBAAuBj5C,EAAai5C,mBACrCh5C,EAAKg5C,wBACLt9C,EACNu9C,eACEj5C,EAAKi5C,iBAAmBl5C,EAAak5C,eACjCj5C,EAAKi5C,oBACLv9C,EACNw9C,qBACEl5C,EAAKk5C,uBAAyBn5C,EAAam5C,qBACvCl5C,EAAKk5C,0BACLx9C,EACNy9C,iBACEn5C,EAAKm5C,mBAAqBp5C,EAAao5C,iBACnCn5C,EAAKm5C,sBACLz9C,EACN09C,2BACEp5C,EAAKo5C,6BACLr5C,EAAaq5C,2BACTp5C,EAAKo5C,gCACL19C,EACN29C,uBACEr5C,EAAKq5C,yBAA2Bt5C,EAAas5C,uBACzCr5C,EAAKq5C,4BACL39C,EACNu7C,gBACEj3C,EAAKi3C,kBAAoBl3C,EAAak3C,gBAClCj3C,EAAKi3C,qBACLv7C,IA7CF,cAIAu0B,EAJA,yBA+CCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KA/CzB,2CAAF,qDAAC,GAiDPqpB,cAAc,WAAD,8BAAE,WACb9vC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIUsM,GAAG,UACrBsB,GADqB,kBAExBjmC,GANW,cAIPsuC,EAJO,yBAQN,CACLv5C,KAAMu5C,IATK,2CAAF,qDAAC,GAYdrB,oBAAoB,WAAD,8BAAE,WACnB1uC,EACAyB,GAFmB,gBAAAq4B,EAAA,sEAIIsM,GAAG,UACrBsB,GADqB,wBAExBjmC,GANiB,cAIbsuC,EAJa,yBAQZ,CACLv5C,KAAMu5C,IATW,2CAAF,qDAAC,GAYpBpB,uBAAuB,WAAD,8BAAE,WACtB3uC,EACAyB,GAFsB,gBAAAq4B,EAAA,sEAMCsM,GAAG,UAGrBsB,GAHqB,2BAGkBjmC,GATtB,cAMhBsuC,EANgB,yBAUf,CACLv5C,KAAMu5C,IAXc,2CAAF,qDAAC,GAcvBC,aAAa,WAAD,8BAAE,WACZhwC,EACAyB,GAFY,gBAAAq4B,EAAA,sEAIWsM,GAAG,UACrBsB,GADqB,iBAExBjmC,GANU,cAINsuC,EAJM,yBAQL,CACLv5C,KAAMu5C,IATI,2CAAF,qDAAC,GAYbE,cAAc,WAAD,8BAAE,WACbjwC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIUsM,GAAG,UACrBsB,GADqB,kBAExBjmC,GANW,cAIPsuC,EAJO,yBAQN,CACLv5C,KAAMu5C,IATK,2CAAF,qDAAC,GAYdG,aAAa,WAAD,8BAAE,WACZlwC,EACAyB,GAFY,gBAAAq4B,EAAA,sEAIWsM,GAAG,UACrBsB,GADqB,iBAExBjmC,GANU,cAINsuC,EAJM,yBAQL,CACLv5C,KAAMu5C,IATI,2CAAF,qDAAC,GAYbI,iBAAiB,WAAD,8BAAE,WAChBnwC,EACAyB,GAFgB,gBAAAq4B,EAAA,sEAMOsM,GAAG,UAGrBsB,GAHqB,qBAGYjmC,GATtB,cAMVsuC,EANU,yBAUT,CACLv5C,KAAMu5C,IAXQ,2CAAF,qDAAC,IC3Ob/G,GAGF,CACFoH,KAAM,SAAC5H,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENm8C,uBAAwB,SAAC7H,EAAiBt0C,EAAOw2C,GAAzB,OACtBx2C,EAAK,UACEs0C,EADF,kDACoDkC,QADpD,IACoDA,OADpD,EACoDA,EAAaH,iBADjE,KAED,MACNA,iBAAkB,kBAAM,OAUX9B,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICdJs1C,GAAkC,CACtCvuC,GAAI,UACJ21C,KAAM,aAGKE,GAAuB,SAAC58C,GAAD,OAAiBs1C,GAAQt1C,ICoK9CkmC,GA3IE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAyY,IAEIryC,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtBwB,GADsB,oBAEzBvpC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAdJ,kBAoBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAtBK,4CAAF,qDAAC,GAyBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAiBwzC,GAAd,WAAiC/sC,IAJjD,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPg0C,QAAQ,WAAD,8BAAE,WACPxqC,EADO,uBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIgB23B,GAAiB,UACnCwB,GADmC,6CAErBn5B,EAAI+D,WAFiB,qBAJjC,uBAIC5b,EAJD,EAICA,KAJD,kBAQAi7B,QAAQC,QAAQ,CACrBl7B,UATK,2CAAF,qDAAC,GAYR+5C,iBAAiB,WAAD,8BAAE,WAChBvwC,EADgB,mCAAA85B,EAAA,6DAEd7sB,EAFc,EAEdA,OAAQqR,EAFM,EAENA,KAAMuZ,EAFA,EAEAA,WAEV6Q,EAJU,aAIWH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAyY,IAEIryC,EAVU,WAUCyqC,EAVD,YAUiBW,GAVjB,SAeNrD,GAAiB,UACtBwB,GADsB,oBAEzBvpC,GAjBc,uBAadzH,EAbc,EAadA,KACSipB,EAdK,EAcdwmB,MAASxmB,MAdK,kBAoBTgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAtBc,4CAAF,qDAAC,GAyBjB/qB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIiB0vC,GACrBsB,GACA,CAAChxC,IANG,cAIAg6C,EAJA,yBAQC,CACLh6C,KAAMg6C,EAAS,KATX,2CAAF,qDAAC,GAYP/pB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAGnBqB,GAAe,CACf/sC,KACA21C,KAAM55C,EAAK45C,OAAS75C,EAAa6D,KAAO5D,EAAK45C,UAAOl+C,IAThD,cAIAu0B,EAJA,yBAWCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAXzB,2CAAF,qDAAC,GAaPgqB,cAAc,WAAD,8BAAE,WACbzwC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIiBsM,GAAG,UAC5BoB,GAD4B,kBAE/B/lC,GANW,cAIPivC,EAJO,yBAQN,CACLl6C,KAAMk6C,IATK,2CAAF,qDAAC,GAYdC,cAAc,WAAD,8BAAE,WACb3wC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIiBsM,GAAG,UAC5BoB,GAD4B,kBAE/B/lC,GANW,cAIPivC,EAJO,yBAQN,CACLl6C,KAAMk6C,IATK,2CAAF,qDAAC,IC3IV1H,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENm8C,uBAAwB,SAAC7H,EAAiBt0C,EAAOw2C,GAAzB,OACtBx2C,EAAK,UACEs0C,EADF,kDACoDkC,QADpD,IACoDA,OADpD,EACoDA,EAAaH,iBADjE,KAED,MACNA,iBAAkB,kBAAM,MACxB/L,OAAQ,SAACgK,EAAiBt0C,GAAlB,gBACHs0C,EADG,gFACoFt0C,EADpF,MAERqsC,SAAU,SAACiI,EAAiBt0C,GAAlB,gBACLs0C,EADK,yCAC2Ct0C,EAD3C,OAEVw3C,UAAW,SAAClD,EAAiBt0C,GAAlB,gBACNs0C,EADM,yCAC0Ct0C,EAD1C,QAWEu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICpBJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACNkkC,UAAW,iBACXC,QAAS,eACTC,OAAQ,eAGGoS,GAAoB,SAACl9C,GAAD,OAAiBs1C,GAAQt1C,ICiU3CkmC,GAxSE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAY+Y,IACnD3yC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBa,GADsB,oBAEzB5oC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIczG,GAAc6yC,GAAX,WAA2BpsC,IAJ5C,cAIA3E,EAJA,yBAMC,CACLU,KAAMV,IAPF,2CAAF,qDAAC,GAUPpB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIc0vC,GAAuCW,GAAY,CAAC,6BAEjErwC,GAFgE,IAGnE8nC,UAAW4J,GACT,IAAIG,KAAK7xC,EAAK8nC,YACdgL,cACF/K,QAAS2J,GACP,IAAIG,KAAK7xC,EAAK+nC,UACd+K,kBAZA,cAIAxzC,EAJA,yBAgBC,CACLU,KAAMV,EAAM,KAjBR,2CAAF,qDAAC,GAoBP2wB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBU,GACA,CACEpsC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpDosC,UACE9nC,EAAK8nC,YAAc/nC,EAAa+nC,UAC3B4J,GACC,IAAIG,KAAK7xC,EAAK8nC,YACdgL,mBACFp3C,EACNqsC,QACE/nC,EAAK+nC,UAAYhoC,EAAagoC,QACzB2J,GACC,IAAIG,KAAK7xC,EAAK+nC,UACd+K,mBACFp3C,IApBJ,cAIAu0B,EAJA,yBAuBCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAvBzB,2CAAF,qDAAC,GAyBP+jB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjB6yC,GADoB,yCAEcx4B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAURq6C,SAAS,WAAD,8BAAE,WACR7wC,EADQ,qBAAA85B,EAAA,6DAENwC,EAFM,EAENA,QAFM,SAIe8J,GAAG,UACrBS,GADqB,6BACUvK,QAClCpqC,GANM,cAIF2+C,EAJE,yBAQD,CACLr6C,KAAMq6C,IATA,2CAAF,qDAAC,GAYTC,WAAW,WAAD,8BAAE,WACV9wC,EADU,qBAAA85B,EAAA,6DAERwC,EAFQ,EAERA,QAFQ,SAIe8J,GAAG,UACvBS,GADuB,+BACUvK,QACpCpqC,GANQ,cAIJ4+C,EAJI,yBAQH,CACLt6C,KAAMs6C,IATE,2CAAF,qDAAC,GAYXC,aAAa,WAAD,8BAAE,WACZ/wC,EADY,qBAAA85B,EAAA,6DAEVwC,EAFU,EAEVA,QAFU,SAIYtoC,GAAG,UACtB6yC,IADsB,wBAERvK,IANP,cAIN0U,EAJM,yBAQL,CACLx6C,KAAMw6C,IATI,2CAAF,qDAAC,GAYbC,gBAAgB,WAAD,8BAAE,WACfjxC,EACAyB,GAFe,gBAAAq4B,EAAA,sEAIcsM,GAAG,UAC3BS,GAD2B,oBAE9BplC,GANa,cAITyvC,EAJS,yBAQR,CACL16C,KAAM06C,IATO,2CAAF,qDAAC,GAYhBC,gBAAgB,WAAD,8BAAE,WACfnxC,EACAyB,GAFe,gBAAAq4B,EAAA,sEAIcsM,GAAG,UAC3BS,GAD2B,oBAE9BplC,GANa,cAITyvC,EAJS,yBAQR,CACL16C,KAAM06C,IATO,2CAAF,qDAAC,GAYhBE,cAAc,WAAD,8BAAE,WACbpxC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIcsM,GAAG,UACzBS,GADyB,kBAE5BplC,GANW,cAIP4vC,EAJO,yBAQN,CACL76C,KAAM66C,IATK,2CAAF,qDAAC,GAYdC,cAAc,WAAD,8BAAE,WACbtxC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIcsM,GAAG,UACzBS,GADyB,kBAE5BplC,GANW,cAIP4vC,EAJO,yBAQN,CACL76C,KAAM66C,IATK,2CAAF,qDAAC,GAYdE,WAAW,WAAD,8BAAE,WACVvxC,EADU,qBAAA85B,EAAA,6DAERwC,EAFQ,EAERA,QAFQ,SAIYtoC,GAAG,UACpB6yC,IADoB,sBAERvK,IANP,cAIJkV,EAJI,yBAQH,CACLh7C,KAAMg7C,IATE,2CAAF,qDAAC,GAYXf,cAAc,WAAD,8BAAE,WACbzwC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIcsM,GAAG,UACzBS,GADyB,kBAE5BplC,GANW,cAIPgwC,EAJO,yBAQN,CACLj7C,KAAMi7C,IATK,2CAAF,qDAAC,GAYdd,cAAc,WAAD,8BAAE,WACb3wC,EACAyB,GAFa,gBAAAq4B,EAAA,sEAIcsM,GAAG,UACzBS,GADyB,kBAE5BplC,GANW,cAIPgwC,EAJO,yBAQN,CACLj7C,KAAMi7C,IATK,2CAAF,qDAAC,I,QCpOVzI,GAGF,CACFlK,WAAY,SAAC0J,EAAiBt0C,GAAlB,gBACPs0C,EADO,iCACiCt0C,EADjC,OAEZ6qC,UAAW,SAACyJ,EAAiBt0C,GAAlB,gBACNs0C,EADM,6BAC8Bt0C,EAD9B,MAEXuoC,WAAY,SAAC+L,EAAiBt0C,GAAlB,gBACPs0C,EADO,sCACsCt0C,EADtC,MAEZg0B,KAAM,SAACsgB,EAAiBt0C,GAAlB,gBACDs0C,EADC,2DAEFt0C,EAAMke,WAAW2E,MAAM,KAAK,GAF1B,yBAGayxB,EAHb,2DAIFt0C,EAAMke,WAAW2E,MAAM,KAAK,GAJ1B,eAMNioB,WAAY,SAACwJ,EAAiBt0C,GAAlB,gBACPs0C,EADO,kCACkCt0C,EADlC,OAEZud,KAAM,SAAC+2B,EAAiBt0C,GAAlB,gBACDs0C,EADC,gCACsCt0C,EADtC,OAENqsC,SAAU,SAACiI,EAAiBt0C,GAAlB,gBACLs0C,EADK,qDACuDt0C,EADvD,OAEVooC,QAAS,SAACkM,EAAiBt0C,GAAlB,gBACJs0C,EADI,oCACuCt0C,EADvC,OAIEu0C,GAAe,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,IC3BJs1C,GAAkC,CACtCvuC,GAAI,UACJytB,KAAM,YACN8W,WAAY,mBACZF,WAAY,kBACZC,UAAW,kBAGA2S,GAAkB,SAACh+C,GAAD,OAAiBs1C,GAAQt1C,ICL3Ci+C,GAAmB,SAAC,EAU/Bv4C,GACiB,IATfqB,EASc,EATdA,GACAytB,EAQc,EARdA,KACA4W,EAOc,EAPdA,WACAC,EAMc,EANdA,UACA6S,EAKc,EALdA,OACgB5S,EAIF,EAJd6S,OAAUz3C,KACV5D,EAGc,EAHdA,KAIIs7C,EAAWt7C,EAAKyW,QAAO,qBAAG/S,SAAwBpF,SAASsE,MAAS,GAC1E,MAAO,CACLqB,KACAytB,OACA8W,aACAF,aACArtB,MAAc,OAARqgC,QAAQ,IAARA,OAAA,EAAAA,EAAUrgC,OAAQmgC,EACxBp5C,MAAOhC,EAAK,GAAGgC,OAAS,cACxBumC,c,cCaWnF,GAtBE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,yCAAA85B,EAAA,iEAEL7sB,OAAU7T,EAFL,EAEKA,OAAW6T,EAFhB,mBAE0BqR,EAF1B,EAE0BA,KAAMuZ,EAFhC,EAEgCA,WAEjC6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAY6Z,IACnDzzC,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAoCc,GAAmB7oC,GAX1D,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAELsyB,EAAev7C,EAAKsE,KAAI,SAACk3C,GAAD,OAASL,GAAiBK,EAAK54C,MAZtD,kBAcAq4B,QAAQC,QAAQ,CACrBl7B,KAAMu7C,EACNtyB,WAhBK,4CAAF,qDAAC,ICfJupB,GAGF,CACFvuC,GAAI,SAAC+tC,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,gBAAsDt0C,IAC1DkG,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAEN62C,cAAe,kBAAM,MACrBzO,QAAS,SAACkM,EAAiBt0C,EAAOw2C,GAAzB,OACuB,IAA9BA,EAAYK,cACR,KADJ,UAEOvC,EAFP,sCAEoDt0C,EAFpD,QAYWu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICfJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,aAGK63C,GAAqB,SAACv+C,GAAD,OAAiBs1C,GAAQt1C,IC0F5CkmC,GAvEE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAYoa,IACnDh0C,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UACtBoB,GADsB,oBAEzBnpC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAeozC,GAAZ,WAA6B3sC,IAJ7C,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASP9B,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIe0vC,GAAyCkB,GAAa,CACzE5wC,IALI,cAIA07C,EAJA,yBAOC,CACL17C,KAAM07C,EAAO,KART,2CAAF,qDAAC,GAWPzrB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBiB,GACA,CACE3sC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,IARlD,cAIAu0B,EAJA,yBAWCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAXzB,2CAAF,qDAAC,GAaP+jB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBozC,GADoB,yCAEc/4B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,IC/EJwyC,GAGF,CACFvuC,GAAI,SAAC+tC,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,gBAAsDt0C,IAC1DurC,YAAa,SAAC+I,EAAiBt0C,GAAlB,gBACRs0C,EADQ,kCACiCt0C,EADjC,OAEbsrC,SAAU,SAACgJ,EAAiBt0C,GAAlB,gBACLs0C,EADK,+BACiCt0C,EADjC,OAEVsoC,QAAS,SAACgM,EAAiBt0C,GAAlB,gBACJs0C,EADI,2BAC8Bt0C,EAD9B,MAETqsC,SAAU,SAACiI,EAAiBt0C,GAAlB,gBACLs0C,EADK,0CAC4Ct0C,EAD5C,OAWGu0C,GAPa,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,IChBJs1C,GAAkC,CACtCvuC,GAAI,UACJ+kC,SAAU,gBACVC,YAAa,mBACbjD,QAAS,gBAGE2V,GAAmB,SAACz+C,GAAD,OAAiBs1C,GAAQt1C,IC+E1CkmC,GA7DE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAYsa,IACnDl0C,EANC,WAMUyqC,EANV,YAM0BW,GAN1B,SAWGrD,GAAiB,UAAeiB,GAAf,oBAA4ChpC,GAXhE,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAaAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAfK,4CAAF,qDAAC,GAkBR/qB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAEI4zC,EAA6B,CAAC5zC,GAJ9B,SAKA0vC,GAAmCe,GAAWmD,GAL9C,gCAMC3Y,QAAQC,QAAQ,CACrBl7B,KAAM,CAAEiE,GAAI,MAPR,2CAAF,qDAAC,GAUPgsB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBc,GACA,CACExsC,KACA+kC,SACEhpC,EAAKgpC,WAAajpC,EAAaipC,SAAWhpC,EAAKgpC,cAAWttC,EAC5DutC,YACEjpC,EAAKipC,cAAgBlpC,EAAakpC,YAC9BjpC,EAAKipC,iBACLvtC,EACNsqC,QACEhmC,EAAKgmC,UAAYjmC,EAAaimC,QAAUhmC,EAAKgmC,aAAUtqC,IAfvD,cAIAu0B,EAJA,yBAkBCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAlBzB,2CAAF,qDAAC,GAoBP+jB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBizC,GADoB,yCAEc54B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,IC1EJwyC,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENsqC,OAAQ,SAACgK,EAAiBt0C,GAAlB,gBACHs0C,EADG,gFACoFt0C,EADpF,MAERk+C,WAAY,SAAC5J,GAAD,gBAAwBA,EAAxB,sBAUCC,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICZJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACNkkC,UAAW,iBACXC,QAAS,gBAGE8T,GAA0B,SAAC3+C,GAAD,OAAiBs1C,GAAQt1C,ICJnD4+C,GAAwB,SAACx8C,GAAD,MAAwC,CAC3E2E,GAAI3E,EAAM2E,GACVL,KAAMtE,EAAMsE,KACZkkC,UAAWxoC,EAAMwoC,UACjBC,QAASzoC,EAAMyoC,UCqCF3E,GA9BE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,qCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAwa,IAEIp0C,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtBa,GADsB,oBAEzB5oC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAML8yB,EAAkB/7C,EAAKsE,KAAI,SAAChF,GAAD,OAAWw8C,GAAsBx8C,MApB3D,kBAsBA,CACLU,KAAM+7C,EACN9yB,UAxBK,4CAAF,qDAAC,ICDJ+yB,GAAoB,SAACC,EAAkBC,GAAnB,OACxBD,EAAM7/C,OAAS8/C,EAASzlC,QAAO,SAAC0lC,GAAD,OAAmB,MAAZA,EAAEpW,UAAgB3pC,QA6BpDggD,GAA0B,SAC9BC,EACAC,EACAL,EACAC,EACAK,GAL8B,MAMN,CACxBt4C,GAAIo4C,EAAQp4C,GACZL,KAAMy4C,EAAQz4C,KACdulC,SAAU6S,GAAkBC,EAAOC,GACnC9S,KAAM8S,EAAS9/C,OACfitC,QAASkT,EAAkBngD,OAC3BkgD,OAAQA,EACL7lC,QAAO,SAAC0lC,GAAD,OAAOE,EAAQrS,UAAU1rC,SAAS69C,EAAEl4C,OAC3CK,KAAI,SAACk4C,GACJ,IAAMC,EAAgBR,EAAMxlC,QAAO,SAACza,GAAD,OAAOA,EAAEgqC,UAAYwW,EAAMv4C,MACxDy4C,EAAqBF,EAAMnX,YAAY7uB,OAC3CimC,EAAc5I,SAAQ,SAAC73C,GAAD,OAAOA,EAAEqpC,gBAE3BsX,EAAmBT,EAASzlC,QAAO,SAACmmC,GAAD,OACvCF,EAAmBp+C,SAASs+C,EAAK34C,OAE7B44C,EAA4BN,EAAkB9lC,QAClD,SAACqmC,GAAD,OAAsBJ,EAAmBp+C,SAASw+C,MAE9CC,EAA0Bb,EAASzlC,QAAO,SAACmmC,GAAD,OAC9CC,EAA0Bv+C,SAASs+C,EAAK34C,OAE1C,OAvDwB,SAC5Bu4C,EACAP,EACAC,EACAc,GAJ4B,MAKN,CACtB/4C,GAAIu4C,EAAMv4C,GACVL,KAAM44C,EAAM54C,KACZulC,SAAU6S,GAAkBC,EAAOC,GACnC9S,KAAM8S,EAAS9/C,OACfitC,QAAS2T,EAAgB5gD,OACzB6gD,WAAYf,EAASzlC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAYU,UAAQtpC,OAClE8gD,cAAeF,EAAgBvmC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAYU,UACjEtpC,OACH+gD,QAASjB,EAASzlC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAYoY,OAAKhhD,OAC5DihD,WAAYL,EAAgBvmC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAYoY,OAAKhhD,OACtEkhD,UAAWpB,EAASzlC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAYuY,SAAOnhD,OAChEohD,aAAcR,EAAgBvmC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAYuY,SAChEnhD,OACHqhD,YAAavB,EAASzlC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAY0Y,WAASthD,OACpEuhD,eAAgBX,EAAgBvmC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAY0Y,WAClEthD,OACHwhD,WAAY1B,EAASzlC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAY6Y,UAAQzhD,OAClE0hD,cAAed,EAAgBvmC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE37C,OAASwkC,GAAY6Y,UACjEzhD,QA+BQ2hD,CACLvB,EACAC,EACAE,EACAI,QA2CKiB,GAAmB,SAC9BC,EACA3U,EACA4U,EACA5B,EACAL,EACAC,EACAc,GAEA,IAAMT,EAAoBS,EAAgB14C,KAAI,SAACs4C,GAAD,OAAUA,EAAK34C,MAC7D,MAAO,CACLA,GAAIg6C,EAAch6C,GAClBxF,UAAWw/C,EAAcr6C,KACzBulC,SAAU6S,GAAkBC,EAAOC,GACnC9S,KAAM8S,EAAS9/C,OACfitC,QAAS2T,EAAgB5gD,OACzBs1B,KAAMusB,EAAcnW,UACpBwB,QAASA,EACN7yB,QAAO,SAAC0nC,GAAD,OAAOF,EAAc7V,WAAW9pC,SAAS6/C,EAAEl6C,OAClDK,KAAI,SAACo3C,GACJ,IAAM0C,EAAmBF,EAASznC,QAChC,SAAC1a,GAAD,OAAOA,EAAEguC,WAAa2R,EAAOz3C,MAEzBo6C,EAAiB/B,EAAO7lC,QAAO,SAAC0lC,GAAD,OACnCiC,EAAiBvK,SAAQ,SAAC93C,GAAD,OAAOA,EAAEiuC,aAAW1rC,SAAS69C,EAAEl4C,OAEpDq6C,EAAkBD,EAAexK,SAAQ,SAACsI,GAAD,OAAOA,EAAE7W,YAClDmX,EAAgBR,EAAMxlC,QAAO,SAACza,GAAD,OACjCsiD,EAAgBhgD,SAAStC,EAAEiI,OAEvBy4C,EAAqB2B,EACxBxK,SAAQ,SAACsI,GAAD,OAAOA,EAAE9W,eACjB7uB,OAAOimC,EAAc5I,SAAQ,SAAC73C,GAAD,OAAOA,EAAEqpC,gBACnCsX,EAAmBT,EAASzlC,QAAO,SAACmmC,GAAD,OACvCF,EAAmBp+C,SAASs+C,EAAK34C,OAE7B44C,EAA4BN,EAAkB9lC,QAClD,SAACqmC,GAAD,OAAsBJ,EAAmBp+C,SAASw+C,MAEpD,OA7EuB,SAC7BpB,EACAwC,EACA5B,EACAL,EACAC,EACAK,GAN6B,MAON,CACvBt4C,GAAIy3C,EAAOz3C,GACXL,KAAM83C,EAAO93C,KACbulC,SAAU6S,GAAkBC,EAAOC,GACnC9S,KAAM8S,EAAS9/C,OACfitC,QAASkT,EAAkBngD,OAC3B8hD,SAAUA,EACPznC,QAAO,SAAC1a,GAAD,OAAO2/C,EAAOhT,YAAYpqC,SAASvC,EAAEkI,OAC5CK,KAAI,SAAC+3C,GACJ,IAAMgC,EAAiB/B,EAAO7lC,QAAO,SAAC0lC,GAAD,OAAOA,EAAE/W,YAAciX,EAAQp4C,MAC9Dq6C,EAAkBD,EAAexK,SAAQ,SAACsI,GAAD,OAAOA,EAAE7W,YAClDmX,EAAgBR,EAAMxlC,QAAO,SAACza,GAAD,OAAOsiD,EAAgBhgD,SAAStC,EAAEiI,OAC/Dy4C,EAAqB2B,EACxBxK,SAAQ,SAACsI,GAAD,OAAOA,EAAE9W,eACjB7uB,OAAOimC,EAAc5I,SAAQ,SAAC73C,GAAD,OAAOA,EAAEqpC,gBACnCsX,EAAmBT,EAASzlC,QAAO,SAACmmC,GAAD,OACvCF,EAAmBp+C,SAASs+C,EAAK34C,OAE7B44C,EAA4BN,EAAkB9lC,QAClD,SAACqmC,GAAD,OAAsBJ,EAAmBp+C,SAASw+C,MAEpD,OAAOV,GACLC,EACAgC,EACA5B,EACAE,EACAE,OA4CO0B,CACL7C,EACA0C,EACAC,EACA5B,EACAE,EACAE,QC/EKzZ,GAlEE,CACfgD,OAAO,WAAD,8BAAE,WACN58B,EADM,uDAAA85B,EAAA,6DAEAwC,EAFA,EAEJ7hC,GAEIu6C,EAAuBhhD,GAAc6yC,GAAX,WAA2BvK,IACrD2Y,EAAiBlP,GACrBqB,GADoC,2CAEA9K,EAFA,sCAIhC4Y,EAAkBnP,GACtBoB,GADqC,kDAEM7K,EAFN,sCAIjC6Y,EAAgBpP,GACpBmB,GADmC,0DAEgB5K,EAFhB,sCAI/B8Y,EAAerP,GACnBkB,GADkC,gEAEuB3K,EAFvB,OAI9B+Y,EArBA,8BAqB2C/Y,EArB3C,4FAsBAgZ,EAAkBvP,GACtBY,GACA0O,GAEIE,EAAyBxP,GAC7BY,GAD4C,UAEzC0O,EAFyC,mKA1BxC,UAuCI5jB,QAAQsY,IAAI,CACpBiL,EACAC,EACAC,EACAC,EACAC,EACAE,EACAC,IA9CI,4CAgCJd,EAhCI,KAiCJ3U,EAjCI,KAkCJ4U,EAlCI,KAmCJ5B,EAnCI,KAoCJL,EApCI,KAqCJC,EArCI,KAsCJc,EAtCI,KAiDAgC,EAAkBhB,GACtBC,EACA3U,EACA4U,EACA5B,EACAL,EACAC,EACAc,GAxDI,kBA2DC,CACLh9C,KAAMg/C,IA5DF,4CAAF,qDAAC,ICpBHxM,GAGF,CACF36B,IAAK,SAACm6B,EAAiBt0C,GAAlB,2BACWA,EADX,sBAC8Bs0C,EAD9B,SAEL1J,WAAY,SAAC0J,EAAiBt0C,GAAlB,gBACPs0C,EADO,iCACiCt0C,EADjC,OAEZ6qC,UAAW,SAACyJ,EAAiBt0C,GAAlB,gBACNs0C,EADM,6BAC8Bt0C,EAD9B,MAEXooC,QAAS,SAACkM,EAAiBt0C,GAAlB,gBACJs0C,EADI,mCACsCt0C,EADtC,MAETuhD,YAAa,SAACjN,EAAiBt0C,GAAlB,gBACRs0C,EADQ,qFACoFt0C,EADpF,MAEbqsC,SAAU,SAACiI,EAAiBt0C,GAAlB,gBACLs0C,EADK,qDACuDt0C,EADvD,OAEVwoC,UAAW,SAAC8L,EAAiBt0C,GAAlB,gBACNs0C,EADM,qCACsCt0C,EADtC,MAEX+rC,WAAY,SAACuI,EAAiBt0C,GAAlB,gBACPs0C,EADO,kFACkFt0C,EADlF,OAWCu0C,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICvBJs1C,GAAkC,CACtCvuC,GAAI,UACJqkC,WAAY,kBACZC,UAAW,iBACX2W,kBAAmB,kCACnBC,iBAAkB,iCAClBC,cAAe,8BACf3gD,UAAW,2BAGA4gD,GAAqB,SAACniD,GAAD,OAAiBs1C,GAAQt1C,IC2H5CkmC,GA5GE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQ4qB,EAFH,EAEGA,WAAYvZ,EAFf,EAEeA,KAEhBoqB,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GAAoBvqB,EAAMuZ,EAAYge,IACnD53C,EANC,WAMUyqC,GANV,OAMyBW,EAAU,WAAOA,GAAe,IANzD,SAWGrD,GAAiB,UACtBe,GADsB,oBAEzB9oC,GAbK,uBASLzH,EATK,EASLA,KACSipB,EAVJ,EAULwmB,MAASxmB,MAVJ,kBAgBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAlBK,4CAAF,qDAAC,GAqBR+qB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,uBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAEIq6B,EAJC,aAIoBH,GACzB,IACA,CAAEl6B,OACFo6B,KAPK,SASYz0C,GAAG,UACjB+yC,GADiB,qBAEpB2B,GAXK,cASDlyC,EATC,yBAaAi7B,QAAQC,QAAQ,CACrBl7B,UAdK,2CAAF,qDAAC,GAiBRiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GACnBY,GACA,CACEtsC,KACAqkC,WACEtoC,EAAKsoC,aAAevoC,EAAauoC,WAC7BtoC,EAAKsoC,gBACL5sC,EACN+tC,WACEzpC,EAAKypC,aAAe1pC,EAAa0pC,WAC7BzpC,EAAKypC,gBACL/tC,EACN4e,OAAQta,EAAKsa,SAAWva,EAAaua,OAASta,EAAKsa,YAAS5e,EAC5D6sC,UACEvoC,EAAKuoC,YAAcxoC,EAAawoC,UAC5BvoC,EAAKuoC,eACL7sC,IApBJ,cAIAu0B,EAJA,yBAuBCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAvBzB,2CAAF,qDAAC,GAyBP/xB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIe0vC,GAAyCa,GAAa,CACzEvwC,IALI,cAIAs/C,EAJA,yBAOCrkB,QAAQC,QAAQ,CACrBl7B,KAAMs/C,EAAO,MART,2CAAF,qDAAC,GAWPC,WAAW,WAAD,8BAAE,WACV/1C,EADU,qBAAA85B,EAAA,6DAERtjC,EAFQ,EAERA,KAFQ,SAIY0vC,GAAI,UACrBa,GADqB,WAExBvwC,GANQ,cAIJw/C,EAJI,yBAQH,CAAEx/C,KAAMw/C,EAAQ,KARb,2CAAF,qDAAC,ICpGPhN,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENqsC,SAAU,SAACiI,EAAiBt0C,GAAlB,gBAA+Bs0C,EAA/B,sBAA4Dt0C,KAUzDu0C,GAPa,SAAC/0C,GAAD,OAC1Bs1C,GAAQt1C,ICVJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,aAEK67C,GAAsB,SAACviD,GAAD,OAAiBs1C,GAAQt1C,ICgF7CkmC,GA3DE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAoe,IAEIh4C,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAcGrD,GAAiB,UACtBmB,GADsB,oBAEzBlpC,GAhBK,uBAYLzH,EAZK,EAYLA,KACSipB,EAbJ,EAaLwmB,MAASxmB,MAbJ,kBAkBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WApBK,4CAAF,qDAAC,GAuBR/qB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAEI4zC,EAAgC,CAAC5zC,GAJjC,SAKA0vC,GAAyCiB,GAAciD,GALvD,gCAMC3Y,QAAQC,QAAQ,CACrBl7B,KAAM,CAAEiE,GAAI,MAPR,2CAAF,qDAAC,GAUPgsB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAGnBgB,GAAc,CACd1sC,KACAL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,IAThD,cAIAu0B,EAJA,yBAWCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KAXzB,2CAAF,qDAAC,GAaP+jB,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBmzC,GADoB,yCAEc94B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,ICxEJwyC,GAGF,CACF5uC,KAAM,SAACouC,EAAiBt0C,GAAlB,gBACDs0C,EADC,2BACiCt0C,EADjC,OAENgiD,eAAgB,SAAC1N,EAAiBt0C,EAAOw2C,GAAzB,OACdx2C,EAAK,UACEs0C,EADF,yCAC2CkC,QAD3C,IAC2CA,OAD3C,EAC2CA,EAAazB,SADxD,KAED,MACNA,SAAU,kBAAM,OAUHR,GAPM,SAAC/0C,GAAD,OACnBs1C,GAAQt1C,ICdJs1C,GAAkC,CACtCvuC,GAAI,UACJL,KAAM,YACN0W,OAAQ,eAGGqlC,GAAsB,SAACziD,GAAD,OAAiBs1C,GAAQt1C,ICsI7CkmC,GAnHE,CACfC,QAAQ,WAAD,8BAAE,WACP75B,EADO,mCAAA85B,EAAA,6DAEL7sB,EAFK,EAELA,OAAQqR,EAFH,EAEGA,KAAMuZ,EAFT,EAESA,WAEV6Q,EAJC,aAIoBH,GAAqB,IAAKt7B,EAAQw7B,KACvDY,EAAaR,GACjBvqB,EACAuZ,EACAse,IAEIl4C,EAVC,WAUUyqC,EAVV,YAU0BW,GAV1B,SAeGrD,GAAiB,UACtBgB,GADsB,oBAEzB/oC,GAjBK,uBAaLzH,EAbK,EAaLA,KACSipB,EAdJ,EAcLwmB,MAASxmB,MAdJ,kBAoBAgS,QAAQC,QAAQ,CACrBl7B,OACAipB,WAtBK,4CAAF,qDAAC,GAyBRmd,OAAO,WAAD,8BAAE,WACN58B,EADM,qBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAFI,SAIazG,GAAgBgzC,GAAb,WAA+BvsC,IAJ/C,cAIAjE,EAJA,yBAKCi7B,QAAQC,QAAQ,CACrBl7B,UANI,2CAAF,qDAAC,GASPiwB,OAAO,WAAD,8BAAE,WACNzmB,EADM,yBAAA85B,EAAA,6DAEJr/B,EAFI,EAEJA,GAAIjE,EAFA,EAEAA,KAAMD,EAFN,EAEMA,aAFN,SAIe4vC,GAAwCa,GAAc,CACzEvsC,GAAIA,EACJL,KAAM5D,EAAK4D,OAAS7D,EAAa6D,KAAO5D,EAAK4D,UAAOlI,EACpD4e,OAAQta,EAAKsa,SAAWva,EAAaua,OAASta,EAAKsa,YAAS5e,IAPxD,cAIAu0B,EAJA,yBASCgL,QAAQC,QAAQ,CAAEl7B,KAAMiwB,KATzB,2CAAF,qDAAC,GAWP/xB,OAAO,WAAD,8BAAE,WACNsL,EADM,qBAAA85B,EAAA,6DAEJtjC,EAFI,EAEJA,KAFI,SAIgB0vC,GACpBc,GACA,CACE,CACE5sC,KAAI,OAAE5D,QAAF,IAAEA,OAAF,EAAEA,EAAM4D,KACZ0W,QAAY,OAAJta,QAAI,IAAJA,OAAA,EAAAA,EAAMsa,UAAU,KATxB,cAIAsD,EAJA,yBAaCqd,QAAQC,QAAQ,CAAEl7B,KAAM4d,EAAQ,MAbjC,2CAAF,qDAAC,GAePo2B,QAAQ,WAAD,8BAAE,WACPxqC,EADO,qBAAA85B,EAAA,6DAELzrB,EAFK,EAELA,IAFK,SAIYra,GACjBgzC,GADoB,yCAEc34B,EAAI+D,WAFlB,qBAJf,cAID5b,EAJC,yBAQAi7B,QAAQC,QAAQ,CAAEl7B,UARlB,2CAAF,qDAAC,GAUR4/C,eAAe,WAAD,8BAAE,WACdp2C,EACAyB,GAFc,gBAAAq4B,EAAA,sEAIgBsM,GAAG,UAC5BY,GAD4B,mBAE/BvlC,GANY,cAIR40C,EAJQ,yBAQP,CACL7/C,KAAM6/C,IATM,2CAAF,qDAAC,GAYfC,eAAe,WAAD,8BAAE,WACdt2C,EACAyB,GAFc,gBAAAq4B,EAAA,sEAIgBsM,GAAG,UAC5BY,GAD4B,mBAE/BvlC,GANY,cAIR40C,EAJQ,yBAQP,CACL7/C,KAAM6/C,IATM,2CAAF,qDAAC,IChFXxV,IAAiD,sBACpDrH,GAAasH,aAAeyV,IADwB,gBAEpD/c,GAAawH,SAAWwV,IAF4B,gBAGpDhd,GAAa0H,cAAgBuV,IAHuB,gBAIpDjd,GAAa4H,SAAWsV,IAJ4B,gBAKpDld,GAAa8H,UAAYqV,IAL2B,gBAMpDnd,GAAagI,UAAYoV,IAN2B,gBAOpDpd,GAAakI,UAAYmV,IAP2B,gBAQpDrd,GAAasI,QAAUgV,IAR6B,gBASpDtd,GAAawI,UAAY+U,IAT2B,gBAUpDvd,GAAa0I,OAAS8U,IAV8B,gBAWpDxd,GAAa4I,KAAO6U,IAXgC,gBAYpDzd,GAAa8I,QAAU4U,IAZ6B,gBAapD1d,GAAagJ,MAAQ2U,IAb+B,gBAcpD3d,GAAakJ,MAAQ0U,IAd+B,gBAepD5d,GAAaoJ,YAAcyU,IAfyB,gBAgBpD7d,GAAasJ,SAAWwU,IAhB4B,gBAiBpD9d,GAAawJ,mBAAqBuU,IAjBkB,gBAkBpD/d,GAAa0J,wBAA0BsU,IAlBa,gBAmBpDhe,GAAakK,QAAU+T,IAnB6B,gBAoBpDje,GAAaoK,YAAcqT,IApByB,gBAqBpDzd,GAAa4J,SAAWsU,IArB4B,gBAsBpDle,GAAa8J,OAASqU,IAtB8B,gBAuBpDne,GAAagK,MAAQoU,IAvB+B,gBAwBpDpe,GAAaqK,MAAQgU,IAxB+B,gBAyBpDre,GAAauK,SAAW+T,IAzB4B,gBA0BpDte,GAAaoI,kBAAoBmW,IA1BmB,IA6BxC,YACb9T,EACAjkC,EACAyB,GAIA,OAFyBo/B,GAAc7gC,GAC1BkkC,aAAkBD,IACDjkC,EAAUyB,I,UCpD3Bm4B,GAVE,CACf/hC,UAAW,SAACnE,EAAa0N,GAAd,OAAuC42C,KAAKzlD,EAAEmB,EAAK0N,IAC9DzH,aAAa,WAAD,8BAAE,WAAOP,GAAP,gBAAA0gC,EAAA,6DACNT,EAAW9lC,aAAaO,QAAQ,YACtCP,aAAae,QAAb,UAAwB+kC,EAAxB,QAAwCjgC,GAF5B,SAGN4+C,KAAKC,eAAe7+C,GAHd,2CAAF,mDAAC,GAKb8+C,UAAW,kBAAcF,KAAK99C,WCJ1Bi+C,GAAoB,SAACC,EAAoBC,GAArB,OACxBD,EAAM55C,OAAS65C,EAAOzlD,SAAWylD,EAAOC,OAAM,SAACpkD,GAAD,OAAWkkD,EAAMG,IAAIrkD,OAE/DskD,GAAa,yCAAG,WACpBzpC,EACAtN,EACAg3C,GAHoB,gBAAA3e,EAAA,sEAKiB/qB,EAAaw1B,eAChD9iC,GANkB,UAKdi3C,EALc,QAQhBP,GAAkBO,EAAuBD,GARzB,uBAUlBlrC,QAAQxI,MAAM,yBAVI,SAWZgK,EAAakE,OAAO,IAXR,gCAYXwe,QAAQC,QAAQ,IAAI3U,IAAI,MAZb,gCAcb0U,QAAQC,QAAQgnB,IAdH,2CAAH,0DAiBNC,GAA8B,SAAC5pC,GAE1C,IAAI0pC,EAAmC,KAEvC,OAAO,IAAIG,MAAoB7pC,EAAc,CAC3C/a,IACE,SAACmQ,EAAQ/J,GAAT,gDACA,WAAOqH,GAAP,oBAAAq4B,EAAA,2DACU1/B,EADV,OAGS,UAHT,OAWS,mBAXT,wCAIY2U,EAAaq1B,MAAM3iC,GAJ/B,uBAK2CsN,EAAaw1B,eAChD9iC,GANR,cAKYi3C,EALZ,OAQMD,EAAkB57B,MAAMld,KAAK+4C,GARnC,kBASajnB,QAAQC,WATrB,YAYU+mB,EAZV,0CAceD,GAAczpC,EAActN,EAAQg3C,IAdnD,yBAiB6BzkD,GAAewyC,IAjB5C,eAiBYsB,EAjBZ,OAkBYC,EAAQD,EAAShtC,KAAI,SAACwkB,GAAD,OAAOA,EAAEllB,QACpCq+C,EAAkB1Q,EAClBx0C,aAAae,QAAQ,QAASyzC,EAAMrmB,QApB1C,kBAqBa+P,QAAQC,QAAQ,IAAI3U,IAAIgrB,KArBrC,iCAwBah5B,EAAa3U,GAAMqH,IAxBhC,4CADA,0D,kDC5BAo3C,GAA+B,6BAChCv7B,MADgC,IAEnCvT,WAAY,CAEVD,WAAY,CACV,gBACA,qBACA,aACA,QACA,cACA4X,KAAK,KACPo3B,MAAO,CACLC,WAAY,KAEdtpC,MAAO,CACLspC,WAAY,KAEdC,GAAI,CACFD,WAAY,MAGhBx7B,UAAW,CACT07B,SAAU,CACR17C,KAAM,CACJpB,OAAQ,KAId+3B,QAAS,CACP7rB,MAAO,IACP6wC,YAAa,MAIJC,GAA0B,6BAClCN,IADkC,IAErC5hD,QAAS,CACPmP,QAASgzC,KACT1nC,UAAW2nC,KACXriD,KAAM,WAIGsiD,GAAyB,6BACjCT,IADiC,IAEpC5hD,QAAS,CACPmP,QAAS,CACPmzC,MAAOH,KAAW,KAClBp0C,KAAMo0C,KAAW,KACjBI,KAAMJ,KAAW,KACjBK,aAAc,WAEhB/nC,UAAW2nC,KACXriD,KAAM,U,oOCzCJgC,GAAYgC,aAAW,SAACzD,GAAD,MAAY,CACvC4Z,KAAM,CACJQ,SAAUpa,EAAM2D,QAAQ,IAE1B+U,cAAe,CACb,MAAO,CACL3H,WAAY,sDACZjM,YAAa9E,EAAM2D,QAAQ,KAG/Bw+C,gBAAiB,CACf,MAAO,CACLpxC,WAAY,sDACZjM,YAAa9E,EAAM2D,QAAQ,KAG/By+C,QAAS,CACPC,gBAAiB,aAYRC,GAAU,SAACh8C,GACtB,IAAQi8C,EAA+Cj8C,EAA/Ci8C,aAAc3oC,EAAiCtT,EAAjCsT,KAAMxM,EAA2B9G,EAA3B8G,OAAQvK,EAAmByD,EAAnBzD,KAAMjD,EAAa0G,EAAb1G,SAC1C,EAAkD5B,oBAAS,GAA3D,oBAAOwkD,EAAP,KAA0BC,EAA1B,KACMv+C,EAAcJ,aAClB,SAACC,GAAD,cAAuBA,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAOC,MAAMC,GAAGC,eAEnC1C,EAAUC,KACVihD,EAAel+C,iBAAO,MAStBm+C,EACJ,gBAAC,IAAD,CAAU58C,QAAM,EAAC7E,QARM,WACvBqhD,IACAljC,YAAW,WACTojC,GAAsBD,KACrB,MAIH,UACE,eAAC7oC,GAAA,EAAD,CAAclX,UAAWjB,EAAQoY,KAAjC,SACG4oC,EACC,eAACt+B,GAAA,EAAD,CAAOM,UAAU,OAAOo+B,GAAIx1C,EAAQc,IAAKw0C,EAAaj+C,QAAtD,SACE,eAAC,KAAD,MAGF,eAACyf,GAAA,EAAD,CAAOM,UAAU,KAAKo+B,IAAKx1C,EAAQc,IAAKw0C,EAAaj+C,QAArD,SACGmV,MAIP,eAACrS,GAAA,EAAD,CAAY2Y,QAAQ,UAAUjf,MAAM,gBAApC,SACG4B,OAKP,OACE,uCACGqB,GAAekJ,EACdu1C,EAEA,eAAC,IAAD,CAAS7hD,MAAO+B,EAAMkX,UAAU,QAAhC,SACG4oC,IAGL,eAACE,GAAA,EAAD,CAAUD,GAAIx1C,EAAQ8R,QAAQ,OAAO4jC,eAAa,EAAlD,SACE,eAAC,KAAD,CACEz0C,UAAU,MACVyT,gBAAc,EACdrf,UACEyB,EAAc1C,EAAQkX,cAAgBlX,EAAQ2gD,gBAJlD,SAOGviD,UCzDI4D,GAvBE,SAAC8C,GAChB,IAAQmC,EAAmBnC,EAAnBmC,SAAUmR,EAAStT,EAATsT,KACZtZ,EAAYC,cAEZwiD,EAAqB,IAAIv9B,IAC7B1hB,YAA8C+H,MAActI,KAC1D,SAAC0Y,GAAD,OAAOA,EAAEpZ,SAIb,OACE,qCACGkgD,EAAmB/B,IAAIv4C,IACtB,eAACu6C,GAAA,EAAD,CACE76C,GAAE,WAAMM,GACR8P,YAAajY,EAAU,aAAD,OAAcmI,EAAd,UACtB+P,SAAUoB,OCednY,GAAYgC,aAAW,SAACzD,GAAD,cAAwB,CACnD8F,KAAM,CACJJ,UAAW1F,EAAM2D,QAAQ,IAAM,EAC/B+H,aAAc1L,EAAM2D,QAAQ,GAC5BoN,WAAY/Q,EAAMgR,YAAY7T,OAAO,QAAS,CAC5C8lD,OAAQjjD,EAAMgR,YAAYiyC,OAAOC,MACjCC,SAAUnjD,EAAMgR,YAAYmyC,SAASC,iBAGzChgD,KAAM,CACJ0N,MAAK,UAAE9Q,EAAM28B,eAAR,aAAE,EAAe7rB,OAExBuyC,OAAQ,CACNvyC,MAAK,UAAE9Q,EAAM28B,eAAR,aAAE,EAAeglB,iBAIb2B,GAAU,WAAO,IAAD,EAyBSC,EAxB9BngD,EAAOU,aAAY,SAACC,GAAD,OAAuBA,EAAMC,MAAMC,GAAGC,eACzD1C,EAAUC,KAChB,EAAkCzD,mBAAS,CACzCwlD,WAAW,EACXC,aAAa,EACbC,mBAAmB,EACnBC,oBAAoB,IAJtB,oBAAOC,EAAP,KAAkBC,EAAlB,KAOMd,EAAqB,IAAIv9B,IAC7B1hB,YAA8C+H,MAActI,KAC1D,SAAC0Y,GAAD,OAAOA,EAAEpZ,SAGPvC,EAAYC,cAEZgiD,EAAe,SACnB3lB,GADmB,OAMhBinB,GAAa,SAAC9/C,GAAD,oBAAC,gBAAgBA,GAAjB,mBAAyB64B,GAAQ74B,EAAM64B,SAmBzD,OACE,uBACExY,MAAO,CAAE0/B,WAAY,QACrBrhD,UAAWmrB,KAAWpsB,EAAQsE,MAAT,oBAClBtE,EAAQ4B,KAAOA,GADG,eAElB5B,EAAQ6hD,QAAUjgD,GAFA,IAFvB,UAOE,eAAC4Y,GAAA,EAAD,IACA,eAAC,GAAD,CAAUvT,SAAUw5B,GAAakK,QAASvyB,KAAM,eAACmqC,GAAA,EAAD,MAChD,eAAC,GAAD,CAAUt7C,SAAUw5B,GAAagI,UAAWrwB,KAAM,eAAC,KAAD,MAClD,eAAC,GAAD,CAAUnR,SAAUw5B,GAAa4I,KAAMjxB,KAAM,eAAC,KAAD,MAC7C,eAAC,GAAD,CAAUnR,SAAUw5B,GAAa0I,OAAQ/wB,KAAM,eAACoqC,GAAA,EAAD,OA7BfT,EA8BJR,EA7B9BQ,EAAMvC,IAAI/e,GAAa0J,0BA8BnB,eAAC,GAAD,CACE4W,aAAc,kBAAMA,EAAa,cACjCn1C,OAAQw2C,EAAUJ,UAClB3gD,KAAMvC,EAAU,wBAChBsZ,KAAM,eAACqqC,GAAA,EAAD,IAJR,SAME,eAAC,GAAD,CACEx7C,SAAUw5B,GAAa0J,wBACvB/xB,KAAM,eAACsqC,GAAA,EAAD,CAAM9/B,MAAO,CAAE+/B,UAAW,qBApCN,SAACZ,GAAD,OAClCA,EAAMvC,IAAI/e,GAAagJ,QACvBsY,EAAMvC,IAAI/e,GAAasI,UACvBgZ,EAAMvC,IAAI/e,GAAakI,YACvBoZ,EAAMvC,IAAI/e,GAAaoI,oBACvBkZ,EAAMvC,IAAI/e,GAAasJ,UAmCpB6Y,CAA4BrB,IAC3B,gBAAC,GAAD,CACER,aAAc,kBAAMA,EAAa,gBACjCn1C,OAAQw2C,EAAUH,YAClB5gD,KAAMvC,EAAU,0BAChBsZ,KAAM,eAACyqC,GAAA,EAAD,IAJR,UAME,eAAC,GAAD,CAAU57C,SAAUw5B,GAAagJ,MAAOrxB,KAAM,eAAC0qC,GAAA,EAAD,MAC9C,eAAC,GAAD,CACE77C,SAAUw5B,GAAasI,QACvB3wB,KAAM,eAAC2qC,GAAA,EAAD,MAER,eAAC,GAAD,CACE97C,SAAUw5B,GAAakI,UACvBvwB,KAAM,eAAC4qC,GAAA,EAAD,MAER,eAAC,GAAD,CAAU/7C,SAAUw5B,GAAasJ,SAAU3xB,KAAM,eAAC6qC,GAAA,EAAD,MACjD,eAAC,GAAD,CACEh8C,SAAUw5B,GAAaoI,kBACvBzwB,KAAM,eAAC8qC,GAAA,EAAD,SApD2B,SAACnB,GAAD,OACzCA,EAAMvC,IAAI/e,GAAawH,WACvB8Z,EAAMvC,IAAI/e,GAAauK,WACvB+W,EAAMvC,IAAI/e,GAAawI,WAqDpBka,CAAmC5B,IAClC,gBAAC,GAAD,CACER,aAAc,kBAAMA,EAAa,sBACjCn1C,OAAQw2C,EAAUF,kBAClB7gD,KAAMvC,EAAU,gCAChBsZ,KAAM,eAACgrC,GAAA,EAAD,IAJR,UAME,eAAC,GAAD,CAAUn8C,SAAUw5B,GAAawH,SAAU7vB,KAAM,eAACirC,GAAA,EAAD,MACjD,eAAC,GAAD,CAAUp8C,SAAUw5B,GAAauK,SAAU5yB,KAAM,eAACkrC,GAAA,EAAD,MACjD,eAAC,GAAD,CACEr8C,SAAUw5B,GAAawI,UACvB7wB,KAAM,eAACmrC,GAAA,EAAD,SA/D4B,SAACxB,GAAD,OAC1CA,EAAMvC,IAAI/e,GAAa8H,YAAcwZ,EAAMvC,IAAI/e,GAAakJ,OAkEzD6Z,CAAoCjC,IACnC,gBAAC,GAAD,CACER,aAAc,kBAAMA,EAAa,uBACjCn1C,OAAQw2C,EAAUD,mBAClB9gD,KAAMvC,EAAU,iCAChBsZ,KAAM,eAACqrC,GAAA,EAAD,IAJR,UAME,eAAC,GAAD,CAAUx8C,SAAUw5B,GAAa8H,UAAWnwB,KAAM,eAACsrC,GAAA,EAAD,MAClD,eAAC,GAAD,CAAUz8C,SAAUw5B,GAAakJ,MAAOvxB,KAAM,eAACurC,GAAA,EAAD,MAC9C,eAAC,GAAD,CAAU18C,SAAUw5B,GAAaqK,MAAO1yB,KAAM,eAACwrC,GAAA,EAAD,SAGlD,eAAC,GAAD,CAAU38C,SAAUw5B,GAAa8I,QAASnxB,KAAM,eAACyrC,GAAA,EAAD,UCnKhD5jD,GAAYgC,YAAW,CAC3B3C,MAAO,CACLsS,KAAM,EACNujB,aAAc,WACdzU,WAAY,SACZsE,SAAU,YAIR8+B,GAAc,SAACh/C,GACnB,IAAMhG,EAAYC,cAClB,OACE,eAACglD,GAAA,EAAD,6BAAcj/C,GAAd,aACE,eAAC08C,GAAA,EAAD,CACE76C,GAAG,iBACHoQ,YAAajY,EAAU,iBACvBkY,SAAU,eAAC,KAAD,UAMZgtC,GAAY,SAACl/C,GACjB,IAAM9E,EAAUC,KAChB,OACE,eAAC,KAAD,6BAAY6E,GAAZ,IAAmBm/C,SAAU,eAAC,GAAD,IAA7B,SACE,eAACl+C,GAAA,EAAD,CACE2Y,QAAQ,KACRzd,UAAWjB,EAAQV,MACnBoC,GAAG,0BAMEwiD,GAAY,SAACp/C,GACxB,IAAMtG,EAAQ8D,aAAY,SAACC,GAAD,MACC,SAAzBA,EAAM/D,MAAM+hC,SAAsBggB,GAAYH,MAGhD,OAAO,eAAC,GAAD,6BAAYt7C,GAAZ,IAAmBs2B,KAAM0mB,GAASj/B,OAAQmhC,GAAWxlD,MAAOA,M,sEC/C/D2lD,GAAgBtrC,cAAW,kBAAkB,CACjDvU,KAAM,CACJqS,aAAc,GACdrH,MAAO,MACPpN,WAAY,KACZ+B,QAAS,OACTuV,cAAe,cACfT,OAAQ,QACRgM,YAR6B,EAAG7mB,QAQXmP,QAAQozC,SARX5nC,CAUlBurC,MAEEC,GAAmBxrC,cAAW,gBAAG3a,EAAH,EAAGA,QAAH,MAAkB,CACpDoG,KAAM,CACJ6H,WAAYjO,EAAQmP,QAAQozC,KAC5B/hC,QAAS,YACT/H,aAAc,GACd2M,oBAAqB,EACrBC,uBAAwB,EACxBngB,OAAQ,EACR48C,WAAY,OACZ,UAAW,CACT7zC,WAAYjO,EAAQmP,QAAQpB,UAVT4M,CAarB/X,KAEEwjD,GAAkBzrC,aAAW,CACjCvU,KAAM,CACJgL,MAAO,OACPpN,WAAY,GACZgC,UAAW,IAJS2U,CAMrBlP,MAsDYghB,GA7CqC,SAAC,GAK9C,IAJL3jB,EAII,EAJJA,MACAu9C,EAGI,EAHJA,QACAzgD,EAEI,EAFJA,SACAkI,EACI,EADJA,MAEA,EAAoCxP,oBAAS,GAA7C,oBAAOgoD,EAAP,KAAmBC,EAAnB,KACA,EAAoCjoD,mBAAS,IAA7C,oBAAOgM,EAAP,KAAmBk8C,EAAnB,KACMlrD,EAAIuF,cAMJ4lD,EAAc,WACdn8C,GACFi8C,GAAc,GACdF,EAAQ/7C,IAERi8C,GAAc,IAIlB,OACE,gBAACN,GAAD,WACE,eAACE,GAAD,CAAkB3kD,QAASilD,EAAa7gD,SAAUA,EAAlD,SACE,eAAC,KAAD,CAAY8e,MAAO,CAAEnjB,MAAO,aAE9B,gBAAC6kD,GAAD,CAAiBxgD,SAAUA,EAA3B,UACE,eAAC8gD,GAAA,EAAD,CACEC,kBAAgB,EAChBh6B,YAAarxB,EAAEwN,GACf89C,QAtBY,SAAC/nD,GACnB2nD,EAAc3nD,EAAMqO,OAAOjQ,QAsBrB4pD,UAAW,SAACC,GAAD,MAAmB,UAAXA,EAAGrqD,KAAmBgqD,KACzC34C,MAAOw4C,KAAgBx4C,IAExBw4C,GACC,eAACS,GAAA,EAAD,CAAgBj5C,OAAK,EAArB,SAAuBxS,EAAE,8BAExBwS,GAAS,eAACi5C,GAAA,EAAD,CAAgBj5C,OAAK,EAArB,SAAuBxS,EAAEwS,YC7EhCk5C,GAAqB,WAChC,IAAMvgD,EAAUwgD,eACV9pB,EAASC,eACf,EAA0B9+B,mBAAS,IAAnC,oBAAOwP,EAAP,KAAco5C,EAAd,KACA,EAA8BC,eAA9B,oBAAOC,EAAP,KAAiBz5C,EAAjB,KAAiBA,QACXrS,EAAIuF,cAEJwmD,EAAiBhoD,uBACrB,SAACg2C,GAAD,OACE+R,EACE,CACErnD,KAAMktC,aAAkBqa,MACxBv+C,SAAUw5B,GAAagI,UACvBtsC,QAAS,CAAE+X,OAAQ,CAAEq/B,UAEvB,CAAEkS,eAAe,MAErB,CAACH,IAGGf,EAAUhnD,sBAAW,yCACzB,WAAOg2C,GAAP,sBAAAxS,EAAA,yDACyC,IAAnCwS,EAAKmS,QAAQ,MAAO,IAAI7rD,OAD9B,gBAEIurD,EAAS,6CAFb,4BAGa7R,EAAK15C,OAAS,GAH3B,gBAIIurD,EAAS,yCAJb,8BAMIA,EAAS,IANb,mBAWgBG,EAAehS,GAX/B,iBASQ7sB,EATR,EASQA,MATR,iBAUQjpB,KAVR,GAUekoD,EAVf,KAYWj/B,EAEgB,IAAVA,EACT/hB,EAAQmD,KAAK,CACXlC,SAAS,IAAD,OAAM66B,GAAagI,UAAnB,YAAgCkd,EAAajkD,GAA7C,WAGViD,EAAQmD,KAAK,CACXlC,SAAS,IAAD,OAAM66B,GAAagI,WAC3Bmd,OAAQpqD,qBAAU,CAChB0Y,OAAQrZ,KAAKW,UAAU,CACrB+3C,aAVN6R,EAAS,sCAbjB,kDA6BM/pB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SA7BtC,0DADyB,sDAkCzB,CAACypD,EAAgB5gD,EAAS02B,IAG5B,OACE,uCACE,eAACwqB,GAAA,EAAD,CAAYvmD,MAAO9F,EAAE,wCACrB,eAACssD,GAAA,EAAD,UACE,eAAC,GAAD,CACE9+C,MAAM,2CACNu9C,QAASA,EACTzgD,SAAU+H,EACVG,MAAOA,UChEJ+5C,GAAmB,WAC9B,IAAMphD,EAAUwgD,eACV9pB,EAASC,eACf,EAA0B9+B,mBAAS,IAAnC,oBAAOwP,EAAP,KAAco5C,EAAd,KACA,EAA8BC,eAA9B,oBAAOC,EAAP,KAAiBz5C,EAAjB,KAAiBA,QACXrS,EAAIuF,cAEJinD,EAAezoD,uBACnB,SAACwoC,GAAD,OACEuf,EACE,CACErnD,KAAMktC,aAAkBqa,MACxBv+C,SAAUw5B,GAAakK,QACvBxuC,QAAS,CACP+X,OAAQ,CAAE6xB,gBAGd,CAAE0f,eAAe,MAErB,CAACH,IAGGf,EAAUhnD,sBAAW,yCACzB,WAAOwoC,GAAP,sBAAAhF,EAAA,6DACEqkB,EAAS,IADX,kBAMcY,EAAajgB,GAN3B,gBAIMrf,EAJN,EAIMA,MAJN,iBAKMjpB,KALN,GAKawoD,EALb,KAOSv/B,EAEgB,IAAVA,EACT/hB,EAAQmD,KAAK,CACXlC,SAAS,IAAD,OAAM66B,GAAa4H,SAAnB,YAA+B4d,EAAWjgB,UAA1C,WAGVrhC,EAAQmD,KAAK,CACXlC,SAAS,IAAD,OAAM66B,GAAakK,SAC3Bib,OAAQpqD,qBAAU,CAChB0Y,OAAQrZ,KAAKW,UAAU,CACrBuqC,mBAVNqf,EAAS,oCARf,kDAwBI/pB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SAxBpC,0DADyB,sDA4BzB,CAACkqD,EAAcrhD,EAAS02B,IAG1B,OACE,uCACE,eAACwqB,GAAA,EAAD,CAAYvmD,MAAO9F,EAAE,sCACrB,eAACssD,GAAA,EAAD,UACE,eAAC,GAAD,CACE9+C,MAAM,yCACNu9C,QAASA,EACTzgD,SAAU+H,EACVG,MAAOA,U,wCpF9EL0kC,O,+CAAAA,I,yBAAAA,I,qDAAAA,I,mCAAAA,I,mCAAAA,I,uCAAAA,I,2BAAAA,I,2BAAAA,I,+BAAAA,I,2BAAAA,I,4BAAAA,I,gCAAAA,I,0CAAAA,I,0CAAAA,I,8CAAAA,I,kCAAAA,I,kCAAAA,I,sCAAAA,I,4CAAAA,I,4CAAAA,I,gDAAAA,I,8BAAAA,I,8BAAAA,I,kCAAAA,I,kCAAAA,I,kCAAAA,I,sCAAAA,I,oCAAAA,I,oCAAAA,I,wCAAAA,I,8BAAAA,I,8BAAAA,I,kCAAAA,I,gCAAAA,I,gCAAAA,I,oCAAAA,I,gCAAAA,I,gCAAAA,I,oCAAAA,I,4BAAAA,I,4BAAAA,I,gCAAAA,I,gCAAAA,I,gCAAAA,I,oCAAAA,I,kCAAAA,I,kCAAAA,I,sCAAAA,I,kCAAAA,I,kCAAAA,I,sCAAAA,I,gCAAAA,I,gCAAAA,I,oCAAAA,I,4BAAAA,I,4BAAAA,I,gCAAAA,I,kDAAAA,I,kDAAAA,I,sDAAAA,I,kCAAAA,I,kCAAAA,I,sCAAAA,I,oCAAAA,I,oCAAAA,I,wCAAAA,I,oDAAAA,I,oDAAAA,I,wDAAAA,I,oCAAAA,I,oCAAAA,I,yCAAAA,Q,KqFEZ,IAAMT,IAAoC,sBAEvCS,GAAUwV,qBAAuB,CAAC,4BAFK,gBAKvCxV,GAAUyV,UAAY,CAAC,mBALgB,gBAQvCzV,GAAU0V,wBAA0B,CAAC,gCARE,gBAWvC1V,GAAU2V,eAAiB,CAC1B,2BACA,2BACA,4BAdsC,gBAgBvC3V,GAAU4V,eAAiB,CAAC,6BAhBW,gBAiBvC5V,GAAU6V,iBAAmB,CAAC,4BAjBS,gBAoBvC7V,GAAU8V,WAAa,CACtB,uBACA,uBACA,wBAvBsC,gBAyBvC9V,GAAU+V,WAAa,CAAC,yBAzBe,gBA0BvC/V,GAAUgW,aAAe,CAAC,wBA1Ba,gBA6BvChW,GAAUiW,WAAa,CACtB,uBACA,uBACA,wBAhCsC,gBAkCvCjW,GAAUkW,WAAa,CAAC,yBAlCe,gBAmCvClW,GAAUmW,aAAe,CAAC,wBAnCa,gBAsCvCnW,GAAUoW,kBAAoB,CAC7B,6BACA,6BACA,8BAzCsC,gBA2CvCpW,GAAUqW,kBAAoB,CAAC,+BA3CQ,gBA4CvCrW,GAAUsW,oBAAsB,CAAC,8BA5CM,gBA+CvCtW,GAAUuW,cAAgB,CACzB,0BACA,0BACA,2BAlDsC,gBAoDvCvW,GAAUwW,cAAgB,CAAC,4BApDY,gBAqDvCxW,GAAUyW,gBAAkB,CAAC,2BArDU,gBAwDvCzW,GAAU0W,mBAAqB,CAC9B,8BACA,8BACA,+BA3DsC,gBA6DvC1W,GAAU2W,mBAAqB,CAAC,gCA7DO,gBA8DvC3W,GAAU4W,qBAAuB,CAAC,+BA9DK,gBAiEvC5W,GAAU6W,YAAc,CACvB,wBACA,wBACA,yBApEsC,gBAsEvC7W,GAAU8W,YAAc,CAAC,0BAtEc,gBAuEvC9W,GAAU+W,cAAgB,CAAC,yBAvEY,gBA0EvC/W,GAAUgX,cAAgB,CACzB,0BACA,0BACA,2BA7EsC,gBA+EvChX,GAAUiX,cAAgB,CAAC,4BA/EY,gBAgFvCjX,GAAUkX,gBAAkB,CAAC,2BAhFU,gBAmFvClX,GAAUmX,eAAiB,CAC1B,2BACA,2BACA,4BAtFsC,gBAwFvCnX,GAAUoX,eAAiB,CAAC,6BAxFW,gBAyFvCpX,GAAUqX,iBAAmB,CAAC,4BAzFS,gBA4FvCrX,GAAUsX,YAAc,CACvB,wBACA,wBACA,yBA/FsC,gBAiGvCtX,GAAUuX,YAAc,CAAC,0BAjGc,gBAkGvCvX,GAAUwX,cAAgB,CAAC,yBAlGY,gBAqGvCxX,GAAUyX,aAAe,CACxB,yBACA,yBACA,0BAxGsC,gBA0GvCzX,GAAU0X,aAAe,CAAC,2BA1Ga,gBA2GvC1X,GAAU2X,eAAiB,CAAC,0BA3GW,gBA8GvC3X,GAAU4X,aAAe,CACxB,yBACA,yBACA,0BAjHsC,gBAmHvC5X,GAAU6X,aAAe,CAAC,2BAnHa,gBAoHvC7X,GAAU8X,eAAiB,CAAC,0BApHW,gBAuHvC9X,GAAU+X,WAAa,CACtB,uBACA,uBACA,wBA1HsC,gBA4HvC/X,GAAUgY,WAAa,CAAC,yBA5He,gBA6HvChY,GAAUiY,aAAe,CAAC,wBA7Ha,gBAgIvCjY,GAAUkY,aAAe,CACxB,yBACA,yBACA,0BAnIsC,gBAqIvClY,GAAUmY,aAAe,CAAC,2BArIa,gBAsIvCnY,GAAUoY,eAAiB,CAAC,0BAtIW,gBAyIvCpY,GAAUqY,cAAgB,CACzB,0BACA,0BACA,2BA5IsC,gBA8IvCrY,GAAUsY,cAAgB,CAAC,4BA9IY,gBA+IvCtY,GAAUuY,gBAAkB,CAAC,2BA/IU,gBAkJvCvY,GAAUwY,cAAgB,CACzB,0BACA,0BACA,2BArJsC,gBAuJvCxY,GAAUyY,cAAgB,CAAC,4BAvJY,gBAwJvCzY,GAAU0Y,gBAAkB,CAAC,2BAxJU,gBA2JvC1Y,GAAU2Y,aAAe,CACxB,yBACA,yBACA,0BA9JsC,gBAgKvC3Y,GAAU4Y,aAAe,CAAC,2BAhKa,gBAiKvC5Y,GAAU6Y,eAAiB,CAAC,0BAjKW,gBAoKvC7Y,GAAU8Y,WAAa,CACtB,uBACA,uBACA,wBAvKsC,gBAyKvC9Y,GAAU+Y,WAAa,CAAC,yBAzKe,gBA0KvC/Y,GAAUgZ,aAAe,CAAC,wBA1Ka,gBA6KvChZ,GAAUiZ,sBAAwB,CACjC,gCACA,gCACA,iCAhLsC,gBAkLvCjZ,GAAUkZ,sBAAwB,CAAC,kCAlLI,gBAmLvClZ,GAAUmZ,wBAA0B,CAAC,iCAnLE,gBAsLvCnZ,GAAUoZ,cAAgB,CACzB,0BACA,0BACA,2BAzLsC,gBA2LvCpZ,GAAUqZ,cAAgB,CAAC,4BA3LY,gBA4LvCrZ,GAAUsZ,gBAAkB,CAAC,2BA5LU,gBA+LvCtZ,GAAUuZ,eAAiB,CAC1B,2BACA,2BACA,4BAlMsC,gBAoMvCvZ,GAAUwZ,eAAiB,CAAC,6BApMW,gBAqMvCxZ,GAAUyZ,iBAAmB,CAAC,4BArMS,gBAwMvCzZ,GAAU0Z,uBAAyB,CAClC,kCACA,kCACA,mCA3MsC,gBA6MvC1Z,GAAU2Z,uBAAyB,CAAC,oCA7MG,gBA8MvC3Z,GAAU4Z,yBAA2B,CAAC,mCA9MC,gBAiNvC5Z,GAAU6Z,eAAiB,CAC1B,2BACA,2BACA,4BApNsC,gBAsNvC7Z,GAAU8Z,eAAiB,CAAC,6BAtNW,gBAuNvC9Z,GAAU+Z,iBAAmB,CAAC,4BAvNS,ICE7BC,GAAmC,SAC9CC,EACAC,GAEA,IAAMC,EAAgB,IAAI7mC,IAAI4mC,GAE9B,ODkN+C,SAACD,GAAD,OAC/C1a,GAAQ0a,GCpNcG,CAAkCH,GACnCx2C,MAAK,SAAC42C,GAAD,OAAcF,EAAcrL,IAAIuL,OAG/CC,GAAkB,WAC7B,MAAgCC,eAAxBL,EAAR,EAAQA,YAAankC,EAArB,EAAqBA,OACrB,OAAO,SAACkkC,GACN,OAAIlkC,IAAWmkC,GAEbp2C,QAAQxI,MACN,wFAEK,GAEF0+C,GACLC,EACAC,K,uVCQA3qD,GAAYgC,aAChB,SAACzD,GAAD,MAAY,CAEVyqB,MAAO,CACLrQ,SAAUpa,EAAM2D,QAAQ,QAG5B,CAAEd,KAAM,kBAQG6pD,GAA4B,SACvCpmD,GAEA,IACEqmD,EA8BErmD,EA9BFqmD,WADF,EA+BIrmD,EA7BFiD,eAFF,MAEY,GAFZ,EAIE9G,EA2BE6D,EA3BF7D,UACAtF,EA0BEmJ,EA1BFnJ,OACAyvD,EAyBEtmD,EAzBFsmD,YACAC,EAwBEvmD,EAxBFumD,YAEAC,EAsBExmD,EAtBFwmD,UACAC,EAqBEzmD,EArBFymD,WACA5hC,EAoBE7kB,EApBF6kB,OACAK,EAmBEllB,EAnBFklB,WACAhjB,EAkBElC,EAlBFkC,MAEA6E,EAgBE/G,EAhBF+G,QAfF,EA+BI/G,EAfF1B,cAhBF,MAgBW,QAhBX,EAiBEimB,EAcEvkB,EAdFukB,OACAniB,EAaEpC,EAbFoC,SACAskD,EAYE1mD,EAZF0mD,SACA5hC,EAWE9kB,EAXF8kB,QACAvhB,EAUEvD,EAVFuD,QACAkD,EASEzG,EATFyG,WACAkgD,EAQE3mD,EARF2mD,YACA3wD,EAOEgK,EAPFhK,MACA4wD,EAME5mD,EANF4mD,gBACAzkD,EAKEnC,EALFmC,SACAY,EAIE/C,EAJF+C,OACAoiB,EAGEnlB,EAHFmlB,gBACAhC,EAEEnjB,EAFFmjB,SACG1pB,EA9BL,aA+BIuG,EA/BJ,IAgCMhG,EAAYC,cACZiB,EAAUC,GAAU6E,GAE1B+R,kBACa1d,IAAX0O,EADK,oGAKPgP,kBACc1d,IAAZ4O,EADK,qGAKP,MAA0C4jD,aAAW,CACnDpgD,aACAkgD,cACAxhC,oBAHM2hC,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,eAMvB,EAAwChiC,aAAS,cAC/CF,SACAN,SACAniB,WACA0iB,UACA9uB,QACAmM,WACAY,OAAQA,EACRogB,YACG1pB,IATGmD,EAAR,EAAQA,GAAIunB,EAAZ,EAAYA,MAAOa,EAAnB,EAAmBA,WAAYpW,EAA/B,EAA+BA,KAYvBo4C,EAAgCp4C,EAAhCo4C,QAAS9/C,EAAuB0H,EAAvB1H,MAAO+/C,EAAgBr4C,EAAhBq4C,YAElBC,EAAwBzuD,uBAC5B,kBACE4B,iBAAqBmsD,GACjBnsD,eAAmBmsD,GACL,KAAdA,EACA,SACAxsD,EAAUwsD,EAAW,CAAEpsD,EAAGosD,MAChC,CAACA,EAAWxsD,IAGRmtD,EAAuB1uD,uBAC3B,SAAC2uD,GAAD,OAAYN,EAAcM,KAC1B,CAACN,IAGGziC,EAAe5rB,sBAAW,yCAC9B,WAAOR,EAA6CovD,GAApD,gBAAAprB,EAAA,0DACMorB,EADN,uBAEUhxD,EAAQ0wD,EAAeM,GAC7BljC,EAAM/hB,SAAS/L,GAHnB,0BAOE8tB,EAAM/hB,SAASnK,GAPjB,2CAD8B,wDAU9B,CAACksB,EAAO4iC,IAGV,EAIIO,aAA2B,CAC7BzwD,SACAyvD,cACAC,cACAliC,eACAqiC,WACAjgD,eATA8gD,EADF,EACEA,cACcC,EAFhB,EAEEnjC,aACA/pB,EAHF,EAGEA,cAuCF,OACE,uCACE,gBAACmtD,GAAA,EAAD,wCACE7qD,GAAIA,GACAunB,GAFN,IAGE/hB,SAAUolD,EACVz4B,QAAM,EACN7sB,MACY,KAAVA,IACU,IAAVA,GACE,eAACwlD,GAAA,EAAD,CACExlD,MAAOA,EACPa,OAAQA,EACRZ,SAAUA,EACV6iB,WAAYA,IAIlB7oB,UAAS,UAAKjB,EAAQipB,MAAb,YAAsBhoB,GAC/BwrD,oBAAkB,EAClBzgD,SAAU8/C,IAAY9/C,IAAS+/C,GAC/B/hC,WACE,eAAC0iC,GAAA,EAAD,CACEZ,SAAqB,IAAZA,EACT9/C,MAAOA,GAAS+/C,EAChB/hC,WAAYA,IAGhB5mB,OAAQA,GACJiF,GA3BN,cA8BG8iD,EACC,eAAC,IAAD,CACEhwD,MAAOowD,EAEP,aAAYzsD,EAAU,+BACtBQ,MAAOR,EAAU,+BAJnB,SAMGktD,KAJG,QAMJ,MACFngD,GACA9D,EAAQhG,KAAI,SAACmqD,GAAD,OACV,eAAC,IAAD,CAEE/wD,MAAO0wD,EAAeK,GAFxB,SAKGD,EAAqBC,IAJjBL,EAAeK,OAzDP,WACvB,GAAIV,GAAY7vD,EAAQ,CACtB,IAAMgxD,EAAaN,IACnB,OACE,eAAC,IAAD,CAAUlxD,MAAOwxD,EAAWjrD,GAA5B,SACGirD,EAAWtrD,MADuBsrD,EAAWjrD,IAKpD,OAAO,KAuDFkrD,IACC/gD,GAAW,eAACghD,GAAA,EAAD,gBAAgBnB,QAE9BtsD,MA2BP8rD,GAA0BtwC,aAAe,CACvC0wC,UAAW,GACXC,WAAY,GACZljD,QAAS,GACTkD,WAAY,OACZkgD,YAAa,KACbxhC,iBAAiB,EACjB6iC,aAAc,Y,IC9QJC,G,mBC4BN9sD,GAAYgC,aAAW,SAACzD,GAAD,MAAY,CACvCwuD,4BAA6B,CAE3B,uBAAwB,CACtB5mD,QAAS,EACTkJ,MAAO9Q,EAAM2D,QAAQ,IAGvB,iEAAkE,CAChEiE,QAAS,EACTkJ,MAAO9Q,EAAM2D,QAAQ,SAKrB8qD,GAAa,WACjB,IAAMzzD,EAAIuF,cACJiB,EAAUC,KACVitD,EAAelC,KACrB,OACE,gBAAC,KAAD,CAAU/pD,UAAWjB,EAAQgtD,4BAA7B,UACE,eAACG,GAAA,EAAD,CACEnmD,MAAOxN,EAAE,gCACT2L,OAAQ,SAACqW,GACP,MAAqBA,EAAb9Z,EAAR,EAAQA,GAAIL,EAAZ,EAAYA,KACZ,MAAM,GAAN,OAAUK,EAAV,aAAiBL,MAGrB,eAAC8rD,GAAA,EAAD,CACEnmD,MAAOxN,EAAE,kCACT2L,OAAQ,SAACqW,GACP,IAAQiqB,EAAWjqB,EAAXiqB,OACR,OAAOjsC,EAAE,+BAAD,OAAgCisC,EAAOh8B,mBAGnD,eAAC0jD,GAAA,EAAD,CACEhoD,OAAQ,SAACpI,GAAD,OACN,eAAC,KAAD,CAAM4J,GAAE,WAAM85B,GAAa0I,OAAnB,mBAA6BpsC,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAO2E,GAApC,SAAR,SACE,eAAClC,EAAA,EAAD,UACE,eAACgjD,GAAA,EAAD,WAKP0K,EAAaxc,GAAU0V,0BACtB,eAAC+G,GAAA,EAAD,CACEhoD,OAAQ,SAACpI,GAAD,OACD,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO8oC,aACP9oC,EAAM8oC,WAAWhsC,OAAS,GACxB,eAAC,KAAD,CACE8M,GAAE,WAAM85B,GAAawJ,mBAAnB,mBAAyCltC,QAAzC,IAAyCA,OAAzC,EAAyCA,EAAO2E,GAAhD,SADJ,SAGE,eAAClC,EAAA,EAAD,UACE,eAACkjD,GAAA,EAAD,CAAM9/B,MAAO,CAAE+/B,UAAW,2BAWtCyK,GAAiB,SAAC,GAAD,IACrBvlD,EADqB,EACrBA,OACAb,EAFqB,EAErBA,MAFqB,OAOrB,eAACmmD,GAAA,EAAD,CACEtlD,OAAQA,EACRb,MAAOA,EACP7B,OAAQ,SAACqW,GACP,MAA+B,CAC7B+pB,UAAW,IAAI+J,KAAJ,OAAS9zB,QAAT,IAASA,OAAT,EAASA,EAAQ+pB,WAC5BC,QAAS,IAAI8J,KAAJ,OAAS9zB,QAAT,IAASA,OAAT,EAASA,EAAQgqB,UAFpBD,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,QAInB,OAAID,EAAU8nB,iBAAmB7nB,EAAQ6nB,eAErC,uCACE,eAACC,GAAA,EAAD,CAAWzlD,OAAO,cAClB,kCACG,IACA09B,EAAUgoB,WAAa,IAAM,EAC7BhoB,EAAUgoB,WAHb,OAKA,kCACGhoB,EAAUioB,aAAe,IAAM,EAC/BjoB,EAAUioB,aAFb,KAE6B,OAE7B,kCACGhoB,EAAQ+nB,WAAa,IAAM,EAC3B/nB,EAAQ+nB,WAFX,OAIA,kCACG/nB,EAAQgoB,aAAe,IAAM,EAC7BhoB,EAAQgoB,mBAKf,uCACE,gCACE,eAACF,GAAA,EAAD,CAAWzlD,OAAO,YAAY4lD,UAAQ,MAExC,wCACA,gCACE,eAACH,GAAA,EAAD,CAAWzlD,OAAO,UAAU4lD,UAAQ,aAQ1CC,GAAY,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,YACX9hD,EAAYuxB,eAAZvxB,QACFrS,EAAIuF,cACJP,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,qCACGszC,EACC,eAAC,GAAD,IAEA,gBAAC,KAAD,CACEloD,KAAK,QACLghB,QAAS5a,EACTgiD,SAAU,SAACnsD,GAAD,iBAAY++B,GAAa0I,OAAzB,YAAmCznC,EAAnC,UAHZ,UAKE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,UAChB+lD,GAAe,eAACN,GAAA,EAAD,CAAWzlD,OAAO,YAAY4lD,UAAQ,KACrDG,GAAe,eAACN,GAAA,EAAD,CAAWzlD,OAAO,UAAU4lD,UAAQ,IACpDG,GACC,eAAC,GAAD,CACE/lD,OAAO,YACPb,MAAM,iCAGV,eAACmmD,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACsV,GAAD,OACNjhB,EAAE,+BAAD,cAAgCihB,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAGgrB,OAAOh8B,yBAanDqkD,GAAe,SAAChpD,GACpB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEzD,OACE,gBAAC,KAAD,6BAAYvV,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IACjC,eAACwwB,GAAA,EAAD,CACEnmD,OAAO,SACPE,QAASzO,OAAOiQ,QAAQ26B,IAAaniC,KAAI,gBAAE5G,EAAF,2BAAc,CACrDuG,GAAIvG,EACJkG,KAAK,+BAAD,OAAiClG,EAAMsO,qBAG9CyjD,EAAaxc,GAAUyX,eACtB,eAAC8F,GAAA,EAAD,CACEpmD,OAAO,WACPwD,UAAWo1B,GAAa8I,QACxBhkB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAI/DV,EAAaxc,GAAU2V,iBACtB,eAAC4H,GAAA,EAAD,CACEpmD,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxBhjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQzDO,GAAY,SAAC,GAAD,QAAGR,mBAAH,SAA2B7oD,EAA3B,0BACvB6oD,EACE,eAAC,KAAD,6BACM7oD,GADN,IAEE+Z,SAAS,EACTqe,aAAS/jC,EACTusB,QAAS,GACToZ,YAAY,EALd,SAOE,eAAC,GAAD,CAAW6uB,aAAW,OAGxB,eAAC,KAAD,6BACM7oD,GADN,IAEEi5B,UAAU,EACVb,QAAS,eAAC,GAAD,IACTxX,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MALvD,SAOE,eAAC,GAAD,Q,8BC/POE,GAAmB,SAACC,GAC/B,IAAMC,EAAiBD,EAAS3I,QAAQ,IAAK,IAK7C,OADiB,IAHP3Z,SAASuiB,EAAe/0C,UAAU,EAAG,GAAI,IAGxB,IAFjBwyB,SAASuiB,EAAe/0C,UAAU,EAAG,GAAI,IAEd,IAD3BwyB,SAASuiB,EAAe/0C,UAAU,EAAG,GAAI,KACP,KAC9B,IAAM,QAAU,S,qBCM1BtZ,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXhsC,UAAW,CACTte,QAAS,OACTwV,eAAgB,SAChB+0C,cAAe,SACftkD,aAAc1L,EAAM2D,QAAQ,IAE9BssD,gBAAiB,CACfxqD,QAAS,OACTwV,eAAgB,SAChB+0C,cAAe,SACftkD,aAAc1L,EAAM2D,QAAQ,GAC5BqX,cAAe,UAEjByP,MAAO,CACLylC,UAAW,UAEbt2C,KAAM,CACJlU,UAAW,MAEbyqD,WAAY,CACVD,UAAW,SACX/L,UAAW,sBAKJiM,GAAkB,SAAC,GAAoC,IAAlC/mD,EAAiC,EAAjCA,OAC1B7H,EAAUC,KACVzB,EAAQsP,eACR+gD,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEpDy0C,EAAkB3vD,IAAMV,SAC5B,kBAAM,IAAI6wC,KAAKA,KAAKyf,MAAQ,WAC5B,IAEFD,EAAgBE,SAAS,EAAG,EAAG,EAAG,GAClC,IAAMC,EAAgB,IAAI3f,KAAKA,KAAKyf,OACpCE,EAAcD,SAAS,GAAI,GAAI,EAAG,GAClC,MAAgC7vD,IAAM3C,SACpCsyD,EAAgBvf,UAAUl2B,YAD5B,oBAAO61C,EAAP,KAAiBC,EAAjB,KAGA,EAA4BhwD,IAAM3C,SAASyyD,EAAc1f,UAAUl2B,YAAnE,oBAAO+1C,EAAP,KAAeC,EAAf,KACA,EAGI9mC,aAAS1gB,GAFFX,EADX,EACE+hB,MAAS/hB,SADX,IAEEwM,KAAQo4C,EAFV,EAEUA,QAAS9/C,EAFnB,EAEmBA,MAGnB9O,qBAAU,WACRgK,EACE,EAEI6kC,SAASmjB,EAAU,IACmB,IAAtCJ,EAAgBzf,qBAChBh2B,YAEA0yB,SAASqjB,EAAQ,IACqB,IAAtCN,EAAgBzf,qBAChBh2B,YACFsP,KAAK,QAER,CAACumC,EAAUE,EAAQloD,EAAU4nD,IAEhC,IAAMQ,EAAgB,SAACngC,GAAD,OACpB,IAAImgB,KAAKngB,EAAKogB,UAAkD,IAAtCuf,EAAgBzf,qBACvCkgB,SACAh2C,UAAU,EAAG,KAElB,OACE,wBAEEtY,UAAW4tD,EAAe7uD,EAAQyuD,gBAAkBzuD,EAAQuiB,UAF9D,UAIE,eAACvZ,GAAA,EAAD,CACE0V,QAAQ,SACRniB,aAAc+yD,EAAcR,GAC5BztD,KAAMwG,EACN5J,KAAK,iBACLiJ,SAAU,SAACtJ,GAAD,OAAOuxD,EAAY7f,KAAKx0C,MAAM8C,EAAEwN,OAAOjQ,OAAOke,aACxDrN,SAAU8/C,IAAW9/C,GACrBge,WAAY8hC,GAAW9/C,EACvB/K,UAAWjB,EAAQipB,MACnBxjB,KAAK,UAEP,eAAC,KAAD,CACExE,UAAW4tD,EAAe7uD,EAAQ2uD,WAAa3uD,EAAQoY,OAEzD,eAACpP,GAAA,EAAD,CACE0V,QAAQ,SACRniB,aAAc+yD,EAAcL,GAC5B5tD,KAAMwG,EACN5J,KAAK,iBACLiJ,SAAU,SAACtJ,GAAD,OAAOyxD,EAAU/f,KAAKx0C,MAAM8C,EAAEwN,OAAOjQ,OAAOke,aACtDrN,SAAU8/C,IAAW9/C,GACrBge,WAAY8hC,GAAW9/C,EACvBvG,KAAK,YAzBH,SCjFG+pD,GAAc32C,aAAW,CACpCvU,KAAM,CACJL,QAAS,OACTwV,eAAgB,SAChBD,cAAe,WAJQX,CAMxB42C,MAEUC,GAAe72C,aAAW,CACrCvU,KAAM,CACJL,QAAS,OACTwV,eAAgB,SAChBD,cAAe,SACfxV,WAAY,WALY6U,CAOzB42C,M,4EC8CGE,GAAgB,SAAC,GAAgC,IAA9B/sC,EAA6B,EAA7BA,MACjBpkB,EAAQsP,eACR+gD,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OACpD1V,EAAUwgD,eAChB,OACE,eAACgI,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQwqB,YACN,uCACE,eAAC4pB,GAAA,EAAD,CACEtpC,SAAS,YACTtf,MAAOwU,EAAOwqB,UAAU3sB,WACxBmC,OAAQ,CAAE9Z,GAAI8Z,EAAOwqB,WACrB5tB,KAAM,eAACmqC,GAAA,EAAD,IACN3/B,MAAOA,IAERisC,GACC,eAAC9oD,GAAA,EAAD,CACEtG,MAAM,UACNC,QAAS,kBACPiF,EAAQmD,KAAR,oBAA0B0T,EAAOwqB,UAAjC,WAHJ,SAMGxqB,EAAOwqB,mBAUlB6pB,GAAY,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,UAAWt0C,EAA6B,EAA7BA,OACxB1c,EAAYC,cAClB,OACE,eAACqlD,GAAA,EAAD,CAAKh+C,QAAS,EAAd,SACE,gBAACqpD,GAAA,EAAD,CAAMltC,WAAS,EAACpgB,QAAS,EAAzB,UACE,gBAACqtD,GAAD,CAAap7C,MAAI,EAAC27C,GAAI,EAAtB,UACGjxD,EAAU,qCADb,OAGA,eAAC0wD,GAAD,CAAap7C,MAAI,EAAC27C,GAAI,EAAtB,SACE,eAAC,KAAD,CAAWloD,OAAO,YAElBioD,IAAD,OAAct0C,QAAd,IAAcA,OAAd,EAAcA,EAAQwqB,YACrB,uCACE,eAACypB,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,GAAf,SACE,eAACC,GAAA,EAAD,MAEF,gBAACR,GAAD,CAAap7C,MAAI,EAAC27C,GAAI,EAAtB,UACGjxD,EAAU,mCADb,OAGA,eAAC4wD,GAAD,CAAct7C,MAAI,EAAC27C,GAAI,EAAvB,SACE,eAAC,GAAD,eASRE,GAAU,SAAC,GAOI,IANnBH,EAMkB,EANlBA,UACAnC,EAKkB,EALlBA,YACAlwD,EAIkB,EAJlBA,KACA6X,EAGkB,EAHlBA,IACA46C,EAEkB,EAFlBA,SACAC,EACkB,EADlBA,OAEMjD,EAAelC,KACrB,OACE,eAACoF,GAAA,EAAD,UACG3yD,GACCyyD,IADD,OAEC56C,QAFD,IAECA,OAFD,EAECA,EAAKvT,KAAI,SAACL,GACR,IAAMkhB,EAAQstC,EAASzyD,EAAKiE,GAAKA,GACjC,OACE,gBAAC2uD,GAAA,EAAD,CAEE3uD,GAAIA,EACJ8Z,OAAQ/d,EAAKiE,GACbuF,SAAS,OACTkpD,OAAQA,EACRvtC,MAAOA,EANT,UAQE,eAAC0qC,GAAA,EAAD,CACEzlD,OAAO,OACP+a,MAAOA,EACPva,QAAS,CACPioD,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGZ,eAAC,KAAD,CAAW3oD,OAAO,aAAa+a,MAAOA,IACtC,eAAC,KAAD,CAAW/a,OAAO,aAAa+a,MAAOA,KACpC+qC,GAAe,eAAC,KAAD,CAAW9lD,OAAO,OAAO+a,MAAOA,KAC/C+qC,IACCmC,IACA5C,EAAaxc,GAAUgX,eACtB,eAAC,GAAD,CAAe9kC,MAAOA,IAEtB,eAAC,KAAD,CAAW/a,OAAO,iBAxBjBnG,UAiCb+uD,GAAY,SAAC,GAAD,IAAGX,EAAH,EAAGA,UAAWnC,EAAd,EAAcA,YAAgB7oD,EAA9B,0BAChB,gBAAC4rD,GAAA,EAAD,6BAAoB5rD,GAApB,cACE,eAACwoD,GAAA,EAAD,CAAWzlD,OAAO,OAAOb,MAAM,+BAC/B,eAAC,KAAD,CAAWa,OAAO,aAAab,MAAM,qCACrC,eAAC,KAAD,CAAWa,OAAO,aAAab,MAAM,sCACnC2mD,GACA,eAAC,KAAD,CACE9lD,OAAO,OACP8oD,UAAU,EACV3pD,MAAM,uCAGR8oD,IAAcnC,GACd,eAAC,KAAD,CAAW9lD,OAAO,YAAYb,MAAM,yCAKpC4pD,GAAa,SAAC9rD,GAClB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEzD,OACE,gBAAC,KAAD,6BAAYvV,GAAZ,cACE,eAACipD,GAAA,EAAD,CAA4BlmD,OAAO,aAAa21B,UAAQ,GAAzC,cACf,eAACwwB,GAAA,EAAD,CAEEnmD,OAAO,aACPE,QAAS,CACP,CACErG,GAAI,UACJL,KAAM,kDAER,CACEK,GAAI,iBACJL,KAAM,qDATN,cAaN,eAAC,GAAD,CAAiBwG,OAAO,QAAW,QACnC,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAAgB,aACjCqlD,EAAaxc,GAAUyX,eACtB,eAAC8F,GAAA,EAAD,CACEpmD,OAAO,WACPwD,UAAWo1B,GAAa8I,QACxBhkB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAI/DV,EAAaxc,GAAUsX,cACtB,eAACiG,GAAA,EAAD,CACEjnD,MAAM,8BACNa,OAAO,UACPwD,UAAWo1B,GAAa0I,OACxB5jB,KAAM,CAAE5d,MAAO,YAAaigB,MAAO,QACnClC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQzDiD,GAAU,SAAC,GAIH,IAAD,IAHlBlD,mBAGkB,aAFlBmC,iBAEkB,SADfhrD,EACe,mBACVoP,EAAyBpP,EAAzBoP,OAAW48C,EAAnB,aAAiChsD,EAAjC,IACMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnDw0C,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OACpDha,EAASC,cACf,OACE,eAAC,KAAD,2BACEolB,QAAS,GACTqY,UAAU,EACVe,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,OACrDhxB,QAAS,eAAC,GAAD,IACThpB,OAAM,6BAAOA,GAAP,IAAe7T,WACrBklB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,SAC1BkpC,GAPN,IAQEpyB,mBAAmB,EARrB,SAUE,eAAC,KAAD,CACEyiB,OACE,eAAC,GAAD,CACEwM,cAAaC,GAAqBD,EAClCmC,UAAWA,IAGf7hD,KACE,eAAC,GAAD,CACE0/C,cAAaC,GAAqBD,EAClCmC,UAAWA,IAGfiB,gBAAiB,kBAAMnD,GAAeD,GACtCwC,OAAQ,eAAC,GAAD,CAAWL,UAAWA,IAC9BI,SAAU,SAAC10C,GAAD,MAAqB,CAC7BrP,WAAYqP,GAAUA,EAAO/b,MAC7BA,MACE+b,GAA2B,gBAAjBA,EAAO/b,MACb2uD,GAAiB5yC,EAAO/b,OACxB,YAER2G,QAASyoD,EAAe,OAAS,UAtBnC,SAwBE,+BLpSFvuB,GAAW9lC,aAAaO,QAAQ,YACzBi2D,GAAuB,UAAM1wB,GAAN,wB,SAExBysB,K,8BAAAA,E,sBAAAA,E,0BAAAA,E,mCAAAA,Q,KMgBZ,IAAM9sD,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXpN,OAAQ,CACN8P,UAAW,SACXC,cAAe1yD,EAAM2D,QAAQ,KAE/BgvD,SAAU,CACRltD,QAAS,OACTuV,cAAe,SACfxV,WAAY,WACZsL,MAAO,YAKP8hD,GAAe,kBACnB,eAACpxB,GAAA,EAAD,CAAMpd,MAAO,CAAEtT,MAAO,OAAQpF,aAAc,OAA5C,SACE,eAAC,GAAD,OAIEmnD,GAAiB,kBACrB,eAACrxB,GAAA,EAAD,CAAMpd,MAAO,CAAEtT,MAAO,OAAQpF,aAAc,OAA5C,SACE,eAAC,GAAD,OAIEonD,GAAW,WACf,IAAM93D,EAAIuF,cACV,OACE,gBAACihC,GAAA,EAAD,CAAMpd,MAAO,CAAEtT,MAAO,OAAQpF,aAAc,OAA5C,UACE,eAAC27C,GAAA,EAAD,CAAYvmD,MAAO9F,EAAE,qCACrB,eAACssD,GAAA,EAAD,UACE,eAACyL,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa4I,KAA7C,SACE,eAAC,GAAD,CACE/iB,SAAS,IACThnB,MAAM,IACNquD,aAAW,EACX7uB,YAAY,EACZpZ,QAAS,GACT7G,SAAS,EACTqe,aAAS/jC,YAQf8zD,GAAa,WACjB,IAAMzzD,EAAIuF,cACV,OACE,gBAACihC,GAAA,EAAD,CAAMpd,MAAO,CAAEtT,MAAO,OAAQpF,aAAc,OAA5C,UACE,eAAC27C,GAAA,EAAD,CAAYvmD,MAAO9F,EAAE,uCACrB,eAACssD,GAAA,EAAD,UACE,eAACyL,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa0I,OAA7C,SACE,eAAC,GAAD,CACE5jB,KAAM,CAAE5d,MAAO,SAAUigB,MAAO,QAChC+lC,aAAW,EACXrnC,SAAS,IACThnB,MAAM,cAQLkyD,GAAY,WACvB,IAAMxxD,EAAUC,KACVzG,EAAIuF,cACJmuD,EAAelC,KACfyG,EAAqBnvD,aACzB,SAACC,GAAD,OAA2BA,EAAMqc,UAAU6yC,sBAEvCC,EAAe,SAACt9C,EAAqBu9C,GAAtB,OAClBA,EAAc51D,SAASqY,IAE1B,OACE,gBAACq7C,GAAA,EAAD,CAAMltC,WAAS,EAACpgB,QAAS,EAAzB,UACE,eAACstD,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,GAAf,SACE,eAAC/vB,GAAA,EAAD,UACE,eAAC6lB,GAAA,EAAD,CACE5kD,UAAWjB,EAAQmhD,OACnB7hD,MAAO9F,EAAE,qBACTo4D,qBAAsB,CAAElzC,QAAS,YAIvC,gBAAC+wC,GAAA,EAAD,CAAMr7C,MAAI,EAAChG,GAAI,EAAG2hD,GAAI,GAAtB,UACG7C,EAAaxc,GAAUkY,eACtBsE,EAAaxc,GAAUgX,gBACvBgK,EAAa3E,GAAc8E,cAAeJ,IACxC,eAAC,GAAD,IAEHvE,EAAaxc,GAAUsX,cACtB0J,EAAa3E,GAAc+E,YAAaL,IACtC,eAAC,GAAD,OAGN,gBAAChC,GAAA,EAAD,CAAMxuD,UAAWjB,EAAQmxD,SAAU/8C,MAAI,EAAChG,GAAI,EAAG2hD,GAAI,GAAnD,UACG7C,EAAaxc,GAAUmX,iBACtB6J,EAAa3E,GAAcgF,gBAAiBN,IAC1C,eAAC,GAAD,IAEHvE,EAAaxc,GAAUyV,YACtBuL,EAAa3E,GAAciF,UAAWP,IACpC,eAAC,GAAD,W,oBC/FNxxD,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXvnD,MAAO,CAAEsI,MAAO,OAAQrL,QAAS,gBACjCM,OAAQ,CAAEnB,OAAQ5E,EAAM2D,QAAQ,IAChC0xB,OAAQ,CAAEvkB,MAAO,OAAQlM,OAAQ5E,EAAM2D,QAAQ,IAC/C8vD,eAAgB,CACd3iD,MAAO,OACPrL,QAAS,eACTb,OAAQ5E,EAAM2D,QAAQ,SAWtB+vD,GAAsB,SAAC,GAII,IAH/BC,EAG8B,EAH9BA,cACAnrD,EAE8B,EAF9BA,MACAoR,EAC8B,EAD9BA,KAEM5e,EAAIuF,cACJ8D,EAAWC,cACX2uD,EAAqBnvD,aACzB,SAACC,GAAD,OAA2BA,EAAMqc,UAAU6yC,sBAO7C,OACE,eAAChC,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,EAAf,SACE,gBAAC5gD,GAAA,EAAD,WACGiJ,EACD,eAACg6C,GAAA,EAAD,CACEC,QACE,eAACplD,GAAA,EAAD,CACEqlD,SAAUb,EAAmB11D,SAASo2D,GACtC9wD,KAAM8wD,EACNjrD,SAdK,SAAC,GAE0B,IADhC7F,EAC+B,EADzC+J,OAAU/J,KAEVwB,EAAS,CAAE5E,KAAMoiC,GAAkBlkC,QAASkF,OActC2F,MAAOxN,EAAEwN,GACTurD,eAAe,MACf3vC,MAAO,CAAExf,OAAQ,KAAM6tD,UAAW,SAAU3hD,MAAO,eAOvDkjD,GAAyB,WAC7B,IAAMtF,EAAelC,KACrB,OACE,gBAACyE,GAAA,EAAD,CAAMltC,WAAS,EAACpgB,QAAS,EAAzB,UACG+qD,EAAaxc,GAAUkY,eACtB,eAAC,GAAD,CACEuJ,cAAepF,GAAc8E,cAC7B7qD,MAAM,yCACNoR,KAAM,eAAC,KAAD,MAGT80C,EAAaxc,GAAUyV,YACtB,eAAC,GAAD,CACEgM,cAAepF,GAAciF,UAC7BhrD,MAAM,qCACNoR,KAAM,eAAC,KAAD,MAGT80C,EAAaxc,GAAUsX,cACtB,eAAC,GAAD,CACEmK,cAAepF,GAAc+E,YAC7B9qD,MAAM,uCACNoR,KAAM,eAACoqC,GAAA,EAAD,MAGT0K,EAAaxc,GAAUmX,iBACtB,eAAC,GAAD,CACEsK,cAAepF,GAAcgF,gBAC7B/qD,MAAM,2CACNoR,KAAM,eAAC,KAAD,UAOHq6C,GAAgB,WAC3B,IAAM5vD,EAAWC,cACXtE,EAAQ8D,aACZ,SAACC,GAAD,MAAgD,SAAzBA,EAAM/D,MAAM+hC,YAE/BvgC,EAAUC,KACVI,EAASC,cACTC,EAAYE,cACZjH,EAAIuF,cAEV,OACE,gBAACihC,GAAA,EAAD,WACE,eAACP,GAAA,EAAD,CAAOngC,MAAO9F,EAAE,mBAChB,gBAACssD,GAAA,EAAD,WACE,eAAC//C,GAAA,EAAD,CAAY9E,UAAWjB,EAAQgH,MAA/B,SACGxN,EAAE,4BAEL,gBAACk5D,GAAA,EAAD,CAAazxD,UAAWjB,EAAQuE,OAAhC,UACE,eAAC,IAAD,CACEkB,KAAK,QACLiZ,QAAQ,YACRjf,MAAQjB,EAAoB,UAAZ,UAChBkB,QAAS,kBAAMlB,GAASqE,EAAS,CAAE5E,KAAMmiC,MAJ3C,SAMG5mC,EAAE,6BAEL,eAAC,IAAD,CACEiM,KAAK,QACLiZ,QAAQ,YACRjf,MAAOjB,EAAQ,UAAY,UAC3BkB,QAAS,kBAAOlB,GAASqE,EAAS,CAAE5E,KAAMmiC,MAJ5C,SAMG5mC,EAAE,kCAIT,gBAACssD,GAAA,EAAD,WACE,eAAC//C,GAAA,EAAD,CAAY9E,UAAWjB,EAAQgH,MAA/B,SACGxN,EAAE,4BAEL,gBAACsQ,GAAA,EAAD,CACE3O,MAAOkF,EACP6G,SAAU,SAACtJ,GAAD,OAAO2C,EAAU3C,EAAEwN,OAAOjQ,QACpC8F,UAAWjB,EAAQ6zB,OACnBnV,QAAQ,WAJV,UAME,eAAC,IAAD,CAAUvjB,MAAM,KAAhB,SAAsB3B,EAAE,0BACxB,eAAC,IAAD,CAAU2B,MAAM,KAAhB,SAAsB3B,EAAE,gCAG5B,gBAACssD,GAAA,EAAD,WACE,eAAC//C,GAAA,EAAD,CAAY9E,UAAWjB,EAAQgH,MAA/B,SACGxN,EAAE,8BAEL,sBAAKyH,UAAWjB,EAAQiyD,eAAxB,SACE,eAAC,GAAD,aC/KK,IACb,eAAC,KAAD,CAAO1kD,OAAK,EAACrI,KAAK,iBAAiBC,OAAQ,kBAAM,eAAC,GAAD,Q,wJCCxCwtD,GAAiBz5D,wBAAc,MCNtCG,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GA2GPo5D,GAA6B,SAAU71D,GAMvC,IALA,IAII81D,EAHAC,EADS/1D,EAAMqO,OACH2nD,QAAQ,MACpBC,EAAKF,EAAGG,WACRC,EAAUF,EAAG50D,SAERmgB,EAAQ,EAAGA,EAAQ20C,EAAQr5D,OAAQ0kB,IACpC20C,EAAQ9+C,KAAKmK,KAAWu0C,IACxBD,EAASt0C,EAAQ,GAGzB,IAEI40C,EAFAC,EAAQJ,EAAGC,WACXI,EAAOD,EAAMh1D,SAEjB,IAASmgB,EAAQ,EAAGA,EAAQ80C,EAAKx5D,OAAQ0kB,IACjC80C,EAAKj/C,KAAKmK,KAAWy0C,IACrBG,EAAM50C,EAAQ,GAGtB,MAAO,CAAE60C,MAAOA,EAAOD,IAAKA,EAAKN,OAAQA,IAEzC5yD,GAAYgC,YAAW,CACvB6wD,GAAI,CACA,wBAAyB,CACrBQ,WAAY,UAEhB,8BAA+B,CAC3BA,WAAY,aAGrB,CACCjyD,KAAM,0BAENkyD,GAAc,GACHC,GAtIG,SAAU1uD,GACxB,IAAIN,EAAOM,EAAMN,KAAyC9C,GAAhBoD,EAAMmC,SAAenC,EAAMpD,IAAmC4kB,GAAdxhB,EAAM0W,OAAmB1W,EAAMwhB,UAAUloB,EAAW0G,EAAM1G,SAAUyvD,EAAW/oD,EAAM+oD,SAAU4F,EAAe3uD,EAAM2uD,aAActjC,EAAWrrB,EAAMqrB,SAAU5xB,EAAOZ,GAAOmH,EAAO,CAAC,OAAQ,WAAY,KAAM,SAAU,WAAY,WAAY,WAAY,eAAgB,aACjWmC,EAAWg3B,aAAmBn5B,GAC9B0W,EAASsR,aAAiBhoB,GAC1B9I,EAAKQ,oBAAS,GAAQk3D,EAAS13D,EAAG,GAAI23D,EAAU33D,EAAG,GACnDgE,EAAUC,GAAUszD,IACpBK,EAAer2D,uBAAY,WAC3Bo2D,GAAQ,KACT,IACCE,EAAgBt2D,uBAAY,WAC5Bo2D,GAAQ,KACT,IACCt4B,EAASC,eACTj9B,EAAKy1D,aAAU7sD,EAAUvF,EAAI,GACjC8Z,GAASkS,EAASrvB,EAAG,GAAI4xB,EAAS5xB,EAAG,GAAGwN,QACpCkoD,EAAmBx2D,uBAAY,WAC/B89B,EAAO,0BAA2B,OAAQ,CACtC1hB,YAAa,GACdwW,GACH0jC,MACD,CAACx4B,EAAQlL,EAAU0jC,IAClBG,EAAmBz2D,uBAAY,SAAUyO,GACzCqvB,EAAwB,kBAAVrvB,EACRA,EACAA,EAAMlQ,SAAW,6BAA8B,aACtD,CAACu/B,IACAn7B,EAAK+zD,aAAiB,CACtBC,UAAWF,EACXG,UAAWJ,IACXK,EAAel0D,EAAGk0D,aAAcC,EAAen0D,EAAGm0D,aAAcC,EAAep0D,EAAGo0D,aAAcC,EAAer0D,EAAGq0D,aAAcC,EAAet0D,EAAGs0D,aAAcC,EAAev0D,EAAGu0D,aAClL9P,EAAcpnD,uBAAY,SAAUR,GACpC,IAAIf,EAAK42D,GAA2B71D,GAAQq2D,EAAQp3D,EAAGo3D,MAAOD,EAAMn3D,EAAGm3D,IAAKN,EAAS72D,EAAG62D,OACxFe,IAEA/1C,YAAW,WAKP,IAAIoL,EAAQmqC,EAAM14B,cAAc,gBAAkBy4B,EAAM,kBAAoBN,EAAS,WACrF5pC,GAASA,EAAMjH,OAASiH,EAAMjH,UAC/B,OACJ,CAAC4xC,IACAc,EAAOn3D,uBAAY,SAAUE,EAAMyB,EACvClD,GACI,IACAqC,OAAY,IAAPrC,EAAgB,GAAKA,EAAI24D,EAAoBt2D,EAAG81D,UAAWS,EAAoBv2D,EAAG61D,UAAWW,EAAoBx2D,EAAGskD,UACzH,OAAOjqB,QAAQC,QAAQk8B,EACjBA,EAAkBp3D,GAChB+2D,EAAavxD,QACXuxD,EAAavxD,QAAQxF,GACrBA,GAAMw7B,MAAK,SAAUx7B,GAC3B,OAAOiwB,EAAO,CAAEvxB,QAAS,CAAEsB,KAAMA,IAAU,CACvCoG,OAAQixD,KACRX,UAAWQ,IAEHP,EAAanxD,QACXmxD,EAAanxD,QACb8wD,GACVG,UAAWU,IAEHN,EAAarxD,QACXqxD,EAAarxD,QACb+wD,GACV7jC,SAAUA,SAGnB,CACC6jC,EACAD,EACArmC,EACAyC,EACAmkC,EACAF,EACAI,IAEAO,EAAc,CACdL,KAAMA,EACNzkC,OAAQA,EACRokC,aAAcA,EACdE,aAAcA,EACdE,aAAcA,EACdL,aAAcA,EACdE,aAAcA,EACdE,aAAcA,GAEdQ,EAAav2D,mBAAQ,WAAc,MAAQ,CAC3CmD,KAAMgyD,EACN7vC,MAAO8vC,KACJ,CAACD,EAAcC,IACtB,OAAQ10D,gBAAoBwzD,GAAetjD,SAAU,CAAElU,MAAO65D,GAActB,EAAUv0D,gBAAoB81D,KAAqB,CAAE95D,MAAO45D,GAAen2D,uBAAa4F,EAAMnL,GAAS,CAAEqI,GAAIA,EAAIwzD,aAAcrB,EAAe5sD,SAAUA,EAAUuU,OAAQA,EAAQ8K,SAAUA,EAAUouC,KAAMA,EAAMzkC,OAAQA,EAAQwjC,aAAcA,EAActjC,SAAUA,GAAY5xB,KAAYY,gBAAoBkxD,KAAah3D,GAAS,CAAE4N,SAAUA,EAAUvF,GAAIA,EAAI8Z,OAAQA,EAAQ8K,SAAUA,GAAY/nB,EAAM,CAAE0C,UAAWjB,EAAQ8yD,GAAIpzD,QAAsB,SAAbmuD,EACxflJ,EACA,eAAsCvmD,K,oBCjHzC+2D,GAAmBj8D,wBAAc,MC0G7Bk8D,GA3GkB,SAAUtwD,GACvC,IAAIwhB,EAAWxhB,EAAMwhB,SAAUtmB,EAAU8E,EAAM9E,QAASmwD,EAASrrD,EAAMqrD,OAAQvwB,EAAiB96B,EAAM86B,eAAgBy1B,EAAavwD,EAAMuwD,WAAYC,EAA0BxwD,EAAMwwD,wBAAyBC,EAAgCzwD,EAAMywD,8BAA+BC,EAA4B1wD,EAAM0wD,0BACjT7wD,EAAUwgD,eACV9pB,EAASC,eACTpgB,EAAUsgB,eACVv0B,EAAWg3B,aAAmBn5B,GAC9B9I,EAAKy5D,aAAUxuD,EAAU,IAAKtL,EAASK,EAAG,GAAIi0B,EAASj0B,EAAG,GAAG6P,QAC7D6pD,EAAiBn4D,uBAAY,WACzB+3D,EACAE,IAGA7wD,EAAQmD,KAAKwe,KAElB,CAACA,EAAUkvC,EAA2BF,EAAyB3wD,IAC9DovD,EAAmBx2D,uBAAY,WAC/B89B,EAAO,0BAA2B,OAAQ,CACtC1hB,YAAa,IAEjBuB,IACAw6C,MACD,CAACA,EAAgBr6B,EAAQngB,IACxB84C,EAAmBz2D,uBAAY,SAAUyO,GACzCqvB,EAAwB,kBAAVrvB,EACRA,EACAA,EAAMlQ,SAAW,6BAA8B,aACtD,CAACu/B,IACAh9B,EAAK41D,aAAiB,CACtBC,UAAWF,EACXG,UAAWJ,IACXK,EAAe/1D,EAAG+1D,aAAcC,EAAeh2D,EAAGg2D,aAAcC,EAAej2D,EAAGi2D,aAAcC,EAAel2D,EAAGk2D,aAAcC,EAAen2D,EAAGm2D,aAAcC,EAAep2D,EAAGo2D,aAClLC,EAAOn3D,uBAAY,SAAUE,EAAMyB,EACvClD,GACI,IACAqC,OAAY,IAAPrC,EAAgB,GAAKA,EAAI24D,EAAoBt2D,EAAG81D,UAAWS,EAAoBv2D,EAAG61D,UAAWW,EAAoBx2D,EAAGskD,UACzH,OAAOjqB,QAAQC,QAAQk8B,EACjBA,EAAkBp3D,GAClB+2D,EAAavxD,QACTuxD,EAAavxD,QAAQxF,GACrBA,GAAMw7B,MAAK,SAAUx7B,GAC3B,OAAO9B,EAAO,CAAEQ,QAAS,CAAEsB,KAAMA,IAAU,CACvCoG,OAAQ8xD,KACRxB,UAAWQ,IAEHP,EAAanxD,QACXmxD,EAAanxD,QACb8wD,GACVG,UAAWU,IAEHN,EAAarxD,QACXqxD,EAAarxD,QACb+wD,UAGnB,CACCr4D,EACAq4D,EACAD,EACAO,EACAF,EACAI,IAEAO,EAAc,CACdL,KAAMA,EACNzkC,OAAQA,EACRokC,aAAcA,EACdE,aAAcA,EACdE,aAAcA,EACdL,aAAcA,EACdE,aAAcA,EACdE,aAAcA,GAEdt7D,EAAgBuF,mBAAQ,WAAc,MAAQ,CAC9CslB,MAAO2xC,KACJ,CAACA,IACJE,EAAqBz2D,IAAMC,cAAc61D,KAAqB,CAAE95D,MAAO45D,GACvE51D,IAAMC,cAAc+1D,GAAiB9lD,SAAU,CAAElU,MAAOjC,GAAiB0F,uBAAay2D,EAAY,CAC9Fr1D,QAASA,EACTmwD,OAAQA,EACRvwB,eAAgBA,EAChBl+B,GAAI,aACJwzD,aAAcQ,EACdl6C,OAAQ,GACRvU,SAAUA,EACVqf,SAAUA,EACVouC,KAAMA,EACNzkC,OAAQA,EACR4lC,YAAY,MAEpB,OAAIP,EAEOC,GAAiCK,EAGrCz2D,IAAMC,cAAc6F,KAAO,CAAEC,KAAMohB,EAAW,WAAasvC,ICnGlEv8D,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAQPs8D,GAAuB,SAAU95D,GACjC,IAAIsqB,EAAWtqB,EAAGsqB,SAAUloB,EAAWpC,EAAGoC,SAAU4B,EAAUhE,EAAGgE,QAASiB,EAAYjF,EAAGiF,UAAWxD,EAAOzB,EAAGyB,KAAM0yD,EAASn0D,EAAGm0D,OAAQvwB,EAAiB5jC,EAAG4jC,eAAgBtQ,EAAQtzB,EAAGszB,MAAOha,EAAMtZ,EAAGsZ,IAAK6R,EAAenrB,EAAGmrB,aAAclgB,EAAWjL,EAAGiL,SAAU4mD,EAAW7xD,EAAG6xD,SAAUqC,EAAWl0D,EAAGk0D,SAAU5oC,EAActrB,EAAGsrB,YAE/SyuC,GAAZ/5D,EAAGsjC,QAA2BtjC,EAAG+5D,iBAAiBC,EAAWh6D,EAAGg6D,SAAUX,EAAar5D,EAAGq5D,WAAYllC,EAAWn0B,EAAGm0B,SAAU9xB,EAAKrC,EAAGs5D,wBAAyBA,OAAiC,IAAPj3D,GAAwBA,EAAIk3D,EAAgCv5D,EAAGu5D,8BAA+BC,EAA4Bx5D,EAAGw5D,0BAA2B/B,EAAez3D,EAAGy3D,aAAcl1D,EAAOZ,GAAO3B,EAAI,CAAC,WAAY,WAAY,UAAW,YAAa,OAAQ,SAAU,iBAAkB,QAAS,MAAO,eAAgB,WAAY,WAAY,WAAY,cAAe,UAAW,kBAAmB,WAAY,aAAc,WAAY,0BAA2B,gCAAiC,4BAA6B,iBACltB,OAAQmD,IAAMC,cAAcgxD,KAAW/2D,GAAS,CAAE4H,UAAW4W,KAAW,gBAAiB5W,IAAc1C,GACnG82D,GAAel2D,IAAMC,cAAcg2D,GAA4B,CAAE9uC,SAAUA,EAAUtmB,QAASA,EAASw1D,0BAA2BA,EAA2BH,WAAYA,EAAYlF,OAAQA,EAAQvwB,eAAgBA,EAAgB01B,wBAAyBA,EAAyBC,8BAA+BA,EAA+BtuD,SAAUA,IAC/VqO,EAAIvT,KAAI,SAAUL,EAAIu0D,GAClB,IAAIj6D,EACJ,OAAQmD,IAAMC,cAAc82D,GAAqB,CAAE5vC,SAAUA,EAAUtmB,QAASA,EAASiB,UAAW4W,KAAW7X,EAAQmzD,KAAMn3D,EAAK,GAC1HA,EAAGgE,EAAQm2D,SAAWF,EAAW,IAAM,EACvCj6D,EAAGgE,EAAQo2D,QAAUH,EAAW,IAAM,EACtCj6D,EAAGgE,EAAQq2D,cAAgBxI,EAC3B7xD,IAAMm0D,OAAQA,EAAQ3rD,KAAMwxD,EAAUp2B,eAAgBA,EAAgBtQ,MAAOA,EAAO5tB,GAAIA,EAAI/G,IAAK+G,EAAIylB,aAAcA,EAAc3L,OAAQ/d,EAAKiE,GAAKuF,SAAUA,EAAU4mD,SAAUA,EAAUgI,YAAaE,GAAmBA,EAAgBt4D,EAAKiE,IAAM40D,SAAUhvC,EAAYvrB,SAAS2F,GAAKkhB,MAAOstC,EAAWA,EAASzyD,EAAKiE,GAAKu0D,GAAY,KAAM9lC,SAAUA,EAAUsjC,aAAcA,GAAgBr1D,QAqBvZ03D,GAAqBl7C,aAAe,CAChCnd,KAAM,GACNmiC,gBAAgB,EAChBtqB,IAAK,IAITwgD,GAAqBS,QAAU,YAChBT,U,qBCrEXz8D,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAMAg9D,GAAmB,SAAUx6D,GACpC,IAAIgT,EAAShT,EAAGgT,OAAQlK,EAAQnH,GAAO3B,EAAI,CAAC,WACxC8C,EAAYC,cAChB,OAAQI,IAAMC,cAAcC,IAAS,CAAEC,MAAOR,EAAU,mBAAoB,CACpEI,EAAG,sBAEPC,IAAMC,cAAcI,IAAYnG,GAAS,CAAEqG,QAASsP,EAAQvJ,KAAM,SAAWX,GACzE3F,IAAMC,cAAcq3D,KAAY,SCjCxCp9D,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAMA8kC,GAAe,SAAUx5B,GACTA,EAAMmC,SAA7B,IAAuC1I,EAAOZ,GAAOmH,EAAO,CAAC,aACzDhG,EAAYC,cACZkI,EAAWg3B,aAAmBn5B,GAG9BkC,EAAQlI,EAAU,iBAAkB,CAAEuC,KAFnBkJ,cACID,CAAiBrD,EAAU,KAEtD,OAAQ9H,IAAMC,cAAcC,IAAS,CAAEC,MAAO0H,GAC1C7H,IAAMC,cAAc0B,IAAQzH,GAAS,CAAEoM,KAAM,QAAShG,MAAO,UAAW,aAAcuH,GAASzI,GAC3FY,IAAMC,cAAcs3D,KAAS,MAC7B1vD,K,wCC7BD2vD,GAA8B,SAAU7xD,GAC/C,IAAIwhB,EAAWxhB,EAAMwhB,SAAUrlB,EAAY6D,EAAM7D,UAAWjF,EAAK8I,EAAM8xD,aAAcA,OAAsB,IAAP56D,EAAgB,0BAA4BA,EAAIqC,EAAKyG,EAAM+xD,eAAgBA,OAAwB,IAAPx4D,EAAgB,4BAA8BA,EAAI6B,EAAK4E,EAAMkC,MAAOA,OAAe,IAAP9G,EAAgB,mBAAqBA,EAAIuzD,EAAe3uD,EAAM2uD,aAAchhD,EAAK3N,EAAMkrB,SAAU8mC,OAAoB,IAAPrkD,EAAgB,OAASA,EAAI0d,EAAWrrB,EAAMqrB,SACpa4mC,EAAOC,aAAgBvD,EAActjC,GACrC3U,EAASsR,aAAiBhoB,GAC1BmC,EAAWg3B,aAAmBn5B,GAC9B4N,EAAKukD,aAA+B,CACpCxD,aAAcA,GAAgBsD,EAC9B9vD,SAAUA,EACVuU,OAAQA,EACRwU,SAAU8mC,EACVxwC,SAAUA,IACV1kB,EAAO8Q,EAAG9Q,KAAMiK,EAAU6G,EAAG7G,QAASqrD,EAAmBxkD,EAAGwkD,iBAAkBC,EAAoBzkD,EAAGykD,kBAAmBC,EAAe1kD,EAAG0kD,aAC1It4D,EAAYC,cACZiR,EAAkBlR,EAAUkI,EAAO,CAAE9H,EAAG8H,IAC5C,OAAQ7H,IAAMC,cAAcyB,WAAU,KAClC1B,IAAMC,cAAcC,IAAS,CAAEC,MAAO0Q,GAClC7Q,IAAMC,cAAcI,IAAY,CAAE,aAAcwQ,EAAiBtQ,QAASw3D,EAAkBj2D,UAAW4W,KAAW,mBAAoB5W,GAAYtG,IAAK,SAAU8K,KAAM,SACnKtG,IAAMC,cAAci4D,KAAc,CAAE53D,MAAO,YACnDN,IAAMC,cAAcuM,KAAS,CAAEC,OAAQhK,EAAMiK,QAASA,EAASvM,MAAOs3D,EAAc9qD,QAAS+qD,EAAgB7pC,iBAAkB,CACvH3rB,KAAMuY,KAAWC,SAAS/a,EAAU,aAAemI,EAAW,QAAS,CACnE0S,YAAa,EACbza,EAAG0a,KAAW+S,YAAY1lB,MAC1B,GACJvF,GAAI8Z,EAASA,EAAO9Z,QAAKvI,GAC1B4S,UAAWqrD,EAAct1D,QAASq1D,M,UCzBtCG,GAA2B,SAAUxyD,GAC5C,IAAIwhB,EAAWxhB,EAAMwhB,SAAUrlB,EAAY6D,EAAM7D,UAAWjF,EAAK8I,EAAMkC,MAAOA,OAAe,IAAPhL,EAAgB,mBAAqBA,EAAIqC,EAAKyG,EAAMkrB,SAAU8mC,OAAoB,IAAPz4D,EAAgB,OAASA,EACtLmd,EAASsR,aAAiBhoB,GAC1BmC,EAAWg3B,aAAmBn5B,GAC9B5E,EAAKq3D,aAA4B,CACjCtwD,SAAUA,EACVuU,OAAQA,EACRwU,SAAU8mC,EACVxwC,SAAUA,IACVza,EAAU3L,EAAG2L,QAASurD,EAAel3D,EAAGk3D,aAExCpnD,EADYjR,aACMD,CAAUkI,EAAO,CAAE9H,EAAG8H,IAC5C,OAAQ7H,IAAMC,cAAcC,IAAS,CAAEC,MAAO0Q,GAC1C7Q,IAAMC,cAAcI,IAAY,CAAE,aAAcwQ,EAAiBlM,SAAU+H,EAASnM,QAAS03D,EAAcn2D,UAAW4W,KAAW,mBAAoB5W,GAAYtG,IAAK,SAAU8K,KAAM,SAClLtG,IAAMC,cAAci4D,KAAc,CAAE53D,MAAO,aCpBnDpG,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAMAg+D,GAAkB,SAAUx7D,GACnC,IAAIy3D,EAAez3D,EAAGy3D,aAActjC,EAAWn0B,EAAGm0B,SAAU5xB,EAAOZ,GAAO3B,EAAI,CAAC,eAAgB,aAC3F+6D,EAAOC,aAAgBvD,EAActjC,GACzC,MAAgB,aAAT4mC,EAAuB53D,gBAAoBm4D,GAA0Bj+D,GAAS,GAAIkF,IAAWY,gBAAoBw3D,GAA6Bt9D,GAAS,CAAEo6D,aAAcsD,EAAM5mC,SAAUA,GAAY5xB,K,qBC7B1MlF,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAOrB69D,GAAgB,SAAU3yD,GACjC,IAAIlD,EC2BU/E,qBAAW81D,ID3BM/wD,KAC3B9C,EAAYC,cACZ/C,EAAK8I,EAAMkC,MACXgJ,EAAkBlR,OADe,IAAP9C,EAAgB,iBAAmBA,EAC1B,CAAEkD,EAAG,SAC5C,OAAQC,gBAAoBE,IAAS,CAAEC,MAAO0Q,GAC1C7Q,gBAAoBK,IAAYnG,GAAS,CAAEqG,QAASkC,EAAM6D,KAAM,QAAShG,MAAO,UAAW,aAAcuQ,GAAmBlL,GACxH3F,gBAAoBu4D,KAAe,SEvB3Cr+D,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAMrB+9D,GAAqB,SAAU7yD,GACtC,IACIkC,EADYjI,aACJD,CAAU,mBAAoB,CAAEI,EAAG,qBAC/C,OAAQC,IAAMC,cAAcC,IAAS,CAAEC,MAAO0H,GAC1C7H,IAAMC,cAAcI,IAAYnG,GAAS,CAAE,aAAc2N,EAAOvB,KAAM,QAAShG,MAAO,WAAaqF,GAC/F3F,IAAMC,cAAcs3D,KAAS,MAC7B5xD,EAAM1G,YCjBPw5D,GAAgB,SAAU57D,GACjC,IAAI67D,EAAQ77D,EAAG67D,MAAOjoC,EAAe5zB,EAAG4zB,aAAcE,EAAU9zB,EAAG8zB,QAAS2jC,EAAez3D,EAAGy3D,aAAcyB,EAAel5D,EAAGk5D,aAAcjlC,EAASj0B,EAAGi0B,OAAQE,EAAWn0B,EAAGm0B,SAc1KnpB,EAbYjI,aAaJD,CAAU,iBAAkB,CACpCI,EAAG,mBAEP,OAAQC,IAAMC,cAAcC,IAAS,CAAEC,MAAO0H,GAC1C7H,IAAMC,cAAcI,IAAY,CAAE,aAAcwH,EAAOlD,SAAUmsB,EAAQvwB,QAhB/D,SAAUo4D,IACpBA,EAAIC,kBACJD,EAAI/sC,iBACA8sC,GAAS/nC,KAGbF,IAEa,aADFonC,aAAgBvD,EAActjC,IAErC+kC,MAOuFzvD,KAAM,QAAShG,MAAO,WAC7GN,IAAMC,cAAc44D,KAAa,SCxBzC3+D,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAIAy+D,GAAgB,SAAUj8D,GACjC,IAAIy3D,EAAez3D,EAAGy3D,aAAcyE,EAAWl8D,EAAGk8D,SAAU/nC,EAAWn0B,EAAGm0B,SAA4BrrB,GAAV9I,EAAGgL,MAAerJ,GAAO3B,EAAI,CAAC,eAAgB,WAAY,WAAY,WAClK,OAAQmD,gBAAoBA,WAAgB,KACxCA,gBAAoBs4D,GAAe,OAClCS,GAAa/4D,gBAAoBq4D,GAAiBn+D,GAAS,CAAEo6D,aAAcA,EAActjC,SAAUA,GAAYrrB,MC5BpHzL,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAoJI2+D,GAzCQ,SAAUrzD,GAC7B,IAAI+Z,EAAU/Z,EAAM+Z,QAASzgB,EAAW0G,EAAM1G,SAAUi3D,EAAavwD,EAAMuwD,WAAYW,EAAWlxD,EAAMkxD,SAAUvC,EAAe3uD,EAAM2uD,aAAcyE,EAAWpzD,EAAMozD,SAAU/nC,EAAWrrB,EAAMqrB,SAAU5xB,EAAOZ,GAAOmH,EAAO,CAAC,UAAW,WAAY,aAAc,WAAY,eAAgB,WAAY,aAC1SmC,EAAWg3B,aAAmBn5B,GAC9B9E,EAAUo4D,aAAkBtzD,GAC5B9I,EAAKQ,oBAAS,GAAQ+4D,EAAgCv5D,EAAG,GAAIq8D,EAA8Br8D,EAAG,GAC9Fs8D,EAA2B,WAC3BD,GAA4B,GAE5Bx6C,YAAW,WACP,IAAIoL,EAAQjb,SAAS+T,iBAAiB,qBAAqB,GAC3DkH,GAASA,EAAMjH,OAASiH,EAAMjH,UAC/B,MAUHu2C,EAAqC,OAAtBh6D,EAAK8gC,aACpBi2B,GAA2BiD,GAAgB12D,QAAQwzD,GACnDmD,EAAgBr5D,gBAAoB22D,GAAsB,CAAE70D,UAAW1C,EAAK0C,UAAWjB,QAASA,EAASw1D,0BAV7E,WAC5B6C,GAA4B,IASmIhD,WAAYA,EAAYW,SAAUA,EAAU7F,OAAQ5xD,EAAK4xD,OAAQvwB,eAAgBrhC,EAAKqhC,eAAgB01B,wBAAyBA,EAAyBC,8BAA+BA,EAA+B9B,aAAcA,EAActjC,SAAUA,EAAU7J,SAAU/nB,EAAK+nB,SAAUrf,SAAUA,IAG5c,OAAI1I,EAAKkoB,QAA+B,IAApBloB,EAAK+W,IAAIzb,QAA+B,IAAf0E,EAAKmoB,MAK1CvnB,gBAAoBs5D,KAAUp/D,GAAS,CAAE4U,KAAMuqD,EAAcvxD,SAAUA,GAAY1I,GACvFH,GACY,IAAZygB,EACMA,GAAY1f,gBAAoB84D,GAEhC,CAEEjxD,MAAOsuD,EAA2Bn2D,gBAAoBw4D,GAAoB,CAAEj4D,QAAS44D,IAAgC,GAAK7E,aAAcA,EAActjC,SAAUA,EAAU+nC,SAAUA,EAAUloC,WAAUuoC,GAAe,SACzN,MAZCjD,EAA2Bn2D,gBAAoBA,WAAgB,KAClEA,gBAAoBm/B,GAAc,CAAE5+B,QAAS44D,EAA0BrxD,SAAUA,IACjF9H,gBAAoB,QAAS,KAAMq5D,IAAmBr5D,gBAAoB,QAAS,KAAMq5D,I,8BC5JjGn/D,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAgFPyG,GAAYgC,YAAW,CACvBy2D,aAAc,CACVh4C,WAAY,SACZpR,MAAO,QAEZ,CACCjO,KAAM,cAEKs3D,GAnDD,SAAU7zD,GACpB,IAAI1G,EAAW0G,EAAM1G,SAAUod,EAAS1W,EAAM0W,OAAQ9Z,EAAKoD,EAAMpD,GAAIT,EAAY6D,EAAM7D,UAAWi0D,EAAepwD,EAAMowD,aAAc/E,EAASrrD,EAAMqrD,OAAQvwB,EAAiB96B,EAAM86B,eAAgBzC,EAAgBr4B,EAAMq4B,cAAe04B,EAAa/wD,EAAM+wD,WAAYvvC,EAAWxhB,EAAMwhB,SAAUrf,EAAWnC,EAAMmC,SAAUytD,EAAO5vD,EAAM4vD,KAAMzkC,EAASnrB,EAAMmrB,OAAQqmC,EAAWxxD,EAAMwxD,SAAUt6D,EAAK8I,EAAMorB,cAAeA,OAAuB,IAAPl0B,GAAuBA,EAAIm0B,EAAWrrB,EAAMqrB,SAAUgkC,EAAYrvD,EAAMqvD,UAAWD,EAAYpvD,EAAMovD,UAAWvR,EAAY79C,EAAM69C,UAAW8Q,EAAe3uD,EAAM2uD,aAAcl1D,EAAOZ,GAAOmH,EAAO,CAAC,WAAY,SAAU,KAAM,YAAa,eAAgB,SAAU,iBAAkB,gBAAiB,aAAc,WAAY,WAAY,OAAQ,SAAU,WAAY,gBAAiB,WAAY,YAAa,YAAa,YAAa,iBAC51B9E,EAAUC,KAEV8kD,EAAY,SAAUn1B,GACtB,OAAO,SAAU7yB,GACK,UAAdA,EAAMpC,KAAmBu1B,IACzBnzB,EAAMguB,iBACNhuB,EAAMg7D,kBACNnoC,OAIRmlC,EAAc6D,eAYlB,OAXA17D,qBAAU,WACFg3D,GACAa,EAAYR,aAAaL,GAEzBC,GACAY,EAAYV,aAAaF,GAEzBxR,GACAoS,EAAYN,aAAa9R,KAE9B,CAACoS,EAAab,EAAWC,EAAWxR,IAC/BxjD,IAAMC,cAAcy5D,KAAMx/D,GAAS,CAAE8jC,cAAe9jC,GAASA,GAAS,GAAI8jC,GAAgB3hB,GAASs9C,SAAUpE,GAAQn2D,IAAO,SAAUvC,GAC1I,IAAI4zB,EAAe5zB,EAAG4zB,aAAcE,EAAU9zB,EAAG8zB,QAAS+nC,EAAQ77D,EAAG67D,MACrE,OAAQ14D,IAAMC,cAAc25D,KAAU,CAAE93D,UAAWA,EAAWtG,IAAK+G,EAAIqjD,UAAWA,EAAUn1B,IACxFugC,GAAWhxD,IAAMC,cAAc45D,KAAW,CAAE5yD,QAAS,QACjDjH,IAAMC,cAAc65D,KAAiB,CAAEj5D,QAASzB,EAAKyB,QAAS6T,UAAU,EAAO/P,UAAU,KAC7F87B,GAAmBzgC,IAAMC,cAAc45D,KAAW,CAAE5yD,QAAS,YAAcyvD,GAAe12D,IAAMC,cAAc85D,KAAU,CAAEz5D,MAAO,UAAW6yD,QAASgE,EAAUxyD,UAAU,KACzK3E,IAAM2f,SAAS/c,IAAI3D,GAAU,SAAUuJ,EAAO4W,GAC1C,OAAO7f,yBAAeiJ,GAAUxI,IAAMC,cAAc45D,KAAW,CAAEr+D,IAAK4jB,EAAOtd,UAAW0G,EAAM7C,MAAMq0D,cAAenzD,MAAO2B,EAAM7C,MAAMmsD,WAAaryD,uBAAa+I,EAAO,CACnK6T,OAAQA,EACR8K,SAAU3e,EAAM7C,MAAMwhB,UAAYA,EAClCrf,SAAUA,KACP,QAEX9H,IAAMC,cAAc45D,KAAW,CAAE/3D,UAAWjB,EAAQ04D,cAChDv5D,IAAMC,cAAcw4D,GAAe,CAAEC,MAAOA,EAAOjoC,aAAcA,EAAcE,QAASA,EAASolC,aAAcA,EAAcjlC,OAAQA,EAAQE,SAAUA,EAAUsjC,aAAcA,IAC/Kt0D,IAAMC,cAAco3D,GAAkB,CAAExnD,OAAQkmD,U,2QClE1Dj1D,GAAYgC,YAChB,CACEsC,OAAQ,CACNN,QAAS,cACTD,WAAY,UAEdgD,MAAO,CACL1D,YAAa,SAEf81D,eAAgB,CACdvoD,aAAc,SAEhBwoD,UAAW,CACT73D,SAAU,IAEZ83D,WAAY,CACV93D,SAAU,IAEZ+3D,UAAW,CACT/3D,SAAU,KAGd,CAAEH,KAAM,aAoBJP,GAAS,SAACgE,GAAwB,IAAD,EAjBC,EAkBtC,EAWIA,EAVF00D,iBADF,MACc,OADd,EAEEp7D,EASE0G,EATF1G,SAEA6C,GAOE6D,EARF9E,QAQE8E,EAPF7D,WACAxB,EAMEqF,EANFrF,MACAqE,EAKEgB,EALFhB,SACAkD,EAIElC,EAJFkC,MAPF,EAWIlC,EAHFW,YARF,MAQS,QART,EAS6Bg0D,EAEzB30D,EAFF40D,0BACGn7D,EAVL,aAWIuG,EAXJ,IAYMhG,EAAYC,cACZiB,EAAUC,GAAU6E,GACpBqV,EAAWC,cAAc,SAAC5b,GAAD,OAAkBA,EAAM2P,YAAYkM,KAAK,SAClEs/C,IAjCgC,EAiCIp7D,GA/B1C+nB,SAFqC,EAGrCsJ,aAHqC,EAIrCC,yBAJqC,EAKrCC,QALqC,EAMrCa,OANqC,EAOrCZ,SAPqC,EAQrCvU,OARqC,EASrCwU,SATqC,EAUrC/oB,SAVqC,EAWrCgpB,OAXqC,EAYrCC,cAZqC,EAarCC,SAbqC,oBAmCrC,OAAOhW,GAAYs/C,EACjBzyD,IAAUlD,EACR,eAAC,IAAD,CAASxE,MAAOR,EAAUkI,EAAO,CAAE9H,EAAG8H,IAAtC,SACE,eAACxH,EAAA,EAAD,2BACE,aAAYV,EAAUkI,EAAO,CAAE9H,EAAG8H,IAClC/F,UAAWA,EACXxB,MAAOA,GACHk6D,GAJN,aAMGv7D,OAIL,eAACoB,EAAA,EAAD,2BACEyB,UAAWA,EACXxB,MAAOA,EACPqE,SAAUA,GACN61D,GAJN,aAMGv7D,KAIL,gBAAC,IAAD,2BACE6C,UAAW4W,KAAW7X,EAAQuE,OAAQtD,GACtCxB,MAAOA,EACPgG,KAAMA,EACN,aAAYuB,EAAQlI,EAAUkI,EAAO,CAAE9H,EAAG8H,SAAW7N,EACrD2K,SAAUA,GACN61D,GANN,cAQiB,SAAdH,GACCp7D,GACAe,eAAmBf,EAAU,CAC3B6C,UAAWjB,EAAQ,GAAD,OAAIyF,EAAJ,WAErBuB,GACC,uBACE/F,UAAW4W,MAAU,oBAClB7X,EAAQgH,MAAsB,SAAdwyD,GADE,eAElBx5D,EAAQo5D,eAA+B,SAAdI,GAFP,IADvB,SAMG16D,EAAUkI,EAAO,CAAE9H,EAAG8H,MAGZ,UAAdwyD,GACCp7D,GACAe,eAAmBf,EAAU,CAC3B6C,UAAWjB,EAAQ,GAAD,OAAIyF,EAAJ,gBAqD5B3E,GAAO8Z,aAAe,CACpBnb,MAAO,UACPgG,KAAM,QACNi0D,2BAA2B,GAGd54D,ICvMH84D,GDuMG94D,M,uBE9LF+4D,GAAkB,YAI2C,IAHxEjqB,EAGuE,EAHvEA,OACA/nC,EAEuE,EAFvEA,OACG/C,EACoE,mBACjE0W,EAASsR,eACTtzB,EAAIuF,cACJ+6D,EAAclqB,EAAOp0B,EAAO3T,IAClC,OACE,eAACkyD,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAQA,EAA5B,SACE,qCACE,eAACmyD,GAAA,EAAD,CAAMhzD,MAAOxN,EAAEsgE,WCNVG,GAAuB,WAClC,MAAsD78B,eAA9CpX,EAAR,EAAQA,KAAMN,EAAd,EAAcA,QAASgB,EAAvB,EAAuBA,MAAOc,EAA9B,EAA8BA,QAASC,EAAvC,EAAuCA,WACjCyyC,EAAUC,KAAKC,KAAK1zC,EAAQhB,IAAY,EAC9C,OAAOw0C,EAAU,EACf,eAAC7pC,GAAA,EAAD,UACE,gBAACo/B,GAAA,EAAD,CAAMltC,WAAS,EAAf,UACE,eAACktC,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,EAAf,SACE,eAAC5gD,GAAA,EAAD,CACEC,UAAW,EACXwT,MAAO,CACL7Q,OAAQ,OACR9N,QAAS,OACTuV,cAAe,MACfC,eAAgB,WAChBzV,WAAY,UAPhB,SAUE,gBAAC8F,GAAA,EAAD,CACE3O,MAAOuqB,EACP9C,MAAO,CAAEtT,MAAO,OAAQyC,OAAQ,MAAOk/C,UAAW,UAClDvyC,QAAQ,WACRxX,SAAU,SAACtJ,GAAD,OACR6pB,EAAWskB,SAASnuC,EAAEwN,OAAOjQ,MAAiB,MALlD,UAQE,eAAC,IAAD,CAAUA,MAAO,GAAjB,kBACA,eAAC,IAAD,CAAUA,MAAO,GAAjB,kBACA,eAAC,IAAD,CAAUA,MAAO,IAAjB,0BAIN,eAACs0D,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,IACf,eAACN,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,EAAf,SACE,eAAC5gD,GAAA,EAAD,CACEC,UAAW,EACXwT,MAAO,CACL7Q,OAAQ,OACR9N,QAAS,OACTuV,cAAe,MACfC,eAAgB,WAChBzV,WAAY,UAPhB,SAUE,gBAAC0uD,GAAA,EAAD,CAAa9vC,MAAO,CAAE7Q,OAAQ,OAA9B,UACGiU,EAAO,EACN,eAAC,IAAD,CACEtH,QAAQ,WACRjf,MAAM,UAENC,QAAS,kBAAM8nB,EAAQxB,EAAO,IAJhC,SAME,eAAC,KAAD,KAHI,QAMN,eAAC,IAAD,CAAQtH,QAAQ,WAAWjf,MAAM,UAAUqE,UAAQ,EAAnD,SACE,eAAC,KAAD,MAGJ,gBAAC,IAAD,CAAQA,UAAQ,EAAC4a,QAAQ,YAAzB,UACG,IACAsH,EAAM,OAERA,IAASk0C,EACR,eAAC,IAAD,CACEx7C,QAAQ,WACRjf,MAAM,UAENC,QAAS,kBAAM8nB,EAAQxB,EAAO,IAJhC,SAME,eAAC,KAAD,KAHI,QAMN,eAAC,IAAD,CAAQtH,QAAQ,WAAWjf,MAAM,UAAUqE,UAAQ,EAAnD,SACE,eAAC,KAAD,kBASd,0BCpFSu2D,GAAa,SAACv1D,GACzB,IAAMtG,EAAQsP,eACd,OACE,eAAC,KAAD,2BACE4X,QAAS,GACTqY,UAAU,EACVe,WACE1kB,aAAc5b,EAAM2P,YAAYqhB,GAAG,OACjC,eAACq9B,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,OAEzC,eAAC,GAAD,KAGAppD,GAVN,IAWE45B,mBAAmB,EAXrB,SAaE,gBAAC,KAAD,CACEmvB,SAAU,SAACnsD,GAAD,iBACJ,IAAI44D,gBAAgB,CAAE54D,OAAa2X,aAF3C,UAKE,eAAC,KAAD,CAAWxR,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAAC,KAAD,CAAWA,OAAO,sB,wCHnCd+xD,K,cAAAA,E,iBAAAA,Q,KIYZ,I,GCZYW,GDkCGC,GAtBmB,SAAC,GAEI,IADlC11D,EACiC,oBAC9BH,EAAUwgD,eACVl+C,EAAWg3B,eAejB,OAAO,eAAC,KAAD,CAAcv+B,QAbL,SAAC9B,GACXkH,EAAM21D,eACR78D,EAAEmtB,iBACFpmB,EAAQmD,KAAK,CACXlC,SAAUd,EAAMwhB,SAAN,UACHxhB,EAAMwhB,SADH,sBAEFrf,EAFE,WAGV1E,MAAO,CAAEm4D,aAAc51D,EAAM61D,aAC7B/U,OAAQ,IAAI0U,gBAAgBx1D,EAAM21D,cAAcphD,kB,iWEblDyU,GAA8C,SAAC,GAAD,EAClDjG,SADkD,EAElDsjC,WAFkD,EAGlD7kC,SAHkD,EAIlD6yC,cAJkD,EAKlDl4D,UALkD,EAMlDqqD,UANkD,EAOlDsP,cAPkD,EAQlDhxD,UARkD,EASlDixD,gBATkD,EAUlD7zD,MAVkD,EAWlD8zD,SAXkD,EAYlDr6C,KAZkD,EAalDpgB,OAbkD,EAclDmb,OAdkD,EAelD0N,QAfkD,EAgBlDjiB,SAhBkD,EAiBlD0pD,SAjBkD,EAkBlD/pC,OAlBkD,EAmBlDm0C,YAnBkD,EAoBlDlzD,OApBkD,EAqBlDopD,UArBkD,EAsBlDhnC,gBAtBkD,2BA0BvC+wC,GAAgB,SAAC,GASU,IARtCrK,EAQqC,EARrCA,SACA3pD,EAOqC,EAPrCA,MACAa,EAMqC,EANrCA,OACAozD,EAKqC,EALrCA,cACAv7D,EAIqC,EAJrCA,QACAuB,EAGqC,EAHrCA,UACA2hB,EAEqC,EAFrCA,MACG9d,EACkC,mBAE/B3J,EADS2xB,eACMjlB,GACrB,OACE,eAAC9B,GAAA,EAAD,CAAY,aAAYiB,EAAO/F,UAAWA,EAAW2hB,MAAOA,EAA5D,SACE,eAACs2C,GAAA,EAAD,2BACE,YAAWvI,OAAWx3D,EAAY,QAC7B20B,GAAuBhpB,IAF9B,IAGEwtD,QAAS2I,GAAiBA,EAAc9/D,GACxCuE,QAASA,GAAWA,EAAQvE,SCuKrB+/D,GA1MK,YAgCb,IA/BLj0D,EA+BI,EA/BJA,SACAY,EA8BI,EA9BJA,OACAkvD,EA6BI,EA7BJA,KACAoE,EA4BI,EA5BJA,aACAC,EA2BI,EA3BJA,aACAC,EA0BI,EA1BJA,qBACAC,EAyBI,EAzBJA,qBAyBI,IAxBJC,8BAwBI,MAxBqB,kBAAM,GAwB3B,EAvBJC,EAuBI,EAvBJA,uBACAC,EAsBI,EAtBJA,wBACAC,EAqBI,EArBJA,gBACAx+B,EAoBI,EApBJA,QACAy+B,EAmBI,EAnBJA,oBACAp2C,EAkBI,EAlBJA,KACAnnB,EAiBI,EAjBJA,SAkBA,EAAiBinD,eAAVC,EAAP,qBACA,EAKIsW,eAJFpgD,EADF,EACEA,OACA8K,EAFF,EAEEA,SACA4C,EAHF,EAGEA,QACU2yC,EAJZ,EAIE50D,SAGF,EAA6D60D,aAC3D,CACE79D,KAAMktC,aAAkBqwB,GACxBv0D,SAAU40D,EACV1/D,QACEqf,GAAUigD,GAA2BA,EAAwBjgD,IAEjE,CACE0M,UAAWszC,KAA4BC,IAR7BM,EAAd,EAAQt+D,KAA6Bu+D,EAArC,EAA4B9yC,QAYtB+yC,EACJF,IACCL,EAAkBA,EAAgBK,EAAcl0D,GAAUk0D,GAEvDG,EAAY,yCAAG,WAAOC,GAAP,UAAAp7B,EAAA,sEACbukB,EACJ,CACErnD,KAAMktC,aAAkBgwB,GACxBl0D,SAAU40D,EACV1/D,QACEqf,GACA6/C,GACAA,EAAqB7/C,EAAQ2gD,IAEjC,CAAE1W,eAAe,IAVA,OAYfv8B,GACFA,IAEF8yC,IAfmB,2CAAH,sDAkBZI,EAAY,yCAAG,WAAOC,GAAP,UAAAt7B,EAAA,sEACbukB,EACJ,CACErnD,KAAMktC,aAAkBiwB,GACxBn0D,SAAU40D,EACV1/D,QACEqf,GACA8/C,GACAA,EAAqB9/C,EAAQ6gD,IAEjC,CAAE5W,eAAe,IAVA,OAYfv8B,GACFA,IAEF8yC,IAfmB,2CAAH,sDAkBZM,EAAa,SAACC,GAClB,OAAMf,GAA4BC,GAA2BQ,EACpDA,EAAUp0D,GAAQ9L,SAASwgE,MAChC/gD,GAAWggD,GAA2BC,IACjCjgD,EAAO3T,GAAQ9L,SAASwgE,IAI7BC,EAAU,WACd,MAA+Cp/B,eAAvCpW,EAAR,EAAQA,aAAuBy1C,EAA/B,EAAsBvzC,QAChBwzC,EAA4B,yCAAG,+BAAA37B,EAAA,sEAE3BukB,EACJ,CACErnD,KAAMktC,aAAkBqa,MACxBv+C,WACA9K,QAAS,CACP+X,OAAO,gBACF8S,KAIT,CAAEy+B,eAAe,IAZc,kKACnC,EAaGhoD,YAdgC,aACnC,EAaSsE,KAAI,SAAC0Y,GAAD,cAAYA,QAAZ,IAAYA,OAAZ,EAAYA,EAAG/Y,MAdO,mFAAH,qDAgB5Bi7D,EAAe,yCAAG,uBAAA57B,EAAA,kEAChBm7B,EADgB,SACGQ,IADH,yDAEtBD,IAFsB,2CAAH,qDAKfG,EAAe,yCAAG,uBAAA77B,EAAA,kEAChBq7B,EADgB,SACGM,IADH,yDAEtBD,IAFsB,2CAAH,qDAKrB,OACE,eAACt+B,GAAA,EAAD,UACE,gBAACu0B,GAAA,EAAD,WACE,eAAC,GAAD,CACEh0C,QAAQ,YACRhf,QAAS,kBAAMi9D,KACf31D,MAAM,4CACN0yD,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,WACRhf,QAAS,kBAAMk9D,KACf51D,MAAM,4CACN0yD,2BAA2B,UAO/BmD,EAAmB,SAAC,GAAkB,IAAb/3D,EAAY,oBACzC,EAA+Cs4B,eAAvCpW,EAAR,EAAQA,aAAuBy1C,EAA/B,EAAsBvzC,QAEtB,OACE,eAAC,GAAD,6BACMpkB,GADN,IAEEhB,SAAmB,SAATizD,EACVpG,UAAU,EACVsK,cAAe,SAACv5D,GAAD,OAAgB46D,EAAW56D,IAC1CmG,OAAO,KACPnI,QAAS,SAACgC,GAAD,OACP46D,EAAW56D,GAAX,wBACI,uBAAAq/B,EAAA,sEACQq7B,EAAa,CAAC16D,IADtB,OAEM65D,EAAuBv0C,IACzBy1C,IAHJ,2CADJ,wBAOI,uBAAA17B,EAAA,sEACQm7B,EAAa,CAACx6D,IADtB,OAEM65D,EAAuBv0C,IACzBy1C,IAHJ,gDAWZ,OACE,eAAClL,GAAA,EAAD,CAAyBp2D,MAAO8L,EAAhC,SACE,eAAC,KAAD,CACEqf,SAAUA,EACVyX,UAAU,EACVz+B,MAAM,IACN49B,QAASA,EACTy+B,oBAAqBA,EACrBp2C,KAAMA,EACNuZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,GAAI,OACzDxoC,QAAS,GACT7G,QAAkB,SAATk4C,EAAkB,eAACyF,EAAD,IAAc,+BAT3C,SAWE,qCACE,gBAAC,KAAD,CAAU/2D,KAAK,QAAQmd,MAAO,CAAEk6C,YAAa,SAA7C,UACG1+D,GAAY,eAAC,KAAD,CAAWyJ,OAAO,OAC/B,eAACg1D,EAAD,CAAkB71D,MAAM,wD,UCtN9BipC,IAA+B,sBAClCxP,GAAawH,SAAW,kBADU,gBAElCxH,GAAasI,QAAU,0BAFW,gBAGlCtI,GAAawI,UAAY,oBAHS,gBAIlCxI,GAAa0I,OAAS,iBAJY,gBAKlC1I,GAAagJ,MAAQ,0BALa,gBAMlChJ,GAAauK,SAAW,mBANU,gBAOlCvK,GAAakJ,MAAQ,gBAPa,gBAQlClJ,GAAaqK,MAAQ,gBARa,IAatB4E,GAFM,SAAC/0C,GAAD,OAAuBs1C,GAAQt1C,I,gBCarCoiE,GAhBW,SAACj4D,GACzB,IAAQ1G,EAA6B0G,EAA7B1G,SAAa4+D,EAArB,aAAqCl4D,EAArC,IACQmC,EAAa20D,eAAb30D,SAER,OACE,gBAAC,KAAD,6BAAY+1D,GAAZ,cACG5+D,EACD,eAAC6+D,GAAA,EAAD,CACEj2D,MAAM,+CACNa,OAAQ6nC,GAAazoC,GACrBu2B,UAAQ,S,8BJpBJ+8B,K,gBAAAA,E,qBAAAA,Q,KKgBZ,IChBYA,GDgBN2C,GAAqB,SAAC,GAAD,IAAGx7D,EAAH,EAAGA,GAAH,MAAuC,CAChEzD,KAAMktC,aAAkBgyB,MACxBl2D,SAAUw5B,GAAa0H,cACvBhsC,QAAS,CACPsB,KAAM,CACJiE,KACAqW,QAAQ,MAKRqlD,GAAmB,SAAC,GAAD,IAAG17D,EAAH,EAAGA,GAAH,MAAuC,CAC9DzD,KAAMktC,aAAkBgyB,MACxBl2D,SAAUw5B,GAAa0H,cACvBhsC,QAAS,CACPsB,KAAM,CACJiE,KACAqW,QAAQ,MASDslD,GAA+B,CAC1Cp/D,KAAMs8D,GAAW70B,SACjBhtB,KAAM,4CAGK4kD,GAAgC,SAC3C/6D,EAD2C,GAGhC,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAWtlB,OACd,MAAO,CACLh3C,OACAya,KAAM,6CACN6kD,YAAaL,IAGjB,KAAK3C,GAAW70B,SACd,MAAO,CACLznC,OACAya,KAAM,2CACN6kD,YAAaH,IAGjB,QACE,MAAM,IAAIz+D,QEhDVsB,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,MACRkM,MAAO,aAKAkuD,GAA8B,SAAC,GAAkB,IAAb14D,EAAY,oBACrD9E,EAAUC,KACVzB,EAAQsP,eACR+gD,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OACpDghB,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9CgjC,GACAD,IAFF,2BAASp/D,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIgB46D,EAAgB34D,EAAxB0W,OACR,EAA+C6pC,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEhBt+B,qBAAU,WACJugE,EAAY1lD,OACdlV,EAAS,CAAE5E,KAAMs8D,GAAWtlB,SAE5BpyC,EAAS,CAAE5E,KAAMs8D,GAAW70B,aAE7B,CAAC+3B,IAEJ,IAAM/9D,EAAO,yCAAG,6BAAAqhC,EAAA,sEAENxU,EAFM,OAEEgxC,QAFF,IAEEA,OAFF,EAEEA,EAAcE,GAFhB,SAGNnY,EAAO/4B,EAAO,CAAEk5B,eAAe,IAHzB,OAIZvqC,IAJY,gDAMZmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SANpB,yDAAH,qDAUb,OAAQ+yD,EAcN,eAACrvD,EAAA,EAAD,CACEC,MAAM,UACNC,QAASA,EACToE,UACGopD,EAAaxc,GAAU2W,qBACxBx7C,GACA6xD,EANJ,SASGz/D,IAASs8D,GAAWtlB,OAAS,eAAC0oB,GAAA,EAAD,IAAe,eAACC,GAAA,EAAD,MAtB/C,eAAC,GAAD,CACE95D,UACGopD,EAAaxc,GAAU2W,qBACxBx7C,GACA6xD,EAEFz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,K,iECnB3BmE,GAAY,SAACpgE,GACjB,IAAgBihB,EAAYjhB,EAApB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,kCADb,YACkD4f,QADlD,IACkDA,OADlD,EACkDA,EAAShd,GAD3D,IACgE,IADhE,OAEGgd,QAFH,IAEGA,OAFH,EAEGA,EAASrd,SAKVy8D,GAAiB,WACrB,IAAgBC,EAAWnC,eAAnBpgD,OACF0xC,EAAelC,KACrB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAawH,UAC3BzsB,OAAQuiD,EACRr/C,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAUwW,uBAO/B+W,GAAmB,SAAC,GAGH,IAAD,IAF3BC,sBAE2B,SADxBp5D,EACwB,mBACXi5D,EAAWnC,eAAnBpgD,OACF1c,EAAYC,cACZmuD,EAAelC,KAErB,OACE,gBAACmT,GAAA,EAAD,6BAAsBr5D,GAAtB,cACE,eAAC,KAAD,CAAW+C,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,QACP1C,OAAQ,SAACsV,GAAD,OACN,+BAAM3b,EAAU,yBAAD,cAA0B2b,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAGymB,aAG/CgsB,EAAaxc,GAAU6Z,iBACtB,eAAC17B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAawI,UACxBxoB,KAAK,OAHP,SAKE,eAAC0sC,GAAA,EAAD,CACEhoD,OAAQ,SAACqW,GAAD,OACN,wCACGA,QADH,IACGA,OADH,EACGA,EAAQ9Z,GADX,YACiB8Z,QADjB,IACiBA,OADjB,EACiBA,EAAQ67B,KADzB,YAOP6V,EAAaxc,GAAU8V,aACtB,eAAC33B,GAAA,EAAD,CACEhnB,OAAO,eACPwD,UAAWo1B,GAAaqK,MACxBrqB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,eAGrBqlD,EAAaxc,GAAU8V,aACtB,eAAC33B,GAAA,EAAD,CACEhnB,OAAO,cACPwD,UAAWo1B,GAAaqK,MACxBrqB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,eAGtB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,eACP1C,OAAQ,SAACsV,GAAD,OACN,gCACI,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG4mB,cAAeviC,EAAU,aAAeA,EAAU,iBAI5D,eAACquD,GAAA,EAAD,CACEtlD,OAAO,gBACP1C,OAAQ,SAACsV,GAAD,OACN,gCACI,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG6mB,eAAgBxiC,EAAU,aAAeA,EAAU,iBAI7D,eAAC,KAAD,CAAW+I,OAAO,aAClB,eAAC,KAAD,CAAWA,OAAO,gBAClB,eAAC,KAAD,CAAWA,OAAO,WACX,OAANk2D,QAAM,IAANA,OAAA,EAAAA,EAAQr8B,cACP,eAACyrB,GAAA,EAAD,CACEtlD,OAAO,cACP1C,OAAQ,SAACqW,GAAD,OACN,+BAAM0zB,GAAU,OAAC1zB,QAAD,IAACA,OAAD,EAACA,EAAQkmB,mBAIxB,OAANq8B,QAAM,IAANA,OAAA,EAAAA,EAAQl8B,oBAAqB,eAAC,KAAD,CAAWh6B,OAAO,uBACzC,OAANk2D,QAAM,IAANA,OAAA,EAAAA,EAAQp8B,mBACP,eAACwrB,GAAA,EAAD,CACEtlD,OAAO,mBACP1C,OAAQ,SAACsV,GAAD,OACN,+BACG3b,EAAU,6BAAD,cAA8B2b,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAGknB,wBAKnD,eAAC2rB,GAAA,EAAD,CAAWzlD,OAAO,YAAY4lD,UAAQ,IACtC,eAACH,GAAA,EAAD,CAAWzlD,OAAO,aAAa4lD,UAAQ,KAChC,OAANsQ,QAAM,IAANA,OAAA,EAAAA,EAAQ/7B,4BACPtB,GAAkC09B,UAClC,eAAC,KAAD,CAAWv2D,OAAO,iBAEpB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,2BACP1C,OAAQ,SAACsV,GAAD,OACN,+BACG3b,EAAU,4CAAD,cACoC2b,QADpC,IACoCA,OADpC,EACoCA,EAAGunB,gCAKtDk8B,GAAkB,eAAC,GAAD,SAKnBG,GAAmB,SAAC,GAAkB,IAAbv5D,EAAY,oBACzBw5D,EAAe1C,eAAvBpgD,OAER,OACE,gBAACi0C,GAAA,EAAD,CAAMltC,WAAS,EAACg8C,QAAQ,eAAxB,UACE,eAAC9O,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAO,WAA3B,SACE,eAACslD,GAAA,EAAD,CACEtlD,OAAO,WACP1C,OAAQ,SAACqW,GAAD,OACN,+BAAM0zB,GAAU,OAAC1zB,QAAD,IAACA,OAAD,EAACA,EAAQ20B,oBAKjC,eAACsf,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAO,SAA3B,SACE,eAACslD,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACqW,GAAD,OACN,+BAAM0zB,GAAU,OAAC1zB,QAAD,IAACA,OAAD,EAACA,EAAQ40B,kBAKjC,eAACqf,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAO,WAA3B,SACE,eAAC22D,GAAA,EAAD,CAAa32D,OAAO,mBAGb,OAAVy2D,QAAU,IAAVA,OAAA,EAAAA,EAAY7tB,YACX,eAACgf,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAO,YAA3B,SACE,eAAC,KAAD,CAAWA,OAAO,uBAQxB42D,GAAkB,SAAC,GAII,IAH3BP,EAG0B,EAH1BA,eACoBhuB,EAEM,EAF1BwuB,mBACG55D,EACuB,mBACpBtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnDw0C,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OACpDvb,EAAYC,cACZmuD,EAAelC,KACb1kC,EAAa8W,eAAb9W,SAEFuX,EAAc,kBAClB,eAACM,GAAA,EAAD,UACG+uB,EAAaxc,GAAUsW,sBACtB,eAAC,GAAD,CAA2ByT,aAAc,CAAEvqB,iBAK3CyuB,EAAW,SAAC,GAAD,IAAMC,EAAN,2BACf,gBAAC,GAAD,6BAAaA,GAAb,cACE,eAACC,GAAA,EAAD,CACEh3D,OAAO,aACP5J,KAAK,OACL0rB,OAAQslB,GACRn0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,KAEnD,eAAC0jE,GAAA,EAAD,CACEh3D,OAAO,WACP5J,KAAK,OACL0rB,OAAQslB,GACRn0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,KAEnD,eAAC0jE,GAAA,EAAD,CACEh3D,OAAO,WACP5J,KAAK,OACL0rB,OAAQulB,GACRp0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,KAEnD,eAAC0jE,GAAA,EAAD,CACEh3D,OAAO,SACP5J,KAAK,OACL0rB,OAAQulB,GACRp0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,KAEnD,eAAC6yD,GAAA,EAAD,CACEnmD,OAAO,OACPE,QAASzO,OAAOiQ,QAAQqwD,IAAiB73D,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,SAG7C,eAAC2jE,GAAA,EAAD,CAAaj3D,OAAO,kBAIxB,OACE,eAAC,KAAD,6BACM/C,GADN,IAEEwhB,SAAUA,EACVyX,UAAU,EACVrY,QAAS,GACTH,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,QAC5B8W,mBAAmB,EACnB7f,aAA4B1lB,IAAnB+kE,GAAgC,eAACrgC,EAAD,IACzC5W,UAAWimC,EAAaxc,GAAUsW,qBAClCpoB,OAAO,EATT,SAWE,gBAAC,GAAD,CACEmyB,gBAAiB,kBAAMnD,GACvBuC,OAAQ,eAAC,GAAD,IACR/pD,QAASyoD,EAAe,WAAa,UACrCmH,SAAU,eAAC2I,EAAD,IACVzG,UAAQ,EACRr5C,eACqB1lB,IAAnB+kE,IACAhR,EAAaxc,GAAUqW,0BACnB5tD,EATR,UAaE,eAACm0D,GAAA,EAAD,CAAWzlD,OAAO,eAClB,eAACylD,GAAA,EAAD,CAAWzlD,OAAO,cAChB+lD,GACA,eAACT,GAAA,EAAD,CACEtlD,OAAO,WACP1C,OAAQ,SAACqW,GAAD,OACN,+BAAM0zB,GAAU,OAAC1zB,QAAD,IAACA,OAAD,EAACA,EAAQ20B,gBAI7Byd,GACA,eAACT,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACqW,GAAD,OACN,+BAAM0zB,GAAU,OAAC1zB,QAAD,IAACA,OAAD,EAACA,EAAQ40B,aAI/B,eAAC+c,GAAA,EAAD,CACEtlD,OAAO,OACP1C,OAAQ,SAACsV,GAAD,OACN3b,EAAU,mCAAD,cAAoC2b,QAApC,IAAoCA,OAApC,EAAoCA,EAAGxc,WAGlD2vD,GAAe,eAAC4Q,GAAA,EAAD,CAAa32D,OAAO,oBAMhCk3D,GAAiB,SAAC,GAGH,IAF1Bb,EAEyB,EAFzBA,eACAQ,EACyB,EADzBA,mBAEA,EAA6B9C,eAArBt1C,EAAR,EAAQA,SAAU9K,EAAlB,EAAkBA,OAClB,OACE,eAAC+1C,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAasH,aAA7C,SACE,eAAC,GAAD,CACEm2B,eAAgBA,EAChBQ,mBAAoBA,EACpBp/D,MAAM,IACNgnB,SAAUA,EACVpS,OAAQ,CACNg8B,SAAQ,OAAE10B,QAAF,IAAEA,OAAF,EAAEA,EAAQ9Z,IAEpBgkB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,GAAI,YAM3D8Q,GAAqB,SAAC,GAAkB,IAAbl6D,EAAY,oBACrCooD,EAAelC,KACflsD,EAAYC,cAElB,OACE,gBAAC0wD,GAAA,EAAD,CAAMltC,WAAS,EAACg8C,QAAQ,eAAxB,UACE,eAAC9O,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACG84C,EAAaxc,GAAUkY,eACtB,eAACmR,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAO,aAA3B,SACE,eAACgnB,GAAA,EAAD,CACExjB,UAAWo1B,GAAakK,QACxB9iC,OAAO,WACP4Y,MAAM,EAHR,SAKE,eAAC,KAAD,CAAW5Y,OAAO,sBAK1B,eAAC4nD,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,6BAAaj1D,GAAb,IAAoB+C,OAAO,SAA3B,SACE,eAACslD,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACqW,GAAD,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQzD,QAASjZ,EAAU,aAAeA,EAAU,wBAS5DmgE,GAAmB,SAACn6D,GACxB,IAAMtG,EAAQsP,eACR+gD,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OACpDvb,EAAYC,cACZmuD,EAAelC,KAErB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEsB,QAASyoD,EAAe,WAAa,UACrCkC,gBAAiB,kBAAMlC,GACvBsB,OAAQ,eAAC,GAAD,IAJV,UAME,eAAC7C,GAAA,EAAD,CAAWzlD,OAAO,OAAO4lD,UAAQ,IACjC,eAACN,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN1c,EAAU,mCAAD,cAAoC0c,QAApC,IAAoCA,OAApC,EAAoCA,EAAQwH,gBAGvD6rC,GAAgB3B,EAAaxc,GAAUkY,eACvC,eAAC/5B,GAAA,EAAD,CACE7nB,MAAM,4CACNqE,UAAWo1B,GAAakK,QACxB9iC,OAAO,WACP4Y,MAAM,EAJR,SAME,eAAC,KAAD,CAAW5Y,OAAO,kBAGpBgnD,GACA,eAAC1B,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACqW,GAAD,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQzD,QAASjZ,EAAU,aAAeA,EAAU,eAI1D,eAACquD,GAAA,EAAD,CACEhoD,OAAQ,SAACqW,GAAD,OACN,eAAC,GAAD,CAA6BA,OAAQA,YAOzC0jD,GAAmB,SAACp6D,GAAD,OACvB,eAAC,KAAD,6BACMA,GADN,IAEEi5B,UAAU,EACVrY,QAAS,GACTH,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,QAC9B8W,mBAAmB,EALrB,SAOE,eAAC,GAAD,QAISygC,GAAkB,SAAC,GAIzB,IAAD,IAHJC,oCAGI,MAH2B,KAG3B,EACJ,EAA6CxD,eAArCt1C,EAAR,EAAQA,SAAkB+4C,EAA1B,EAAkB7jD,OAClB,OACE,eAAC+1C,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa0H,cAA7C,SACE,eAAC,GAAD,CACE7oC,MAAM,IACNgnB,SAAUA,EACVpS,OAAQ,CACNg8B,SAAQ,OAAEmvB,QAAF,IAAEA,OAAF,EAAEA,EAAgB39D,GAC1BkiC,WAAYw7B,GAEdvgD,SAAS,EACT6G,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,GAAI,YAM3DoR,GAAa,SAAC,GAA2D,IAAtDx6D,EAAqD,oBAC5Di5D,EAAWj5D,EAAnB0W,OACF1c,EAAYC,cACZmuD,EAAelC,KAEfuU,EAAkB,kBACtB,eAAC,GAAD,UACE,eAACxR,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAIrC,OACE,gBAACgiC,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,eAAC26D,GAAA,EAAD,CAAKz4D,MAAM,kCAAX,SACE,eAAC,GAAD,CAAkBk3D,gBAAc,MAEjChR,EAAaxc,GAAUwY,gBACtB,eAACuW,GAAA,EAAD,CAAKv6D,KAAK,WAAW8B,MAAM,mCAA3B,SACE,qCACE,gBAAC,GAAD,CACEC,SAAUw5B,GAAauK,SACvBnjC,OAAO,cACPkvD,KAAM7J,EAAaxc,GAAUyY,eAAiB,OAAS,OACvDgS,aAAa,iBACbC,aAAa,iBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC46B,SAAUz1B,EAAE/Y,GACZwgC,YAAa5sB,IAEfgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC46B,SAAUz1B,EAAE/Y,GACZwgC,YAAa5sB,IAEfimD,uBAAwB,SAACr+B,GAAD,OACM,KAArB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASigB,iBAEXjgB,QAAS,eAACqiC,EAAD,IACT5D,oBAAqB,CACnBzrB,SAAQ,OAAE6tB,QAAF,IAAEA,OAAF,EAAEA,EAAQr8D,GAClBy7C,gBAAgB,GAElB53B,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,SAEP1C,OAAQ,SAACsV,GAAD,OACL,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG1C,QAASjZ,EAAU,aAAeA,EAAU,cAF7C,iBASbouD,EAAaxc,GAAUoW,oBACtB,eAAC2Y,GAAA,EAAD,CAAKv6D,KAAK,QAAQ8B,MAAM,gCAAxB,SACE,eAAC,GAAD,CAAgB03D,mBAAkB,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAQr8D,OAG/CwrD,EAAaxc,GAAU0W,qBACtB,eAACqY,GAAA,EAAD,CAAKv6D,KAAK,OAAO8B,MAAM,+BAAvB,SACE,eAAC,GAAD,WAOG04D,GAAa,SAAC,GAAD,IAAM56D,EAAN,2BACxB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,Q,oCCpiBSogE,GAAa,SAAC,GAGH,IAFtBN,EAEqB,EAFrBA,6BACGt6D,EACkB,mBACfooD,EAAelC,KAErB,OACE,eAAC,KAAD,6BAAUlmD,GAAV,IAAiB+Z,SAAS,EAA1B,SACE,gBAAC2gD,GAAA,EAAD,CAAkBvgC,kBAAkB,EAApC,UACGiuB,EAAaxc,GAAUuW,gBACtB,eAACwY,GAAA,EAAD,CAAKv6D,KAAK,UAAU8B,MAAM,2CAA1B,SACE,eAAC,GAAD,CAAkBk3D,gBAAgB,MAGrChR,EAAaxc,GAAUoW,oBACtB,eAAC2Y,GAAA,EAAD,CAAKv6D,KAAK,QAAQ8B,MAAM,yCAAxB,SACE,eAAC,GAAD,CAAgBk3D,gBAAgB,MAGnChR,EAAaxc,GAAU0W,qBACtB,eAACqY,GAAA,EAAD,CAAKv6D,KAAK,OAAO8B,MAAM,wCAAvB,SACE,eAAC,GAAD,CACEo4D,6BAA8BA,c,SHhChC7E,K,cAAAA,E,kBAAAA,E,qBAAAA,Q,KIyBZ,ICzBYoF,GDyBNC,GAAgB,SACpBC,EACAnhD,GAFoB,MAGN,CACdzgB,KAAMktC,aAAkB20B,MACxB74D,SAAUw5B,GAAa0H,cACvBhsC,QAAS,CACPsB,KAAM,CACJ0zC,UAAS,OAAE0uB,QAAF,IAAEA,OAAF,EAAEA,EAAej8B,WAC1BwN,UAAS,OAAE1yB,QAAF,IAAEA,OAAF,EAAEA,EAASmpB,gBAKpBk4B,GAAkB,SACtBF,EACAnhD,EACAuyB,GAEA,IAAM+uB,EAAoB,OAAG/uB,QAAH,IAAGA,OAAH,EAAGA,EACzB/8B,QAAO,SAACg9B,GAAD,OAAQA,EAAGn5B,UACnBhW,KAAI,SAACmvC,GAAD,OAAQA,EAAGxvC,MAElB,MAAO,CACLzD,KAAMktC,aAAkB80B,MACxBh5D,SAAUw5B,GAAa0H,cACvBhsC,QAAS,CACPmZ,IAAK0qD,EACLviE,KAAM,CACJsa,QAAQ,MAcHmoD,GAAgC,CAC3CjiE,KAAMs8D,GAAW4F,SACjBznD,KAAM,4CAGK0nD,GAA4B,SACvC79D,EADuC,GAG5B,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAW8F,MACd,MAAO,CACLpiE,OACAya,KAAM,yCACN6kD,YAAaqC,IAGjB,KAAKrF,GAAW+F,QACd,MAAO,CACLriE,OACAya,KAAM,2CACN6kD,YAAawC,IAGjB,KAAKxF,GAAW4F,SACd,OAAOD,GAET,QACE,MAAM,IAAIvhE,QErEVsB,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXhqD,OAAQ,CACN9E,MAAOjB,EAAMN,QAAQ+kB,OAAOC,MAC5BhhB,WAAY1D,EAAM2D,QAAQ,SAKnBo+D,GAA4B,WACvC,IAAMvgE,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9C8lC,GACAF,IAFF,2BAASjiE,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIMg9D,EAAgB/yC,eACtB,EAA+Cu4B,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEFyhB,EAAYujB,aAAkB,CAC1CviE,KAAMktC,aAAkBs1B,MACxBx5D,SAAUw5B,GAAakK,QACvBxuC,QAAS,CACPmZ,IAAG,OAAEuqD,QAAF,IAAEA,OAAF,EAAEA,EAAej8B,cAJhBnmC,KAQMwzC,EAAiBuvB,aAAkB,CAC/CviE,KAAMktC,aAAkBs1B,MACxBx5D,SAAUw5B,GAAa0H,cACvBhsC,QAAS,CACPmZ,IAAK2nC,EACDA,EAAQ3L,SAAQ,SAACyL,GAAD,OAAuBA,EAAO3V,mBAC9C,MANA3pC,KAYRP,qBAAU,WAFO,IAACg0C,KAGHD,IAHmCC,EAAG/8B,MAAK,SAAC4sB,GAAD,OAAOA,EAAEhpB,UAI/DlV,EAAS,CAAE5E,KAAMs8D,GAAW+F,UAE5Bz9D,EAAS,CAAE5E,KAAMs8D,GAAW8F,UAE7B,CAACpvB,IAEJ,IAAMvxC,EAAO,yCAAG,iCAAAqhC,EAAA,kEAGV9iC,IAASs8D,GAAW8F,MAHV,gCAIA/a,EACJ,CACErnD,KAAMktC,aAAkBu1B,MACxBz5D,SAAUw5B,GAAauK,SACvB7uC,QAAS,CACPuF,GAAE,OAAEm+D,QAAF,IAAEA,OAAF,EAAEA,EAAel8B,YAGvB,CAAE8hB,eAAe,IAZb,8CAcN,CAAEhoD,KAAM,MAdF,qBAEEihB,EAFF,EAEJjhB,KAcF8uB,EAhBM,OAgBEgxC,QAhBF,IAgBEA,OAhBF,EAgBEA,EAAcsC,EAAenhD,EAASuyB,GAhBxC,UAiBNqU,EAAO/4B,EAAO,CAAEk5B,eAAe,IAjBzB,QAkBZvqC,IAlBY,kDAoBZmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SApBpB,0DAAH,qDAwBb,OACE,eAAC,GAAD,CACEgI,UACGopD,EAAaxc,GAAUiX,gBACxB1pD,IAASs8D,GAAW4F,UACpBt0D,GACA6xD,EAEFz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,KCrGpBiH,GAAgC,CAC3C1iE,KAAMs8D,GAAW4F,SACjBznD,KAAM,4CAGKkoD,GAA4B,SACvCr+D,EADuC,GAG5B,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAW8F,MACd,MAAO,CACLpiE,OACAya,KAAM,yCACNmoD,YAAar+B,GAAsBs+B,OAGvC,KAAKvG,GAAW+F,QACd,MAAO,CACLriE,OACAya,KAAM,2CACNmoD,YAAa,MAGjB,KAAKtG,GAAW4F,SACd,OAAOQ,GAET,QACE,MAAM,IAAIhiE,QCdVsB,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXhqD,OAAQ,CACN9E,MAAOjB,EAAMN,QAAQ+kB,OAAOC,MAC5BhhB,WAAY1D,EAAM2D,QAAQ,SAKnB4+D,GAA8B,WACzC,IAAM/gE,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9CsmC,GACAD,IAFF,2BAAS1iE,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAMmoD,EAArB,EAAqBA,YAAeh+D,EAApC,KAIA,EAAoCiqB,eAAxBkZ,EAAZ,EAAQtkC,GAAeoC,EAAvB,EAAuBA,SACvB,EAA+CuhD,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEhBt+B,qBAAU,WACS,OAAb4G,EACFjB,EAAS,CAAE5E,KAAMs8D,GAAW8F,QACnBv8D,IAAa0+B,GAAsBs+B,MAC5Cj+D,EAAS,CAAE5E,KAAMs8D,GAAW+F,UAE5Bz9D,EAAS,CAAE5E,KAAMs8D,GAAW4F,aAE7B,CAACr8D,IAEJ,IAAMpE,EAAO,yCAAG,uBAAAqhC,EAAA,+EAENukB,EACJ,CACErnD,KAAMktC,aAAkBgyB,MACxBl2D,SAAUw5B,GAAa4H,SACvBlsC,QAAS,CACPsB,KAAM,CAAEiE,GAAIskC,EAAWliC,SAAU+8D,KAGrC,CAAEpb,eAAe,IAVP,OAYZvqC,IAZY,+CAcZmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SAdpB,wDAAH,qDAkBb,OACE,eAAC,GAAD,CACEgI,UACGopD,EAAaxc,GAAUiX,gBACxB1pD,IAASs8D,GAAW4F,UACpBt0D,GACA6xD,EAEFz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,KC/B3Bz5D,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXpN,OAAQ,CACN+P,cAAe1yD,EAAM2D,QAAQ,UAK7B6+D,GAAsB,SAAC,GAAkB,IAAbl8D,EAAY,oBACjCvG,EAAX,iBAAoBuG,GACJwuC,EAAYsoB,eAApBpgD,OACF1c,EAAYC,cACZP,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAUzD,OACE,gBAAC,GAAD,6BACM9b,GADN,IAEE4+B,cAAe,CACb6I,UAAS,OAAEsN,QAAF,IAAEA,OAAF,EAAEA,EAAS5xC,GACpBwlC,WAAY7B,GAAW8B,GAEzBlf,SAfyB,SAACpd,GAC5B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOk7B,aACV9T,EAAO8T,WAAa,0BAEf9T,GAIP,UAQE,eAAC,KAAD,CAAWpqB,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAAab,MAAM,IAAI0X,QAAQ,aACjD,eAACsvC,GAAA,EAAD,CACEhnD,MAAM,IACN0X,QAAQ,WACR7W,OAAO,aACPE,QAASzO,OAAOoO,KAAK29B,IAAYtjC,KAAI,SAACpH,GAAD,MAAkB,CACrD+G,GAAI/G,EACJ0G,KAAMvC,EAAU,8BAAD,OAA+BnE,WAGhDizD,GAAe,eAACN,GAAA,EAAD,CAAWzlD,OAAO,mBAKnCo5D,GAAoB,SAAC,GAAkB,IAAbn8D,EAAY,oBACpChG,EAAYC,cACZP,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEzD,OACE,gBAAC,GAAD,6BAAavV,GAAb,cACE,eAAC,KAAD,CAAW+C,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAAab,MAAM,IAAI0X,QAAQ,aACjD,eAACsvC,GAAA,EAAD,CACEhnD,MAAM,IACN0X,QAAQ,WACR7W,OAAO,aACPE,QAASzO,OAAOoO,KAAK29B,IAAYtjC,KAAI,SAACpH,GAAD,MAAkB,CACrD+G,GAAI/G,EACJ0G,KAAMvC,EAAU,8BAAD,OAA+BnE,WAGhDizD,GACA,eAACN,GAAA,EAAD,CACEzlD,OAAO,YACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,kBAQd6Q,GAAqB,SAAC,GAAkB,IAAbv8D,EAAY,oBACrCtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnDvb,EAAYC,cACZmuD,EAAelC,KAErB,OACE,gBAAC,GAAD,6BACMlmD,GADN,IAEEsB,QAASwnD,EAAc,WAAa,UACpC/uC,UAASquC,EAAaxc,GAAUmY,oBAAgB1vD,EAChD68D,SAAU,eAAC,GAAD,IACVX,WACEnI,EAAaxc,GAAUmY,eACvBqE,EAAaxc,GAAUoY,gBACrB,eAAC,GAAD,SACE3vD,EAENymC,gBAAgB,EAChBP,aAAc,KACd64B,UAAQ,EAbV,UAeE,eAAC,KAAD,CAAWlxD,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,eAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,aACP1C,OAAQ,SAACqW,GAAD,OACNoyC,EACE,+BACG9uD,EAAU,8BAAD,cAA+B0c,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAQ0rB,eAGnD,eAAC8yB,GAAA,EAAD,CACEhzD,MAAOlI,EAAU,8BAAD,cACgB0c,QADhB,IACgBA,OADhB,EACgBA,EAAQ0rB,mBAM9C0mB,GACA,eAACN,GAAA,EAAD,CACEzlD,OAAO,YACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,kBAQd8Q,GAAiB,WACrB,MAAsC1F,eAA9Bt1C,EAAR,EAAQA,SAAkBgtB,EAA1B,EAAkB93B,OACZ1c,EAAYC,cAEZwiE,EAAU,SAAC,GAAD,IAAMz8D,EAAN,2BACd,gBAAC,KAAD,6BAAYA,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,aAAa21B,UAAQ,IACvC,eAACwwB,GAAA,EAAD,CACEnmD,OAAO,aACPE,QAASzO,OAAOoO,KAAK29B,IAAYtjC,KAAI,SAACpH,GAAD,MAAkB,CACrD+G,GAAI/G,EACJ0G,KAAMvC,EAAU,8BAAD,OAA+BnE,eAMtD,OACE,eAAC42D,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAakK,QAA7C,SACE,eAAC,KAAD,CACE5M,UAAU,EACVrY,QAAS,GACTH,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,QAC5BkX,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDxvB,mBAAmB,EACnBpY,SAAUA,EACVpS,OAAQ,CACN8xB,UAAS,OAAEsN,QAAF,IAAEA,OAAF,EAAEA,EAAS5xC,IAEtBw7B,QAAS,eAACqkC,EAAD,IACTjiE,MAAM,IAXR,SAaE,eAAC,GAAD,SAMFkiE,GAAkB,WACtB,MAA6B5F,eAArBpgD,EAAR,EAAQA,OAAQ8K,EAAhB,EAAgBA,SAChB,OACE,eAACirC,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAaoK,YAA7C,SACE,eAAC,GAAD,CACEvkB,SAAUA,EACVpS,OAAQ,CAAE8xB,UAAS,OAAExqB,QAAF,IAAEA,OAAF,EAAEA,EAAQ9Z,IAC7Bw7B,aAAS/jC,EACT0lB,SAAS,EACTvf,MAAM,IACNwwD,WAAS,OAMX2R,GAAqB,WACzB,IAAgBnuB,EAAYsoB,eAApBpgD,OACF1c,EAAYC,cACZmuD,EAAelC,KAEPtX,EAAa8sB,aAAkB,CAC3CviE,KAAMktC,aAAkBu1B,MACxBz5D,SAAUw5B,GAAagI,UACvBtsC,QAAS,CACPuF,GAAE,OAAE4xC,QAAF,IAAEA,OAAF,EAAEA,EAAS5P,cAJTjmC,KAQR,OACE,qCACE,gBAAC0gE,GAAA,EAAD,CAAkB3iD,OAAQk4B,EAAUzsC,SAAUw5B,GAAagI,UAA3D,UACE,eAAC5Z,GAAA,EAAD,CACE7nB,MAAM,uCACNa,OAAO,KACPwD,UAAWo1B,GAAagI,UACxBhoB,KAAK,OAJP,SAME,eAAC,KAAD,CAAW5Y,OAAO,gBAEpB,eAAC,KAAD,CAAWA,OAAO,aACjBqlD,EAAaxc,GAAU2V,kBAAvB,OAA0C3S,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAUpP,UACnD,eAACzV,GAAA,EAAD,CACEhnB,OAAO,UACPwD,UAAWo1B,GAAa8H,UACxB9nB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,YAGb,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAUnP,YAAa,eAAC+oB,GAAA,EAAD,CAAWzlD,OAAO,eACjC,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAUlP,eAAgB,eAAC,KAAD,CAAW38B,OAAO,kBACpC,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAUhP,OACT,eAAC,KAAD,CAAW78B,OAAO,UAElB,eAAC,KAAD,CAAWA,OAAO,oBAEX,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAU9O,cAAe,eAAC,KAAD,CAAW/8B,OAAO,iBACnC,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAU7O,SACT,eAACsoB,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACsV,GAAD,OACN,+BAAM3b,EAAU,0BAAD,cAA2B2b,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAGoqB,oBASrD68B,GAAoB,SAAC,GAAkB,IAAb58D,EAAY,oBAC1BwuC,EAAYsoB,eAApBpgD,OACF1c,EAAYC,cACV6mD,EAAWzuC,eAAXyuC,OACFyZ,EAAiB,IAAI/E,gBAAgB1U,GAAQ3qD,IAAI,MAEjD0J,EAAUwgD,eACVx/C,EAAWwR,eAEHuH,EAAY8hD,aAAkB,CAC1CviE,KAAMktC,aAAkBu1B,MACxBz5D,SAAUw5B,GAAauK,SACvB7uC,QAAS,CACPuF,GAAE,OAAE4xC,QAAF,IAAEA,OAAF,EAAEA,EAAS3P,aAJTlmC,KAeR,OAPAP,qBAAU,WAC4B,KAAzB,OAAPwhB,QAAO,IAAPA,OAAA,EAAAA,EAASmpB,YAAYhuC,SACvB8K,EAAQmD,KAAK,CACX89C,OAAQ,IAAI0U,gBAAgB,CAAE54D,GAAE,OAAEgd,QAAF,IAAEA,OAAF,EAAEA,EAASmpB,YAAY,KAAMxuB,eAEhE,CAACqF,EAAS/Z,IAGX,gBAACw5D,GAAA,EAAD,6BACMr5D,GADN,IAEE0W,OAAQkD,EACRzX,SAAUw5B,GAAauK,SAHzB,UAKE,eAAC,KAAD,CAAWnjC,OAAO,OAAOb,MAAM,0CACE,KAAzB,OAAP0X,QAAO,IAAPA,OAAA,EAAAA,EAASmpB,YAAYhuC,UAAiBwlE,GACrC,uCACE,eAACt5D,GAAA,EAAD,CAAY2Y,QAAQ,KAApB,SACG5f,EAAU,sCAEb,eAACyyD,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAawH,SAA7C,SACE,eAAC,GAAD,CACE3hB,SAAQ,WAAMma,GAAawH,UAC3BppB,SAAS,EACTqe,aAAS/jC,EACT+a,OAAQ,CACNw9B,qBAAiCv4C,KAAT,OAAPulB,QAAO,IAAPA,OAAA,EAAAA,EAAShd,IAC1BiiC,UAAS,OAAEjlB,QAAF,IAAEA,OAAF,EAAEA,EAAShd,IAEtBpC,MAAM,WAKb+/D,GACC,wCACU,OAAP3gD,QAAO,IAAPA,OAAA,EAAAA,EAASmpB,YAAYhuC,QAAS,GAC7B,eAAC41D,GAAA,EAAD,CAAMltC,WAAS,EAACnO,MAAI,EAAC4O,UAAU,SAAShf,WAAW,UAAnD,SACE,eAAC,GAAD,CACEgD,MAAM,mDACN0yD,2BAA2B,EAC3Bh7C,QAAQ,WACRijD,UAAW,eAAC,KAAD,IACXjiE,QAAS,WACP,IAAMkiE,EAAiB,IAAItH,gBAAgB30D,EAASigD,QACpDgc,EAAep0C,OAAO,MACtB7oB,EAAQ+gD,QAAQ,CACdE,OAAQgc,EAAevoD,kBAMjC,eAACk4C,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAawH,SAA7C,SACE,eAAC,GAAD,CACEvmC,GAAI29D,EACJ/4C,SAAQ,WAAMma,GAAawH,UAC3BppB,SAAS,EACT5X,SAAUw5B,GAAawH,SACvB3oC,MAAM,IACN8/D,6BAA4B,OAAE9rB,QAAF,IAAEA,OAAF,EAAEA,EAAS1P,uBAS/Ci+B,GAAgB,kBACpB,uCACE,eAAC7R,GAAA,EAAD,IACA,gBAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,OAAOwV,eAAe,WAAzC,UACE,eAAC,GAAD,IACA,eAAC,GAAD,WAKOqoD,GAAgB,WAC3B,IAAM9hE,EAAUC,KACA4/D,EAAkBjE,eAA1BpgD,OACMk4B,EAAa8sB,aAAkB,CAC3CviE,KAAMktC,aAAkBu1B,MACxBz5D,SAAUw5B,GAAagI,UACvBtsC,QAAS,CACPuF,GAAE,OAAEm+D,QAAF,IAAEA,OAAF,EAAEA,EAAen8B,cAJfjmC,KAQR,OACE,eAAC2mD,GAAA,EAAD,CAAK2d,EAAG,EAAR,SACE,gBAACh8D,GAAA,EAAD,CAAY9E,UAAWjB,EAAQmhD,OAAQziC,QAAQ,KAAKsjD,WAAS,EAA7D,iBACGtuB,QADH,IACGA,OADH,EACGA,EAAUtP,UADb,WACyBsP,QADzB,IACyBA,OADzB,EACyBA,EAAUrP,eAMnC49B,GAAc,SAAC,GAAkB,IAAbn9D,EAAY,oBACpB+6D,EAAkBjE,eAA1BpgD,OACF0xC,EAAelC,KACrB,OACE,gBAACyU,GAAA,EAAD,6BAAS36D,GAAT,IAAgBkC,MAAM,kCAAtB,WACgB,OAAb64D,QAAa,IAAbA,OAAA,EAAAA,EAAet8B,UAAW2pB,EAAaxc,GAAUsX,cAChD,eAACn5B,GAAA,EAAD,CACE7nB,MAAM,sCACNa,OAAO,UACPwD,UAAWo1B,GAAa0I,OACxB1oB,KAAK,OAJP,SAME,eAAC,KAAD,CAAW5Y,OAAO,YAGR,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAer8B,SAAU0pB,EAAaxc,GAAU+X,aAC/C,eAAC55B,GAAA,EAAD,CACEhnB,OAAO,SACPwD,UAAWo1B,GAAagK,MACxBhqB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,UAGR,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAer8B,SAAU0pB,EAAaxc,GAAU+X,aAC/C,eAAC55B,GAAA,EAAD,CACE7nB,MAAM,uCACNa,OAAO,SACPwD,UAAWo1B,GAAagK,MACxBhqB,MAAM,EAJR,SAME,eAAC,KAAD,CAAW5Y,OAAO,mBAGR,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAer8B,SAAU0pB,EAAaxc,GAAU+X,aAC/C,eAAC55B,GAAA,EAAD,CACE7nB,MAAM,sCACNa,OAAO,SACPwD,UAAWo1B,GAAagK,MACxBhqB,MAAM,EAJR,SAME,eAAC,KAAD,CAAW5Y,OAAO,gBAGR,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAer8B,SACd0pB,EAAaxc,GAAU+X,aACvByE,EAAaxc,GAAU6W,cACrB,eAAC14B,GAAA,EAAD,CACE7nB,MAAM,sCACNa,OAAO,SACPwD,UAAWo1B,GAAagK,MACxBhqB,MAAM,EAJR,SAME,qCACE,eAACoO,GAAA,EAAD,CACE7nB,MAAM,IACNa,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxB9pB,KAAK,OAJP,SAME,eAAC,KAAD,CAAW5Y,OAAO,gBAKd,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAep8B,UAAWypB,EAAaxc,GAAU6W,cAChD,eAAC14B,GAAA,EAAD,CACE7nB,MAAM,sCACNa,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxB9pB,KAAK,OAJP,SAME,eAAC,KAAD,CAAW5Y,OAAO,YAGR,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAer8B,SACd0pB,EAAaxc,GAAU+X,aACvByE,EAAaxc,GAAU6W,cACvB2F,EAAaxc,GAAUqY,gBACrB,eAACl6B,GAAA,EAAD,CACE7nB,MAAM,wCACNa,OAAO,SACPwD,UAAWo1B,GAAagK,MACxBhqB,MAAM,EAJR,SAME,eAACoO,GAAA,EAAD,CACEhnB,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxB9pB,MAAM,EAHR,SAKE,qCACE,eAACoO,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa4J,SACxB5pB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,kBAMhB,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAep8B,UACdypB,EAAaxc,GAAU6W,cACvB2F,EAAaxc,GAAUqY,gBACrB,eAACl6B,GAAA,EAAD,CACE7nB,MAAM,wCACNa,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxB9pB,MAAM,EAJR,SAME,qCACE,eAACoO,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa4J,SACxB5pB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,gBAKd,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAer8B,SACd0pB,EAAaxc,GAAU+X,aACvByE,EAAaxc,GAAU6W,cACvB2F,EAAaxc,GAAUqY,gBACvBmE,EAAaxc,GAAUyX,eACrB,eAACt5B,GAAA,EAAD,CACE7nB,MAAM,uCACNa,OAAO,SACPwD,UAAWo1B,GAAagK,MACxBhqB,MAAM,EAJR,SAME,eAACoO,GAAA,EAAD,CACEhnB,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxB9pB,MAAM,EAHR,SAKE,eAACoO,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa4J,SACxB5pB,MAAM,EAHR,SAKE,qCACE,eAACoO,GAAA,EAAD,CACEhnB,OAAO,WACPwD,UAAWo1B,GAAa8I,QACxB9oB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,oBAOlB,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAep8B,UACdypB,EAAaxc,GAAU6W,cACvB2F,EAAaxc,GAAUqY,gBACvBmE,EAAaxc,GAAUyX,eACrB,eAACt5B,GAAA,EAAD,CACE7nB,MAAM,uCACNa,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxB9pB,MAAM,EAJR,SAME,eAACoO,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa4J,SACxB5pB,MAAM,EAHR,SAKE,qCACE,eAACoO,GAAA,EAAD,CACEhnB,OAAO,WACPwD,UAAWo1B,GAAa8I,QACxB9oB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,kBAMhB,OAAbg4D,QAAa,IAAbA,OAAA,EAAAA,EAAex8B,aAAc,eAACiqB,GAAA,EAAD,CAAWzlD,OAAO,aAAa4lD,UAAQ,KACvD,OAAboS,QAAa,IAAbA,OAAA,EAAAA,EAAev8B,WAAY,eAACgqB,GAAA,EAAD,CAAWzlD,OAAO,WAAW4lD,UAAQ,IACjE,eAACH,GAAA,EAAD,CAAWzlD,OAAO,YAAY4lD,UAAQ,IACtC,eAACH,GAAA,EAAD,CAAWzlD,OAAO,aAAa4lD,UAAQ,IACvC,eAAC,GAAD,SAKAyU,GAAc,SAAC,GAAkB,IAAbp9D,EAAY,oBAC9BooD,EAAelC,KACrB,OACE,uCACE,eAAC,GAAD,IACA,eAACgF,GAAA,EAAD,IACA,gBAACwP,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,eAAC,GAAD,IACCooD,EAAaxc,GAAUkY,eACtB,gBAAC6W,GAAA,EAAD,CAAKv6D,KAAK,UAAU8B,MAAM,kCAA1B,UACE,eAAC,GAAD,CACEa,OAAO,OACP+nC,OAAQ,SAACz0C,GAAD,4CACyBA,MAGnC,eAAC,GAAD,OAGH+xD,EAAaxc,GAAUyV,YACtB,eAACsZ,GAAA,EAAD,CAAKv6D,KAAK,OAAO8B,MAAM,+BAAvB,SACE,eAAC,GAAD,MAGHkmD,EAAaxc,GAAUmX,iBACtB,eAAC4X,GAAA,EAAD,CAAKv6D,KAAK,UAAU8B,MAAM,kCAA1B,SACE,eAAC,GAAD,MAGHkmD,EAAaxc,GAAUuW,gBACtB,eAACwY,GAAA,EAAD,CAAKv6D,KAAK,WAAW8B,MAAM,mCAA3B,SACE,eAAC,GAAD,cAQCm7D,GAAc,SAACr9D,GAAD,OACzB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAA1B,SACE,eAAC,GAAD,Q,6BCtnBEujD,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCs7D,GAAuB,SAACz3D,GAC5B,IAAMonB,EAAkC,GAaxC,OAZKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAOu2B,aACVnP,EAAOmP,WAAa,0BAElBmhC,OAAOC,MAAMD,OAAO13D,EAAO02B,aAC7BtP,EAAOsP,SAAW,6BAChBghC,OAAOC,MAAMD,OAAO13D,EAAO22B,gBAC7BvP,EAAOuP,YAAc,6BACnB+gC,OAAOC,MAAMD,OAAO13D,EAAOg3B,sBAC7B5P,EAAO4P,kBAAoB,6BACtB5P,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,uCAGb4jE,GAAe,SAAC59D,GAC3B,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,eAAC,KAAD,6BAAYvV,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAUq6C,GACV5xD,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACkkC,GAAA,EAAD,CACEnmD,OAAO,QACPE,QAASzO,OAAOiQ,QAAQo3B,IAAe5+B,KAAI,gBAAE5G,EAAF,2BAAc,CACvDuG,GAAIvG,EACJkG,KAAK,yBAAD,OAA2BlG,SAGnC,eAAC8yD,GAAA,EAAD,CACEpmD,OAAO,aACPtL,aAAc,KACd8O,UAAWo1B,GAAawI,UACxB1jB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B9jC,YAAU,EANZ,SAQE,eAAC,GAAD,CACEve,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAG9D,eAACqP,GAAA,EAAD,CAAcp1D,OAAO,eAAe86D,gBAAc,IAClD,eAAC1F,GAAA,EAAD,CAAcp1D,OAAO,kBACrB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,WAAWtL,aAAc,IAC3C,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,gBAClB,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,gCACrB,eAACg3D,GAAA,EAAD,CACEh3D,OAAO,cACP5J,KAAK,OACL0rB,OAAQulB,GACRp0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,KAEnD,eAAC6yD,GAAA,EAAD,CACEnmD,OAAO,mBACPE,QAAO,CACL,CAAErG,GAAI,KAAML,KAAM,QADb,oBAEF/H,OAAOiQ,QAAQq3B,IAAW7+B,KAAI,gBAAE5G,EAAF,2BAAc,CAC7CuG,GAAIvG,EACJkG,KAAK,6BAAD,OAA+BlG,WAIzC,eAAC4yD,GAAA,EAAD,CAAWlmD,OAAO,oBAAoBtL,aAAc,IACpD,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,UAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,iBAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,2BACPE,QAASzO,OAAOiQ,QAAQm3B,IAAmC3+B,KACzD,gBAAE5G,EAAF,2BAAc,CACZuG,GAAIvG,EACJkG,KAAK,4CAAD,OAA8ClG,gBCvF1DynE,GAAqB,SAAC/3D,GAC1B,IAAMonB,EAAkC,GAaxC,OAZKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAOu2B,aACVnP,EAAOmP,WAAa,0BAElBmhC,OAAOC,MAAMD,OAAO13D,EAAO02B,aAC7BtP,EAAOsP,SAAW,6BAChBghC,OAAOC,MAAMD,OAAO13D,EAAO22B,gBAC7BvP,EAAOuP,YAAc,6BACnB+gC,OAAOC,MAAMD,OAAO13D,EAAOg3B,sBAC7B5P,EAAO4P,kBAAoB,6BACtB5P,GAOH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,kCADb,YACkD0c,QADlD,IACkDA,OADlD,EACkDA,EAAQ9Z,GAD1D,IAC+D,IAD/D,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQna,KAAM,QAKfyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B+7D,GAAa,SAACj+D,GACzB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,eAAC,KAAD,6BAAUvV,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU26C,GAHZ,UAKE,eAAC,KAAD,CAAW/6D,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACkkC,GAAA,EAAD,CACEnmD,OAAO,QACPE,QAAO,CACL,CAAErG,GAAI,KAAML,KAAM,QADb,oBAEF/H,OAAOiQ,QAAQo3B,IAAe5+B,KAAI,gBAAE5G,EAAF,2BAAc,CACjDuG,GAAIvG,EACJkG,KAAK,yBAAD,OAA2BlG,WAIrC,eAAC8yD,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAawI,UACxB1jB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B9jC,YAAU,EALZ,SAOE,eAAC,GAAD,CACEve,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAG9D,eAACqP,GAAA,EAAD,CAAcp1D,OAAO,iBACrB,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,kBACrB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,gBAClB,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,gCACrB,eAACg3D,GAAA,EAAD,CACEh3D,OAAO,cACP5J,KAAK,OACL0rB,OAAQulB,GACRp0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,KAEnD,eAAC6yD,GAAA,EAAD,CACEnmD,OAAO,mBACPE,QAAO,CACL,CAAErG,GAAI,KAAML,KAAM,QADb,oBAEF/H,OAAOiQ,QAAQq3B,IAAW7+B,KAAI,gBAAE5G,EAAF,2BAAc,CAC7CuG,GAAIvG,EACJkG,KAAK,6BAAD,OAA+BlG,WAIzC,eAAC4yD,GAAA,EAAD,CAAWlmD,OAAO,sBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,iBAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,2BACPE,QAAO,CACL,CAAErG,GAAI,KAAML,KAAM,QADb,oBAEF/H,OAAOiQ,QAAQm3B,IAAmC3+B,KACnD,gBAAE5G,EAAF,2BAAc,CACZuG,GAAIvG,EACJkG,KAAK,4CAAD,OAA8ClG,kBC3GnD6nE,GAbK,SAACl+D,GACnB,IAAMhG,EAAYC,cACViI,EAA0ClC,EAA1CkC,MAAOC,EAAmCnC,EAAnCmC,SAAUY,EAAyB/C,EAAzB+C,OAAyB/C,EAAjBvI,aACjC,OACE,eAACy9D,GAAA,EAAD,CACEp3C,MAAO,CAAE1Y,aAAc,OACvBlD,MAAOlI,EAAU,aAAD,OACDmI,EADC,mBAC4BD,GAASa,OCIrDo7D,GAAgB,SAACn+D,GAAD,OACpB,gBAAC,KAAD,6BAAYA,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IACjC,eAACwwB,GAAA,EAAD,CACEnmD,OAAO,QACPE,QAASzO,OAAOiQ,QAAQo3B,IAAe5+B,KAAI,gBAAE5G,EAAF,2BAAc,CACvDuG,GAAIvG,EACJkG,KAAK,yBAAD,OAA2BlG,SAGnC,eAAC4yD,GAAA,EAAD,CAAWlmD,OAAO,eAClB,eAAC,GAAD,CAAaA,OAAO,iBACpB,eAAC,GAAD,CAAaA,OAAO,kBACpB,eAAC,GAAD,CAAaA,OAAO,qCAIXwyD,GAAa,SAACv1D,GACzB,IAAMhG,EAAYC,cACZP,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,eAAC,KAAD,2BACEtlC,QAAS,GACTqY,UAAU,EACVe,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,OACrD3oC,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,SACxB9iB,GALN,IAME45B,mBAAmB,EACnBxB,QAAS,eAAC,GAAD,IACTjW,UAAWimC,EAAaxc,GAAUyW,iBARpC,SAUE,gBAAC,KAAD,CAAU0G,SAAU,SAACnsD,GAAD,gBAAW++B,GAAawH,SAAxB,YAAoCvmC,EAApC,UAApB,UACE,eAAC,KAAD,CAAWmG,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,QACP1C,OAAQ,SAACqW,GAAD,OACN1c,EAAU,yBAAD,cAA0B0c,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAQ0lB,WAG/C,eAAC,KAAD,CAAWr5B,OAAO,gBAChB+lD,GAAe,eAACN,GAAA,EAAD,CAAWzlD,OAAO,gBACjC+lD,GAAe,eAACN,GAAA,EAAD,CAAWzlD,OAAO,qBCnDrCu6D,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCk8D,GAAwB,SAACr4D,GAC7B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,uCAGbqkE,GAAgB,SAACr+D,GAAD,OAC3B,eAAC,KAAD,6BAAYA,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAUi7C,GACVxyD,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,kBC1BrBu7D,GAAsB,SAACv4D,GAC3B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAOH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,kCADb,YACkD0c,QADlD,IACkDA,OADlD,EACkDA,EAAQ9Z,GAD1D,IAC+D,IAD/D,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQna,KAAM,QAKfyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3Bq8D,GAAc,SAACv+D,GAAD,OACzB,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUm7C,GAHZ,UAKE,eAAC,KAAD,CAAWv7D,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,kBCvCrBy7D,GAAkB,SAACx+D,GAAD,OACtB,eAAC,KAAD,6BAAYA,GAAZ,aACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,QAIxB+lC,GAAc,SAACz+D,GAC1B,IAAMhG,EAAYC,cACZmuD,EAAelC,KACrB,OACE,eAAC,KAAD,2BACEtlC,QAAS,GACTqY,UAAU,EACVe,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,OACrD3oC,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,SACxB9iB,GALN,IAME45B,mBAAmB,EACnBxB,QAAS,eAAC,GAAD,IACTjW,UAAWimC,EAAaxc,GAAU0Y,iBARpC,SAUE,gBAAC,KAAD,CAAUyE,SAAU,SAACnsD,GAAD,gBAAW++B,GAAauK,SAAxB,YAAoCtpC,EAApC,UAApB,UACE,eAAC,KAAD,CAAWmG,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACqW,GAAD,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQzD,QAASjZ,EAAU,aAAeA,EAAU,sBCd1D++D,GAAY,SAACpgE,GACjB,IAAgBihB,EAAYjhB,EAApB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,kCADb,YACkD4f,QADlD,IACkDA,OADlD,EACkDA,EAAShd,GAD3D,IACgE,IADhE,OAEGgd,QAFH,IAEGA,OAFH,EAEGA,EAASrd,SAKVy8D,GAAiB,WACrB,IAAgBp/C,EAAYk9C,eAApBpgD,OACF0xC,EAAelC,KACrB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAS,YACT9K,OAAQkD,EACRA,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAUyY,uBAOtCqa,GAAc,SAAC1+D,GACnB,IAAgB4Z,EAAY5Z,EAApB0W,OACF1c,EAAYC,cACZmuD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEnDklD,EAAkB,kBACtB,eAAC,GAAD,UACE,eAACxR,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAIrC,OACE,gBAACgiC,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAM,kCAAX,UACE,eAAC,KAAD,CAAWa,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACsV,GAAD,OACN,gCACI,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG1C,QAASjZ,EAAU,aAAeA,EAAU,iBAItD,eAAC,GAAD,OAEDouD,EAAaxc,GAAUuW,gBACtB,eAACwY,GAAA,EAAD,CAAKv6D,KAAK,WAAW8B,MAAM,mCAA3B,SACE,qCACE,gBAAC,GAAD,CACEC,SAAUw5B,GAAawH,SACvBpgC,OAAO,cACPkvD,KAAM7J,EAAaxc,GAAUwW,eAAiB,OAAS,OACvDiU,aAAa,iBACbC,aAAa,iBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjCquB,UAAWlpB,EAAE/Y,GACbmmC,YAAavyB,IAEfgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjCquB,UAAWlpB,EAAE/Y,GACbmmC,YAAavyB,IAEfimD,uBAAwB,SAACr+B,GAAD,OACO,KAAtB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASwU,kBAEXxU,QAAS,eAACqiC,EAAD,IACT5D,oBAAqB,CACnBh4B,UAAS,OAAEjlB,QAAF,IAAEA,OAAF,EAAEA,EAAShd,GACpBgwC,iBAAiB,GAEnBnsB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,UAChB+lD,GACA,eAACT,GAAA,EAAD,CACEtlD,OAAO,QAEP1C,OAAQ,SAACsV,GAAD,OACN3b,EAAU,yBAAD,cAA0B2b,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAGymB,UAFpC,UAMN0sB,GACA,eAAC,KAAD,CAAW/lD,OAAO,cAAiB,0BAUtC47D,GAAc,SAAC3+D,GAAD,OACzB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QC3HE8iE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlC08D,GAAyB,SAAC74D,GAC9B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOu5B,YACVnS,EAAOmS,UAAY,0BAEhBv5B,EAAOw5B,WACVpS,EAAOoS,SAAW,0BAEbpS,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,wCAGb6kE,GAAkB,SAAC7+D,GAAD,OAC7B,eAAC,KAAD,6BAAYA,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAUy7C,GACVhzD,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,YAAYiiB,YAAU,IACxC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,WAAWiiB,YAAU,IACvC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,YAClB,eAACg3D,GAAA,EAAD,CAAeh3D,OAAO,cACtB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,eACPE,QAASzO,OAAOiQ,QAAQy5B,IAAsBjhC,KAAI,gBAAE5G,EAAF,2BAAc,CAC9DuG,GAAIvG,EACJkG,KAAK,wCAAD,OAA0ClG,SAGlD,eAAC4yD,GAAA,EAAD,CAAWlmD,OAAO,UAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,mBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,gBAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,SACPE,QAASzO,OAAOiQ,QAAQ05B,IAAQlhC,KAAI,gBAAE5G,EAAF,2BAAc,CAChDuG,GAAIvG,EACJkG,KAAK,0BAAD,OAA4BlG,gBC9CpCyoE,GAAuB,SAAC/4D,GAC5B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOu5B,YACVnS,EAAOmS,UAAY,0BAEhBv5B,EAAOw5B,WACVpS,EAAOoS,SAAW,0BAEbpS,GAOH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmD0c,QADnD,IACmDA,OADnD,EACmDA,EAAQ9Z,GAD3D,IACgE,IADhE,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQ4oB,UAFX,WAEuB5oB,QAFvB,IAEuBA,OAFvB,EAEuBA,EAAQ6oB,aAK7By+B,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B68D,GAAe,SAAC/+D,GAAD,OAC1B,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU27C,GAHZ,UAKE,eAAC,KAAD,CAAW/7D,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,YAAYiiB,YAAU,IACxC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,WAAWiiB,YAAU,IACvC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,YAClB,eAACg3D,GAAA,EAAD,CAAeh3D,OAAO,cACtB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,eACPE,QAASzO,OAAOiQ,QAAQy5B,IAAsBjhC,KAAI,gBAAE5G,EAAF,2BAAc,CAC9DuG,GAAIvG,EACJkG,KAAK,wCAAD,OAA0ClG,SAGlD,eAAC4yD,GAAA,EAAD,CAAWlmD,OAAO,UAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,mBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,gBAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,SACPE,QAASzO,OAAOiQ,QAAQ05B,IAAQlhC,KAAI,gBAAE5G,EAAF,2BAAc,CAChDuG,GAAIvG,EACJkG,KAAK,0BAAD,OAA4BlG,gB,wBC5E7B2oE,GAAY,SAAC,GAAyC,IAAvCj8D,EAAsC,EAAtCA,OAAWtJ,EAA2B,mBAC1Did,EAASsR,eACTi3C,EAAevoD,EAAO3T,GAAP,6BAEZ2T,GAFY,mBAGd3T,ECLqB,SAACm8D,EAAcC,GAC3C,IAAMC,EAAaF,EAAKzqD,UAAU,EAAG0qD,GAC/BE,EAAYH,EAAK/2C,OAAOg3C,GACxBG,EAAkBJ,EAAKnqE,OAASqqE,EAAWrqE,OAASsqE,EAAUtqE,OACpE,MAAM,GAAN,OAAUqqE,GAAV,OAAuB,IAAIG,OACzBD,EAAkB,EAAIA,EAAkB,IAD1C,OAEID,GDDsBG,CAAe9oD,EAAO3T,GAAmB,KAE/D2T,EACJ,OAAO,eAAC,KAAD,6BAAejd,GAAf,IAAqBid,OAAQuoD,EAAcl8D,OAAQA,MEMtD08D,GAAe,SAAC,GAAkB,IAAbz/D,EAAY,oBAC/BtG,EAAQsP,eACR02D,EAAcpqD,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,gBAAC,KAAD,6BACMvV,GADN,IAEE+oD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAagI,UAAxB,YAAqC/mC,EAArC,UACVk+B,gBAAgB,EAHlB,UAKE,eAAC,KAAD,CAAW/3B,OAAO,cAClB,eAAC,KAAD,CAAWA,OAAO,aACjB28D,GACC,eAACrX,GAAA,EAAD,CACEtlD,OAAO,iBACP1C,OAAQ,SAACqW,GAAD,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQkpB,OACN,eAAC,GAAD,CAAW78B,OAAO,UAElB,eAAC,GAAD,CAAWA,OAAO,uBAKxB28D,GAAe,eAAC,GAAD,CAAW38D,OAAO,WACjC28D,GAAe,eAAC,GAAD,CAAW38D,OAAO,wBAKnC48D,GAAkB,SAAC3/D,GAAD,OACtB,gBAAC,KAAD,6BAAYA,GAAZ,cACE,eAAC,KAAD,CAAa+C,OAAO,OAAO21B,UAAQ,IACnC,eAACuwB,GAAA,EAAD,CAAWlmD,OAAO,cAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,wBAIT68D,GAAe,SAAC5/D,GAAD,OAC1B,eAAC,KAAD,6BACMA,GADN,IAEEi5B,UAAU,EACVxY,KAAM,CAAE5d,MAAO,WAAYigB,MAAO,OAClCsV,QAAS,eAAC,GAAD,IACTxX,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MANvD,SAQE,eAAC,GAAD,Q,sBClCE2P,GAAY,SAACpgE,GACjB,IAAgBi2C,EAAaj2C,EAArB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmD40C,QADnD,IACmDA,OADnD,EACmDA,EAAUhyC,GAD7D,IACkE,IADlE,OAEGgyC,QAFH,IAEGA,OAFH,EAEGA,EAAUtP,UAFb,WAEyBsP,QAFzB,IAEyBA,OAFzB,EAEyBA,EAAUrP,aAKjCy5B,GAAiB,WACrB,IAAgBpqB,EAAakoB,eAArBpgD,OACF0xC,EAAelC,KACrB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAagI,WAC3BjtB,OAAQk4B,EACRh1B,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAUoX,wBAO/B6c,GAAqB,SAAC,GAGH,IAAD,IAF7BzG,sBAE6B,SAD1Bp5D,EAC0B,mBACb4uC,EAAakoB,eAArBpgD,OACF1c,EAAYC,cAElB,OACE,gBAACo/D,GAAA,EAAD,6BAAsBr5D,GAAtB,cACE,eAAC,KAAD,CAAW+C,OAAO,cAClB,eAAC,KAAD,CAAWA,OAAO,cACT,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAUpP,UAAW,eAAC,KAAD,CAAWz8B,OAAO,aAC/B,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAUnP,YACT,eAAC+oB,GAAA,EAAD,CACEzlD,OAAO,YACPQ,QAAS,CAAE64D,IAAK,UAAWC,MAAO,UAAWC,KAAM,cAG9C,OAAR1tB,QAAQ,IAARA,OAAA,EAAAA,EAAUlP,eACT,eAAC2oB,GAAA,EAAD,CACEtlD,OAAO,eACP1C,OAAQ,SAACsV,GAAD,OACN,+BACG3b,EAAU,wCAAD,cACgC2b,QADhC,IACgCA,OADhC,EACgCA,EAAG+pB,qBAM5C,OAARkP,QAAQ,IAARA,OAAA,EAAAA,EAAUhP,OACT,eAAC,KAAD,CAAW78B,OAAO,UAElB,eAAC,KAAD,CAAWA,OAAO,oBAEX,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAU9O,cAAe,eAAC,KAAD,CAAW/8B,OAAO,iBACnC,OAAR6rC,QAAQ,IAARA,OAAA,EAAAA,EAAU7O,SACT,eAACsoB,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACsV,GAAD,OACN,+BAAM3b,EAAU,0BAAD,cAA2B2b,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAGoqB,cAIlDq5B,GAAkB,eAAC,GAAD,SAKnB0G,GAAe,SAAC9/D,GACpB,IAAMtG,EAAQsP,eACd,OACE,eAAC,KAAD,6BACMhJ,GADN,IAEE4gB,QAAS,GACTqY,UAAU,EACVe,WACE1kB,aAAc5b,EAAM2P,YAAYqhB,GAAG,OACjC,eAACq9B,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,OAEzC,eAAC,GAAD,IAGJ3oC,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,QAC5B8W,mBAAmB,EAZrB,SAcE,gBAAC,KAAD,CAAUmvB,SAAU,SAACnsD,GAAD,iBAAY++B,GAAa4H,SAAzB,YAAqC3mC,EAArC,UAApB,UACE,eAAC,KAAD,CAAWmG,OAAO,OAClB,eAACgnB,GAAA,EAAD,CACEhnB,OAAO,UACPwD,UAAWo1B,GAAa0I,OACxB1oB,MAAM,EAHR,SAKE,eAAC0sC,GAAA,EAAD,CACEhoD,OAAQ,kBACN,iCACG,IACD,eAAC,KAAD,CAAW0C,OAAO,OAFpB,KAE6B,eAAC,KAAD,CAAWA,OAAO,SAF/C,KAGE,eAACylD,GAAA,EAAD,CAAWzlD,OAAO,cAHpB,IAGoC,YAK1C,eAACgnB,GAAA,EAAD,CACExjB,UAAWo1B,GAAauK,SACxBnjC,OAAO,YACP4Y,MAAM,EAHR,SAKE,eAAC,KAAD,CAAW5Y,OAAO,kBAOfg9D,GAAc,WACzB,MAAuCjJ,eAAvBloB,EAAhB,EAAQl4B,OAAkB8K,EAA1B,EAA0BA,SAE1B,OACE,eAACirC,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa4H,SAA7C,SACE,eAAC,GAAD,CACE/hB,SAAUA,EACVpS,OAAQ,CAAEwvB,WAAU,OAAEgQ,QAAF,IAAEA,OAAF,EAAEA,EAAUhyC,IAChCw7B,aAAS/jC,EACT0lB,SAAS,EACTvf,MAAM,SAMDwlE,GAAU,WACrB,MAAuClJ,eAAvBloB,EAAhB,EAAQl4B,OAAkB8K,EAA1B,EAA0BA,SAC1B,OACE,eAACirC,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAaoK,YAA7C,SACE,eAAC,GAAD,CACEvkB,SAAUA,EACVpS,OAAQ,CAAEwvB,WAAU,OAAEgQ,QAAF,IAAEA,OAAF,EAAEA,EAAUhyC,IAChCw7B,aAAS/jC,EACT0lB,SAAS,EACTvf,MAAM,SAMRylE,GAAe,SAAC,GAAkB,IAAbjgE,EAAY,oBACrB4uC,EAAakoB,eAArBpgD,OACF1c,EAAYC,cACZmuD,EAAelC,KACfga,EAAiBvmE,mBACrB,kBAAc,OAARi1C,QAAQ,IAARA,OAAA,EAAAA,EAAU5Q,cAAe4Q,EAAS5Q,YAAYjpC,OAAS,IAC7D,CAAC65C,IAEH,OACE,gBAAC8rB,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,eAAC26D,GAAA,EAAD,CAAKz4D,MAAOlI,EAAU,oCAAtB,SACE,eAAC,GAAD,CAAoBo/D,gBAAc,MAEnC8G,GAAkB9X,EAAaxc,GAAUgX,gBACxC,eAAC+X,GAAA,EAAD,CACEv6D,KAAK,WACL8B,MAAOlI,EAAU,qCAFnB,SAIE,eAAC,GAAD,MAGHkmE,GAAkB9X,EAAaxc,GAAUyV,YACxC,eAACsZ,GAAA,EAAD,CAAKv6D,KAAK,OAAO8B,MAAOlI,EAAU,iCAAlC,SACE,eAAC,GAAD,WAOGmmE,GAAsB,SAACngE,GAAD,OACjC,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QCvME4lE,GAA+B,SAACr6D,GACpC,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,gDAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3Bm+D,GAAuB,SAACrgE,GACnC,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,eAAC,KAAD,6BAAYlmD,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAUi9C,GACVx0D,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IAClCojC,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,WACPtL,aAAc,KACd8O,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,gBCvClEwX,GAA6B,SAACv6D,GAClC,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAOHozC,GAAsB,SAAC5nE,GAC3B,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,2CADb,YAC2D0c,QAD3D,IAC2DA,OAD3D,EAC2DA,EAAQ9Z,GADnE,IACwE,IADxE,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQna,KAAM,QAKfyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCs+D,GAAiB,SAAC,GAAkB,IAAbxgE,EAAY,oBACvBgvC,EAAmByxB,eAA3B/pD,OACFhd,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEkrB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUm9C,GAJZ,UAME,eAAC,KAAD,CAAWv9D,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IAClCojC,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,WACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B15C,OAAQ,CAAE0/B,MAAK,OAAEE,QAAF,IAAEA,OAAF,EAAEA,EAAgBpyC,IALnC,SAOE,eAAC,GAAD,CACE6J,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQzD4X,GAAqB,SAAC1gE,GAAD,OAChC,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QCtEEmmE,GAAwB,SAAC3gE,GAC7B,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,gBAAC,KAAD,6BAAYlmD,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IAChC0vB,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,WACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQhE8X,GAAqB,SAAC,GAAkB,IAAb5gE,EAAY,oBACrCooD,EAAelC,KACrB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEW,KAAK,QACLooD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAaoI,kBAAxB,YAA6CnnC,EAA7C,UACVk+B,gBAAgB,EAJlB,UAME,eAAC,KAAD,CAAW/3B,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SACjBqlD,EAAaxc,GAAU0Z,yBACtB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,WACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,gBAOf89D,GAAqB,SAAC,GAAD,IAAM7gE,EAAN,2BAChC,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IALX,SAOE,eAAC,GAAD,QCrDE2gC,GAAY,SAACpgE,GACjB,IAAgBq2C,EAAmBr2C,EAA3B+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,2CADb,IAC0D,IAD1D,OAEGg1C,QAFH,IAEGA,OAFH,EAEGA,EAAgBpyC,GAFnB,YAEyBoyC,QAFzB,IAEyBA,OAFzB,EAEyBA,EAAgBzyC,SAKvCy8D,GAAiB,WACrB,IAAgBhqB,EAAmB8nB,eAA3BpgD,OAER,OACE,uCACE,eAACw0C,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAaoI,mBAC3BrtB,OAAQs4B,EACRp1B,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,eAOrBwiE,GAAiB,SAAC,GAAkB,IAAb9gE,EAAY,oBACvBgvC,EAAmB8nB,eAA3BpgD,OACF0xC,EAAelC,KAErB,OACE,gBAACmT,GAAA,EAAD,6BAAsBr5D,GAAtB,cACE,eAAC,KAAD,CAAWkC,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,UACH,OAAdisC,QAAc,IAAdA,OAAA,EAAAA,EAAgB9+B,WACfk4C,EAAaxc,GAAU0Z,yBACrB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,WACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,WAGxB,eAAC,GAAD,SAKOg+D,GAAqB,SAAC/gE,GAAD,OAChC,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,S,StB5EQqgE,K,kBAAAA,E,cAAAA,E,eAAAA,Q,KuBwBZ,ICxBYmG,GDwBNC,GAAyB,SAACl7D,GAC9B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAO8pC,UACV1iB,EAAO0iB,QAAU,0BAEZ1iB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,wCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCg/D,GAAW,SAAC,GAAkB,IAAblhE,EAAY,oBAC3BtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEkrB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU89C,GAJZ,UAME,eAAChY,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAAUiiB,YAAU,IACrCojC,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACI,GAAA,EAAD,CACEnmD,OAAO,kBACPtL,aAAcojE,GAAiBsG,QAC/Bl+D,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,cAOvC+qE,GAAiB,SAACphE,GAAD,OAC5B,eAAC,KAAD,6BAAYA,GAAZ,IAAmBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAA1C,SACE,eAAC,GAAD,QE9DE6mE,GAAuB,SAACt7D,GAC5B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAO8pC,UACV1iB,EAAO0iB,QAAU,0BAEZ1iB,GAOH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmD0c,QADnD,IACmDA,OADnD,EACmDA,EAAQ9Z,GAD3D,IACgE,IADhE,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQna,KAAM,QAKfyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCg/D,GAAW,SAAC,GAAkB,IAAblhE,EAAY,oBAC3BtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEkrB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUk+C,GAJZ,UAME,eAAC,KAAD,CAAWt+D,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACylD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGZ,eAACzC,GAAA,EAAD,CAAWlmD,OAAO,UAAUiiB,YAAU,IACrCojC,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACI,GAAA,EAAD,CACEnmD,OAAO,kBACPE,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,cAOvCirE,GAAe,SAACthE,GAAD,OAC1B,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QC/FE+mE,GAAkB,SAACvhE,GACvB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BAAYlmD,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IAChC0vB,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEjnD,MAAM,oCACNa,OAAO,4BACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQzD0Y,GAAe,SAAC,GAA6B,IAAxBxhE,EAAuB,oBACjDtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,eAAC,KAAD,6BACMlmD,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IACTwB,mBAAmB,EANrB,SAQE,gBAAC,KAAD,CACEj5B,KAAK,QACLooD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAakI,UAAxB,YAAqCjnC,EAArC,UAFZ,UAIE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,UAChB+lD,GAAe,eAAC,KAAD,CAAW/lD,OAAO,YAClCqlD,EAAaxc,GAAU0Z,yBACtB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,kB,uEFvElBi+D,O,iBAAAA,I,iBAAAA,I,kBAAAA,I,kBAAAA,I,gBAAAA,I,4BAAAA,I,wBAAAA,I,kBAAAA,I,kBAAAA,I,sBAAAA,I,oBAAAA,I,sBAAAA,I,8BAAAA,I,qBAAAA,Q,KGUZ,ICVYS,GDUNt2B,GACJ,CACE,EAAK,SAACu2B,GAAD,OAAkBA,GACvB,EAAK,SAACA,GAAD,OAAkBA,GACvB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,GACxB,GAAM,SAACA,GAAD,OAAkBA,IAgBbC,GAbM,SAACD,EAAmB7rE,GAAqB,IAAD,MACrD+rE,EAAanE,OAAM,OAACiE,QAAD,IAACA,GAAD,UAACA,EAAcG,cAAf,aAAC,EAAsBC,QAC1CC,EAAc,UAAGvtE,OAAOiQ,QAAQu8D,IAAmB5xD,QAEvD,uDAA8BwyD,YAFZ,iBAAG,EAGnB,UAHgB,aAAG,EAGd,GACT,IAAKG,EACH,OAAO,KAET,IAAMC,EAAkB,cAAKplE,GAAI/G,GAAQ6rE,GACzC,OAAOv2B,GAAQ42B,GAAgBC,IEK3B7mE,GAAYgC,aAAW,SAACzD,GAAD,MAAmB,CAC9CuoE,8BAA+B,CAC7B50D,cAAe,EACf,gBAAiB,CACfxC,WAAY,GAEd,eAAe,cACbwC,cAAe,GACd3T,EAAM2P,YAAYgc,KAAK,MAAQ,CAC9BhY,cAAe,KAIrB60D,uBAAwB,CACtBC,UAAW,QACXC,YAAa,QACbj1D,WAAY,QACZk1D,qBAAsB,EACtB7jD,oBAAqB,EACrBpX,gBAAiB1N,EAAMN,QAAQ8N,MAAMC,KACrCm7D,eAAgB5oE,EAAMN,QAAQ8N,MAAMC,KACpCo7D,iBAAkB7oE,EAAMN,QAAQ8N,MAAMC,KACtCq7D,gBAAiB9oE,EAAMN,QAAQ8N,MAAMC,MAEvCs7D,wBAAyB,CACvBriD,aAAc,QACdgiD,YAAa,QACbj1D,WAAY,QACZu1D,wBAAyB,EACzBjkD,uBAAwB,EACxBkkD,kBAAmBjpE,EAAMN,QAAQ8N,MAAMC,KACvCo7D,iBAAkB7oE,EAAMN,QAAQ8N,MAAMC,KACtCq7D,gBAAiB9oE,EAAMN,QAAQ8N,MAAMC,UAInCy7D,GAAmB,SAAC5iE,GACxB,IAAMhG,EAAYC,cACZiB,EAAUC,KACR0nE,EAA6C7iE,EAA7C6iE,WAAYC,EAAiC9iE,EAAjC8iE,mBAAoBxpE,EAAa0G,EAAb1G,SAClCypE,EAAwBtF,OAC5BoF,EAAWrnC,SAASwnC,cACpBzuD,SAAS,IACL0uD,EAA4BxF,OAChCoF,EAAWrnC,SAAShB,QAAQ0oC,mBAGxBC,EAA0B,UAC7BF,GAA6B,EAAK,IADL,YAEA,IAA5BA,GACEG,EAAmB,6BACpBP,GADoB,IAEvBrnC,SAAS,6BACJqnC,EAAWrnC,UADR,IAENwnC,aAAcD,EACdvoC,QAAQ,6BACHqoC,EAAWrnC,SAAShB,SADlB,IAEL0oC,kBAAmBC,QAInBE,EAAO,SAAC,GAAD,IAAMC,EAAN,2BACX,gBAAC3Y,GAAA,EAAD,CACEltC,WAAS,EACTS,UAAU,MACVu7C,QAAQ,eACRv6D,WAAW,aAJb,eAMgB7K,IAAbiF,GACCA,EAAS2D,KAAI,SAACwT,EAAOgJ,GACnB,IAAc,IAAVhJ,EACF,OAEE,cADA,CACCk6C,GAAA,EAAD,CAAMr7C,MAAI,EAAai0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAAzC,SACE,eAACuY,GAAA,EAAD,CAAuBntE,MAAO+sE,EAA9B,SACG3yD,KAFWgJ,MASxB,eAACkxC,GAAA,EAAD,CAAMr7C,MAAI,EAA2B27C,GAAI,GAAzC,SACE,eAACC,GAAA,EAAD,KADa,uBAGf,eAACP,GAAA,EAAD,CAAMr7C,MAAI,EAA0Bi0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAAtD,SACE,eAACoO,GAAA,EAAD,6BACMiK,GADN,IAEEnnE,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,gBACP1C,OAAQ,SAACqW,GAAD,aACN,+BACG1c,EAAU,4CAAD,cACoC0c,QADpC,IACoCA,GADpC,UACoCA,EAAQmrD,cAD5C,aACoC,EAAgBC,kBAVzD,sBAiBf,eAACnX,GAAA,EAAD,CAAMr7C,MAAI,EAA2Bi0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAAvD,SACE,eAACoO,GAAA,EAAD,6BACMiK,GADN,IAEEnnE,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC,KAAD,CAAWl/D,OAAO,uBALP,uBAQf,eAAC4nD,GAAA,EAAD,CAAMr7C,MAAI,EAA+Bi0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAA3D,SACE,eAACoO,GAAA,EAAD,6BACMiK,GADN,IAEEnnE,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACzZ,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,iBAdD,2BAmBf,eAACf,GAAA,EAAD,CAAMr7C,MAAI,EAAgCi0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAA5D,SACE,eAACoO,GAAA,EAAD,6BACMiK,GADN,IAEEnnE,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC,KAAD,CAAWl/D,OAAO,8BALP,4BAQf,eAAC4nD,GAAA,EAAD,CAAMr7C,MAAI,EAAqCi0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAAjE,SACE,eAACoO,GAAA,EAAD,6BACMiK,GADN,IAEEnnE,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC,KAAD,CAAWl/D,OAAO,2CALP,iCAQf,eAAC4nD,GAAA,EAAD,CAAMr7C,MAAI,EAAgCi0D,GAAI,EAAGj6D,GAAI,EAAG2hD,GAAI,GAA5D,SACE,eAACoO,GAAA,EAAD,6BACMiK,GADN,IAEEnnE,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC,KAAD,CAAWl/D,OAAO,sCALP,gCAWnB,OACE,eAACygE,GAAA,EAAD,CAAuBntE,MAAO+sE,EAA9B,SACE,gBAAC/J,GAAA,EAAD,CAAkBl3D,SAAS,UAA3B,WACI2gE,GACA,qCACE,eAACxjB,GAAA,EAAD,CAAKl6C,aAAc,EAAnB,SACE,eAAC,KAAD,CAAWwU,QAAQ,KAAK7W,OAAO,qBAIrC,eAACsgE,EAAD,UAMFI,GAAe,SAACzjE,GAA8B,IAAD,kBACzC6iE,EAAe7iE,EAAf6iE,WACF7oE,EAAYC,cACZiB,EAAUC,KAEhB,OACE,gBAAC,GAAD,6BAAsB6E,GAAtB,mBAE+C3L,KAA5C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA4Ba,aAC5B,eAACrK,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAChN,GAAA,EAAD,CAASlyD,OAAO,mBAAhB,SACE,qCACE,eAAC4gE,GAAA,EAAD,CAAgB57D,UAAWsC,KAA3B,SACE,gBAACu5D,GAAA,EAAD,CAAOjjE,KAAK,QAAZ,UACE,eAACkjE,GAAA,EAAD,UACE,gBAAC5P,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,SACGlH,EAAU,8CAEb,eAACk6D,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,SACGlH,EAAU,oDAIjB,eAACsxD,GAAA,EAAD,WACG,OAAEuX,QAAF,IAAEA,OAAF,EAAEA,EAA4Ba,YAAyBzmE,KACtD,SAAC5G,EAAOojB,GAAR,OAEE,eADA,CACCw6C,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,UACIuY,EAAQ,GAAGlF,aAEf,eAAC2/C,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,SACE,eAACkzD,GAAA,EAAD,CAAUt2C,MAAO,CAAExc,QAAS,GAAKksD,QAASn3D,QAL/BojB,wBAiBgBplB,KAAhD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA4BiB,iBAC5B,eAACzK,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAChN,GAAA,EAAD,CAASlyD,OAAO,uBAAhB,SACE,qCACE,eAAC4gE,GAAA,EAAD,CAAgB57D,UAAWsC,KAA3B,SACE,gBAACu5D,GAAA,EAAD,CAAOjjE,KAAK,QAAZ,UACE,eAACkjE,GAAA,EAAD,UACE,gBAAC5P,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,SACGlH,EACC,iDAGJ,eAACk6D,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,SACGlH,EACC,wDAKR,eAACsxD,GAAA,EAAD,WACG,OACEuX,QADF,IACEA,OADF,EACEA,EAA4BiB,gBAC7B7mE,KAAI,SAAC5G,EAAOojB,GAAR,OAEJ,eADA,CACCw6C,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,UACIuY,EAAQ,GAAGlF,aAEf,eAAC2/C,GAAA,EAAD,CAAWhzD,MAAM,SAAjB,SACE,eAACD,GAAA,EAAD,UACGjH,EAAU,oCAAD,OAC4B3D,UAP7BojB,wBAsBkBplB,KAAhD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6BkB,gBAC7B,eAAC1K,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,gBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,4CAAD,cACoC0c,QADpC,IACoCA,OADpC,EACoCA,EAAQqtD,4BAOd1vE,KAAjD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6BmB,iBAC7B,eAAC3K,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,iBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,4CAAD,cACoC0c,QADpC,IACoCA,OADpC,EACoCA,EAAQqtD,4BAOnB1vE,KAA5C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6BoB,YAC7B,eAAC5K,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,qBAGwB1O,KAAhD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6BsB,gBAC7B,eAAC9K,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,gBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,8CAAD,cACsC0c,QADtC,IACsCA,OADtC,EACsCA,EAAQytD,4BAOjB9vE,KAAhD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6BuB,gBAC7B,eAAC/K,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,yBAG0B1O,KAAlD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6BwB,kBAC7B,eAAChL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,2BAG2B1O,KAAnD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6ByB,mBAC7B,eAACjL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,4BAGkB1O,KAA1C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6B0B,UAC7B,eAAClL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,UACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,0CAAD,cACkC0c,QADlC,IACkCA,OADlC,EACkCA,EAAQ6tD,sBAOhBlwE,KAA7C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6B2B,aAC7B,eAACnL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,sBAG4B1O,KAApD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6B4B,oBAC7B,eAACpL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,6BAGmC1O,KAA3D,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6B6B,2BAC7B,eAACrL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,oCAKe1O,KAAvC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAAwB8B,YACxB,eAACtL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAChN,GAAA,EAAD,CAASlyD,OAAO,YAAhB,SACE,qCACE,eAACu8C,GAAA,EAAD,CACEtqD,EAAG,EACH6c,aAAc,GACdlX,OACE,OAACkoE,QAAD,IAACA,OAAD,EAACA,EAAwB8B,YACzBlH,OAAQoF,EAAuB8B,WAAa,EACxCrb,GAAiB,IAAD,cACTuZ,QADS,IACTA,GADS,UACTA,EAAwB8B,iBADf,aACV,EAAoCpwD,SAAS,MAEnD,UAENqwD,SACE,OAAC/B,QAAD,IAACA,OAAD,EAACA,EAAwB8B,YACzBlH,OAAQoF,EAAuB8B,WAAa,EAD5C,kBAES9B,QAFT,IAESA,GAFT,UAESA,EAAwB8B,iBAFjC,aAEQ,EAAoCpwD,SAAS,KACjD,UAfR,SAkBE,gBAACtT,GAAA,EAAD,yBACK4hE,EAAuB8B,iBAD5B,aACI,EAAmCpwD,SAAS,oBASRlgB,KAAjD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0BgC,oBAC1B,eAACxL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,6BAGmB1O,KAA3C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0BiC,cAC1B,eAACzL,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,cACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,4CAAD,cACoC0c,QADpC,IACoCA,OADpC,EACoCA,EAAQouD,0BAOvBzwE,KAAxC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0BkC,WAC1B,eAAC1L,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,WACP1C,OAAQ,SAACqW,GAAD,aACN,eAACzV,GAAA,EAAD,iBAAayV,QAAb,IAAaA,GAAb,UAAaA,EAAQquD,gBAArB,aAAa,EAAkBxwD,SAAS,gBAKKlgB,KAApD,OAACwuE,QAAD,IAACA,GAAD,UAACA,EAA0B11C,cAA3B,eAAmC63C,eAClC,eAAC3L,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,+BAG2B1O,KAAnD,OAACwuE,QAAD,IAACA,GAAD,UAACA,EAA0B11C,cAA3B,eAAmC83C,cAClC,eAAC5L,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,8BAG0B1O,KAAlD,OAACwuE,QAAD,IAACA,GAAD,UAACA,EAA0B11C,cAA3B,eAAmC+3C,aAClC,eAAC7L,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,6BAG2B1O,KAAnD,OAACwuE,QAAD,IAACA,GAAD,UAACA,EAA0B11C,cAA3B,eAAmCg4C,cAClC,eAAC9L,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,8BAG4B1O,KAApD,OAACwuE,QAAD,IAACA,GAAD,UAACA,EAA0B11C,cAA3B,eAAmCi4C,eAClC,eAAC/L,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,+BAIvB1O,KADD,OAACwuE,QAAD,IAACA,GAAD,UAACA,EAA0B11C,cAA3B,eAAmCk4C,uBAElC,eAAChM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAACiC,GAAA,EAAD,CAAcnhE,OAAO,uCAKsB1O,KAA9C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6ByC,cAC7B,eAACjM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,cACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,uCAAD,cAC+B0c,QAD/B,IAC+BA,OAD/B,EAC+BA,EAAQ4uD,0BAOVjxE,KAAhD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6B0C,gBAC7B,eAAClM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC,KAAD,CAAWl/D,OAAO,yBAGsB1O,KAA3C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA6B2C,WAC7B,eAACnM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,WACP1C,OAAQ,kBACN,gBAACsqD,GAAA,EAAD,CAAMltC,WAAS,EAACve,WAAW,WAA3B,UACE,eAAC,KAAD,CAAW6D,OAAO,aAClB,eAAC9B,GAAA,EAAD,6BAQkC5M,KAA3C,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0B4C,cAC1B,eAACpM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,cACP1C,OAAQ,kBACN,gBAACsqD,GAAA,EAAD,CAAMltC,WAAS,EAACve,WAAW,WAA3B,UACE,eAAC,KAAD,CAAW6D,OAAO,gBAClB,eAAC9B,GAAA,EAAD,iCAM+B5M,KAAxC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0B6C,WAC1B,eAACrM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,WACP1C,OAAQ,kBACN,gBAACsqD,GAAA,EAAD,CAAMltC,WAAS,EAACve,WAAW,WAA3B,UACE,eAAC,KAAD,CAAW6D,OAAO,aAClB,eAAC9B,GAAA,EAAD,6BAM2B5M,KAApC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0B8C,OAC1B,eAACtM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,OACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,6CAAD,cACqC0c,QADrC,IACqCA,OADrC,EACqCA,EAAQivD,mBAO3BtxE,KAArC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0BnnB,QAC1B,eAAC2d,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,QACP1C,OAAQ,SAACqW,GAAD,OACN,eAACzV,GAAA,EAAD,UACGjH,EAAU,sCAAD,cAC8B0c,QAD9B,IAC8BA,OAD9B,EAC8BA,EAAQglC,oBAOtBrnD,KAAnC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0B+C,MAC1B,eAACvM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,MACP1C,OAAQ,SAACqW,GAAD,OACN,eAACzV,GAAA,EAAD,UACGjH,EAAU,4CAAD,cACoC0c,QADpC,IACoCA,OADpC,EACoCA,EAAQkvD,kBAOzBvxE,KAAtC,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0BgD,SAC1B,eAACxM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACqW,GAAD,OACN,eAACzV,GAAA,EAAD,UACGjH,EAAU,4CAAD,cACoC0c,QADpC,IACoCA,OADpC,EACoCA,EAAQmvD,qBAOdxxE,KAAjD,OAACwuE,QAAD,IAACA,OAAD,EAACA,EAA0BiD,oBAC1B,eAACzM,GAAA,EAAD,CACEl3D,SAAS,UACThG,UAAWjB,EAAQ+mE,8BAFrB,SAIE,eAAC5Z,GAAA,EAAD,CACEtlD,OAAO,oBACP1C,OAAQ,kBACN,gBAACsqD,GAAA,EAAD,CAAMltC,WAAS,EAACve,WAAW,WAA3B,UACE,eAAC,KAAD,CAAW6D,OAAO,sBAClB,eAAC9B,GAAA,EAAD,6BAUV8kE,GAAoB,SAAC/lE,GACzB,IAAM9E,EAAUC,KACR0nE,EAAe7iE,EAAf6iE,WAER,OACE,qCACGA,EAAW5lE,KAAI,SAACyZ,GAAD,OACd,gBAAC,KAAD,WACE,eAAC,KAAD,CACE0W,WAAY,eAAC,IAAD,IACZjxB,UACE,IAAIquC,KAAK9zB,EAAOsvD,aAAaC,UAAYz7B,KAAKyf,MAAQ,IAClD/uD,EAAQgnE,uBACR,GALR,SAQE,eAACsB,GAAA,EAAD,CAAuBntE,MAAOqgB,EAA9B,SACE,eAAC,KAAD,CAAWkD,QAAQ,KAAK7W,OAAO,qBAGnC,eAAC,KAAD,CACE5G,UACE,IAAIquC,KAAK9zB,EAAOsvD,aAAaC,UAAYz7B,KAAKyf,MAAQ,IAClD/uD,EAAQunE,wBACR,GAJR,SAOE,eAAC,GAAD,CAAcI,WAAYnsD,EAAQosD,oBAAkB,QApBxCpsD,EAAO9Z,UA4BzBspE,GAAoB,SAAClmE,GACzB,IAAoBmmE,EAAkBnmE,EAA9BomE,WACFA,EAAarwE,KAAKC,MAAMmwE,GAExBE,EAAU7xE,OAAOiQ,QAAQ2hE,GAAYnpE,KAAI,oCAAEpH,EAAF,KAAOQ,EAAP,YAC7CsrE,GAAa2E,KAAcjwE,EAAO,CAAEkwE,MAAM,IAAS1wE,MAGrD,OACE,eAAC,GAAD,CACEgtE,WAAYwD,EACTj3D,QAAO,SAAC6tD,GAAD,OAAY,MAALA,KACdhgE,KAAI,SAACggE,GAAD,OAAOA,QC3uBdlE,GAAY,SAACpgE,GACjB,IAAgB6tE,EAAa7tE,EAArB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmDwsE,QADnD,IACmDA,OADnD,EACmDA,EAAU5pE,GAD7D,IACkE,IADlE,OAEG4pE,QAFH,IAEGA,OAFH,EAEGA,EAAUjqE,SAKXy8D,GAAiB,WACrB,IAAgBwN,EAAa1P,eAArBpgD,OACF0xC,EAAelC,KACrB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAakI,WAC3BntB,OAAQ8vD,EACR5sD,QAAQ,YACR5a,UAAWopD,EAAaxc,GAAUwZ,wBAOtCqhB,GAAe,SAAC,GAAkB,IAAbzmE,EAAY,oBAC/BhG,EAAYC,cACFusE,EAAa1P,eAArBpgD,OACF0xC,EAAelC,KACrB,OACE,gBAACwU,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAM,mCAAX,UACE,eAAC,KAAD,CAAWa,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQs5B,WACLh2C,EAAU,aACVA,EAAU,iBAIpB,eAACwuD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,cAGH,OAAR8a,QAAQ,IAARA,OAAA,EAAAA,EAAUt3B,aACTkZ,EAAaxc,GAAU0Z,yBACrB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,WAGxB,eAAC,KAAD,CAAWA,OAAO,YAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,kBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,oCAAD,cAC4B0c,QAD5B,IAC4BA,OAD5B,EAC4BA,EAAQk5B,uBAKpD,eAAC,GAAD,QAEO,OAAR42B,QAAQ,IAARA,OAAA,EAAAA,EAAUJ,aACT,eAACzL,GAAA,EAAD,CAAKz4D,MAAM,oCAAoC9B,KAAK,WAApD,SACE,eAAC,GAAD,CAAmBgmE,WAAYI,EAASJ,oBAOrCM,GAAe,SAAC1mE,GAAD,OAC1B,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,S,SFxHQinE,K,gBAAAA,E,oBAAAA,E,uBAAAA,Q,KG0BZ,IC1BYhM,GD0BNkR,GAAuB,SAAC5gE,GAC5B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAO8pC,UACV1iB,EAAO0iB,QAAU,0BAEZ1iB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,sCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B0kE,GAAe,SAAC5mE,GAC3B,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,eAAC,KAAD,6BAAYlmD,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAUwjD,GACV/6D,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAAUiiB,YAAU,IACtC,eAACkkC,GAAA,EAAD,CACEnmD,OAAO,YACPtL,aAAc8qC,GAAgBkK,GAC9BxpC,QAASzO,OAAOiQ,QAAQ89B,IAAiBtlC,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,SAG5C+xD,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACqP,GAAA,EAAD,CAAcp1D,OAAO,oBACrB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,eACPtL,aAAcgqE,GAAeoF,OAC7B5jE,QAASzO,OAAOiQ,QAAQg9D,IAAgBxkE,KAAI,gBAAE5G,EAAF,2BAAc,CACxDuG,GAAIvG,EACJkG,KAAK,kCAAD,OAAoClG,SAG5C,eAAC6yD,GAAA,EAAD,CACEnmD,OAAO,kBACPtL,aAAcojE,GAAiBsG,QAC/Bl+D,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,gBEnEhDywE,GAAqB,SAAC/gE,GAC1B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAO8pC,UACV1iB,EAAO0iB,QAAU,0BAEZ1iB,GAOH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,iCADb,YACiD0c,QADjD,IACiDA,OADjD,EACiDA,EAAQ9Z,GADzD,YAC+D8Z,QAD/D,IAC+DA,OAD/D,EAC+DA,EAAQna,KAAM,QAK3EyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlC6kE,GAAS,SAAC,GAAkB,IAAb/mE,EAAY,oBACzBhG,EAAYC,cACFg2C,EAAWwwB,eAAnB/pD,OACFhd,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEkrB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU2jD,GAJZ,UAME,eAAC,KAAD,CAAW/jE,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACylD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGZ,eAACzC,GAAA,EAAD,CAAWlmD,OAAO,UAAUiiB,YAAU,IACtC,eAACkkC,GAAA,EAAD,CACEnmD,OAAO,YACPE,QAASzO,OAAOiQ,QAAQ89B,IAAiBtlC,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,SAG5C+xD,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACT,GAAA,EAAD,CACEtlD,OAAO,aACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,+BAAD,cAAgC0c,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAQswD,mBAIjD,OAAN/2B,QAAM,IAANA,OAAA,EAAAA,EAAQjxC,WAAY,eAAC,KAAD,CAAW+D,OAAO,aACvC,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,oBACrB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,eACPE,QAASzO,OAAOiQ,QAAQg9D,IAAgBxkE,KAAI,gBAAE5G,EAAF,2BAAc,CACxDuG,GAAIvG,EACJkG,KAAK,kCAAD,OAAoClG,SAG5C,eAAC6yD,GAAA,EAAD,CACEnmD,OAAO,kBACPE,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,cAOvC4wE,GAAa,SAACjnE,GAAD,OACxB,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QC3HE0sE,GAAgB,SAAClnE,GACrB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BAAYlmD,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IAChC0vB,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEjnD,MAAM,oCACNa,OAAO,4BACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAAC,GAAD,CAAa/lD,OAAO,cAActL,cAAY,SAK9C0vE,GAAa,SAAC,GAAkB,IAAbnnE,EAAY,oBAC7BtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEW,KAAK,QACLooD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAasI,QAAxB,YAAmCrnC,EAAnC,UACVk+B,gBAAgB,EAJlB,UAME,eAAC,KAAD,CAAW/3B,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,UAChB+lD,GAAe,eAAC,KAAD,CAAW/lD,OAAO,YAClCqlD,EAAaxc,GAAU0Z,yBACtB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,YAGpB+lD,GAAe,eAAC,KAAD,CAAW/lD,OAAO,WAAW8oD,UAAU,SAKjDub,GAAa,SAAC,GAAD,IAAMpnE,EAAN,2BACxB,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IALX,SAOE,eAAC,GAAD,S,SFnFQq9B,K,YAAAA,E,iBAAAA,Q,KGgBZ,IChBY4R,GDgBNC,GAAe,SAAC,EAAmBl2B,GAApB,IAAGx0C,EAAH,EAAGA,GAAH,MAAqD,CACxEzD,KAAMktC,aAAkB,QACxBlkC,SAAUw5B,GAAasI,QACvB5sC,QAAS,CACPkwE,SAAU3qE,EACVw0C,cAIEo2B,GAAiB,SAAC,GAAD,IAAG5qE,EAAH,EAAGA,GAAH,MAAkC,CACvDzD,KAAMktC,aAAkB,UACxBlkC,SAAUw5B,GAAasI,QACvB5sC,QAAS,CACPkwE,SAAU3qE,KAQD6qE,GAA+B,CAC1CtuE,KAAMs8D,GAAW5kD,OACjB+C,KAAM,oCAGK8zD,GAA0B,SACrCjqE,EADqC,GAG1B,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAW7kD,KACd,MAAO,CACLzX,OACAya,KAAM,iCACN6kD,YAAa6O,IAGjB,KAAK7R,GAAW5kD,OACd,MAAO,CACL1X,OACAya,KAAM,mCACN6kD,YAAa+O,IAGjB,QACE,MAAM,IAAI3tE,Q,+BC9DJwtE,K,gBAAAA,E,qBAAAA,E,wBAAAA,Q,KC0BZ,IC1BY5R,GD0BNt6D,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXke,eAAgB,CACdviE,aAAc1L,EAAM2D,QAAQ,SAKrBuqE,GAAgB,SAAC,GAYvB,IAXLC,EAWI,EAXJA,QACA39D,EAUI,EAVJA,OACAnH,EASI,EATJA,OACAjG,EAQI,EARJA,KACAiC,EAOI,EAPJA,OAQM/E,EAAYC,cAClB,OACE,gBAAC6tE,GAAA,EAAD,CAAQhrE,KAAMA,EAAd,UACE,eAAC2D,GAAA,EAAD,UACGzG,EAAU,qCAAD,OAAsC+I,EAAtC,YAAgDhE,MAE5D,gBAACgpE,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAASitE,EACT3lE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsP,EACThI,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxBoT,GAA4B,SAAC,GAMnC,IALLlrE,EAKI,EALJA,KACAmiB,EAII,EAJJA,MAKM/jB,EAAUC,KAChB,EAAoCzD,mBAAS,IAA7C,oBAAOuwE,EAAP,KAAmBC,EAAnB,KACA,EAA4DC,MAAY,GAAxE,oBAAOC,EAAP,KAAmBC,EAAnB,KAAkCC,EAAlC,KACA,EAA4C5wE,mBAAS,IAArD,oBAAO6wE,EAAP,KAAuBC,EAAvB,KACA,EAA0C9wE,mBAAS,IAAnD,oBAAO+wE,EAAP,KAAsBC,EAAtB,KACA,EACEP,MAAY,GADd,oBAAOQ,EAAP,KAAsBC,EAAtB,KAAwCC,EAAxC,KAEA,EAAkDnxE,mBAAS,IAA3D,oBAAOoxE,EAAP,KAA0BC,EAA1B,KACA,EAAsCrxE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACgBh5B,EAAW6mB,eAAnBpgD,OACR,EAAiB6pC,eAAVC,EAAP,qBACMpqC,EAAUsgB,eACV18B,EAAYC,cAEZivE,EAAc,WAClBhB,EAAc,IACdQ,EAAiB,IACjBL,GAAc,GACdO,GAAiB,GACjBJ,EAAkB,IAClBO,EAAqB,IACrB9pD,KAGIkqD,EAAyB,yCAAG,uBAAAltC,EAAA,yDAChCgtC,GAAe,GACfZ,GAAc,GACdO,GAAiB,GACjBJ,EAAkB,IAClBO,EAAqB,IACwB,IAAzCd,EAAWrnB,QAAQ,MAAO,IAAI7rD,QAChCszE,GAAc,GACdG,EACExuE,EACE,0EAGKiuE,EAAWrnB,QAAQ,MAAO,IAAI7rD,SAAWkzE,EAAWlzE,SAC7DszE,GAAc,GACdG,EACExuE,EACE,yEAI0C,IAA5CyuE,EAAc7nB,QAAQ,MAAO,IAAI7rD,QACnC6zE,GAAiB,GACjBG,EACE/uE,EACE,6EAIJyuE,EAAc7nB,QAAQ,MAAO,IAAI7rD,SAAW0zE,EAAc1zE,SAE1D6zE,GAAiB,GACjBG,EACE/uE,EACE,4EAKDsuE,EAAuBnqE,SAAY0qE,EAA0B1qE,QAvClC,kCAwCxBqiD,EACJ,CACErnD,KAAMktC,aAAkB,uBACxBlkC,SAAUw5B,GAAasI,QACvB5sC,QAAS,CACPkwE,SAAQ,OAAEt3B,QAAF,IAAEA,OAAF,EAAEA,EAAQrzC,GAClB2pC,MAAO0hC,EACPj+B,SAAUy+B,IAGd,CAAE9nB,eAAe,IAlDW,QAoD9BvqC,IACA8yD,IArD8B,4CAAH,qDAyD/B,OACE,gBAACpB,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAASsB,EACTpmE,OAAO,sBACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,yDAEb,gBAACovE,GAAA,EAAD,WACE,eAACllE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnBzlE,MAAOlI,EACL,6DAEF4f,QAAQ,WACRvjB,MAAO4xE,EACP7lE,SAAU,SAACtJ,GAAD,OAAOovE,EAAcpvE,EAAEwN,OAAOjQ,QACxCyO,WAAS,EACToC,MAAOkhE,EACPljD,WAAYqjD,IAEd,eAACrkE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnBzlE,MAAOlI,EACL,gEAEF4f,QAAQ,WACRvjB,MAAOoyE,EACPrmE,SAAU,SAACtJ,GAAD,OAAO4vE,EAAiB5vE,EAAEwN,OAAOjQ,QAC3CyO,WAAS,EACT3L,KAAK,WACLkwE,aAAa,eACbniE,MAAOyhE,EACPzjD,WAAY4jD,OAGhB,gBAACf,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAAS,kBAAMquE,GAAe,IAC9B/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxB0U,GAAuB,SAAC,GAM9B,IALLxsE,EAKI,EALJA,KACAmiB,EAII,EAJJA,MAKM/jB,EAAUC,KAChB,EAA0BzD,mBAAS,IAAnC,oBAAOrB,EAAP,KAAckzE,EAAd,KACA,EAAsC7xE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACgBh5B,EAAW6mB,eAAnBpgD,OACR,EAAiB6pC,eAAVC,EAAP,qBACMpqC,EAAUsgB,eACV18B,EAAYC,cAEZivE,EAAc,WAClBK,EAAS,IACTtqD,KAGIuqD,EAAoB,yCAAG,uBAAAvtC,EAAA,6DAC3BgtC,GAAe,GADY,SAErBzoB,EACJ,CACErnD,KAAMktC,aAAkB,kBACxBlkC,SAAUw5B,GAAasI,QACvB5sC,QAAS,CACPkwE,SAAQ,OAAEt3B,QAAF,IAAEA,OAAF,EAAEA,EAAQrzC,GAClBoqE,WAAY3wE,IAGhB,CAAEsqD,eAAe,IAXQ,OAa3B4oB,EAAS,IACTnzD,IACA6I,IAf2B,2CAAH,qDAwB1B,OANA7mB,qBAAU,WACJ0E,IAAI,OAAImzC,QAAJ,IAAIA,OAAJ,EAAIA,EAAQ+2B,aAClBuC,EAAQ,OAACt5B,QAAD,IAACA,OAAD,EAACA,EAAQ+2B,cAElB,CAAClqE,EAAD,OAAOmzC,QAAP,IAAOA,OAAP,EAAOA,EAAQ+2B,aAGhB,gBAACc,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAAS2B,EACTzmE,OAAO,iBACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,oDAEb,eAACovE,GAAA,EAAD,UACE,gBAACpkE,GAAA,EAAD,CACE7I,UAAWjB,EAAQysE,eACnB/tD,QAAQ,WACRvjB,MAAOA,EACP+L,SAAU,SAACtJ,GAAD,OAAOywE,EAASzwE,EAAEwN,OAAOjQ,QACnCyO,WAAS,EALX,UAOE,eAAC,IAAD,CAAUzO,MAAOgxE,GAAWoC,UAA5B,SACGzvE,EAAU,+BAAD,OAAgCqtE,GAAWoC,cAEvD,eAAC,IAAD,CAAUpzE,MAAOgxE,GAAWqC,WAA5B,SACG1vE,EAAU,+BAAD,OAAgCqtE,GAAWqC,eAEvD,eAAC,IAAD,CAAUrzE,MAAOgxE,GAAWsC,OAA5B,SACG3vE,EAAU,+BAAD,OAAgCqtE,GAAWsC,gBAI3D,gBAAC5B,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAAS,kBAAMquE,GAAe,IAC9B/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxBgV,GAAmB,SAAC,GAY1B,IAXL9sE,EAWI,EAXJA,KACAmiB,EAUI,EAVJA,MACAmyB,EASI,EATJA,SACAy4B,EAQI,EARJA,YACAC,EAOI,EAPJA,WAQM5uE,EAAUC,KAChB,EAA0BzD,oBAAS,GAAnC,oBAAOwP,EAAP,KAAco5C,EAAd,KACA,EAAkC5oD,mBAAS,IAA3C,oBAAOqyE,EAAP,KAAkBC,EAAlB,KACA,EAAsCtyE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACMjvE,EAAYC,cAEZivE,EAAc,WAClBW,EAAY,IACZvpB,GAAS,GACT0pB,EAAa,IACb/qD,KAGF,OACE,gBAAC6oD,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAASiC,EACT/mE,OAAO,OACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,0CAEb,eAACovE,GAAA,EAAD,UACE,eAACllE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnB/tD,QAAQ,WACRvjB,MAAO+6C,EACPhvC,SAAU,SAACtJ,GAAD,OAAO+wE,EAAY/wE,EAAEwN,OAAOjQ,QACtCyO,WAAS,EACToC,MAAOA,EACPge,WAAY6kD,MAGhB,gBAAChC,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAAS,kBAAMquE,GAAe,IAC9B/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WE9V/Bz5D,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKD2rE,GAAmB,WAC9B,IAAM/uE,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9CkyC,GACAD,IAFF,2BAAStuE,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIA,EAA4CrG,oBAAS,GAArD,oBAAOwyE,EAAP,KAAuBC,EAAvB,KACA,EAAgCzyE,mBAAS,IAAzC,oBAAO05C,EAAP,KAAiBy4B,EAAjB,KACA,EAAgDnyE,oBAAS,GAAzD,oBAAO0yE,EAAP,KAAyBC,EAAzB,KACMp6B,EAASjoB,eACf,EAA+Cu4B,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEhBt+B,qBAAU,WACJ63C,EAAOjxC,SACTjB,EAAS,CAAE5E,KAAMs8D,GAAW5kD,SAE5B9S,EAAS,CAAE5E,KAAMs8D,GAAW7kD,SAE7B,CAACq/B,IAEJ,IAAMr1C,EAAO,yCAAG,uBAAAqhC,EAAA,sDACV9iC,IAASs8D,GAAW5kD,OAAQw5D,GAAoB,GAC/CF,GAAkB,GAFT,2CAAH,qDAKPL,EAAU,yCAAG,6BAAA7tC,EAAA,sEAETxU,EAFS,OAEDgxC,QAFC,IAEDA,OAFC,EAEDA,EAAcxoB,EAAQmB,GAFrB,SAGToP,EAAO/4B,EAAO,CAAEk5B,eAAe,IAHtB,OAIfvqC,IAJe,gDAMfmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SANjB,yDAAH,qDAUhB,OACE,uCACE,eAAC,GAAD,CACE8F,KAAMstE,EACNvC,QAASiC,EACT/mE,OAAO,OACPmH,OAAQ,kBAAMmgE,GAAoB,IAClCtrE,OAAO,WAET,eAAC,GAAD,CACEjC,KAAMotE,EACNjrD,MAAO,kBAAMkrD,GAAkB,IAC/B/4B,SAAUA,EACVy4B,YAAaA,EACbC,WAAYA,IAEd,eAAC,GAAD,CACE9qE,UACGopD,EAAaxc,GAAU4Y,eAAiBz9C,GAAW6xD,EAEtDz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,QC5E7Bz5D,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDgsE,GAAqC,WAChD,MAAoCxT,eAApB7mB,EAAhB,EAAQv5B,OAAgB3P,EAAxB,EAAwBA,QAClB7L,EAAUC,KAChB,EAGIzD,oBAAS,GAHb,oBACE6yE,EADF,KAEEC,EAFF,KAIMpiB,EAAelC,KACrB,EAA+C3F,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEV+zC,EAA4B,yCAAG,uBAAAxuC,EAAA,6DACnCuuC,GAAoC,GADD,SAE7BhqB,EACJ,CACErnD,KAAMktC,aAAkB,0BACxBlkC,SAAUw5B,GAAasI,QACvB5sC,QAAS,CACPkwE,SAAQ,OAAEt3B,QAAF,IAAEA,OAAF,EAAEA,EAAQrzC,KAGtB,CAAE+jD,eAAe,IAVgB,OAYnCvqC,IAZmC,2CAAH,qDAmBlC,OACE,uCACE,eAAC,GAAD,CACEtZ,KAAMytE,EACN1C,QAAS4C,EACT1nE,OAAO,sBACPmH,OAAQ,kBAAMsgE,GAAoC,IAClDzrE,OAAO,WAET,eAAC,GAAD,CACE6a,QAAQ,YACRhf,QAfqC,WACzC4vE,GAAoC,IAehC7vE,MAAM,UACNwB,UAAWjB,EAAQuE,OACnByC,MAAM,mDACN0yD,2BAA2B,EAC3B51D,UACGopD,EAAaxc,GAAU4Y,eAAiBz9C,GAAW6xD,QC9DxDz9D,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDosE,GAAkC,WAC7C,IAAQ3jE,EAAY+vD,eAAZ/vD,QACF7L,EAAUC,KAChB,EACEzD,oBAAS,GADX,oBAAOizE,EAAP,KAAkCC,EAAlC,KAEMxiB,EAAelC,KAMrB,OACE,uCACE,eAAC,GAAD,CACEppD,KAAM6tE,EACN1rD,MAAO,kBAAM2rD,GAA6B,MAE5C,eAAC,GAAD,CACEhxD,QAAQ,YACRhf,QAZkC,WACtCgwE,GAA6B,IAYzBjwE,MAAM,UACNwB,UAAWjB,EAAQuE,OACnByC,MAAM,gDACN0yD,2BAA2B,EAC3B51D,UAAWopD,EAAaxc,GAAU4Y,eAAiBz9C,QChCrD5L,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDusE,GAA0B,WACrC,IAAQ9jE,EAAY+vD,eAAZ/vD,QACF7L,EAAUC,KAChB,EAA0DzD,oBAAS,GAAnE,oBAAOozE,EAAP,KAA8BC,EAA9B,KACM3iB,EAAelC,KAMrB,OACE,uCACE,eAAC,GAAD,CACEppD,KAAMguE,EACN7rD,MAAO,kBAAM8rD,GAAyB,MAExC,eAAC,GAAD,CACEnxD,QAAQ,YACRhf,QAZ6B,WACjCmwE,GAAyB,IAYrBpwE,MAAM,UACNwB,UAAWjB,EAAQuE,OACnByC,MAAM,2CACN0yD,2BAA2B,EAC3B51D,UAAWopD,EAAaxc,GAAU4Y,eAAiBz9C,QCNrDgyD,GAAY,SAACpgE,GACjB,IAAgBs3C,EAAWt3C,EAAnB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,iCADb,YACiDi2C,QADjD,IACiDA,OADjD,EACiDA,EAAQrzC,GADzD,YAC+DqzC,QAD/D,IAC+DA,OAD/D,EAC+DA,EAAQ1zC,SAKrEy8D,GAAiB,WACrB,IAAgB/oB,EAAW6mB,eAAnBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,gBAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,UACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAasI,SAC3BvtB,OAAQu5B,EACRr2B,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAU4Y,uBAOtCwmB,GAAa,SAAC,GAAkB,IAAbhrE,EAAY,oBAC7BhG,EAAYC,cACFg2C,EAAW6mB,eAAnBpgD,OACF0xC,EAAelC,KAEf+kB,EAAgB,kBACpB,eAAC,GAAD,UACE,eAAChiB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAI/BwyC,EAAmB,kBACvB,eAAC,GAAD,UACE,eAACjiB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAIrC,OACE,gBAACgiC,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAM,iCAAX,UACE,eAAC,KAAD,CAAWA,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQs5B,WACLh2C,EAAU,aACVA,EAAU,iBAIpB,eAACwuD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGZ,eAAC,KAAD,CAAW3oD,OAAO,YAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,mCAAD,cAC2B0c,QAD3B,IAC2BA,OAD3B,EAC2BA,EAAQwH,kBAK5C,OAAN+xB,QAAM,IAANA,OAAA,EAAAA,EAAQf,aAAckZ,EAAaxc,GAAU0Z,yBAC5C,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,YAGf,OAANktC,QAAM,IAANA,OAAA,EAAAA,EAAQjxC,WAAY,eAAC,KAAD,CAAW+D,OAAO,cAChC,OAANktC,QAAM,IAANA,OAAA,EAAAA,EAAQ+2B,aACP,eAAC3e,GAAA,EAAD,CACEtlD,OAAO,aACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,+BAAD,cAAgC0c,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAQswD,kBAK1D,eAAC3e,GAAA,EAAD,CACEtlD,OAAO,kBACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQ45B,iBACLt2C,EAAU,aACVA,EAAU,iBAIpB,eAACquD,GAAA,EAAD,CACEtlD,OAAO,eACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,kCAAD,cAC0B0c,QAD1B,IAC0BA,OAD1B,EAC0BA,EAAQ65B,oBAKlD,eAAC8X,GAAA,EAAD,CACEtlD,OAAO,kBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,oCAAD,cAC4B0c,QAD5B,IAC4BA,OAD5B,EAC4BA,EAAQk5B,uBAKpD,eAAC,GAAD,OAEDwY,EAAaxc,GAAUsX,cACtB,eAACyX,GAAA,EAAD,CAAKv6D,KAAK,SAAS8B,MAAOlI,EAAU,iCAApC,SACE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAa0I,OACvBthC,OAAO,YACPkvD,KAAM7J,EAAaxc,GAAUuX,aAAe,OAAS,OACrDkT,aAAa,eACbC,aAAa,eACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC+2D,SAAU5xD,EAAE/Y,GACZuiC,UAAW3uB,IAEbgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC+2D,SAAU5xD,EAAE/Y,GACZuiC,UAAW3uB,IAEbimD,uBAAwB,SAACr+B,GAAD,OACc,KAA7B,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASoa,yBAEXpa,QAAS,eAAC6yC,EAAD,IACTpU,oBAAqB,CACnBnqB,iBAAgB,OAAEuD,QAAF,IAAEA,OAAF,EAAEA,EAAQrzC,GAC1B41C,wBAAwB,GAE1B/xB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,gBAKzBqlD,EAAaxc,GAAU6Z,iBACtB,eAACkV,GAAA,EAAD,CACEv6D,KAAK,YACL8B,MAAOlI,EAAU,oCAFnB,SAIE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAawI,UACvBphC,OAAO,eACPkvD,KAAM7J,EAAaxc,GAAU8Z,gBAAkB,OAAS,OACxD2Q,aAAa,kBACbC,aAAa,kBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC+2D,SAAU5xD,EAAE/Y,GACZ40C,aAAchhC,IAEhBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC+2D,SAAU5xD,EAAE/Y,GACZ40C,aAAchhC,IAEhBimD,uBAAwB,SAACr+B,GAAD,OACc,KAA7B,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASoa,yBAEXpa,QAAS,eAAC8yC,EAAD,IACTrU,oBAAqB,CACnBnqB,iBAAgB,OAAEuD,QAAF,IAAEA,OAAF,EAAEA,EAAQrzC,GAC1B41C,wBAAwB,GAE1B/xB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,iBAKnB,OAANktC,QAAM,IAANA,OAAA,EAAAA,EAAQm2B,aACP,eAACzL,GAAA,EAAD,CAAKz4D,MAAM,kCAAkC9B,KAAK,WAAlD,SACE,eAAC,GAAD,CAAmBgmE,WAAYn2B,EAAOm2B,oBAOnC+E,GAAa,SAACnrE,GAAD,OACxB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QC3OE4wE,GAAqB,SAACrlE,GAC1B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,oCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3BmpE,GAAa,SAACrrE,GACzB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,eAAC,KAAD,6BAAYlmD,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAUioD,GACVx/D,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,YACPtL,aAAc8qC,GAAgBkK,GAC9BxpC,QAASzO,OAAOiQ,QAAQ89B,IAAiBtlC,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,SAG5C+xD,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACqP,GAAA,EAAD,CAAcp1D,OAAO,oBACrB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,eACPtL,aAAcgqE,GAAeoF,OAC7B5jE,QAASzO,OAAOiQ,QAAQg9D,IAAgBxkE,KAAI,gBAAE5G,EAAF,2BAAc,CACxDuG,GAAIvG,EACJkG,KAAK,kCAAD,OAAoClG,gBCxD9Ci1E,GAAmB,SAACvlE,GACxB,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAOH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,+BADb,YAC+C0c,QAD/C,IAC+CA,OAD/C,EAC+CA,EAAQ9Z,GADvD,YAC6D8Z,QAD7D,IAC6DA,OAD7D,EAC6DA,EAAQna,KAAM,QAKzEyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCqpE,GAAO,SAAC,GAAkB,IAAbvrE,EAAY,oBACbkxC,EAASuvB,eAAjB/pD,OACFhd,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEkrB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUmoD,GAJZ,UAME,eAAC,KAAD,CAAWvoE,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACylD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGZ,eAACxC,GAAA,EAAD,CACEnmD,OAAO,YACPE,QAASzO,OAAOiQ,QAAQ89B,IAAiBtlC,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,SAG5C+xD,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,UAI3D,OAAJ5X,QAAI,IAAJA,OAAA,EAAAA,EAAMlyC,WAAY,eAAC,KAAD,CAAW+D,OAAO,aACrC,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,oBACrB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,eACPE,QAASzO,OAAOiQ,QAAQg9D,IAAgBxkE,KAAI,gBAAE5G,EAAF,2BAAc,CACxDuG,GAAIvG,EACJkG,KAAK,kCAAD,OAAoClG,UAGvC,OAAJ66C,QAAI,IAAJA,OAAA,EAAAA,EAAMI,iBAAkB,eAAC,KAAD,CAAWvuC,OAAO,wBAKpCyoE,GAAW,SAACxrE,GAAD,OACtB,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QCtGEixE,GAAc,SAACzrE,GACnB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,gBAAC,KAAD,6BAAYlmD,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IAChC0vB,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEjnD,MAAM,oCACNa,OAAO,4BACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAAC,GAAD,CAAa/lD,OAAO,cAActL,cAAY,SAK9Ci0E,GAAW,SAAC,GAAkB,IAAb1rE,EAAY,oBAC3BtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACrB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEW,KAAK,QACLooD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAagJ,MAAxB,YAAiC/nC,EAAjC,UACVk+B,gBAAgB,EAJlB,UAME,eAAC,KAAD,CAAW/3B,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SACjBqlD,EAAaxc,GAAU0Z,yBACtB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,YAGpB+lD,GAAe,eAAC,KAAD,CAAW/lD,OAAO,WAAW8oD,UAAU,KACtD/C,GAAe,eAAC,KAAD,CAAW/lD,OAAO,iBAAiB8oD,UAAU,SAKvD8f,GAAW,SAAC3rE,GAAD,OACtB,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IALX,SAOE,eAAC,GAAD,S,SRlFQq9B,K,cAAAA,E,mBAAAA,Q,KSgBZ,IChBYA,GDgBNmW,GAAgB,SAAC,EAAiBt6B,GAAlB,IAAG10C,EAAH,EAAGA,GAAH,MAAyD,CAC7EzD,KAAMktC,aAAkB,qBACxBlkC,SAAUw5B,GAAagJ,MACvBttC,QAAS,CACP85C,OAAQv0C,EACR00C,oBAIEu6B,GAAkB,SAAC,GAAD,IAAGjvE,EAAH,EAAGA,GAAH,MAAgC,CACtDzD,KAAMktC,aAAkB,uBACxBlkC,SAAUw5B,GAAagJ,MACvBttC,QAAS,CACP85C,OAAQv0C,KAQCkvE,GAAiC,CAC5C3yE,KAAMs8D,GAAWsW,QACjBn4D,KAAM,+CAGKo4D,GAA4B,SACvCvuE,EADuC,GAG5B,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAWwW,MACd,MAAO,CACL9yE,OACAya,KAAM,4CACN6kD,YAAamT,IAGjB,KAAKnW,GAAWsW,QACd,MAAO,CACL5yE,OACAya,KAAM,8CACN6kD,YAAaoT,IAGjB,QACE,MAAM,IAAIhyE,QEhDVsB,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXke,eAAgB,CACdviE,aAAc1L,EAAM2D,QAAQ,SAKrBuqE,GAAgB,SAAC,GAYvB,IAXLC,EAWI,EAXJA,QACA39D,EAUI,EAVJA,OACAnH,EASI,EATJA,OACAjG,EAQI,EARJA,KACAiC,EAOI,EAPJA,OAQM/E,EAAYC,cAClB,OACE,gBAAC6tE,GAAA,EAAD,CAAQhrE,KAAMA,EAAd,UACE,eAAC2D,GAAA,EAAD,UACGzG,EAAU,mCAAD,OAAoC+I,EAApC,YAA8ChE,MAE1D,gBAACgpE,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAASitE,EACT3lE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsP,EACThI,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxBsX,GAAqB,SAAC,GAY5B,IAXLpvE,EAWI,EAXJA,KACAmiB,EAUI,EAVJA,MACAktD,EASI,EATJA,SACAC,EAQI,EARJA,YACAtC,EAOI,EAPJA,WAQM5uE,EAAUC,KAChB,EAA0BzD,oBAAS,GAAnC,oBAAOwP,EAAP,KAAco5C,EAAd,KACA,EAAkC5oD,mBAAS,IAA3C,oBAAOqyE,EAAP,KAAkBC,EAAlB,KACA,EAAsCtyE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACMjvE,EAAYC,cAEZivE,EAAc,WAClBkD,EAAY,IACZ9rB,GAAS,GACT0pB,EAAa,IACb/qD,KAGF,OACE,gBAAC6oD,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAASiC,EACT/mE,OAAO,WACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,4CAEb,eAACovE,GAAA,EAAD,UACE,eAACllE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnB/tD,QAAQ,WACRvjB,MAAO81E,EACP/pE,SAAU,SAACtJ,GAAD,OAAOszE,EAAYtzE,EAAEwN,OAAOjQ,QACtCyO,WAAS,EACToC,MAAOA,EACPge,WAAY6kD,MAGhB,gBAAChC,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAAS,kBAAMquE,GAAe,IAC9B/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxByX,GAAiB,SAAC,GAYxB,IAXLvvE,EAWI,EAXJA,KACAmiB,EAUI,EAVJA,MACAmyB,EASI,EATJA,SACAy4B,EAQI,EARJA,YACAC,EAOI,EAPJA,WAQM5uE,EAAUC,KAChB,EAA0BzD,oBAAS,GAAnC,oBAAOwP,EAAP,KAAco5C,EAAd,KACA,EAAkC5oD,mBAAS,IAA3C,oBAAOqyE,EAAP,KAAkBC,EAAlB,KACA,EAAsCtyE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACMjvE,EAAYC,cAEZivE,EAAc,WAClBW,EAAY,IACZvpB,GAAS,GACT0pB,EAAa,IACb/qD,KAGF,OACE,gBAAC6oD,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAASiC,EACT/mE,OAAO,OACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,wCAEb,eAACovE,GAAA,EAAD,UACE,eAACllE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnB/tD,QAAQ,WACRvjB,MAAO+6C,EACPhvC,SAAU,SAACtJ,GAAD,OAAO+wE,EAAY/wE,EAAEwN,OAAOjQ,QACtCyO,WAAS,EACToC,MAAOA,EACPge,WAAY6kD,MAGhB,gBAAChC,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAAS,kBAAMquE,GAAe,IAC9B/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WCtK/Bz5D,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDguE,GAAqB,WAChC,IAAMpxE,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9Cw2C,GACAF,IAFF,2BAAS3yE,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIA,EAA0DrG,oBAAS,GAAnE,oBAAO60E,EAAP,KAA8BC,EAA9B,KACA,EAAgC90E,mBAAS,IAAzC,oBAAOy0E,EAAP,KAAiBC,EAAjB,KACA,EAA8D10E,oBAAS,GAAvE,oBAAO+0E,EAAP,KAAgCC,EAAhC,KACMx7B,EAAOlpB,eACb,EAA+Cu4B,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEhBt+B,qBAAU,WACJ84C,EAAKI,eACPvzC,EAAS,CAAE5E,KAAMs8D,GAAWsW,UAE5BhuE,EAAS,CAAE5E,KAAMs8D,GAAWwW,UAE7B,CAAC/6B,IAEJ,IAAMt2C,EAAO,yCAAG,uBAAAqhC,EAAA,sDACV9iC,IAASs8D,GAAWsW,QAASW,GAA2B,GACvDF,GAAyB,GAFhB,2CAAH,qDAKP1C,EAAU,yCAAG,6BAAA7tC,EAAA,sEAETxU,EAFS,OAEDgxC,QAFC,IAEDA,OAFC,EAEDA,EAAcvnB,EAAMi7B,GAFnB,SAGT3rB,EAAO/4B,EAAO,CAAEk5B,eAAe,IAHtB,OAIfvqC,IAJe,gDAMfmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SANjB,yDAAH,qDAUhB,OACE,uCACE,eAAC,GAAD,CACE8F,KAAM2vE,EACN5E,QAASiC,EACT/mE,OAAO,WACPmH,OAAQ,kBAAMwiE,GAA2B,IACzC3tE,OAAO,WAET,eAAC,GAAD,CACEjC,KAAMyvE,EACNttD,MAAO,kBAAMutD,GAAyB,IACtCL,SAAUA,EACVC,YAAaA,EACbtC,WAAYA,IAEd,eAAC,GAAD,CACE9qE,UACGopD,EAAaxc,GAAU+Y,aAAe59C,GAAW6xD,EAEpDz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,S,SF3FvBa,K,YAAAA,E,iBAAAA,Q,KGgBZ,IChBYkX,GDgBNrF,GAAe,SAAC,EAAiBl2B,GAAlB,IAAGx0C,EAAH,EAAGA,GAAH,MAAmD,CACtEzD,KAAMktC,aAAkB,QACxBlkC,SAAUw5B,GAAagJ,MACvBttC,QAAS,CACP85C,OAAQv0C,EACRw0C,cAIEo2B,GAAiB,SAAC,GAAD,IAAG5qE,EAAH,EAAGA,GAAH,MAAgC,CACrDzD,KAAMktC,aAAkB,UACxBlkC,SAAUw5B,GAAagJ,MACvBttC,QAAS,CACP85C,OAAQv0C,KAQCgwE,GAA6B,CACxCzzE,KAAMs8D,GAAW5kD,OACjB+C,KAAM,kCAGKi5D,GAAwB,SACnCpvE,EADmC,GAGxB,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAW7kD,KACd,MAAO,CACLzX,OACAya,KAAM,+BACN6kD,YAAa6O,IAGjB,KAAK7R,GAAW5kD,OACd,MAAO,CACL1X,OACAya,KAAM,iCACN6kD,YAAa+O,IAGjB,QACE,MAAM,IAAI3tE,QE1CVsB,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDwuE,GAAiB,WAC5B,IAAM5xE,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9Cq3C,GACAD,IAFF,2BAASzzE,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIA,EAA4CrG,oBAAS,GAArD,oBAAOwyE,EAAP,KAAuBC,EAAvB,KACA,EAAgCzyE,mBAAS,IAAzC,oBAAO05C,EAAP,KAAiBy4B,EAAjB,KACA,EAAgDnyE,oBAAS,GAAzD,oBAAO0yE,EAAP,KAAyBC,EAAzB,KACMn5B,EAAOlpB,eACb,EAA+Cu4B,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEhBt+B,qBAAU,WACJ84C,EAAKlyC,SACPjB,EAAS,CAAE5E,KAAMs8D,GAAW5kD,SAE5B9S,EAAS,CAAE5E,KAAMs8D,GAAW7kD,SAE7B,CAACsgC,IAEJ,IAAMt2C,EAAO,yCAAG,uBAAAqhC,EAAA,sDACV9iC,IAASs8D,GAAW5kD,OAAQw5D,GAAoB,GAC/CF,GAAkB,GAFT,2CAAH,qDAKPL,EAAU,yCAAG,6BAAA7tC,EAAA,sEAETxU,EAFS,OAEDgxC,QAFC,IAEDA,OAFC,EAEDA,EAAcvnB,EAAME,GAFnB,SAGToP,EAAO/4B,EAAO,CAAEk5B,eAAe,IAHtB,OAIfvqC,IAJe,gDAMfmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SANjB,yDAAH,qDAUhB,OACE,uCACE,eAAC,GAAD,CACE8F,KAAMstE,EACNvC,QAASiC,EACT/mE,OAAO,OACPmH,OAAQ,kBAAMmgE,GAAoB,IAClCtrE,OAAO,WAET,eAAC,GAAD,CACEjC,KAAMotE,EACNjrD,MAAO,kBAAMkrD,GAAkB,IAC/B/4B,SAAUA,EACVy4B,YAAaA,EACbC,WAAYA,IAEd,eAAC,GAAD,CACE9qE,UACGopD,EAAaxc,GAAU+Y,aAAe59C,GAAW6xD,EAEpDz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,QC7D7BmE,GAAY,SAACpgE,GACjB,IAAgBu4C,EAASv4C,EAAjB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,+BADb,YAC+Ck3C,QAD/C,IAC+CA,OAD/C,EAC+CA,EAAMt0C,GADrD,YAC2Ds0C,QAD3D,IAC2DA,OAD3D,EAC2DA,EAAM30C,SAK/Dy8D,GAAiB,WACrB,IAAgB9nB,EAAS4lB,eAAjBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,gBAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,OAAOwV,eAAe,WAAzC,UACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAACukD,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAagJ,OAC3BjuB,OAAQw6B,EACRt3B,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAU+Y,qBAOtCooB,GAAW,SAAC,GAAkB,IAAb/sE,EAAY,oBAC3BhG,EAAYC,cACFi3C,EAAS4lB,eAAjBpgD,OACF0xC,EAAelC,KAEf+kB,EAAgB,kBACpB,eAAC,GAAD,UACE,eAAChiB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAI/BwyC,EAAmB,kBACvB,eAAC,GAAD,UACE,eAACjiB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAIrC,OACE,gBAACgiC,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAOlI,EAAU,gCAAtB,UACE,eAAC,KAAD,CAAWkI,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQs5B,WACLh2C,EAAU,aACVA,EAAU,iBAIpB,eAACwuD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGZ,eAACrD,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,mCAAD,cAC2B0c,QAD3B,IAC2BA,OAD3B,EAC2BA,EAAQwH,kBAK9C,OAAJgzB,QAAI,IAAJA,OAAA,EAAAA,EAAMhC,aAAckZ,EAAaxc,GAAU0Z,yBAC1C,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,YAGjB,OAAJmuC,QAAI,IAAJA,OAAA,EAAAA,EAAMlyC,WAAY,eAAC,KAAD,CAAW+D,OAAO,aACrC,eAACslD,GAAA,EAAD,CACEtlD,OAAO,kBACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQ45B,iBACLt2C,EAAU,aACVA,EAAU,iBAIpB,eAACquD,GAAA,EAAD,CACEtlD,OAAO,eACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,kCAAD,cAC0B0c,QAD1B,IAC0BA,OAD1B,EAC0BA,EAAQ65B,qBAK7C,OAAJW,QAAI,IAAJA,OAAA,EAAAA,EAAMI,iBAAkB,eAAC,KAAD,CAAWvuC,OAAO,mBAC3C,eAAC,GAAD,OAEDqlD,EAAaxc,GAAUsX,cACtB,eAACyX,GAAA,EAAD,CAAKv6D,KAAK,SAAS8B,MAAOlI,EAAU,iCAApC,SACE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAa0I,OACvBthC,OAAO,YACPkvD,KAAM7J,EAAaxc,GAAUuX,aAAe,OAAS,OACrDkT,aAAa,eACbC,aAAa,eACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC2gC,OAAQx7B,EAAE/Y,GACVuiC,UAAW3uB,IAEbgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC2gC,OAAQx7B,EAAE/Y,GACVuiC,UAAW3uB,IAEbimD,uBAAwB,SAACr+B,GAAD,OACc,KAA7B,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASoa,yBAEXpa,QAAS,eAAC6yC,EAAD,IACTpU,oBAAqB,CACnBnqB,iBAAgB,OAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAMt0C,GACxB41C,wBAAwB,GAE1B/xB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,gBAKzBqlD,EAAaxc,GAAU6Z,iBACtB,eAACkV,GAAA,EAAD,CACEv6D,KAAK,YACL8B,MAAOlI,EAAU,oCAFnB,SAIE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAawI,UACvBphC,OAAO,eACPkvD,KAAM7J,EAAaxc,GAAU8Z,gBAAkB,OAAS,OACxD2Q,aAAa,kBACbC,aAAa,kBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC2gC,OAAQx7B,EAAE/Y,GACV40C,aAAchhC,IAEhBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC2gC,OAAQx7B,EAAE/Y,GACV40C,aAAchhC,IAEhBimD,uBAAwB,SAACr+B,GAAD,OACc,KAA7B,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASoa,yBAEXpa,QAAS,eAAC8yC,EAAD,IACTrU,oBAAqB,CACnBnqB,iBAAgB,OAAEwE,QAAF,IAAEA,OAAF,EAAEA,EAAMt0C,GACxB41C,wBAAwB,GAE1B/xB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,qBASnBiqE,GAAW,SAAChtE,GAAD,OACtB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,S,SFtOQmyE,K,cAAAA,E,aAAAA,Q,KGcL,ICdKlX,GDcCwX,GAAwB,SAAC,GAM/B,IAAD,EALJlqE,EAKI,EALJA,OACA2T,EAII,EAJJA,OAKM1c,EAAYC,cACZizE,EAAY,UAAIx2D,GAAWA,EAAO3T,UAAtB,aAAG,EAAwCmW,MAAM,KAEnE,OACE,eAAComC,GAAA,EAAD,UACE,gBAACqL,GAAA,EAAD,CAAMltC,WAAS,EAACS,UAAU,SAA1B,UACGgvD,GAAgBA,EAAa,IAC5B,eAACviB,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,CAAS9yD,SAAUw5B,GAAasJ,SAAUliC,OAAO,eAAjD,SACE,eAAC,KAAD,CAAWyjD,UAAW0mB,EAAa,SAIxCA,GAAgBA,EAAa,IAC5B,eAACviB,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,CAAS9yD,SAAUw5B,GAAasJ,SAAUliC,OAAO,kBAAjD,SACE,eAAC,KAAD,CAAWyjD,UAAW0mB,EAAa,SAIxCA,GAAgBA,EAAa,IAAMA,EAAa,KAAMP,IACrD,eAAChiB,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,CAAS9yD,SAAUw5B,GAAasJ,SAAUliC,OAAO,kBAAjD,SACE,eAAC,KAAD,CACEyjD,UAAWxsD,EAAU,mCAAD,OACiBkzE,EAAa,WAMzDA,GAAgBA,EAAa,IAC5B,eAACviB,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC2lD,GAAA,EAAD,CACE9yD,SAAUw5B,GAAasJ,SACvBliC,OAAO,qBAFT,SAIE,eAAC,KAAD,CAAWyjD,UAAW0mB,EAAa,eASpCC,GAA0B,SAAC,GAMjC,IAAD,EALJpqE,EAKI,EALJA,OACA2T,EAII,EAJJA,OAKMw2D,EAAY,UAAIx2D,GAAWA,EAAO3T,UAAtB,aAAG,EAAwCmW,MAAM,KAEnE,OACE,eAAC,KAAD,CACEnW,OAAO,eACPyjD,UAAW0mB,GAAgBA,EAAa,MAKjCE,GAAwB,SAAC,GAEH,IAAD,EAD7BptE,EAC6B,oBACxB+C,EAAmB/C,EAAnB+C,OAAQ2T,EAAW1W,EAAX0W,OAELtU,EACPqhB,aAAS1gB,GADXohB,MAAS/hB,SAGLirE,EAAmB,UAAI32D,GAAWA,EAAO3T,UAAtB,aAAG,EAAwCmW,MAAM,KAC1E,EAA4BxhB,mBAC1B21E,GAAuBA,EAAoB,GAAKA,EAAoB,GAAK,IAD3E,oBAAOC,EAAP,KAAeC,EAAf,KAGA,EAAkC71E,mBAChC21E,GAAuBA,EAAoB,GAAKA,EAAoB,GAAK,IAD3E,oBAAOG,EAAP,KAAkBC,EAAlB,KAGA,EAAkC/1E,mBAChC21E,GAAuBA,EAAoB,GAAKA,EAAoB,GAAK,IAD3E,oBAAOnvD,EAAP,KAAkBwvD,EAAlB,KAGA,EAAwCh2E,mBACtC21E,GAAuBA,EAAoB,GAAKA,EAAoB,GAAK,IAD3E,oBAAOM,EAAP,KAAqBC,EAArB,KAGMC,EAAgBp1E,uBACpB,2BAAS60E,EAAT,YAAmBE,EAAnB,YAAgCtvD,EAAhC,YAA6CyvD,KAC7C,CAACL,EAAQE,EAAWtvD,EAAWyvD,IAOjC,OAJAv1E,qBAAU,WACRgK,EAAS,CAAEkE,OAAQ,CAAEjQ,MAAOw3E,SAC3B,CAACA,EAAezrE,IAGjB,eAACk9C,GAAA,EAAD,UACE,gBAACqL,GAAA,EAAD,CAAMltC,WAAS,EAACS,UAAU,SAA1B,UACE,eAACysC,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC25C,GAAA,EAAD,CACE9mD,SAAUw5B,GAAasJ,SACvBliC,OAAO,eACPtL,aAAc61E,EACdj3E,MAAOi3E,EACPlrE,SAAU,SAACtJ,GACTy0E,EAAUz0E,EAAEwN,OAAOjQ,YAIzB,eAACs0D,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC25C,GAAA,EAAD,CACE9mD,SAAUw5B,GAAasJ,SACvBliC,OAAO,kBACPtL,aAAc+1E,EACdn3E,MAAOm3E,EACPprE,SAAU,SAACtJ,GACT20E,EAAa30E,EAAEwN,OAAOjQ,YAI5B,eAACs0D,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC45C,GAAA,EAAD,CACE/mD,SAAUw5B,GAAasJ,SACvBliC,OAAO,kBACPtL,aAAcymB,EACd7nB,MAAO6nB,EACP9b,SAAU,SAACtJ,GAAD,OAAO40E,EAAa50E,EAAEwN,OAAOjQ,QACvC4M,QAASzO,OAAOiQ,QAAQkoE,IAAiB1vE,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,WAI/C,eAACs0D,GAAA,EAAD,CAAMr7C,MAAI,EAAV,SACE,eAAC25C,GAAA,EAAD,CACE9mD,SAAUw5B,GAAasJ,SACvBliC,OAAO,qBACPtL,aAAck2E,EACdt3E,MAAOs3E,EACPvrE,SAAU,SAACtJ,GACT80E,EAAgB90E,EAAEwN,OAAOjQ,kBEtIjCy3E,GAAwB,SAAC/nE,GAC7B,IAAMonB,EAAkC,GAIxC,GAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEZwJ,EAAO6pC,kBAAoBirB,GAAiBkT,MAAO,CAAC,IAAD,EAC/Cb,EAAY,UAAGnnE,EAAO8pC,eAAV,aAAG,EAAgB32B,MAAM,MACvC,OAACg0D,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAO6gD,aAAe,2BAEpB,OAACd,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAO8gD,gBAAkB,2BAEvB,OAACf,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAO+gD,gBAAkB,2BAEvB,OAAChB,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAOghD,mBAAqB,+BAEpBpoE,EAAO8pC,UACjB1iB,EAAO0iB,QAAU,0BAcnB,OAZI4tB,OAAOC,MAAMD,OAAO13D,EAAO4rC,uBAC7BxkB,EAAOwkB,mBAAqB,6BAC1B8rB,OAAOC,MAAMD,OAAO13D,EAAO6rC,mBAC7BzkB,EAAOykB,eAAiB,6BACtB6rB,OAAOC,MAAMD,OAAO13D,EAAO8rC,yBAC7B1kB,EAAO0kB,qBAAuB,6BAC5B4rB,OAAOC,MAAMD,OAAO13D,EAAO+rC,qBAC7B3kB,EAAO2kB,iBAAmB,6BACxB2rB,OAAOC,MAAMD,OAAO13D,EAAOgsC,+BAC7B5kB,EAAO4kB,2BAA6B,6BAClC0rB,OAAOC,MAAMD,OAAO13D,EAAOisC,2BAC7B7kB,EAAO6kB,uBAAyB,6BAC3B7kB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,uCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3BksE,GAAgB,SAACpuE,GAC5B,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACLxU,EAAY1xC,EAApB0W,OACR,EAA8Chf,oBACrC,OAAPg6C,QAAO,IAAPA,OAAA,EAAAA,EAAS9B,iBAAT,OACI8B,QADJ,IACIA,OADJ,EACIA,EAAS9B,gBACTirB,GAAiBsG,SAHvB,oBAAOvxB,EAAP,KAAwBy+B,EAAxB,KAMMC,EAAgB,CACpB1+B,gBAAiBirB,GAAiBsG,SAGpC,OACE,eAAC,KAAD,6BAAYnhE,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAU2qD,GACVliE,QAAS,eAAC,GAAD,IACTysB,cAAei2C,EAJjB,UAME,eAACrlB,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACpB6sC,IAAoBirB,GAAiBkT,MACpC,eAAC,GAAD,CAAuBhrE,OAAO,YAE9B,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAAUiiB,YAAU,IAEvCojC,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACG,GAAA,EAAD,CAAWlmD,OAAO,qBAAqBtL,aAAc,IACrD,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,iBAAiBtL,aAAc,IACjD,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,uBAAuBtL,aAAc,IACvD,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,mBAAmBtL,aAAc,IACnD,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,6BAA6BtL,aAAc,IAC7D,eAACwxD,GAAA,EAAD,CAAWlmD,OAAO,yBAAyBtL,aAAc,IACzD,eAACyxD,GAAA,EAAD,CACE7yD,MAAOu5C,EACPxtC,SAAU,SAACtJ,GAAD,OAAOu1E,EAAmBv1E,EAAEwN,OAAOjQ,QAC7C0M,OAAO,kBACPE,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,gBCrGhDk4E,GAAsB,SAACxoE,GAC3B,IAAMonB,EAAkC,GAIxC,GAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEZwJ,EAAO6pC,kBAAoBirB,GAAiBkT,MAAO,CAAC,IAAD,EAC/Cb,EAAY,UAAGnnE,EAAO8pC,eAAV,aAAG,EAAgB32B,MAAM,MACvC,OAACg0D,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAO6gD,aAAe,2BAEpB,OAACd,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAO8gD,gBAAkB,2BAEvB,OAACf,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAO+gD,gBAAkB,2BAEvB,OAAChB,QAAD,IAACA,OAAD,EAACA,EAAe,MAClB//C,EAAOghD,mBAAqB,+BAEpBpoE,EAAO8pC,UACjB1iB,EAAO0iB,QAAU,0BAcnB,OAZI4tB,OAAOC,MAAMD,OAAO13D,EAAO4rC,uBAC7BxkB,EAAOwkB,mBAAqB,6BAC1B8rB,OAAOC,MAAMD,OAAO13D,EAAO6rC,mBAC7BzkB,EAAOykB,eAAiB,6BACtB6rB,OAAOC,MAAMD,OAAO13D,EAAO8rC,yBAC7B1kB,EAAO0kB,qBAAuB,6BAC5B4rB,OAAOC,MAAMD,OAAO13D,EAAO+rC,qBAC7B3kB,EAAO2kB,iBAAmB,6BACxB2rB,OAAOC,MAAMD,OAAO13D,EAAOgsC,+BAC7B5kB,EAAO4kB,2BAA6B,6BAClC0rB,OAAOC,MAAMD,OAAO13D,EAAOisC,2BAC7B7kB,EAAO6kB,uBAAyB,6BAC3B7kB,GAOH4wC,GAAY,SAAC/9D,GACjB,IAAgB0xC,EAAY1xC,EAApB0W,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,kCADb,YACkD03C,QADlD,IACkDA,OADlD,EACkDA,EAAS90C,GAD3D,IACgE,IADhE,OAEG80C,QAFH,IAEGA,OAFH,EAEGA,EAASn1C,KAAM,QAKhByhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAIlCssE,GAAU,SAAC,GAAkB,IAAbxuE,EAAY,oBAC1BtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACLxU,EAAY1xC,EAApB0W,OACR,EAA8Chf,mBAC5Cg6C,EAAQ9B,iBADV,oBAAOA,EAAP,KAAwBy+B,EAAxB,KAIA,OACE,gBAAC,KAAD,6BACMruE,GADN,IAEEkrB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUorD,GAJZ,UAME,eAAC,KAAD,CAAWxrE,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACmzC,GAAA,EAAD,CAAcp1D,OAAO,cACrB,eAACylD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,aAGX9b,IAAoBirB,GAAiBkT,MACpC,eAAC,GAAD,CAAuBhrE,OAAO,YAE9B,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAAUiiB,YAAU,IAEvCojC,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEpmD,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACG,GAAA,EAAD,CAAWlmD,OAAO,uBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,mBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,yBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,qBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,+BAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,2BAClB,eAACmmD,GAAA,EAAD,CACE7yD,MAAOu5C,EACPxtC,SAAU,SAACtJ,GAAD,OAAOu1E,EAAmBv1E,EAAEwN,OAAOjQ,QAC7C0M,OAAO,kBACPE,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,cAOvCo4E,GAAc,SAACzuE,GAAD,OACzB,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QCnIEk0E,GAAiB,SAAC1uE,GACtB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KAErB,OACE,gBAAC,KAAD,6BAAYlmD,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IAChC0vB,EAAaxc,GAAU0Z,yBACtB,eAAC6D,GAAA,EAAD,CACEjnD,MAAM,oCACNa,OAAO,4BACPwD,UAAWo1B,GAAaoI,kBACxBtjB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACI,GAAA,EAAD,CACEnmD,OAAO,kBACPE,QAASzO,OAAOiQ,QAAQo2D,IAAkB59D,KAAI,gBAAE5G,EAAF,2BAAc,CAC1DuG,GAAIvG,EACJkG,KAAK,oCAAD,OAAsClG,cAO9Cs4E,GAAe,SAAC,GAAkB,IAAb3uE,EAAY,oBAC7B+G,EAAYuxB,eAAZvxB,QACFrN,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD6yC,EAAelC,KACflsD,EAAYC,cAElB,OACE,gBAAC,KAAD,6BACM+F,GADN,IAEEW,KAAK,QACLghB,QAAS5a,EACTgiD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAasJ,SAAxB,YAAoCroC,EAApC,UAJZ,UAME,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,UAChB+lD,GACA,eAACT,GAAA,EAAD,CACEtlD,OAAO,UACP1C,OAAQ,SAACqW,GAAD,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQk5B,mBAAoBirB,GAAiBkT,MAC3C,eAAC,GAAD,CAAyBhrE,OAAO,UAAU2T,OAAQA,IAElD,eAAC,KAAD,CAAW3T,OAAO,gBAKxB+lD,GACA,eAACT,GAAA,EAAD,CACEtlD,OAAO,kBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,oCAAD,cAC4B0c,QAD5B,IAC4BA,OAD5B,EAC4BA,EAAQk5B,uBAMrDwY,EAAaxc,GAAU0Z,yBACtB,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,gBAOf6rE,GAAe,SAAC,GAAD,IAAM5uE,EAAN,2BAC1B,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IACT3X,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAET8W,mBAAmB,EAVrB,SAYE,eAAC,GAAD,QCtGEz+B,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXke,eAAgB,CACdviE,aAAc1L,EAAM2D,QAAQ,SAKrBuqE,GAAgB,SAAC,GAYvB,IAXLC,EAWI,EAXJA,QACA39D,EAUI,EAVJA,OACAnH,EASI,EATJA,OACAjG,EAQI,EARJA,KACAiC,EAOI,EAPJA,OAQM/E,EAAYC,cAClB,OACE,gBAAC6tE,GAAA,EAAD,CAAQhrE,KAAMA,EAAd,UACE,eAAC2D,GAAA,EAAD,UACGzG,EAAU,sCAAD,OAAuC+I,EAAvC,YAAiDhE,MAE7D,gBAACgpE,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAASitE,EACT3lE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsP,EACThI,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxBoT,GAA4B,SAAC,GAMnC,IALLlrE,EAKI,EALJA,KACAmiB,EAII,EAJJA,MAKM/jB,EAAUC,KAChB,EAAoCzD,mBAAS,IAA7C,oBAAOuwE,EAAP,KAAmBC,EAAnB,KACA,EAA4DC,MAAY,GAAxE,oBAAOC,EAAP,KAAmBC,EAAnB,KAAkCC,EAAlC,KACA,EAA4C5wE,mBAAS,IAArD,oBAAO6wE,EAAP,KAAuBC,EAAvB,KACA,EAA0C9wE,mBAAS,IAAnD,oBAAO+wE,EAAP,KAAsBC,EAAtB,KACA,EACEP,MAAY,GADd,oBAAOQ,EAAP,KAAsBC,EAAtB,KAAwCC,EAAxC,KAEA,EAAkDnxE,mBAAS,IAA3D,oBAAOoxE,EAAP,KAA0BC,EAA1B,KACA,EAAsCrxE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACgBv3B,EAAYolB,eAApBpgD,OACR,EAAiB6pC,eAAVC,EAAP,qBACMpqC,EAAUsgB,eACV18B,EAAYC,cAEZivE,EAAc,WAClBhB,EAAc,IACdQ,EAAiB,IACjBL,GAAc,GACdO,GAAiB,GACjBJ,EAAkB,IAClBO,EAAqB,IACrB9pD,KAGIkqD,EAAyB,yCAAG,uBAAAltC,EAAA,yDAChCgtC,GAAe,GACfZ,GAAc,GACdO,GAAiB,GACjBJ,EAAkB,IAClBO,EAAqB,IACwB,IAAzCd,EAAWrnB,QAAQ,MAAO,IAAI7rD,QAChCszE,GAAc,GACdG,EACExuE,EACE,2EAGKiuE,EAAWrnB,QAAQ,MAAO,IAAI7rD,SAAWkzE,EAAWlzE,SAC7DszE,GAAc,GACdG,EACExuE,EACE,0EAI0C,IAA5CyuE,EAAc7nB,QAAQ,MAAO,IAAI7rD,QACnC6zE,GAAiB,GACjBG,EACE/uE,EACE,8EAIJyuE,EAAc7nB,QAAQ,MAAO,IAAI7rD,SAAW0zE,EAAc1zE,SAE1D6zE,GAAiB,GACjBG,EACE/uE,EACE,6EAKDsuE,EAAuBnqE,SAAY0qE,EAA0B1qE,QAvClC,kCAwCxBqiD,EACJ,CACErnD,KAAMktC,aAAkB,uBACxBlkC,SAAUw5B,GAAasJ,SACvB5tC,QAAS,CACPw3E,UAAS,OAAEn9B,QAAF,IAAEA,OAAF,EAAEA,EAAS90C,GACpB2pC,MAAO0hC,EACPj+B,SAAUy+B,IAGd,CAAE9nB,eAAe,IAlDW,QAoD9BvqC,IACA8yD,IArD8B,4CAAH,qDAyD/B,OACE,gBAACpB,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAASsB,EACTpmE,OAAO,sBACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,0DAEb,gBAACovE,GAAA,EAAD,WACE,eAACllE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnBzlE,MAAOlI,EACL,8DAEF4f,QAAQ,WACRvjB,MAAO4xE,EACP7lE,SAAU,SAACtJ,GAAD,OAAOovE,EAAcpvE,EAAEwN,OAAOjQ,QACxCyO,WAAS,EACToC,MAAOkhE,EACPljD,WAAYqjD,IAEd,eAACrkE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnBzlE,MAAOlI,EACL,iEAEF4f,QAAQ,WACRvjB,MAAOoyE,EACPrmE,SAAU,SAACtJ,GAAD,OAAO4vE,EAAiB5vE,EAAEwN,OAAOjQ,QAC3CyO,WAAS,EACT3L,KAAK,WACLkwE,aAAa,eACbniE,MAAOyhE,EACPzjD,WAAY4jD,OAGhB,gBAACf,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAAS,kBAAMquE,GAAe,IAC9B/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WChM/Bz5D,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDwwE,GAAsC,WACjD,MAAqChY,eAArBplB,EAAhB,EAAQh7B,OAAiB3P,EAAzB,EAAyBA,QACnB7L,EAAUC,KAChB,EAGIzD,oBAAS,GAHb,oBACE6yE,EADF,KAEEC,EAFF,KAIMpiB,EAAelC,KACrB,EAA+C3F,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEV+zC,EAA4B,yCAAG,uBAAAxuC,EAAA,6DACnCuuC,GAAoC,GADD,SAE7BhqB,EACJ,CACErnD,KAAMktC,aAAkB,0BACxBlkC,SAAUw5B,GAAasJ,SACvB5tC,QAAS,CACPw3E,UAAS,OAAEn9B,QAAF,IAAEA,OAAF,EAAEA,EAAS90C,KAGxB,CAAE+jD,eAAe,IAVgB,OAYnCvqC,IAZmC,2CAAH,qDAmBlC,OACE,uCACE,eAAC,GAAD,CACEtZ,KAAMytE,EACN1C,QAAS4C,EACT1nE,OAAO,sBACPmH,OAAQ,kBAAMsgE,GAAoC,IAClDzrE,OAAO,WAET,eAAC,GAAD,CACE6a,QAAQ,YACRhf,QAfqC,WACzC4vE,GAAoC,IAehC7vE,MAAM,UACNwB,UAAWjB,EAAQuE,OACnByC,MAAM,oDACN0yD,2BAA2B,EAC3B51D,UACGopD,EAAaxc,GAAUqZ,gBAAkBl+C,GAAW6xD,S,SLtEnDnD,K,cAAAA,E,qBAAAA,Q,KMgBZ,I,GAAMsZ,GAAgB,SAAC,GAAD,IAAGnyE,EAAH,EAAGA,GAAH,MAAmC,CACvDzD,KAAMktC,aAAkB,iBACxBlkC,SAAUw5B,GAAasJ,SACvB5tC,QAAS,CACPw3E,UAAWjyE,KAQFoyE,GAAyC,CACpD71E,KAAMs8D,GAAW4F,SACjBznD,KAAM,qDAGKq7D,GAAoC,SAC/CxxE,EAD+C,GAGpC,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKs8D,GAAWyZ,MACd,MAAO,CACL/1E,OACAya,KAAM,iDACN6kD,YAAasW,IAGjB,KAAKtZ,GAAW4F,SACd,OAAO2T,GAET,QACE,MAAM,IAAIn1E,QC7BVsB,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKD6wE,GAA6B,WACxC,IAAMj0E,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACbn/C,EAAY+vD,eAAZ/vD,QACR,EAAgDyuB,qBAC9Cy5C,GACAD,IAFF,2BAAS71E,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIA,EAA8CrG,oBAAS,GAAvD,oBAAO03E,EAAP,KAAwBC,EAAxB,KACM39B,EAAU1pB,eAChB,EAA+Cu4B,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QACXqP,EAAUsgB,eAEV44C,EAAgB31E,mBACpB,oBACG,OAAC+3C,QAAD,IAACA,OAAD,EAACA,EAASC,qBAAqD,IAA/BD,EAAQC,wBACxC,OAACD,QAAD,IAACA,OAAD,EAACA,EAASE,iBAA6C,IAA3BF,EAAQE,oBACpC,OAACF,QAAD,IAACA,OAAD,EAACA,EAASG,uBAAyD,IAAjCH,EAAQG,0BAC1C,OAACH,QAAD,IAACA,OAAD,EAACA,EAASI,mBAAiD,IAA7BJ,EAAQI,sBACtC,OAACJ,QAAD,IAACA,OAAD,EAACA,EAASK,6BAC8B,IAAvCL,EAAQK,gCACT,OAACL,QAAD,IAACA,OAAD,EAACA,EAASM,yBAC0B,IAAnCN,EAAQM,0BACZ,CAACN,IAGHt5C,qBAAU,WAEN2F,EADEuxE,EACO,CAAEn2E,KAAMs8D,GAAW4F,UAEnB,CAAEliE,KAAMs8D,GAAWyZ,UAE7B,CAACI,IAEJ,IAAM10E,EAAO,yCAAG,uBAAAqhC,EAAA,sDACV9iC,IAASs8D,GAAWyZ,OAAOG,GAAmB,GADpC,2CAAH,qDAIPvF,EAAU,yCAAG,6BAAA7tC,EAAA,sEAETxU,EAFS,OAEDgxC,QAFC,IAEDA,OAFC,EAEDA,EAAc/mB,GAFb,SAGT8O,EAAO/4B,EAAO,CAAEk5B,eAAe,IAHtB,OAIfvqC,IAJe,gDAMfmgB,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SANjB,yDAAH,qDAUhB,OACE,uCACE,eAAC,GAAD,CACE8F,KAAMsyE,EACNvH,QAASiC,EACT/mE,OAAO,gBACPmH,OAAQ,kBAAMmlE,GAAmB,IACjCtwE,OAAO,QAET,eAAC,GAAD,CACEC,UACGopD,EAAaxc,GAAUqZ,gBACxB9rD,IAASs8D,GAAW4F,UACpBt0D,GACA6xD,EAEFz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,QCzF7Bz5D,GAAYgC,aAAW,kBAC3BssD,aAAa,CACXhqD,OAAQ,CACNnB,OAAQ,YAKDixE,GAAmC,WAC9C,IAAQxoE,EAAY+vD,eAAZ/vD,QACF7L,EAAUC,KAChB,EACEzD,oBAAS,GADX,oBAAOizE,EAAP,KAAkCC,EAAlC,KAEMxiB,EAAelC,KAMrB,OACE,uCACE,eAAC,GAAD,CACEppD,KAAM6tE,EACN1rD,MAAO,kBAAM2rD,GAA6B,MAE5C,eAAC,GAAD,CACEhxD,QAAQ,YACRhf,QAZkC,WACtCgwE,GAA6B,IAYzBjwE,MAAM,UACNwB,UAAWjB,EAAQuE,OACnByC,MAAM,iDACN0yD,2BAA2B,EAC3B51D,UAAWopD,EAAaxc,GAAUqZ,gBAAkBl+C,QCZtD5L,GAAYgC,aAAW,kBAC3BssD,aAAa,CACX+lB,eAAgB,CACdlxE,OAAQ,YASRy6D,GAAY,SAACpgE,GACjB,IAAgB+4C,EAAY/4C,EAApB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,kCADb,YACkD03C,QADlD,IACkDA,OADlD,EACkDA,EAAS90C,GAD3D,IACgE,IADhE,OAEG80C,QAFH,IAEGA,OAFH,EAEGA,EAASn1C,SAKVy8D,GAAiB,WACrB,MAAsClC,eAAtBplB,EAAhB,EAAQh7B,OAAiB8K,EAAzB,EAAyBA,SACnB4mC,EAAelC,KACfhrD,EAAUC,KAEhB,OACE,uCACE,eAAC+vD,GAAA,EAAD,IACA,gBAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,UACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC+M,GAAA,EAAD,CACE/8D,UAAWjB,EAAQs0E,eACnBhuD,SAAUA,EACV9K,OAAQg7B,EACR93B,QAAQ,YACR5a,UAAWopD,EAAaxc,GAAUqZ,wBAOtCwqB,GAAkB,kBACtB,uCACE,eAACvkB,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC,GAAD,UAKAujB,GAAc,SAAC,GAAD,IAAM1vE,EAAN,2BAClB,gBAACq5D,GAAA,EAAD,6BAAsBr5D,GAAtB,cACE,eAAC,KAAD,CAAW+C,OAAO,uBAClB,eAAC,KAAD,CAAWA,OAAO,mBAClB,eAAC,KAAD,CAAWA,OAAO,yBAClB,eAAC,KAAD,CAAWA,OAAO,qBAClB,eAAC,KAAD,CAAWA,OAAO,+BAClB,eAAC,KAAD,CAAWA,OAAO,2BAClB,eAAC,GAAD,SAoOE4sE,GAAc,SAAC,GAAkB,IAAb3vE,EAAY,oBACpB0xC,EAAY1xC,EAApB0W,OACF1c,EAAYC,cACZmuD,EAAelC,KAErB,OACE,gBAACwU,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAM,kCAAX,UACE,eAAC,KAAD,CAAWa,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,YACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQs5B,WACLh2C,EAAU,aACVA,EAAU,iBAIpB,eAACwuD,GAAA,EAAD,CACEzlD,OAAO,cACP4lD,UAAQ,EACRplD,QAAS,CACP64D,IAAK,UACLC,MAAO,UACPC,KAAM,UACN9Q,KAAM,UACNC,OAAQ,UACRC,OAAQ,cAGJ,OAAPha,QAAO,IAAPA,OAAA,EAAAA,EAAS9B,mBAAoBirB,GAAiBkT,MAC7C,eAAC,GAAD,CAAuBhrE,OAAO,YAE9B,eAAC,KAAD,CAAWA,OAAO,aAEZ,OAAP2uC,QAAO,IAAPA,OAAA,EAAAA,EAASxC,aAAckZ,EAAaxc,GAAU0Z,yBAC7C,eAACv7B,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAaoI,kBACxBpoB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,WAGtB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,kBACP1C,OAAQ,SAACqW,GAAD,OACN,+BACG1c,EAAU,oCAAD,cAC4B0c,QAD5B,IAC4BA,OAD5B,EAC4BA,EAAQk5B,uBAKpD,eAAC,GAAD,OAEF,eAAC+qB,GAAA,EAAD,CAAKz4D,MAAM,mCAAmC9B,KAAK,WAAnD,SACE,eAAC,GAAD,OAEM,OAAPsxC,QAAO,IAAPA,OAAA,EAAAA,EAAS00B,aACR,eAACzL,GAAA,EAAD,CAAKz4D,MAAM,mCAAmC9B,KAAK,WAAnD,SACE,eAAC,GAAD,CAAmBgmE,WAAY10B,EAAQ00B,oBAOpCwJ,GAAc,SAAC5vE,GAAD,OACzB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QCxXEq1E,GAAyB,SAAC9pE,GAC9B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOwsC,OACVplB,EAAOolB,KAAO,0BAETplB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,wCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B4tE,GAAiB,SAAC9vE,GAAD,OAC5B,eAAC,KAAD,6BAAYA,GAAZ,IAAmBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAA1C,SACE,eAAC,KAAD,CACE0wB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU0sD,GAHZ,SAKE,eAAC5mB,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,UCzBnC+qD,GAAuB,SAAChqE,GAC5B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOwsC,OACVplB,EAAOolB,KAAO,0BAETplB,GAOH4wC,GAAY,SAACplE,GACjB,IAAgBg6C,EAAah6C,EAArB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmD24C,QADnD,IACmDA,OADnD,EACmDA,EAAU/1C,GAD7D,IACkE,IADlE,OAEG+1C,QAFH,IAEGA,OAFH,EAEGA,EAAUJ,SAKXyrB,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B8tE,GAAe,SAAChwE,GAAD,OAC1B,eAAC,KAAD,6BAAUA,GAAV,IAAiBk6B,SAAS,EAAO1/B,MAAO,eAAC,GAAD,IAAxC,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU4sD,GAHZ,UAKE,eAAC,KAAD,CAAWhtE,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,WC1CnCirD,GAAkB,SAACjwE,GAAD,OACtB,eAAC,KAAD,6BAAYA,GAAZ,aACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,QAIxBw3C,GAAe,SAAClwE,GAAD,OAC1B,eAAC,KAAD,6BACMA,GADN,IAEEi5B,UAAU,EACVb,QAAS,eAAC,GAAD,IACTxX,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDxvB,mBAAmB,EANrB,SAQE,gBAAC,KAAD,CACEj5B,KAAK,QACLooD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAawI,UAAxB,YAAqCvnC,EAArC,UAFZ,UAIE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,gBCRlBg2D,GAAY,SAAC/4D,GACjB,IAAMhG,EAAYC,cACF04C,EAAa3yC,EAArB0W,OACR,OACE,kCACG1c,EAAU,mCADb,YACmD24C,QADnD,IACmDA,OADnD,EACmDA,EAAU/1C,GAD7D,IACkE,IADlE,OAEG+1C,QAFH,IAEGA,OAFH,EAEGA,EAAUJ,SAKXymB,GAAiB,WACrB,IAAgBrmB,EAAamkB,eAArBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,OAAOwV,eAAe,WAAzC,SACE,eAACukD,GAAA,EAAD,CACEt/C,QAAQ,YACR4H,SAAS,aACT9K,OAAQi8B,EACR3zC,UAAWopD,EAAaxc,GAAU8Z,wBAOtCyqB,GAAe,SAAC,GAAkB,IAAbnwE,EAAY,oBACrB2yC,EAAa3yC,EAArB0W,OACF0xC,EAAelC,KAEfkqB,EAAiB,kBACrB,gBAAC,GAAD,WACE,eAACnnB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IACjC,eAACuwB,GAAA,EAAD,CAAWlmD,OAAO,mBAItB,OACE,gBAAC23D,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAM,mCAAX,UACE,eAAC,KAAD,CAAWa,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAAC,GAAD,OAEF,eAAC43D,GAAA,EAAD,CAAKv6D,KAAK,UAAU8B,MAAM,mCAA1B,SACE,qCACE,gBAAC,GAAD,CACEC,SAAUw5B,GAAasI,QACvBlhC,OAAO,qBACPkvD,KAAM7J,EAAaxc,GAAU8Z,gBAAkB,OAAS,OACxD2Q,aAAa,gBACbC,aAAa,gBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC8rB,WAAY3mB,EAAE/Y,GACdyzE,mBAAoB7/D,IAEtBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC8rB,WAAY3mB,EAAE/Y,GACdyzE,mBAAoB7/D,IAEtBimD,uBAAwB,SAACr+B,GAAD,OACK,KAApB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAAS8U,gBAEX9U,QAAS,eAACg4C,EAAD,IACTvZ,oBAAqB,CACnBv6B,WAAU,OAAEqW,QAAF,IAAEA,OAAF,EAAEA,EAAU/1C,GACtBwzC,kBAAkB,GAEpB3vB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,gBAIxB,eAAC43D,GAAA,EAAD,CAAKv6D,KAAK,QAAQ8B,MAAM,iCAAxB,SACE,qCACE,gBAAC,GAAD,CACEC,SAAUw5B,GAAagJ,MACvB5hC,OAAO,qBACPkvD,KAAM7J,EAAaxc,GAAU8Z,gBAAkB,OAAS,OACxD2Q,aAAa,gBACbC,aAAa,gBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC8rB,WAAY3mB,EAAE/Y,GACdyzE,mBAAoB7/D,IAEtBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC8rB,WAAY3mB,EAAE/Y,GACdyzE,mBAAoB7/D,IAEtBimD,uBAAwB,SAACr+B,GAAD,OACK,KAApB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAAS8U,gBAEX9U,QAAS,eAACg4C,EAAD,IACTvZ,oBAAqB,CACnBv6B,WAAU,OAAEqW,QAAF,IAAEA,OAAF,EAAEA,EAAU/1C,GACtBwzC,kBAAkB,GAEpB3vB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW/f,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,QAAW,oBAQ5ButE,GAAe,SAACtwE,GAAD,OAC1B,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,Q,oBC/GE+1E,GAAsB,SAACxqE,GAC3B,IAAMonB,EAAkC,GAkBxC,OAjBKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXiuC,KAAKx0C,MAAM+P,EAAO06B,aACrBtT,EAAOsT,UAAY,gCAChB+J,KAAKx0C,MAAM+P,EAAO26B,WACrBvT,EAAOuT,QAAU,gCACd36B,EAAO06B,YACVtT,EAAOsT,UAAY,0BAEhB16B,EAAO26B,UACVvT,EAAOuT,QAAU,0BAEf,IAAI8J,KAAKzkC,EAAO06B,WAAa,IAAI+J,KAAKzkC,EAAO26B,WAC/CvT,EAAOsT,UAAY,+BACnBtT,EAAOuT,QAAU,gCAEZvT,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,qCAGpBw2E,GAAmB,SAAC,GAMnB,IALLC,EAKI,EALJA,eACA1tE,EAII,EAJJA,OAKA,EAAiBw9C,eAAVC,EAAP,qBACMjqB,EAASC,eACPhV,EAAai/C,eAAbj/C,SACR,EAEIiC,aAAmBgtD,GADrBtsD,MAAS/hB,EADX,EACWA,SAAiBsuE,EAD5B,EACqBr6E,MAGf+gE,EAAe,SAACC,GACpB,OAAQt0D,GACN,KAAK44B,GAAa8I,QAChBriC,EAAS,GAAD,oBAAKsuE,GAAL,aAAsBrZ,KAC9B,MACF,QACE9gC,EAAO,WAAD,OAAYxzB,EAAZ,gCAINu0D,EAAe,SAACC,GACpB,OAAQx0D,GACN,KAAK44B,GAAa8I,QAChBriC,EAASsuE,EAAathE,QAAO,SAACxS,GAAD,OAAiB26D,EAAYtgE,SAAS2F,OACnE,MACF,QACE25B,EAAO,WAAD,OAAYxzB,EAAZ,gCAINy0D,EAAa,SAACC,GAClB,OAAQ10D,GACN,KAAK44B,GAAa8I,QAChB,cAAOisC,QAAP,IAAOA,OAAP,EAAOA,EAAcz5E,SAASwgE,GAChC,QAEE,OADAlhC,EAAO,WAAD,OAAYxzB,EAAZ,+BACC,IAiCP20D,EAAU,WACd,IAAQx1C,EAAiBoW,eAAjBpW,aACF01C,EAA4B,yCAAG,+BAAA37B,EAAA,sEAE3BukB,EACJ,CACErnD,KAAMktC,aAAkBqa,MACxBv+C,SAAUY,EACV1L,QAAS,CACP+X,OAAO,gBACF8S,KAIT,CAAEy+B,eAAe,IAZc,kKACnC,EAaGhoD,YAdgC,aACnC,EAaSsE,KAAI,SAACyZ,GAAD,cAAuBA,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQ9Z,MAdT,mFAAH,qDAgB5Bi7D,EAAe,yCAAG,uBAAA57B,EAAA,kEACtBm7B,EADsB,SACHQ,IADG,uGAAH,qDAGfE,EAAe,yCAAG,uBAAA77B,EAAA,kEACtBq7B,EADsB,SACHM,IADG,uGAAH,qDAGrB,OACE,eAACv+B,GAAA,EAAD,UAEE,gBAACu0B,GAAA,EAAD,WACE,eAAC,GAAD,CACEh0C,QAAQ,YACRhf,QAAS,kBAAMi9D,KACf31D,MAAM,4CACN0yD,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,WACRhf,QAAS,kBAAMk9D,KACf51D,MAAM,4CACN0yD,2BAA2B,UAO/BmD,EAAmB,SAAC,GAAD,IAAM/3D,EAAN,2BACvB,eAAC,GAAD,6BACMA,GADN,IAEE6rD,UAAU,EACVsK,cAAe,SAACv5D,GAAD,OAAgB46D,EAAW56D,IAC1CmG,OAAO,KACPnI,QAAS,SAACgC,GAAD,OACP46D,EAAW56D,GACP,kBAAM06D,EAAa,CAAC16D,KACpB,kBAAMw6D,EAAa,CAACx6D,UAK9B,OACE,eAAC6vD,GAAA,EAAD,CAAyBp2D,MAAO0M,EAAhC,SACE,eAAC,KAAD,CACEye,SAAUA,EACVyX,UAAU,EACVz+B,MAAM,IAENimB,KAvFW,WACf,OAAQ1d,GACN,KAAK44B,GAAa8I,QAChB,MAAO,CAAE5hC,MAAO,OAAQigB,MAAO,OACjC,QACE,QAkFM6tD,GACN32C,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,GAAI,OACzDxoC,QAAS,GACT7G,QAAS,eAAC29C,EAAD,IARX,SAUE,qCACE,gBAAC,KAAD,CAAU/2D,KAAK,QAAQmd,MAAO,CAAEk6C,YAAa,SAA7C,UApFY,WAClB,OAAQj1D,GACN,KAAK44B,GAAa8I,QAChB,MAAO,CACL,eAAC,KAAD,CAAW1hC,OAAO,KAAKb,MAAM,MAAS,MACtC,eAAC,KAAD,CAAWa,OAAO,QAAW,SAEjC,QACE,MAAO,IA6EF6tE,GACD,eAAC7Y,EAAD,CAAkB71D,MAAM,wDAQ9Bo7D,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B2uE,GAAc,SAAC7wE,GAC1B,IAAMhG,EAAYC,cAClB,OACE,eAAC,KAAD,6BAAY+F,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAACs2E,GAAA,EAAD,CACE5lD,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUotD,GAHZ,UAKE,gBAACQ,GAAA,EAAD,CAAS7uE,MAAOlI,EAAU,iCAA1B,UACE,eAACivD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAAC+0C,GAAA,EAAD,CAAeh3D,OAAO,YAAYiiB,YAAU,IAC5C,eAAC+0C,GAAA,EAAD,CAAeh3D,OAAO,UAAUiiB,YAAU,IAC1C,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,eAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UAClB,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,cAEvB,eAACguE,GAAA,EAAD,CAAS7uE,MAAOlI,EAAU,iCAA1B,SACE,eAAC,GAAD,CACEy2E,eAAe,aACf1tE,OAAQ44B,GAAa8I,mBC7N3BusC,GAAoB,SAACjrE,GACzB,IAAMonB,EAAkC,GAkBxC,OAjBKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXiuC,KAAKx0C,MAAM+P,EAAO06B,aACrBtT,EAAOsT,UAAY,gCAChB+J,KAAKx0C,MAAM+P,EAAO26B,WACrBvT,EAAOuT,QAAU,gCACd36B,EAAO06B,YACVtT,EAAOsT,UAAY,0BAEhB16B,EAAO26B,UACVvT,EAAOuT,QAAU,0BAEf,IAAI8J,KAAKzkC,EAAO06B,WAAa,IAAI+J,KAAKzkC,EAAO26B,WAC/CvT,EAAOsT,UAAY,+BACnBtT,EAAOuT,QAAU,gCAEZvT,GAGH4wC,GAAY,SAACplE,GACjB,IAAQ+d,EAAW/d,EAAX+d,OACF1c,EAAYC,cACZowB,EAAO1wB,mBACX,kBACI,OAAC+c,QAAD,IAACA,OAAD,EAACA,EAAQ+pB,qBAA6B+J,KAEpC,GAFJ,OACI9zB,QADJ,IACIA,OADJ,EACIA,EAAQ+pB,UAAUmgB,QAAQ,IAAK,OAErC,QAAClqC,QAAD,IAACA,OAAD,EAACA,EAAQ+pB,YAEX,OACE,kCACGzmC,EAAU,gCADb,YACgD0c,QADhD,IACgDA,OADhD,EACgDA,EAAQna,KADxD,IAC+D8tB,EAAM,IADrE,OAEG3T,QAFH,IAEGA,OAFH,EAEGA,EAAQ9Z,OAKTohE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B+uE,GAAY,SAACjxE,GACxB,IAAMhG,EAAYC,cAClB,OACE,eAAC,KAAD,6BAAU+F,GAAV,IAAiBxF,MAAO,eAAC,GAAD,IAAeuf,SAAS,EAAhD,SACE,gBAAC,KAAD,CACEmR,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAU6tD,GAHZ,UAKE,eAAC,KAAD,CAAWjuE,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAAC+0C,GAAA,EAAD,CAAeh3D,OAAO,YAAYiiB,YAAU,IAC5C,eAAC+0C,GAAA,EAAD,CAAeh3D,OAAO,UAAUiiB,YAAU,IAC1C,eAACqjC,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACsV,GAAD,OACN,eAAC,KAAD,CACE6wC,UAAWxsD,EAAU,+BAAD,cACa2b,QADb,IACaA,OADb,EACaA,EAAGgrB,OAAOh8B,4BCzEnDyzD,GAAqB,SAAC,GAAD,IAAGx7D,EAAH,EAAGA,GAAH,MAAiC,CAC1DzD,KAAMktC,aAAkB,cACxBlkC,SAAUw5B,GAAa0I,OACvBhtC,QAAS,CACPonC,QAAS7hC,KAIP07D,GAAmB,SAAC,GAAD,IAAG17D,EAAH,EAAGA,GAAH,MAAiC,CACxDzD,KAAMktC,aAAkB,YACxBlkC,SAAUw5B,GAAa0I,OACvBhtC,QAAS,CACPonC,QAAS7hC,KAQA27D,GAA+B,CAC1Cp/D,KAAMimC,GAAY8xC,cAClBt9D,KAAM,uCAGK4kD,GAAgC,SAC3C/6D,EAD2C,GAGhC,IADTtE,EACQ,EADRA,KAEF,OAAQA,GACN,KAAKimC,GAAY+Q,OACf,MAAO,CACLh3C,OACAya,KAAM,sCACN6kD,YAAaL,IAGjB,KAAKh5B,GAAYwB,SACf,MAAO,CACLznC,OACAya,KAAM,oCACN6kD,YAAaH,IAGjB,KAAKl5B,GAAY8xC,cACf,OAAO3Y,GAET,QACE,MAAM,IAAI1+D,Q,UChDVsB,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACX1vC,QAAS,CACPzY,QAAS,EACT+F,WAAY,mBAEd5H,OAAQ,CACNoS,aAAc,EACdxK,WAAY3N,EAAMN,QAAQmP,QAAQpB,MAEpC3M,MAAO,CACL8G,QAAS,iBAKF6vE,GAAyB,SAAC,GAQhC,IAPLC,EAOI,EAPJA,iBACAt0E,EAMI,EANJA,KACA3D,EAKI,EALJA,KAMM+B,EAAUC,KACVnB,EAAYC,cACVmqB,EAAY0yC,eAAZ1yC,QAcR,OAZAhsB,qBAAU,WACR,IAAM48B,EAAWI,aAAY,WACvBhR,GAASA,MACZ,KAMH,OAJKtnB,GACHu4B,cAAcL,GAGT,kBAAMK,cAAcL,MAC1B,CAACl4B,EAAMsnB,EAASjrB,IAGjB,gBAAC2uE,GAAA,EAAD,CAAQhrE,KAAMA,EAAd,UACE,eAACirE,GAAA,EAAD,CAAe5rE,UAAWjB,EAAQ6e,QAAlC,SACE,eAACrf,EAAA,EAAD,CACEiG,KAAK,QACLxE,UAAWjB,EAAQuE,OACnB7E,QAASw2E,EAHX,SAKE,eAAC,KAAD,CAAO10E,SAAS,cAGpB,eAAC+D,GAAA,EAAD,CAAatE,UAAWjB,EAAQV,MAAhC,SACGR,EAAU,+CAEb,eAACovE,GAAA,EAAD,UACE,eAACiI,GAAA,EAAD,UACGr3E,EAAU,uDCtDfmB,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXhqD,OAAQ,CACN9E,MAAOjB,EAAMN,QAAQ+kB,OAAOC,MAC5B9e,YAAa5F,EAAM2D,QAAQ,GAC3BD,WAAY1D,EAAM2D,QAAQ,SAKnBi0E,GAAyB,WACpC,IAAMp2E,EAAUC,KACVo7B,EAASC,eACT4xB,EAAelC,KACrB,EAA6B4Q,eAArB/vD,EAAR,EAAQA,QAASqd,EAAjB,EAAiBA,QACjB,EAAgDoR,qBAC9CgjC,GACAD,IAFF,2BAASp/D,EAAT,EAASA,KAAMya,EAAf,EAAeA,KAAM6kD,EAArB,EAAqBA,YAAe16D,EAApC,KAIM9F,EAAQ+vB,eACd,EAAwDtwB,oBAAS,GAAjE,oBAAO65E,EAAP,KAA6BC,EAA7B,KACA,EAAwD95E,oBAAS,GAAjE,oBAAO+5E,EAAP,KAA6BC,EAA7B,KACA,EAAoDh6E,oBAAS,GAA7D,oBAAOi6E,EAAP,KAA2BC,EAA3B,KACA,EAA+CrxB,eAA/C,oBAAOC,EAAP,KAA0BoY,EAA1B,KAAiB7xD,QAEjB3O,qBAAU,WACR2F,EAAS,CAAE5E,KAAMlB,EAAM0oC,WACtB,CAAC1oC,IAEJG,qBAAU,WACH2O,GAAY6xD,GAAoB6Y,IAC/Bx5E,EAAM0oC,SAAWvB,GAAY8xC,cAC/BM,GAAwB,GACrBA,GAAwB,MAE9B,CAACv5E,EAAO8O,EAAS6xD,EAAiB6Y,IAErCr5E,qBAAU,WACR,IAAM48B,EAAWI,aAAY,WACvBhR,GAASA,MACZ,KAOH,OANKutD,EAEMJ,IACTK,GAAsB,GACtBv8C,cAAcL,IAHdK,cAAcL,GAKT,kBAAMK,cAAcL,MAC1B,CAACu8C,EAAsBntD,EAASutD,IAEnC,IAKM/2E,EAAO,yCAAG,6BAAAqhC,EAAA,sEAENxU,EAFM,OAEEgxC,QAFF,IAEEA,OAFF,EAEEA,EAAcxgE,GAFhB,SAGNuoD,EAAO/4B,EAAO,CAAEk5B,eAAe,IAHzB,OAIZixB,GAAsB,GAJV,gDAMZr7C,EAAM,OAAC,EAAD,yBAAC,KAAgBv/B,QAAS,SANpB,yDAAH,qDAUb,OACE,uCACE,eAAC,GAAD,CACEo6E,iBAlB6B,WACjCM,GAAwB,GACxBF,GAAwB,IAiBpB10E,KAAMy0E,EACNp4E,KAAMA,IAER,eAAC,GAAD,CACE6F,UACGopD,EAAaxc,GAAUuX,cACxBhqD,IAASimC,GAAY8xC,eACrBnqE,GACA6xD,EAEFz8D,UAAWjB,EAAQuE,OACnBma,QAAQ,YACRhf,QAASA,EACTsH,MAAO0R,EACPghD,2BAA2B,QCzE7BmE,GAAY,SAACpgE,GACjB,IAAgBV,EAAUU,EAAlB+d,OACF1c,EAAYC,cACZowB,EAAO1wB,mBACX,kBACI,OAAC1B,QAAD,IAACA,OAAD,EAACA,EAAOwoC,qBAA6B+J,KAEnC,GAFJ,OACIvyC,QADJ,IACIA,OADJ,EACIA,EAAOwoC,UAAUmgB,QAAQ,IAAK,OAEpC,QAAC3oD,QAAD,IAACA,OAAD,EAACA,EAAOwoC,YAEV,OACE,kCACGzmC,EAAU,gCADb,YACgD/B,QADhD,IACgDA,OADhD,EACgDA,EAAOsE,KADvD,IAC8D8tB,EAAM,IADpE,OAEGpyB,QAFH,IAEGA,OAFH,EAEGA,EAAO2E,OAKRo8D,GAAiB,WACrB,IAAgB/gE,EAAU6+D,eAAlBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,gBAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,OAAOwV,eAAe,WAAzC,UACE,eAAC,GAAD,IACA,eAACukD,GAAA,EAAD,CACEt/C,QAAQ,YACR4H,SAAS,UACT9K,OAAQze,EACR+G,UAAWopD,EAAaxc,GAAUuX,sBAOtC0uB,GAAY,SAAC,GAAkB,IAAb7xE,EAAY,oBAC5BhG,EAAYC,cACFhC,EAAU+H,EAAlB0W,OAEF+jD,EAAkB,kBACtB,eAAC,GAAD,UACE,eAACxR,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAI/B03C,EAAiB,kBACrB,gBAAC,GAAD,WACE,eAACnnB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IACjC,eAACuwB,GAAA,EAAD,CAAWlmD,OAAO,mBAItB,OACE,gBAAC23D,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAOlI,EAAU,iCAAtB,UACE,eAAC,KAAD,CAAW+I,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAACylD,GAAA,EAAD,CAAWzlD,OAAO,YAAY4lD,UAAQ,IACtC,eAACH,GAAA,EAAD,CAAWzlD,OAAO,UAAU4lD,UAAQ,IACpC,eAACN,GAAA,EAAD,CACEtlD,OAAO,SACP1C,OAAQ,SAACsV,GAAD,OACN,eAAC,KAAD,CACE6wC,UAAWxsD,EAAU,+BAAD,cACa2b,QADb,IACaA,OADb,EACaA,EAAGgrB,OAAOh8B,qBAKjD,eAAC,GAAD,OAEF,eAACg2D,GAAA,EAAD,CACEv6D,KAAK,YACL8B,MAAOlI,EAAU,mCAFnB,SAIE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAa8H,UACvB1gC,OAAO,eACPkvD,KAAK,OACLoE,aAAa,kBACbC,aAAa,kBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXk1E,aAActhE,IAEhBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXk1E,aAActhE,IAEhBimD,uBAAwB,SAACr+B,GAAD,OACK,KAApB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAAS8U,gBAEXwpB,uBAAuB,eACvBC,wBAAyB,SAAChhD,GAAD,MAAQ,CAAE8oB,QAAS9oB,EAAE/Y,KAC9Cw7B,QAAS,eAACqiC,EAAD,IACT5D,oBAAqB,CACnBp4B,QAAO,OAAExmC,QAAF,IAAEA,OAAF,EAAEA,EAAO2E,GAChBswC,eAAe,GAEjBzsB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QA1BX,UA6BE,eAAC,KAAD,CAAW/f,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,QAAW,eAInC,eAAC43D,GAAA,EAAD,CAAKv6D,KAAK,UAAU8B,MAAOlI,EAAU,iCAArC,SACE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAa8I,QACvB1hC,OAAO,aACPkvD,KAAK,OACLoE,aAAa,gBACbC,aAAa,gBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXmkC,WAAYvwB,IAEdgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXmkC,WAAYvwB,IAEdimD,uBAAwB,SAACr+B,GAAD,OACK,KAApB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAAS8U,gBAEX9U,QAAS,eAACqiC,EAAD,IACT5D,oBAAqB,CACnBp4B,QAAO,OAAExmC,QAAF,IAAEA,OAAF,EAAEA,EAAO2E,GAChBswC,eAAe,GAEjBzsB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW/f,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,QAAW,eAInC,eAAC43D,GAAA,EAAD,CAAKv6D,KAAK,UAAU8B,MAAOlI,EAAU,iCAArC,SACE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAasI,QACvBlhC,OAAO,qBACPkvD,KAAK,OACLoE,aAAa,gBACbC,aAAa,gBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXyzE,mBAAoB7/D,IAEtBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXyzE,mBAAoB7/D,IAEtBimD,uBAAwB,SAACr+B,GAAD,OACK,KAApB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAAS8U,gBAEXwpB,uBAAuB,aACvBC,wBAAyB,SAAChhD,GAAD,MAAQ,CAAE8oB,QAAS9oB,EAAE/Y,KAC9Cw7B,QAAS,eAACg4C,EAAD,IACTvZ,oBAAqB,CACnBp4B,QAAO,OAAExmC,QAAF,IAAEA,OAAF,EAAEA,EAAO2E,GAChBswC,eAAe,GAEjBzsB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QA1BX,UA6BE,eAAC,KAAD,CAAW/f,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,QAAW,eAInC,eAAC43D,GAAA,EAAD,CAAKv6D,KAAK,QAAQ8B,MAAOlI,EAAU,+BAAnC,SACE,qCACE,gBAAC,GAAD,CACEmI,SAAUw5B,GAAagJ,MACvB5hC,OAAO,qBACPkvD,KAAK,OACLoE,aAAa,gBACbC,aAAa,gBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXyzE,mBAAoB7/D,IAEtBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjCiuB,QAAS9oB,EAAE/Y,GACXyzE,mBAAoB7/D,IAEtBimD,uBAAwB,SAACr+B,GAAD,OACK,KAApB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAAS8U,gBAEXwpB,uBAAuB,aACvBC,wBAAyB,SAAChhD,GAAD,MAAQ,CAAE8oB,QAAS9oB,EAAE/Y,KAC9Cw7B,QAAS,eAACg4C,EAAD,IACTvZ,oBAAqB,CACnBp4B,QAAO,OAAExmC,QAAF,IAAEA,OAAF,EAAEA,EAAO2E,GAChBswC,eAAe,GAEjBzsB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QA1BX,UA6BE,eAAC,KAAD,CAAW/f,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,QAAW,oBAQ5BgvE,GAAY,SAAC/xE,GAAD,OACvB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QC7OEw3E,GAAsB,SAACjsE,GAC3B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAOg4B,YACV5Q,EAAO4Q,UAAY,0BAEd5Q,GA6CM8kD,GA1CK,SAACjyE,GACnB,IAAMhG,EAAYC,cACZP,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACjDurC,EAAWzuC,eAAXyuC,OACFoxB,EAAc,IAAI1c,gBAAgB1U,GAAQ3qD,IAAI,YAC9CusC,EACY,OAAhBwvC,EAAuBzU,OAAOyU,QAAe79E,EAE/C,OACE,eAAC,KAAD,6BAAY2L,GAAZ,IAAmBxF,MAAOR,EAAU,2BAApC,SACE,gBAAC,KAAD,CACEkxB,SAAQ,mBAAcwX,EAAd,WACRvf,SAAU6uD,GAFZ,UAIE,eAAC7oB,GAAA,EAAD,CACEpmD,OAAO,YACPwD,UAAWo1B,GAAa4J,SACxB9kB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B15C,OAAQ,CAAEszB,YACV1d,YAAU,EANZ,SAQE,eAAC,GAAD,CACEve,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAG9D,eAACG,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,SAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,OACPE,QAASzO,OAAOiQ,QAAQy3B,IAAWj/B,KAAI,gBAAE5G,EAAF,2BAAc,CACnDuG,GAAIvG,EACJkG,KAAK,6BAAD,OAA+BlG,gBClDhC+kC,GARD,SAAC,GAAD,IAAGxnB,EAAH,EAAGA,KAAH,OACZ,eAAC0rC,GAAA,EAAD,CAAK6M,UAAU,QAAQ8Q,EAAG,EAA1B,SACE,eAACh8D,GAAA,EAAD,CAAY2Y,QAAQ,QAAQsjD,WAAS,EAArC,SACGtpD,O,gBC0BDimD,GAAW,SAAC,GAAD,IAAM75D,EAAN,2BACf,gBAAC,GAAD,6BAAaA,GAAb,cACE,eAAC,KAAD,CAAW+C,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,OAAOogB,SAAUgvD,iBACnC,eAAC,KAAD,CAAWpvE,OAAO,cAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,OACPE,QAASzO,OAAOiQ,QAAQy3B,IAAWj/B,KAAI,gBAAE5G,EAAF,2BAAc,CACnDuG,GAAIvG,EACJkG,KAAK,6BAAD,OAA+BlG,SAGvC,eAAC4yD,GAAA,EAAD,CAAWlmD,OAAO,cAIhBqvE,GAAa,SAAC,GAAkB,IAAbpyE,EAAY,oBAC7BhG,EAAYC,cAElB,OACE,gBAAC,GAAD,6BAAsB+F,GAAtB,IAA6BW,KAAK,QAAQuwD,SAAU,eAAC,GAAD,IAAckC,UAAQ,EAA1E,UACE,eAAC,KAAD,CAAWrwD,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAAC,KAAD,CAAWA,OAAO,cAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,OACP1C,OAAQ,SAACsV,GAAD,OACN3b,EAAU,6BAAD,cAA8B2b,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAGxc,UAG9C,eAAC,KAAD,CAAW4J,OAAO,cASlBg2B,GAAc,SAAC,GAAD,IAAG2J,EAAH,EAAGA,SAAH,OAClB,gBAACrJ,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,IACA,eAAC,GAAD,CAA2Bo8B,aAAc,CAAEjzB,kBAIzC2vC,GAAY,SAAC,GAAyC,IAAvC3vC,EAAsC,EAAtCA,SACb1oC,EAAYC,cAClB,OACE,gBAACqlD,GAAA,EAAD,WACE,eAAC,GAAD,CAAO1rC,KAAM5Z,EAAU,4BACvB,eAACq/B,GAAA,EAAD,UACE,eAAC,GAAD,CAA2Bs8B,aAAc,CAAEjzB,oBA8BpC4vC,GApBI,SAAC,GAA4C,IAA1C5vC,EAAyC,EAAzCA,SAAa1iC,EAA4B,mBACrDwhB,EAAa8W,eAAb9W,SAER,OACE,eAAC,KAAD,6BACMxhB,GADN,IAEEwhB,SAAUA,EACVyX,UAAU,EACVb,QA7EoB,CACxB,eAAC6wB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IACjC,eAACuwB,GAAA,EAAD,CAAWlmD,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,cAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,UA0EdgX,QAAS,eAAC,GAAD,CAAa2oB,SAAUA,IAChC9I,mBAAmB,EACnBhZ,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDtvB,MAAO,eAAC,GAAD,CAAW4I,SAAUA,IAT9B,SAWE,eAAC,GAAD,QC/FA6vC,GAAuB,SAACxsE,GAC5B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGHmwC,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAmBzBswE,GAfM,SAACxyE,GACpB,IAAMhG,EAAYC,cAClB,OACE,eAAC,KAAD,6BAAY+F,GAAZ,IAAmBxF,MAAOR,EAAU,4BAApC,SACE,eAAC,KAAD,CACEkxB,SAAS,OACTtf,QAAS,eAAC,GAAD,IACTuX,SAAUovD,GAHZ,SAKE,eAACtpB,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,UCvBrCytD,GAAqB,SAAC1sE,GAC1B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGH6wC,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAwBzBwwE,GApBI,SAAC1yE,GAClB,IAAMhG,EAAYC,cAClB,OACE,eAAC,KAAD,6BACM+F,GADN,IAEEk6B,SAAS,EACT1/B,MAAOR,EAAU,0BAHnB,SAKE,gBAAC,KAAD,CACE4R,QAAS,eAAC,GAAD,IACTsf,SAAS,OACT/H,SAAUsvD,GAHZ,UAKE,eAAC,KAAD,CAAW1vE,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,WChCrC2tD,GAAc,SAAC3yE,GAAD,OAClB,eAAC,KAAD,6BAAYA,GAAZ,aACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,QAI/Bk6C,GAAa,SAAC,GAAD,IAAM5yE,EAAN,2BACjB,gBAAC,KAAD,6BACMA,GADN,IAEEW,KAAK,QACLooD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAa8I,QAAxB,YAAmC7nC,EAAnC,UAHZ,UAKE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,cAiBP8vE,GAbI,SAAC,GAAD,IAAM7yE,EAAN,2BACjB,eAAC,KAAD,6BACMA,GADN,IAEEi5B,UAAU,EACVb,QAAS,eAAC,GAAD,IACTwB,mBAAmB,EACnBhZ,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MANvD,SAQE,eAAC,GAAD,Q,0BCXEyQ,GAAW,SAAC,GAAD,IAAM75D,EAAN,2BACf,gBAAC,GAAD,6BAAaA,GAAb,cACE,eAAC,KAAD,CAAW+C,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,gBAClB,eAAC,KAAD,CAAWA,OAAO,iBAIhB+vE,GAAY,SAAC,GAAD,IAAM9yE,EAAN,2BAChB,gBAAC,GAAD,6BAAsBA,GAAtB,IAA6BW,KAAK,QAAQuwD,SAAU,eAAC,GAAD,IAAckC,UAAQ,EAA1E,UACE,eAAC,KAAD,CAAWrwD,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,aAClB,eAAC,KAAD,CAAWA,OAAO,gBAClB,eAAC,KAAD,CAAWA,OAAO,iBAQhBg2B,GAAc,SAAC,GAAD,IAAG2J,EAAH,EAAGA,SAAH,OAClB,gBAACrJ,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,IACA,eAAC,GAAD,CAA2Bo8B,aAAc,CAAEjzB,kBAIzC2vC,GAAY,SAAC,GAAyC,IAAvC3vC,EAAsC,EAAtCA,SACb1oC,EAAYC,cAClB,OACE,gBAACqlD,GAAA,EAAD,WACE,eAAC,GAAD,CAAO1rC,KAAM5Z,EAAU,2BACvB,eAACq/B,GAAA,EAAD,UACE,eAAC,GAAD,CAA2Bs8B,aAAc,CAAEjzB,oBA8BpCqwC,GApBG,SAAC,GAA4C,IAA1CrwC,EAAyC,EAAzCA,SAAa1iC,EAA4B,mBACpDwhB,EAAa8W,eAAb9W,SAER,OACE,eAAC,KAAD,6BACMxhB,GADN,IAEEi5B,UAAU,EACVzX,SAAUA,EACV4W,QA5DoB,CACxB,eAAC6wB,GAAA,EAAD,CAAWlmD,OAAO,cAAc21B,UAAQ,IACxC,eAACuwB,GAAA,EAAD,CAAWlmD,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAyDdgX,QAAS,eAAC,GAAD,CAAa2oB,SAAUA,IAChC9I,mBAAmB,EACnBhZ,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDtvB,MAAO,eAAC,GAAD,CAAW4I,SAAUA,IAT9B,SAWE,eAAC,GAAD,Q,gBClEAm3B,GAAW,SAAC,GAAD,IAAM75D,EAAN,2BACf,gBAAC,GAAD,6BAAaA,GAAb,cACE,eAAC,KAAD,CAAW+C,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,cAIhBiwE,GAAc,SAAC,GAAD,IAAMhzE,EAAN,2BAClB,gBAAC,GAAD,6BAAsBA,GAAtB,IAA6BW,KAAK,QAAQuwD,SAAU,eAAC,GAAD,IAAckC,UAAQ,EAA1E,UACE,eAAC,KAAD,CAAWrwD,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,cAQhBg2B,GAAc,SAAC,GAAD,IAAG2J,EAAH,EAAGA,SAAH,OAClB,gBAACrJ,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,IACA,eAAC,GAAD,CAA2Bo8B,aAAc,CAAEjzB,kBAIzC2vC,GAAY,SAAC,GAAyC,IAAvC3vC,EAAsC,EAAtCA,SACb1oC,EAAYC,cAClB,OACE,gBAACqlD,GAAA,EAAD,WACE,eAAC,GAAD,CAAO1rC,KAAM5Z,EAAU,8BACvB,eAACq/B,GAAA,EAAD,UACE,eAAC,GAAD,CAA2Bs8B,aAAc,CAAEjzB,oBA8BpCuwC,GApBM,SAAC,GAA8C,IAA5CvwC,EAA2C,EAA3CA,SAAa1iC,EAA8B,mBACzDwhB,EAAa8W,eAAb9W,SAER,OACE,eAAC,KAAD,6BACMxhB,GADN,IAEEwhB,SAAUA,EACVyX,UAAU,EACVb,QAlDoB,CAAC,eAAC6wB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,KAmDtD3e,QAAS,eAAC,GAAD,CAAa2oB,SAAUA,IAChC9I,mBAAmB,EACnBhZ,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDtvB,MAAO,eAAC,GAAD,CAAW4I,SAAUA,IAT9B,SAWE,eAAC,GAAD,QCnDAwwC,GAAkB,SAACv6E,GACvB,IAAQ+d,EAAW/d,EAAX+d,OACFhiB,EAAIuF,cACV,OACE,kCACGvF,EAAE,0BADL,YACkCgiB,QADlC,IACkCA,OADlC,EACkCA,EAAQna,SAKxCy8D,GAAiB,WACrB,MAAqClC,eAArBziB,EAAhB,EAAQ39B,OAAgB8K,EAAxB,EAAwBA,SAClB4mC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,OAAOwV,eAAe,WAAzC,SACE,eAACukD,GAAA,EAAD,CACE13C,SAAUA,EACV9K,OAAQ29B,EACRz6B,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAU0X,sBAmD7B6vB,GA5CI,SAACnzE,GAClB,IAAMtL,EAAIuF,cACMo6C,EAAW++B,aAA6BpzE,GAAhD0W,OAER,OACE,eAAC,KAAD,6BAAU1W,GAAV,IAAiBxF,MAAO,eAAC,GAAD,IAAqBuf,SAAS,EAAtD,SACE,gBAAC2gD,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAKz4D,MAAOxN,EAAE,kCAAd,UACE,eAAC,KAAD,CAAWqO,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAAC,GAAD,OAEF,eAAC43D,GAAA,EAAD,CAAKz4D,MAAOxN,EAAE,mCAAd,SACE,eAAC+3D,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa4J,SAA7C,SACE,eAAC,GAAD,CACE/qC,MAAM,IACN4U,OAAQ,CAAEszB,SAAQ,OAAE2R,QAAF,IAAEA,OAAF,EAAEA,EAAQz3C,IAC5B8lC,SAAQ,OAAE2R,QAAF,IAAEA,OAAF,EAAEA,EAAQz3C,SAIxB,eAAC+9D,GAAA,EAAD,CAAKz4D,MAAOxN,EAAE,iCAAd,SACE,eAAC+3D,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa8J,OAA7C,SACE,eAAC,GAAD,CACEjrC,MAAM,IACN4U,OAAQ,CAAEszB,SAAQ,OAAE2R,QAAF,IAAEA,OAAF,EAAEA,EAAQz3C,IAC5B8lC,SAAQ,OAAE2R,QAAF,IAAEA,OAAF,EAAEA,EAAQz3C,SAIxB,eAAC+9D,GAAA,EAAD,CAAKz4D,MAAOxN,EAAE,gCAAd,SACE,eAAC+3D,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAagK,MAA7C,SACE,eAAC,GAAD,CACEnrC,MAAM,IACN4U,OAAQ,CAAEszB,SAAQ,OAAE2R,QAAF,IAAEA,OAAF,EAAEA,EAAQz3C,IAC5B8lC,SAAQ,OAAE2R,QAAF,IAAEA,OAAF,EAAEA,EAAQz3C,gBC7E1By2E,GAAqB,SAACttE,GAC1B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAO44B,UACVxR,EAAOwR,QAAU,0BAEZxR,GAsCMmmD,GAnCI,SAACtzE,GAClB,IAAMhG,EAAYC,cACZP,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACjDurC,EAAWzuC,eAAXyuC,OACFoxB,EAAc,IAAI1c,gBAAgB1U,GAAQ3qD,IAAI,YAC9CusC,EACY,OAAhBwvC,EAAuBzU,OAAOyU,QAAe79E,EAE/C,OACE,eAAC,KAAD,6BAAY2L,GAAZ,IAAmBxF,MAAOR,EAAU,0BAApC,SACE,gBAAC,KAAD,CACEkxB,SAAQ,mBAAcwX,EAAd,WACRvf,SAAUkwD,GAFZ,UAIE,eAAClqB,GAAA,EAAD,CACEpmD,OAAO,UACPwD,UAAWo1B,GAAa8J,OACxBhlB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B15C,OAAQ,CAAEszB,YACV1d,YAAU,EANZ,SAQE,eAAC,GAAD,CACEve,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAG9D,eAACG,GAAA,EAAD,CAAWlmD,OAAO,gBAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,oBC9BpBwwE,GAAwB,SAACxtE,GAC7B,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAEXwJ,EAAO28B,WACVvV,EAAOuV,SAAW,0BAEbvV,GAGHwwC,GAAc,SAAC,GAA6C,IAA3Cj7B,EAA0C,EAA1CA,SACf1oC,EAAYC,cACJo6C,EAAW2iB,aACvB,CACE79D,KAAMktC,aAAkBu1B,MACxBz5D,SAAUw5B,GAAa8I,QACvBptC,QAAS,CACPuF,GAAI8lC,IAGR,CAAEtf,aAAsB/uB,IAAbquC,IARL/pC,KAWR,OACE,0CAAUqB,EAAU,8BAApB,OACEq6C,EAAM,mBAAQA,QAAR,IAAQA,OAAR,EAAQA,EAAQ93C,KAAhB,oBAAyB83C,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAQz3C,GAAjC,KAAyC,OAsDtC42E,GAjDO,SAACxzE,GACrB,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACjDurC,EAAWzuC,eAAXyuC,OACFoxB,EAAc,IAAI1c,gBAAgB1U,GAAQ3qD,IAAI,YAC9CusC,EACY,OAAhBwvC,EAAuBzU,OAAOyU,QAAe79E,EAM/C,OACE,eAAC,KAAD,6BAAY2L,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,CAAakoC,SAAUA,IAAjD,SACE,gBAAC,KAAD,CACExX,SAAUwX,EAAQ,mBAAeA,EAAf,WAAmC,OACrDrK,cARe,iBAAO,CAC1BqK,aAQIvf,SAAUowD,GAHZ,UAKI7wC,EAcA,eAACs3B,GAAA,EAAD,CAAaj3D,OAAO,WAAW/D,UAAQ,IAbvC,eAACmqD,GAAA,EAAD,CACEpmD,OAAO,WACPwD,UAAWo1B,GAAa8I,QACxBhkB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B9jC,YAAU,EALZ,SAOE,eAAC,GAAD,CACEve,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAMhE,eAACG,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,IACnC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,SAClB,eAACmmD,GAAA,EAAD,CACEnmD,OAAO,OACPE,QAASzO,OAAOiQ,QAAQy9B,IAAajlC,KAAI,gBAAE5G,EAAF,2BAAc,CACrDuG,GAAIvG,EACJkG,KAAK,+BAAD,OAAiClG,gB,UC3E3C8E,GAAYgC,YAAW,CAC3Bs2E,eAAgB,CACdrzD,aAAc,QAEhBszD,aAAc,CACZlpE,MAAO,SAILmpE,GAAY,SAACj9D,GACjB,MAEIA,EADFA,OAAUtf,EADZ,EACYA,UAAWizB,EADvB,EACuBA,KAAMztB,EAD7B,EAC6BA,GAEvBlI,EAAIuF,cACJ25E,EAAW,UAAMx8E,EAAN,YAAmBizB,EAAKu2B,QAAQ,IAAK,KAArC,YAA6ChkD,GAC9D,OACE,0CAAUlI,EAAE,qCAAZ,aAAqDk/E,MAInDC,GAAY,SAAC7zE,GACjB,MAEIA,EADF0W,OAAUo/B,EADZ,EACYA,QAASG,EADrB,EACqBA,UAAWL,EADhC,EACgCA,WAAYW,EAD5C,EAC4CA,WAAYH,EADxD,EACwDA,YAElDl7C,EAAUC,KACVnB,EAAYC,cAEZ65E,EAAqB,CACzB,CAAE5xE,MAAO,MAAO7L,MAAOy/C,GACvB,CAAE5zC,MAAO,QAAS7L,MAAO4/C,GACzB,CAAE/zC,MAAO,SAAU7L,MAAOu/C,GAC1B,CAAE1zC,MAAO,SAAU7L,MAAOkgD,GAC1B,CAAEr0C,MAAO,UAAW7L,MAAO+/C,IAC3Bn5C,KACA,gBAAGiF,EAAH,EAAGA,MAAH,UAAU7L,OAEN,+BACG2D,EAAU,uCAAD,OAAwCkI,KAD1CA,MAMV6xE,EAAsB,CAC1B,CAAE7xE,MAAO,aAAc7L,MAAOy/C,GAC9B,CAAE5zC,MAAO,eAAgB7L,MAAO4/C,GAChC,CAAE/zC,MAAO,gBAAiB7L,MAAOu/C,GACjC,CAAE1zC,MAAO,gBAAiB7L,MAAOkgD,GACjC,CAAEr0C,MAAO,iBAAkB7L,MAAO+/C,IAClCn5C,KACA,gBAAGiF,EAAH,EAAGA,MAAH,UAAU7L,OACG,eAAC,KAAD,CAAuB0M,OAAQb,EAAOA,MAAM,KAA5BA,MAGzB8xE,EAAqB,CACzB,CAAE9xE,MAAO,UAAW7L,MAAOy/C,GAC3B,CAAE5zC,MAAO,YAAa7L,MAAO4/C,GAC7B,CAAE/zC,MAAO,aAAc7L,MAAOu/C,GAC9B,CAAE1zC,MAAO,aAAc7L,MAAOkgD,GAC9B,CAAEr0C,MAAO,cAAe7L,MAAO+/C,IAC/Bn5C,KACA,gBAAGiF,EAAH,EAAGA,MAAH,UAAU7L,OACG,eAAC,KAAD,CAAuB0M,OAAQb,EAAOA,MAAM,KAA5BA,MAG/B,OACE,eAACyhE,GAAA,EAAD,CAAgB7lD,MAAO,CAAEjT,WAAY,OAAQzF,aAAc,QAA3D,SACE,eAACw+D,GAAA,EAAD,CAAOtiE,QAAQ,OAAf,SACE,eAACgqD,GAAA,EAAD,UACE,gBAAC2I,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CACEp2C,MAAO,CAAEtT,MAAO,OAChBrO,UAAWjB,EAAQu4E,iBAErB,eAACvf,GAAA,EAAD,CACEp2C,MAAO,CAAEtT,MAAO,OAChBrO,UAAWjB,EAAQu4E,eAFrB,SAIGK,IAEH,eAAC5f,GAAA,EAAD,CACEp2C,MAAO,CAAEtT,MAAO,OAChBrO,UAAWjB,EAAQu4E,eAFrB,SAIGM,IAEH,eAAC7f,GAAA,EAAD,CACEp2C,MAAO,CAAEtT,MAAO,OAChBrO,UAAWjB,EAAQu4E,eAFrB,SAIGO,IAEH,eAAC9f,GAAA,EAAD,CACEp2C,MAAO,CAAEtT,MAAO,OAChBrO,UAAWjB,EAAQu4E,2BAS3BT,GAAc,WAClB,IAAMh5E,EAAYC,cAEZg6E,EAAgB,kBACpB,eAACpQ,GAAA,EAAD,UACE,gBAAC5P,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,SAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,OAA3B,SACGxQ,EAAU,+CAEb,eAACk6D,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,SAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,SAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,eAKjC,OACE,eAAC0pE,GAAA,EAAD,CAAYnxE,OAAO,SAAnB,SACE,gBAAC,KAAD,CACEsoD,OAAQ,eAAC,GAAD,IACR/pD,QAAQ,OACR+6C,OAAQ,eAAC43B,EAAD,IACRhoB,gBAAiB,SAACv1C,GAAD,QAAcA,EAAOqrB,MAJxC,UAME,eAAC,KAAD,CAAWh/B,OAAO,OAAOb,MAAM,WAC/B,eAAC,KAAD,CAAWa,OAAO,UAAUb,MAAM,MAClC,eAAC,KAAD,CAAWa,OAAO,OAAOb,MAAM,MAC/B,eAAC,KAAD,CAAWa,OAAO,WAAWb,MAAM,YAMrC0wE,GAAa,WACjB,IAAM54E,EAAYC,cAgBlB,OACE,eAACi6E,GAAA,EAAD,CAAYnxE,OAAO,WAAnB,SACE,gBAAC,KAAD,CAAUsoD,OAAQ,eAAC,GAAD,IAAiB/pD,QAAQ,OAAO+6C,OAhBjC,kBACnB,eAACwnB,GAAA,EAAD,UACE,gBAAC5P,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,SAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,OAA3B,SACGxQ,EAAU,iDAEb,eAACk6D,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,SAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,SAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,eAO7B,UACE,eAAC,KAAD,CAAWzH,OAAO,OAAOb,MAAM,YAC/B,eAAC,KAAD,CAAWa,OAAO,UAAUb,MAAM,MAClC,eAAC,KAAD,CAAWa,OAAO,OAAOb,MAAM,MAC/B,eAAC,KAAD,CAAWa,OAAO,WAAWb,MAAM,YAM9BiyE,GAAc,SAACn0E,GAC1B,IAAMhG,EAAYC,cAsBlB,OACE,eAAC,KAAD,2BAAMO,MAAO,eAAC,GAAD,KAAmBwF,GAAhC,aACE,eAACk0E,GAAA,EAAD,CAAYnxE,OAAO,UAAnB,SACE,gBAAC,KAAD,CAAUsoD,OAAQ,eAAC,GAAD,IAAgB/pD,QAAQ,OAAO+6C,OAvBjC,kBACpB,eAACwnB,GAAA,EAAD,UACE,gBAAC5P,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,QAC3B,eAAC0pD,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,OAA3B,SACGxQ,EAAU,8CAEb,eAACk6D,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,OAA3B,SACGxQ,EAAU,iDAEb,eAACk6D,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,OAA3B,SACGxQ,EAAU,8CAEb,eAACk6D,GAAA,EAAD,CAAWp2C,MAAO,CAAEtT,MAAO,OAA3B,SACGxQ,EAAU,wDASb,UACE,eAAC,KAAD,CAAW+I,OAAO,OAAOb,MAAM,WAC/B,eAAC,KAAD,CAAWa,OAAO,YAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAAC,KAAD,CAAWA,OAAO,sBCvMtBqxE,GAAkB,SAAC,GAAkB,IAAbp0E,EAAY,oBAClCooD,EAAelC,KAIrB,OACE,gBAAC,KAAD,6BACMlmD,GADN,IAEE+oD,SACEX,EAAaxc,GAAU0V,yBACnB,SAAC1kD,GAAD,gBAAW++B,GAAawJ,mBAAxB,YAA8CvoC,EAA9C,eACAvI,EAENymC,gBAAgB,EAPlB,UASE,eAAC,KAAD,CAAW/3B,OAAO,OAClB,eAAC,KAAD,CAAWA,OAAO,SAClB,eAACylD,GAAA,EAAD,CAAWzlD,OAAO,YAAY4lD,UAAQ,IACtC,eAACH,GAAA,EAAD,CAAWzlD,OAAO,UAAU4lD,UAAQ,SAKpC0rB,GAAqB,SAACr0E,GAAD,OACzB,eAAC,KAAD,6BAAYA,GAAZ,aACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,QAIxB47C,GAAkB,SAACt0E,GAAD,OAC7B,eAAC,KAAD,6BACMA,GADN,IAEE+Z,SAAS,EACT3K,OAAQ,CACNmlC,YAAY,GAEdnc,QAAS,eAAC,GAAD,IACT3X,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,QAP9B,SASE,eAAC,GAAD,QC7BEyxD,GAAe,WACnB,IAAM7/E,EAAIuF,cACV,OACE,eAACqlD,GAAA,EAAD,CAAKh+C,QAAS,EAAd,SACE,gBAACqpD,GAAA,EAAD,CAAMltC,WAAS,EAACpgB,QAAS,EAAzB,UACE,eAACstD,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,EAAf,SACGv2D,EAAE,wCAEL,eAACi2D,GAAA,EAAD,CAAMr7C,MAAI,EAAC27C,GAAI,EAAGntC,MAAO,CAAEquC,UAAW,UAAtC,SACE,eAAC,KAAD,CAAWppD,OAAO,sBAOtByxE,GAAa,SAAC,GAAkB,IAAbx0E,EAAY,oBAC3BrH,EAAS2/B,eAAT3/B,KACFe,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnDw0C,EAAez0C,aAAc5b,EAAM2P,YAAYkM,KAAK,OACpD6yC,EAAelC,KAErB,OACE,qCACE,gBAAC,KAAD,6BACMlmD,GADN,IAEEsB,QAASwnD,EAAc,WAAa,UACpCC,SAAU,SAACnsD,GAAD,sBACL++B,GAAa4H,SADR,sBACoB5qC,EAAKiE,UADzB,aACoB,EAAUskC,UAD9B,UAGV+qB,gBAAiB,kBAAMlC,GACvBsB,OAAQ,eAAC,GAAD,IACRvwB,gBAAgB,EARlB,WAUIguB,GACAV,EAAaxc,GAAUgX,gBACvBwF,EAAaxc,GAAUmX,iBACrB,eAACh5B,GAAA,EAAD,CACEhnB,OAAO,YACPb,MAAM,qCACNqE,UAAWo1B,GAAa4H,SACxB5nB,MAAM,EACNmG,OAAO,oBALT,SAOE,eAACiI,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAagI,UACxBhoB,MAAM,EAHR,SAKE,eAAC,KAAD,CAAW5Y,OAAO,mBAIxB+lD,GACAV,EAAaxc,GAAUgX,gBACvBwF,EAAaxc,GAAUmX,iBACrB,eAACh5B,GAAA,EAAD,CACEhnB,OAAO,YACPb,MAAM,oCACNqE,UAAWo1B,GAAa4H,SACxB5nB,MAAM,EACNmG,OAAO,mBALT,SAOE,eAACiI,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAagI,UACxBhoB,MAAM,EAHR,SAKE,eAAC,KAAD,CAAW5Y,OAAO,kBAIxB+lD,GACAV,EAAaxc,GAAUgX,gBACvBwF,EAAaxc,GAAUmX,iBACrB,eAACh5B,GAAA,EAAD,CACEhnB,OAAO,YACPb,MAAM,iCACNqE,UAAWo1B,GAAa4H,SACxB5nB,MAAM,EACNmG,OAAO,gBALT,SAOE,eAACiI,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAagI,UACxBhoB,MAAM,EAHR,SAKE,eAAC,GAAD,CAAW5Y,OAAO,cAIzB+lD,GACCV,EAAaxc,GAAUgX,gBACvBwF,EAAaxc,GAAUmX,iBACrB,eAACh5B,GAAA,EAAD,CACEhnB,OAAO,YACPb,MAAM,oCACNqE,UAAWo1B,GAAa4H,SACxB5nB,MAAM,EACNmG,OAAO,gBALT,SAOE,eAACiI,GAAA,EAAD,CACEhnB,OAAO,aACPwD,UAAWo1B,GAAagI,UACxBhoB,MAAM,EAHR,SAKE,uCACE,eAAC,KAAD,CAAW5Y,OAAO,cAAe,IACjC,eAAC,KAAD,CAAWA,OAAO,aAFpB,IAEkC,eAAC,GAAD,CAAWA,OAAO,iBAK5D,eAAC,KAAD,CAAWA,OAAO,eACjBqlD,EAAaxc,GAAUgX,gBACtBwF,EAAaxc,GAAUsX,cACrB,eAACn5B,GAAA,EAAD,CACEhnB,OAAO,YACPb,MAAM,iCACNqE,UAAWo1B,GAAa4H,SACxB5nB,MAAM,EACNmG,OAAO,YALT,SAOE,eAACiI,GAAA,EAAD,CACEhnB,OAAO,UACPwD,UAAWo1B,GAAa0I,OACxB1oB,MAAM,EAHR,SAKE,uCACE,eAAC,KAAD,CAAW5Y,OAAO,SADpB,IAC8B,eAACylD,GAAA,EAAD,CAAWzlD,OAAO,cADhD,KAEE,eAAC,KAAD,CAAWA,OAAO,OAFpB,YAONgnD,GAAgB,eAAC,KAAD,CAAWhnD,OAAO,qBAMtC0xE,GAAgB,SAACz0E,GACrB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEzD,OACE,gBAAC,KAAD,6BAAYvV,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,aAAa21B,UAAQ,IACtC0vB,EAAaxc,GAAUsX,cACtB,eAACiG,GAAA,EAAD,CACEjnD,MAAM,iCACNa,OAAO,UACPwD,UAAWo1B,GAAa0I,OACxB5jB,KAAM,CAAE5d,MAAO,YAAaigB,MAAO,QACnClC,QAASkoC,EAAc,EAAI,GAL7B,SAOE,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACI,GAAA,EAAD,CACEnmD,OAAO,cACPE,QAASzO,OAAOiQ,QAAQk5B,IAAa1gC,KAAI,gBAAE5G,EAAF,2BAAc,CACrDuG,GAAIvG,EACJkG,KAAK,+BAAD,OAAiClG,SAGxC+xD,EAAaxc,GAAUyX,eACtB,eAAC8F,GAAA,EAAD,CACEpmD,OAAO,WACPwD,UAAWo1B,GAAa8I,QACxBhkB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAI/DV,EAAaxc,GAAUwY,gBACtB,eAAC+E,GAAA,EAAD,CACEpmD,OAAO,YACPwD,UAAWo1B,GAAauK,SACxBzlB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQzD4rB,GAAa,SAAC10E,GAAD,OACxB,eAAC,KAAD,6BACMA,GADN,IAEEi5B,UAAU,EACVrY,QAAS,GACTH,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,QAC5BkX,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDhxB,QAAS,eAAC,GAAD,IANX,SAQE,eAAC,GAAD,QCpNEu8C,GAA2B,SAAC5uE,GAChC,IAAMonB,EAAkC,GAmBxC,OAlBKpnB,EAAOw4B,aACVpR,EAAOoR,WAAa,0BAEjBx4B,EAAOy4B,WACVrR,EAAOqR,SAAW,0BAEfz4B,EAAO5M,OACVg0B,EAAOh0B,KAAO,0BAEX4M,EAAOslC,WACVle,EAAOke,SAAW,0BAEftlC,EAAOulC,SACVne,EAAOme,OAAS,0BAEbvlC,EAAOqlC,WACVje,EAAOie,SAAW,0BAEbje,GAGHwwC,GAAc,SAAC,GAA6C,IAA3CvyB,EAA0C,EAA1CA,SACfpxC,EAAYC,cACJg/D,EAAWjC,aACvB,CACE79D,KAAMktC,aAAkBu1B,MACxBz5D,SAAUw5B,GAAawH,SACvB9rC,QAAS,CACPuF,GAAIwuC,IAGR,CAAEhoB,aAAsB/uB,IAAb+2C,IARLzyC,KAWR,OACE,0CAAUqB,EAAU,yCAApB,OACEi/D,EAAM,mBAAQA,QAAR,IAAQA,OAAR,EAAQA,EAAQ18D,KAAhB,oBAAyB08D,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAQr8D,GAAjC,KAAyC,OAKxCg4E,GAAmB,SAAC50E,GAC/B,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACjDurC,EAAWzuC,eAAXyuC,OACF+zB,EAAc,IAAIrf,gBAAgB1U,GAAQ3qD,IAAI,YAC9Ci1C,EACY,OAAhBypC,EAAuBpX,OAAOoX,QAAexgF,EAM/C,OACE,eAAC,KAAD,6BAAY2L,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,CAAa4wC,SAAUA,IAAjD,SACE,gBAAC,KAAD,CACElgB,SAAUkgB,EAAQ,oBAAgBA,EAAhB,eAAwC,OAC1DjoB,SAAUwxD,GACVt8C,cATe,iBAAO,CAC1B+S,aAKE,UAKIA,EAeA,eAAC4uB,GAAA,EAAD,CAAaj3D,OAAO,WAAW/D,UAAQ,EAACgmB,YAAU,IAdlD,eAACmkC,GAAA,EAAD,CACEpmD,OAAO,WACPtL,aAAc,KACd8O,UAAWo1B,GAAawH,SACxB1iB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B9jC,YAAU,EANZ,SAQE,eAAC,GAAD,CACEve,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAMhE,eAACiR,GAAA,EAAD,CACEh3D,OAAO,aACP5J,KAAK,OACL0rB,OAAQslB,GACRn0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,GACjD2uB,YAAU,IAEZ,eAAC+0C,GAAA,EAAD,CACEh3D,OAAO,WACP5J,KAAK,OACL0rB,OAAQslB,GACRn0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,GACjD2uB,YAAU,IAEZ,eAAC+0C,GAAA,EAAD,CACEh3D,OAAO,WACP5J,KAAK,OACL0rB,OAAQulB,GACRp0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,GACjD2uB,YAAU,IAEZ,eAAC+0C,GAAA,EAAD,CACEh3D,OAAO,SACP5J,KAAK,OACL0rB,OAAQulB,GACRp0C,MAAO,SAACK,GAAD,MAA8B,KAAVA,EAAe,KAAOA,GACjD2uB,YAAU,IAEZ,eAACkkC,GAAA,EAAD,CACEnmD,OAAO,OACPE,QAASzO,OAAOiQ,QAAQqwD,IAAiB73D,KAAI,gBAAE5G,EAAF,2BAAc,CACzDuG,GAAIvG,EACJkG,KAAK,mCAAD,OAAqClG,SAG7C,eAAC2jE,GAAA,EAAD,CAAaj3D,OAAO,oBCtHtB+xE,GAAiB,SAAC90E,GACtB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,gBAAC,KAAD,6BAAYvV,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,IAChC0vB,EAAaxc,GAAUsX,cACtB,eAACiG,GAAA,EAAD,CAAgBpmD,OAAO,UAAUwD,UAAWo1B,GAAa0I,OAAzD,SACE,eAAC,GAAD,CACE59B,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQhEisB,GAAc,WAClB,IAAQhuE,EAAYuxB,eAAZvxB,QACR,OACE,gBAAC,KAAD,CACEpG,KAAK,QACLghB,QAAS5a,EACTgiD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAa8H,UAAxB,YAAqC7mC,EAArC,UAHZ,UAKE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,aAKXiyE,GAAc,SAAC,GAAD,IAAMh1E,EAAN,2BACzB,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IALX,SAOE,eAAC,GAAD,QCtCS68C,GAAqB,SAAClvE,GACjC,IAAMonB,EAAkC,GAOxC,OANKpnB,EAAO6nC,WACVzgB,EAAOygB,SAAW,0BAEf7nC,EAAOikC,WACV7c,EAAO6c,SAAW,0BAEb7c,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,oCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3BgzE,GAAa,SAACl1E,GACzB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,eAAC,KAAD,6BAAYvV,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,gBAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAU8xD,GACVrpE,QAAS,eAAC,GAAD,IAHX,UAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,WAAWiiB,YAAU,IACvC,eAACikC,GAAA,EAAD,CAAWlmD,OAAO,WAAWiiB,YAAU,IACtCojC,EAAaxc,GAAU2V,iBACtB,eAAC4H,GAAA,EAAD,CACEpmD,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxBhjB,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,OAC5BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACqP,GAAA,EAAD,CAAcp1D,OAAO,iCC3ChBoyE,GAAmB,SAACpvE,GAC/B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAO6nC,WACVzgB,EAAOygB,SAAW,0BAEbzgB,GAGH4wC,GAAY,SAAC/9D,GACjB,IAAQ0W,EAAW1W,EAAX0W,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,+BADb,YAC+C0c,QAD/C,IAC+CA,OAD/C,EAC+CA,EAAQ9Z,GADvD,IAC4D,IAD5D,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQk3B,SAAU,QAKnBowB,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3BkzE,GAAW,SAACp1E,GACvB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACzD,OACE,eAAC,KAAD,6BAAUvV,GAAV,IAAiBxF,MAAO,eAAC,GAAD,IAAeuf,SAAS,EAAhD,SACE,gBAAC,KAAD,CACEmR,SAAS,OACT/H,SAAUgyD,GACVvpE,QAAS,eAAC,GAAD,IAHX,UAKE,eAAC,KAAD,CAAW7I,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,WAAWiiB,YAAU,IACtCojC,EAAaxc,GAAU2V,iBACtB,eAAC4H,GAAA,EAAD,CACEpmD,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxBhjB,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,OAC5BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAIhE,eAACqP,GAAA,EAAD,CAAcp1D,OAAO,iC,iBC5CvBg2D,GAAY,SAACpgE,GACjB,IAAgB6mC,EAAY7mC,EAApB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmDwlC,QADnD,IACmDA,OADnD,EACmDA,EAAS5iC,GAD5D,IACiE,IADjE,OAEG4iC,QAFH,IAEGA,OAFH,EAEGA,EAASjjC,SAKV84E,GAAgB,WACpB,MAAsCve,eAAtBt3B,EAAhB,EAAQ9oB,OAAiB8K,EAAzB,EAAyBA,SACzB,OACE,eAACirC,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAa0I,OAA7C,SACE,eAAC,GAAD,CACE7iB,SAAUA,EACVpS,OAAQ,CAAEy+B,UAAS,OAAErO,QAAF,IAAEA,OAAF,EAAEA,EAAS5iC,IAC9Bw7B,aAAS/jC,EACT0lB,SAAS,EACTvf,MAAM,SAMR86E,GAAoB,SAAC,GAAkB,IAAbt1E,EAAY,oBAClC6tC,EAAuB7tC,EAAvB6tC,UAAcp0C,EAAtB,aAA+BuG,EAA/B,IACA,OACE,gBAAC,GAAD,2BACEq4B,cAAe,CACbwV,cAEEp0C,GAJN,IAKE0pB,SAAU8xD,GALZ,UAOE,eAAC,KAAD,CAAWlyE,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,+BAKrBwyE,GAAkB,SAAC,GAAD,IAAMv1E,EAAN,2BACtB,gBAAC,GAAD,6BAAaA,GAAb,IAAoBmjB,SAAUgyD,GAA9B,UACE,eAAC,KAAD,CAAWpyE,OAAO,OAClB,eAACkmD,GAAA,EAAD,CAAWlmD,OAAO,aAClB,eAACo1D,GAAA,EAAD,CAAcp1D,OAAO,+BAInByyE,GAAmB,SAAC,GAAkB,IAAbx1E,EAAY,oBACzBw/B,EAAYs3B,eAApBpgD,OACF0xC,EAAelC,KACflsD,EAAYC,cAElB,OACE,gBAAC,GAAD,6BACM+F,GADN,IAEE+Z,UAASquC,EAAaxc,GAAU4V,sBAAkBntD,EAClD68D,SAAU,eAAC,GAAD,IACVX,WACEnI,EAAaxc,GAAU4V,iBACvB4G,EAAaxc,GAAU6V,kBACrB,eAAC,GAAD,CAAmB5T,UAAS,OAAErO,QAAF,IAAEA,OAAF,EAAEA,EAAS5iC,UACrCvI,EAENymC,gBAAgB,EAChBP,aAAc,KACd64B,UAAQ,EAZV,UAcE,eAAC,KAAD,CAAWrwD,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,aAClB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,wBACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQq3B,uBACL/zC,EAAU,aACVA,EAAU,sBAQpBy7E,GAAe,WACnB,MAAsC3e,eAAtBt3B,EAAhB,EAAQ9oB,OAAiB8K,EAAzB,EAAyBA,SAEzB,OACE,eAACirC,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAaqK,MAA7C,SACE,eAAC,KAAD,CACExrC,MAAM,IACNuf,SAAS,EACTkf,UAAU,EACVzX,SAAUA,EACVpS,OAAQ,CAAEy+B,UAAS,OAAErO,QAAF,IAAEA,OAAF,EAAEA,EAAS5iC,IAC9Bw7B,aAAS/jC,EACTusB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDxvB,mBAAmB,EACnBE,OAAO,EAVT,SAYE,eAAC,GAAD,SAMFk/B,GAAiB,WACrB,IAAgBx5B,EAAYs3B,eAApBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAa8H,WAC3B/sB,OAAQ8oB,EACR5lB,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAU4V,wBAO/Bk0B,GAAc,SAAC11E,GAC1B,IAAMooD,EAAelC,KAErB,OACE,eAAC,KAAD,6BAAUlmD,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,gBAACkgE,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAKz4D,MAAM,mCAAX,UACE,eAAC,KAAD,CAAWa,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAAC,GAAD,OAEDqlD,EAAaxc,GAAUsX,cACtB,eAACyX,GAAA,EAAD,CAAKz4D,MAAM,kCAAkC9B,KAAK,SAAlD,SACE,eAAC,GAAD,MAGHgoD,EAAaxc,GAAU8V,aACtB,eAACiZ,GAAA,EAAD,CAAKz4D,MAAM,iCAAiC9B,KAAK,QAAjD,SACE,eAAC,GAAD,aC3KNu1E,GAAe,SAAC31E,GAAD,OACnB,eAAC,KAAD,6BAAYA,GAAZ,aACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,QAI/Bk9C,GAAY,WAChB,IAAQ7uE,EAAYuxB,eAAZvxB,QACR,OACE,gBAAC,KAAD,CACEpG,KAAK,QACLghB,QAAS5a,EACTgiD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAakJ,MAAxB,YAAiCjoC,EAAjC,UAHZ,UAKE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,aAKX8yE,GAAW,SAAC,GAAD,IAAM71E,EAAN,2BACtB,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IALX,SAOE,eAAC,GAAD,QCVE2gC,GAAY,SAACpgE,GACjB,IAAgB6mC,EAAY7mC,EAApB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,+BADb,YAC+CwlC,QAD/C,IAC+CA,OAD/C,EAC+CA,EAAS5iC,GADxD,YAC8D4iC,QAD9D,IAC8DA,OAD9D,EAC8DA,EAASjjC,SAKrEu5E,GAAY,WAChB,MAAmChf,eAAnBltC,EAAhB,EAAQlT,OAAc8K,EAAtB,EAAsBA,SAChB4mC,EAAelC,KAErB,OACE,qCACE,eAACuG,GAAA,EAAD,CAAyBp2D,MAAOslC,GAAaqK,MAA7C,SACE,eAAC,KAAD,CACExrC,MAAM,IACNuf,SAAS,EACTkf,UAAU,EACVzX,SAAUA,EACVpS,OAAQ,CAAEi+B,OAAM,OAAEzjB,QAAF,IAAEA,OAAF,EAAEA,EAAMhtB,IACxBw7B,aAAS/jC,EACTusB,QAAS,GACToZ,YAAY,EACZJ,mBAAmB,EATrB,SAWE,gBAAC,KAAD,CACEmvB,SAAU,SAACnsD,GAAD,iBAAwB++B,GAAaqK,MAArC,YAA8CppC,EAA9C,UADZ,UAGE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,aACjBqlD,EAAaxc,GAAU2V,iBACtB,eAACx3B,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxB9nB,KAAM,SAACjF,GAAD,iBACAilB,GAAa8H,UADb,YAC0B/sB,EAAOm3B,UADjC,UAHR,SAOE,eAAC,KAAD,CAAW9qC,OAAO,qBAU5Bi2D,GAAiB,WACrB,IAAgBpvC,EAASktC,eAAjBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,eAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,SACE,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAakJ,OAC3BnuB,OAAQkT,EACRhQ,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAUkW,oBAOtCi0B,GAAW,SAAC,GAAkB,IAAb/1E,EAAY,oBAC3BooD,EAAelC,KACLt8B,EAASktC,eAAjBpgD,OAEFs/D,EAAoB,kBACxB,eAAC,GAAD,UACE,eAAC/sB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAIrC,OACE,gBAACgiC,GAAA,EAAD,6BAAsB16D,GAAtB,cACE,gBAAC26D,GAAA,EAAD,CAAKz4D,MAAM,+BAAX,UACE,eAAC,KAAD,CAAWa,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,SAClB,eAAC,GAAD,OAEDqlD,EAAaxc,GAAUiW,aACtB,eAAC8Y,GAAA,EAAD,CAAKv6D,KAAK,cAAc8B,MAAM,mCAA9B,SACE,qCACE,gBAAC,GAAD,CACEC,SAAUw5B,GAAaoJ,YACvBhiC,OAAO,iBACPkvD,KAAM7J,EAAaxc,GAAUkW,YAAc,OAAS,OACpDuU,aAAa,oBACbC,aAAa,oBACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjC68B,OAAQ13B,EAAE/Y,GACVq5E,eAAgBzlE,IAElBgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjC68B,OAAQ13B,EAAE/Y,GACVq5E,eAAgBzlE,IAElBimD,uBAAwB,SAACr+B,GAAD,OACI,KAAnB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASgV,eAEXhV,QAAS,eAAC49C,EAAD,IACTnf,oBAAqB,CACnBxpB,OAAM,OAAEzjB,QAAF,IAAEA,OAAF,EAAEA,EAAMhtB,GACdwwC,cAAc,GAEhB3sB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAxBX,UA2BE,eAAC,KAAD,CAAW5gB,MAAM,KAAKa,OAAO,OAC7B,eAAC,KAAD,CAAWA,OAAO,gBAKzBqlD,EAAaxc,GAAU8V,aACtB,eAACiZ,GAAA,EAAD,CAAKz4D,MAAM,6BAA6B9B,KAAK,QAA7C,SACE,eAAC,GAAD,WAOG81E,GAAW,SAACl2E,GAAD,OACtB,eAAC,KAAD,6BAAUA,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,eAAC,GAAD,QCnJE27E,GAAe,SAACn2E,GACpB,IAAMooD,EAAelC,KACfxsD,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OAEzD,OACE,gBAAC,KAAD,6BAAYvV,GAAZ,cACE,eAACipD,GAAA,EAAD,CAAWlmD,OAAO,WAAW21B,UAAQ,IACpC0vB,EAAaxc,GAAU2V,iBACtB,eAAC4H,GAAA,EAAD,CACEpmD,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxBhjB,KAAM,CAAE5d,MAAO,KAAMigB,MAAO,OAC5BlC,QAASkoC,EAAc,EAAI,GAJ7B,SAME,eAAC,GAAD,CACEriD,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cAQhEstB,GAAY,WAChB,IAAQrvE,EAAYuxB,eAAZvxB,QACFqhD,EAAelC,KAErB,OACE,gBAAC,KAAD,CACEvlD,KAAK,QACLghB,QAAS5a,EACTgiD,SAAU,SAACnsD,GAAD,gBAAW++B,GAAaqK,MAAxB,YAAiCppC,EAAjC,UAHZ,UAKE,eAAC,KAAD,CAAWmG,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,aACjBqlD,EAAaxc,GAAU2V,iBACtB,eAACx3B,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxB9nB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,eAOfszE,GAAW,SAAC,GAAD,IAAMr2E,EAAN,2BACtB,eAAC,KAAD,6BACMA,GADN,IAEE4gB,QAAS,GACToZ,WAAY,eAAC+tB,GAAA,EAAD,CAAYqB,mBAAoB,CAAC,GAAI,GAAI,MACrDnwB,UAAU,EACVb,QAAS,eAAC,GAAD,IALX,SAOE,eAAC,GAAD,QCxDEj9B,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXke,eAAgB,CACdviE,aAAc1L,EAAM2D,QAAQ,SAKrBuqE,GAAgB,SAAC,GAYvB,IAXLC,EAWI,EAXJA,QACA39D,EAUI,EAVJA,OACAnH,EASI,EATJA,OACAjG,EAQI,EARJA,KACAiC,EAOI,EAPJA,OAQM/E,EAAYC,cAClB,OACE,gBAAC6tE,GAAA,EAAD,CAAQhrE,KAAMA,EAAd,UACE,eAAC2D,GAAA,EAAD,UACGzG,EAAU,mCAAD,OAAoC+I,EAApC,YAA8ChE,MAE1D,gBAACgpE,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QAASitE,EACT3lE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsP,EACThI,MAAOlI,EAAU,gBACjB46D,2BAA2B,WAOxB0hB,GAAuB,SAAC,GAM9B,IALLx5E,EAKI,EALJA,KACAmiB,EAII,EAJJA,MAKM/jB,EAAUC,KAChB,EAA0BzD,mBAAiB,IAA3C,oBAAOrB,EAAP,KAAckzE,EAAd,KACA,EAA0B7xE,oBAAS,GAAnC,oBAAOwP,EAAP,KAAco5C,EAAd,KACA,EAAkC5oD,mBAAS,IAA3C,oBAAOqyE,EAAP,KAAkBC,EAAlB,KACA,EAAsCtyE,oBAAS,GAA/C,oBAAOsxE,EAAP,KAAoBC,EAApB,KACgBsN,EAASzf,eAAjBpgD,OACR,EAAiB6pC,eAAVC,EAAP,qBACMpqC,EAAUsgB,eACV18B,EAAYC,cAEZivE,EAAc,WAClBK,EAAS,IACTjpB,GAAS,GACT0pB,EAAa,IACb/qD,KAkBIu3D,EAAwB,yCAAG,uBAAAv6C,EAAA,6DAC/BgtC,GAAe,GADgB,SAEzBzoB,EACJ,CACErnD,KAAMktC,aAAkB,sBACxBlkC,SAAUw5B,GAAaqK,MACvB3uC,QAAS,CACPm2C,OAAM,OAAE+oC,QAAF,IAAEA,OAAF,EAAEA,EAAM35E,GACdqxC,YAAa53C,IAGjB,CAAEsqD,eAAe,IAXY,OAa/B4oB,EAAS,IACTnzD,IACA6I,IAf+B,2CAAH,qDAkB9B,OACE,gBAAC6oD,GAAA,EAAD,CAAQhrE,KAAMA,EAAME,QAASksE,EAA7B,UACE,eAAC,GAAD,CACEpsE,KAAMksE,EACN9+D,OAAQ,kBAAM++D,GAAe,IAC7BpB,QAAS2O,EACTzzE,OAAO,iBACPhE,OAAO,QAET,eAAC0B,GAAA,EAAD,UACGzG,EAAU,kDAEb,eAACovE,GAAA,EAAD,UACE,eAACllE,GAAA,EAAD,CACE/H,UAAWjB,EAAQysE,eACnB/tD,QAAQ,WACRvjB,MAAOA,EACP+L,SAAU,SAACtJ,GAAD,OAAOywE,EAASzwE,EAAEwN,OAAOjQ,QACnCyO,WAAS,EACToC,MAAOA,EACPge,WAAYlrB,EAAU+vE,OAG1B,gBAAChC,GAAA,EAAD,WACE,eAAC,GAAD,CACEnuD,QAAQ,YACRhf,QA3De,WACrB0lD,GAAS,GACT0pB,EAAa,IAUbf,GAAe,IAgDT/mE,MAAOlI,EAAU,kBACjB46D,2BAA2B,IAE7B,eAAC,GAAD,CACEh7C,QAAQ,YACRhf,QAASsuE,EACThnE,MAAOlI,EAAU,gBACjB46D,2BAA2B,WCtJ/Bz5D,GAAYgC,aAAW,SAACzD,GAAD,OAC3B+vD,aAAa,CACXhqD,OAAQ,CACN9E,MAAOjB,EAAMN,QAAQ+kB,OAAOC,MAC5B9e,YAAa5F,EAAM2D,QAAQ,GAC3BD,WAAY1D,EAAM2D,QAAQ,SA6BjBo5E,GAxBc,WAC3B,IAAQ1vE,EAAY+vD,eAAZ/vD,QACR,EAAoCrP,oBAAS,GAA7C,oBAAOg/E,EAAP,KAAmBC,EAAnB,KACM38E,EAAYC,cACZiB,EAAUC,KACVitD,EAAelC,KAErB,OACE,uCACE,eAAC,GAAD,CACEppD,KAAM45E,EACNz3D,MAAO,kBAAM03D,GAAc,MAE7B,eAAC,GAAD,CACEx6E,UAAWjB,EAAQuE,OACnBma,QAAQ,YACR1X,MAAOlI,EAAU,0CACjBgF,UAAWopD,EAAaxc,GAAU+V,aAAe56C,EACjDnM,QAAS,kBAAM+7E,GAAc,UCP/B5d,GAAY,SAACpgE,GACjB,IAAgB49E,EAAS59E,EAAjB+d,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,+BADb,YAC+Cu8E,QAD/C,IAC+CA,OAD/C,EAC+CA,EAAM35E,GADrD,YAC2D25E,QAD3D,IAC2DA,OAD3D,EAC2DA,EAAM3oC,aAK/DgpC,GAAY,SAAC,GAAkB,IACnBL,EADkB,oBAC1B7/D,OACF0xC,EAAelC,KAMfyvB,EAAe,kBACnB,eAAC,GAAD,UACE,eAAC1sB,GAAA,EAAD,CAAWlmD,OAAO,OAAO21B,UAAQ,OAIrC,OACE,gBAAC,GAAD,CACEv2B,SAAUw5B,GAAakJ,MACvB9hC,OAAO,WACPkvD,KAAM7J,EAAaxc,GAAU+V,YAAc,OAAS,OACpD0U,aAAa,cACbC,aAAa,cACbC,qBAAsB,SAAC5gD,EAAGnF,GAAJ,MAAa,CACjCg9B,OAAQ73B,EAAE/Y,GACVi6E,SAAUrmE,IAEZgmD,qBAAsB,SAAC7gD,EAAGnF,GAAJ,MAAa,CACjCg9B,OAAQ73B,EAAE/Y,GACVi6E,SAAUrmE,IAEZimD,uBAAwB,SAACr+B,GAAD,OAAuC,KAAnB,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASmV,eAC9CmpB,uBAAuB,WACvBC,wBAAyB,SAAChhD,GAAD,MAAQ,CAAE63B,OAAQ73B,EAAE/Y,KAC7Cg6D,gBA5BoB,SAACkgB,EAAmB/zE,GAApB,uBACrBA,EAAS+zE,EAAQ75E,KAAI,SAACyZ,GAAD,OAAoBA,EAAO9Z,QA4B/Cw7B,QAAS,eAACu9C,EAAD,IACT9e,oBAAqB,CACnBrpB,OAAM,OAAE+oC,QAAF,IAAEA,OAAF,EAAEA,EAAM35E,GACd2wC,cAAc,GAEhB9sB,KAAM,CACJ5d,MAAO,KACPigB,MAAO,QAzBX,UA4BE,eAAC,KAAD,CAAW/f,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,QAAW,YAK7Bi2D,GAAiB,WACrB,IAAgBud,EAASzf,eAAjBpgD,OACF0xC,EAAelC,KAErB,OACE,uCACE,eAACgF,GAAA,EAAD,IACA,gBAAC5L,GAAA,EAAD,CAAKtqD,EAAG,EAAGmK,QAAQ,QAAQgtD,UAAU,QAArC,UACE,eAAC,GAAD,IACA,eAAC+M,GAAA,EAAD,CACE13C,SAAQ,WAAMma,GAAaqK,OAC3BtvB,OAAQ6/D,EACR38D,QAAQ,YACRkE,MAAO,CAAExf,OAAQ,OACjBU,UAAWopD,EAAaxc,GAAU+V,qBAO/Bo1B,GAAW,SAAC/2E,GACvB,IAAMhG,EAAYC,cACZmuD,EAAelC,KACrB,OACE,eAAC,KAAD,6BAAUlmD,GAAV,IAAiB+Z,SAAS,EAAOvf,MAAO,eAAC,GAAD,IAAxC,SACE,gBAACkgE,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAKz4D,MAAM,+BAAX,UACE,eAAC,KAAD,CAAWa,OAAO,KAAKb,MAAM,OAC7B,eAAC,KAAD,CAAWa,OAAO,aACjBqlD,EAAaxc,GAAU2V,iBACtB,eAACx3B,GAAA,EAAD,CACEhnB,OAAO,YACPwD,UAAWo1B,GAAa8H,UACxB9nB,KAAK,OAHP,SAKE,eAAC,KAAD,CAAW5Y,OAAO,WAGtB,eAACslD,GAAA,EAAD,CACEtlD,OAAO,wBACP1C,OAAQ,SAACqW,GAAD,OACN,gCACS,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQq3B,uBACL/zC,EAAU,aACVA,EAAU,iBAIpB,eAAC,GAAD,OAEDouD,EAAaxc,GAAUiW,aACtB,eAAC8Y,GAAA,EAAD,CAAKz4D,MAAM,6BAA6B9B,KAAK,QAA7C,SACE,eAAC,GAAD,aCxHN42E,GAAsB,SAACjxE,GAC3B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGH4wC,GAAY,SAAC/9D,GACjB,IAAQ0W,EAAW1W,EAAX0W,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,mCADb,YACmD0c,QADnD,IACmDA,OADnD,EACmDA,EAAQ9Z,GAD3D,IACgE,IADhE,OAEG8Z,QAFH,IAEGA,OAFH,EAEGA,EAAQna,SAKTyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3B+0E,GAAc,SAACj3E,GAAD,OACzB,eAAC,KAAD,6BAAUA,GAAV,IAAiBxF,MAAO,eAAC,GAAD,IAAeuf,SAAS,EAAhD,SACE,gBAAC,KAAD,CACEmR,SAAS,OACT/H,SAAU6zD,GACVprE,QAAS,eAAC,GAAD,IAHX,UAKE,eAAC,KAAD,CAAW7I,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,WCxCnCkyD,GAAwB,SAACnxE,GAC7B,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGHwwC,GAAc,WAClB,IAAM3jE,EAAYC,cAClB,OAAO,gCAAOD,EAAU,wCAGpBsjE,GAAgB,SAACt9D,GAAD,OACpB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAAC4xC,GAAA,EAAD,CAAYjqD,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3Bi1E,GAAgB,SAACn3E,GAAD,OAC3B,eAAC,KAAD,6BAAYA,GAAZ,IAAmBxF,MAAO,eAAC,GAAD,IAA1B,SACE,eAAC,KAAD,CACE0wB,SAAS,OACT/H,SAAU+zD,GACVtrE,QAAS,eAAC,GAAD,IAHX,SAKE,eAACq9C,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,UCrBnCoyD,GAAmB,SAACrxE,GACxB,IAAMonB,EAAkC,GAIxC,OAHKpnB,EAAOxJ,OACV4wB,EAAO5wB,KAAO,0BAET4wB,GAGH4wC,GAAY,SAAC/9D,GACjB,IAAQ0W,EAAW1W,EAAX0W,OACF1c,EAAYC,cAClB,OACE,kCACGD,EAAU,+BADb,YAC+C0c,QAD/C,IAC+CA,OAD/C,EAC+CA,EAAQ9Z,GADvD,YAC6D8Z,QAD7D,IAC6DA,OAD7D,EAC6DA,EAAQna,SAKnEyhE,GAAc,SAACh+D,GAAD,OAClB,gBAAC,KAAD,6BAAaA,GAAb,cACE,eAAC2rB,GAAA,EAAD,IACA,eAACm/B,GAAA,EAAD,CAAYx3C,KAAM,eAAC,KAAD,IAAYpR,MAAM,sBAI3Bm1E,GAAW,SAACr3E,GAAD,OACtB,eAAC,KAAD,6BAAUA,GAAV,IAAiBxF,MAAO,eAAC,GAAD,IAAeuf,SAAS,EAAhD,SACE,gBAAC,KAAD,CACEmR,SAAS,OACT/H,SAAUi0D,GACVxrE,QAAS,eAAC,GAAD,IAHX,UAKE,eAAC,KAAD,CAAW7I,OAAO,KAAKb,MAAM,OAC7B,eAAC+mD,GAAA,EAAD,CAAWlmD,OAAO,OAAOiiB,YAAU,WCtD5BsyD,GAAqB,oBACrBC,GAAkC,gCAClCC,GAAkB,mBCEzBC,GAAiC,CACrC,CAAE76E,GAAI,GAAIL,KAAM,UAChB,CAAEK,GAAI46E,GAAiBj7E,KAAM,mBAGlBm7E,GAAiB,eAG5BC,EAH4B,8CAK5BA,EAAY5iF,OACR0iF,GAAqBtoE,OACnBwoE,EAAY16E,KAAI,SAAC26E,GAAD,MAAiB,CAAEh7E,GAAIg7E,EAAYr7E,KAAMq7E,OAE3D,ICROC,GAAwC,CACnDF,YAAa,GACbG,YAAa,GACbC,QAAS,IAGEC,GAAiB,SAC5BC,EACA5gF,GAEA,GAAIA,EAAS,CACX,IAAQ6gF,EAAe7gF,EAAf6gF,WACR,MAAO,CACLP,YAAaO,EAAW,GACxBJ,YAAaI,EAAW/vD,MAAM,EAAG,GACjC4vD,QAASG,EAAW/vD,MAAM,IAG9B,OAAO0vD,I,UCJIM,GAAmC,SAC9CC,GAEA,IACqCC,EAEjCD,EAFDb,IACEe,EAFL,aAGIF,EAHJ,CACGb,IADH,WAIA,IAAKc,EACH,OAAO,gBACFC,GAGP,IAAMC,EA7B0C,SAChDC,EACAJ,GAFgD,OAIhD5jF,OAAOiQ,QAAQ+zE,GAAezoE,QAC5B,SAAC0oE,EAAD,GAA8C,IAAD,oBAA1BC,EAA0B,KAAhBC,EAAgB,KAC3C,OAAIP,EAASM,KAAclB,GAClB,6BACFiB,GADL,mBAEGC,EAAWC,IAGTF,IAET,IAe4BG,CAC5BP,EACAC,GAEF,IAAK9jF,OAAOoO,KAAK21E,GAAuBxjF,OACtC,OAAOujF,EAET,IACwBE,EAEpBF,EAFDhB,IACEuB,EAFL,aAGIP,EAHJ,CACGhB,IADH,WAIMwB,EAAoCtkF,OAAOiQ,QAC/Co0E,GACA9oE,QAAO,SAACtM,EAAD,GAAyB,IAAD,oBAAhB5N,EAAgB,KAAXQ,EAAW,KAC/B,OAAIkiF,EAAsB1iF,GACjB4N,EAEF,6BACFA,GADL,mBAEG5N,EAAMQ,MAER,IACH,OAAO,6BACJihF,GADH,6BAEOkB,GACAD,IAEFO,IAwBMC,GAAyB,SACpCX,EACAL,GAFoC,OAIpCA,EAAQhoE,QAAO,SAACipE,EAAqBC,GACnC,IAA8BT,EAAmCJ,EAAxDd,IACH4B,EA1BoB,SAC5BZ,EACAW,GAF4B,OAI5BzkF,OAAOiQ,QAAQ6zE,GAAcvoE,QAC3B,SAACopE,EAAD,GAAkD,IAAD,oBAAxBC,EAAwB,KAAZC,EAAY,KAC/C,MAAe,KAAXA,EACK,6BACFF,GADL,mBAEGC,EAAa,OAGX,6BACFD,GADL,mBAEGC,EAAaH,EAAUI,IAAW,SAGvC,IASqBC,CADrB,aAAiElB,EAAjE,CAASd,IAAT,WAGE2B,GAEF,MAAM,GAAN,oBACKD,GADL,8BAGOE,GACAV,OAGN,K,UCtGQe,GAAc,yCAAG,WAAOC,GAAP,UAAAv9C,EAAA,+EAC5B,IAAIrI,SAAoB,SAAC6lD,EAAKC,GAAN,OACtB1jF,iBACEwjF,EAEA,CACEG,gBAAgB,EAChBC,SAAU,SAACC,GAAD,OAA+BJ,EAAII,EAAQlhF,OACrDuO,MAAO,SAACA,GAAD,OAAkBwyE,EAAIxyE,UARP,2CAAH,sDAad4yE,GAAiB,SAACnC,EAAuBI,GAAxB,OAC5BA,EAAQhoE,QAAO,SAACtM,EAAMwM,GACpB,IAAM8pE,EAAqBpC,EAAY16E,KAAI,SAACwkB,EAAGhI,GAAJ,YAAc,CACvDgI,EADuD,UAEvDxR,EAAKwJ,UAFkD,QAExC,SAEjB,MAAM,GAAN,oBAAWhW,GAAX,CAAiBjP,OAAOwlF,YAAYD,OACnC,K,UCRC5+E,GAAYgC,aAAW,SAACzD,GAAD,YAAY,CACvCugF,WAAY,CACV96E,QAAS,SAEX+6E,aAAc,CACZt+D,WAAY,SACZsE,SAAU,SACVmQ,aAAc,YAEhB8pD,aAAW,GACTrmE,SAAUpa,EAAM2D,QAAQ,GACxBsO,SAAUjS,EAAM2D,QAAQ,KAFf,eAGR3D,EAAM2P,YAAYkM,KAAK,MAAQ,CAC9B5J,SAAUjS,EAAM2D,QAAQ,MAJjB,eAMR3D,EAAM2P,YAAYkM,KAAK,MAAQ,CAC9B5J,SAAUjS,EAAM2D,QAAQ,KAPjB,GAUX+8E,cAAc,gBACX1gF,EAAM2P,YAAYkM,KAAK,MAAQ,CAC9B1K,WAAYnR,EAAM2D,QAAQ,GAC1BgQ,cAAe3T,EAAM2D,QAAQ,GAC7BmB,YAAa9E,EAAM2D,QAAQ,IAC3B0O,aAAcrS,EAAM2D,QAAQ,UAUrBg9E,GAAmB,SAAC,GAGH,IAF5B1C,EAE2B,EAF3BA,YACAppB,EAC2B,EAD3BA,KAEMrzD,EAAUC,KAChB,OACE,eAACkP,GAAA,EAAD,CAAOlO,UAAWjB,EAAQ++E,WAA1B,SACE,eAACtW,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,CAAOjjE,KAAK,QAAZ,UACE,eAACkjE,GAAA,EAAD,UACE,eAAC5P,GAAA,EAAD,UACG0jB,EAAY16E,KAAI,SAAC26E,EAAY0C,GAAb,OACf,eAACpmB,GAAA,EAAD,CAGE/3D,UAAWmrB,KACTpsB,EAAQi/E,YACRj/E,EAAQg/E,aACRh/E,EAAQk/E,eAEVz5E,KAAK,SARP,SAUGi3E,GAVH,UAEU0C,EAFV,YAEuB1C,WAa7B,eAACtsB,GAAA,EAAD,UACGiD,EAAKtxD,KAAI,SAACoxD,EAAKksB,GAAN,OAER,cADA,CACCtmB,GAAA,EAAD,UACG5F,EAAIpxD,KAAI,SAACu9E,EAAMC,GAAP,OACP,eAACvmB,GAAA,EAAD,CAGE/3D,UAAWjB,EAAQk/E,cAHrB,SAKE,eAACn5E,GAAA,EAAD,CACE2Y,QAAQ,QACRzd,UAAWmrB,KACTpsB,EAAQg/E,aACRh/E,EAAQi/E,aAJZ,SAOGK,KAZL,UAEUC,EAFV,YAEqBD,QAJVD,gB,oDCjDhBG,GAAa,SAAC16E,GACzB,IAAQ1G,EAA6C0G,EAA7C1G,SAAUkB,EAAmCwF,EAAnCxF,MAAOqxB,EAA4B7rB,EAA5B6rB,OAAQV,EAAoBnrB,EAApBmrB,OAAW1xB,EAA5C,aAAqDuG,EAArD,IACM26E,EAAqB,6BACtBC,aAAoB56E,IADE,IAEzB4vD,KAAM/jC,EACNV,SACAoP,aAAc//B,IAER2H,EAAaw4E,EAAbx4E,SACR,OACE,eAACsqD,GAAA,EAAD,CAAyBp2D,MAAO8L,EAAhC,SACE,eAAC04E,GAAA,EAAD,CAAuBxkF,MAAOskF,EAA9B,SACE,eAACG,GAAA,EAAD,0CAAgBrhF,GAAUkhF,GAA1B,aACGrhF,U,qBChCEyhF,GAAkB,SAAC,GAEH,IAKvBC,EANJC,EAC0B,EAD1BA,kBAEMvmF,EAAIuF,cACJs8B,EAASC,eACf,EAAgC9+B,qBAAhC,oBAAOwjF,EAAP,KAAiBC,EAAjB,KASMC,EAAW,yCAAG,WAAOtiF,GAAP,oBAAAmjC,EAAA,yDAClBk/C,EAAY,IACZF,EAAkB,MACZzB,EAHY,UAGG1gF,EAAEwN,OAAO+0E,aAHZ,aAGG,EAAiB,GAHpB,sBAKhB9kD,EAAO,yCAA0C,SAC3C,IAAI18B,MAAJ,uCANU,uBAQa0/E,GAAeC,GAR5B,OAQZ8B,EARY,OASlBH,EAAY3B,EAAaj9E,MACzB0+E,EAAkB,CAAE/C,WAAYoD,IAVd,4CAAH,sDAajB,OACE,gBAACh8B,GAAA,EAAD,CAAK2d,EAAG,EAAG99D,QAAQ,OAAOD,WAAW,SAArC,UACE,gBAACogD,GAAA,EAAD,WACE,eAAC,IAAD,CAAS9kD,MAAO9F,EAAE,gCAAlB,SACE,eAAC4qD,GAAA,EAAD,UACE,eAAC,IAAD,CACE1lC,QAAQ,WACRjf,MAAM,UACNuH,MAAOxN,EAAE,8BACTkG,QA3Bc,WACxBogF,EAAS3kF,MAAQ,GACjB2kF,EAASO,SAqBD,SAME,eAAC,KAAD,CACEz9D,MAAO,CAAE+/B,UAAW,iBAAkBnhD,SAAU,cAKxD,wBACEkL,IAAK,SAACA,GACJozE,EAAWpzE,GAEbzO,KAAK,OACL2kB,MAAO,CAAE3e,QAAS,QAClBiD,SAAUg5E,EACVI,OAAO,iBAGX,eAACl8B,GAAA,EAAD,CAAKm8B,GAAI,EAAT,SACE,eAACx6E,GAAA,EAAD,CAAY2Y,QAAQ,QAApB,SACGshE,EACGxmF,EAAE,0CAA2C,CAAEwmF,aAC/CxmF,EAAE,iD,2DChCHgnF,GAAa,SAAC17E,GACzB,IAAQ27E,EAA+D37E,EAA/D27E,sBAAuBC,EAAwC57E,EAAxC47E,iBAAkBz5E,EAAsBnC,EAAtBmC,SAAa1I,EAA9D,aAAuEuG,EAAvE,IACMtL,EAAIuF,cACJs8B,EAASC,eACTtL,EAAWuL,eACjB,EAA8B8pB,eAA9B,oBAAOC,EAAP,KAAiBz5C,EAAjB,KAAiBA,QACjB,EAAmEyuB,qBACjEwiD,GACAH,IAFF,2BAASF,EAAT,EAASA,YAAaG,EAAtB,EAAsBA,YAAaC,EAAnC,EAAmCA,QAAWkD,EAA9C,KAKA7iF,qBAAU,WACRujF,EAAsBhE,KACrB,CAACgE,EAAuBhE,IAE3B,IAAMtoB,EAAY52D,uBAAY,WAC5B89B,EAAO,uCAAwC,WAC/CrL,EAAS,OAAD,WAAa/oB,MACpB,CAACo0B,EAAQrL,EAAU/oB,IAEhBitD,EAAY32D,uBAChB,SAACyO,GAECwI,QAAQxI,MAAM,8BAA+BA,GAC7CqvB,EAAO,qCAAsC,aAE/C,CAACA,IAGG2hB,EAAaz/C,uBACjB,SAACE,GAAD,OACE6nD,EACE,CACErnD,KCzCiC,aD0CjCgJ,WACA9K,QAAS,CACPsB,SAGJ,CACEgoD,eAAe,EACf0O,YACAD,gBAGN,CAACjtD,EAAUq+C,EAAQ6O,EAAWD,IAG1BvjC,EAASpzB,sBAAW,yCACxB,WAAOojF,GAAP,oBAAA5/C,EAAA,6DACQ6/C,EAAoBF,EAAiBC,GACrCE,EAAgBjC,GAAenC,EAAaI,GAC5CiE,EAAajD,GACjB+C,EACAC,GALJ,SAOQ7jC,EAAW8jC,GAPnB,2CADwB,sDAUxB,CAAC9jC,EAAYy/B,EAAaI,EAAS6D,IAGrC,OACE,gBAACt8B,GAAA,EAAD,WACE,eAAC,GAAD,CAAiB27B,kBAAmBA,OAClC,OAACtD,QAAD,IAACA,OAAD,EAACA,EAAa5iF,SACd,gBAACuqD,GAAA,EAAD,WACE,eAACr+C,GAAA,EAAD,CAAY2Y,QAAQ,UAApB,SACGllB,EAAE,mCAEL,eAAC,GAAD,CAAkBijF,YAAaA,EAAappB,KAAMupB,IAClD,eAACx4B,GAAA,EAAD,CAAK28B,GAAI,EAAGR,GAAI,EAAhB,SACE,eAACx6E,GAAA,EAAD,CAAY2Y,QAAQ,KAApB,SACGllB,EAAE,sCAGP,eAAC,GAAD,cACEm3B,OAAQA,EACRV,OAAQpkB,EACR5E,SAAUA,GACN1I,W,yEEzFV0B,GAAYgC,aAAW,SAACzD,GAAD,MAAY,CACvCyqB,MAAO,CACL3Z,MAAO9Q,EAAM2D,QAAQ,KAEvB6+E,YAAa,CACX9+E,WAAY1D,EAAM2D,QAAQ,QAUjB8+E,GAAS,SAACn8E,GACrB,IACEo8E,EAKEp8E,EALFo8E,aACAj6E,EAIEnC,EAJFmC,SACAk6E,EAGEr8E,EAHFq8E,aAHF,EAMIr8E,EAFF1G,SAAUgjF,OAJZ,MAI+B,GAJ/B,EAKK7iF,EALL,aAMIuG,EANJ,IAOMtL,EAAIuF,cACJiB,EAAUC,KAEhB,EAAuCq6B,qBAAWkiD,GAAgB,IAAlE,oBAAOz0E,EAAP,KAAgBs5E,EAAhB,KACA,EAAkD7kF,mBAEhD,IAFF,oBAAO8kF,EAAP,KAA0BC,EAA1B,KAoBA,OATArkF,qBAAU,WNxCqB,IAC/BskF,EACA/E,EMuCE8E,GNxCFC,EM0CMN,EAAan/E,KAAI,SAACwkB,GAAD,OAAOA,EAAE,MNzChCk2D,EM0CM10E,EAAQhG,KAAI,SAACwkB,GAAD,OAAOA,EAAE7kB,MNxC3B8/E,EAAW3sE,QACT,SAACtM,EAAMwM,GAAP,OACE0nE,EAAY1gF,SAASgZ,GAArB,6BACSxM,GADT,mBACgBwM,EAAOA,IADvB,6BAESxM,GAFT,mBAEgBwM,EAAO,OACzB,QMsCC,CAACmsE,EAAcn5E,IAGhB,eAAC,GAAD,2BACEzI,MAAK,iBAAY2H,GACjBw5E,sBAAuBY,EACvBX,iBApBqB,SACvBe,GAEA,IAAMC,EAAmBzE,GAAiCwE,GAC1D,OAAON,EAAeA,EAAaO,GAAoBA,GAiBrDz6E,SAAUA,GACN1I,GALN,aAOE,eAAC,KAAD,CAAYsO,UAAWi5C,KAAa3oB,cAAemkD,EAAnD,SACGJ,EACEn/E,KAAI,oCAAE4/E,EAAF,KAAaC,EAAb,YACH,uCACE,eAAC5zB,GAAA,EAAD,CACE/sD,UAAWjB,EAAQipB,MAEnBlhB,QAASA,EACTf,MAAOxN,EAAE,oCAAqC,CAAEmoF,cAChD95E,OAAQ85E,EACR15D,SAAU25D,GAAiB3K,gBAJtB0K,GAMP,eAACE,GAAA,EAAD,UACG,gBAAGC,EAAH,EAAGA,SAAaC,EAAhB,0BACCD,EAASH,KAAerF,IACtB,eAACvuB,GAAA,EAAD,cAEE9sD,UAAWmrB,KAAWpsB,EAAQipB,MAAOjpB,EAAQghF,aAC7Cn5E,OAAM,UAAKw0E,GAAL,YAAwCsF,GAC9C36E,MAAOxN,EAAE,mCAAoC,CAC3CmoF,cAEF15D,SAAUgvD,eACV+K,YAAU,GACND,GATN,UACUzF,IADV,OAC4BqF,aAerC1tE,OACC6P,MAAM8Z,QAAQwjD,GACVA,EACA,CAACA,UCrGXnhF,GAAYgC,aAAW,SAACzD,GAAD,MAAY,CACvCyqB,MAAO,CACL3Z,MAAO9Q,EAAM2D,QAAQ,SAIZ8/E,GAAe,SAACn9E,GAC3B,IAAMtG,EAAQsP,eACR8/C,EAAcxzC,aAAc5b,EAAM2P,YAAYkM,KAAK,OACnD7gB,EAAIuF,cACJiB,EAAUC,KAahB,OACE,gBAAC,GAAD,2BAAQihF,aAZ0B,CAClC,CAAC,qBAAqB,GACtB,CAAC,oBAAoB,GACrB,CAAC,iBAAiB,GAClB,CAAC,0BAA0B,GAC3B,CAAC,cAAc,GACf,CAAC,cAAc,GACf,CAAC,eACD,CAAC,cAIuCp8E,GAAxC,cACE,eAACmpD,GAAA,EAAD,CACEhtD,UAAWjB,EAAQipB,MACnBjiB,MAAOxN,EAAE,oCAAqC,CAAEmoF,UAAW,YAC3D95E,OAAM,UAAKu0E,GAAL,YACN/wE,UAAWo1B,GAAa8J,OACxBhlB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9B1T,OAAQ,CAAEjW,KAAM+iC,GAAUkhD,SAC1Bx8D,QAASkoC,EAAc,EAAI,GAC3B3lC,SAAUgvD,eARZ,SAUE,eAAC,GAAD,CACE1rE,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAG9D,eAACK,GAAA,EAAD,CACEhtD,UAAWjB,EAAQipB,MACnBjiB,MAAOxN,EAAE,oCAAqC,CAC5CmoF,UAAW,cAEb95E,OAAM,UAAKu0E,GAAL,cACN/wE,UAAWo1B,GAAauK,SACxBzlB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B3lC,SAAUgvD,eATZ,SAWE,eAAC,GAAD,CACE1rE,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,SAG9D,eAACK,GAAA,EAAD,CACEhtD,UAAWjB,EAAQipB,MACnBjiB,MAAOxN,EAAE,oCAAqC,CAAEmoF,UAAW,YAC3D95E,OAAM,UAAKu0E,GAAL,YACN/wE,UAAWo1B,GAAa0I,OACxB5jB,KAAM,CAAE5d,MAAO,OAAQigB,MAAO,OAC9BlC,QAASkoC,EAAc,EAAI,GAC3B3lC,SAAUgvD,eAPZ,SASE,eAAC,GAAD,CACE1rE,WAAW,OACXmgD,gBAAiB,CAAEwC,mBAAoB,CAACN,EAAc,EAAI,cCJvDu0B,GAAsC,SACjDv3B,GADiD,MAE9C,CACHsC,GAAaxc,GAAUkY,aAAcgC,IACnC,eAACw3B,GAAA,EAAD,CACEhqE,KAAMiqE,KACNhhF,KAAMo/B,GAAakK,QACnBhvC,OAAQsmF,GACRxmE,KAAM+9D,KAGVtsB,GAAaxc,GAAU0W,mBAAoBwD,IACzC,eAACw3B,GAAA,EAAD,CAAU/gF,KAAMo/B,GAAa0H,gBAE/B+kB,GAAaxc,GAAUmX,eAAgB+C,IACrC,eAACw3B,GAAA,EAAD,CACEhqE,KAAMgW,KACN/sB,KAAMo/B,GAAagI,UACnB65C,KAAMrd,GACNxpD,KAAMipD,GACN6d,KACEr1B,GAAaxc,GAAUoX,eAAgB8C,GACnCiZ,QACA1qE,EAENwC,OACEuxD,GAAaxc,GAAUqX,iBAAkB6C,GACrC+Y,QACAxqE,IAIV+zD,GAAaxc,GAAUyV,UAAWyE,IAChC,eAACw3B,GAAA,EAAD,CAAU/gF,KAAMo/B,GAAa4I,KAAM5tB,KAAMo1C,KAE3C3D,GAAaxc,GAAUsX,YAAa4C,IAClC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAa0I,OACnB1tB,KAAM0yC,GACNm0B,KAAMzL,GACN0L,KACEr1B,GAAaxc,GAAUuX,YAAa2C,GAAemrB,QAAY58E,EAEjEwC,OACEuxD,GAAaxc,GAAUwX,cAAe0C,GAClC+qB,QACAx8E,IAIV+zD,GAAaxc,GAAU0V,wBAAyBwE,IAC9C,eAACw3B,GAAA,EAAD,CACEhqE,KAAMoqE,KACNnhF,KAAMo/B,GAAa0J,wBACnB1uB,KAAM29D,KAGVlsB,GAAaxc,GAAU0V,wBAAyBwE,IAC9C,eAACw3B,GAAA,EAAD,CACEhqE,KAAMoqE,KACNnhF,KAAMo/B,GAAawJ,mBACnBq4C,KAAMrJ,KAGV/rB,GAAaxc,GAAU8Y,WAAYoB,IACjC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAagJ,MACnBhuB,KAAMg1D,GACN6R,KAAMxQ,GACNyQ,KACEr1B,GAAaxc,GAAU+Y,WAAYmB,GAAe0lB,QAAWn3E,EAE/DwC,OACEuxD,GAAaxc,GAAUgZ,aAAckB,GACjCulB,QACAh3E,IAIV+zD,GAAaxc,GAAUoW,kBAAmB8D,IACxC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAasH,aACnBpsC,OACEuxD,GAAaxc,GAAUsW,oBAAqB4D,GACxC8uB,QACAvgF,IAIV+zD,GAAaxc,GAAUuW,cAAe2D,IACpC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAawH,SACnBxsB,KAAM4+C,GACNioB,KAAM5iB,GACN6iB,KACEr1B,GAAaxc,GAAUwW,cAAe0D,GAClCmY,QACA5pE,EAENwC,OACEuxD,GAAaxc,GAAUyW,gBAAiByD,GACpC8X,QACAvpE,IAIV+zD,GAAaxc,GAAUgX,cAAekD,IACpC,eAACw3B,GAAA,EAAD,CAAU/gF,KAAMo/B,GAAa4H,SAAUi6C,KAAMngB,KAE/CjV,GAAaxc,GAAU2V,eAAgBuE,IACrC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAa8H,UACnB9sB,KAAMq+D,GACNwI,KAAM9H,GACN+H,KACEr1B,GAAaxc,GAAU4V,eAAgBsE,GACnCmxB,QACA5iF,EAENwC,OACEuxD,GAAaxc,GAAU6V,iBAAkBqE,GACrCqxB,QACA9iF,IAIV+zD,GAAaxc,GAAU2Y,aAAcuB,IACnC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAasI,QACnBttB,KAAMywD,GACNoW,KAAMrS,GACNsS,KACEr1B,GAAaxc,GAAU4Y,aAAcsB,GACjCmhB,QACA5yE,EAENwC,OACEuxD,GAAaxc,GAAU6Y,eAAgBqB,GACnC8gB,QACAvyE,IAIV+zD,GAAaxc,GAAU6Z,eAAgBK,IACrC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAawI,UACnBxtB,KAAMu5D,GACNsN,KAAMlN,GACNmN,KACEr1B,GAAaxc,GAAU8Z,eAAgBI,GACnCkqB,QACA37E,EAENwC,OACEuxD,GAAaxc,GAAU+Z,iBAAkBG,GACrCgqB,QACAz7E,IAIV+zD,GAAaxc,GAAUyV,UAAWyE,IAChC,eAACw3B,GAAA,EAAD,CAAU/gF,KAAMo/B,GAAaoK,cAE/BqiB,GAAaxc,GAAUwY,cAAe0B,IACpC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAauK,SACnBvvB,KAAM8nD,GACN+e,KAAM7e,GACN8e,KACEr1B,GAAaxc,GAAUyY,cAAeyB,GAClCyY,QACAlqE,EAENwC,OACEuxD,GAAaxc,GAAU0Y,gBAAiBwB,GACpCuY,QACAhqE,IAIV+zD,GAAaxc,GAAU8V,WAAYoE,IACjC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAaqK,MACnBrvB,KAAM0/D,GACNmH,KAAMzG,GACN0G,KACEr1B,GAAaxc,GAAU+V,WAAYmE,GAAesvB,QAAW/gF,EAE/DwC,OACEuxD,GAAaxc,GAAUgW,aAAckE,GACjCovB,QACA7gF,IAIV+zD,GAAaxc,GAAUyX,aAAcyC,IACnC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAa8I,QACnB9tB,KAAMk8D,GACN2K,KAAMrK,GACNsK,KACEr1B,GAAaxc,GAAU0X,aAAcwC,GACjC4sB,QACAr+E,EAENwC,OACEuxD,GAAaxc,GAAU2X,eAAgBuC,GACnC0sB,QACAn+E,IAIV+zD,GAAaxc,GAAUqY,cAAe6B,IACpC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAa4J,SACnB5uB,KAAMs8D,GACNp8E,OACEuxD,GAAaxc,GAAUuY,gBAAiB2B,GACpC0tB,QACAn/E,IAIV+zD,GAAaxc,GAAU6W,YAAaqD,IAClC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAa8J,OACnB9uB,KAAM27D,GACNz7E,OACEuxD,GAAaxc,GAAU+W,cAAemD,GAClCmsB,QACA59E,IAIV+zD,GAAaxc,GAAU+X,WAAYmC,IACjC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAagK,MACnBhvB,KAAMo8D,GACNl8E,OACEuxD,GAAaxc,GAAUiY,aAAciC,GACjCwtB,QACAj/E,IAIV+zD,GAAaxc,GAAU0Z,uBAAwBQ,IAC7C,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAaoI,kBACnBptB,KAAMkqD,GACN2c,KAAMzc,GACN0c,KACEr1B,GAAaxc,GAAU2Z,uBAAwBO,GAC3C4a,QACArsE,EAENwC,OACEuxD,GAAaxc,GAAU4Z,yBAA0BM,GAC7Cua,QACAhsE,IAIV+zD,GAAaxc,GAAUoZ,cAAec,IACpC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAasJ,SACnBtuB,KAAMi4D,GACN4O,KAAM5N,GACN6N,KACEr1B,GAAaxc,GAAUqZ,cAAea,GAClC2oB,QACAp6E,EAENwC,OACEuxD,GAAaxc,GAAUsZ,gBAAiBY,GACpCsoB,QACA/5E,IAIV+zD,GAAaxc,GAAUuZ,eAAgBW,IACrC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAakI,UACnBltB,KAAM6qD,GACNgc,KAAM9W,GACN+W,KACEr1B,GAAaxc,GAAUwZ,eAAgBU,GACnCwb,QACAjtE,EAENwC,OACEuxD,GAAaxc,GAAUyZ,iBAAkBS,GACrCsb,QACA/sE,IAIV+zD,GAAaxc,GAAUiW,WAAYiE,IACjC,eAACw3B,GAAA,EAAD,CACE/gF,KAAMo/B,GAAakJ,MACnBluB,KAAMk/D,GACN2H,KAAMtH,GACNuH,KACEr1B,GAAaxc,GAAUkW,WAAYgE,GAAeuxB,QAAWhjF,IAInE+zD,GAAaxc,GAAUiW,WAAYiE,IACjC,eAACw3B,GAAA,EAAD,CAAU/gF,KAAMo/B,GAAaoJ,gBCxX3Bt3B,GAA4C,CAChDk/C,oBACE,WAACj3D,aACEO,QAAQi2D,WADX,cAAC,GAEGhzC,MAAM,OAA4B,IAGpC02C,GAAO,SAACnyD,GACZ,IAAQkvD,EAAuBlvD,EAAvBkvD,mBAMR,OALIA,EAAmB53D,OACrBW,aAAae,QAAQy1D,GAAyBS,EAAmB9oC,QAEjEnuB,aAAayB,WAAW+0D,IAEnBzuD,GAGIkgF,GAAmB,WAGG,IAFjClgF,EAEgC,uDAFxBgQ,GAEwB,yCAD9BtU,EAC8B,EAD9BA,KAAek0D,EACe,EADxBh2D,QAER,GAAI8B,IAASoiC,GAAkB,CAC7B,IAAQoxB,EAAuBlvD,EAAvBkvD,mBACR,OAAIA,EAAmB11D,SAASo2D,GACvBuC,GAAK,6BACPnyD,GADM,IAETkvD,mBAAoBA,EAAmBv9C,QACrC,SAACqS,GAAD,OAAOA,IAAM4rC,QAIZuC,GAAK,6BACPnyD,GADM,IAETkvD,mBAAmB,GAAD,oBAAMA,GAAN,CAA0BU,OAGhD,OAAO5vD,GCZMmgF,GAtBH,WACV,MCQ8B,SAC9BC,GAEA,OAAQA,GACN,IAAK,aACH,MAAO,CACLv3C,aAAcwU,GAA4BxU,IAC1Cp1B,gBACAymB,iBAEJ,IAAK,cACH,MAAO,CACL2O,gBACAp1B,gBACAymB,iBAEJ,QACE,MAAO,CACL2O,aAAcw3C,GACd5sE,aAAc6sE,GACdpmD,kBD5B+CqmD,CACnDv1C,cADMnC,EAAR,EAAQA,aAAcp1B,EAAtB,EAAsBA,aAAcymB,EAApC,EAAoCA,aAGpC,OACE,eAAC,GAAD,CACE7d,UAAW4yC,GACXpmB,aAAcA,EACdp1B,aAAcA,EACdymB,aAAcA,EACdD,eAAgB,CACdh+B,MAAOgiC,GACP5hB,UAAW6jE,IAEbM,aAAcC,GACdjmD,OAAQmnB,GAVV,SAYGi+B,MEbQc,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBlqD,MAAK,YAAkD,IAA/CmqD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,8BCJR5iD,GAAW9lC,aAAaO,QAAQ,YAChC0oF,GAAMnjD,IAAY9lC,aAAaO,QAAb,UAAwBulC,GAAxB,SAExB2e,KAAKykC,IAAIC,MAAkBC,KAAK,CAC9BH,IAAKA,IAAO,KACZI,YAAa,KACbC,OAAO,EACPC,cAAe,CACbC,aAAa,GAEf55E,UAAW,CACT65E,GAAI,CAAEC,YAAaC,IACnB1wD,GAAI,CAAEywD,YAAaE,OAIRnlC,GAAf,ECdAolC,IAASl/E,OACP,eAAC,IAAMm/E,WAAP,UACE,eAAC,GAAD,MAEFt2E,SAASu2E,eAAe,SAM1BtB,O","file":"static/js/main.21f1ca18.chunk.js","sourcesContent":["import { createContext } from 'react';\n/**\n * A context for preferences related configuration.\n */\nexport var PreferencesContext = createContext(undefined);\n","export var RA_PREFERENCE_WORKSPACE = 'preferences';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport get from 'lodash/get';\nimport { RA_PREFERENCE_WORKSPACE } from './constants';\nexport var getPreferencesStorage = function () {\n    if (localStorageAvailable == undefined) {\n        localStorageAvailable = testLocalStorage();\n    }\n    return localStorageAvailable ? window.localStorage : memoryStorage;\n};\n/**\n * reads key preference from storage\n *\n * @param {string} key Path of the preference key to read, uses lodash.get\n *\n * @return {T} Preference value\n\n * @example // Read full preferences\n *\n * const preferences = readStorage<PreferenceType>();\n *\n * @example // read preference for a particular key\n *\n * const density = readStorage<string>('density');\n\n * @example // read preference for a deep key\n *\n * const columns = readStorage<string[]>('orders.list.columns');\n */\nexport var readStorage = function (key) {\n    var preferences = JSON.parse(getPreferencesStorage().getItem(RA_PREFERENCE_WORKSPACE)) ||\n        {};\n    if (key) {\n        return tryParse(get(preferences, key));\n    }\n    return (tryParse(preferences) || {});\n};\n/**\n * sets key preference to value on the preference storage\n *\n * @param {string} key Path of the preference key to update, uses lodash.set\n * @param {T} value New preference value\n *\n * @return {void}\n *\n * @example // Write full preferences to localstorage\n *\n * writeStorage<PreferenceType>('', {\n *      users: {\n *          lists: {\n *              columns: ['id', 'address'],\n *          },\n *      },\n *  });\n *\n * @example // Update preference for a particular key\n *\n * writeStorage<string>('density', 'small');\n *\n * @example // Update preference for a deep key\n *\n * writeStorage<string[]>('orders.list.columns', ['id', 'date', 'customer']);\n */\nexport var writeStorage = function (key, value) {\n    var storage = getPreferencesStorage();\n    try {\n        var preferences = JSON.parse(storage.getItem(RA_PREFERENCE_WORKSPACE)) || {};\n        var newPreferences = key === '' ? value : set(__assign({}, preferences), key, value);\n        storage.setItem(RA_PREFERENCE_WORKSPACE, JSON.stringify(newPreferences));\n        window.dispatchEvent(PreferencesChanged.create(newPreferences));\n        return newPreferences;\n    }\n    catch (err) {\n        if (err instanceof TypeError &&\n            err.message.includes('circular structure')) {\n            throw new TypeError('The object that was given to the writeStorage function has circular references.\\n' +\n                'For more information, check here: ' +\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value');\n        }\n        throw err;\n    }\n};\nexport var overwriteStorage = function (value) {\n    var storage = getPreferencesStorage();\n    storage.setItem(RA_PREFERENCE_WORKSPACE, JSON.stringify(value));\n};\nvar localStorageAvailable = undefined;\nvar storage = {};\nvar memoryStorage = {\n    getItem: function (key) {\n        return get(storage, key);\n    },\n    setItem: function (key, value) {\n        set(storage, key, value);\n    },\n};\nvar tryParse = function (value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nvar testLocalStorage = function () {\n    if (window.localStorage == undefined) {\n        return false;\n    }\n    try {\n        window.localStorage.setItem('test', 'test');\n        window.localStorage.removeItem('test');\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n};\nexport var PreferencesChanged = {\n    eventName: 'onPreferencesChange',\n    create: function (payload) {\n        return new CustomEvent(PreferencesChanged.eventName, {\n            detail: payload,\n        });\n    },\n};\n","// Part of this code comes from rehooks useLocalStorage\n// (https://github.com/rehooks/local-storage/blob/master/src/use-localstorage.ts)\n// We needed to reimplement it, because we don't want the hook to rerender\n// the component subscribe to preference \"density\" when another component\n// sets any other preference\nimport { useEffect, useState, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { usePreferencesContext } from './usePreferencesContext';\nimport { RA_PREFERENCE_WORKSPACE } from './constants';\nimport { getPreferencesStorage, PreferencesChanged, readStorage, writeStorage, } from './preferencesStorage';\n/**\n * useState-like hook with localStorage persistence. Syncs changes between tabs.\n *\n * Preferences are stored in a tree structure, to allow retrievalm of the complete\n * preferencs list and namespacing.\n *\n * @param {string} path Name of the preference. Separate with dots to namespace, e.g. 'posts.list.columns'. Leave empty to retrieve the entire preference tree.\n * @param {any} defaultValue Default value\n *\n * @return {Object} A value and a setter for the value, in an array - just like for useState()\n *\n * Depending on the argument passed to usePreferences(), the return tuple concerns\n * either a single value, or the whole preference tree.\n *\n * @example // Here is how to **read a single value** from the preference store, with a default value\n *\n * import { usePreferences } from '@react-admin/ra-preferences';\n *\n * const PostList = props => {\n *     const [density] = usePreferences(\n *         'posts.list.density',\n *         'small'\n *     );\n *\n *     return (\n *         <List {...props}>\n *             <Datagrid size={density}>\n *                 ...\n *             </Datagrid>\n *         </List>\n *     );\n * }\n *\n * @example // To **write a single value** use the second return value:\n *\n * const ChangeDensity: FC<any> = () => {\n *     const [density, setDensity] = usePreferences(\n *         'posts.list.density',\n *         'small'\n *     );\n *\n *     const changeDensity = (): void => {\n *         setDensity(density === 'small' ? 'medium' : 'small');\n *     };\n *\n *     return (\n *         <Button onClick={changeDensity}>\n *             {`Change density (current ${density})`}\n *         </Button>\n *     );\n * };\n *\n * @example // To **read and write the entire preferences tree**, don't pass any argument to the hook. You will find this option useful when building a preferences Form:\n *\n * import { usePreferences } from '@react-admin/ra-preferences';\n * import { useNotify } from 'react-admin';\n * import { Form, Field } from 'react-final-form'\n *\n * const PreferencesPane = () => {\n *     const [preferences, setPreferences] = usePreferences();\n *     const notify = useNotify();\n *\n *     const handleSave = values => {\n *         setPreferences(values);\n *         notify('preferences saved');\n *     }\n *\n *     return (\n *         <Form\n *             initialValues={preferences}\n *             onSubmit={handleSave}\n *             render={({ handleSubmit }) => (\n *                 <form onSubmit={handleSubmit}>\n *                     <div>\n *                         <label>Post list density</label>\n *                         <Field name=\"posts.list.density\" component=\"select\">\n *                             <option value=\"small\">Small</option>\n *                             <option value=\"medium\">Medium</option>\n *                         </Field>\n *                     </div>\n *                     <button type=\"submit\">Submit</button>\n *                 </form>\n *             )}\n *         />\n *     );\n * }\n *\n * **Tip**: The preferences API is synchronous, because preferences are stored in memory, and replicated in localStorage. So even though localStorage has an async API, the preferences API is synchronous.\n */\nexport var usePreferences = function (key, defaultValue) {\n    if (key === void 0) { key = ''; }\n    var _a = useState(function () {\n        var storedValue = readStorage(key);\n        return typeof storedValue === 'undefined' ? defaultValue : storedValue;\n    }), localState = _a[0], updateLocalState = _a[1];\n    var preferencesContext = usePreferencesContext();\n    var onPreferencesChange = function (event) {\n        // preference events are custom events we send when modifying  preferences\n        // from the same tabs (because local storage events won't fire in the same tab)\n        // custom events payload contain full preferences, so we get the value we're\n        // subscribed to from the new preferences\n        var newValue = get(event.detail, key /* my own key */);\n        // and we update our state no matter what. If same value, it won't redraw anyway\n        updateLocalState(newValue);\n    };\n    var onLocalStorageChange = function (event) {\n        if (event.key !== RA_PREFERENCE_WORKSPACE) {\n            return;\n        }\n        // localStorage events send the full localstorage value (ie. full preferences)\n        // there's a chance we're concerned or not by the event\n        // so we get the value we're subscribed to from the new preferences\n        var preferences = JSON.parse(event.newValue);\n        var newValue = get(preferences, key /* my own key */);\n        // and we update our state no matter what. If same value, it won't redraw anyway\n        updateLocalState(newValue);\n    };\n    // when the key changes, update localState to reflect it.\n    useEffect(function () {\n        var storedValue = readStorage(key);\n        updateLocalState(typeof storedValue === 'undefined' ? defaultValue : storedValue);\n    }, [key]); // eslint-disable-line react-hooks/exhaustive-deps\n    useEffect(function () {\n        // the custom storage event allows us to update our component\n        // when a change occurs in localStorage outside of our component (same browser tab)\n        window.addEventListener(PreferencesChanged.eventName, onPreferencesChange);\n        // the storage event only works in the context of other documents (eg. other browser tabs)\n        window.addEventListener('storage', onLocalStorageChange);\n        var canWrite = getPreferencesStorage().getItem(RA_PREFERENCE_WORKSPACE) === null;\n        // write initial value to the local storage if it's not present or contains invalid JSON data.\n        if (defaultValue !== undefined && canWrite) {\n            writeStorage(key, defaultValue);\n        }\n        return function () {\n            window.removeEventListener(PreferencesChanged.eventName, onPreferencesChange);\n            window.removeEventListener('storage', onLocalStorageChange);\n        };\n    }, [key]); // eslint-disable-line react-hooks/exhaustive-deps\n    var writeState = useCallback(function (value) {\n        var previousData = readStorage();\n        var data = writeStorage(key, value);\n        // PreferencesContext is optional\n        if (preferencesContext) {\n            preferencesContext.updatePreferences(data, previousData);\n        }\n    }, [key, preferencesContext]);\n    return [localState === undefined ? defaultValue : localState, writeState];\n};\n","import { useContext } from 'react';\nimport { PreferencesContext } from './PreferencesContext';\n/**\n * A hook to retrieve the PreferencesContext which gives access to preferences related configuration.\n * @returns {PreferencesContextValue} The PreferencesContext value\n */\nexport var usePreferencesContext = function () { return useContext(PreferencesContext); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useMemo, cloneElement, isValidElement } from 'react';\nimport { usePreferences } from '..';\nvar defaultThemeFromType = function (type) { return ({\n    palette: { type: type },\n}); };\n/**\n * Inject a MUI theme object to its child component based on the theme in preferences\n *\n * @example\n *\n *     export const App = () => (\n *         <PreferencesBasedThemeProvider>\n *             <Admin dataProvider={dataProvider}>\n *                 <Resource name=\"posts\" list={PostList} />\n *             </Admin>\n *         </PreferencesBasedThemeProvider>\n *     );\n *\n * @param {function} themeFromType Function returning a MUI Theme based on the theme string stored in preferences. Defaults to type => ({ palette: { type } }).\n *\n * Additional props are passed down to the child component.\n */\nexport var PreferencesBasedThemeProvider = function (_a) {\n    var children = _a.children, _b = _a.themeFromType, themeFromType = _b === void 0 ? defaultThemeFromType : _b, rest = __rest(_a, [\"children\", \"themeFromType\"]);\n    var type = usePreferences('theme', 'light')[0];\n    var theme = useMemo(function () { return themeFromType(type); }, [type] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    if (!isValidElement(children)) {\n        throw new Error('PreferencesBasedThemeProvider must be used with a valid child');\n    }\n    return cloneElement(children, __assign({ theme: theme }, rest));\n};\n","import React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport { useTranslate } from 'react-admin';\nimport { usePreferences } from '..';\n/**\n * Button toggling the theme (light or dark) in the preferences.\n *\n * To be used in conjunction with PreferencesBasedThemeProvider.\n *\n * @see PreferencesBasedThemeProvider\n *\n * @example\n *\n *     const MyAppBar: FC = props => (\n *         <AppBar {...props}>\n *             <Box flex=\"1\">\n *                 <Typography variant=\"h6\" id=\"react-admin-title\"></Typography>\n *             </Box>\n *             <ToggleThemeButton />\n *         </AppBar>\n *     );\n *\n *     const MyLayout: FC = props => <Layout {...props} appBar={MyAppBar} />;\n */\nexport var ToggleThemeButton = function () {\n    var translate = useTranslate();\n    var _a = usePreferences('theme', 'light'), theme = _a[0], setTheme = _a[1];\n    var handleTogglePaletteType = function () {\n        setTheme(theme === 'light' ? 'dark' : 'light');\n    };\n    var toggleThemeTitle = translate('ra-preferences.action.toggle_theme', {\n        _: 'Toggle Theme',\n    });\n    return (React.createElement(Tooltip, { title: toggleThemeTitle, enterDelay: 300 },\n        React.createElement(IconButton, { color: \"inherit\", onClick: handleTogglePaletteType, \"aria-label\": toggleThemeTitle }, theme === 'light' ? React.createElement(Brightness4Icon, null) : React.createElement(Brightness7Icon, null))));\n};\n","import React from 'react';\nimport { useLocale } from 'react-admin';\nimport { Button, Menu, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LanguageIcon from '@material-ui/icons/Translate';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useSetLocaleAndPreference } from './useSetLocaleAndPreference';\n/**\n * Language selector. Changes the locale in the app and persists it in\n * preferences so that the app opens with the right locale in the future.\n *\n * @example\n *\n *     const MyAppBar: FC = props => (\n *         <AppBar {...props}>\n *             <Box flex=\"1\">\n *                 <Typography variant=\"h6\" id=\"react-admin-title\"></Typography>\n *             </Box>\n *             <LanguageSwitcher\n *                 languages={[\n *                     { locale: 'en', name: 'English' },\n *                     { locale: 'fr', name: 'Franais' },\n *                 ]}\n *             />\n *         </AppBar>\n *     );\n */\nexport var LanguageSwitcher = function (_a) {\n    var languages = _a.languages, _b = _a.defaultLanguage, defaultLanguage = _b === void 0 ? '' : _b;\n    var classes = useStyles();\n    var _c = React.useState(null), anchorEl = _c[0], setAnchorEl = _c[1];\n    var locale = useLocale();\n    var setLocale = useSetLocaleAndPreference();\n    var getNameForLocale = function (locale) {\n        var language = languages.find(function (language) { return language.locale === locale; });\n        return language ? language.name : defaultLanguage;\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    var changeLocale = function (locale) { return function () {\n        setLocale(locale);\n        setAnchorEl(null);\n    }; };\n    var handleLanguageClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { color: \"inherit\", \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", onClick: handleLanguageClick },\n            React.createElement(LanguageIcon, null),\n            React.createElement(\"div\", { className: classes.languageContainer }, getNameForLocale(locale)),\n            React.createElement(ExpandMoreIcon, { fontSize: \"small\" })),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, languages.map(function (language) { return (React.createElement(MenuItem, { key: language.locale, onClick: changeLocale(language.locale) }, language.name)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    languageContainer: {\n        marginLeft: theme.spacing(1),\n    },\n}); });\n","import { useEffect, useCallback } from 'react';\nimport { useSetLocale } from 'react-admin';\nimport { usePreferences } from '..';\n/**\n * Set the locale in the app and in the preferences.\n *\n * On mount, set the app locale based on preferences.\n *\n * @example\n *\n * import { useSetLocaleAndPreference } from '@react-admin/ra-preferences';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocaleAndPreference();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n *\n * @param {string} defaultLocale Default locale\n */\nexport var useSetLocaleAndPreference = function (defaultLocale) {\n    var setLocale = useSetLocale();\n    var _a = usePreferences('locale', defaultLocale), locale = _a[0], setLocaleInPreferences = _a[1];\n    // set language based on preferences\n    useEffect(function () {\n        if (locale) {\n            setLocale(locale);\n        }\n    }, [locale, setLocale]);\n    return useCallback(function (locale) {\n        setLocale(locale);\n        setLocaleInPreferences(locale);\n    }, [setLocale, setLocaleInPreferences]);\n};\n","import { useEffect, useRef } from 'react';\nimport { setSidebarVisibility } from 'react-admin';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { usePreferences } from '../';\n/**\n * Save Sidebar open status in Preferences, and restore it on load.\n *\n * @example\n *\n *     import { SidebarOpenPreferenceSync } from '@react-admin/ra-preferences';\n *\n *     const MyLayout = props => (\n *         <>\n *             <SidebarOpenPreferenceSync />\n *             <Layout {...props} />\n *         </>\n *     );\n *\n *     export const App = () => (\n *         <Admin dataProvider={dataProvider} layout={MyLayout}>\n *             ...\n *         </Admin>\n *     );\n */\nexport var SidebarOpenPreferenceSync = function () {\n    var sidebarOpenFromStore = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var _a = usePreferences('ui.sidebarOpen'), sidebarPref = _a[0], setSidebarPref = _a[1];\n    var dispatch = useDispatch();\n    var stateRef = useRef();\n    useEffect(function () {\n        if (typeof stateRef.current === 'undefined') {\n            // first mount\n            stateRef.current =\n                typeof sidebarPref !== 'undefined'\n                    ? sidebarPref\n                    : sidebarOpenFromStore;\n            if (typeof sidebarPref !== 'undefined' &&\n                sidebarPref !== sidebarOpenFromStore) {\n                // restore preference\n                dispatch(setSidebarVisibility(sidebarPref));\n            }\n        }\n        else {\n            if (stateRef.current !== sidebarOpenFromStore) {\n                // sidebar state changed in store\n                if (sidebarPref !== sidebarOpenFromStore) {\n                    // store latest state in preferences\n                    setSidebarPref(sidebarOpenFromStore);\n                    stateRef.current = sidebarOpenFromStore;\n                }\n            }\n            else {\n                // sidebar preference changed in localStorage (probably from another window)\n                if (sidebarPref != undefined &&\n                    sidebarPref !== sidebarOpenFromStore) {\n                    // store latest preference in state\n                    dispatch(setSidebarVisibility(sidebarPref));\n                    stateRef.current = sidebarPref;\n                }\n            }\n        }\n    }, [dispatch, sidebarPref, setSidebarPref, sidebarOpenFromStore]);\n    return null;\n};\n","import React from 'react';\nimport { FormControlLabel, Checkbox } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useListContext, getFieldLabelTranslationArgs, } from 'react-admin';\nimport classnames from 'classnames';\nimport { usePreferences } from '../usePreferences';\nexport var SelectColumnsMenu = function (_a) {\n    var preference = _a.preference, columns = _a.columns, className = _a.className;\n    var classes = useStyles();\n    var _b = usePreferences(preference, Object.keys(columns)), columnsPref = _b[0], setColumnsPref = _b[1];\n    var translate = useTranslate();\n    var resource = useListContext().resource;\n    var addColumn = function (event) {\n        setColumnsPref(Object.keys(columns).filter(function (name) { return name === event.target.name || columnsPref.includes(name); }));\n    };\n    var removeColumn = function (event) {\n        // always leave at least one column\n        if (columnsPref.length > 1) {\n            setColumnsPref(columnsPref.filter(function (name) { return name !== event.target.name; }));\n        }\n    };\n    return (React.createElement(\"div\", { className: classnames(classes.columnsContainer, className) }, Object.keys(columns).map(function (name) { return (React.createElement(\"div\", { key: name },\n        React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { name: name, checked: columnsPref.includes(name), onClick: columnsPref.includes(name)\n                    ? removeColumn\n                    : addColumn }), label: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: columns[name].props.label,\n                resource: resource,\n                source: name,\n            })) }))); })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    columnsContainer: {\n        margin: theme.spacing(1) + \"px \" + theme.spacing(2) + \"px\",\n    },\n}); });\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useListContext } from 'react-admin';\nimport isEqual from 'lodash/isEqual';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'query-string';\nvar useStyles = makeStyles({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n});\nvar SavedQueryFilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListContext(), filterValues = _a.filterValues, currentSort = _a.currentSort, perPage = _a.perPage, displayedFilters = _a.displayedFilters;\n    var history = useHistory();\n    var classes = useStyles(props);\n    var isSelected = isEqual(value, {\n        filter: filterValues,\n        sort: currentSort,\n        perPage: perPage,\n        displayedFilters: displayedFilters,\n    });\n    var addFilter = function () {\n        history.push({\n            search: stringify({\n                filter: JSON.stringify(value.filter),\n                sort: value.sort.field,\n                order: value.sort.order,\n                page: 1,\n                perPage: value.perPage,\n                displayedFilters: value.displayedFilters,\n            }),\n        });\n    };\n    var removeFilter = function () {\n        history.push({\n            search: stringify({\n                filter: JSON.stringify({}),\n            }),\n        });\n    };\n    var toggleFilter = function () {\n        return isSelected ? removeFilter() : addFilter();\n    };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: label, className: classes.listItemText }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        isEqual(prevProps.value, nextProps.value);\n};\nexport default memo(SavedQueryFilterListItem, arePropsEqual);\n","import * as React from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useListContext, useTranslate } from 'react-admin';\nimport { Tooltip, Typography, List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BookmarkIcon from '@material-ui/icons/BookmarkBorder';\nimport HelpIcon from '@material-ui/icons/HelpOutline';\nimport { useSavedQueries } from './useSavedQueries';\nimport SavedQueryFilterListItem from './SavedQueryFilterListItem';\nimport { AddSavedQueryIconButton } from './AddSavedQueryIconButton';\nimport { RemoveSavedQueryIconButton } from './RemoveSavedQueryIconButton';\nvar useStyles = makeStyles(function (theme) { return ({\n    floatingIcon: {\n        position: 'absolute',\n        top: '-1.8em',\n        right: 0,\n    },\n    floatingTooltip: {\n        position: 'absolute',\n        top: '-1.2em',\n        right: 3,\n        color: theme.palette.action.disabled,\n    },\n    titleContainer: {\n        alignItems: 'center',\n        display: 'flex',\n        marginTop: theme.spacing(2),\n    },\n    titleIcon: {\n        marginRight: theme.spacing(1),\n    },\n}); });\n/**\n * FilterList-like component allowing to save and restore a query (filters, sort, perPage).\n *\n * Use this component in a Filter sidebar to let users store custom queries\n * that they can reuse later. The saved queries will appear as FilterListItems,\n * and can be removed.\n *\n * This component uses usePreference under the hood to store saved queries in\n * localStorage, one set of saved queries per resource.\n *\n * @example\n *\n * import { FilterList, FilterListItem, List, Datagrid } from 'react-admin';\n * import { Card, CardContent } from '@material-ui/core';\n *\n * import { SavedQueriesList } from '@react-admin/ra-preferences';\n *\n * const PostFilterSidebar: FC = () => (\n *     <Card>\n *         <CardContent>\n *             <SavedQueriesList />\n *             <FilterList label=\"Category\" icon={<CategoryIcon />}>\n *                 ...\n *             </FilterList>\n *             <FilterList label=\"Published\" icon={<DateRangeIcon />}>\n *                ...\n *             </FilterList>\n *             <FilterList label=\"Popularity\" icon={<DateRangeIcon />}>\n *                ...\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * const PostList: FC<Props> = props => (\n *     <List {...props} aside={<PostFilterSidebar />}>\n *         <Datagrid>\n *             ...\n *         </Datagrid>\n *     </List>\n * );\n *\n */\nexport var SavedQueriesList = function (_a) {\n    var _b = _a.icon, icon = _b === void 0 ? defaultIcon : _b;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var _c = useListContext(), resource = _c.resource, filterValues = _c.filterValues, displayedFilters = _c.displayedFilters, currentSort = _c.currentSort, perPage = _c.perPage;\n    var savedQueries = useSavedQueries(resource)[0];\n    var hasSavedCurrentFilterValue = savedQueries.some(function (savedQuery) {\n        return isEqual(savedQuery.value, {\n            filter: filterValues,\n            sort: currentSort,\n            perPage: perPage,\n            displayedFilters: displayedFilters,\n        });\n    });\n    var hasFilterValues = !isEqual(filterValues, {});\n    // note: we don't use react-admin's FilterList because it doesn't accept a default translation\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.titleContainer },\n            React.createElement(\"div\", { className: classes.titleIcon }, icon),\n            React.createElement(Typography, { variant: \"overline\" }, translate('ra-preferences.saved_queries.label', {\n                _: 'Saved Queries',\n            }))),\n        React.createElement(List, { dense: true, disablePadding: true },\n            hasSavedCurrentFilterValue ? (React.createElement(RemoveSavedQueryIconButton, { className: classes.floatingIcon })) : hasFilterValues ? (React.createElement(AddSavedQueryIconButton, { className: classes.floatingIcon })) : (React.createElement(Tooltip, { title: translate('ra-preferences.saved_queries.help', {\n                    _: 'Filter the list and save this query for later',\n                }), className: classes.floatingTooltip },\n                React.createElement(HelpIcon, null))),\n            savedQueries.map(function (savedQuery, index) { return (React.createElement(SavedQueryFilterListItem, { label: savedQuery.label, value: savedQuery.value, key: index })); }))));\n};\nvar defaultIcon = React.createElement(BookmarkIcon, null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useCallback, useRef, forwardRef, } from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash/isEqual';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { Button, FieldTitle, useTranslate, useListContext, } from 'react-admin';\nimport { useSavedQueries } from './useSavedQueries';\nimport { AddSavedQueryDialog } from './AddSavedQueryDialog';\nimport { RemoveSavedQueryDialog } from './RemoveSavedQueryDialog';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nexport var FilterButtonWithSave = function (props) {\n    var filters = props.filters, className = props.className, rest = __rest(props, [\"filters\", \"className\"]);\n    var _a = useListContext(), filterValues = _a.filterValues, currentSort = _a.currentSort, perPage = _a.perPage, _b = _a.displayedFilters, displayedFilters = _b === void 0 ? {} : _b, showFilter = _a.showFilter, resource = _a.resource;\n    var translate = useTranslate();\n    var _c = useState(false), open = _c[0], setOpen = _c[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var savedQueries = useSavedQueries(resource)[0];\n    var history = useHistory();\n    var hasFilterValues = !isEqual(filterValues, {});\n    var hasSavedCurrentQuery = savedQueries.some(function (savedQuery) {\n        return isEqual(savedQuery.value, {\n            filter: filterValues,\n            sort: currentSort,\n            perPage: perPage,\n            displayedFilters: displayedFilters,\n        });\n    });\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    // menu state\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    // add query dialog state\n    var _d = useState(false), addSavedQueryDialogOpen = _d[0], setAddSavedQueryDialogOpen = _d[1];\n    var hideAddSavedQueryDialog = function () {\n        setAddSavedQueryDialogOpen(false);\n    };\n    var showAddSavedQueryDialog = function () {\n        setOpen(false);\n        setAddSavedQueryDialogOpen(true);\n    };\n    // remove query dialog state\n    var _e = useState(false), removeSavedQueryDialogOpen = _e[0], setRemoveSavedQueryDialogOpen = _e[1];\n    var hideRemoveSavedQueryDialog = function () {\n        setRemoveSavedQueryDialogOpen(false);\n    };\n    var showRemoveSavedQueryDialog = function () {\n        setOpen(false);\n        setRemoveSavedQueryDialogOpen(true);\n    };\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, rest),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose },\n            hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement, onShow: handleShow, resource: resource })); }),\n            savedQueries.map(function (savedQuery, index) {\n                return isEqual(savedQuery.value, {\n                    filter: filterValues,\n                    sort: currentSort,\n                    perPage: perPage,\n                    displayedFilters: displayedFilters,\n                }) ? (React.createElement(MenuItem, { onClick: showRemoveSavedQueryDialog, key: index }, translate('ra-preferences.saved_queries.remove_label_with_name', {\n                    _: 'Remove query \"%{name}\"',\n                    name: savedQuery.label,\n                }))) : (React.createElement(MenuItem, { onClick: function () {\n                        history.push({\n                            search: stringify({\n                                filter: JSON.stringify(savedQuery.value.filter),\n                                sort: savedQuery.value.sort.field,\n                                order: savedQuery.value.sort.order,\n                                page: 1,\n                                perPage: savedQuery.value.perPage,\n                                displayedFilters: JSON.stringify(savedQuery.value.displayedFilters),\n                            }),\n                        });\n                        setOpen(false);\n                    }, key: index }, savedQuery.label));\n            }),\n            hasFilterValues && !hasSavedCurrentQuery ? (React.createElement(MenuItem, { onClick: showAddSavedQueryDialog }, translate('ra-preferences.saved_queries.new_label', {\n                _: 'Save current query...',\n            }))) : null),\n        React.createElement(AddSavedQueryDialog, { open: addSavedQueryDialogOpen, onClose: hideAddSavedQueryDialog }),\n        React.createElement(RemoveSavedQueryDialog, { open: removeSavedQueryDialogOpen, onClose: hideRemoveSavedQueryDialog })));\n};\nFilterButtonWithSave.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n};\n// FIXME: remove once react-admin exports FilterButtonMenuItem\n// eslint-disable-next-line react/display-name\nvar FilterButtonMenuItem = forwardRef(function (props, ref) {\n    var filter = props.filter, onShow = props.onShow, resource = props.resource;\n    var handleShow = useCallback(function () {\n        onShow({\n            source: filter.props.source,\n            defaultValue: filter.props.defaultValue,\n        });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.props.source, \"data-default-value\": filter.props.defaultValue, key: filter.props.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.props.label, source: filter.props.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.element.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string.isRequired,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext, FilterForm, } from 'react-admin';\nimport { FilterButtonWithSave } from './FilterButtonWithSave';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\n/**\n * <Filter> alternative offering the ability to save queries.\n *\n * Use this component instead of <Filter> to let users store custom queries\n * that they can reuse later. The saved queries will appear as MenuItems in the\n * FilterMenu dropdown, and can be removed.\n *\n * This component uses usePreference under the hood to store saved queries in\n * localStorage, one set of saved queries per resource.\n *\n * @example\n *\n * import { FilterWithSave } from '@react-admin/ra-preferences';\n *\n * const SongFilter: FC = props => (\n *     <FilterWithSave {...props}>\n *         <SelectInput\n *             choices={[\n *                 { id: 'Apple', name: 'Apple' },\n *                 { id: 'Atlantic', name: 'Atlantic' },\n *                 { id: 'Capitol', name: 'Capitol' },\n *                 { id: 'Chess', name: 'Chess' },\n *                 { id: 'Columbia', name: 'Columbia' },\n *                 { id: 'DGC', name: 'DGC' },\n *                 { id: 'London', name: 'London' },\n *                 { id: 'Tamla', name: 'Tamla' },\n *             ]}\n *             source=\"recordCompany\"\n *         />\n *         <DateInput source=\"released_gte\" label=\"Released after\" />\n *         <DateInput source=\"released_lte\" label=\"Released before\" />\n *     </FilterWithSave>\n * );\n *\n * const SongList: FC<Props> = props => (\n *     <List {...props} filters={<SongFilter />}>\n *         <Datagrid rowClick=\"edit\">\n *             <TextField source=\"title\" />\n *             <TextField source=\"artist\" />\n *             <TextField source=\"writer\" />\n *             <TextField source=\"producer\" />\n *             <TextField source=\"recordCompany\" />\n *             <NumberField source=\"rank\" />\n *             <DateField source=\"released\" />\n *         </Datagrid>\n *     </List>\n * );\n */\nexport var FilterWithSave = function (props) {\n    // Same code as react-admin's <Filter>, except it uses <FilterButtonWithSave> instead of `<FilterButton>`\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButtonWithSave, __assign({ className: classes.button, filters: React.Children.toArray(children) }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilterWithSave.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\n","import { createContext } from 'react';\nexport var PreferencesEditorContext = createContext(undefined);\n","import { useContext } from 'react';\nimport { PreferencesEditorContext, } from './PreferencesEditorContext';\nexport var usePreferencesEditor = function () {\n    return useContext(PreferencesEditorContext);\n};\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { createMemoryHistory } from 'history';\nimport { Route, Router } from 'react-router-dom';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nvar history = createMemoryHistory();\nexport var PreferencesEditor = function (props) {\n    var children = props.children;\n    var setHistory = usePreferencesEditor().setHistory;\n    useEffect(function () {\n        setHistory(history);\n        return function () {\n            setHistory(null);\n        };\n    }, [setHistory]);\n    return (React.createElement(Router, { history: history },\n        React.createElement(Route, { path: \"/\", render: function () { return children; } })));\n};\n","import * as React from 'react';\nimport { DialogTitle, IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate } from 'react-admin';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var PreferencesEditorDialogTitle = function (props) {\n    var title = props.title;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _a = usePreferencesEditor(), disable = _a.disable, history = _a.history, setEditor = _a.setEditor;\n    var handleBackClick = function () {\n        if (history.location.pathname !== '/') {\n            history.goBack();\n        }\n        else {\n            setEditor(null);\n        }\n    };\n    return (React.createElement(DialogTitle, { className: classes.root, id: \"preferences-editor-dialog-title\", disableTypography: true },\n        !!history && (React.createElement(IconButton, { size: \"small\", \"aria-label\": translate('ra.action.back'), className: classes.backButton, onClick: handleBackClick },\n            React.createElement(BackIcon, null))),\n        React.createElement(Typography, { align: \"center\", color: \"textSecondary\" }, !!title && translate(title, { _: title })),\n        React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: disable, size: \"small\" },\n            React.createElement(CloseIcon, null))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        cursor: 'move',\n        padding: theme.spacing(1.5),\n    },\n    backButton: {\n        position: 'absolute',\n        left: theme.spacing(1),\n        top: theme.spacing(1.4),\n        color: theme.palette.grey[500],\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n}); }, {\n    name: 'RaBaseEditorTitle',\n});\n","import { createContext } from 'react';\nexport var PreferencesEditorDialogContext = createContext(null);\n","import { useEffect, useContext } from 'react';\nimport { PreferencesEditorDialogContext } from './PreferencesEditorDialogContext';\nexport var EditorTitle = function (_a) {\n    var title = _a.title;\n    var setTitle = useContext(PreferencesEditorDialogContext).setTitle;\n    useEffect(function () {\n        setTitle(title);\n    }, [title, setTitle]);\n    return null;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate, } from 'react-admin';\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport { TextField } from '@material-ui/core';\nimport { useResourceModel } from '.';\n/**\n * A component which provides a configuration UI to tweak a resource model reference field\n * @param {ReferenceFieldInputProps} props\n * @param {String} props.resource The resource\n */\nexport var ReferenceFieldInput = function (_a) {\n    var label = _a.label, resource = _a.resource, value = _a.value, onChange = _a.onChange;\n    var model = useResourceModel(resource)[0];\n    var fields = (model === null || model === void 0 ? void 0 : model.fields) || {};\n    var translate = useTranslate();\n    var displayField = inferBestReferenceDisplayField(fields || {});\n    var initialValue = value || displayField;\n    var _b = useState(function () {\n        var fieldChoices = Object.keys(fields).map(function (field) { return ({\n            id: field,\n            name: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: model.fields[field].props.label,\n                resource: resource,\n                source: model.fields[field].props.source,\n            })),\n        }); });\n        if (value && value.indexOf('{{') > -1) {\n            fieldChoices.push({\n                id: value,\n                name: value,\n            });\n        }\n        return fieldChoices;\n    }), choices = _b[0], setChoices = _b[1];\n    var autocompleteFilter = createFilterOptions();\n    var handleKeyChange = function (event, newKey) {\n        if (typeof newKey === 'string') {\n            setChoices(function (prev) { return __spreadArray(__spreadArray([], prev), [{ id: newKey, name: newKey }]); });\n            onChange(newKey);\n        }\n        else if (newKey && newKey.inputValue) {\n            // Create a new value from the user input\n            setChoices(function (prev) { return __spreadArray(__spreadArray([], prev), [\n                { id: newKey.inputValue, name: newKey.inputValue },\n            ]); });\n            onChange(newKey.inputValue);\n        }\n        else if (newKey && newKey.id) {\n            onChange(newKey.id);\n        }\n        else {\n            onChange(undefined);\n        }\n    };\n    return (React.createElement(Autocomplete, { freeSolo: true, options: choices, value: initialValue, onChange: handleKeyChange, filterOptions: function (options, params) {\n            var filtered = autocompleteFilter(options, params);\n            // Suggest the creation of a new value\n            if (params.inputValue !== '') {\n                filtered.push({\n                    inputValue: params.inputValue,\n                    name: \"Add computed field: \\\"\" + params.inputValue + \"\\\"\",\n                });\n            }\n            return filtered;\n        }, selectOnFocus: true, clearOnBlur: true, handleHomeEndKeys: true, renderInput: function (params) { return React.createElement(TextField, __assign({}, params, { label: label })); }, renderOption: function (option) { return option.name; }, getOptionLabel: function (option) {\n            // Value selected with enter, right from the input\n            if (typeof option === 'string') {\n                return option;\n            }\n            // Add \"xxx\" option created dynamically\n            if (option.inputValue) {\n                return option.inputValue;\n            }\n            // Regular option\n            return option.name;\n        } }));\n};\nvar FAVORITE_DISPLAY_FIELD_NAMES = [\n    'name',\n    'title',\n    'label',\n    'reference',\n    'email',\n];\nvar inferBestReferenceDisplayField = function (types) {\n    var best = Object.entries(types).find(function (entry) {\n        return FAVORITE_DISPLAY_FIELD_NAMES.includes(entry[0].toLowerCase());\n    });\n    if (best) {\n        return best[0];\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { InferenceTypes } from 'react-admin';\nimport { FormControl, InputLabel, MenuItem, Select, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var FieldTypeInput = function (_a) {\n    var label = _a.label, props = __rest(_a, [\"label\"]);\n    var classes = useStyles();\n    return (React.createElement(FormControl, { fullWidth: true, className: classes.root },\n        React.createElement(InputLabel, { id: \"type-label\" }, label),\n        React.createElement(Select, __assign({ labelId: \"type-label\", fullWidth: true }, props), FieldTypesChoices.map(function (type) { return (React.createElement(MenuItem, { key: type.id, value: type.id }, type.name)); }))));\n};\nvar FieldTypesChoices = InferenceTypes.map(function (type) { return ({\n    id: type,\n    name: type,\n}); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { getResources, useGetResourceLabel } from 'react-admin';\nimport { FormControl, InputLabel, MenuItem, Select, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nexport var ReferenceResourceInput = function (_a) {\n    var label = _a.label, props = __rest(_a, [\"label\"]);\n    var classes = useStyles();\n    var resources = useSelector(getResources);\n    var getResourceLabel = useGetResourceLabel();\n    var resourcesChoices = resources.map(function (resource) { return ({\n        id: resource.name,\n        name: getResourceLabel(resource.name, 2),\n    }); });\n    return (React.createElement(FormControl, { fullWidth: true, className: classes.root },\n        React.createElement(InputLabel, { id: \"type-label\" }, label),\n        React.createElement(Select, __assign({ fullWidth: true }, props), resourcesChoices.map(function (type) { return (React.createElement(MenuItem, { key: type.id, value: type.id }, type.name)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n}); });\n","import { useEffect } from 'react';\nimport { getValuesFromRecords, inferTypeFromValues } from 'ra-core';\nimport { useSelector } from 'react-redux';\nimport { usePreferences } from '../../usePreferences';\n/**\n * A hook which returns the model for the specified resource. Tries to infer it from the redux store data if not already defined.\n * @param {String} resource The resource\n * @param {String} preferencesKey The preference key which defaults to the resource name\n * @returns {ResourceModel} The resource model\n */\nexport var useResourceModel = function (resource, preferencesKey) {\n    if (preferencesKey === void 0) { preferencesKey = resource; }\n    var _a = usePreferences(preferencesKey), resourceModel = _a[0], setResourceModel = _a[1];\n    var data = useSelector(function (state) {\n        return state.admin.resources[resource]\n            ? state.admin.resources[resource].data\n            : {};\n    });\n    // data = [\n    //     1: {\n    //         id: 1,\n    //         title: \"Lorem Ipsum\",\n    //         views: 254,\n    //         user_id: 123,\n    //     },\n    //     2: {\n    //         id: 2,\n    //         title: \"Sic Dolor amet\",\n    //         views: 65,\n    //         user_id: 456,\n    //     },\n    // };\n    useEffect(function () {\n        if (resourceModel != null && Object.keys(resourceModel).length > 0) {\n            return;\n        }\n        // We might have no data after applying a filter and we would loose all types.\n        // This does not resolve the issue when loading a page without data though. For that we'll have to store the model in preferences\n        if (!data || Object.keys(data).length === 0) {\n            return;\n        }\n        var fields = inferResourceModel(data);\n        setResourceModel({\n            name: resource,\n            label: resource,\n            fields: fields,\n        });\n    }, [data, resource, resourceModel, setResourceModel]);\n    return [resourceModel, setResourceModel];\n};\nvar inferResourceModel = function (data) {\n    var values = getValuesFromRecords(Object.values(data));\n    // values = {\n    //    id: [1, 2],\n    //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\n    //    views: [254, 65],\n    //    user_id: [123, 456],\n    // }\n    var types = {};\n    Object.keys(values).forEach(function (key) {\n        var fieldType = inferTypeFromValues(key, values[key]);\n        types[key] = fieldType;\n    });\n    // types = {\n    //    id: { type: 'id', props: { source: 'id' } },\n    //    title: { type: 'string', props: { source: 'title } },\n    //    views: { type: 'number', props: { source: 'views } },\n    //    user_id: { type: 'reference', props: { source: 'user_id, reference: 'users' }, children: { type: 'referenceChild' },\n    // }\n    return types;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate, } from 'react-admin';\nimport { ReferenceFieldInput } from './ReferenceFieldInput';\nimport { FieldTypeInput } from './FieldTypeInput';\nimport { ReferenceResourceInput } from './ReferenceResourceInput';\nimport { useResourceModel } from './useResourceModel';\nimport { EditorTitle } from '../Editor';\n/**\n * A component which provides a configuration UI to tweak a resource model field\n * @param {ReferenceFieldInputProps} props\n * @param {InferredElementDescription} props.field The field from the resource model\n * @param {String} props.resource The resource\n * @param {Function} props.onSave The callback called to save the field model\n */\nexport var ResourceModelFieldEditor = function (_a) {\n    var _b;\n    var field = _a.field, preferencesKey = _a.preferencesKey, resource = _a.resource;\n    var translate = useTranslate();\n    var _c = useResourceModel(resource, preferencesKey), model = _c[0], saveModel = _c[1];\n    var handleTypeChange = function (event) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { type: event.target.value }), _a)) }));\n    };\n    var handleReferenceResourceChange = function (event) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { props: __assign(__assign({}, field.props), { reference: event.target.value }) }), _a)) }));\n    };\n    var handleReferenceFieldChange = function (referenceField) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { children: __assign(__assign({}, field.children), { props: __assign(__assign({}, field.children\n                        .props), { optionText: referenceField }) }) }), _a)) }));\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditorTitle, { title: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: field.props.label,\n                resource: resource,\n                source: field.props.source,\n            })) }),\n        React.createElement(FieldTypeInput, { label: \"Type\", onChange: handleTypeChange, value: field.type }),\n        field.type === 'reference' && (React.createElement(React.Fragment, null,\n            React.createElement(ReferenceResourceInput, { label: \"Reference\", onChange: handleReferenceResourceChange, value: field.props.reference }),\n            React.createElement(ReferenceFieldInput, { label: \"Field displayed\", onChange: handleReferenceFieldChange, resource: field.props.reference, value: (_b = field.children.props) === null || _b === void 0 ? void 0 : _b.optionText })))));\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { useTranslate, Confirm } from 'react-admin';\nimport { usePreferences } from '../usePreferences';\n/**\n * Resets the settings for a given preferences key\n *\n * @example\n *\n * <ResetSettingsButton preferencesKey=\"myPreferencesKey\" />\n */\nexport var ResetSettingsButton = function (_a) {\n    var preferencesKey = _a.preferencesKey;\n    var classes = useStyles();\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var translate = useTranslate();\n    var _c = usePreferences(preferencesKey), _ = _c[0], setPrefs = _c[1];\n    var handleClick = function () {\n        setOpen(true);\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleConfirm = function () {\n        setPrefs({});\n        setOpen(false);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { fullWidth: true, size: \"small\", onClick: handleClick, className: classes.root }, translate('ra-preferences.no-code.reset', {\n            _: 'Reset Settings',\n        })),\n        React.createElement(Confirm, { isOpen: open, loading: false, title: \"ra.message.are_you_sure\", content: \"\", onConfirm: handleConfirm, onClose: handleDialogClose })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginTop: theme.spacing(1),\n        color: theme.palette.error.main,\n        backgroundColor: theme.palette.background.paper,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n        },\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useMemo, forwardRef } from 'react';\nimport { Link as RouterLink, } from 'react-router-dom';\nimport { ListItem } from '@material-ui/core';\nexport var ListItemLink = function (props) {\n    var children = props.children, to = props.to;\n    var renderLink = useMemo(function () {\n        // eslint-disable-next-line react/display-name\n        return forwardRef(function (itemProps, ref) { return (React.createElement(RouterLink, __assign({ to: to, ref: ref }, itemProps))); });\n    }, [to]);\n    return (React.createElement(\"li\", null,\n        React.createElement(ListItem, { button: true, component: renderLink }, children)));\n};\n","import * as React from 'react';\nimport { List, ListItemText } from '@material-ui/core';\nimport { getFieldLabelTranslationArgs, useGetResourceLabel, useTranslate, } from 'react-admin';\nimport { ResourceModelFieldEditor } from './ResourceModelFieldEditor';\nimport { useResourceModel } from './useResourceModel';\nimport { ResetSettingsButton } from '../ResetSettingsButton';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { ListItemLink } from '../ListItemLink';\nimport { EditorTitle } from '../Editor';\n/**\n * A component which provides a configuration UI to tweak a resource model\n * @param {ReferenceFieldInputProps} props\n * @param {String} props.resource The resource\n * @param {String} props.preferencesKey The preference key which defaults to the resource name\n */\nexport var ResourceModelEditor = function (_a) {\n    var resource = _a.resource, _b = _a.preferencesKey, preferencesKey = _b === void 0 ? resource : _b;\n    var model = useResourceModel(resource, preferencesKey)[0];\n    var routeMatch = useRouteMatch();\n    var translate = useTranslate();\n    var getResourceLabel = useGetResourceLabel();\n    if (!model || !model.fields)\n        return null;\n    return (React.createElement(Switch, null,\n        Object.keys(model.fields).map(function (field) { return (React.createElement(Route, { key: \"route-\" + field, path: routeMatch.path + \"/\" + field, render: function () { return (React.createElement(ResourceModelFieldEditor, { field: model.fields[field], resource: resource, preferencesKey: preferencesKey })); } })); }),\n        React.createElement(Route, { path: routeMatch.path, render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: getResourceLabel(resource, 2) }),\n                React.createElement(List, { dense: true }, Object.keys(model.fields).map(function (field) { return (React.createElement(ListItemLink, { key: \"link-\" + field, to: routeMatch.path + \"/\" + field },\n                    React.createElement(ListItemText, { primary: translate.apply(void 0, getFieldLabelTranslationArgs({\n                            label: model.fields[field].props\n                                .label,\n                            resource: resource,\n                            source: model.fields[field]\n                                .props.source,\n                        })) }))); })),\n                React.createElement(ResetSettingsButton, { preferencesKey: preferencesKey }))); } })));\n};\n","import * as React from 'react';\nimport { getResources, useGetResourceLabel, } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router';\nimport { List, ListItemText } from '@material-ui/core';\nimport { ResourceModelEditor } from './ResourceModelEditor';\nimport { EditorTitle, PreferencesEditor } from '../Editor';\nimport { ListItemLink } from '../ListItemLink';\nimport { useRouteMatch } from 'react-router-dom';\nexport var ResourcesModelsEditor = function () {\n    var data = useSelector(getResources);\n    var getResourceLabel = useGetResourceLabel();\n    var routeMatch = useRouteMatch();\n    return (React.createElement(PreferencesEditor, null,\n        React.createElement(Switch, null,\n            data.map(function (_a) {\n                var name = _a.name;\n                return (React.createElement(Route, { key: name + \"-route\", path: routeMatch.path + \"/configure-\" + name, render: function () { return React.createElement(ResourceModelEditor, { resource: name }); } }));\n            }),\n            React.createElement(Route, { path: routeMatch.path, exact: true, render: function () { return (React.createElement(React.Fragment, null,\n                    React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.resources_models\" }),\n                    React.createElement(List, { dense: true }, data.map(function (_a) {\n                        var name = _a.name;\n                        return (React.createElement(ListItemLink, { key: name + \"-link\", to: routeMatch.path + \"/configure-\" + name },\n                            React.createElement(ListItemText, { primary: getResourceLabel(name, 2) })));\n                    })))); } }))));\n};\n","import * as React from 'react';\nimport { Button } from '@material-ui/core';\nimport { useTranslate } from 'react-admin';\nimport { ResourcesModelsEditor } from './ResourcesModelsEditor';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var EditResourcesModelsButton = function () {\n    var setEditor = usePreferencesEditor().setEditor;\n    var translate = useTranslate();\n    var handleShowModelEditorClick = function () {\n        setEditor(React.createElement(ResourcesModelsEditor, null));\n    };\n    return (React.createElement(Button, { onClick: handleShowModelEditorClick }, translate('ra-preferences.no-code.editor.resources_models')));\n};\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { EditorTitle } from './EditorTitle';\nimport { useTranslate } from 'react-admin';\nimport { EditResourcesModelsButton } from '../ResourceModel';\nexport var PreferencesEditorRoot = function () {\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditorTitle, { title: \"ra-preferences.no-code.title\" }),\n        React.createElement(Typography, null, translate('ra-preferences.no-code.instructions')),\n        React.createElement(EditResourcesModelsButton, null)));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect, useMemo, useState } from 'react';\nimport { Modal, Paper } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { usePreferences } from '../../usePreferences';\nimport Draggable from 'react-draggable';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nimport { PreferencesEditorDialogTitle } from './PreferencesEditorDialogTitle';\nimport { PreferencesEditorDialogContext } from './PreferencesEditorDialogContext';\nimport { PreferencesEditorRoot } from './PreferencesEditorRoot';\nexport var PreferencesEditorDialog = function (props) {\n    var _a = usePreferencesEditor(), disable = _a.disable, editor = _a.editor, isEnabled = _a.isEnabled;\n    var _b = useState(null), title = _b[0], setTitle = _b[1];\n    var memoizedContext = useMemo(function () { return ({ setTitle: setTitle }); }, [setTitle]);\n    var theme = useTheme();\n    var classes = useStyles(props);\n    var _c = usePreferences('preferencesDialog.position', {\n        x: \n        // We want it positioned to the far right of the screen\n        document.body.clientWidth -\n            // So we remove its size (see the root css class)\n            theme.breakpoints.values.sm / 2 -\n            // And add a margin\n            theme.spacing(1),\n        y: theme.spacing(1),\n    }), dialogPosition = _c[0], setDialogPosition = _c[1];\n    useEffect(function () {\n        if (dialogPosition.x > document.body.clientWidth) {\n            setDialogPosition({\n                x: \n                // We want it positioned to the far right of the screen\n                document.body.clientWidth -\n                    // So we remove its size (see the root css class)\n                    theme.breakpoints.values.sm / 2 -\n                    // And add a margin\n                    theme.spacing(1),\n                y: theme.spacing(1),\n            });\n        }\n    }, [isEnabled, dialogPosition, setDialogPosition, theme]);\n    var handleDraggableStop = function (e, data) {\n        setDialogPosition({ x: data.x, y: data.y });\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Modal, __assign({ className: classes.root, onClose: disable, open: isEnabled, \"aria-labelledby\": \"preferences-editor-dialog-title\", disableBackdropClick: true, hideBackdrop: true, disableEnforceFocus: true, disableScrollLock: true, BackdropComponent: null }, props),\n            React.createElement(Draggable, { handle: \"#preferences-editor-dialog-title\", cancel: '[class*=\"MuiDialogContent-root\"]', defaultPosition: dialogPosition, onStop: handleDraggableStop },\n                React.createElement(Paper, { className: classes.root, elevation: 3 },\n                    React.createElement(PreferencesEditorDialogTitle, { title: title }),\n                    React.createElement(PreferencesEditorDialogContext.Provider, { value: memoizedContext },\n                        React.createElement(\"div\", { className: classes.content }, editor || React.createElement(PreferencesEditorRoot, null))))))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: theme.breakpoints.values.sm / 2,\n        transition: theme.transitions.create(['height', 'width']),\n    },\n    content: {\n        overflowY: 'auto',\n        maxHeight: '75vh',\n        padding: theme.spacing(2),\n        paddingTop: 0,\n    },\n    instructions: {},\n}); }, {\n    name: 'RaPreferencesEditorDialog',\n});\nPreferencesEditorDialog.displayName = 'PreferencesEditorDialog';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { useTranslate } from 'ra-core';\nexport var OpenEditorButton = forwardRef(function (_a, ref) {\n    var _b = _a.children, children = _b === void 0 ? React.createElement(SettingsIcon, null) : _b, _c = _a.label, label = _c === void 0 ? 'ra-preferences.no-code.action.show_editor' : _c, props = __rest(_a, [\"children\", \"label\"]);\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, __assign({ ref: ref, \"aria-label\": translatedLabel, color: \"primary\" }, props), children)));\n});\nOpenEditorButton.displayName = 'OpenEditorButton';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport { fade, Fade, Popper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { OpenEditorButton } from './OpenEditorButton';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var Configurable = function (props) {\n    var children = props.children, editableEl = props.editableEl, editor = props.editor, openButtonLabel = props.openButtonLabel;\n    var classes = useStyles(props);\n    var buttonRef = useRef();\n    var _a = useState(false), showEditorButton = _a[0], setShowEditorButton = _a[1];\n    var _b = usePreferencesEditor(), isEnabled = _b.isEnabled, setEditor = _b.setEditor;\n    var handleMouseEnter = function (event) {\n        event.stopPropagation();\n        setShowEditorButton(true);\n    };\n    var handleMouseLeave = function (event) {\n        // We don't want to hide the configuration button if users hover it\n        // To ensure that, we check whether the cursor is still over the editor target (the table element for the Datagrid for example)\n        var targetRect = event.target.getBoundingClientRect();\n        var isMouseHoverTarget = event.clientX > targetRect.left &&\n            event.clientX < targetRect.right &&\n            event.clientY > targetRect.top &&\n            event.clientY < targetRect.bottom;\n        if (!isMouseHoverTarget) {\n            setShowEditorButton(false);\n        }\n    };\n    useEffect(function () {\n        if (!editableEl) {\n            return;\n        }\n        if (isEnabled) {\n            editableEl.classList.add(classes.element);\n            editableEl.addEventListener('mouseover', handleMouseEnter);\n            editableEl.addEventListener('mouseleave', handleMouseLeave);\n        }\n        return function () {\n            setShowEditorButton(false);\n            editableEl.classList.remove(classes.element);\n            editableEl.removeEventListener('mouseover', handleMouseEnter);\n            editableEl.removeEventListener('mouseleave', handleMouseLeave);\n        };\n    }, [classes, editableEl, isEnabled]);\n    var handleOpenEditor = function () {\n        setEditor(editor);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Popper, { open: showEditorButton, anchorEl: editableEl, placement: \"top-end\", transition: true, className: classes.popper, modifiers: popperModifiers }, function (_a) {\n            var TransitionProps = _a.TransitionProps;\n            return (React.createElement(Fade, __assign({}, TransitionProps, { timeout: 350 }),\n                React.createElement(OpenEditorButton, { ref: buttonRef, onClick: handleOpenEditor, label: openButtonLabel })));\n        }),\n        children));\n};\nvar popperModifiers = {\n    inner: { enabled: true },\n    flip: { enabled: false },\n    hide: { enabled: false },\n    preventOverflow: {\n        enabled: false,\n        padding: 0,\n    },\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    popper: {\n        zIndex: theme.zIndex.modal - 1,\n    },\n    element: {\n        boxShadow: \"rgb(255, 255, 255) 0px 0px 0px 0px, \" + fade(theme.palette.primary.main, 0.3) + \" 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px\",\n        '&:hover': {\n            boxShadow: \"rgb(255, 255, 255) 0px 0px 0px 0px, \" + theme.palette.primary.main + \" 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px\",\n        },\n    },\n}); }, {\n    name: 'RaPreferencesEditor',\n});\n","import * as React from 'react';\nimport { useState, useRef } from 'react';\nimport { Typography, Popover } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { useTranslate, getFieldLabelTranslationArgs } from 'react-admin';\nimport { useResourceModel } from './useResourceModel';\nvar useStyles = makeStyles({\n    popover: {\n        pointerEvents: 'none',\n    },\n    popoverContent: {\n        pointerEvents: 'auto',\n        padding: '1em',\n        maxWidth: '25em',\n    },\n});\nexport var TemplateInfoButton = function (_a) {\n    var resource = _a.resource;\n    var classes = useStyles();\n    var _b = useState(false), openedPopover = _b[0], setOpenedPopover = _b[1];\n    var popoverAnchor = useRef(null);\n    var handleEnter = function () {\n        setOpenedPopover(true);\n    };\n    var handleLeave = function () {\n        setOpenedPopover(false);\n    };\n    var id = openedPopover ? 'simple-popover' : undefined;\n    var translate = useTranslate();\n    var types = useResourceModel(resource);\n    var keys = Object.keys(types);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"span\", { ref: popoverAnchor, \"aria-owns\": id, onMouseEnter: handleEnter, onMouseLeave: handleLeave },\n            React.createElement(InfoIcon, { color: \"disabled\" })),\n        React.createElement(Popover, { id: id, open: openedPopover, anchorEl: popoverAnchor.current, onClose: handleLeave, anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n            }, transformOrigin: {\n                vertical: 'top',\n                horizontal: 'left',\n            }, className: classes.popover, classes: {\n                paper: classes.popoverContent,\n            }, PaperProps: {\n                onMouseEnter: handleEnter,\n                onMouseLeave: handleLeave,\n            } },\n            React.createElement(Typography, { color: \"textSecondary\" },\n                \"Display record data using the\",\n                ' ',\n                React.createElement(\"a\", { href: \"https://mozilla.github.io/nunjucks/\", target: \"_blank\", rel: \"noreferrer\" }, \"nunjucks\"),\n                ' ',\n                \"syntax \",\n                React.createElement(\"br\", null),\n                \"e.g. \",\n                '\"{{',\n                \" first_name \",\n                '}}',\n                \" \",\n                '{{',\n                \" last_name \",\n                '}}\"',\n                \".\",\n                React.createElement(\"br\", null),\n                React.createElement(\"br\", null),\n                \"Available fields for the \",\n                resource,\n                \" resource:\"),\n            React.createElement(\"ul\", null, keys.map(function (key) { return (React.createElement(Typography, { key: key, component: \"li\", color: \"textSecondary\" },\n                key,\n                \" (\",\n                translate.apply(void 0, getFieldLabelTranslationArgs({\n                    resource: resource,\n                    source: key,\n                })),\n                \")\")); })))));\n};\n","import * as React from 'react';\nimport { Button } from 'react-admin';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SaveIcon from '@material-ui/icons/Save';\n/**\n * A toolbar tailored for custom fields\n * @param {FieldFormToolbarProps} props\n * @param {FieldDefinition} field The edited field which may be an empty object for new ones.\n * @param {VoidFunction} onCancel An event handler called to cancel either the edition or creation.\n * @param {VoidFunction} onDelete An event handler called to delete the current field (only for existing ones).\n */\nexport var FieldFormToolbar = function (_a) {\n    var field = _a.field, onCancel = _a.onCancel, onDelete = _a.onDelete;\n    var classes = useStyles();\n    return (\n    // TODO: remove once react-admin 16.1 is out\n    // @ts-ignore\n    React.createElement(Toolbar, { className: classes.toolbar },\n        React.createElement(Button, { variant: \"contained\", type: \"submit\", label: \"Save\" },\n            React.createElement(SaveIcon, null)),\n        React.createElement(\"span\", { className: classes.spacer }),\n        !!(field === null || field === void 0 ? void 0 : field.id) && (React.createElement(Button, { label: \"ra.action.delete\", onClick: onDelete })),\n        React.createElement(Button, { label: \"ra.action.cancel\", onClick: onCancel })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        backgroundColor: theme.palette.type === 'light'\n            ? theme.palette.grey[100]\n            : theme.palette.grey[900],\n    },\n    spacer: {\n        flexGrow: 1,\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { v4 as createUuid } from 'uuid';\nimport { required, SelectInput, TextInput } from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Form } from 'react-final-form';\nimport { TemplateInfoButton } from '../TemplateInfoButton';\nimport { FieldFormToolbar } from './FieldFormToolbar';\nexport var ComputedFieldEditor = function (_a) {\n    var availableColumns = _a.availableColumns, _b = _a.field, field = _b === void 0 ? {} : _b, onCancel = _a.onCancel, onClose = _a.onClose, onDelete = _a.onDelete, onSave = _a.onSave, props = __rest(_a, [\"availableColumns\", \"field\", \"onCancel\", \"onClose\", \"onDelete\", \"onSave\"]);\n    var classes = useStyles();\n    return (React.createElement(Form, { initialValues: __assign({ id: createUuid() }, field), onSubmit: onSave }, function (formProps) { return (React.createElement(\"form\", { onSubmit: formProps.handleSubmit },\n        React.createElement(\"div\", { className: classes.form },\n            React.createElement(TextInput, { source: \"label\", validate: required(), fullWidth: true }),\n            React.createElement(TextInput, { source: \"template\", fullWidth: true, InputProps: {\n                    endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(TemplateInfoButton, { resource: props.resource }))),\n                }, validate: required() }),\n            React.createElement(SelectInput, { source: \"alignment\", choices: ALIGNMENT_CHOICES, validate: required(), initialValue: \"left\", fullWidth: true })),\n        React.createElement(FieldFormToolbar, { field: field, onCancel: onCancel, onDelete: onDelete }))); }));\n};\nvar ALIGNMENT_CHOICES = [\n    { id: 'left', name: 'Left' },\n    { id: 'center', name: 'Center' },\n    { id: 'right', name: 'Right' },\n    { id: 'justify', name: 'Justify' },\n];\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment } from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate } from 'react-admin';\nimport { DialogContent, Popover, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var ComputedFieldTemplatePopover = function (_a) {\n    var availableColumns = _a.availableColumns, resource = _a.resource, props = __rest(_a, [\"availableColumns\", \"resource\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(Popover, __assign({ anchorOrigin: {\n            vertical: 'center',\n            horizontal: 'left',\n        }, transformOrigin: {\n            vertical: 'center',\n            horizontal: 'right',\n        }, disableAutoFocus: true, disableEnforceFocus: true, disableEscapeKeyDown: true, disableRestoreFocus: true, disableScrollLock: true }, props),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, { component: \"p\" }, translate('ra-preferences.no-code.computed_fields.instructions')),\n            React.createElement(Typography, { component: \"code\", className: classes.template }, translate('ra-preferences.no-code.computed_fields.template'))),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, null, translate('ra-preferences.no-code.computed_fields.available_fields')),\n            React.createElement(\"dl\", { className: classes.dl },\n                React.createElement(Typography, { component: \"dt\", className: classes.dt, color: \"textSecondary\", variant: \"subtitle2\" }, translate('ra-preferences.no-code.computed_fields.source_title')),\n                React.createElement(Typography, { component: \"dd\", className: classes.dd, color: \"textSecondary\", variant: \"subtitle2\" }, translate('ra-preferences.no-code.computed_fields.label_title')),\n                availableColumns.map(function (column) { return (React.createElement(Fragment, { key: column[0] },\n                    React.createElement(Typography, { component: \"dt\", className: classes.dt }, column[0]),\n                    React.createElement(Typography, { component: \"dd\", className: classes.dd }, translate.apply(void 0, getFieldLabelTranslationArgs({\n                        label: column[1],\n                        resource: resource,\n                        source: column[0],\n                    }))))); })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    template: {\n        fontFamily: theme.typography.fontFamily.fixed,\n        padding: theme.spacing(0.5, 1),\n        backgroundColor: theme.palette.grey[200],\n        marginTop: theme.spacing(1),\n    },\n    dl: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n    },\n    dt: {\n        display: 'inline-block',\n    },\n    dd: {\n        display: 'inline-block',\n        marginBottom: theme.spacing(1),\n    },\n}); });\n","import * as React from 'react';\nimport { Button, Typography, Switch } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate } from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\n/**\n * A component providing UI to customize a single field.\n * Meant to be used inside the <DatagridEditor>\n *\n * @see DatagridEditor\n * @param {ColumnEditorProps} props\n * @param {Boolean} props.selected A boolean indicating whether this field is selected.\n * @param {Boolean} props.source The field source.\n * @param {Boolean} props.label The field label.\n * @param {Boolean} props.onToggle An event handler called when the selection state of the field changes.\n * @param {Boolean} props.onEdit An event handler called when users choose to edit this field.\n * @param {Boolean} props.resource The resource.\n * @param {FieldDefinition} props.customField The associated custom field if any.\n */\nexport var FieldEditor = function (props) {\n    var selected = props.selected, customField = props.customField, label = props.label, onToggle = props.onToggle, resource = props.resource, source = props.source;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, key: source },\n        React.createElement(\"label\", { htmlFor: \"switch_\" + source },\n            React.createElement(Switch, { checked: selected, className: classes.switch, onChange: onToggle, name: source, id: \"switch_\" + source, size: \"small\" }),\n            React.createElement(Typography, { component: \"span\", variant: \"body2\" },\n                React.createElement(FieldTitle, { label: label, source: source, resource: resource }))),\n        customField && (React.createElement(Button, { component: RouterLink, className: classes.editButton, to: getCustomFieldPath(customField) }, translate('ra.action.edit')))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        '&:hover': {\n            '& $editButton': {\n                opacity: 100,\n            },\n        },\n    },\n    switch: {\n        marginRight: theme.spacing(0.5),\n        marginLeft: -theme.spacing(0.5),\n    },\n    editButton: {\n        opacity: 0,\n        padding: 0,\n        marginLeft: theme.spacing(1),\n        transition: theme.transitions.create('opacity'),\n    },\n}); }, {\n    name: 'RaColumnEditor',\n});\nexport var getCustomFieldPath = function (field) {\n    var result = field.template.replace(/({{)|(}})/g, '').replace(' ', '-');\n    return \"/\" + result;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { Button, FormGroup, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useRefresh, useTranslate } from 'react-admin';\nimport { usePreferences } from '../../usePreferences';\nimport { ComputedFieldEditor } from './ComputedFieldEditor';\nimport { FieldEditor, getCustomFieldPath } from './FieldEditor';\nimport { useComputedFields } from './useComputedFields';\nimport { Route, Switch, Link as RouterLink, useHistory, } from 'react-router-dom';\nimport { EditorTitle } from '../Editor';\nexport var FieldsEditor = function (props) {\n    var defaultFields = props.defaultFields, preferencesKey = props.preferencesKey, resource = props.resource;\n    var translate = useTranslate();\n    var refresh = useRefresh();\n    var classes = useStyles();\n    var history = useHistory();\n    var columnsPreferencesKey = preferencesKey + \".columns\";\n    var customFieldsPreferencesKey = preferencesKey + \".customFields\";\n    var _a = usePreferences(columnsPreferencesKey, Object.keys(defaultFields)), columnsFromPrefs = _a[0], setColumnsFromPref = _a[1];\n    var _b = usePreferences(customFieldsPreferencesKey, []), customFieldsFromPrefs = _b[0], setCustomFieldsFromPref = _b[1];\n    var customFields = useComputedFields({\n        preferences: customFieldsPreferencesKey,\n    });\n    var availableFields = useMemo(function () {\n        var fields = __assign({}, defaultFields);\n        customFields.forEach(function (field) {\n            fields[field.props.source] = field;\n        });\n        return fields;\n    }, [customFields, defaultFields]);\n    var addColumn = function (event) {\n        setColumnsFromPref(Object.keys(availableFields).filter(function (name) {\n            return name === event.target.name ||\n                columnsFromPrefs.includes(name);\n        }));\n    };\n    var removeColumn = function (event) {\n        // always leave at least one column\n        if (columnsFromPrefs.length > 1) {\n            setColumnsFromPref(columnsFromPrefs.filter(function (name) { return name !== event.target.name; }));\n        }\n    };\n    var handleColumnToggle = function (event) {\n        if (event.target.checked) {\n            addColumn(event);\n        }\n        else {\n            removeColumn(event);\n        }\n    };\n    var handleSaveCustomField = function (values) {\n        var existingFieldIndex = customFieldsFromPrefs.findIndex(function (field) { return field.id === values.id; });\n        if (existingFieldIndex >= 0) {\n            setCustomFieldsFromPref(__spreadArray(__spreadArray(__spreadArray([], customFieldsFromPrefs.slice(0, existingFieldIndex)), [\n                values\n            ]), customFieldsFromPrefs.slice(existingFieldIndex + 1)));\n        }\n        else {\n            setCustomFieldsFromPref(customFieldsFromPrefs.concat(values));\n            setColumnsFromPref(columnsFromPrefs.concat(values.template));\n        }\n        history.push('/');\n        // Because react-admin won't rerender the datagrid header cells when the field props change, we have to refresh the view\n        refresh();\n    };\n    var handleDeleteCustomField = function (field) {\n        setColumnsFromPref(columnsFromPrefs.filter(function (column) { return column !== field.template; }));\n        setCustomFieldsFromPref(customFieldsFromPrefs.filter(function (field) { return field.id !== field.id; }));\n        history.push('/');\n        // Because react-admin won't rerender the datagrid header cells when the field props change, we have to refresh the view\n        refresh();\n    };\n    var handleCustomFieldPaneClose = function () {\n        history.push('/');\n    };\n    return (React.createElement(Switch, null,\n        React.createElement(Route, { path: \"/create-custom-field\", render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.custom_field\" }),\n                React.createElement(ComputedFieldEditor, { availableColumns: Object.keys(availableFields)\n                        .filter(function (column) { return !column.includes('{{'); })\n                        .map(function (column) { return [\n                        column,\n                        availableFields[column].props.label,\n                    ]; }), field: DefaultNewCustomField, onCancel: handleCustomFieldPaneClose, onSave: handleSaveCustomField, resource: resource }))); } }),\n        customFieldsFromPrefs.map(function (field) { return (React.createElement(Route, { key: field.template, path: getCustomFieldPath(field), render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.custom_field\" }),\n                React.createElement(ComputedFieldEditor, { availableColumns: Object.keys(availableFields)\n                        .filter(function (column) { return !column.includes('{{'); })\n                        .map(function (column) { return [\n                        column,\n                        availableFields[column].props.label,\n                    ]; }), field: field, onCancel: handleCustomFieldPaneClose, onDelete: function () { return handleDeleteCustomField(field); }, onSave: handleSaveCustomField, resource: resource }))); } })); }),\n        React.createElement(Route, { path: \"/\", render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(Typography, { id: resource + \"-columns-description\", variant: \"subtitle2\", color: \"textSecondary\", gutterBottom: true }, translate('ra-preferences.no-code.action.choose_fields')),\n                React.createElement(FormGroup, null, Object.keys(availableFields).map(function (source) { return (React.createElement(FieldEditor, { key: source, selected: columnsFromPrefs.some(function (column) { return column === source; }), source: source, label: availableFields[source].props.label, customField: customFieldsFromPrefs.find(function (field) { return field.template === source; }), onToggle: handleColumnToggle, resource: resource })); })),\n                React.createElement(Button, { component: RouterLink, to: \"/create-custom-field\", startIcon: React.createElement(AddIcon, null), className: classes.addFieldButton }, translate('ra-preferences.no-code.action.add_computed_field')))); } })));\n};\nvar DefaultNewCustomField = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    addFieldButton: {\n        marginLeft: theme.spacing(0.5),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { List, ListItem, IconButton, Button, TextField, } from '@material-ui/core';\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport DeleteIcon from '@material-ui/icons/CancelOutlined';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport isEqual from 'lodash/isEqual';\nimport { useTranslate } from 'ra-core';\nimport { useResourceModel } from '../ResourceModel';\nimport { PropertyValueInput } from './PropertyValueInput';\nvar autocompleteFilter = createFilterOptions();\n/**\n * A controlled input component for editing object values\n *\n * Renders one row for each key/value pairs, allows adding and removing pairs.\n *\n * @example\n *\n * const App = () => {\n *   const [value, setValue] = useState({ foo: \"bar \" });\n *   const handleChange = (val) => {\n *     setValue(val);\n *   };\n *   return (<ObjectInput value={value} onChange={handleChange} />);\n * }\n */\nexport var ObjectInput = function (_a) {\n    var resource = _a.resource, value = _a.value, onChange = _a.onChange, className = _a.className;\n    var classes = useStyles();\n    var translate = useTranslate();\n    var _b = useState(function () {\n        return value ? Object.entries(value) : [];\n    }), entries = _b[0], setEntries = _b[1];\n    // The form uses the local state, which updates immediately on user input\n    // The changes are bubbled up (via onChange) when the user blurs an input, or deletes a row\n    // Adding a empty row doesn't call onChange\n    useEffect(function () {\n        var localValue = Object.fromEntries(entries);\n        if (value && !isEqual(value, localValue)) {\n            setEntries(Object.entries(value));\n        }\n    }, [value]); // eslint-disable-line react-hooks/exhaustive-deps\n    var model = useResourceModel(resource)[0];\n    var keys = Object.keys((model === null || model === void 0 ? void 0 : model.fields) || {}).map(function (key) { return ({\n        title: key,\n        value: key,\n    }); });\n    var handleKeyChange = function (index) {\n        return function (event, newKey) {\n            if (typeof newKey === 'string') {\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey, entries[index][1]]\n                ]), entries.slice(index + 1)); });\n            }\n            else if (newKey && newKey.value) {\n                // Create a new value from the user input\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey && newKey.value, '']\n                ]), entries.slice(index + 1)); });\n            }\n            else {\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey, '']\n                ]), entries.slice(index + 1)); });\n            }\n            // onChange will be called when a value is set\n        };\n    };\n    var handleValueChange = function (index) {\n        return function (event, newValue) {\n            var newEntries = __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                [entries[index][0], newValue]\n            ]), entries.slice(index + 1));\n            onChange(Object.fromEntries(newEntries));\n        };\n    };\n    var handleItemRemove = function (index) { return function () {\n        onChange(Object.fromEntries(__spreadArray(__spreadArray([], entries.slice(0, index)), entries.slice(index + 1))));\n        // the local state will be modified by the useEffect\n    }; };\n    var handleItemAdd = function () {\n        setEntries(function (entries) { return __spreadArray(__spreadArray([], entries), [['', '']]); });\n    };\n    if (!model || !model.fields) {\n        return null;\n    }\n    return (React.createElement(List, { className: className, dense: true },\n        entries.map(function (_a, index) {\n            var key = _a[0], val = _a[1];\n            return (React.createElement(ListItem, { key: index, className: classes.filterItemRow },\n                React.createElement(Autocomplete, { freeSolo: true, options: keys, value: key, onChange: handleKeyChange(index), filterOptions: function (options, params) {\n                        var filtered = autocompleteFilter(options, params);\n                        // Suggest the creation of a new value\n                        if (params.inputValue !== '') {\n                            filtered.push({\n                                inputValue: params.inputValue,\n                                title: \"Add \\\"\" + params.inputValue + \"\\\"\",\n                            });\n                        }\n                        return filtered;\n                    }, selectOnFocus: true, clearOnBlur: true, handleHomeEndKeys: true, className: classes.filterItemField, renderInput: function (params) { return (React.createElement(TextField, __assign({}, params, { label: \"Key\" }))); }, renderOption: function (option) { return option.title; }, getOptionLabel: function (option) {\n                        // Value selected with enter, right from the input\n                        if (typeof option === 'string') {\n                            return option;\n                        }\n                        // Add \"xxx\" option created dynamically\n                        if (option.inputValue) {\n                            return option.inputValue;\n                        }\n                        // Regular option\n                        return option.title;\n                    } }),\n                React.createElement(PropertyValueInput, { name: key, value: val, onChange: handleValueChange(index), type: model.fields[key], className: classes.filterItemValue }),\n                React.createElement(IconButton, { \"arial-label\": \"ra.action.delete\", onClick: handleItemRemove(index), size: \"small\", className: classes.deleteButton },\n                    React.createElement(DeleteIcon, null))));\n        }),\n        React.createElement(ListItem, null,\n            React.createElement(Button, { variant: \"outlined\", size: \"small\", startIcon: React.createElement(AddIcon, null), onClick: handleItemAdd }, translate('ra-preferences.no-code.list.filter.add', {\n                _: 'Add condition',\n            })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    filterItemRow: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingRight: 0,\n    },\n    filterItemField: {\n        flex: 1,\n        '&:first-child': {\n            marginRight: theme.spacing(1),\n        },\n    },\n    filterItemValue: {\n        flex: 1,\n    },\n    deleteButton: {\n        height: 30,\n    },\n}); });\n","import * as React from 'react';\nimport { Typography, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport { usePreferences } from '../../usePreferences';\nimport { ObjectInput } from './ObjectInput';\nimport { ResetSettingsButton } from '../ResetSettingsButton';\nimport { PreferencesEditor, EditorTitle } from '../Editor';\nimport { useGetResourceLabel } from 'react-admin';\n/**\n * A component which provides a configuration UI to tweak the List\n * @param {ListEditorProps} props\n * @param {ColumnList} props.columns The List columns\n * @param {String} props.resource The resource\n * @param {String} props.preferencesKey The key of the columns preferences\n */\nexport var ListEditor = function (_a) {\n    var defaultFilter = _a.defaultFilter, defaultTitle = _a.defaultTitle, resource = _a.resource, preferencesKey = _a.preferencesKey;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var getResourceLabel = useGetResourceLabel();\n    // title preferences\n    var _b = usePreferences(preferencesKey + \".title\", defaultTitle), title = _b[0], setTitle = _b[1];\n    var handleTitleChange = function (event) {\n        setTitle(event.target.value);\n    };\n    // filter preferences\n    var _c = usePreferences(preferencesKey + \".filter\", defaultFilter), filter = _c[0], setFilter = _c[1];\n    var handleFilterChange = function (value) {\n        setFilter(value);\n    };\n    return (React.createElement(PreferencesEditor, null,\n        React.createElement(React.Fragment, null,\n            React.createElement(EditorTitle, { title: translate('ra-preferences.no-code.editor.list', {\n                    resource: getResourceLabel(resource, 2),\n                }) }),\n            React.createElement(TextField, { label: translate('ra-preferences.no-code.list.title', {\n                    _: 'Title',\n                }), value: title, onChange: handleTitleChange, fullWidth: true, variant: \"filled\", size: \"small\", helperText: \" \" }),\n            React.createElement(Typography, { variant: \"body2\", color: \"textSecondary\", gutterBottom: true }, translate('ra-preferences.no-code.list.filter', {\n                _: 'Permanent filter',\n            })),\n            React.createElement(ObjectInput, { resource: resource, value: filter, onChange: handleFilterChange, className: classes.objectInput }),\n            React.createElement(ResetSettingsButton, { preferencesKey: preferencesKey }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    objectInput: {\n        borderLeft: \"solid 1px \" + theme.palette.divider,\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n}); });\n","export var CHANGE_EXPANDED_NODES = 'RA/TREE/CHANGE_EXPANDED_NODES';\nexport var changeExpandedNodes = function (resource, nodeIds) { return ({\n    type: CHANGE_EXPANDED_NODES,\n    payload: nodeIds,\n    meta: { resource: resource },\n}); };\nexport var EXPAND_NODE = 'RA/TREE/EXPAND_NODE';\nexport var expandNode = function (resource, nodeId) { return ({\n    type: EXPAND_NODE,\n    payload: nodeId,\n    meta: { resource: resource },\n}); };\nexport var CRUD_GET_TREE = 'RA/CRUD_GET_TREE';\nexport var CRUD_GET_TREE_LOADING = 'RA/CRUD_GET_TREE_LOADING';\nexport var CRUD_GET_TREE_SUCCESS = 'RA/CRUD_GET_TREE_SUCCESS';\nexport var CRUD_GET_TREE_FAILURE = 'RA/CRUD_GET_TREE_FAILURE';\nexport var CRUD_GET_ROOT_NODES = 'RA/CRUD_GET_ROOT_NODES';\nexport var CRUD_GET_ROOT_NODES_LOADING = 'RA/CRUD_GET_ROOT_NODES_LOADING';\nexport var CRUD_GET_ROOT_NODES_SUCCESS = 'RA/CRUD_GET_ROOT_NODES_SUCCESS';\nexport var CRUD_GET_ROOT_NODES_FAILURE = 'RA/CRUD_GET_ROOT_NODES_FAILURE';\nexport var CRUD_GET_CHILD_NODES = 'RA/CRUD_GET_CHILD_NODES';\nexport var CRUD_GET_CHILD_NODES_LOADING = 'RA/CRUD_GET_CHILD_NODES_LOADING';\nexport var CRUD_GET_CHILD_NODES_SUCCESS = 'RA/CRUD_GET_CHILD_NODES_SUCCESS';\nexport var CRUD_GET_CHILD_NODES_FAILURE = 'RA/CRUD_GET_CHILD_NODES_FAILURE';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_LOADING = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_LOADING';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_SUCCESS = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_SUCCESS';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_FAILURE = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_FAILURE';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_LOADING = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_LOADING';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_SUCCESS = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_SUCCESS';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_FAILURE = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_FAILURE';\nexport var CRUD_ADD_ROOT_NODE = 'RA/CRUD_ADD_ROOT_NODE';\nexport var CRUD_ADD_ROOT_NODE_LOADING = 'RA/CRUD_ADD_ROOT_NODE_LOADING';\nexport var CRUD_ADD_ROOT_NODE_SUCCESS = 'RA/CRUD_ADD_ROOT_NODE_SUCCESS';\nexport var CRUD_ADD_ROOT_NODE_FAILURE = 'RA/CRUD_ADD_ROOT_NODE_FAILURE';\nexport var CRUD_ADD_CHILD_NODE = 'RA/CRUD_ADD_CHILD_NODE';\nexport var CRUD_ADD_CHILD_NODE_LOADING = 'RA/CRUD_ADD_CHILD_NODE_LOADING';\nexport var CRUD_ADD_CHILD_NODE_SUCCESS = 'RA/CRUD_ADD_CHILD_NODE_SUCCESS';\nexport var CRUD_ADD_CHILD_NODE_FAILURE = 'RA/CRUD_ADD_CHILD_NODE_FAILURE';\nexport var CRUD_DELETE_BRANCH = 'RA/CRUD_DELETE_BRANCH';\nexport var CRUD_DELETE_BRANCH_LOADING = 'RA/CRUD_DELETE_BRANCH_LOADING';\nexport var CRUD_DELETE_BRANCH_SUCCESS = 'RA/CRUD_DELETE_BRANCH_SUCCESS';\nexport var CRUD_DELETE_BRANCH_FAILURE = 'RA/CRUD_DELETE_BRANCH_FAILURE';\nexport var POPULATE_RECORDS_FROM_NODES = 'RA/TREE/POPULATE_RECORDS_FROM_NODES';\nexport var CREATE_RECORD_FROM_NODE = 'RA/TREE/CREATE_RECORD_FROM_NODE';\nexport var ADD_UNSAVED_ROOT_NODE = 'RA/TREE/ADD_UNSAVED_ROOT_NODE';\nexport var REMOVE_UNSAVED_ROOT_NODE = 'RA/TREE/REMOVE_UNSAVED_ROOT_NODE';\nexport var ADD_UNSAVED_CHILD_NODE = 'RA/TREE/ADD_UNSAVED_CHILD_NODE';\nexport var REMOVE_UNSAVED_CHILD_NODE = 'RA/TREE/REMOVE_UNSAVED_CHILD_NODE';\n","export var UNSAVED_NEW_NODE = 'RA/UNSAVED_NEW_NODE';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { CHANGE_EXPANDED_NODES, EXPAND_NODE, ADD_UNSAVED_ROOT_NODE, REMOVE_UNSAVED_ROOT_NODE, ADD_UNSAVED_CHILD_NODE, REMOVE_UNSAVED_CHILD_NODE, } from './actions';\nimport { GET_TREE, GET_ROOT_NODES, GET_CHILD_NODES, ADD_CHILD_NODE, ADD_ROOT_NODE, } from './fetchTypes';\nimport { UNSAVED_NEW_NODE } from './constants';\nvar initialState = {};\n/**\n * Reducer for Tree state\n *\n * Store, for each resource with a tree, 2 objects:\n *  - nodes: a list of nodes indexd by id, containing an array of child ids\n *  - expanded: an array of the expanded ids\n *\n * @example\n *\n * tree: {\n *   categories: {\n *     nodes: {\n *       '1': [2,6],\n *       '2': [3],\n *       '3': [4,5],\n *       '4': [],\n *       '5': [],\n *       '6': [7,10,11],\n *       '7': [8,9],\n *       '8': [],\n *       '9': [],\n *       '10': [],\n *       '11': []\n *     },\n *     expanded: []\n *   }\n */\nexport var reducer = function (state, _a) {\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n    if (state === void 0) { state = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (!meta || !meta.resource) {\n        return state;\n    }\n    var resourceState = state[meta.resource] || {\n        nodes: undefined,\n        expanded: [],\n    };\n    // handling node expansion\n    if (type === CHANGE_EXPANDED_NODES) {\n        return __assign(__assign({}, state), (_b = {}, _b[meta.resource] = __assign(__assign({}, resourceState), { expanded: payload.map(String) }), _b));\n    }\n    if (type === EXPAND_NODE) {\n        if (resourceState.expanded.includes(payload)) {\n            // already expanded\n            return state;\n        }\n        // rc-tree should also expand ancestors but for some reasons it doesn't\n        // determine all the ancestors that must be opened\n        var newExpanded = [];\n        var current_1 = payload;\n        do {\n            newExpanded = newExpanded.concat(String(current_1));\n            current_1 = Object.keys(resourceState.nodes)\n                .filter(function (id) {\n                return resourceState.nodes[id].some(function (item) { return item == current_1; });\n            })\n                .pop();\n        } while (current_1);\n        // expand all these nodes\n        return __assign(__assign({}, state), (_c = {}, _c[meta.resource] = __assign(__assign({}, resourceState), { expanded: resourceState.expanded.concat(newExpanded) }), _c));\n    }\n    // handling local node insertion\n    if (type === ADD_UNSAVED_ROOT_NODE) {\n        return __assign(__assign({}, state), (_d = {}, _d[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_e = {}, _e[UNSAVED_NEW_NODE] = [], _e)) }), _d));\n    }\n    if (type === REMOVE_UNSAVED_ROOT_NODE) {\n        var _v = resourceState.nodes, _w = UNSAVED_NEW_NODE, _ = _v[_w], nodes = __rest(_v, [typeof _w === \"symbol\" ? _w : _w + \"\"]);\n        return __assign(__assign({}, state), (_f = {}, _f[meta.resource] = __assign(__assign({}, resourceState), { nodes: nodes }), _f));\n    }\n    if (type === 'RA/CRUD_DELETE_OPTIMISTIC') {\n        if (typeof resourceState.nodes !== 'undefined') {\n            console.warn(\"A record from a tree resource should not be deleted using the dataProvider.delete method. Please use dataProvider.deleteBranch instead.\");\n        }\n        return state;\n    }\n    if (type === 'RA/CRUD_DELETE_BRANCH_OPTIMISTIC') {\n        var nodesToRemove_1 = getNodesToRemove(resourceState.nodes, payload.id);\n        return __assign(__assign({}, state), (_g = {}, _g[meta.resource] = {\n            expanded: resourceState.expanded.filter(function (id) { return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; }); }),\n            nodes: Object.keys(resourceState.nodes)\n                .filter(function (id) {\n                return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; });\n            })\n                .reduce(function (acc, curr) {\n                acc[curr] = resourceState.nodes[curr].filter(function (id) {\n                    return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; });\n                });\n                return acc;\n            }, {}),\n        }, _g));\n    }\n    if (type === ADD_UNSAVED_CHILD_NODE) {\n        return __assign(__assign({}, state), (_h = {}, _h[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_j = {}, _j[payload.parentId] = resourceState.nodes[payload.parentId].concat(UNSAVED_NEW_NODE), _j[UNSAVED_NEW_NODE] = [], _j)), \n            // expand parent id not expanded\n            expanded: resourceState.expanded.includes(payload.parentId)\n                ? resourceState.expanded\n                : resourceState.expanded.concat(String(payload.parentId)) }), _h));\n    }\n    if (type === REMOVE_UNSAVED_CHILD_NODE) {\n        var _x = resourceState.nodes, _y = UNSAVED_NEW_NODE, _ = _x[_y], nodes = __rest(_x, [typeof _y === \"symbol\" ? _y : _y + \"\"]);\n        var children = nodes[payload.parentId].filter(function (e) { return e !== UNSAVED_NEW_NODE; });\n        return __assign(__assign({}, state), (_k = {}, _k[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, nodes), (_l = {}, _l[payload.parentId] = children, _l)) }), _k));\n    }\n    if (!meta.fetchResponse) {\n        return state;\n    }\n    // handling dataProvider response\n    switch (meta.fetchResponse) {\n        case GET_TREE:\n            return __assign(__assign({}, state), (_m = {}, _m[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign({}, payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children;\n                    return acc;\n                }, {})) }), _m));\n        case GET_ROOT_NODES:\n            return __assign(__assign({}, state), (_o = {}, _o[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children || [];\n                    return acc;\n                }, {})) }), _o));\n        case GET_CHILD_NODES:\n            return __assign(__assign({}, state), (_p = {}, _p[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign(__assign({}, (resourceState.nodes || {})), (_q = {}, _q[requestPayload.parentId] = payload.data.map(function (node) { return node.id; }), _q)), payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children || [];\n                    return acc;\n                }, {})) }), _p));\n        case ADD_ROOT_NODE:\n            return __assign(__assign({}, state), (_r = {}, _r[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_s = {}, _s[payload.data.id] = [], _s)) }), _r));\n        case ADD_CHILD_NODE:\n            return __assign(__assign({}, state), (_t = {}, _t[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_u = {}, _u[requestPayload.parentId] = resourceState.nodes[requestPayload.parentId].concat(payload.data.id), _u[payload.data.id] = [], _u)) }), _t));\n        default:\n            return state;\n    }\n};\nvar getNodesToRemove = function (nodes, nodeId) {\n    var children = nodes[nodeId];\n    var ids = (children || []).reduce(function (acc, child) { return __spreadArray(__spreadArray([], acc), getNodesToRemove(nodes, child)); }, []);\n    ids.push(nodeId);\n    return ids;\n};\n","export var GET_TREE = 'getTree';\nexport var GET_ROOT_NODES = 'getRootNodes';\nexport var GET_CHILD_NODES = 'getChildNodes';\nexport var MOVE_AS_NTH_CHILD_OF = 'moveAsNthChildOf';\nexport var MOVE_AS_NTH_SIBLING_OF = 'moveAsNthSiblingOf';\nexport var ADD_ROOT_NODE = 'addRootNode';\nexport var ADD_CHILD_NODE = 'addChildNode';\n","export var GET_LOCK = 'RA/GET_LOCK';\nexport var GET_LOCK_LOADING = 'RA/GET_LOCK_LOADING';\nexport var GET_LOCK_SUCCESS = 'RA/GET_LOCK_SUCCESS';\nexport var GET_LOCK_FAILURE = 'RA/GET_LOCK_FAILURE';\nexport var GET_LOCKS = 'RA/GET_LOCKS';\nexport var GET_LOCKS_LOADING = 'RA/GET_LOCKS_LOADING';\nexport var GET_LOCKS_SUCCESS = 'RA/GET_LOCKS_SUCCESS';\nexport var GET_LOCKS_FAILURE = 'RA/GET_LOCKS_FAILURE';\nexport var LOCK = 'RA/LOCK';\nexport var LOCK_LOADING = 'RA/LOCK_LOADING';\nexport var LOCK_SUCCESS = 'RA/LOCK_SUCCESS';\nexport var LOCK_FAILURE = 'RA/LOCK_FAILURE';\nexport var UNLOCK = 'RA/UNLOCK';\nexport var UNLOCK_LOADING = 'RA/UNLOCK_LOADING';\nexport var UNLOCK_SUCCESS = 'RA/UNLOCK_SUCCESS';\nexport var UNLOCK_FAILURE = 'RA/UNLOCK_FAILURE';\n","import { useState, useEffect } from 'react';\nimport { useDataProvider } from 'react-admin';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LOCK, LOCK_LOADING, LOCK_SUCCESS, LOCK_FAILURE, UNLOCK, UNLOCK_LOADING, UNLOCK_SUCCESS, UNLOCK_FAILURE, GET_LOCK, GET_LOCK_LOADING, GET_LOCK_SUCCESS, GET_LOCK_FAILURE, } from '../actions';\n/**\n * Hook to lock a record on mount. The record is unlocked when unmounting the component.\n * Be careful, you cannot have two locks on the same record.\n * If you just want to get the current lock (for example to display a warning),\n * please use the `useHasLock` hook instead.\n *\n * @param {string} resource The resource to lock\n * @param {any} recordId The record id to lock\n * @param {string} identity The identity of the locker\n * @param {Object} options Options applied to the lock / unlock mechanism\n * @param {Function} options.onSuccess Side effect function to be executed upon lock success, e.g. `{ onSuccess: () => notify('ra-realtime.notification.lock.lockedByMe') } }`\n * @param {Function} options.onFailure Side effect function to be executed upon lock failure, e.g. `{ onFailure: error => notify(error) } }`\n * @param {Function} options.onUnlockSuccess Side effect function to be executed upon unlock success, e.g. `{ onUnlockSuccess: () => notify('ra-realtime.notification.lock.unlocked') } }`\n * @param {Function} options.onUnlockFailure Side effect function to be executed upon unlock failure, e.g. `{ onUnlockFailure: error => notify(error) } }`\n *\n * @returns The current request state. Destructure as `{ data, error, loading, loaded }`.\n *\n * @example Simple Usage\n *\n * const MyLockedEditView: FC<any> = props => {\n *     const { resource, id } = props;\n *\n *     const { loading } = useLock(resource, id, 'mario');\n *\n *     if (loading) {\n *         return <CircularProgress />;\n *     }\n *\n *     return (\n *         <Edit {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n * };\n *\n */\nfunction useLock(resource, recordId, identity, options) {\n    var dataProvider = useDataProvider();\n    var dispatch = useDispatch();\n    var _a = useState(true), loading = _a[0], setLoading = _a[1];\n    var _b = useState(null), error = _b[0], setError = _b[1];\n    // Use lock from the state\n    // This way we can claim the lock when the current one is unlocked\n    var data = useSelector(function (state) {\n        return typeof state.locks[resource] === 'undefined'\n            ? undefined\n            : state.locks[resource][recordId];\n    });\n    useEffect(function () {\n        // If there's no lock, or if the lock identity is not the same\n        // We can claim lock\n        if (!data || data.identity !== identity) {\n            setLoading(true);\n            dispatch({\n                type: LOCK_LOADING,\n                payload: {},\n                meta: {\n                    resource: resource,\n                    recordId: recordId,\n                },\n            });\n            dataProvider\n                .lock(resource, {\n                resource: resource,\n                recordId: recordId,\n                identity: identity,\n            })\n                .then(function (_a) {\n                // Set directly the lock in case of success\n                var lock = _a.data;\n                dispatch({\n                    type: LOCK_SUCCESS,\n                    payload: {\n                        data: lock,\n                    },\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                        fetchResponse: LOCK,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onSuccess) != null) {\n                    options.onSuccess(lock);\n                }\n            })\n                .catch(function (error) {\n                // Get the existing lock in case of failure\n                dispatch({\n                    type: LOCK_FAILURE,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                setError(error);\n                if ((options === null || options === void 0 ? void 0 : options.onFailure) != null) {\n                    options.onFailure(error);\n                }\n                dispatch({\n                    type: GET_LOCK_LOADING,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                return dataProvider\n                    .getLock(resource, {\n                    resource: resource,\n                    recordId: recordId,\n                    identity: identity,\n                })\n                    .then(function (_a) {\n                    var lock = _a.data;\n                    dispatch({\n                        type: GET_LOCK_SUCCESS,\n                        payload: {\n                            data: lock,\n                        },\n                        meta: {\n                            resource: resource,\n                            recordId: recordId,\n                            fetchResponse: GET_LOCK,\n                        },\n                    });\n                })\n                    .catch(function () {\n                    dispatch({\n                        type: GET_LOCK_FAILURE,\n                        payload: {},\n                        meta: {\n                            resource: resource,\n                            recordId: recordId,\n                        },\n                    });\n                });\n            })\n                .finally(function () {\n                setLoading(false);\n            });\n        }\n        // Called on unmount to remove the lock\n        var unlockOnUnmount = function () {\n            // Resource is already unlocked during the unmount\n            // So we ignore it\n            if (!data) {\n                return;\n            }\n            dispatch({\n                type: UNLOCK_LOADING,\n                payload: {},\n                meta: {\n                    resource: resource,\n                    recordId: recordId,\n                },\n            });\n            dataProvider\n                .unlock(resource, {\n                resource: resource,\n                recordId: recordId,\n                identity: identity,\n            })\n                .then(function (_a) {\n                var lock = _a.data;\n                dispatch({\n                    type: UNLOCK_SUCCESS,\n                    payload: {\n                        data: lock,\n                    },\n                    meta: {\n                        fetchResponse: UNLOCK,\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onUnlockSuccess) != null) {\n                    options.onUnlockSuccess(lock);\n                }\n            })\n                .catch(function (error) {\n                dispatch({\n                    type: UNLOCK_FAILURE,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onUnlockFailure) != null) {\n                    options === null || options === void 0 ? void 0 : options.onUnlockFailure(error);\n                }\n            });\n        };\n        return unlockOnUnmount;\n    }, [data && data.identity]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        loading: loading,\n        loaded: !loading && (data != null || error != null),\n        error: error,\n        data: data,\n    };\n}\nexport default useLock;\n","import { useEffect } from 'react';\nimport { useDataProvider } from 'react-admin';\n/**\n * Hook to subscribe to the events for a custom topic\n * on mount (and unsubscribe on unmount).\n *\n * @example // Auto-Updated Messages Component\n *\n * const MessageComponent: FC<Props> = (props) => {\n *     const notify = useNotify();\n *     const [messages, updateMessages] = useState([]);\n *     useSubscribe('messageEvent', (event) => {\n *         updateMessages([event, ...messages]);\n *         notify('new message');\n *     });\n *     return (\n *         <Card {...props}>\n *             <Messages list={messages} />\n *         </Card>;\n *     ):\n * };\n */\nvar useSubscribe = function (topic, subscriptionCallback) {\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        if (!dataProvider || !topic || !subscriptionCallback) {\n            return;\n        }\n        dataProvider.subscribe(topic, subscriptionCallback);\n        return function () {\n            dataProvider.unsubscribe(topic, subscriptionCallback);\n        };\n    }, [dataProvider, topic, subscriptionCallback]);\n};\nexport default useSubscribe;\n","import useSubscribe from './useSubscribe';\n/**\n * Hook to subscribe to the events for a record list\n * on mount (and unsubscribe on unmount).\n *\n * @example // Auto-Updated PostList\n *\n * const PostList: FC<ListProps> = (props) => {\n *     const notify = useNotify();\n *     const refresh = useRefresh();\n *     useSubscribeToRecordList('posts', () => {\n *         refresh();\n *         notify('list updated server-side');\n *     });\n *     return (\n *         <List {...props}>\n *             <Datagrid>\n *                 <TextField source=\"title\" />\n *             </Datagrid>\n *         </List>;\n *     ):\n * };\n */\nvar useSubscribeToRecordList = function (resource, subscriptionCallback) {\n    var topic = \"resource/\" + resource;\n    useSubscribe(topic, subscriptionCallback);\n};\nexport default useSubscribeToRecordList;\n","export var EventType;\n(function (EventType) {\n    EventType[\"Updated\"] = \"updated\";\n    EventType[\"Created\"] = \"created\";\n    EventType[\"Deleted\"] = \"deleted\";\n})(EventType || (EventType = {}));\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useTranslate, RefreshButton } from 'react-admin';\nimport { Paper, Typography } from '@material-ui/core';\nimport { darken, lighten, makeStyles } from '@material-ui/core/styles';\nexport var Warning = function (props) {\n    var message = props.message, refresh = props.refresh, onRefresh = props.onRefresh;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Paper, { className: classes.root, role: \"alert\", square: true, elevation: 0 },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Typography, { gutterBottom: true, component: \"div\" }, translate('ra-realtime.notification.title')),\n            message),\n        React.createElement(\"div\", { className: classes.action }, refresh && React.createElement(RefreshButton, { onClick: onRefresh }))));\n};\nvar useStyles = makeStyles(function (theme) {\n    var getColor = theme.palette.type === 'light' ? darken : lighten;\n    var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n    return {\n        root: __assign(__assign({}, theme.typography.body2), { borderRadius: theme.shape.borderRadius, display: 'flex', padding: '6px 16px', margin: theme.spacing(1) + \"px 0\", color: getColor(theme.palette.warning.main, 0.6), backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9) }),\n        message: {\n            padding: theme.spacing(1) + \"px 0\",\n        },\n        action: {\n            display: 'flex',\n            alignItems: 'center',\n            marginLeft: 'auto',\n            paddingLeft: theme.spacing(2),\n            marginRight: -theme.spacing(1),\n        },\n    };\n}, {\n    name: 'RaWarning',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, useState, useEffect, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { MenuItem, ListItemIcon, Tooltip, Badge } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { useSubscribeToRecordList } from './dataProvider';\n/**\n * <MenuItemLink> equivalent, but with real-time update counts in badges\n *\n * @example\n *\n * import { RealTimeMenuItemLink } from '@react-admin/ra-realtime'\n *\n * const CustomMenu = ({ onMenuClick, logout }) => {\n *   const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n *   const open = useSelector(state => state.admin.ui.sidebarOpen);\n *   const resources = useSelector(getResources);\n *   return (\n *       <div>\n *           {resources.map(resource => (\n *               <RealTimeMenuItemLink\n *                   key={resource.name}\n *                   to={`/${resource.name}`}\n *                   primaryText={resource.options && resource.options.label || resource.name}\n *                   leftIcon={createElement(resource.icon)}\n *                   resource={resource.name}\n *                   badgeColor={'primary'}\n *                   onClick={onMenuClick}\n *                   sidebarIsOpen={open}\n *               />\n *           ))}\n *           <RealTimeMenuItemLink\n *               to=\"/custom-route\"\n *               primaryText=\"Miscellaneous\"\n *               leftIcon={<LabelIcon />}\n *               resource={resource.name}\n *               badgeColor={'error'}\n *               onClick={onMenuClick}\n *               sidebarIsOpen={open}\n *           />\n *           {isXSmall && logout}\n *       </div>\n *   );\n * }\n */\n// This component is a copy of MenuItemLink with some specific changes for the badges\nvar RealTimeMenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, resource = props.resource, _a = props.badgeColor, badgeColor = _a === void 0 ? 'error' : _a, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"resource\", \"badgeColor\", \"onClick\", \"sidebarIsOpen\"]);\n    var classes = useStyles(props);\n    var location = useLocation();\n    var _b = useState(0), countEvent = _b[0], setCountEvent = _b[1];\n    useSubscribeToRecordList(resource, function (event) {\n        var count = event.payload.ids.length;\n        if (isMenuActive(location, props)) {\n            var activeRecordId_1 = getActiveRecordIdFromRoute(location, props);\n            if (activeRecordId_1 == null) {\n                return;\n            }\n            count = event.payload.ids.filter(function (id) { return \"\" + id !== activeRecordId_1; }).length;\n        }\n        if (count) {\n            setCountEvent(function (previous) { return previous + count; });\n        }\n    });\n    useEffect(function () {\n        // Reset the counter when the Menu path is the current path (i.e. when the resource List is displayed)\n        if (location.pathname === props.to) {\n            setCountEvent(0);\n        }\n    }, [location, props.to]);\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref }, rest, { onClick: handleMenuTap }), leftIcon ? (React.createElement(React.Fragment, null,\n            React.createElement(StyledBadgeForIcon, { badgeContent: countEvent, color: badgeColor },\n                React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                    titleAccess: primaryText,\n                }))),\n            primaryText)) : (React.createElement(StyledBadgeForText, { badgeContent: countEvent, color: badgeColor }, primaryText))));\n    };\n    if (sidebarIsOpen) {\n        return renderMenuItem();\n    }\n    return (React.createElement(Tooltip, { title: primaryText, placement: \"right\" }, renderMenuItem()));\n});\nRealTimeMenuItemLink.displayName = 'RealTimeMenuItemLink';\nRealTimeMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    resource: PropTypes.string,\n    badgeColor: PropTypes.oneOf(['default', 'error', 'primary', 'secondary']),\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nNavLinkRef.displayName = 'NavLinkRef';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\nvar StyledBadgeForIcon = withStyles(function (theme) { return ({\n    badge: {\n        right: 12,\n        top: 3,\n        border: \"1px solid \" + theme.palette.background.paper,\n        padding: '0 4px',\n    },\n}); })(Badge);\nvar StyledBadgeForText = withStyles(function (theme) { return ({\n    badge: {\n        top: 3,\n        border: \"1px solid \" + theme.palette.background.paper,\n        padding: '0 4px',\n    },\n}); })(Badge);\nexport var isMenuActive = function (location, menuProps) {\n    return location.pathname === menuProps.to ||\n        location.pathname.includes(menuProps.to + \"/\");\n};\nexport var getActiveRecordIdFromRoute = function (_a, _b) {\n    var currentPath = _a.pathname;\n    var menuPath = _b.to;\n    var startIndex = currentPath.indexOf(menuPath.toString()) +\n        menuPath.toString().length +\n        1;\n    var endIndex = currentPath.indexOf('/', startIndex);\n    if (endIndex === -1) {\n        endIndex = currentPath.length;\n    }\n    if (endIndex <= startIndex) {\n        return null;\n    }\n    return currentPath.substring(startIndex, endIndex);\n};\nexport default RealTimeMenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport inflection from 'inflection';\nimport { makeStyles, useMediaQuery } from '@material-ui/core';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate, DashboardMenuItem, } from 'react-admin';\nimport RealTimeMenuItemLink from './RealTimeMenuItemLink';\n/**\n * <Menu> equivalent, but with real-time update counts in badges\n *\n * @example\n *\n * import { RealTimeMenu } from '@react-admin/ra-realtime'\n *\n * const CustomLayout: FC = (props) => (<Layout {...props} menu={RealTimeMenu} />;\n *\n * const MyAdmin = props => (\n *     <Admin\n *         dataProvider={realTimeDataProvider}\n *         layout={CustomLayout}\n *         i18nProvider={i18nProvider}\n *     >\n *         <Resource\n *             name=\"posts\"\n *             list={PostList}\n *             show={PostShow}\n *         />\n *     </Admin>\n * );\n */\nvar useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n    },\n}, { name: 'RaMenu' });\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\n// This component is a copy of Menu with some specific changes for the badges\nvar RealTimeMenu = function (props) {\n    var classesOverride = props.classes, className = props.className, dense = props.dense, hasDashboard = props.hasDashboard, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var resources = useSelector(getResources, shallowEqual);\n    // Used to force redraw on navigation\n    useSelector(function (state) { return state.router.location.pathname; });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest),\n        hasDashboard && (React.createElement(DashboardMenuItem, { onClick: onMenuClick, dense: dense, sidebarIsOpen: open })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(RealTimeMenuItemLink, { key: resource.name, to: \"/\" + resource.name, primaryText: translatedResourceName(resource, translate), leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null), resource: resource.name, onClick: onMenuClick, dense: dense, sidebarIsOpen: open })); }),\n        isXSmall && logout));\n};\nRealTimeMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nRealTimeMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default RealTimeMenu;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { LOCK, UNLOCK, GET_LOCK, GET_LOCKS } from './actions';\nvar initialState = {};\n/**\n * Reducer for Locks state\n *\n * Store a list of locks for each resource, indexed by their record id.\n * Each lock contains an object with the following keys:\n * - resource\n * - recordId\n * - identity\n * - createdAt\n *\n * @example\n *\n * locks: {\n *     comments: {\n *         '10': {\n *             resource: 'comments',\n *             recordId: '10',\n *             identity: 'adrien'\n *             createdAt: '2020-08-20'\n *         },\n *     },\n *     posts: {\n *         '5': {\n *             resource: 'posts',\n *             recordId: '5',\n *             identity: 'francois'\n *             createdAt: '2020-08-25'\n *         },\n *     }\n *   }\n */\nvar locksReducer = function (state, _a) {\n    var _b, _c, _d;\n    if (state === void 0) { state = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (!meta || !meta.resource || !meta.fetchResponse) {\n        return state;\n    }\n    var resourceState = state[meta.resource];\n    // handling dataProvider response\n    switch (meta.fetchResponse) {\n        case LOCK:\n        case GET_LOCK:\n            if (!payload || !payload.data || !payload.data.recordId) {\n                return state;\n            }\n            return __assign(__assign({}, state), (_b = {}, _b[meta.resource] = __assign(__assign({}, resourceState), (_c = {}, _c[payload.data.recordId] = __assign({}, payload.data), _c)), _b));\n        case GET_LOCKS:\n            if (!payload || !payload.data || !payload.data.length) {\n                return state;\n            }\n            return __assign(__assign({}, state), (_d = {}, _d[meta.resource] = __assign(__assign({}, resourceState), payload.data.reduce(function (acc, lock) {\n                if (!lock.recordId) {\n                    return acc;\n                }\n                acc[lock.recordId] = __assign({}, lock);\n                return acc;\n            }, {})), _d));\n        case UNLOCK:\n            if (!payload || !payload.data || !payload.data.recordId) {\n                return state;\n            }\n            var newState = __assign({}, state);\n            delete newState[meta.resource][payload.data.recordId];\n            return newState;\n        default:\n            return state;\n    }\n};\nexport default locksReducer;\n","var raRealTimeEnglishMessages = {\n    'ra-realtime': {\n        action: {\n            refresh: 'Refresh',\n        },\n        event_type: {\n            updated: 'updated',\n            created: 'created',\n            deleted: 'deleted',\n        },\n        notification: {\n            title: 'Warning',\n            record: {\n                updated: 'This record has been updated by another user',\n                deleted: 'This record has been deleted and is no longer available',\n            },\n            list: {\n                refreshed: 'List refreshed with %{smart_count} %{name} %{type} by another user',\n            },\n            lock: {\n                lockedBySomeoneElse: 'This record is locked by someone else.',\n                lockedByMe: 'You locked this record.',\n                unlocked: 'This record has been unlocked.',\n            },\n        },\n        error: {\n            type: 'The type of the event is missing',\n            topic: 'The topic is missing',\n            lock: {\n                noLock: 'There is no lock for this record.',\n                lockedBySomeoneElse: 'This record is locked by someone else.',\n                cannotUnlock: 'Impossible to unlock this record.',\n            },\n        },\n    },\n};\nexport default raRealTimeEnglishMessages;\n","import * as React from 'react';\nimport { createContext, useMemo } from 'react';\nexport var AppBreadcrumbContext = createContext({ hasDashboard: false });\nexport var AppBreadcrumbContextProvider = function (_a) {\n    var children = _a.children, hasDashboard = _a.hasDashboard;\n    var context = useMemo(function () { return ({ hasDashboard: hasDashboard }); }, [hasDashboard]);\n    return (React.createElement(AppBreadcrumbContext.Provider, { value: context }, children));\n};\n","import { useSelector, shallowEqual } from 'react-redux';\nimport { getResources } from 'react-admin';\nimport { useLocation } from 'react-router-dom';\nimport { resolveResourceLocationInfo, } from './resolveResourceLocationInfo';\nvar recordSelector = function (resource, id) { return function (state) {\n    return state.admin.resources[resource] && state.admin.resources[resource].data[id];\n}; };\nvar buildResourceLocationInfoPath = function (_a) {\n    var resource = _a.resource, type = _a.type;\n    return \"\" + resource + (type === 'list' ? '' : \".\" + type);\n};\nexport var useResourceAppLocation = function () {\n    var pathname = useLocation().pathname;\n    var resources = useSelector(getResources, shallowEqual);\n    // Since this can be null at mount, don't memoize it\n    var resourceLocationInfo = resolveResourceLocationInfo(pathname, resources);\n    var record = useSelector(resourceLocationInfo &&\n        ['show', 'edit'].includes(resourceLocationInfo.type)\n        ? recordSelector(resourceLocationInfo.resource, resourceLocationInfo.resourceId)\n        : function () { return undefined; });\n    if (pathname === '/') {\n        return {\n            path: '',\n            values: {},\n        };\n    }\n    return resourceLocationInfo\n        ? {\n            path: buildResourceLocationInfoPath(resourceLocationInfo),\n            values: { record: record },\n        }\n        : null;\n};\n","/**\n * Returns a ResourceLocationInfo object from a pathname and an array of resources metadatas\n *\n * @param {string} pathname Router's slash separated location\n * @param {Object[]} resources\n * @param {string} resources[].name Name of the resource (eg: songs)\n * @param {boolean} resources[].hasList Does the resource implement a list view?\n * @param {boolean} resources[].hasEdit Does the resource implement an edit view?\n * @param {boolean} resources[].hasCreate Does the resource implement a create view?\n * @param {boolean} resources[].hasShow Does the resource implement a show view?\n *\n * @returns {?ResourceLocationInfo} The resource location metadata or null\n */\nexport var resolveResourceLocationInfo = function (pathname, resources) {\n    for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n        var resource = resources_1[_i];\n        var name_1 = resource.name;\n        if (pathname.match(\"/\" + name_1 + \"/?$\")) {\n            return { resource: name_1, type: 'list' };\n        }\n        if (pathname.match(\"/\" + name_1 + \"/create(/([^/]*))?$\")) {\n            return { resource: name_1, type: 'create' };\n        }\n        var showMatch = pathname.match(new RegExp(\"^/\" + name_1 + \"/([^/]+)/show(/([^/]*))?$\"));\n        if (showMatch) {\n            return { resource: name_1, type: 'show', resourceId: showMatch[1] };\n        }\n        var matchEdit = pathname.match(new RegExp(\"^/\" + name_1 + \"/([^/]+)(/([^/]*))?$\"));\n        if (matchEdit) {\n            return { resource: name_1, type: 'edit', resourceId: matchEdit[1] };\n        }\n    }\n    return null;\n};\n","import { useContext, useCallback } from 'react';\nimport { LocationContext } from './AppLocationContext';\n/**\n * Hook getting App Location State from the current AppLocationContext\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @example\n *\n *  import { AppLocationContext, useAppLocationState } from '@react-admin/ra-navigation';\n *  import { Admin, Resource } from 'react-admin';\n *\n *  const PathViewer = () => {\n *    const [location] = useAppLocationState();\n *    return <h1>{`You're on the ${location.path} path!`}</h1>;\n *  };\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <PathViewer />\n *      {children}\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will be respectively equal to:\n *   - \"You're on the posts.list path!\" on Post List page\n *   - \"You're on the posts.show path!\" on Post Show page\n *   - \"You're on the posts.edit path!\" on Post Edit page\n *   - \"You're on the posts.create path!\" on Post Create page\n *\n * The \"location.values\" will also contains { record: {<Post>} } on Post Edit and post Show Pages.\n *\n * You can also set a custom app location on \"non-resource\" pages\n *\n * @example\n *\n *  import React from 'react';\n *  import { AppLocationContext, useAppLocationState } from '@react-admin/ra-navigation';\n *  import { Admin, Resource } from 'react-admin';\n *  import { Route } from 'react-router-dom';\n *\n *  const Foo = () => {\n *    const [_, setLocation] = useAppLocationState();\n *\n *    useEffect(() => {\n *      setLocation('path.to.the.foo');\n *    }, []);\n *\n *    return <span>It's Foo!</span>;\n *  };\n *\n *  const routes = [\n *    <Route exact path=\"/foo\" component={Foo} />,\n *  ];\n *\n *  const PathViewer = () => {\n *    const [location] = useAppLocationState();\n *    return <h1>{`You're on the ${location.path} path!`}</h1>;\n *  };\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <PathViewer />\n *      {children}\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} customRoutes={routes} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will be equal to \"You're on the path.to.the.foo path!\" on \"/foo\";\n */\nexport var useAppLocationState = function () {\n    var _a = useContext(LocationContext), location = _a[0], setLocation = _a[1];\n    if (typeof setLocation !== 'function') {\n        throw new Error(\"\\n            You've tried to access app location outside <AppLocationContext />.\\n            Please wrap your code with it first.\\n            \");\n    }\n    var setAppLocation = useCallback(function (path, values) {\n        if (values === void 0) { values = {}; }\n        setLocation({ path: path, values: values });\n    }, [setLocation]);\n    return [location, setAppLocation];\n};\n","export var DASHBOARD = 'dashboard';\nexport var DASHBOARD_LABEL = 'ra.page.dashboard';\n","import { useEffect, useRef } from 'react';\nimport { useResourceAppLocation } from './useResourceAppLocation';\nimport { useAppLocationState } from './useAppLocationState';\nimport { DASHBOARD } from './constants';\nimport { defaultLocation } from './AppLocationContext';\n/**\n * This component acts as a listener on changes in the resource location.\n * When the location of the resource changes, it modifies the location of the application accordingly.\n */\nexport var ResourceLocationListener = function (_a) {\n    var _b = _a.hasDashboard, hasDashboard = _b === void 0 ? false : _b;\n    var _c = useAppLocationState(), setLocation = _c[1];\n    var resourceLocation = useResourceAppLocation();\n    var currentResourceLocation = useRef(undefined);\n    useEffect(function () {\n        var _a = resourceLocation || defaultLocation, path = _a.path, values = _a.values;\n        if (resourceLocation) {\n            if (!path && hasDashboard) {\n                // Set the location state to Dashboard when navigate to root url\n                setLocation(DASHBOARD);\n            }\n            else {\n                setLocation(path, values);\n            }\n        }\n        else if (currentResourceLocation.current) {\n            // Reset the location state if the users navigated away from a resource page or the dashboard\n            setLocation(null);\n        }\n        currentResourceLocation.current = resourceLocation;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [JSON.stringify(resourceLocation)]);\n    return null;\n};\n","import * as React from 'react';\nimport { createContext, useCallback, useRef, useState, } from 'react';\nimport { AppBreadcrumbContextProvider } from './AppBreadcrumbContext';\nimport { getDeepestLocation } from './getDeepestLocation';\nimport { ResourceLocationListener } from './ResourceLocationListener';\nexport var LocationContext = createContext([]);\nexport var defaultLocation = {\n    path: null,\n    values: {},\n};\n/**\n * The <AppLocationContext /> component allows to wrap our application inside an unique location context.\n * This component must be contained by our admin to be able to access the current registred resources from the redux store.\n *\n * So, the easiest way to include it is to use a custom Layout as a wrapper since you (probably) need to insert your breadcrumb here too.\n *\n * @example\n *\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  const MyLayout = ({ children, ...props }) => {\n *      const classes = useStyles();\n *\n *      return (\n *          <AppLocationContext>\n *              <Layout {...props}>\n *                  {children}\n *              </Layout>\n *          </AppLocationContext>\n *      );\n *  };\n *\n *  const App = () => (\n *      <Admin dataProvider={dataProvider} layout={MyLayout}>\n *          <Resource name=\"posts\" list={PostList} />\n *      </Admin>\n *  );\n */\nexport var AppLocationContext = function (_a) {\n    var children = _a.children, _b = _a.initialLocation, initialLocation = _b === void 0 ? defaultLocation : _b, _c = _a.hasDashboard, hasDashboard = _c === void 0 ? false : _c;\n    var locations = useRef([]);\n    var timeout = useRef(undefined);\n    var _d = useState(initialLocation), location = _d[0], setLocation = _d[1];\n    var optimizedSetLocation = useCallback(function (appLocation) {\n        locations.current.push(appLocation);\n        if (!timeout.current) {\n            timeout.current = setTimeout(function () {\n                setLocation(getDeepestLocation(locations.current));\n                locations.current = [];\n                timeout.current = undefined;\n            }, 50);\n        }\n    }, []);\n    return (React.createElement(LocationContext.Provider, { value: [location, optimizedSetLocation] },\n        React.createElement(AppBreadcrumbContextProvider, { hasDashboard: hasDashboard },\n            React.createElement(ResourceLocationListener, { hasDashboard: hasDashboard }),\n            children)));\n};\n","export var getDeepestLocation = function (locations) {\n    var result = locations.reduce(function (currentLocation, location) {\n        if (currentLocation) {\n            var currentLocationLength = currentLocation.path\n                ? currentLocation.path.split('.').length\n                : 0;\n            var locationLength = location.path\n                ? location.path.split('.').length\n                : 0;\n            if (currentLocationLength > locationLength) {\n                return currentLocation;\n            }\n            if (locationLength > currentLocationLength) {\n                return location;\n            }\n            if (currentLocation.path) {\n                return currentLocation;\n            }\n        }\n        return location;\n    }, undefined);\n    return result;\n};\n","import { useCallback } from 'react';\nimport { useAppLocationState } from './useAppLocationState';\n/**\n * Hook returning a function that checks if the path argument matches the current location in the context\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @example\n *\n *  import { AppLocationContext, useAppLocationMatcher } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  const MatchAdvertiser = () => {\n *    const match = useAppLocationMatcher();\n *\n *    return (\n *      <>\n *        {match('posts') && <h1>You're on the Posts...</h1>}\n *        {match('posts.list) && <h2>Moreover it's the Posts List!</h2>}\n *      </>\n *    );\n *  };\n *\n *  const MyLayout = ({ children, ...props }) =>  (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *        <MatchAdvertiser />\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will only show \"You're on the Posts...\" on Post Edit page.\n * It'll show both \"You're on the Posts...\" and \"Moreover it's the Posts List!\" on Post List page.\n */\nexport var useAppLocationMatcher = function () {\n    var location = useAppLocationState()[0];\n    return useCallback(function (path) {\n        // Should always match the empty path which is the dashboard\n        if (path === '') {\n            return location;\n        }\n        var pathToMatchParts = (location.path || '').split('.');\n        var pathParts = path.split('.');\n        var isMatch = pathParts.reduce(function (isMatch, part, index) {\n            if (pathToMatchParts.length - 1 < index) {\n                return false;\n            }\n            return isMatch && part === pathToMatchParts[index];\n        }, true);\n        return isMatch ? location : null;\n    }, [location]);\n};\n","import { useContext } from 'react';\nimport { AppBreadcrumbContext } from './AppBreadcrumbContext';\n/**\n * A hook which will returns a boolean indicating wether a dashboard exists on the Admin.\n * It relies on the `hasDashboard` prop of the `<AppLocationContext>`\n *\n * You may force its value by passing a props object containing an `hasDashboard` property.\n * @see AppLocationContext\n * @returns A boolean indicating wether a dashboard exists on the Admin.\n */\nexport var useHasDashboard = function (props) {\n    var context = useContext(AppBreadcrumbContext);\n    return props.hasDashboard != undefined\n        ? props.hasDashboard\n        : context.hasDashboard;\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { useAppLocationState } from '../app-location';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\n/**\n * The <Breadcrumb /> component allows to include a breadcrumb inside our application.\n * The layout of the app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @param {string} separator Optionnal. Specify the separator caracter between items. Default is '/'.\n * @param {string} className Optionnal. To allow a style customization of this Component.\n * @param {ReactElement} dashboard Optionnal. Passed by Layout to detect if a Dashboard page has been set.\n * @param {boolean} hasDashboard Optionnal. Boolean to manually activate Dashboard navigation. Default is false.\n *\n * By default, the <Breadcrumb /> item will not render anything.\n * To turn on the breadcrumb resolving from your current react-admin resources,\n * you'll need to provide a <ResourceBreacrumbItems /> component as <Breadcrumb /> child.\n *\n * We don't recommend adding the Breadcrumb inside your layout as it would add unecessary\n * space above the current view. Instead, you should add it directly on the views. For react-admin\n * views such as Create, Show and Edit, you can use `<Breadcrumb variant=\"actions\">` which applies custom styles to make it fit inside a `<TopToolbar>` used in actions.\n * The `ra-enterprise` package includes alternative version of all react-admin views with the breadcrumb\n * already included.\n *\n * @example\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb, ResourceBreadcrumbItems } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const MyLayout = ({ children, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb {...props}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * It'll display respectively:\n *   - \"Posts\" on Post List\n *   - \"Posts / Show #1\" on Post Show with id = 1\n *   - \"Posts / Edit #1\" on Post Edit with id = 1\n *   - \"Posts / Create\" on Post Create\n *\n * If the app have a dashboard page, you can automatically set the root the Breadcrumb to this page in to possible way:\n *\n * 1. By passing the dashboard prop to the Component\n * const MyLayout = ({ children, dashboard, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb dashboard={dashboard}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n * 2. By passing a hasDashboard prop to the Component\n * const MyLayout = ({ children, dashboard, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb hasDashboard={true}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n * By doing this, the breadcrumb will now show respectively:\n *   - \"Dashboard / Posts\" on Post List\n *   - \"Dashboard / Posts / Show #1\" on Post Show with id = 1\n *   - \"Dashboard / Posts / Edit #1\" on Post Edit with id = 1\n *   - \"Dashboard / Posts / Create\" on Post Create\n *\n * It's also possible to define a custom breadcrumb tree inside <Breadcrumb />.\n * This way, custom routes can also be displayed inside the breadcrumb.\n *\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *  import { Route } from 'react-router-dom';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const UserPreferences = () => {\n *    useDefineAppLocation('myhome.user.preferences');\n *    return <span>My Preferences</span>;\n *  };\n *\n *  const routes = [\n *    <Route exact path=\"/user/preferences\" component={UserPreferences} />,\n *  ];\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb>\n *            <ResourceBreadcrumbItems />\n *            <BreadcrumbItem name=\"myhome\" label=\"Home\">\n *              <BreadcrumbItem name=\"user\" label=\"User\">\n *                <BreadcrumbItem name=\"preferences\" label=\"Preferences\" />\n *              </BreadcrumbItem>\n *            </BreadcrumbItem>\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} customRoutes={routes} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The displayed path will be \"Dashboard / User / Preferences\" on \"/user/preferences\"\n *\n * The breadcrumb separator used by default is \"/\". It can be overridden using a string or a function.\n *\n *   <Breadcrumb separator=\">\">{items}</Breadcrumb>\n *   <Breadcrumb separator={() => `url('data:image/png;base64,iVBORw0KGgoAA....')`}>\n *      {items}\n *   </Breadcrumb>\n *\n * In some cases, it's useful to override the default resource breadcrumb path\n * eg: to add custom label instead of \"Show #1\", \"Edit #1\", ...\n *\n * This can be done by disabling concerned resources (enabling only ones we don't customize) and declare them manually.\n *\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb, ResourceBreadcrumbItems } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout, linkToRecord } from 'react-admin';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const MyLayout = ({ children }) => (\n *    <Layout {...props}>\n *        <Breadcrumb {...props}>\n *          <ResourceBreadcrumbItems resources={['otherResources']} />\n *          <BreadcrumbItem name=\"posts\" label=\"Posts\">\n *            <BreadcrumbItem\n *              name=\"edit\"\n *              label={({ record }) => `Edit \"${record.title}\"`}\n *              to={({ record }) => record && `${linkToRecord('/songs', record.id)}/edit`}\n *            />\n *            <BreadcrumbItem\n *              name=\"show\"\n *              label={({ record }) => record.title}\n *              to={({ record }) => record && `${linkToRecord('/songs', record.id)}/show`}\n *            />\n *            <BreadcrumbItem name=\"list\" label=\"My Post List\" />\n *            <BreadcrumbItem name=\"create\" label=\"Let's write a Post!\" />\n *          </BreadcrumbItem>\n *        </Breadcrumb>\n *      {children}\n *    </Layout>\n *  );\n *\n *  const App = () => (\n *    <AppLocationContext>\n *      <Admin dataProvider={dataProvider} layout={MyLayout}>\n *        <Resource\n *          name=\"posts\"\n *          list={PostList}\n *          edit={PostEdit}\n *          show={PostShow}\n *          create={PostCreate}\n *        />\n *        <Resource name=\"otherResource\" ... />\n *      </Admin>\n *    </AppLocationContext>\n *  );\n */\nexport var Breadcrumb = function (_a) {\n    var _b;\n    var children = _a.children, className = _a.className, variant = _a.variant, props = __rest(_a, [\"children\", \"className\", \"variant\"]);\n    var location = useAppLocationState()[0];\n    var classes = useStyles(props);\n    var hasDashboard = useHasDashboard(props);\n    var finalHasDashboard = props.dashboard != undefined ? !!props.dashboard : hasDashboard;\n    if (!location.path)\n        return null;\n    return (React.createElement(\"nav\", { \"aria-label\": \"Breadcrumb\", className: classnames(className, (_b = {},\n            _b[classes.actions] = variant === 'actions',\n            _b)) },\n        React.createElement(\"ul\", { className: classes.root }, React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                hasDashboard: finalHasDashboard,\n            });\n        }))));\n};\nvar separatorResolver = function (_a) {\n    var separator = _a.separator;\n    return typeof separator === 'function' ? separator() : \"\\\"\" + (separator || '/') + \"\\\"\";\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        '& li': {\n            display: 'inline',\n            color: theme.palette.text.secondary,\n            '&+li::before': {\n                content: separatorResolver,\n                padding: \"0 \" + theme.spacing(1) + \"px\",\n            },\n            '&+li:last-child': {\n                color: theme.palette.text.primary,\n            },\n            '& a': {\n                textDecoration: 'none',\n                '&:hover': {\n                    textDecoration: 'underline',\n                },\n            },\n        },\n    },\n    actions: {\n        // Same padding as the MuiButton with small text\n        padding: '4px 5px',\n        // Ensure the breadcrumb is at the left of the view\n        marginRight: 'auto',\n    },\n}); }, { name: 'ra-navigation/Breadcrumb' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Link, Typography } from '@material-ui/core';\nimport { useAppLocationMatcher, DASHBOARD } from '../app-location';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\nimport { useTranslate } from 'ra-core';\nvar resolveOrReturn = function (valueOrFunction, context) {\n    return typeof valueOrFunction === 'function'\n        ? valueOrFunction(context)\n        : valueOrFunction;\n};\n/**\n * The <BreadcrumbItem /> is the component used to display the breadcrumb path inside <Breadcrumb />\n *\n * @param {string} name Required. The name of this item which will be used to infer its full path.\n * @param {string} path Internal prop used to build the item full path.\n * @param {function|string} label Required. The label to display for this item.\n * @param {function|string} to Optional. The react-router path to redirect to.\n * @param {boolean} hasDashboard Optional. A boolean indicating whether a dashboard is present. If it is, the dashboard item will be added in the breadcrumb on every pages. You shouldn't have to pass this prop unless you're wrapping the `<BreadcrumbItem>`\n *\n * @see Breadcrumb\n */\nexport var BreadcrumbItem = function (props) {\n    var locationMatcher = useAppLocationMatcher();\n    var hasDashboard = useHasDashboard(props);\n    var translate = useTranslate();\n    var to = props.to, name = props.name, path = props.path, label = props.label, children = props.children, hasDashboardOverride = props.hasDashboard, rest = __rest(props, [\"to\", \"name\", \"path\", \"label\", \"children\", \"hasDashboard\"]);\n    var currentPath = name === DASHBOARD ? '' : \"\" + (path ? path + \".\" : '') + name;\n    var location = locationMatcher(currentPath);\n    if (!location) {\n        return null;\n    }\n    if (name === DASHBOARD && location.path === DASHBOARD) {\n        return null;\n    }\n    var exactMatch = location.path === currentPath;\n    var resolvedLabel = resolveOrReturn(label, location.values);\n    var translatedLabel = translate(resolvedLabel, { _: resolvedLabel });\n    var resolvedTo = resolveOrReturn(to, location.values);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"li\", __assign({ key: name }, rest), resolvedTo && !exactMatch ? (React.createElement(Link, { variant: \"body2\", color: \"inherit\", component: RouterLink, to: resolvedTo }, translatedLabel)) : (React.createElement(Typography, { variant: \"body2\", color: \"inherit\", component: \"span\" }, translatedLabel))),\n        React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                path: currentPath,\n                hasDashboard: hasDashboard,\n            });\n        })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { linkToRecord, getResources, useTranslate, useGetResourceLabel, } from 'react-admin';\nimport { useSelector, shallowEqual } from 'react-redux';\n/**\n * Builds a map of paths from a resources array\n *\n * @param {array} resources\n * @param {function} translate\n *\n * The output map is of the following form:\n *\n * {\n *  songs: { label: 'Songs', to: '/songs' },\n *  songs.create: { label: 'Create Song', to: '/songs/create' },\n *  songs.show: {\n *    label: ({ record }) => `Show #${record.id}`,\n *    to: ({ record }) => `/${record.id}/show`\n *  }\n *  songs.edit: {\n *    label: ({ record }) => `Edit #${record.id}`,\n *    to: ({ record }) => `/${record.id}/edit`\n *  }\n * }\n */\nexport var buildResourcesBreadcrumbPaths = function (resources, translate, getResourceLabel) {\n    return resources.reduce(function (paths, resource) {\n        var resourcePaths = {};\n        var resourceLabelPlural = getResourceLabel(resource.name, 2);\n        var resourceLabelSingular = getResourceLabel(resource.name, 1);\n        resourcePaths[resource.name] = {\n            label: resourceLabelPlural,\n            to: \"/\" + resource.name,\n        };\n        resourcePaths[resource.name + \".create\"] = {\n            label: !resource.hasList\n                ? translate('ra.page.create', {\n                    name: resourceLabelSingular,\n                })\n                : translate('ra.action.create'),\n            to: \"/\" + resource.name + \"/create\",\n        };\n        resourcePaths[resource.name + \".edit\"] = {\n            label: function (_a) {\n                var record = _a.record;\n                return !record\n                    ? translate('ra.action.edit')\n                    : !resource.hasList\n                        ? translate('ra.page.edit', {\n                            name: resourceLabelSingular,\n                            id: record.id,\n                            record: record,\n                        })\n                        : \"#\" + record.id;\n            },\n            to: function (_a) {\n                var record = _a.record;\n                return record &&\n                    linkToRecord('/' + resource.name, record.id) + \"/edit\";\n            },\n        };\n        resourcePaths[resource.name + \".show\"] = {\n            label: function (_a) {\n                var record = _a.record;\n                return !record\n                    ? translate('ra.action.show')\n                    : !resource.hasList\n                        ? translate('ra.page.show', {\n                            name: resourceLabelSingular,\n                            id: record.id,\n                            record: record,\n                        })\n                        : \"#\" + record.id;\n            },\n            to: function (_a) {\n                var record = _a.record;\n                return record &&\n                    linkToRecord('/' + resource.name, record.id) + \"/show\";\n            },\n        };\n        return __assign(__assign({}, paths), resourcePaths);\n    }, {});\n};\n/**\n * This hook is used internally to build a resource breadcrumb path map\n * The result is usually used by <ResourceBreadcrumbItems /> to render a BreadcrumbItem tree from current resources\n *\n * @see ResourceBreadcrumbItems\n */\nexport var useResourcesBreadcrumbPaths = function (selectedResources) {\n    var resources = useSelector(getResources, shallowEqual);\n    var getResourceLabel = useGetResourceLabel();\n    var translate = useTranslate();\n    return buildResourcesBreadcrumbPaths(resources.filter(function (resource) {\n        return !selectedResources || selectedResources.includes(resource.name);\n    }), translate, getResourceLabel);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { BreadcrumbItem } from './BreadcrumbItem';\nimport { DASHBOARD, DASHBOARD_LABEL } from '../app-location';\nexport var DashboardBreadcrumbItem = function (_a) {\n    var children = _a.children, _b = _a.label, label = _b === void 0 ? DASHBOARD_LABEL : _b, props = __rest(_a, [\"children\", \"label\"]);\n    return (React.createElement(BreadcrumbItem, __assign({ name: DASHBOARD, to: \"/\", label: label }, props), children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useResourcesBreadcrumbPaths } from './useResourcesBreadcrumbPaths';\nimport { BreadcrumbItem } from './BreadcrumbItem';\nimport { DashboardBreadcrumbItem } from './DashboardBreadcrumbItem';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\n/**\n * The <ResourceBreadcrumbItems /> component allows to render a bunch of <BreadcrumbItem /> from a list of resources\n * By default (without the \"resources\" props), it'll render all the react-admin registred resources\n *\n * @see BreadcrumbItem\n */\nexport var ResourceBreadcrumbItems = function (_a) {\n    var resources = _a.resources, props = __rest(_a, [\"resources\"]);\n    var resourcesPaths = useResourcesBreadcrumbPaths(resources);\n    var hasDashboard = useHasDashboard(props);\n    if (hasDashboard) {\n        return (React.createElement(DashboardBreadcrumbItem, null, Object.keys(resourcesPaths).map(function (name) { return (React.createElement(BreadcrumbItem, __assign({ key: name, name: name }, resourcesPaths[name]))); })));\n    }\n    return (React.createElement(React.Fragment, null, Object.keys(resourcesPaths).map(function (name) { return (React.createElement(BreadcrumbItem, __assign({ key: name, name: name }, resourcesPaths[name]))); })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var Menu = function (_a) {\n    var className = _a.className, props = __rest(_a, [\"className\"]);\n    var classes = useStyles();\n    return (React.createElement(List, __assign({ className: classnames(classes.root, className), disablePadding: true }, props, props)));\n};\nvar useStyles = makeStyles({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n","import { createContext, useContext } from 'react';\nexport var MultiLevelMenuContext = createContext(undefined);\nexport var useMultiLevelMenu = function () {\n    var context = useContext(MultiLevelMenuContext);\n    if (!context && process.env.NODE_ENV !== 'production') {\n        throw new Error('useMultiLevelMenu must be used within a MultiLevelMenuContext.Provider');\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint react/display-name:off */\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useCallback, useEffect, useRef, useState, forwardRef, } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useAppLocationMatcher } from '../app-location';\nimport { useMultiLevelMenu } from './MultiLevelMenuContext';\n/**\n * The <MenuItem> component is used to display a single item inside a <MultiLevelMenu> component.\n * @see Breadcrumb\n *\n * It accepts <MenuItems> children which will be displayed inside a collapsible container.\n *\n * @example <caption>Simple Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const MyMenu = () => (\n *     <MultiLevelMenu>\n *         <MenuItem name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItem name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItem name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *             <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const MyLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={MyMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={MyLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MenuItem = function (props) {\n    var _a, _b;\n    var children = props.children, classesOverride = props.classes, className = props.className, label = props.label, icon = props.icon, name = props.name, onClick = props.onClick, to = props.to, exact = props.exact, disableGutters = props.disableGutters, rest = __rest(props, [\"children\", \"classes\", \"className\", \"label\", \"icon\", \"name\", \"onClick\", \"to\", \"exact\", \"disableGutters\"]);\n    var rootRef = useRef();\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var sidebarIsOpen = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var hasSubItems = Children.count(children) > 0;\n    var match = useAppLocationMatcher();\n    var multiLevelMenuContext = useMultiLevelMenu();\n    var isActive = !!match(name);\n    var _c = useState(isActive || multiLevelMenuContext.isOpen(name)), isOpen = _c[0], setIsOpenState = _c[1];\n    var showSubMenuToggle = hasSubItems && (sidebarIsOpen || multiLevelMenuContext.hasCategories);\n    useEffect(function () {\n        if (multiLevelMenuContext.isFirstLoad &&\n            multiLevelMenuContext.initialOpen) {\n            multiLevelMenuContext.open(name);\n            setIsOpenState(true);\n        }\n    }, []); // eslint-disable-line\n    useEffect(function () {\n        // Automatically open submenu if needed on location change\n        if (isActive && !multiLevelMenuContext.isOpen(name)) {\n            multiLevelMenuContext.open(name);\n            setIsOpenState(true);\n        }\n    }, [isActive, multiLevelMenuContext, name]);\n    var setIsOpen = function (isOpen) {\n        multiLevelMenuContext.setIsOpen(name, isOpen);\n        setIsOpenState(isOpen);\n    };\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var handleToggleSubMenu = function (event) {\n        event.stopPropagation();\n        event.preventDefault();\n        setIsOpen(!isOpen);\n    };\n    var translatedLabel = isValidElement(label)\n        ? label\n        : translate(label.toString(), { _: label });\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListItem, __assign({ className: classnames(classes.root, className), ref: rootRef }, rest, { button: false, disableGutters: true, onClick: handleMenuTap }),\n            React.createElement(NavLink, { className: classnames(classes.link, (_a = {},\n                    _a[classes.active] = !!isActive,\n                    _a[classes.gutters] = !disableGutters,\n                    _a)), to: to, exact: exact },\n                icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                    titleAccess: translatedLabel,\n                }))),\n                (sidebarIsOpen || multiLevelMenuContext.hasCategories) && (React.createElement(ListItemText, null, translatedLabel)),\n                showSubMenuToggle && (React.createElement(ListItemSecondaryAction, { className: classes.icon },\n                    React.createElement(IconButton, { onClick: handleToggleSubMenu, edge: \"end\", \"aria-expanded\": isOpen, \"aria-controls\": name + \"-submenu\", \"aria-label\": translate(isOpen\n                            ? 'ra.action.close'\n                            : 'ra.action.expand') }, isOpen ? (React.createElement(ExpandLessIcon, null)) : (React.createElement(ExpandMoreIcon, null))))))),\n        hasSubItems && (React.createElement(Collapse, { in: isOpen, component: forwardRef(function (props, ref) { return (React.createElement(\"li\", __assign({ id: name + \"-submenu\", ref: ref }, props))); }), unmountOnExit: true },\n            React.createElement(List, { className: classnames(classes.nestedList, (_b = {},\n                    _b[classes.hiddenNestedList] = !showSubMenuToggle,\n                    _b)), disablePadding: true }, children)))));\n};\nMenuItem.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    onClick: PropTypes.func,\n    label: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        padding: theme.spacing(0),\n    },\n    link: {\n        color: theme.palette.text.secondary,\n        whiteSpace: 'nowrap',\n        textDecoration: 'none',\n        display: 'flex',\n        padding: theme.spacing(1, 0),\n        '&:hover': {\n            color: theme.palette.text.primary,\n            backgroundColor: theme.palette.grey[200],\n        },\n    },\n    gutters: {\n        padding: theme.spacing(1, 2),\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: {\n        color: 'inherit',\n        minWidth: theme.spacing(5),\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    nestedList: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        paddingLeft: theme.spacing(4),\n    },\n    hiddenNestedList: {\n        display: 'none',\n    },\n}); }, { name: 'RaMenuItem' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint react/display-name:off */\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useCallback, useEffect, useRef, useState, } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Popover from '@material-ui/core/Popover';\nimport IconButton from '@material-ui/core/IconButton';\nimport Slide from '@material-ui/core/Slide';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useMultiLevelMenu } from './MultiLevelMenuContext';\nimport { useAppLocationMatcher } from '../app-location';\n/**\n * The <MenuItemCategory> component is used to display a single category item inside a <MultiLevelMenu> component.\n * @see MultiLevelMenu\n *\n * It accepts <MenuItems> children which will be displayed inside a collapsible container.\n *\n * @example <caption>Category Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const MyMenu = () => (\n *     <MultiLevelMenu variant=\"categories\">\n *         <MenuItemCategory name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItemCategory name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItemCategory name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <Typography variant=\"h3\">By genre</Typography>\n *             <Menu>\n *                 <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *                 <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *             </Menu>\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const MyLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={MyMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={MyLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MenuItemCategory = function (props) {\n    var _a;\n    var children = props.children, classesOverride = props.classes, className = props.className, label = props.label, icon = props.icon, name = props.name, onClick = props.onClick, to = props.to, exact = props.exact, rest = __rest(props, [\"children\", \"classes\", \"className\", \"label\", \"icon\", \"name\", \"onClick\", \"to\", \"exact\"]);\n    var rootRef = useRef();\n    var subMenuRef = useRef();\n    var classes = useStyles(props);\n    var theme = useTheme();\n    var translate = useTranslate();\n    var match = useAppLocationMatcher();\n    var multiLevelMenuContext = useMultiLevelMenu();\n    var sidebarIsOpen = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var isActive = !!match(name);\n    var _b = useState(isActive || multiLevelMenuContext.isOpen(name)), isSubMenuOpen = _b[0], setIsSubMenuOpenState = _b[1];\n    var setIsSubmenuOpen = useCallback(function (isOpen) {\n        multiLevelMenuContext.setIsOpen(name, isOpen);\n        setIsSubMenuOpenState(isOpen);\n    }, [multiLevelMenuContext, name]);\n    useEffect(function () {\n        var callback = function (openingName) {\n            // We don't close items that starts with the same name\n            // It avoid closing item when a submenu is selected\n            if (!openingName.startsWith(name)) {\n                setIsSubmenuOpen(false);\n            }\n        };\n        multiLevelMenuContext.onOpen(callback);\n        return function () { return multiLevelMenuContext.offOpen(callback); };\n    }, [multiLevelMenuContext, name, setIsSubmenuOpen]);\n    var hasSubItems = Children.count(children) > 0;\n    var handleMenuTap = useCallback(function (event) {\n        onClick && onClick(event);\n        setIsSubmenuOpen(!isSubMenuOpen);\n    }, [isSubMenuOpen, onClick, setIsSubmenuOpen]);\n    useEffect(function () {\n        multiLevelMenuContext.setHasCategories(true);\n        if (subMenuRef.current) {\n            autoFocusFirstSubMenuItem(subMenuRef.current);\n        }\n    }, [multiLevelMenuContext]);\n    var handleCloseSubMenu = function () {\n        setIsSubmenuOpen(false);\n    };\n    useEffect(function () {\n        if (!isActive) {\n            setIsSubmenuOpen(false);\n        }\n    }, [isActive, setIsSubmenuOpen]);\n    var translatedLabel = isValidElement(label)\n        ? label\n        : translate(label.toString(), { _: label });\n    if (to && hasSubItems && process.env.NODE_ENV !== 'production') {\n        console.warn('A <MenuItemCategory> cannot have children and a to prop set');\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListItem, __assign({ className: classnames(classes.root, className, (_a = {},\n                _a[classes.active] = isActive,\n                _a)), ref: rootRef }, rest, { button: false, onClick: handleMenuTap }), to && !hasSubItems ? (React.createElement(NavLink, { className: classes.link, to: to, exact: exact },\n            icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                titleAccess: translatedLabel,\n            }))),\n            sidebarIsOpen && (React.createElement(ListItemText, null, translatedLabel)))) : (React.createElement(\"div\", { className: classes.link },\n            icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                titleAccess: translatedLabel,\n            }))),\n            sidebarIsOpen && (React.createElement(ListItemText, null, translatedLabel))))),\n        hasSubItems && (React.createElement(Popover, { anchorEl: rootRef.current, anchorOrigin: AnchorOrigin, transformOrigin: TransformOrigin, container: multiLevelMenuContext.rootRef.current, open: isSubMenuOpen, onClick: handleCloseSubMenu, onClose: handleCloseSubMenu, classes: {\n                paper: classes.popoverPaper,\n            }, TransitionComponent: Slide, \n            // @ts-ignore\n            TransitionProps: TransitionProps, style: {\n                // @ts-ignore\n                zIndex: theme.zIndex.appBar - 100 + \" !important\",\n            } },\n            React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: handleCloseSubMenu },\n                React.createElement(CloseIcon, null)),\n            children))));\n};\nvar AnchorOrigin = { vertical: 'top', horizontal: 'right' };\nvar TransformOrigin = { vertical: 'top', horizontal: 'left' };\nvar TransitionProps = { direction: 'right' };\nfunction autoFocusFirstSubMenuItem(element) {\n    setTimeout(function () {\n        var focusables = element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n        if (focusables.length > 0) {\n            focusables[0].focus();\n        }\n    }, 150);\n}\nMenuItemCategory.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    onClick: PropTypes.func,\n    label: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.common.white,\n        cursor: 'pointer',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        padding: theme.spacing(1),\n        '&:hover': {\n            backgroundColor: theme.palette.grey[700],\n        },\n    },\n    link: {\n        whiteSpace: 'nowrap',\n        textDecoration: 'none',\n        color: 'inherit',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        '& span': {\n            fontSize: theme.typography.caption.fontSize,\n        },\n    },\n    active: {\n        backgroundColor: theme.palette.grey[300],\n        color: theme.palette.common.black,\n        '&:hover': {\n            backgroundColor: theme.palette.grey[200],\n        },\n    },\n    icon: {\n        color: 'inherit',\n        minWidth: 0,\n    },\n    popoverPaper: {\n        backgroundColor: theme.palette.background.paper,\n        minHeight: '50%',\n        minWidth: '25%',\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        paddingRight: theme.spacing(4), // Some space to ensure the close button is visible\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaMenuItemCategory',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useEffect, useRef, useState, } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MultiLevelMenuContext } from './MultiLevelMenuContext';\nimport { Menu } from './Menu';\n/**\n * The <MultiLevelMenu> component allows to have complex menus with collapsible\n * sub menus inside our application.\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * It accepts <MenuItem> components as children which accepts <MenuItems> children as well.\n *\n * @example <caption>Simple Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const BasicMultiLevelMenu = () => (\n *     <MultiLevelMenu>\n *         <MenuItem name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItem name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItem name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *             <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const BasicLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={BasicMultiLevelMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={BasicLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MultiLevelMenu = function (props) {\n    var children = props.children, _a = props.initialOpen, initialOpen = _a === void 0 ? false : _a, _b = props.variant, variant = _b === void 0 ? 'default' : _b, rest = __rest(props, [\"children\", \"initialOpen\", \"variant\"]);\n    var classes = useStyles(props);\n    var openedItems = useRef([]);\n    var _c = useState(true), isFirstLoad = _c[0], setIsFirstLoad = _c[1];\n    var rootRef = useRef();\n    var openingListeners = useRef([]);\n    var onOpen = function (callback) {\n        openingListeners.current.push(callback);\n    };\n    var offOpen = function (callback) {\n        openingListeners.current = openingListeners.current.filter(function (l) { return l !== callback; });\n    };\n    var isOpen = useCallback(function (name) { return Array.from(openedItems.current).includes(name); }, []);\n    var close = useCallback(function (name) {\n        openedItems.current = openedItems.current.filter(function (item) { return item !== name; });\n    }, []);\n    var open = useCallback(function (name) {\n        var set = new Set(openedItems.current);\n        set.add(name);\n        openedItems.current = Array.from(set);\n        openingListeners.current.forEach(function (callback) { return callback(name); });\n    }, []);\n    var setIsOpen = useCallback(function (name, isOpen) {\n        if (isOpen) {\n            return open(name);\n        }\n        close(name);\n    }, [open, close]);\n    var toggle = useCallback(function (name) {\n        setIsOpen(name, !isOpen);\n    }, [setIsOpen, isOpen]);\n    var _d = useState(false), hasCategories = _d[0], setHasCategories = _d[1];\n    var context = {\n        close: close,\n        hasCategories: hasCategories,\n        initialOpen: initialOpen,\n        isFirstLoad: isFirstLoad,\n        isOpen: isOpen,\n        offOpen: offOpen,\n        onOpen: onOpen,\n        open: open,\n        rootRef: rootRef,\n        setHasCategories: setHasCategories,\n        setIsOpen: setIsOpen,\n        toggle: toggle,\n    };\n    useEffect(function () {\n        setTimeout(function () { return setIsFirstLoad(false); }, 150);\n    }, []);\n    return (React.createElement(\"div\", __assign({ ref: rootRef, className: classes.root }, rest),\n        React.createElement(MultiLevelMenuContext.Provider, { value: context },\n            React.createElement(\"nav\", { className: variant === 'categories'\n                    ? classes.navWithCategories\n                    : classes.nav },\n                React.createElement(Menu, { className: classes.list }, children)))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        zIndex: theme.zIndex.appBar - 1, // Display the menu under the AppBar\n    },\n    navWithCategories: {\n        backgroundColor: theme.palette.grey[800],\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        zIndex: theme.zIndex.appBar - 1, // Display the menu categories under the AppBar\n    },\n    nav: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    list: {},\n}); }, {\n    name: 'RaMultiLevelMenu',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { defaultTheme } from 'react-admin';\nexport var theme = __assign(__assign({}, defaultTheme), { overrides: {\n        RaSidebar: {\n            drawerPaper: {\n                width: 96,\n            },\n            fixed: {\n                zIndex: 1200,\n            },\n        },\n    } });\n","import * as React from 'react';\nimport { useTimeout, useTranslate } from 'react-admin';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var DualListInputSkeleton = function (_a) {\n    var className = _a.className;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var oneSecondHasPassed = useTimeout(1000);\n    if (oneSecondHasPassed) {\n        return (React.createElement(\"div\", { \"aria-disabled\": \"true\", \"aria-label\": translate('ra.message.loading'), className: classnames(className, classes.root) }));\n    }\n    return null;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.divider,\n        borderStyle: 'none',\n    },\n}); }, {\n    name: 'RaDualListInputSkeleton',\n});\n","var __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useCallback, useState } from 'react';\nimport { useChoices, useInput, useTranslate, Labeled, } from 'react-admin';\nimport { Button, List, ListSubheader } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ArrowRightIcon from '@material-ui/icons/ChevronRight';\nimport classnames from 'classnames';\nimport { DualListInputItem } from './DualListInputItem';\nimport { DualListInputSkeleton } from './DualListInputSkeleton';\n/**\n * An Input component displaying two list of selected or available items.\n * It allows multiple selections and uses an array of objects for the options.\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <DualListInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <DualListInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <DualListInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <DualListInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\nexport var DualListInput = function (props) {\n    var classes = useStyles(props);\n    var _a = props.addButtonLabel, addButtonLabel = _a === void 0 ? 'ra-relationships.duallistinput.select' : _a, _b = props.availableItemsLabel, availableItemsLabel = _b === void 0 ? 'ra-relationships.duallistinput.availableItems' : _b, choices = props.choices, className = props.className, _c = props.dense, dense = _c === void 0 ? true : _c, _d = props.disableValue, disableValue = _d === void 0 ? 'disabled' : _d, label = props.label, loading = props.loading, _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, _g = props.removeButtonLabel, removeButtonLabel = _g === void 0 ? 'ra-relationships.duallistinput.unselect' : _g, resource = props.resource, _h = props.selectedItemsLabel, selectedItemsLabel = _h === void 0 ? 'ra-relationships.duallistinput.selectedItems' : _h, translateChoice = props.translateChoice;\n    // We need a fix in react-admin as children of Reference related inputs do not have to specify their source.\n    // However, useInput requires it\n    // @ts-ignore\n    var _j = useInput(props), id = _j.id, input = _j.input, isRequired = _j.isRequired, meta = _j.meta, source = _j.source;\n    var translate = useTranslate();\n    var getChoiceValue = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }).getChoiceValue;\n    // This handle the internal selection of items which can then be moved\n    // from one list to the other\n    var _k = useState([]), selectedItems = _k[0], setSelectedItems = _k[1];\n    // Toggle the selection of a single item\n    var handleToggleItemSelection = useCallback(function (event, item) {\n        setSelectedItems(function (currentSelectedItems) {\n            var isItemSelected = currentSelectedItems.some(function (selectedItem) {\n                return getChoiceValue(selectedItem) === getChoiceValue(item);\n            });\n            if (isItemSelected) {\n                return currentSelectedItems.filter(function (selectedItem) {\n                    return getChoiceValue(selectedItem) !==\n                        getChoiceValue(item);\n                });\n            }\n            else {\n                return __spreadArray(__spreadArray([], currentSelectedItems), [item]);\n            }\n        });\n    }, [getChoiceValue]);\n    var setInputValue = useCallback(function (value) {\n        input.onChange(value);\n        setSelectedItems([]);\n    }, [input]);\n    // Handler called when an item should be moved to the other list\n    var handleMoveItem = useCallback(function (event, choice) {\n        if (input.value.some(function (value) { return value === getChoiceValue(choice); })) {\n            setInputValue((input.value || []).filter(function (item) { return item !== getChoiceValue(choice); }));\n            return;\n        }\n        setInputValue(__spreadArray(__spreadArray([], input.value), [getChoiceValue(choice)]));\n    }, [getChoiceValue, input, setInputValue]);\n    // Handler called when the selected items should be added to the input value\n    var handleAddItems = useCallback(function () {\n        var currentSet = new Set(input.value || []);\n        selectedItems.forEach(function (item) { return currentSet.add(getChoiceValue(item)); });\n        setInputValue(Array.from(currentSet));\n    }, [getChoiceValue, input, selectedItems, setInputValue]);\n    // Handler called when the selected items should be removed from the input value\n    var handleRemoveItems = useCallback(function () {\n        var newValue = (input.value || []).filter(function (value) {\n            return !selectedItems.some(function (choice) { return getChoiceValue(choice) === value; });\n        });\n        setInputValue(newValue);\n    }, [getChoiceValue, input, selectedItems, setInputValue]);\n    return (React.createElement(Labeled, { id: id, input: input, meta: meta, isRequired: isRequired, label: label, resource: resource, source: source, className: className },\n        React.createElement(\"div\", { className: classes.root },\n            React.createElement(\"div\", null,\n                React.createElement(ListSubheader, { component: \"div\", id: \"selected-items-title\", className: classes.listHeader }, translate(selectedItemsLabel, {\n                    _: 'Selected items',\n                })),\n                loading ? (React.createElement(DualListInputSkeleton, { className: classes.list })) : (React.createElement(List, { className: classnames(classes.list, classes.selectedList), dense: dense, disablePadding: true, \"aria-labelledby\": \"selected-items-title\", \"aria-multiselectable\": \"true\", role: \"listbox\" }, (input.value || []).map(function (value) {\n                    var choice = choices.find(function (c) { return getChoiceValue(c) === value; });\n                    return (React.createElement(DualListInputItem, { key: value, choice: choice, disableValue: disableValue, onMove: handleMoveItem, onToggleSelection: handleToggleItemSelection, optionText: optionText, optionValue: optionValue, selected: selectedItems.some(function (selectedItem) {\n                            return getChoiceValue(selectedItem) ===\n                                value;\n                        }), translateChoice: translateChoice }));\n                })))),\n            React.createElement(\"div\", { className: classes.actions },\n                React.createElement(Button, { className: classnames(classes.button, classes.addButton), onClick: handleAddItems, startIcon: React.createElement(ArrowLeftIcon, null), variant: \"contained\", disabled: selectedItems.length === 0 }, translate(addButtonLabel, {\n                    _: addButtonLabel,\n                })),\n                React.createElement(Button, { className: classnames(classes.button, classes.removeButton), onClick: handleRemoveItems, endIcon: React.createElement(ArrowRightIcon, null), variant: \"contained\", disabled: selectedItems.length === 0 }, translate(removeButtonLabel, {\n                    _: removeButtonLabel,\n                }))),\n            React.createElement(\"div\", null,\n                React.createElement(ListSubheader, { component: \"div\", id: \"available-items-title\", className: classes.listHeader }, translate(availableItemsLabel, {\n                    _: 'Available items',\n                })),\n                loading ? (React.createElement(DualListInputSkeleton, { className: classes.list })) : (React.createElement(List, { className: classnames(classes.list, classes.availableList), dense: dense, disablePadding: true, \"aria-labelledby\": \"available-items-title\", \"aria-multiselectable\": \"true\", role: \"listbox\" }, choices\n                    .filter(function (choice) {\n                    return !(input.value || []).some(function (val) {\n                        return getChoiceValue(choice) === val;\n                    });\n                })\n                    .map(function (choice) { return (React.createElement(DualListInputItem, { key: getChoiceValue(choice), choice: choice, disableValue: disableValue, onMove: handleMoveItem, onToggleSelection: handleToggleItemSelection, optionText: optionText, optionValue: optionValue, selected: selectedItems.some(function (selectedItem) {\n                        return getChoiceValue(selectedItem) ===\n                            getChoiceValue(choice);\n                    }), translateChoice: translateChoice })); })))))));\n};\nDualListInput.defaultProps = {\n    defaultValue: [],\n    source: '',\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n    },\n    actions: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    button: {\n        '& + &': {\n            marginTop: theme.spacing(1),\n        },\n    },\n    addButton: {\n        justifyContent: 'start',\n    },\n    removeButton: {\n        justifyContent: 'end',\n    },\n    list: {\n        minWidth: 256,\n        height: 256,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto',\n    },\n    listHeader: {\n        borderColor: theme.palette.divider,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderBottom: 'none',\n    },\n    selectedList: {},\n    availableList: {},\n}); }, {\n    name: 'RaDualListInput',\n});\n","export var UsingRegexp = /^([A-Za-z0-9_-]+),([A-Za-z0-9_-]+)$/;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useMemo } from 'react';\nimport get from 'lodash/get';\nimport uniq from 'lodash/uniq';\nimport { useGetMany, useGetManyReference, } from 'react-admin';\nimport { UsingRegexp } from './constants';\n/**\n * Hook that fetches records from another resource in a many to many scenario implemented with an associative resource.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, total } = useReferenceArrayFieldController({\n *      record: { id: 1, name: 'Eric Clapton' },\n *      reference: 'events',\n *      resource: 'artists',\n *      sort: { field: 'name', order: 'ASC' },\n *      source: 'id',\n *      through: 'performances',\n *      using: 'artist_id,event_id'\n * });\n *\n * @param {Object} options\n * @param {boolean} options.filter Filters to send with the request\n * @param {Object} options.record The current resource record\n * @param {string} options.reference The linked resource name\n * @param {string} options.resource The current resource name\n * @param {Object} options.sort The sort parameters\n * @param {string} options.sort.field The field used for sorting\n * @param {string} options.sort.order The sort order (asc, desc)\n * @param {string} options.source The key of the linked resource identifier\n * @param {string} options.through The name of the associative resource\n * @param {string} options.using A comma separated list of two field names which are the ids of the two linked resource in the associative resource\n * @param {boolean} options.unique Remove duplicates from the target table. defaults to true.\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceManyToManyFieldController = function (_a) {\n    var filter = _a.filter, record = _a.record, reference = _a.reference, resource = _a.resource, sort = _a.sort, _b = _a.source, source = _b === void 0 ? 'id' : _b, through = _a.through, using = _a.using, _c = _a.perPage, perPage = _c === void 0 ? 25 : _c, _d = _a.unique, unique = _d === void 0 ? true : _d;\n    if (!using.match(UsingRegexp)) {\n        throw new Error('useReferenceManyToManyFieldController incorrect `using` option format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _e = using.match(UsingRegexp), sourceField = _e[1], targetField = _e[2];\n    // TODO: Introduce real pagination (setters, etc.)\n    var page = 1;\n    var throughManyReferences = useGetManyReference(through, sourceField, get(record, source), { page: page, perPage: perPage }, sort, filter, resource);\n    var allReferencesIds = (throughManyReferences.ids || [])\n        .map(function (id) {\n        if (!throughManyReferences.data[id]) {\n            return undefined;\n        }\n        return throughManyReferences.data[id][targetField];\n    })\n        .filter(function (id) { return !!id; });\n    var referencesIds = unique\n        ? uniq(allReferencesIds)\n        : allReferencesIds;\n    var references = useGetMany(reference, referencesIds);\n    // Memoize the references data and only recompute them when they are reloaded\n    var referencesData = useMemo(function () {\n        return (references.data || [])\n            .filter(function (v) { return !!v; })\n            .reduce(function (acc, data) {\n            var _a;\n            return (__assign(__assign({}, acc), (_a = {}, _a[data.id] = data, _a)));\n        }, {});\n    }, [references.data]);\n    return {\n        basePath: \"/\" + reference,\n        resource: reference,\n        data: referencesData,\n        ids: referencesIds,\n        currentSort: sort,\n        error: throughManyReferences.error || references.error,\n        loading: throughManyReferences.loading || references.loading,\n        loaded: throughManyReferences.loaded && references.loaded,\n        total: throughManyReferences.total,\n        page: page,\n        perPage: perPage,\n    };\n};\nexport default useReferenceManyToManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { ListContextProvider, } from 'react-admin';\nimport useReferenceManyToManyFieldController from './useReferenceManyToManyFieldController';\nimport { UsingRegexp } from './constants';\n/**\n * Fetch reference record through a relations table using fields.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the posts having the current tag as a datagrid\n *  <ReferenceManyToManyField\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <Datagrid>\n *          <TextField label=\"Title\" source=\"title\" />\n *          <TextField label=\"Body\"  source=\"body\" />\n *      </Datagrid>\n *  </ReferenceManyToManyField>\n *\n * @example Display all the tags of the current post as a SingleFieldList\n *  <ReferenceManyToManyField\n *      label=\"Tags\"\n *      reference=\"tags\"\n *      through=\"posts_tags\"\n *      using={['post_id', 'tag_id']}\n *  >\n *      <SingleFieldList>\n *          <TextField label=\"name\" source=\"name\" />\n *      </Datagrid>\n *  </ReferenceManyToManyField>\n */\nvar ReferenceManyToManyField = function (_a) {\n    var reference = _a.reference, through = _a.through, using = _a.using, children = _a.children, perPage = _a.perPage, sort = _a.sort, sortBy = _a.sortBy, // eslint-disable-line\n    _b = _a.source, // eslint-disable-line\n    source = _b === void 0 ? 'id' : _b, props = __rest(_a, [\"reference\", \"through\", \"using\", \"children\", \"perPage\", \"sort\", \"sortBy\", \"source\"]);\n    if (!using.match(UsingRegexp)) {\n        throw new Error('<ReferenceManyToManyField> incorrect `using` props format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _c = useReferenceManyToManyFieldController({\n        filter: props.filter,\n        perPage: perPage,\n        record: props.record,\n        resource: props.resource,\n        reference: reference,\n        through: through,\n        source: source,\n        sort: sort,\n        using: using,\n    }), error = _c.error, referenceManyToManyProps = __rest(_c, [\"error\"]);\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    return (React.createElement(ListContextProvider, { value: __assign(__assign({}, referenceManyToManyProps), { \n            // Define default mandatory ListContextProps\n            // These are not provided by useReferenceManyToManyFieldController\n            displayedFilters: {}, filterValues: {}, hasCreate: false, onSelect: null, onToggleItem: null, onUnselectItems: null, hideFilter: null, selectedIds: [], setFilters: null, setPage: null, setPerPage: null, setSort: null, showFilter: null }) }, children));\n};\nReferenceManyToManyField.defaultProps = {\n    sort: {\n        field: 'id',\n        order: 'DESC',\n    },\n    addLabel: true,\n};\nexport default ReferenceManyToManyField;\n","var getReferenceManyToManyFormField = function (_a) {\n    var resource = _a.resource, through = _a.through, reference = _a.reference;\n    return \"@@ra-many-to-many/\" + resource + \"/\" + through + \"/\" + reference;\n};\nexport default getReferenceManyToManyFormField;\n","import { createContext } from 'react';\nexport var ManyToManyReferenceContext = createContext(undefined);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useState, useCallback } from 'react';\nimport { useField, useForm, } from 'react-final-form';\nimport { composeValidators, useGetList, useGetMany, useGetManyReference, } from 'react-admin';\nimport { UsingRegexp } from './constants';\nimport getReferenceManyToManyFormField from './getReferenceManyToManyFormField';\nimport { useManyToManyReferenceContext } from './useManyToManyReferenceContext';\n/**\n * Hook that fetches records from another resource in a many to many scenario implemented with an associative resource.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, total } = useReferenceManyToManyInputController({\n *      record: { id: 1, name: 'Eric Clapton' },\n *      reference: 'events',\n *      resource: 'artists',\n *      sort: { field: 'name', order: 'ASC' },\n *      source: 'id',\n *      through: 'performances',\n *      using: 'artist_id,event_id'\n * });\n *\n * @param {Object} options\n * @param {boolean} options.filter Filters to send with the request\n * @param {string} options.reference The linked resource name\n * @param {string} options.resource The current resource name\n * @param {Object} options.sort The sort parameters\n * @param {string} options.sort.field The field used for sorting\n * @param {string} options.sort.order The sort order (asc, desc)\n * @param {string} options.source The key of the linked resource identifier\n * @param {string} options.through The name of the associative resource\n * @param {string} options.using A comma separated list of two field names which are the ids of the two linked resource in the associative resource\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceManyToManyInputController = function (_a) {\n    var record = _a.record, filter = _a.filter, _b = _a.perPage, perPage = _b === void 0 ? 25 : _b, reference = _a.reference, resource = _a.resource, sort = _a.sort, _c = _a.source, source = _c === void 0 ? 'id' : _c, through = _a.through, using = _a.using, validate = _a.validate;\n    if (!using.match(UsingRegexp)) {\n        throw new Error('useReferenceManyToManyFieldController incorrect `using` option format. `using` should be a string of two fields separated by a comma  such as `book_id,author_id`');\n    }\n    var _d = using.match(UsingRegexp), sourceField = _d[1], targetField = _d[2];\n    // TODO: Introduce real pagination (setters, etc.)\n    var page = 1;\n    var throughManyReferences = useGetManyReference(through, sourceField, record.id, { page: page, perPage: perPage }, sort, filter, resource, {\n        enabled: !!(record === null || record === void 0 ? void 0 : record.id),\n    });\n    // As the edited record does not contains the references in a many-to-many\n    // relationship, we have to store them in a temporary field in the current form,\n    // named according to the many-to-many configuration.\n    // This field will be removed from the form values before the final submit\n    var temporaryFieldName = getReferenceManyToManyFormField({\n        reference: reference,\n        resource: resource,\n        through: through,\n    });\n    var _e = useState(undefined), temporaryFieldInitialValue = _e[0], setTemporaryFieldInitialValue = _e[1];\n    var temporaryField = useField(temporaryFieldName, {\n        // Artificial pristine / dirty system\n        initialValue: temporaryFieldInitialValue || undefined,\n        validate: composeValidators(validate),\n    });\n    var form = useForm();\n    var referenceIdsEffectSignature = (throughManyReferences.ids || []).join(',');\n    useEffect(function () {\n        if (typeof throughManyReferences.ids === 'undefined') {\n            return;\n        }\n        var referencesIds = (throughManyReferences.ids || []).reduce(function (acc, id) {\n            if (throughManyReferences.data[id]) {\n                var targetId = throughManyReferences.data[id][targetField];\n                if (acc.indexOf(targetId) === -1) {\n                    acc.push(targetId);\n                }\n            }\n            return acc;\n        }, []);\n        if (typeof temporaryFieldInitialValue !== 'undefined') {\n            form.change(temporaryFieldName, referencesIds);\n            form.resetFieldState(temporaryFieldName);\n        }\n        else {\n            setTemporaryFieldInitialValue(referencesIds);\n        }\n    } /* eslint-disable-next-line */, [referenceIdsEffectSignature, temporaryFieldName, form, targetField]);\n    // Load all possible references\n    var possibleValues = useGetList(reference, { page: 1, perPage: 25 }, sort, {});\n    useEffect(function () {\n        var _a;\n        if (possibleValues.loaded &&\n            ((_a = temporaryField.input.value) === null || _a === void 0 ? void 0 : _a.length) > 0 &&\n            temporaryField.input.value.some(function (id) { return !possibleValues.ids.includes(id); })) {\n            possibleValues.refetch();\n        }\n    }, [(temporaryField.input.value || []).join(), possibleValues.refetch]); // eslint-disable-line\n    // Ensure the current references are loaded\n    var references = useGetMany(reference, temporaryField.input.value || []);\n    var choices = possibleValues.ids.map(function (id) { return possibleValues.data[id]; });\n    var handleChange = useCallback(function (eventOrValue) {\n        var value = eventOrValue.target\n            ? eventOrValue.target.value\n            : eventOrValue;\n        form.change(temporaryFieldName, value);\n        // This ensure the field is flagged as touched\n        temporaryField.input.onBlur();\n    }, [form, temporaryFieldName, temporaryField]);\n    var value = temporaryField.input.value;\n    var _f = useManyToManyReferenceContext(), registerManyToManyInput = _f.registerManyToManyInput, unregisterManyToManyInput = _f.unregisterManyToManyInput;\n    useEffect(function () {\n        registerManyToManyInput({\n            resource: resource,\n            reference: reference,\n            source: source,\n            through: through,\n            using: using,\n        });\n        return function () {\n            unregisterManyToManyInput({\n                resource: resource,\n                reference: reference,\n                source: source,\n                through: through,\n                using: using,\n            });\n        };\n    }, [\n        resource,\n        reference,\n        source,\n        through,\n        using,\n        registerManyToManyInput,\n        unregisterManyToManyInput,\n    ]);\n    return {\n        basePath: \"/\" + reference,\n        resource: reference,\n        choices: choices,\n        input: __assign(__assign({}, temporaryField.input), { value: value, onChange: handleChange }),\n        meta: temporaryField.meta,\n        currentSort: sort,\n        error: throughManyReferences.error ||\n            references.error ||\n            possibleValues.error,\n        loading: throughManyReferences.loading ||\n            references.loading ||\n            possibleValues.loading,\n        loaded: throughManyReferences.loaded &&\n            references.loaded &&\n            possibleValues.loaded,\n        total: throughManyReferences.total,\n        page: page,\n        perPage: perPage,\n    };\n};\nexport default useReferenceManyToManyInputController;\n","import { useContext } from 'react';\nimport { ManyToManyReferenceContext, } from './ManyToManyReferenceContext';\n/**\n * Hook to get the `ManyToManyReferenceContext`.\n */\nexport var useManyToManyReferenceContext = function () {\n    var context = useContext(ManyToManyReferenceContext);\n    if (!context) {\n        throw new Error(\"\\nCannot get the ManyToManyReferenceContext. Have you wrapped your form with a <ManyToManyReferenceContextProvider>?\\n\\nFor example:\\n\\nimport { ManyToManyReferenceContextProvider } from '@react-admin/relationships';\\n\\n<Edit {...props}>\\n    <ManyToManyReferenceContextProvider>\\n        <SimpleForm>\\n            // ...\\n        </SimpleForm>\\n    </ManyToManyReferenceContextProvider>\\n</Edit>\\n\");\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { useInput, useTranslate, } from 'react-admin';\nimport useReferenceManyToManyInputController from './useReferenceManyToManyInputController';\nimport { UsingRegexp } from './constants';\n/**\n * Allows to edit reference records through a relations table.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Allowing to pick the tags of a post using a SelectArrayInput\n *  <ReferenceManyToManyInput\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <SelectArrayInput optionText=\"name\" />\n *  </ReferenceManyToManyInput>\n *\n * @example Allowing to pick the tags of a post using a CheckboxGroupInput\n *  <ReferenceManyToManyInput\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <CheckboxGroupInput optionText=\"name\" />\n *  </ReferenceManyToManyInput>\n */\nvar ReferenceManyToManyInput = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, idOverride = _a.id, format = _a.format, label = _a.label, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, perPage = _a.perPage, record = _a.record, reference = _a.reference, sort = _a.sort, _b = _a.source, source = _b === void 0 ? 'id' : _b, through = _a.through, using = _a.using, validate = _a.validate, props = __rest(_a, [\"basePath\", \"children\", \"className\", \"id\", \"format\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"perPage\", \"record\", \"reference\", \"sort\", \"source\", \"through\", \"using\", \"validate\"]);\n    if (!using.match(UsingRegexp)) {\n        throw new Error('<ReferenceManyToManyInput> incorrect `using` props format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _c = useInput({\n        id: idOverride,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        source: source,\n        validate: validate,\n        parse: parse,\n        format: format,\n    }), id = _c.id, isRequired = _c.isRequired;\n    var _d = useReferenceManyToManyInputController({\n        basePath: basePath,\n        record: record,\n        filter: props.filter,\n        perPage: perPage,\n        resource: props.resource,\n        reference: reference,\n        through: through,\n        source: source,\n        sort: sort,\n        using: using,\n        validate: validate,\n    }), error = _d.error, loading = _d.loading, loaded = _d.loaded, choices = _d.choices, referenceManyToManyProps = __rest(_d, [\"error\", \"loading\", \"loaded\", \"choices\"]);\n    var translate = useTranslate();\n    var translatedLabel = translate(label || \"resources.\" + props.resource + \".fields.\" + source, { _: label });\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    var childProps = __assign(__assign(__assign({}, props), { resource: reference, basePath: \"/\" + reference, choices: choices, id: id, input: referenceManyToManyProps.input, isRequired: isRequired, label: translatedLabel, loading: loading, loaded: loaded, meta: __assign(__assign({}, referenceManyToManyProps.meta), { helperText: false }), translateChoice: false, limitChoicesToValue: true }), children.props);\n    return cloneElement(Children.only(children), childProps);\n};\nReferenceManyToManyInput.defaultProps = {\n    sort: {\n        field: 'id',\n        order: 'DESC',\n    },\n};\nexport default ReferenceManyToManyInput;\n","var raTreeEnglishMessages = {\n    'ra-tree': {\n        drag_preview: 'Node #%{id} |||| Node #%{id} with %{smart_count} children',\n        root_target: 'Drop an item here to make it top level',\n        item_moved: 'Item moved',\n        new_node: 'New node',\n        action: {\n            add_root: 'Add root',\n            add_child: 'Add child',\n        },\n    },\n};\nexport default raTreeEnglishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { InputAdornment, IconButton, TextField, makeStyles, fade, } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useTranslate } from 'react-admin';\n/**\n * A text input built specifically for the search. Very similar to react-admin `SearchInput`,\n * except it does not requires to be inside a final-form `Form` component.\n *\n * It accepts all props of the Material UI [`<TextField>`](https://material-ui.com/components/text-fields/).\n * @param {SearchInputProps} props\n * @param {'light' | 'dark'} props.color The color mode for the input, applying light or dark backgrounds\n */\nexport var SearchInput = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _a = props.color, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    color = _a === void 0 ? 'light' : _a, InputProps = props.InputProps, value = props.value, disabled = props.disabled, _b = props.variant, variant = _b === void 0 ? 'filled' : _b, _c = props.margin, margin = _c === void 0 ? 'dense' : _c, _d = props.placeholder, placeholder = _d === void 0 ? 'ra.action.search' : _d, rest = __rest(props, [\"classes\", \"color\", \"InputProps\", \"value\", \"disabled\", \"variant\", \"margin\", \"placeholder\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onFocus = props.onFocus, onBlur = props.onBlur, onChange = props.onChange;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        // Haven't found a better way yet. We also have this issue in react-admin ResetableTextfield\n        // @ts-ignore\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornmentEnd = classes.inputAdornmentEnd, inputAdornmentStart = classes.inputAdornmentStart, visibleClearIcon = classes.visibleClearIcon, inputClassName = classes.input, inputBaseClassName = classes.inputBase, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornmentEnd\", \"inputAdornmentStart\", \"visibleClearIcon\", \"input\", \"inputBase\"]);\n    return (React.createElement(TextField, __assign({ classes: restClasses, value: value, inputProps: {\n            className: inputClassName,\n        }, InputProps: __assign({ className: inputBaseClassName, startAdornment: (React.createElement(InputAdornment, { className: inputAdornmentStart, position: \"start\" },\n                React.createElement(SearchIcon, null))), endAdornment: (React.createElement(InputAdornment, { className: inputAdornmentEnd, position: \"end\" },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: !value || disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) })))) }, InputProps), disabled: disabled, variant: variant, margin: margin, placeholder: translate(placeholder, { _: placeholder }) }, rest, { onFocus: handleFocus, onBlur: handleBlur, ref: ref })));\n});\nSearchInput.displayName = 'SearchInput';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: function (_a) {\n            var color = _a.color;\n            return fade(color === 'light'\n                ? theme.palette.common.white\n                : theme.palette.common.black, 0.05);\n        },\n        borderRadius: theme.shape.borderRadius,\n        marginTop: 4,\n        '&:hover': {\n            backgroundColor: function (_a) {\n                var color = _a.color;\n                return fade(color === 'light'\n                    ? theme.palette.common.white\n                    : theme.palette.common.black, color === 'light' ? 0.25 : 0.15);\n            },\n        },\n        '&:focus-within': {\n            backgroundColor: function (_a) {\n                var color = _a.color;\n                return fade(color === 'light'\n                    ? theme.palette.common.white\n                    : theme.palette.common.black, color === 'light' ? 0.25 : 0.15);\n            },\n        },\n        '& *': {\n            color: 'inherit',\n        },\n        '& .MuiFilledInput-underline:before': {\n            border: 'none',\n        },\n        '& .MuiFilledInput-underline:after': {\n            border: 'none',\n        },\n        zIndex: theme.zIndex.modal + 1,\n    },\n    inputBase: {\n        background: 'none',\n        borderRadius: 0,\n        '&:hover': {\n            background: 'none',\n        },\n    },\n    input: {\n        paddingTop: theme.spacing(1),\n        transition: theme.transitions.create('width'),\n        width: 120,\n        '&:focus': {\n            width: 170,\n        },\n    },\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    inputAdornmentStart: {\n        marginTop: '0 !important',\n    },\n    inputAdornmentEnd: {\n        transition: theme.transitions.create('opacity'),\n        opacity: function (_a) {\n            var value = _a.value;\n            return (!!value ? 1 : 0);\n        },\n    },\n}); }, { name: 'RaSearchInput' });\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    value: PropTypes.any,\n};\n","import { createContext, useContext } from 'react';\nexport var SearchResultContext = createContext({\n    onClose: function () {\n        /* noop */\n    },\n    loaded: false,\n    loading: false,\n    history: [],\n    query: '',\n});\nexport var SearchResultContextProvider = SearchResultContext.Provider;\nexport var useSearchResults = function () {\n    var context = useContext(SearchResultContext);\n    if (!context) {\n        console.warn('useContext must be used inside a SearchResultContextProvider such as the one provided by the <Search> component');\n    }\n    return context;\n};\n","import * as React from 'react';\nimport { cloneElement, isValidElement } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { ListSubheader, makeStyles } from '@material-ui/core';\nimport { SearchResultItem } from './SearchResultItem';\n/**\n * A component which displays search results for a specific target.\n *\n * @param props {SearchResultsGroupProps}\n * @param props.data {SearchResultDataItem[]} The search results\n * @param props.label {ReactElement|string} The target label\n * @param props.onClose {Function} The function to call when the Search PopOver should be closed.\n */\nexport var SearchResultsGroup = function (props) {\n    var _a = props.children, children = _a === void 0 ? defaultChildren : _a, data = props.data, label = props.label, onClose = props.onClose;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListSubheader, { className: classes.subHeader, component: \"h3\", role: \"presentation\" }, isValidElement(label)\n            ? label\n            : translate(label.toString(), { _: label })),\n        data.map(function (searchResultItem) {\n            return cloneElement(children, {\n                key: searchResultItem.id,\n                data: searchResultItem,\n                onClose: onClose,\n            });\n        })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    subHeader: {\n        background: theme.palette.background.paper,\n        marginBottom: theme.spacing(1),\n        marginTop: theme.spacing(1),\n    },\n}); });\nvar defaultChildren = React.createElement(SearchResultItem, null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { List, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { SearchResultItem } from './SearchResultItem';\nimport { SearchResultsGroup } from './SearchResultsGroup';\nimport { groupSearchResultsByResource } from './groupSearchResultsByResource';\nimport { useSearchResults } from './SearchResultContext';\nimport { useArrowKeysToNavigate } from './useArrowKeysToNavigate';\n/**\n * A component which displays search results inside a Material UI [`<List>`](https://material-ui.com/components/list/),\n * grouping results by targets when they are multiple targets.\n *\n * @param props {SearchPanelProps}\n * @param props.children {ReactElement} A ReactElement which will be cloned for each search result item.\n */\nexport var SearchResultsPanel = function (props) {\n    var listRef = React.useRef(null);\n    var _a = props.children, children = _a === void 0 ? React.createElement(SearchResultItem, null) : _a, rest = __rest(props, [\"children\"]);\n    useArrowKeysToNavigate(listRef);\n    var translate = useTranslate();\n    var classes = useStyles(rest);\n    var _b = useSearchResults(), data = _b.data, onClose = _b.onClose;\n    if (!data || data.length === 0) {\n        return (React.createElement(List, __assign({ dense: true }, rest),\n            React.createElement(ListItem, null,\n                React.createElement(ListItemText, { primary: translate('ra.navigation.no_results') }))));\n    }\n    var groupedData = groupSearchResultsByResource(data, translate);\n    if (groupedData.length === 1) {\n        return (React.createElement(List, __assign({ component: \"nav\", dense: true, innerRef: listRef }, rest), data.map(function (searchResultItem) {\n            return cloneElement(children, {\n                key: searchResultItem.id,\n                data: searchResultItem,\n                onClose: onClose,\n            });\n        })));\n    }\n    return (React.createElement(List, __assign({ component: \"nav\", dense: true, innerRef: listRef, className: classes.root }, rest), groupedData.map(function (group) { return (React.createElement(SearchResultsGroup, { key: group.label, label: group.label, data: group.data, onClose: onClose }, children)); })));\n};\nvar useStyles = makeStyles(function () { return ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n    },\n}); }, {\n    name: 'RaSearchResultsPanel',\n});\n","var raSearcheEnglishMessages = {\n    'ra-search': {\n        recent: 'Recent',\n    },\n};\nexport default raSearcheEnglishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { List, ListSubheader, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { SearchHistoryItem } from './SearchHistoryItem';\nimport { useArrowKeysToNavigate } from './useArrowKeysToNavigate';\n/**\n * A component which displays search history inside a Material UI [`<List>`](https://material-ui.com/components/list/),\n *\n * @param props {SearchHistoryPanelProps}\n * @param props.history {string[]} A list of previous searches.\n * @param props.onSelect {Function} The function to call when the item is selected.\n * @param props.children {ReactElement} A ReactElement which will be cloned for each search history item.\n */\nexport var SearchHistoryPanel = function (props) {\n    var listRef = React.useRef(null);\n    var _a = props.children, children = _a === void 0 ? React.createElement(SearchHistoryItem, null) : _a, history = props.history, onSelect = props.onSelect, rest = __rest(props, [\"children\", \"history\", \"onSelect\"]);\n    useArrowKeysToNavigate(listRef);\n    var translate = useTranslate();\n    var classes = useStyles(rest);\n    return (React.createElement(List, __assign({ component: \"nav\", dense: true, className: classes.root, innerRef: listRef }, rest),\n        React.createElement(ListSubheader, null,\n            React.createElement(\"strong\", null, translate('ra-search.recent')),\n            React.createElement(Divider, null)),\n        history.map(function (searchHistoryItem) {\n            return cloneElement(children, {\n                item: searchHistoryItem,\n                onSelect: onSelect,\n            });\n        })));\n};\nvar useStyles = makeStyles(function () { return ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n        minWidth: '100%',\n    },\n}); }, {\n    name: 'RaSearchHistoryPanel',\n});\n","import inflection from 'inflection';\nimport { useSelector } from 'react-redux';\nimport { getResources, useTranslate } from 'react-admin';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useSelector(getResources, shallowEqual);\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {resources.map(resource => (\n *                 <li key={resource.name}>\n *                     {getResourceLabel(resource.name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport var useGetResourceLabel = function () {\n    var resources = useSelector(getResources);\n    var translate = useTranslate();\n    return function (resource, count) {\n        if (count === void 0) { count = 2; }\n        var resourceDefinition = resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        var label = translate(\"resources.\" + resource + \".name\", {\n            smart_count: count,\n            _: resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                ? translate(resourceDefinition.options.label, {\n                    smart_count: count,\n                    _: resourceDefinition.options.label,\n                })\n                : inflection.humanize(count > 1\n                    ? inflection.pluralize(resource)\n                    : inflection.singularize(resource)),\n        });\n        return label;\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useRecordContext, useTranslate, getFieldLabelTranslationArgs, } from 'react-admin';\nimport { useGetResourceLabel } from './useGetResourceLabel';\n/**\n * Returns a translated label for an event.\n * @param options The hook options\n * @param options.record Optional. The event record. Uses the record from the RecordContext if not provided.\n * @param options.variant Optional. Either 'full', 'inline' or 'record'.\n * @param options.pluralizeResource Optional. A boolean indicating whether to pluralize the resource name.\n */\nexport var useEventLabel = function (options) {\n    var _a = options.variant, variant = _a === void 0 ? 'full' : _a, pluralizeResource = options.pluralizeResource;\n    var record = useRecordContext(options);\n    var getResourceLabel = useGetResourceLabel();\n    var translate = useTranslate();\n    if (!record) {\n        return null;\n    }\n    var pluralize = pluralizeResource != undefined\n        ? pluralizeResource\n        : actionPluralOptions[record.action];\n    var _b = record.payload, _c = _b.data, data = _c === void 0 ? {} : _c, _d = _b.ids, ids = _d === void 0 ? [] : _d, id = _b.id;\n    var name = (data === null || data === void 0 ? void 0 : data.name) ||\n        (data === null || data === void 0 ? void 0 : data.label) ||\n        (data === null || data === void 0 ? void 0 : data.title) ||\n        (data === null || data === void 0 ? void 0 : data.reference) ||\n        (data === null || data === void 0 ? void 0 : data.id) ||\n        id;\n    var fields = [];\n    if (record.payload.previousData) {\n        for (var _i = 0, _e = Object.keys(record.payload.previousData); _i < _e.length; _i++) {\n            var field = _e[_i];\n            if (record.payload.data &&\n                record.payload.data[field] !==\n                    record.payload.previousData[field]) {\n                fields.push(translate.apply(void 0, getFieldLabelTranslationArgs({\n                    source: field,\n                    resource: record.resource,\n                })));\n            }\n        }\n    }\n    var translateOptions = {\n        name: name,\n        ids: ids.join(', '),\n        resource: getResourceLabel(record.resource, pluralize ? 2 : 1).toLowerCase(),\n        fields: fields.slice(0, 2).join(', '),\n        all_fields: fields.join(', '),\n        smart_count: variant === 'record' && fields.length > 2\n            ? fields.length - 2\n            : fields.length,\n    };\n    var finalVariant = variant === 'record' && fields.length > 2\n        ? 'record_many_fields'\n        : variant;\n    var label = translate(\"ra-audit-log.\" + variantTranslationKeys[finalVariant] + \".\" + record.resource + \".\" + record.action, __assign(__assign({}, translateOptions), { \n        // Default generic translation when there is no resource specific translation available\n        _: translate(\"ra-audit-log.\" + variantTranslationKeys[finalVariant] + \".\" + record.action, translateOptions) }));\n    return label;\n};\nvar variantTranslationKeys = {\n    full: 'event',\n    inline: 'inline_event',\n    record: 'record_event',\n    record_many_fields: 'record_many_fields_events',\n};\nvar actionPluralOptions = {\n    create: false,\n    delete: false,\n    deleteMany: true,\n    update: false,\n    updateMany: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { sanitizeFieldRestProps, useRecordContext, } from 'react-admin';\nimport { useEventLabel } from './useEventLabel';\n/**\n * A react-admin field which displays a label specific to an event action.\n */\nexport var ActionField = function (props) {\n    var record = useRecordContext(props);\n    var actionLabel = useEventLabel({ record: record, variant: 'inline' });\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\" }, sanitizeFieldRestProps(props)), actionLabel));\n};\nActionField.defaultProps = {\n    addLabel: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PersonIcon from '@material-ui/icons/Person';\nimport classnames from 'classnames';\n/**\n * A Material-UI Avatar with fallback to the Person icon if no url was provided for an image.\n */\nexport var EventAvatar = function (props) {\n    var className = props.className, src = props.src, fullName = props.fullName, _a = props.size, size = _a === void 0 ? 'medium' : _a, rest = __rest(props, [\"className\", \"src\", \"fullName\", \"size\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Avatar, __assign({ src: src, className: classnames(className, classes[size]) }, rest), !!src ? null : fullName ? getInitials(fullName) : React.createElement(PersonIcon, null)));\n};\nvar useStyles = makeStyles({\n    small: {\n        width: 20,\n        height: 20,\n    },\n    medium: {\n        width: 40,\n        height: 40,\n    },\n});\nexport var getInitials = function (name) {\n    return name\n        .match(/(^\\w\\w?|\\b\\w)?/g)\n        .join('')\n        .match(/(^\\w|\\w$)?/g)\n        .join('')\n        .toUpperCase();\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { EventAvatar } from './EventAvatar';\n/**\n * A react-admin field which displays the avatar of an event author.\n */\nexport var AvatarField = function (props) {\n    var record = useRecordContext(props);\n    var _a = props.source, source = _a === void 0 ? 'avatar' : _a, _b = props.fullNameSource, fullNameSource = _b === void 0 ? 'fullName' : _b, rest = __rest(props, [\"source\", \"fullNameSource\"]);\n    var src = get(record, source);\n    var fullName = get(record, fullNameSource);\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(EventAvatar, __assign({ src: src, fullName: fullName, role: \"presentation\" }, rest)));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ReferenceField, TextField, useRecordContext, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { AvatarField } from './AvatarField';\n/**\n * A react-admin field which displays the author of an event with its avatar if available.\n */\nexport var AuthorField = function (props) {\n    var authorResource = props.authorResource, className = props.className, classesOverride = props.classes, link = props.link, source = props.source, rest = __rest(props, [\"authorResource\", \"className\", \"classes\", \"link\", \"source\"]);\n    var classes = useStyles(props);\n    var record = useRecordContext(props);\n    if (authorResource) {\n        return (React.createElement(ReferenceField, __assign({ source: \"author.id\", reference: authorResource, link: link }, rest),\n            React.createElement(AuthorField, null)));\n    }\n    return record ? (React.createElement(\"div\", { className: classnames(classes.root, className) },\n        React.createElement(AvatarField, { source: \"avatar\", record: record.author ? record.author : record, className: classes.small }),\n        React.createElement(TextField, __assign({ source: \"fullName\" }, rest, { record: record.author ? record.author : record })))) : null;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    small: {\n        display: 'inline-flex',\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        marginRight: theme.spacing(1),\n    },\n}); });\nAuthorField.defaultProps = {\n    addLabel: true,\n};\n","export var DefaultAuditLogResource = 'events';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { sanitizeFieldRestProps, useRecordContext, } from 'react-admin';\nimport get from 'lodash/get';\nimport { Typography } from '@material-ui/core';\nimport { useGetResourceLabel } from './useGetResourceLabel';\n/**\n * A react-admin field which displays a the name of the resource targeted by an event.\n */\nexport var ResourceField = function (props) {\n    var record = useRecordContext(props);\n    var getResourceLabel = useGetResourceLabel();\n    if (!record) {\n        return null;\n    }\n    var _a = props.source, source = _a === void 0 ? 'resource' : _a;\n    var resource = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\" }, sanitizeFieldRestProps(props)), getResourceLabel(resource, 1)));\n};\nResourceField.defaultProps = {\n    addLabel: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ListItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { Form } from 'react-final-form';\nimport { FilterList, useListFilterContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { AuthorInput } from './AuthorInput';\n/**\n * A react-admin FilterList allowing to filter events by author. Should be included in a List aside.\n * If the events authors have a dedicated resource, an AutoCompleteInput will be used to select them.\n *\n * @see {@link https://marmelab.com/react-admin/List.html#the-filterlist-sidebar|FilterList}\n * @see {@link https://marmelab.com/react-admin/Inputs.html#autocompleteinput|AutoCompleteInput}\n *\n * @param props The component props\n * @param {string} props.authorResource Optional. The name of the resource for authors.\n *\n * @example <caption>Basic usage</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { AuthorFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <AuthorFilterList />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n *\n * @example <caption>With an author resource</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { AuthorFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <AuthorFilterList authorResource=\"users\" />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n */\nexport var AuthorFilterList = function (props) {\n    var authorResource = props.authorResource;\n    var classes = useStyles(props);\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var handleChange = function (eventOrValue) {\n        var _a;\n        var _b;\n        var field = authorResource ? 'author.id' : 'author.fullName';\n        var value = authorResource\n            ? eventOrValue\n            : (_b = eventOrValue.target) === null || _b === void 0 ? void 0 : _b.value;\n        setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[field] = value, _a)), null, true);\n    };\n    var handleFormSubmit = function (values) {\n        setFilters(__assign(__assign({}, filterValues), { values: values }), null, false);\n    };\n    return (React.createElement(FilterList, { label: \"ra-audit-log.filter.author\", icon: React.createElement(PeopleIcon, null) },\n        React.createElement(ListItem, { className: classes.listItem },\n            React.createElement(Form, { onSubmit: handleFormSubmit, render: function (_a) {\n                    var handleSubmit = _a.handleSubmit;\n                    return (React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit },\n                        React.createElement(AuthorInput, { className: classes.input, label: \"Author\", onChange: handleChange, authorResource: authorResource, initialValue: authorResource\n                                ? get(filterValues, 'author.id')\n                                : get(filterValues, 'author.fullName') })));\n                } }))));\n};\nvar useStyles = makeStyles({\n    listItem: {\n        paddingRight: 0,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    input: {\n        width: '100%',\n    },\n}, {\n    name: 'RaAuthorFilterList',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListItem, ListItemText, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRecordContext, useTranslate } from 'react-admin';\nimport classnames from 'classnames';\nimport { EventAvatar } from '../EventAvatar';\nimport { useEventLabel } from '../useEventLabel';\n/**\n * Default component to display an audit logs.\n * @see Timeline\n */\nexport var RecordTimelineItem = function (props) {\n    var className = props.className, classesOverride = props.classes, rest = __rest(props, [\"className\", \"classes\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var record = useRecordContext(props.record);\n    var actionLabel = useEventLabel({ record: record, variant: 'record' });\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(ListItem, __assign({ className: classnames(classes.root, className), button: false, dense: true, disableGutters: true }, rest),\n        React.createElement(ListItemText, { primary: React.createElement(\"div\", { className: classes.authorContainer },\n                React.createElement(EventAvatar, { className: classes.avatar, alt: record.author.fullName, src: record.author.avatar, fullName: record.author.fullName, role: \"presentation\", size: \"small\" }),\n                React.createElement(Typography, { color: \"textPrimary\", className: classes.content },\n                    React.createElement(\"strong\", { className: classes.author }, record.author.fullName ||\n                        translate(\"ra-audit-log.author\", record.author)))), secondary: React.createElement(\"span\", { className: classes.action }, actionLabel) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    content: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    authorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n    author: {},\n    action: {},\n    date: {},\n}); }, {\n    name: 'RaTimelineItem',\n});\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nexport var TimelinePlaceholder = function (props) {\n    var className = props.className;\n    var classes = useStyles(props);\n    // Must be a span because it's used inside a Typography which is a p by default\n    return React.createElement(\"span\", { className: classnames(classes.root, className) }, \"\\u00A0\");\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[400],\n        display: 'inline-block',\n    },\n}); }, { name: 'RaTimelinePlaceholder' });\n","import * as React from 'react';\nimport { Card, List, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { TimelinePlaceholder } from './TimelinePlaceholder';\nimport { EventAvatar } from '../EventAvatar';\nexport var RecordTimelineSkeleton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, \"aria-disabled\": true, \"aria-label\": translate('ra.message.loading') },\n        React.createElement(\"div\", null, times(2, function (key1) { return (React.createElement(\"div\", { key: key1 },\n            React.createElement(TimelinePlaceholder, { className: classes.subTitle }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(List, null, times(5, function (key2) { return (React.createElement(ListItem, { key: key2 },\n                    React.createElement(ListItemText, { primary: React.createElement(\"div\", { className: classes.authorContainer },\n                            React.createElement(EventAvatar, { className: classes.avatar, size: \"small\" }),\n                            React.createElement(TimelinePlaceholder, { className: classes.text })), secondary: React.createElement(TimelinePlaceholder, { className: classes.text }) }))); }))))); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: '100%',\n        margin: 'auto',\n    },\n    card: {\n        marginTop: theme.spacing(0.5),\n        marginBottom: theme.spacing(1),\n    },\n    subTitle: {\n        width: '60%',\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        width: '100%',\n        marginBottom: theme.spacing(1),\n    },\n    authorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaTimelineSkeleton',\n});\nvar times = function (nbChildren, fn) { return Array.from({ length: nbChildren }, function (_, key) { return fn(key); }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListItem, ListItemText, ListItemAvatar, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useLocale, useRecordContext, useTranslate, } from 'react-admin';\nimport classnames from 'classnames';\nimport { EventAvatar } from '../EventAvatar';\nimport { Link } from 'react-router-dom';\nimport { useEventLabel } from '../useEventLabel';\nimport { useGetActionLink } from '../useGetActionLink';\n/**\n * Default component to display an audit logs.\n * @see Timeline\n */\nexport var TimelineItem = function (props) {\n    var className = props.className, classesOverride = props.classes, link = props.link, rest = __rest(props, [\"className\", \"classes\", \"link\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var locale = useLocale();\n    var record = useRecordContext(props.record);\n    var actionLabel = useEventLabel({ record: record, variant: 'inline' });\n    var getActionLink = useGetActionLink();\n    if (!record) {\n        return null;\n    }\n    var linkTo = getActionLink(record, link);\n    return (React.createElement(ListItem\n    // @ts-ignore\n    , __assign({ \n        // @ts-ignore\n        component: linkTo ? Link : 'div', role: \"listitem\", to: linkTo, className: classnames(classes.root, className) }, rest),\n        React.createElement(ListItemAvatar, null,\n            React.createElement(EventAvatar, { alt: record.author.fullName, src: record.author.avatar, fullName: record.author.fullName, role: \"presentation\" })),\n        React.createElement(ListItemText, { primary: React.createElement(Typography, { color: \"textPrimary\", className: classes.content },\n                React.createElement(\"strong\", { className: classes.author }, record.author.fullName ||\n                    translate(\"ra-audit-log.author\", record.author)),\n                React.createElement(\"span\", { className: classes.action }, actionLabel)), secondary: new Date(record.date).toLocaleString(locale) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        '&:hover': {\n            backgroundColor: theme.palette.action.hover,\n        },\n    },\n    content: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    author: {\n        marginRight: theme.spacing(0.5),\n    },\n    action: {},\n}); }, {\n    name: 'RaTimelineItem',\n});\n","import * as React from 'react';\nimport { RecordContextProvider, useTranslate, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { List, Typography } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { TimelineItem } from './TimelineItem';\nimport { useTimelineGroup } from './useTimelineGroup';\n/**\n * Default component to display a group of audit logs.\n * @see Timeline\n *\n * @example <caption>To use a custom item component</caption>\n * import { TimelineGroup } from '@react-admin/ra-audit-log';\n * import { useRecordContext } from 'react-admin';\n * import { ListItem, ListItemText } from '@material-ui/core';\n * import { getTextFromRecord } from './getTextFromRecord';\n *\n * const MyTimelineItem => {\n *     const record = useRecordContext();\n *     const label = getTextFromRecord(record);\n *\n *     return (\n *         <ListItem>\n *             <ListItemText>{label}</ListItemText>\n *         </ListItem>\n *     );\n * }\n *\n * const MyTimelineGroup = () => {\n *     return (\n *         <TimelineGroup>\n *             <MyTimelineItem />\n *         </TimelineGroup>\n *     );\n * };\n */\nexport var TimelineGroup = function (props) {\n    var className = props.className, _a = props.children, children = _a === void 0 ? React.createElement(TimelineItem, null) : _a;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _b = useTimelineGroup(), label = _b.label, records = _b.records;\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(\"div\", { className: classnames(classes.root, className) },\n        React.createElement(Typography, { variant: \"subtitle1\", gutterBottom: true, className: classes.label, role: \"presentation\" }, translatedLabel),\n        React.createElement(List, { component: \"div\", role: \"list\", \"aria-label\": translatedLabel, dense: true, className: classes.events }, records.map(function (record) { return (React.createElement(RecordContextProvider, { key: record.id, value: record }, children)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(1),\n    },\n    label: {},\n    events: {},\n}); }, { name: 'RaTimelineGroup' });\n","import * as React from 'react';\nimport { Card, List, ListItem, ListItemAvatar, ListItemText, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { TimelinePlaceholder } from './TimelinePlaceholder';\nimport { EventAvatar } from '../EventAvatar';\nexport var TimelineSkeleton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, \"aria-disabled\": true, \"aria-label\": translate('ra.message.loading') },\n        React.createElement(\"div\", null, times(2, function (key1) { return (React.createElement(\"div\", { key: key1 },\n            React.createElement(TimelinePlaceholder, { className: classes.subTitle }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(List, null, times(5, function (key2) { return (React.createElement(ListItem, { key: key2 },\n                    React.createElement(ListItemAvatar, null,\n                        React.createElement(EventAvatar, null)),\n                    React.createElement(ListItemText, { primary: React.createElement(TimelinePlaceholder, { className: classes.text }), secondary: React.createElement(TimelinePlaceholder, { className: classes.text }) }))); }))))); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: '100%',\n        margin: 'auto',\n    },\n    card: {\n        marginTop: theme.spacing(0.5),\n        marginBottom: theme.spacing(1),\n    },\n    subTitle: {\n        width: '60%',\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        width: '100%',\n        marginBottom: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaTimelineSkeleton',\n});\nvar times = function (nbChildren, fn) { return Array.from({ length: nbChildren }, function (_, key) { return fn(key); }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ListItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { Form } from 'react-final-form';\nimport { FilterList, useListFilterContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { ResourceInput } from './ResourceInput';\n/**\n * A react-admin FilterList allowing to filter events by resource. Should be included in a List aside.\n * It excludes the events resource itself which is named `events` by default.\n *\n * @see {@link https://marmelab.com/react-admin/List.html#the-filterlist-sidebar|FilterList}\n *\n * @param props The component props\n * @param {string} props.eventsResource Optional. The name of the resource for events. Defaults to `events`\n *\n * @example <caption>Basic usage</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { ResourceFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <ResourceFilterList />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n *\n * @example <caption>With a custom event resource</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { ResourceFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <ResourceFilterList eventResource=\"users\" />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n */\nexport var ResourceFilterList = function (props) {\n    var eventResource = props.eventResource;\n    var classes = useStyles(props);\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var handleChange = function (eventOrValue) {\n        var _a;\n        setFilters(__assign(__assign({}, filterValues), { resource: ((_a = eventOrValue === null || eventOrValue === void 0 ? void 0 : eventOrValue.target) === null || _a === void 0 ? void 0 : _a.value) || eventOrValue }), null, true);\n    };\n    var handleFormSubmit = function (values) {\n        setFilters(__assign(__assign({}, filterValues), { values: values }), null, false);\n    };\n    return (React.createElement(FilterList, { label: \"ra-audit-log.filter.resource\", icon: React.createElement(PeopleIcon, null) },\n        React.createElement(ListItem, { className: classes.listItem },\n            React.createElement(Form, { onSubmit: handleFormSubmit, render: function (_a) {\n                    var handleSubmit = _a.handleSubmit;\n                    return (React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit },\n                        React.createElement(ResourceInput, { onChange: handleChange, eventResource: eventResource, className: classes.input, initialValue: get(filterValues, 'resource') })));\n                } }))));\n};\nvar useStyles = makeStyles({\n    listItem: {\n        paddingRight: 0,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    input: {\n        width: '100%',\n    },\n}, {\n    name: 'RaResourceFilterList',\n});\n","import * as React from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterLiveSearch } from 'react-admin';\nimport classnames from 'classnames';\nimport { AuthorFilterList } from './AuthorFilterList';\nimport { EventDateFilterList } from './EventDateFilterList';\nimport { ResourceFilterList } from './ResourceFilterList';\n/**\n * Includes all the default filters for the EventList in a component usable in an aside sidebar.\n * @param props The component props\n * @param {string} props.authorResource Optional. The name of the resource for authors.\n * @param {string} props.className Optional. A css class name.\n * @param {object} props.classes Optional. An object of styles from material-ui hook built with makeStyles\n * @param {object} props.dateFilters Optional. A map of date filters where the key is the label (which can be a translation key) and the value a function returning a date.\n * @param {string} props.eventsResource Optional. The name of the resource for events. Defaults to `events`\n */\nexport var EventFilterAside = function (props) {\n    var authorResource = props.authorResource, className = props.className, dateFilters = props.dateFilters, eventResource = props.eventResource;\n    var classes = useStyles(props);\n    return (React.createElement(Card, { className: classnames(classes.root, className) },\n        React.createElement(CardContent, { className: classes.cardContent },\n            React.createElement(FilterLiveSearch, { source: \"q\" }),\n            React.createElement(EventDateFilterList, { dateFilters: dateFilters }),\n            React.createElement(ResourceFilterList, { eventResource: eventResource }),\n            React.createElement(AuthorFilterList, { authorResource: authorResource }))));\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                order: -1,\n                width: '19em',\n                marginRight: '1em',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                display: 'none',\n            },\n            _a),\n        cardContent: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n    });\n}, {\n    name: 'RaEventFilterAside',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListContextProvider, ListView, useListController, } from 'react-admin';\nimport { useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TimelineList } from '../Timeline';\nimport { EventListFilter } from './EventListFilter';\nimport { EventFilterAside } from './EventFilterAside';\nimport { EventDatagrid } from './EventDatagrid';\n/**\n * A pre-configured List for event logs. Provides adequate views and filters.\n * @param props\n */\nexport var EventList = function (props) {\n    var authorResource = props.authorResource, dateFilters = props.dateFilters, eventResource = props.eventResource, rest = __rest(props, [\"authorResource\", \"dateFilters\", \"eventResource\"]);\n    var controllerProps = useListController(__assign({ sort: { field: 'date', order: 'desc' } }, props));\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListView, __assign({ component: isSmall ? EventListSmallContent : undefined, bulkActionButtons: false, aside: isSmall ? undefined : (React.createElement(EventFilterAside, { authorResource: authorResource, dateFilters: dateFilters, eventResource: eventResource })), filters: isSmall ? (React.createElement(EventListFilter, { authorResource: authorResource, dateFilters: dateFilters, eventResource: eventResource })) : undefined }, rest, controllerProps), isSmall ? (React.createElement(TimelineList, null)) : (React.createElement(EventDatagrid, { authorResource: authorResource })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        paddingLeft: theme.spacing(0.5),\n        paddingRight: theme.spacing(0.5),\n        width: '100%',\n    },\n}); });\nexport var EventListSmallContent = function (props) {\n    var classes = useStyles();\n    return React.createElement(\"div\", __assign({}, props, { className: classes.root }));\n};\n","import * as React from 'react';\nimport { cloneElement, isValidElement, } from 'react';\nimport { DialogTitle, IconButton, makeStyles, } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate } from 'react-admin';\nvar FormDialogTitle = function (props) {\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var defaultTitle = props.defaultTitle, onClose = props.onClose, record = props.record, title = props.title;\n    return (React.createElement(DialogTitle, { id: \"edit-dialog-title\" },\n        isValidElement(title)\n            ? cloneElement(title, { record: record })\n            : title\n                ? translate(title, { _: title })\n                : defaultTitle,\n        React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: onClose },\n            React.createElement(CloseIcon, null))));\n};\nexport default FormDialogTitle;\nvar useStyles = makeStyles(function (theme) { return ({\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n}); }, {\n    name: 'RaFormDialogTitle',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, Fragment, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from 'react-admin';\n/**\n * The Toolbar displayed at the bottom of AccordionForm.\n *\n * @example Always enable the <SaveButton />\n *\n * import * as React from 'react';\n * import { Edit } from 'react-admin';\n * import { AccordionForm, AccordionFormToolbar } from '@react-admin/ra-form-layout';\n *\n * const CommentEdit = props => (\n *     <Edit {...props}>\n *         <AccordionForm toolbar={<AccordionFormToolbar alwaysEnableSaveButton={true} />}>\n *             ....\n *         </AccordionForm>\n *     </Edit>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\n * @prop {boolean} alwaysEnableSaveButton Force enabling the <SaveButton>. It it's not defined, the <SaveButton> will be enabled using the `pristine` prop (disabled if pristine, enabled otherwise).\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\n * @prop {string} width Apply the mobile or the desktop classes depending on the width. Pass \"xs\" to display the mobile version.\n *\n */\nvar AccordionFormToolbar = function (props) {\n    var _a;\n    var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n    var classes = useStyles(props);\n    // Use form pristine to enable or disable the save button\n    // if alwaysEnableSaveButton is undefined\n    var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine);\n    return (React.createElement(Fragment, null,\n        React.createElement(Toolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: basePath,\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: record,\n                    resource: resource,\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nAccordionFormToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    width: PropTypes.string,\n};\nAccordionFormToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {},\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaAccordionFormToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\nexport default withWidth({ initialWidth: 'xs' })(AccordionFormToolbar);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport classnames from 'classnames';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormInput, useTranslate } from 'react-admin';\nimport { useForm } from 'react-final-form';\nimport get from 'lodash/get';\nimport { Accordion as MuiAccordion, AccordionDetails as MuiAccordionDetails, AccordionSummary as MuiAccordionSummary, Typography, } from '@material-ui/core';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nvar DefaultAccordion = withStyles(function (theme) { return ({\n    root: {\n        width: theme.spacing(55),\n        border: '1px solid rgba(0, 0, 0, .125)',\n        boxShadow: 'none',\n        '&:not(:last-child)': {\n            borderBottom: 0,\n        },\n        '&:before': {\n            display: 'none',\n        },\n        '&$expanded:last-child': {\n            marginBottom: theme.spacing(2),\n        },\n    },\n    expanded: {},\n}); })(MuiAccordion);\nvar DefaultAccordionSummary = withStyles({\n    root: {\n        backgroundColor: 'rgba(0, 0, 0, .03)',\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\n        marginBottom: -1,\n        minHeight: 56,\n        '&$expanded': {\n            minHeight: 56,\n        },\n    },\n    content: {\n        '&$expanded': {\n            margin: '12px 0',\n        },\n    },\n    expanded: {},\n})(MuiAccordionSummary);\nvar DefaultAccordionDetails = withStyles(function (theme) { return ({\n    root: {\n        padding: theme.spacing(2),\n    },\n}); })(MuiAccordionDetails);\n/**\n * Renders children (Inputs) inside a material-ui <Accordion> element without a Card style.\n *\n * To be used as child of a <SimpleForm> or a <TabbedForm> element.\n *\n * @param {string} label The main label used as the accordion summary. Appears in red when the accordion has errors\n * @param {string} secondary Optional. The secondary label used as the accordion summary\n * @param {boolean} fullWidth Optional. If true, the Accordion take sthe entire form width.\n * @param {string} className Optional. A class name to style the underlying <Accordion>.\n * @param {object} classes Optional. Override styles of the <Accordion>, the <AccordionSummary> and the <AccordionDetails> internal components.\n * @param {boolean} defaultExpanded Optional. Set to true to have the accordion expanded by default.\n * @param {boolean} disabled Optional. If true, the accordion will be displayed in a disabled state.\n * @param {boolean} square Optional. If true, rounded corners are disabled.\n * @param {elementType} TransitionComponent Optional. If true, rounded corners are disabled.\n * @param {object} TransitionProps Optional. If true, rounded corners are disabled.\n *\n * @example\n *\n * import { Edit, TextField, TextInput, DateInput, SelectInput, ArrayInput, SimpleForm, SimpleFormIterator, BooleanInput } from 'react-admin';\n * import { AccordionSection } from '@react-admin/ra-form-layout';\n *\n * const CustomerEdit: FC = props => (\n *     <Edit {...props} component=\"div\">\n *         <SimpleForm>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"first_name\" validate={required()} />\n *             <TextInput source=\"last_name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput source=\"sex\" choices={sexChoices} />\n *             <AccordionSection label=\"Occupations\">\n *                 <ArrayInput source=\"occupations\" label=\"\">\n *                     <SimpleFormIterator>\n *                         <TextInput source=\"name\" validate={required()} />\n *                         <DateInput source=\"from\" validate={required()} />\n *                         <DateInput source=\"to\" />\n *                     </SimpleFormIterator>\n *                 </ArrayInput>\n *             </AccordionSection>\n *             <AccordionSection label=\"Preferences\">\n *                 <SelectInput\n *                     source=\"language\"\n *                     choices={languageChoices}\n *                     defaultValue=\"en\"\n *                 />\n *                 <BooleanInput source=\"dark_theme\" />\n *                 <BooleanInput source=\"accepts_emails_from_partners\" />\n *             </AccordionSection>\n *         </SimpleFormForm>\n *     </Edit>\n * );\n *\n */\nvar AccordionSection = function (props) {\n    var _a;\n    var _b = props.Accordion, Accordion = _b === void 0 ? DefaultAccordion : _b, _c = props.AccordionDetails, AccordionDetails = _c === void 0 ? DefaultAccordionDetails : _c, _d = props.AccordionSummary, AccordionSummary = _d === void 0 ? DefaultAccordionSummary : _d, children = props.children, className = props.className, _e = props.defaultExpanded, defaultExpanded = _e === void 0 ? false : _e, _f = props.disabled, disabled = _f === void 0 ? false : _f, _g = props.fullWidth, fullWidth = _g === void 0 ? false : _g, label = props.label, secondary = props.secondary, square = props.square, TransitionComponent = props.TransitionComponent, TransitionProps = props.TransitionProps, \n    // injected by the parent\n    basePath = props.basePath, margin = props.margin, record = props.record, resource = props.resource, variant = props.variant, rest = __rest(props, [\"Accordion\", \"AccordionDetails\", \"AccordionSummary\", \"children\", \"className\", \"defaultExpanded\", \"disabled\", \"fullWidth\", \"label\", \"secondary\", \"square\", \"TransitionComponent\", \"TransitionProps\", \"basePath\", \"margin\", \"record\", \"resource\", \"variant\"]);\n    var classes = useStyles(props);\n    var _h = useState(defaultExpanded), expanded = _h[0], setExpanded = _h[1];\n    var translate = useTranslate();\n    var form = useForm();\n    var handleChange = function () {\n        setExpanded(function (expanded) { return !expanded; });\n    };\n    var hasErrors = hasInputsWithError(children, form.getState().errors);\n    return (React.createElement(Accordion, __assign({}, rest, { expanded: expanded, onChange: handleChange, disabled: disabled, square: square, className: classnames(className, classes.root, (_a = {},\n            _a[classes.fullWidth] = fullWidth,\n            _a)), TransitionComponent: TransitionComponent, TransitionProps: TransitionProps }),\n        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel-\" + label + \"-content\", id: \"panel-\" + label + \"-header\", className: classes.summary },\n            React.createElement(Typography, { color: hasErrors ? 'error' : 'initial', className: classes.heading }, translate(label, { _: label })),\n            React.createElement(Typography, { className: classes.secondaryHeading }, secondary && translate(secondary, { _: secondary }))),\n        React.createElement(AccordionDetails, { className: classes.detail }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        }))));\n};\nAccordionSection.defaultProps = {\n    classes: {},\n};\nexport var hasInputsWithError = function (children, errors) {\n    return React.Children.toArray(children).some(function (input) { return React.isValidElement(input) && get(errors, input.props.source); });\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    summary: {},\n    detail: {\n        display: 'block',\n    },\n    fullWidth: {\n        width: '100%',\n    },\n}); }, {\n    name: 'RaAccordionSection',\n});\nexport default AccordionSection;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionDetails, AccordionSummary, Typography, } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormGroupContextProvider, FormInput, useFormGroup, useTranslate, } from 'react-admin';\nimport { useFormState } from 'react-final-form';\n/**\n * Renders children (Inputs) inside a material-ui <Accordion> element.\n *\n * To be used as child of an <AccordionForm> element.\n *\n * @param {string} label The main label used as the accordion summary. Appears in red when the accordion has errors\n * @param {string} secondary Optional. The secondary label used as the accordion summary\n * @param {boolean} defaultExpanded Optional. Set to true to have the accordion expanded by default (except if autoClose = true on the parent)\n * @param {boolean} disabled Optional. If true, the accordion will be displayed in a disabled state.\n * @param {boolean} square Optional. If true, rounded corners are disabled.\n *\n * @example\n *\n * import { Edit, TextField, TextInput, DateInput, SelectInput, ArrayInput, SimpleFormIterator, BooleanInput } from 'react-admin';\n * import { AccordionForm, AccordionFormPanel } from '@react-admin/ra-form-layout';\n *\n * // don't forget the component=\"div\" prop on the main component to disable the main Card\n * const CustomerEdit: FC = props => (\n *     <Edit {...props} component=\"div\">\n *         <AccordionForm>\n *             <AccordionFormPanel label=\"Identity\" defaultExpanded>\n *                 <TextField source=\"id\" />\n *                 <TextInput source=\"first_name\" validate={required()} />\n *                 <TextInput source=\"last_name\" validate={required()} />\n *                 <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *                 <SelectInput source=\"sex\" choices={sexChoices} />\n *             </AccordionFormPanel>\n *             <AccordionFormPanel label=\"Occupations\">\n *                 <ArrayInput source=\"occupations\" label=\"\">\n *                     <SimpleFormIterator>\n *                         <TextInput source=\"name\" validate={required()} />\n *                         <DateInput source=\"from\" validate={required()} />\n *                         <DateInput source=\"to\" />\n *                     </SimpleFormIterator>\n *                 </ArrayInput>\n *             </AccordionFormPanel>\n *             <AccordionFormPanel label=\"Preferences\">\n *                 <SelectInput\n *                     source=\"language\"\n *                     choices={languageChoices}\n *                     defaultValue=\"en\"\n *                 />\n *                 <BooleanInput source=\"dark_theme\" />\n *                 <BooleanInput source=\"accepts_emails_from_partners\" />\n *             </AccordionFormPanel>\n *         </AccordionForm>\n *     </Edit>\n * );\n */\nvar AccordionFormPanel = function (props) {\n    return (React.createElement(FormGroupContextProvider, { name: props.label },\n        React.createElement(AccordionFormPanelView, __assign({}, props))));\n};\nvar AccordionFormPanelView = function (props) {\n    var children = props.children, _a = props.defaultExpanded, defaultExpanded = _a === void 0 ? false : _a, _b = props.disabled, disabled = _b === void 0 ? false : _b, label = props.label, secondary = props.secondary, square = props.square, \n    // injected by the parent\n    _c = props.autoClose, \n    // injected by the parent\n    autoClose = _c === void 0 ? false : _c, basePath = props.basePath, margin = props.margin, onChange = props.onChange, record = props.record, resource = props.resource, expanded = props.expanded, variant = props.variant;\n    var classes = useStyles();\n    var _d = useState(defaultExpanded), innerExpanded = _d[0], setExpanded = _d[1];\n    var handleChange = function () {\n        setExpanded(function (expanded) { return !expanded; });\n    };\n    var accordionParams = autoClose\n        ? {\n            expanded: expanded,\n            onChange: onChange,\n        }\n        : {\n            expanded: innerExpanded,\n            onChange: handleChange,\n        };\n    var translate = useTranslate();\n    var formGroup = useFormGroup(label);\n    var submitFailed = useFormState(UseFormStateOptions).submitFailed;\n    var hasErrors = formGroup.invalid && (formGroup.touched || submitFailed);\n    return (React.createElement(Accordion, __assign({}, accordionParams, { disabled: disabled, square: square }),\n        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel-\" + label + \"-content\", id: \"panel-\" + label + \"-header\" },\n            React.createElement(Typography, { color: hasErrors ? 'error' : 'initial', className: classes.heading }, translate(label, { _: label })),\n            React.createElement(Typography, { className: classes.secondaryHeading }, secondary && translate(secondary, { _: secondary }))),\n        React.createElement(AccordionDetails, { className: classes.detail }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        }))));\n};\nvar UseFormStateOptions = {\n    subscription: {\n        submitFailed: true,\n    },\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    detail: {\n        display: 'block',\n    },\n}); }, {\n    name: 'RaAccordionFormPanel',\n});\nexport default AccordionFormPanel;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Stepper, StepButton, StepLabel, Step, } from '@material-ui/core';\n/**\n * Progress component rendering a stepper on top of the wizard\n *\n * @prop {number} currentStep Current selected step index\n * @prop {Function} onStepClick Action called when a step is clicked\n * @prop {React.ReactElement[]} steps Array of step elements\n */\nexport var WizardProgress = function (_a) {\n    var currentStep = _a.currentStep, onStepClick = _a.onStepClick, steps = _a.steps, rest = __rest(_a, [\"currentStep\", \"onStepClick\", \"steps\"]);\n    var handleStepClick = function (index) { return function () { return onStepClick(index); }; };\n    return (React.createElement(Stepper, __assign({ activeStep: currentStep }, rest), steps.map(function (step, index) {\n        var label = React.cloneElement(step, { intent: 'label' });\n        return (React.createElement(Step, { key: \"step_\" + index }, !onStepClick ? (React.createElement(StepLabel, null, label)) : (React.createElement(StepButton, { onClick: handleStepClick(index) }, label))));\n    })));\n};\nWizardProgress.defaultProps = {\n    currentStep: 0,\n    steps: [],\n};\n","var raFormLayoutLanguageEnglish = {\n    'ra-form-layout': {\n        action: {\n            next: 'Next',\n            previous: 'Previous',\n        },\n    },\n};\nexport default raFormLayoutLanguageEnglish;\n","import { mergeTranslations, } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nimport englishMessages from 'ra-language-english';\nimport { raRealTimeLanguageEnglish, } from '../../../ra-realtime';\nimport { raRelationshipsLanguageEnglish, } from '../../../ra-relationships';\nimport { raTreeLanguageEnglish, } from '../../../ra-tree';\nimport { raSearchLanguageEnglish, } from '../../../ra-search';\nimport { raAuditLogLanguageEnglish, } from '../../../ra-audit-log';\nimport { raFormLayoutLanguageEnglish, } from '../../../ra-form-layout';\nimport cloneDeep from 'lodash/cloneDeep';\nexport var defaultMessages = {\n    en: mergeTranslations(raRealTimeLanguageEnglish, raRelationshipsLanguageEnglish, raTreeLanguageEnglish, raSearchLanguageEnglish, raAuditLogLanguageEnglish, raFormLayoutLanguageEnglish, englishMessages),\n};\n/**\n * Returns a configured i18n provider for the ra-enterprise modules.\n *\n * This i18n provider is based on polyglot 'polyglotI18nProvider'.\n *\n * What is pre-configured?\n * - English translations for '@react-admin/ra-realtime'\n * - English translations for '@react-admin/ra-relationships'\n * - English  translations for '@react-admin/ra-tree'\n * - English translations for '@react-admin/ra-search'\n * - English translations for '@react-admin/ra-audit-log'\n * - English translations for '@react-admin/ra-form-layout'\n *\n * @param {EnterpriseTranslationMessages} messages Your own translations including overrides of the pre-configured modules.\n * @param {string} defaultLocale The default locale. Default to 'en' for English.\n *\n * @returns An i18n provider configured to work with all the ra-enterprise modules.\n *\n * @example Add a new language (Spanish) and use it as default (es)\n *\n * import spanishMessages from '@blackbox-vision/ra-language-spanish';\n * import { buildI18nProvider } from '@react-admin/ra-enterprise';\n *\n * const messages = {\n *     es: {\n *         ...spanishMessages,\n *         'ra-relationships': {\n *              duallistinput: {\n *                  availableItems: 'Elementos disponibles',\n *                  selectedItems: 'Elementos seleccionados',\n *             },\n *         },\n *         // Configure the other modules here\n *     },\n * };\n *\n * const i18nProvider = buildI18nProvider(messages, 'es');\n *\n */\nexport function buildI18nProvider(messages, defaultLocale) {\n    if (defaultLocale === void 0) { defaultLocale = 'en'; }\n    var mergedMessages = cloneDeep(defaultMessages);\n    if (messages != null) {\n        Object.keys(messages).forEach(function (locale) {\n            mergedMessages[locale] = mergeTranslations(mergedMessages[locale] || {}, messages[locale]);\n        });\n    }\n    return polyglotI18nProvider(function (locale) { return mergedMessages[locale]; }, defaultLocale);\n}\n","export var raRelationshipsLanguageEnglish = {\n    'ra-relationships': {\n        duallistinput: {\n            select: 'Select',\n            unselect: 'Unselect',\n            availableItems: 'Available items',\n            selectedItems: 'Selected items',\n        },\n    },\n};\n","export var raAuditLogLanguageEnglish = {\n    'ra-audit-log': {\n        event: {\n            create: 'Created %{resource} %{name}',\n            delete: 'Deleted %{resource} %{name}',\n            deleteMany: 'Deleted %{resource} %{ids}',\n            update: 'Updated %{resource} %{name}',\n            updateMany: 'Updated %{resource} %{ids}',\n        },\n        inline_event: {\n            create: 'created %{resource} %{name}',\n            delete: 'deleted %{resource} %{name}',\n            deleteMany: 'deleted %{resource} %{ids}',\n            update: 'updated %{resource} %{name}',\n            updateMany: 'updated %{resource} %{ids}',\n        },\n        record_event: {\n            create: 'Created this resource',\n            delete: 'Deleted this resource',\n            update: 'Updated field %{fields} |||| Updated fields %{fields}',\n        },\n        record_many_fields_events: {\n            create: 'Created this resource',\n            delete: 'Deleted this resource',\n            update: 'Updated field %{fields} and 1 other |||| Updated fields %{fields} and %{smart_count} others',\n        },\n        author: '{fullName}',\n        period_filters: {\n            today: 'Today',\n            this_week: 'This week',\n            this_month: 'This month',\n            this_quarter: 'This quarter',\n        },\n        filter: {\n            author: 'By author',\n            date: 'By date',\n            resource: 'By resource',\n        },\n        fields: {\n            author: 'Author',\n            action: 'Action',\n            date: 'Date',\n            resource: 'Resource',\n        },\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { AppBar as DefaultAppBar } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LanguageSwitcher, ToggleThemeButton, } from '../../../../ra-preferences';\n/**\n * An <AppBar> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A theme button to switch between light and dark mode (from @react-admin/ra-preferences)\n * - A language button to switch between the locales (from @react-admin/ra-preferences)\n *\n * It uses the same API as the <AppBar> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {Array<Languages>} languages A list of languages.\n * @param {Languages} languages[] A object describing the language.\n * @param {string} languages[].locale The locale. It should match those passed to the i18nProvider.\n * @param {string} languages[].name The language name.\n * @param {string} defaultLanguage The default language name. It should correspond to one of the passed languages name. Default to the first language name in the languages props.\n *\n * @example Enable the theme switcher for light and dark mode\n *\n * // Nothing to do, the <AppBar> is used in the default <Admin>\n * // and the theme switcher is enabled by default\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Enable the languages switcher\n *\n * import { Admin, AppBar, Layout } from '@react-admin/ra-enterprise';\n * import polyglotI18nProvider from 'ra-i18n-polyglot';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const languages = [\n *     { locale: 'en', name: 'English' },\n *     { locale: 'fr', name: 'Franais' },\n * ];\n *\n * const messages = {\n *     en: [englishMessages],\n *     fr: [frenchMessages],\n * };\n *\n * const i18nProvider = polyglotI18nProvider(\n *     locale => mergeTranslations(...messages[locale]),\n *     'en'\n * );\n *\n * function CustomAppBar(props) {\n *     return <AppBar languages={languages} {...props} />;\n * };\n *\n * function CustomLayout(props) {\n *     return <Layout appBar={CustomAppBar} {...props} />;\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin\n *             dataProvider={dataProvider}\n *             i18nProvider={i18nProvider}\n *             layout={CustomLayout}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var AppBar = function (props) {\n    var languages = props.languages, defaultLanguage = props.defaultLanguage, rest = __rest(props, [\"languages\", \"defaultLanguage\"]);\n    var classes = useStyles(rest);\n    return (React.createElement(DefaultAppBar, __assign({}, props, { elevation: 1 }),\n        React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" }),\n        React.createElement(ToggleThemeButton, null),\n        languages && languages.length > 0 ? (React.createElement(LanguageSwitcher, { languages: languages, defaultLanguage: defaultLanguage || languages[0].name })) : null,\n        props.children));\n};\nAppBar.defaultProps = {\n    languages: [],\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaEnterpriseAppBar',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Breadcrumb as DefaultBreadcrumb, ResourceBreadcrumbItems, } from '../../../../ra-navigation';\n/**\n * A <Breadcrumb> component for ra-enterprise\n *\n */\nexport var Breadcrumb = function (props) {\n    return (React.createElement(DefaultBreadcrumb, __assign({}, props),\n        React.createElement(ResourceBreadcrumbItems, null)));\n};\nBreadcrumb.defaultProps = {};\n","import { useContext } from 'react';\nimport { StateContext, DispatchContext } from './TourProvider';\n/**\n * Hook that handles the tour\n *\n * @returns {[StateType, DispatchStateType]} Current tour state, Tour control functions\n *\n * @example // Accessing tour state\n *\n * import { useTour } from '@react-admin/ra-tour';\n * import tours from './tours';\n *\n * const StepIndicator = () => {\n *     const [{ running, stepIndex, activeTour }] = useTour();\n *     return (\n *         <span>Step ${stepIndex} / ${tours[activeTour].steps.length}</span>\n *     );\n * };\n *\n * @example // Controlling tour\n *\n * import { useTour } from '@react-admin/ra-tour';\n *\n * const StartTourButton = ({ tourName }) => {\n *     const [_, { start, stop, next, previous }] = useTour();\n *     return (\n *         <button onClick={() => start(tourName)}>HELP</button>\n *     );\n * };\n */\nvar useTour = function () {\n    var stateContextHook = useContext(StateContext);\n    var dispatchContextHook = useContext(DispatchContext);\n    if (dispatchContextHook === undefined || stateContextHook === undefined) {\n        throw new Error('useTour must be used within a TourProvider');\n    }\n    return [stateContextHook, dispatchContextHook];\n};\nexport default useTour;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useTour from '../useTour';\n/**\n * Tooltip UI Component that displays one step of a tour\n *\n * @param {Step} step The step to display\n * @param {number} index The index of the step within its tour\n * @param {boolean} isLastStep True if the current step is the last step of its tour\n * @param {boolean} continuous If true, clicking next on last step brings back to first step\n * @param {Object} tooltipProps Props passed down to the tooltip container\n * @param {Object} backProps Props passed down to the back button container\n * @param {Object} closeProps Props passed down to the close button container\n * @param {Object} primaryProps Props passed down to the primary button (next/last) container\n * @param {Object} skipProps Props passed down to the skip button container\n */\nvar Tooltip = function (_a) {\n    var tooltipProps = _a.tooltipProps, continuous = _a.continuous, backProps = _a.backProps, closeProps = _a.closeProps, primaryProps = _a.primaryProps, skipProps = _a.skipProps, index = _a.index, isLastStep = _a.isLastStep, step = _a.step;\n    var _b = useTour(), _ = _b[0], _c = _b[1], cancel = _c.cancel, stop = _c.stop, next = _c.next, previous = _c.previous;\n    var content = step.content, hideBackButton = step.hideBackButton, locale = step.locale, showSkipButton = step.showSkipButton, title = step.title, styles = step.styles;\n    var output = {\n        primary: locale.close,\n        back: null,\n        skip: null,\n        close: null,\n    };\n    if (continuous) {\n        if (isLastStep) {\n            output.primary = locale.last;\n        }\n        else {\n            output.primary = locale.next;\n        }\n    }\n    if (showSkipButton && !isLastStep) {\n        output.skip = (React.createElement(Button, __assign({}, skipProps, { onClick: function () {\n                cancel();\n            }, \"data-testid\": \"tour-tooltip-skip-button\" }), locale.skip));\n    }\n    if (!hideBackButton && index > 0) {\n        output.back = (React.createElement(Button, __assign({}, backProps, { onClick: function () {\n                previous();\n            }, \"data-testid\": \"tour-tooltip-back-button\" }), locale.back));\n    }\n    output.close = (React.createElement(IconButton, __assign({}, closeProps, { title: locale.close, \"aria-label\": locale.close, onClick: function () {\n            cancel();\n        }, size: \"small\", style: { position: 'absolute', top: 10, right: 10 } }),\n        React.createElement(CloseIcon, null)));\n    return (React.createElement(\"div\", __assign({ key: \"JoyrideTooltip\", style: styles.tooltip }, tooltipProps),\n        React.createElement(\"div\", { style: styles.tooltipContainer },\n            output.close,\n            title && React.createElement(\"h4\", { style: styles.tooltipTitle }, title),\n            content && React.createElement(\"div\", { style: styles.tooltipContent }, content)),\n        React.createElement(\"div\", { style: styles.tooltipFooter },\n            output.skip,\n            output.back,\n            React.createElement(Button, __assign({ variant: \"contained\", color: \"primary\" }, primaryProps, { \"data-testid\": \"tour-tooltip-primary-button\", onClick: function () {\n                    if (isLastStep) {\n                        stop();\n                        return;\n                    }\n                    next();\n                } }), output.primary))));\n};\nexport default Tooltip;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport Joyride from 'react-joyride';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport useTour from './useTour';\nimport Tooltip from './ui/Tooltip';\nimport { useTranslate } from 'react-admin';\nvar ErrorFallback = function (_a) {\n    var error = _a.error, componentStack = _a.componentStack, resetErrorBoundary = _a.resetErrorBoundary;\n    process.env.NODE_ENV !== 'production' &&\n        console.warn('Joyride error', {\n            error: error,\n            componentStack: componentStack,\n            resetErrorBoundary: resetErrorBoundary,\n        });\n    return null;\n};\n/**\n * Component that handles the UI part of the tour.\n *\n * Uses react-joyride\n *\n * @param {TourType} tours List of supported tours\n * @param {any} joyrideProps Props passed down to react-joyride\n */\nvar Tour = function (_a) {\n    var tours = _a.tours, joyrideProps = _a.joyrideProps;\n    var _b = useTour(), _c = _b[0], running = _c.running, stepIndex = _c.stepIndex, activeTour = _c.activeTour, stop = _b[1].stop;\n    var translate = useTranslate();\n    var defaultJoyRideProps = {\n        locale: {\n            back: translate('ra.action.back', { _: 'Back' }),\n            close: translate('ra.action.close', { _: 'Close' }),\n            last: translate('ra-tour.action.last', { _: 'Last' }),\n            next: translate('ra-tour.action.next', { _: 'Next' }),\n            open: translate('ra-tour.action.open', { _: 'Open the dialog' }),\n            skip: translate('ra-tour.action.skip', { _: 'Skip' }),\n        },\n    };\n    if (!activeTour) {\n        return null;\n    }\n    var steps = tours[activeTour].steps;\n    if (!running) {\n        return null;\n    }\n    var stepJoyrideProps = steps[stepIndex]\n        ? steps[stepIndex].joyrideProps\n        : {};\n    return (React.createElement(ErrorBoundary, { FallbackComponent: ErrorFallback, onError: function (error, componentStack) {\n            process.env.NODE_ENV !== 'production' &&\n                console.warn('Joyride error', { error: error, componentStack: componentStack });\n        }, onReset: function () {\n            stop();\n        } },\n        React.createElement(Joyride, __assign({ showProgress: true, showSkipButton: true, disableCloseOnEsc: true, disableOverlayClose: true, spotlightClicks: true, tooltipComponent: Tooltip }, defaultJoyRideProps, joyrideProps, stepJoyrideProps, { steps: steps.map(function (step) { return (__assign(__assign({}, step), { content: typeof step.content === 'string'\n                    ? translate(step.content, {\n                        _: step.content,\n                    })\n                    : step.content })); }), run: true, stepIndex: stepIndex, continuous: true }))));\n};\nexport default Tour;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar reducer = function (state, action) {\n    switch (action.type) {\n        case 'start': {\n            return __assign(__assign({}, state), { running: true, stepIndex: 0, activeTour: action.payload.tour });\n        }\n        case 'pause': {\n            return __assign(__assign({}, state), { running: false });\n        }\n        case 'stop': {\n            return __assign(__assign({}, state), { running: false, stepIndex: 0, activeTour: null });\n        }\n        case 'next': {\n            if (!state.activeTour) {\n                return state;\n            }\n            return __assign(__assign({}, state), { running: true, stepIndex: state.stepIndex + 1 });\n        }\n        case 'previous': {\n            if (!state.activeTour) {\n                return state;\n            }\n            if (state.stepIndex - 1 < 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { running: true, stepIndex: state.stepIndex - 1 });\n        }\n        default: {\n            throw new Error(\"Unhandled action type: \" + action.type);\n        }\n    }\n};\nexport default reducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { useReducer, createContext } from 'react';\nimport Tour from './Tour';\nimport reducer from './reducer';\nexport var StateContext = createContext({\n    running: false,\n    stepIndex: 0,\n    activeTour: null,\n});\nexport var DispatchContext = createContext({});\n/**\n * Wait until getter returns something not null, tries every {interval}ms for {maxTries} times.\n *\n * @param {() => any} getter Function to call repetively\n * @param {number} interval Time between each function call in ms. Defaults to 100.\n * @param {number} maxTries Maximum number of function call before failing. Defaults to 10.\n *\n * @returns {any} What getter returns\n */\nvar waitAndReturn = function (getter, interval, maxTries) {\n    if (interval === void 0) { interval = 100; }\n    if (maxTries === void 0) { maxTries = 10; }\n    return new Promise(function (resolve, reject) {\n        var iterations;\n        iterations = 0;\n        var getterInterval = setInterval(function () {\n            var result = getter();\n            iterations++;\n            if (result) {\n                clearInterval(getterInterval);\n                resolve(result);\n            }\n            if (iterations > maxTries) {\n                reject();\n            }\n        }, interval);\n    });\n};\n/**\n * A provider that handles tour logic and injects UI\n *\n * @example\n *   import tours from './tours';\n *\n *   const MyLayout: FC = props => (\n *       <TourProvider\n *           tours={tours}\n *       >\n *           <Layout {...props} />\n *       </TourProvider>\n *   );\n *\n * @param {{ [id: string]: TourType }} tours List of supported tours\n * @param {Object} tools Tools to be injected into before and after functions\n * @param {StateType} initialState State the tour should be initialized to\n * @param {any} joyrideProps Props passed down to react-joyride\n */\nvar TourProvider = function (_a) {\n    var _b = _a.tours, tours = _b === void 0 ? {} : _b, _c = _a.tools, tools = _c === void 0 ? {} : _c, _d = _a.joyrideProps, joyrideProps = _d === void 0 ? {} : _d, initialState = _a.initialState, children = _a.children;\n    var _e = useReducer(reducer, initialState || {\n        running: false,\n        stepIndex: 0,\n        activeTour: null,\n    }), state = _e[0], dispatch = _e[1];\n    var actions = {\n        start: function (tour) { return __awaiter(void 0, void 0, void 0, function () {\n            var before, step, stepBefore, target;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        before = tours[tour].before;\n                        if (!before) return [3 /*break*/, 2];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        step = tours[tour].steps[0];\n                        stepBefore = step.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 3:\n                        target = _a.sent();\n                        if (!stepBefore) return [3 /*break*/, 5];\n                        return [4 /*yield*/, stepBefore(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        dispatch({ type: 'start', payload: { tour: tour } });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        stop: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, stepAfter, target, globalAfter;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        stepAfter = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!stepAfter) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, stepAfter(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        globalAfter = tours[state.activeTour].after;\n                        if (!globalAfter) return [3 /*break*/, 5];\n                        return [4 /*yield*/, globalAfter(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        dispatch({ type: 'stop' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        cancel: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var globalAfter;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        globalAfter = tours[state.activeTour].after;\n                        if (!globalAfter) return [3 /*break*/, 2];\n                        return [4 /*yield*/, globalAfter(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        dispatch({ type: 'stop' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        next: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, after, target, nextStep_1, before, nextTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        after = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!after) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, after(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        if (!(tours[state.activeTour].steps.length > state.stepIndex + 1)) return [3 /*break*/, 6];\n                        dispatch({ type: 'pause' });\n                        nextStep_1 = tours[state.activeTour].steps[state.stepIndex + 1];\n                        before = nextStep_1.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(nextStep_1.target);\n                            })];\n                    case 4:\n                        nextTarget = _a.sent();\n                        if (!before) return [3 /*break*/, 6];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign(__assign({}, state), { stepIndex: state.stepIndex + 1 }), target: nextTarget }))];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'next' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        previous: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, after, target, previousStep_1, before, previousTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        after = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!after) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, after(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        if (!(state.stepIndex - 1 >= 0)) return [3 /*break*/, 6];\n                        dispatch({ type: 'pause' });\n                        previousStep_1 = tours[state.activeTour].steps[state.stepIndex - 1];\n                        before = previousStep_1.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(previousStep_1.target);\n                            })];\n                    case 4:\n                        previousTarget = _a.sent();\n                        if (!before) return [3 /*break*/, 6];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign(__assign({}, state), { stepIndex: state.stepIndex - 1 }), target: previousTarget }))];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'previous' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n    };\n    return (React.createElement(StateContext.Provider, { value: state },\n        React.createElement(DispatchContext.Provider, { value: actions },\n            React.createElement(Tour, { joyrideProps: joyrideProps, tours: tours }),\n            children)));\n};\nexport default TourProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport inflection from 'inflection';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport { getResources, useTranslate } from 'react-admin';\nimport { MenuItemCategory, MultiLevelMenu, } from '../../../../ra-navigation';\nexport var Menu = function (_a) {\n    var hasDashboard = _a.hasDashboard, props = __rest(_a, [\"hasDashboard\"]);\n    var translate = useTranslate();\n    var resources = useSelector(getResources, shallowEqual);\n    return (React.createElement(MultiLevelMenu, __assign({ variant: \"categories\" }, props),\n        hasDashboard && (React.createElement(MenuItemCategory, { name: \"dashboard\", to: \"/\", exact: true, label: \"Dashboard\", icon: React.createElement(DashboardIcon, null) })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemCategory, { key: resource.name, name: resource.name, to: \"/\" + resource.name, exact: true, label: translatedResourceName(resource, translate), icon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null) })); })));\n};\nMenu.propTypes = {\n    hasDashboard: PropTypes.bool,\n};\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Layout as DefaultLayout, useNotify, useRedirect, useRefresh, useDataProvider, } from 'react-admin';\nimport { useDispatch } from 'react-redux';\nimport { SidebarOpenPreferenceSync, usePreferences, } from '../../../../ra-preferences';\nimport { AppLocationContext } from '../../../../ra-navigation';\nimport { TourProvider } from '../../../../ra-tour';\nimport { AppBar } from './AppBar';\nimport { Menu } from './Menu';\n/**\n * A <Layout> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A breadcrumb on every pages based on the resources (from @react-admin/ra-navigation)\n * - A synchronized sidebar which saves its open/close state in the preferences (from @react-admin/ra-preferences)\n *\n * It uses the same API as the <Layout> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {object} appBar The customized <AppBar>. Default to the @react-admin/ra-enterprise <AppBar>.\n * @param {object} breadcrumb The customized <Breadcrumb>. Default to the @react-admin/ra-enterprise <Breadcrumb>.\n * @param {object} sidebar The customized <Sidebar>. Default to the @react-admin/ra-enterprise <Sidebar>.\n * @param {object} tours An object describing the tours. Default to an empty object.\n *\n * @example Customize the <Layout> main elements (the <AppBar>, the <Breadcrumb> and the <Sidebar>)\n *\n * import {\n *     Admin,\n *     AppBar,\n *     Breadcrumb,\n *     Layout,\n *     Sidebar\n * } from '@react-admin/ra-enterprise';\n *\n * function CustomAppBar(props) {\n *     return <AppBar {...props} />;\n * };\n *\n * function CustomBreadcrumb(props) {\n *     return (\n *         <Breadcrumb {...props}>\n *             // You custom beadcrumb.\n *             // See @react-admin/ra-navigation for more details about breadcrumbs.\n *         </Breadcrumb>\n *     );\n * };\n *\n * function CustomSidebar(props) {\n *     return <Sidebar {...props} />;\n * };\n *\n * function CustomLayout(props) {\n *     return (\n *         <Layout\n *             appBar={CustomAppBar}\n *             breadcrumb={CustomBreadcrumb}\n *             sidebar={CustomSidebar}\n *             {...props}\n *         />\n *     );\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin\n *              dataProvider={dataProvider}\n *              layout={CustomLayout}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Activate the tour (from @react-admin/ra-tour)\n *\n * import { Admin, Layout } from '@react-admin/ra-enterprise';\n *\n * const tours = {\n *     example: {\n *         steps: [\n *             // Put your tour steps here\n *         ]\n *     }\n * };\n *\n * function CustomLayout(props) {\n *     return (\n *         <Layout tours={tours} {...props} />\n *     );\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var Layout = function (props) {\n    var appBar = props.appBar, dashboard = props.dashboard, sidebar = props.sidebar, menu = props.menu, tours = props.tours, rest = __rest(props, [\"appBar\", \"dashboard\", \"sidebar\", \"menu\", \"tours\"]);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var dataProvider = useDataProvider();\n    var dispatch = useDispatch();\n    var _a = usePreferences(RA_TOUR_PREFERENCE_KEY), tourPreferences = _a[0], setTourPreferences = _a[1];\n    return (React.createElement(AppLocationContext, { hasDashboard: !!dashboard },\n        React.createElement(TourProvider, { initialState: tourPreferences, tours: tours, tools: {\n                notify: notify,\n                redirect: redirect,\n                refresh: refresh,\n                dataProvider: dataProvider,\n                setTourPreferences: setTourPreferences,\n                dispatch: dispatch,\n            } },\n            React.createElement(React.Fragment, null,\n                React.createElement(SidebarOpenPreferenceSync, null),\n                React.createElement(DefaultLayout, __assign({ appBar: appBar, sidebar: sidebar, menu: menu }, rest), props.children)))));\n};\nLayout.defaultProps = {\n    appBar: AppBar,\n    menu: Menu,\n    tours: {},\n};\nvar RA_TOUR_PREFERENCE_KEY = '@react-admin/ra-tour';\n","import merge from 'lodash/merge';\n/**\n * Returns a configured theme from type method that builds a theme from a palette type (\"light\" or \"dark\").\n *\n * It should be used for example to build the method \"themeFromType\"\n * required by the <PreferencesBasedThemeProvider> of '@react-admin/ra-preferences'.\n *\n * @param {ThemeOptions} theme The base theme\n * @param {ThemeOptions} lightTheme A special theme for the light mode\n * @param {ThemeOptions} darkTheme A special theme for the dark mode\n *\n * @returns A function that builds the theme from a palette type (\"light\" or \"dark\").\n *\n */\nexport var buildThemeFromTypeMethod = function (theme, lightTheme, darkTheme) {\n    return function (type) {\n        return merge({}, theme, type === 'dark' ? defaultDarkTheme : defaultLightTheme, type === 'dark' ? darkTheme || {} : lightTheme || {});\n    };\n};\nvar overrides = {\n    RaTopToolbar: {\n        root: {\n            alignItems: 'center',\n            minHeight: 'auto',\n            paddingTop: 0,\n            width: '100%',\n        },\n    },\n    RaListToolbar: {\n        root: {\n            alignItems: 'center',\n            paddingTop: 0,\n            width: '100%',\n        },\n        actions: {\n            alignItems: 'center',\n            minHeight: 'auto',\n            paddingTop: 0,\n            width: '100%',\n        },\n        toolbar: {\n            minHeight: 'auto',\n            width: '100%',\n        },\n    },\n    RaSidebar: {\n        drawerPaper: {\n            width: 96,\n        },\n        fixed: {\n            zIndex: 1200,\n        },\n    },\n};\nexport var defaultDarkTheme = {\n    palette: {\n        type: 'dark',\n        primary: {\n            main: '#90caf9',\n        },\n        background: {\n            default: '#313131',\n        },\n    },\n    overrides: overrides,\n};\nexport var defaultLightTheme = {\n    palette: {\n        type: 'light',\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            main: '#283593',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n    },\n    overrides: overrides,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport merge from 'lodash/merge';\nimport { PreferencesBasedThemeProvider } from '../../../ra-preferences';\nimport { reducer as tree } from '../../../ra-tree';\nimport { reducer as locks } from '../../../ra-realtime';\nimport { theme as navigationTheme } from '../../../ra-navigation';\nimport { Admin as DefaultAdmin, } from 'react-admin';\nimport { buildI18nProvider } from './i18nProvider';\nimport { Layout } from './layout';\nimport { buildThemeFromTypeMethod } from './themes';\n/**\n * An <Admin> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A Breadcrumb based on resources (from @react-admin/ra-navigation)\n * - A light and dark mode for the theme (from @react-admin/ra-preferences)\n * - A preference based sidebar state (from @react-admin/ra-preferences)\n * - The possibility to lock a resource (from @react-admin/ra-realtime)\n *\n * It uses the same API as the <Admin> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {object} customReducers Augment the data provider with your own reducers (optional). The tree and the locks reducers are added by default.\n * @param {object} i18nProvider Replace the ra-enterprise i18nProvider (optional). The default one enables the translations from ra-enterprise.\n * @param {ThemeOptions} theme The main theme. It will be merged with the light or the dark theme.\n * @param {ThemeOptions} lightTheme Override the light mode with your own light theme (optional).\n * @param {ThemeOptions} darkTheme Override the dark mode with your own dark theme (optional).\n *\n * @example Basic usage\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Override the dark theme\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const darkTheme = {\n *     palette: {\n *         type: 'dark', // Don't forget to specify the palette type\n *         primary: {\n *             main: '#90caf9',\n *         },\n *         secondary: {\n *             main: '#ffff00',\n *         },\n *     },\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider} darkTheme={darkTheme}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Pass your own translations\n *\n * import { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\n *\n * const messages = {\n *     en: {\n *         // Put your english translations here\n *     },\n *     fr: {\n *         // Put your french translations here\n *     },\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * const i18nProvider = buildI18nProvider(messages)\n *\n * function App(props) {\n *     return (\n *         <Admin\n *             dataProvider={dataProvider}\n *             i18nProvider={i18nProvider}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var Admin = function (props) {\n    var customReducers = props.customReducers, darkTheme = props.darkTheme, i18nProvider = props.i18nProvider, lightTheme = props.lightTheme, theme = props.theme, rest = __rest(props, [\"customReducers\", \"darkTheme\", \"i18nProvider\", \"lightTheme\", \"theme\"]);\n    var mergedCustomReducers = merge({}, {\n        tree: tree,\n        locks: locks,\n    }, customReducers);\n    return (React.createElement(PreferencesBasedThemeProvider, { themeFromType: buildThemeFromTypeMethod(merge({}, navigationTheme, theme), lightTheme, darkTheme) },\n        React.createElement(DefaultAdmin, __assign({ i18nProvider: i18nProvider || buildI18nProvider(), customReducers: mergedCustomReducers }, rest))));\n};\nAdmin.defaultProps = {\n    layout: Layout,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { FilterContext, FilterForm as RaFilterForm, useListContext, } from 'react-admin';\nimport get from 'lodash/get';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core';\n/**\n * A customized version of react-admin FilterForm component which takes less\n * space when there are no filters.\n */\nexport var FilterForm = function (props) {\n    var _a;\n    var filtersProps = props.filters, initialValues = props.initialValues;\n    var _b = useListContext(props).displayedFilters, displayedFilters = _b === void 0 ? {} : _b;\n    var classes = useStyles();\n    var filters = useContext(FilterContext) || filtersProps;\n    var shownFilters = filters.filter(function (filterElement) {\n        return filterElement.props.alwaysOn ||\n            displayedFilters[filterElement.props.source] ||\n            typeof get(initialValues, filterElement.props.source) !==\n                'undefined';\n    });\n    return (React.createElement(RaFilterForm, __assign({}, props, { className: classnames((_a = {},\n            _a[classes.emptyForm] = shownFilters.length === 0,\n            _a)) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    emptyForm: {\n        minHeight: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterContext, ListToolbar as RaListToolbar, } from 'react-admin';\nimport { FilterForm } from './FilterForm';\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, [\"classes\", \"filters\", \"actions\"]);\n    var classes = useStyles(props);\n    return Array.isArray(filters) ? (React.createElement(FilterContext.Provider, { value: filters },\n        React.createElement(Toolbar, { className: classes.toolbar },\n            React.createElement(\"span\", null),\n            actions &&\n                React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions }), actions.props))),\n        React.createElement(FilterForm, null))) : (React.createElement(React.Fragment, null,\n        React.createElement(Toolbar, { className: classes.toolbar }, actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))),\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' }))));\n};\nListToolbar.propTypes = __assign(__assign({}, RaListToolbar.propTypes), { breadcrumb: PropTypes.element });\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a.width = '100%',\n            _a),\n        actions: (_b = {\n                alignItems: 'center',\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b.width = '100%',\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nexport default React.memo(ListToolbar);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, useResourceDefinition, CreateButton, ExportButton, ListActions as RaListActions, TopToolbar, FilterContext, FilterButton, } from 'react-admin';\nimport { Breadcrumb } from '../layout';\nexport var ListActions = function (props) {\n    var breadcrumb = props.breadcrumb, className = props.className, exporter = props.exporter, filtersProp = props.filters, rest = __rest(props, [\"breadcrumb\", \"className\", \"exporter\", \"filters\"]);\n    var _a = useListContext(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;\n    var resource = useResourceContext(rest);\n    var filters = useContext(FilterContext) || filtersProp;\n    var hasCreate = useResourceDefinition(rest).hasCreate;\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        breadcrumb,\n        filtersProp\n            ? cloneElement(filtersProp, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            })\n            : filters && React.createElement(FilterButton, null),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = __assign(__assign({}, RaListActions.propTypes), { breadcrumb: PropTypes.element });\nListActions.defaultProps = {\n    breadcrumb: React.createElement(Breadcrumb, { variant: \"actions\" }),\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { defaultExporter, useListContext, getListControllerProps, useVersion, sanitizeListRestProps, Empty, ListView as RaListView, Title, Pagination as DefaultPagination, BulkDeleteButton, BulkActionsToolbar, } from 'react-admin';\nimport { ListActions } from './ListActions';\nimport ListToolbar from './ListToolbar';\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, bulkActionButtons = props.bulkActionButtons, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, empty = props.empty, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, filters = props.filters, pagination = props.pagination, title = props.title, hasList = props.hasList, hasEdit = props.hasEdit, hasShow = props.hasShow, hasCreate = props.hasCreate, syncWithLocation = props.syncWithLocation, rest = __rest(props, [\"actions\", \"aside\", \"bulkActionButtons\", \"children\", \"classes\", \"className\", \"component\", \"empty\", \"exporter\", \"filters\", \"pagination\", \"title\", \"hasList\", \"hasEdit\", \"hasShow\", \"hasCreate\", \"syncWithLocation\"]);\n    var controllerProps = getListControllerProps(props); // deprecated, to be removed in v4\n    var listContext = useListContext(props);\n    var classes = useStyles(props);\n    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;\n    var version = useVersion();\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, listContext)),\n                aside && cloneElement(aside, listContext))));\n    };\n    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;\n    return (React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeListRestProps(rest)),\n        React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n        shouldRenderEmptyPage && empty !== false\n            ? cloneElement(empty, listContext)\n            : renderList()));\n};\nListView.propTypes = RaListView.propTypes;\nvar DefaultBulkActionButtons = function (props) { return (React.createElement(BulkDeleteButton, __assign({}, props))); };\nListView.defaultProps = {\n    actions: React.createElement(ListActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext, FilterButton, } from 'react-admin';\nimport { FilterForm } from './FilterForm';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\n/**\n * A customized version of the Filter button/form combo from react-admin which\n * uses our custom FilterForm. This fixes the issue where the filter form is taking\n * too much vertical space even though there are no filters.\n *\n * @example\n *\n * const PostFilter = (props) => (\n *     <Filter {...props}>\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *         <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\n *     </Filter>\n * );\n *\n * export const PostList = (props) => (\n *     <List {...props} filters={<PostFilter />}>\n *         ...\n *     </List>\n * );\n *\n */\nexport var Filter = function (props) {\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, showFilter = _a.showFilter, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButton, __assign({ className: classes.button, resource: resource, filters: React.Children.toArray(children), showFilter: showFilter, displayedFilters: displayedFilters, filterValues: filterValues }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilter.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\n","export const CHANGE_THEME = 'change-theme'\nexport const UPDATE_DASHBOARD = 'dashboard/update'\n","import { Action } from 'redux'\nimport { CHANGE_THEME } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\n\nexport type ThemeState = {\n  theme: {\n    darkMode: 'light' | 'dark'\n  }\n}\n\nconst initialState = {\n  darkMode:\n    localStorage.getItem(`${identity}.darkMode`) === 'dark' ? 'dark' : 'light',\n}\n\nfunction themeReducer(state = initialState, action: Action<any>) {\n  if (action.type === CHANGE_THEME) {\n    if (state.darkMode === 'dark')\n      localStorage.setItem(`${identity}.darkMode`, 'light')\n    else localStorage.setItem(`${identity}.darkMode`, 'dark')\n    return {\n      ...state,\n      darkMode: state.darkMode === 'dark' ? 'light' : 'dark',\n    }\n  }\n  return state\n}\n\nexport default themeReducer\n","export enum ResourceName {\n  ACCESS_DATES = 'access-dates',\n  ACCESSES = 'accesses',\n  ACCESS_USINGS = 'access-usings',\n  BOOKINGS = 'bookings',\n  ENGINES = 'engines',\n  ENTRANCES = 'entrances',\n  EVENTS = 'events',\n  COMPANIES = 'companies',\n  CUSTOMERS = 'customers',\n  LOGS = 'logs',\n  OBJECTS = 'objects',\n  PALMS = 'palms',\n  ROLES = 'roles',\n  PERMISSIONS = 'permissions',\n  PASSAGES = 'passages',\n  STATS_OVERALL_VIEW_LIST = 'stats-overall-view-list',\n  STATS_OVERALL_VIEW = 'stats-overall-view',\n  TICKETS = 'tickets',\n  TICKET_LOGS = 'ticket-logs',\n  TRIBUNES = 'tribunes',\n  BLOCKS = 'blocks',\n  SEATS = 'seats',\n  USERS = 'users',\n  VARIANTS = 'variants',\n  DEVICE_CATEGORIES = 'device-categories',\n  DETECTORS = 'detectors',\n}\n","import { DataProvider } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) => Promise.resolve({ data: {}, total: 0 }),\n} as DataProvider\n\nexport default provider\n","export enum AccessActivePeriodStartingOptions {\n  NO_LIMIT = 'NO_LIMIT',\n  PURCHASE_DATE = 'PURCHASE_DATE',\n  FIRST_USE = 'FIRST_USE',\n}\n","export enum AccessBonuses {\n  N = 'N',\n  Y = 'Y',\n  Z = 'Z',\n  D = 'D',\n}\n","export enum DayOfWeek {\n  Sunday = 'Sunday',\n  Monday = 'Monday',\n  Tuesday = 'Tuesday',\n  Wednesday = 'Wednesday',\n  Thursday = 'Thursday',\n  Friday = 'Friday',\n  Saturday = 'Saturday',\n}\n","import { CreateResult, DataProvider, UpdateManyResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateMany: async (resource, params): Promise<UpdateManyResult> =>\n    Promise.resolve({\n      data: [1],\n    }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create: async (resource, params): Promise<CreateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { AccessDto } from '../../dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../enum/AccessBonuses'\nimport { DayOfWeek } from '../../enum/DayOfWeek'\n\nconst fakeAccesses: AccessDto[] = [\n  {\n    id: 1,\n    name: 'access1',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    name: 'access2',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    name: 'access3',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    name: 'access4',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    name: 'access5',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    name: 'access6',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    name: 'access7',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    name: 'access8',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    name: 'access9',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    name: 'access10',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeAccesses, total: fakeAccesses.length }),\n} as DataProvider\n\nexport default provider\n","export enum BlockType {\n  NUMBERED = 'NUMBERED',\n  NOT_NUMBERED = 'NOT_NUMBERED',\n  DYNAMIC = 'DYNAMIC',\n}\n","import { DataProvider } from 'react-admin'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BlockType } from '../../enum/BlockType'\n\nconst fakeBlocks: BlockDto[] = [\n  {\n    id: 0,\n    name: 'Sektor 1',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 1,\n    name: 'Sektor 2',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 2,\n    name: 'Sektor 3',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 3,\n    name: 'Sektor 4',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 4,\n    name: 'Sektor 5',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 5,\n    name: 'Sektor 6',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 6,\n    name: 'Sektor 7',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 7,\n    name: 'Sektor 8',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 2,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 8,\n    name: 'Sektor 9',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 2,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeBlocks, total: fakeBlocks.length }),\n} as DataProvider\n\nexport default provider\n","export enum BookingDisabledOption {\n  ADMIN = 'ADMIN',\n  BAN = 'BAN',\n  STORNO = 'STORNO',\n  MISTAKE = 'MISTAKE',\n}\n","export enum BookingType {\n  NORMAL = 'NORMAL',\n  ABO = 'ABO',\n  INFIX = 'INFIX',\n  SERVICE = 'SERVICE',\n  POINTS = 'POINTS',\n}\n","import { DataProvider, UpdateResult } from 'react-admin'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { BookingDisabledOption } from '../../enum/BookingDisabledOption'\nimport { BookingType } from '../../enum/BookingType'\n\nconst fakeBookingsList: BookingDto[] = [\n  {\n    id: 1,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeBookingsList, total: fakeBookingsList.length }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update: async (resource, params): Promise<UpdateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeBookingsList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum CustomerDocumentType {\n  OTHER = 'OTHER',\n  ID_CARD = 'ID_CARD',\n  PASSPORT = 'PASSPORT',\n  STUDENT_CARD = 'STUDENT_CARD',\n  SCHOOL_ID = 'SCHOOL_ID',\n  DRIVING_LICENSE = 'DRIVING_LICENSE',\n}\n","export enum Gender {\n  MALE = 'MALE',\n  FEMALE = 'FEMALE',\n}\n","import { DataProvider } from 'react-admin'\nimport { CompanyDto } from '../../dto/company.dto'\n\nconst fakeCompanies: CompanyDto[] = [\n  {\n    id: 0,\n    name: '0',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 1,\n    name: '1',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 2,\n    name: '2',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 3,\n    name: '3',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 4,\n    name: '4',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 5,\n    name: '5',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 6,\n    name: '6',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 7,\n    name: '7',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 8,\n    name: '8',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 9,\n    name: '9',\n    usersIds: [],\n    eventsIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeCompanies, total: fakeCompanies.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { CustomerDto } from '../../dto/customer.dto'\nimport { CustomerDocumentType } from '../../enum/CustomerDocumentType'\nimport { Gender } from '../../enum/Gender'\n\nconst fakeCustomers: CustomerDto[] = [\n  {\n    id: 1,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 2,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 3,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 4,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 5,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 6,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 7,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 8,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 9,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 10,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeCustomers.find((c) => `${c.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum EventStatus {\n  INACTIVE = 'INACTIVE',\n  ACTIVE = 'ACTIVE',\n  IN_TRANSITION = 'IN_TRANSITION',\n}\n","import { DataProvider } from 'react-admin'\nimport { DetectorDto } from '../../dto/device/detector/detector.dto'\n\nconst fakeDetectors: DetectorDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeDetectors, total: fakeDetectors.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { DeviceCategoryDto } from '../../dto/device-category/device-category.dto'\n\nconst fakeDeviceCategories: DeviceCategoryDto[] = [\n  {\n    id: 1,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 2,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 3,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 4,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 5,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 6,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 7,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 8,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 9,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 10,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeDeviceCategories,\n      total: fakeDeviceCategories.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\n\nconst fakeEngines: EngineDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEngines, total: fakeEngines.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EntranceDto } from '../../dto/entrance.dto'\n\nconst fakeEntrances: EntranceDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEntrances, total: fakeEntrances.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { EventStatus } from '../../enum/EventStatus'\n\nconst fakeEvents: EventDto[] = [\n  {\n    id: 1,\n    name: 'Event1',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 2,\n    name: 'Event2',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 3,\n    name: 'Event3',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 4,\n    name: 'Event4',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 5,\n    name: 'Event5',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 6,\n    name: 'Event6',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 7,\n    name: 'Event7',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 8,\n    name: 'Event8',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 9,\n    name: 'Event9',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 10,\n    name: 'Event10',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEvents, total: fakeEvents.length }),\n} as DataProvider\n\nexport default provider\n","export enum TicketType {\n  K = 'K',\n  M = 'M',\n  Z = 'Z',\n  N = 'N',\n  P = 'P',\n  U = 'U',\n  R = 'R',\n  GENERATE = 'GENERATE',\n}\n","import { DataProvider } from 'react-admin'\nimport { ExtendedLog } from '../../dto/extended-log'\n\nconst fakeLogs: ExtendedLog[] = [\n  {\n    id: 1,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52815,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 2,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52816,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 3,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 1111,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 4,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 11112,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 5,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 16612,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 6,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 167782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 7,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 122782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 8,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 189782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 9,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 183332,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 10,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 656565,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeLogs, total: fakeLogs.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { ObjectDto } from '../../dto/object.dto'\n\nconst fakeObjects: ObjectDto[] = [\n  {\n    id: 0,\n    name: 'Stadion 0',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 1,\n    name: 'Stadion 1',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 2,\n    name: 'Stadion 2',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 3,\n    name: 'Stadion 3',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 4,\n    name: 'Stadion 4',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 5,\n    name: 'Stadion 5',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 6,\n    name: 'Stadion 6',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 7,\n    name: 'Stadion 7',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 8,\n    name: 'Stadion 8',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 9,\n    name: 'Stadion 9',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeObjects, total: fakeObjects.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\n\nconst fakePalms: PalmDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePalms, total: fakePalms.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\n\nconst fakePassages: PassageDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePassages, total: fakePassages.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PermissionDto } from '../../dto/permission.dto'\n\nconst fakePermissions: PermissionDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePermissions, total: fakePermissions.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { RoleDto } from '../../dto/role/role.dto'\n\nconst fakeRoles: RoleDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeRoles, total: fakeRoles.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { SeatDto } from '../../dto/seat.dto'\n\nconst fakeSeats: SeatDto[] = [\n  {\n    id: 1,\n    rowAlias: 'Rzd 1',\n    numberAlias: '1',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 2,\n    rowAlias: 'Rzd 1',\n    numberAlias: '2',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 3,\n    rowAlias: 'Rzd 1',\n    numberAlias: '3',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 4,\n    rowAlias: 'Rzd 1',\n    numberAlias: '4',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 5,\n    rowAlias: 'Rzd 1',\n    numberAlias: '5',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 6,\n    rowAlias: 'Rzd 1',\n    numberAlias: '6',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 7,\n    rowAlias: 'Rzd 1',\n    numberAlias: '7',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 8,\n    rowAlias: 'Rzd 1',\n    numberAlias: '8',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeSeats, total: fakeSeats.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventOverallView } from '../../stats/overall-view/list/event-overall-view'\n\nconst fakeStatsOverallViewList: EventOverallView[] = [\n  {\n    id: 1,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 2,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 3,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 4,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 5,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeStatsOverallViewList,\n      total: fakeStatsOverallViewList.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { DateTime } from '../../common/date-time'\nimport { OverallView } from '../../stats/overall-view/overall-view'\n\nconst fakeStatsOverallViewList: OverallView[] = [\n  {\n    id: 1,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 2,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 3,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 4,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 5,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeStatsOverallViewList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { TicketDto } from '../../dto/ticket.dto'\nimport { TicketType } from '../../enum/TicketType'\n\nconst fakeTickets: TicketDto[] = [\n  {\n    id: 1,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52815,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52816,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    ticketCode: '010000011492',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52817,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    ticketCode: '411000006572',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52818,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    ticketCode: '871000006824',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52819,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    ticketCode: '370000011495',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52820,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    ticketCode: '450000011501',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52821,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    ticketCode: '630000011502',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52822,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    ticketCode: '020000011503',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52823,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    ticketCode: '310000011504',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52824,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTickets, total: fakeTickets.length }),\n} as DataProvider\n\nexport default provider\n","export enum TribuneType {\n  MANUAL = 'MANUAL',\n  VIRTUAL = 'VIRTUAL',\n}\n","import { DataProvider } from 'react-admin'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { TribuneType } from '../../enum/TribuneType'\n\nconst fakeTribunes: TribuneDto[] = [\n  {\n    id: 0,\n    name: 'Trybuna A',\n    code: 'AB999',\n    type: TribuneType.VIRTUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 1,\n    name: 'Trybuna A',\n    code: 'AB000',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 2,\n    name: 'Trybuna B',\n    code: 'AB890',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 3,\n    name: 'Trybuna B',\n    code: 'AB777',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 4,\n    name: 'Trybuna A',\n    code: 'AB456',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 5,\n    name: 'Trybuna A',\n    code: 'AB333',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 6,\n    name: 'Trybuna C',\n    code: 'AB225',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 7,\n    name: 'Trybuna C',\n    code: 'AB222',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 8,\n    name: 'Trybuna D',\n    code: 'AB333',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 9,\n    name: 'Trybuna D',\n    code: 'AB555',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTribunes, total: fakeTribunes.length }),\n} as DataProvider\n\nexport default provider\n","export enum DeviceDirection {\n  IN = 'IN',\n  OUT = 'OUT',\n  INFO = 'INFO',\n}\n","import { DataProvider } from 'react-admin'\nimport { UserDto } from '../../dto/user.dto'\n\nconst fakeUsers: UserDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeUsers, total: fakeUsers.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { VariantDto } from '../../dto/variant.dto'\n\nconst fakeVariants: VariantDto[] = [\n  {\n    id: 1,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 2,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 3,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 4,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 5,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 6,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 7,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 8,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 9,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 10,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeVariants, total: fakeVariants.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport fakeAccessDatesProvider from './providers/fake-access-dates.provider'\nimport fakeAccessUsingsProvider from './providers/fake-access-usings.provider'\nimport fakeAccessesProvider from './providers/fake-accesses.provider'\nimport fakeBlocksProvider from './providers/fake-blocks.provider'\nimport fakeBookingsProvider from './providers/fake-bookings.provider'\nimport fakeCompaniesProvider from './providers/fake-companies.provider'\nimport fakeCustomersProvider from './providers/fake-customers.provider'\nimport fakeDetectorsProvider from './providers/fake-detectors.provider'\nimport fakeDeviceCategoriesProvider from './providers/fake-device-categories.provider'\nimport fakeEnginesProvider from './providers/fake-engines.provider'\nimport fakeEntrancesProvider from './providers/fake-entrances.provider'\nimport fakeEventsProvider from './providers/fake-events.provider'\nimport fakeLogsProvider from './providers/fake-logs.provider'\nimport fakeObjectsProvider from './providers/fake-objects.provider'\nimport fakePalmsProvider from './providers/fake-palms.provider'\nimport fakePassagesProvider from './providers/fake-passages.provider'\nimport fakePermissionsProvider from './providers/fake-permissions.provider'\nimport fakeRolesProvider from './providers/fake-roles.provider'\nimport fakeSeatsProvider from './providers/fake-seats.provider'\nimport fakeStatsOverallViewListProvider from './providers/fake-stats-overall-view-list.provider'\nimport fakeStatsOverallViewProvider from './providers/fake-stats-overall-view.provider'\nimport fakeTicketsProvider from './providers/fake-tickets.provider'\nimport fakeTribunesProvider from './providers/fake-tribunes.provider'\nimport fakeUsersProvider from './providers/fake-user.provider'\nimport fakeVariantsProvider from './providers/fake-variants.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: fakeAccessDatesProvider,\n  [ResourceName.ACCESSES]: fakeAccessesProvider,\n  [ResourceName.ACCESS_USINGS]: fakeAccessUsingsProvider,\n  [ResourceName.BOOKINGS]: fakeBookingsProvider,\n  [ResourceName.COMPANIES]: fakeCompaniesProvider,\n  [ResourceName.CUSTOMERS]: fakeCustomersProvider,\n  [ResourceName.DETECTORS]: fakeDetectorsProvider,\n  [ResourceName.DEVICE_CATEGORIES]: fakeDeviceCategoriesProvider,\n  [ResourceName.ENGINES]: fakeEnginesProvider,\n  [ResourceName.ENTRANCES]: fakeEntrancesProvider,\n  [ResourceName.EVENTS]: fakeEventsProvider,\n  [ResourceName.LOGS]: fakeLogsProvider,\n  [ResourceName.OBJECTS]: fakeObjectsProvider,\n  [ResourceName.PALMS]: fakePalmsProvider,\n  [ResourceName.ROLES]: fakeRolesProvider,\n  [ResourceName.PERMISSIONS]: fakePermissionsProvider,\n  [ResourceName.PASSAGES]: fakePassagesProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: fakeStatsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: fakeStatsOverallViewListProvider,\n  [ResourceName.TRIBUNES]: fakeTribunesProvider,\n  [ResourceName.BLOCKS]: fakeBlocksProvider,\n  [ResourceName.SEATS]: fakeSeatsProvider,\n  [ResourceName.TICKETS]: fakeTicketsProvider,\n  [ResourceName.TICKET_LOGS]: fakeLogsProvider,\n  [ResourceName.TRIBUNES]: fakeTribunesProvider,\n  [ResourceName.BLOCKS]: fakeBlocksProvider,\n  [ResourceName.SEATS]: fakeSeatsProvider,\n  [ResourceName.USERS]: fakeUsersProvider,\n  [ResourceName.VARIANTS]: fakeVariantsProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import { AuthProvider } from 'react-admin'\n\nconst authProvider: AuthProvider = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(new Set([])),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'no-auth',\n      fullName: 'no-auth',\n    }),\n}\n\nexport default authProvider\n","export type ContentRangeHeaderValue = `bytes ${number}-${number}/${number}`\n\nexport const contentRangeParser = (headerValue: ContentRangeHeaderValue) => {\n  if (!headerValue) {\n    // 'content-range' header should exist otherwise pagination doesn't work\n    return {\n      total: 0,\n    }\n  }\n  const summary = headerValue.split(' ')[1]\n  const split = summary.split('-')\n  const rangeFrom = split[0]\n  const summarySecondPartSplit = split[1].split('/')\n  const rangeTo = summarySecondPartSplit[0]\n  const total = summarySecondPartSplit[1]\n  return {\n    rangeFrom: parseInt(rangeFrom, 10),\n    rangeTo: parseInt(rangeTo, 10),\n    total: parseInt(total, 10),\n  }\n}\n","import { fetchUtils } from 'react-admin'\nimport { ContentRangeHeaderValue, contentRangeParser } from './header.parser'\n\nconst getToken = () => localStorage.getItem('token') as string\n\nconst baseHeaders: HeadersInit = {\n  'Content-Type': 'application/json',\n}\n\nconst authHeaders = (token = getToken()): HeadersInit => ({\n  ...baseHeaders,\n  Authorization: `Bearer ${token}`,\n})\n\nconst getWithHeaders = <T>(url: string, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'GET',\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<T>)\n\nconst postWithHeaders = <T, K>(url: string, body: T, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const get = <T>(baseUrl: string, path?: string) =>\n  getWithHeaders<T>(`${baseUrl}${path || ''}`, authHeaders())\n\nexport const getWithToken = <T>(url: string, token: string) =>\n  getWithHeaders<T>(url, authHeaders(token))\n\nexport const getByConditions = <T>(\n  baseUrl: string,\n  path: string,\n): Promise<T[]> =>\n  getWithHeaders<T[]>(`${baseUrl}/GetByConditions/${path}`, authHeaders())\n\nexport const getWithPagination = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json, headers }) =>\n      Promise.resolve({\n        data: json as T,\n        range: contentRangeParser(\n          headers.get('content-range') as ContentRangeHeaderValue,\n        ),\n      }),\n    )\n\nexport const authPost = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, baseHeaders)\n\nexport const post = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, authHeaders())\n\nexport const patch = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PATCH',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const put = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PUT',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n","const API_V1 = `${process.env.REACT_APP_API_BASE_URL}/api/v1`\nexport const AUTH_URL = `${API_V1}/Authorization/Authenticate`\nexport const ROLES_URL = `${API_V1}/User/GetRoles`\nexport const ACCESS_USINGS = `${API_V1}/ticketManagement/AccessUsings`\nexport const ACCESSES_URL = `${API_V1}/ticketManagement/Accesses`\nexport const ACCESS_DATES_URL = `${API_V1}/ticketManagement/AccessDates`\nexport const BOOKINGS_URL = `${API_V1}/ticketManagement/Bookings`\nexport const CUSTOMERS_URL = `${API_V1}/ticketManagement/Customers`\nexport const EVENTS_URL = `${API_V1}/ticketManagement/Events`\nexport const EXTENDED_LOGS_URL = `${API_V1}/ticketManagement/Logs/GetExtendedLogByConditions`\nexport const TICKETS_URL = `${API_V1}/ticketManagement/Tickets`\nexport const VARIANTS_URL = `${API_V1}/ticketManagement/Variants`\nexport const SEATS_URL = `${API_V1}/ticketManagement/Seats`\nexport const BLOCKS_URL = `${API_V1}/ticketManagement/Blocks`\nexport const TRIBUNES_URL = `${API_V1}/ticketManagement/Tribunes`\nexport const OBJECTS_URL = `${API_V1}/ticketManagement/Objects`\nexport const ENGINES_URL = `${API_V1}/deviceManagement/Engines`\nexport const PALMS_URL = `${API_V1}/deviceManagement/Palms`\nexport const ADMINISTRATOR_URL = `${API_V1}/Administrator`\nexport const ENTRANCES_URL = `${API_V1}/deviceManagement/Entrances`\nexport const DEVICE_CATEGORIES_URL = `${API_V1}/deviceManagement/DeviceCategories`\nexport const PASSAGES_URL = `${API_V1}/deviceManagement/Passages`\nexport const DETECTORS_URL = `${API_V1}/deviceManagement/Detectors`\n","import { AuthProvider } from 'react-admin'\nimport { authPost, getWithToken } from '../common/fetch.utils'\nimport { AuthDto } from '../dto/auth.dto'\nimport { AUTH_URL, ROLES_URL } from '../api-urls'\nimport { AuthRequest } from './auth.request'\nimport { RoleDto } from '../dto/role/role.dto'\n\nconst authProvider: AuthProvider = {\n  login: async ({ username, password }) => {\n    const { token } = await authPost<AuthRequest, AuthDto>(AUTH_URL, {\n      login: username,\n      password,\n    })\n    const roleDtos = await getWithToken<RoleDto[]>(ROLES_URL, token)\n    const roles = roleDtos.map((r) => r.name)\n    localStorage.setItem('username', username)\n    localStorage.setItem('token', token)\n    localStorage.setItem('roles', roles.join())\n  },\n  logout: () => {\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    localStorage.removeItem('roles')\n    return Promise.resolve()\n  },\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('username')\n      localStorage.removeItem('token')\n      localStorage.removeItem('roles')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: (): Promise<Set<string>> => {\n    const roles = localStorage.getItem('roles') as string\n    return Promise.resolve(new Set(roles?.split(',') || []))\n  },\n  getIdentity: () =>\n    Promise.resolve({\n      id: localStorage.getItem('username') as string,\n    }),\n}\n\nexport default authProvider\n","export type DateTime =\n  `${number}-${number}-${number}T${number}:${number}:${number}.${number}` // 2021-07-13T15:11:06.771267\n\nexport const formatDate = (value: string | undefined) => {\n  if (value == null || value === '') {\n    return ''\n  }\n  return value.includes('T') ? value.substring(0, 10) : value\n}\n\nexport const formatTime = (value: string | undefined) => {\n  if (value == null || value === '') {\n    return ''\n  }\n  return value.includes('T') ? value.substring(11, 16) : value\n}\n\nexport const ignoreTimezoneOffset = (value: Date) => {\n  const tzoffset = value.getTimezoneOffset() * 60000 //offset in milliseconds\n  return new Date(value.getTime() - tzoffset)\n}\n","import { PaginationPayload } from 'ra-core'\nimport { TicketAPISortPayload } from './ticket-api-get-list.params'\n\nexport const filterParamsComposer = (\n  lambdaParameter: string,\n  filterValues: any,\n  filterMapper: (\n    key: string,\n  ) => (lambdaParameter: string, value: any, otherValues: any) => string,\n): string => {\n  if (Object.keys(filterValues).length) {\n    const filterParams = Object.entries(filterValues)\n      .map(([key, value]) => {\n        const mapper = filterMapper(key)\n        return mapper(lambdaParameter, value as string, filterValues)\n      })\n      .filter((val) => val != null)\n    if (filterParams.length) {\n      return filterParams.reduce((p, c) => `${p}&&${c}`)\n    }\n  }\n  return 'true'\n}\n\nexport const queryParamsComposer = (\n  sort: TicketAPISortPayload,\n  pagination: PaginationPayload,\n  sortMapper: (key: string) => string,\n): string | null => {\n  const queryParams: string[] = []\n  if (sort) {\n    const { field, order } = sort\n    queryParams.push(`sortBy=${sortMapper(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n  }\n  if (pagination) {\n    const { page, perPage } = pagination\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage - 1}`)\n  }\n  return queryParams.length > 0\n    ? queryParams.reduce((p, c) => `${p}&${c}`)\n    : null\n}\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  accessId: (lambdaParameter, value) =>\n    `${lambdaParameter}.AccessId.Equals(${value as number})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'ad=>ad.Id',\n  activeFrom: 'ad=>ad.ActiveFrom',\n  activeTo: 'ad=>ad.ActiveTo',\n  timeFrom: 'ad=>ad.TimeFrom',\n  timeTo: 'ad=>ad.TimeTo',\n  type: 'ad=>ad.Type',\n}\n\nexport const mapSortAccessDatesParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ACCESS_DATES_URL } from '../api-urls'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { AccessDateDto } from '../dto/access-date.dto'\nimport { AccessDateTypes } from '../enum/AccessDateTypes'\nimport { DayOfWeek } from '../enum/DayOfWeek'\nimport filterMapper from './access-dates-filter.mapper'\nimport { mapSortAccessDatesParam } from './access-dates-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessDateDto>> => {\n    const filterParams = `ad=>${filterParamsComposer(\n      'ad',\n      filter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortAccessDatesParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessDateDto[]>(\n      `${ACCESS_DATES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<AccessDateDto>> => {\n    const data = await get<AccessDateDto>(ACCESS_DATES_URL, `/${id}`)\n    return {\n      data,\n    }\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<AccessDateDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessDateRequest, AccessDateDto>(\n      ACCESS_DATES_URL,\n      {\n        id: data.id,\n        activeFrom:\n          data.activeFrom !== previousData.activeFrom\n            ? (ignoreTimezoneOffset(\n                new Date(data.activeFrom),\n              ).toISOString() as DateTime)\n            : undefined,\n        activeTo:\n          data.activeTo !== previousData.activeTo\n            ? (ignoreTimezoneOffset(\n                new Date(data.activeTo),\n              ).toISOString() as DateTime)\n            : undefined,\n        type: data.type !== previousData.type ? data.type : undefined,\n        priority:\n          data.priority !== previousData.priority ? data.priority : undefined,\n        dayOfWeek:\n          data.dayOfWeek !== previousData.dayOfWeek\n            ? data.dayOfWeek\n            : undefined,\n        timeFrom:\n          data.timeFrom !== previousData.timeFrom ? data.timeFrom : undefined,\n        timeTo: data.timeTo !== previousData.timeTo ? data.timeTo : undefined,\n        accessId:\n          data.accessId !== previousData.accessId ? data.accessId : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<AccessDateDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateAccessDateRequest[], AccessDateDto[]>(\n      ACCESS_DATES_URL,\n      [\n        {\n          ...data,\n          activeFrom: ignoreTimezoneOffset(\n            new Date(data.activeFrom),\n          ).toISOString() as DateTime,\n          activeTo: ignoreTimezoneOffset(\n            new Date(data.activeTo),\n          ).toISOString() as DateTime,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n} as DataProvider\n\ninterface CreateAccessDateRequest {\n  readonly activeFrom: DateTime\n  readonly activeTo: DateTime\n  readonly type: AccessDateTypes\n  readonly priority?: number\n  readonly dayOfWeek?: DayOfWeek\n  readonly timeFrom: DateTime\n  readonly timeTo: DateTime\n  readonly accessId: number\n}\n\ninterface UpdateAccessDateRequest {\n  readonly id: Identifier\n  readonly activeFrom?: DateTime\n  readonly activeTo?: DateTime\n  readonly type?: AccessDateTypes\n  readonly priority?: number\n  readonly dayOfWeek?: DayOfWeek\n  readonly timeFrom?: DateTime\n  readonly timeTo?: DateTime\n  readonly accessId?: number\n}\n\nexport default provider\n","const mapping: Record<string, string> = {\n  id: 'au=>au.Id',\n  date: 'au=>au.Date',\n  direction: 'au=>au.Direction',\n  active: 'au=>au.Active',\n  ticketId: 'au=>au.TicketId',\n  accessId: 'au=>au.AccessId',\n}\n\nexport const mapSortAccessUsingsParam = (key: string) => mapping[key]\n","export enum Authority {\n  // User management\n  VIEW_USER_MANAGEMENT,\n\n  // Logs\n  VIEW_LOGS,\n\n  // Stats\n  VIEW_STATS_OVERALL_VIEW,\n\n  // Companies\n  VIEW_COMPANIES,\n  EDIT_COMPANIES,\n  CREATE_COMPANIES,\n\n  // Users\n  VIEW_USERS,\n  EDIT_USERS,\n  CREATE_USERS,\n\n  // Roles\n  VIEW_ROLES,\n  EDIT_ROLES,\n  CREATE_ROLES,\n\n  // Access dates\n  VIEW_ACCESS_DATES,\n  EDIT_ACCESS_DATES,\n  CREATE_ACCESS_DATES,\n\n  // Accesses\n  VIEW_ACCESSES,\n  EDIT_ACCESSES,\n  CREATE_ACCESSES,\n\n  // Access usings\n  VIEW_ACCESS_USINGS,\n  EDIT_ACCESS_USINGS,\n  CREATE_ACCESS_USINGS,\n\n  // Blocks\n  VIEW_BLOCKS,\n  EDIT_BLOCKS,\n  CREATE_BLOCKS,\n\n  // Bookings\n  VIEW_BOOKINGS,\n  EDIT_BOOKINGS,\n  CREATE_BOOKINGS,\n\n  // Customers\n  VIEW_CUSTOMERS,\n  EDIT_CUSTOMERS,\n  CREATE_CUSTOMERS,\n\n  // Events\n  VIEW_EVENTS,\n  EDIT_EVENTS,\n  CREATE_EVENTS,\n\n  // Objects\n  VIEW_OBJECTS,\n  EDIT_OBJECTS,\n  CREATE_OBJECTS,\n\n  // Schemes\n  VIEW_SCHEMES,\n  EDIT_SCHEMES,\n  CREATE_SCHEMES,\n\n  // Seats\n  VIEW_SEATS,\n  EDIT_SEATS,\n  CREATE_SEATS,\n\n  // Tickets\n  VIEW_TICKETS,\n  EDIT_TICKETS,\n  CREATE_TICKETS,\n\n  // Tribunes\n  VIEW_TRIBUNES,\n  EDIT_TRIBUNES,\n  CREATE_TRIBUNES,\n\n  // Variants\n  VIEW_VARIANTS,\n  EDIT_VARIANTS,\n  CREATE_VARIANTS,\n\n  // Engines\n  VIEW_ENGINES,\n  EDIT_ENGINES,\n  CREATE_ENGINES,\n\n  // Palms\n  VIEW_PALMS,\n  EDIT_PALMS,\n  CREATE_PALMS,\n\n  // Palm scheme data\n  VIEW_PALM_SCHEME_DATA,\n  EDIT_PALM_SCHEME_DATA,\n  CREATE_PALM_SCHEME_DATA,\n\n  // Passages\n  VIEW_PASSAGES,\n  EDIT_PASSAGES,\n  CREATE_PASSAGES,\n\n  // Detectors\n  VIEW_DETECTORS,\n  EDIT_DETECTORS,\n  CREATE_DETECTORS,\n\n  // Device categories\n  VIEW_DEVICE_CATEGORIES,\n  EDIT_DEVICE_CATEGORIES,\n  CREATE_DEVICE_CATEGORIES,\n\n  // Entrances\n  VIEW_ENTRANCES,\n  EDIT_ENTRANCES,\n  CREATE_ENTRANCES,\n}\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id.Equals(${value})`,\n  ticketsIds: (lambdaParameter, value) => {\n    if (!value) {\n      return null\n    }\n    return `new int[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.TicketId)`\n  },\n  accessId: (lambdaParameter, value) =>\n    `${lambdaParameter}.AccessId.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  UpdateManyParams,\n  UpdateManyResult,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { AccessUsingsCreateParams } from './access-usings-create.params'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { DeviceDirection } from '../enum/DeviceDirection'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { ACCESS_USINGS } from '../api-urls'\nimport { mapSortAccessUsingsParam } from './access-usings-sort.mapper'\nimport filterMapper from './access-usings-filter.mapper'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessUsingDto>> => {\n    const filterParams = `au=>${filterParamsComposer(\n      'au',\n      filter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortAccessUsingsParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessUsingDto[]>(\n      `${ACCESS_USINGS}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  update: async (\n    resource: string,\n    { data }: UpdateParams<AccessUsingDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessUsingRequest, AccessUsingDto>(\n      ACCESS_USINGS,\n      {\n        id: data.id,\n        active: data.active,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  updateMany: async (\n    resource,\n    { ids, data: { active = false } }: UpdateManyParams,\n  ): Promise<UpdateManyResult> => {\n    const pendingUpdates = ids\n      .map((auId) => ({ id: auId, active } as UpdateAccessUsingRequest))\n      .map((req) =>\n        patch<UpdateAccessUsingRequest, AccessUsingDto>(ACCESS_USINGS, req),\n      )\n    const accessUsings = await Promise.all(pendingUpdates)\n    return Promise.resolve({\n      data: accessUsings.map((au) => au.id),\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<AccessUsingsCreateParams>,\n  ): Promise<CreateResult> => {\n    const { ticketIds, accessIds } = data\n    const request: CreateAccessUsingRequest[] = accessIds.flatMap((accessId) =>\n      ticketIds.map((ticketId) => ({\n        date: ignoreTimezoneOffset(new Date()).toISOString() as DateTime,\n        direction: DeviceDirection.IN,\n        active: true,\n        accessId,\n        ticketId,\n        verifierDeviceId: null,\n      })),\n    )\n    await post<CreateAccessUsingRequest[], AccessUsingDto[]>(\n      ACCESS_USINGS,\n      request,\n    )\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<AccessUsingDto>> => {\n    const data = await get<AccessUsingDto[]>(\n      `${ACCESS_USINGS}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n} as DataProvider\n\ninterface CreateAccessUsingRequest {\n  readonly date: DateTime\n  readonly direction: DeviceDirection\n  readonly active: boolean\n  readonly ticketId: number\n  readonly accessId: number\n}\n\ninterface UpdateAccessUsingRequest {\n  readonly id: Identifier\n  readonly active: boolean | undefined\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  bonus: (lambdaParameter, value) =>\n    `${lambdaParameter}.Bonus.Equals(TicketAPI.Models.Enums.TicketManagement.AccessBonuses.${value})`,\n  entranceId: (lambdaParameter, value) =>\n    `${lambdaParameter}.EntranceId.Equals(${value})`,\n  allowReenter: (lambdaParameter) => `${lambdaParameter}.AllowReenter`,\n  multipleEntry: (lambdaParameter) => `${lambdaParameter}.MultipleEntry`,\n  isTicketUnlockedWithNextDay: (lambdaParameter) =>\n    `${lambdaParameter}.IsTicketUnlockedWithNextDay`,\n  filterVariantId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Variants.Any(v=>v.Id.Equals(${otherValues?.variantId}))`\n      : null,\n  variantId: () => null,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'a=>a.Id',\n  name: 'a=>a.Name',\n  bonus: 'a=>a.Bonus',\n  entranceId: 'a=>a.EntranceId',\n  modifiedAt: 'a=>a.ModifiedAt',\n  createdAt: 'a=>a.CreatedAt',\n}\n\nexport const mapSortAccessParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ACCESSES_URL } from '../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\nimport { DateTime } from '../common/date-time'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { AccessVariantsDto } from '../dto/access-variants.dto'\nimport { AccessDto } from '../dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../enum/AccessBonuses'\nimport { DayOfWeek } from '../enum/DayOfWeek'\nimport filterMapper from './access-filter.mapper'\nimport { mapSortAccessParam } from './access-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessDto>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortAccessParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<AccessDto>> => {\n    const data = await get<AccessDto>(ACCESSES_URL, `/${id}`)\n    return {\n      data,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<AccessDto>> => {\n    const data = await get<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<AccessDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessRequest, AccessDto>(ACCESSES_URL, {\n      id: data.id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      bonus: data.bonus !== previousData.bonus ? data.bonus : undefined,\n      entranceId:\n        data.entranceId !== previousData.entranceId\n          ? data.entranceId\n          : undefined,\n      allowReenter:\n        data.allowReenter !== previousData.allowReenter\n          ? data.allowReenter\n          : undefined,\n      multipleEntry:\n        data.multipleEntry !== previousData.multipleEntry\n          ? data.multipleEntry\n          : undefined,\n      multiple:\n        data.multiple !== previousData.multiple ? data.multiple : undefined,\n      usePriority:\n        data.usePriority !== previousData.usePriority\n          ? data.usePriority\n          : undefined,\n      isTicketUnlockedWithNextDay:\n        data.isTicketUnlockedWithNextDay !==\n        previousData.isTicketUnlockedWithNextDay\n          ? data.isTicketUnlockedWithNextDay\n          : undefined,\n      releaseTime:\n        data.releaseTime !== previousData.releaseTime\n          ? data.releaseTime\n          : undefined,\n      releaseDayOfWeek:\n        data.releaseDayOfWeek !== previousData.releaseDayOfWeek\n          ? data.releaseDayOfWeek\n          : undefined,\n      releaseDayOfMonth:\n        data.releaseDayOfMonth !== previousData.releaseDayOfMonth\n          ? data.releaseDayOfMonth\n          : undefined,\n      delay: data.delay !== previousData.delay ? data.delay : undefined,\n      activePeriod:\n        data.activePeriod !== previousData.activePeriod\n          ? data.activePeriod\n          : undefined,\n      activePeriodStartingFrom:\n        data.activePeriodStartingFrom !== previousData.activePeriodStartingFrom\n          ? data.activePeriodStartingFrom\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<AccessDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateAccessRequest[], AccessDto[]>(\n      ACCESSES_URL,\n      [\n        {\n          name: data.name,\n          bonus: data.bonus ? data.bonus : undefined,\n          entranceId: data.entranceId || undefined,\n          allowReenter: data.allowReenter || undefined,\n          multipleEntry: data.multipleEntry || undefined,\n          multiple: data.multiple || undefined,\n          usePriority: data.usePriority || undefined,\n          isTicketUnlockedWithNextDay:\n            data.isTicketUnlockedWithNextDay || undefined,\n          releaseTime: data.releaseTime || undefined,\n          releaseDayOfWeek: data.releaseDayOfWeek || undefined,\n          releaseDayOfMonth: data.releaseDayOfMonth || undefined,\n          delay: data.delay || undefined,\n          activePeriod: data.activePeriod || undefined,\n          activePeriodStartingFrom: data.activePeriodStartingFrom || undefined,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  attachVariants: async (\n    resource: string,\n    params: AccessVariantsDto,\n  ): Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>> => {\n    const accessVariants = await put<AccessVariantsDto, AccessVariantsDto>(\n      `${ACCESSES_URL}/AttachVariants`,\n      params,\n    )\n    return {\n      data: accessVariants,\n    }\n  },\n  detachVariants: async (\n    resource: string,\n    params: AccessVariantsDto,\n  ): Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>> => {\n    const accessVariants = await put<AccessVariantsDto, AccessVariantsDto>(\n      `${ACCESSES_URL}/DetachVariants`,\n      params,\n    )\n    return {\n      data: accessVariants,\n    }\n  },\n} as AccessDataProvider\n\ninterface AccessDataProvider extends DataProvider {\n  attachVariants: (\n    resource: string,\n    params: AccessVariantsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>>\n\n  detachVariants: (\n    resource: string,\n    params: AccessVariantsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>>\n}\n\ninterface CreateAccessRequest {\n  readonly name: string\n  readonly bonus?: AccessBonuses\n  readonly entranceId?: number\n  readonly allowReenter?: boolean\n  readonly multipleEntry?: boolean\n  readonly multiple?: number\n  readonly usePriority?: number\n  readonly isTicketUnlockedWithNextDay?: boolean\n  readonly releaseTime?: DateTime\n  readonly releaseDayOfWeek?: DayOfWeek\n  readonly releaseDayOfMonth?: number\n  readonly delay?: string\n  readonly activePeriod?: string\n  readonly activePeriodStartingFrom?: AccessActivePeriodStartingOptions\n}\n\ninterface UpdateAccessRequest {\n  readonly id: Identifier\n  readonly name?: string\n  readonly bonus?: AccessBonuses\n  readonly entranceId?: number\n  readonly allowReenter?: boolean\n  readonly multipleEntry?: boolean\n  readonly multiple?: number\n  readonly usePriority?: number\n  readonly isTicketUnlockedWithNextDay?: boolean\n  readonly releaseTime?: DateTime\n  readonly releaseDayOfWeek?: DayOfWeek\n  readonly releaseDayOfMonth?: number\n  readonly delay?: string\n  readonly activePeriod?: string\n  readonly activePeriodStartingFrom?: AccessActivePeriodStartingOptions\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  name: 'c=>c.Name',\n}\n\nexport const mapSortCompanyParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyResult,\n  GetManyParams,\n  CreateParams,\n  CreateResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport { get, getWithPagination, patch, post } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { CompanyDto } from '../../dto/company.dto'\nimport filterMapper from './company-filter.mapper'\nimport { mapSortCompanyParam } from './company-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CompanyDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCompanyParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CompanyDto[]>(\n      `${ADMINISTRATOR_URL}/GetCompaniesByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<CompanyDto>> => {\n    const data = await get<CompanyDto>(\n      `${ADMINISTRATOR_URL}/GetCompanyById/`,\n      id as string,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CompanyDto>> => {\n    const data = await get<CompanyDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetCompaniesByConditions/c=>new int[] {${ids.toString()}}.Contains(c.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CompanyDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateCompanyRequest, CompanyDto>(\n      `${ADMINISTRATOR_URL}/PostCompany`,\n      data,\n    )\n    return Promise.resolve({ data: created })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<CompanyDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      CompanyDto\n    >(`${ADMINISTRATOR_URL}/PatchCompany`, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n} as DataProvider\n\nexport interface CreateCompanyRequest {\n  readonly name: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterRoleId: () => null,\n  roleId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterRoleId === false\n      ? null\n      : `${lambdaParameter}.Roles.Any(u=>u.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  name: 'p=>p.Name',\n}\n\nexport const mapSortRoleParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport { get, getWithPagination } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PermissionDto } from '../../dto/permission.dto'\nimport filterMapper from './permissions-filter.mapper'\nimport { mapSortRoleParam } from './permissions-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PermissionDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortRoleParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PermissionDto[]>(\n      `${ADMINISTRATOR_URL}/GetPermissionsByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  // getOne: async (\n  //   resource: string,\n  //   { id }: GetOneParams,\n  // ): Promise<GetOneResult<RoleDto>> => {\n  //   const data = await get<RoleDto>(\n  //     `${ADMINISTRATOR_URL}/GetRoleById/`,\n  //     id as string,\n  //   )\n  //   return Promise.resolve({\n  //     data,\n  //   })\n  // },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PermissionDto>> => {\n    const data = await get<PermissionDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetPermissionsByConditions/p=>new int[] {${ids.toString()}}.Contains(p.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterUserId: () => null,\n  userId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterUserId === false\n      ? null\n      : `${lambdaParameter}.Users.Any(u=>u.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  name: 'c=>c.Name',\n}\n\nexport const mapSortRoleParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { RolePermissionsDto } from '../../dto/role/role-permissions.dto'\nimport { RoleDto } from '../../dto/role/role.dto'\nimport filterMapper from './role-filter.mapper'\nimport { mapSortRoleParam } from './role-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<RoleDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortRoleParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<RoleDto[]>(\n      `${ADMINISTRATOR_URL}/GetRolesByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<RoleDto>> => {\n    const data = await get<RoleDto>(\n      `${ADMINISTRATOR_URL}/GetRoleById/`,\n      id as string,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<RoleDto>> => {\n    const data = await get<RoleDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetRolesByConditions/r=>new int[] {${ids.toString()}}.Contains(r.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<RoleDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateRoleRequest[], RoleDto[]>(\n      `${ADMINISTRATOR_URL}/PostCompany`,\n      [data],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<RoleDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, RoleDto>(\n      `${ADMINISTRATOR_URL}/PatchRole`,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  attachPermissions: async (\n    resource: string,\n    params: RolePermissionsDto,\n  ): Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>> => {\n    const engineEntrances = await put<RolePermissionsDto, RolePermissionsDto>(\n      `${ADMINISTRATOR_URL}/AttachPermissionsToRole`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  detachPermissions: async (\n    resource: string,\n    params: RolePermissionsDto,\n  ): Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>> => {\n    const engineEntrances = await put<RolePermissionsDto, RolePermissionsDto>(\n      `${ADMINISTRATOR_URL}/DetachPermissionsFromRole`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n} as RoleDataProvider\n\ninterface RoleDataProvider extends DataProvider {\n  attachPermissions: (\n    resource: string,\n    params: RolePermissionsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>>\n\n  detachPermissions: (\n    resource: string,\n    params: RolePermissionsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>>\n}\n\nexport interface CreateRoleRequest {\n  readonly name: string\n  readonly permissionsIds: number[]\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  userName: (lambdaParameter, value) =>\n    `${lambdaParameter}.UserName.Contains(\"${value}\")`,\n  companyId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Company.Id.Equals(${value})`,\n  roleId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Roles.Any(r=>r.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  userName: 'c=>c.UserName',\n}\n\nexport const mapSortUserParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n  CreateParams,\n  CreateResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { RoleDto } from '../../dto/role/role.dto'\nimport { UserDto } from '../../dto/user.dto'\nimport filterMapper from './users-filter.mapper'\nimport { mapSortUserParam } from './users-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<UserDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortUserParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<UserDto[]>(\n      `${ADMINISTRATOR_URL}/GetUsersByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<UserDto>> => {\n    const data = await get<UserDto>(\n      `${ADMINISTRATOR_URL}/GetUserById`,\n      `/${id}`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<UserDto>> => {\n    const data = await get<UserDto[]>(\n      `${ADMINISTRATOR_URL}/GetUsersByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateUserRequest>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateUserRequest, UserDto>(\n      `${ADMINISTRATOR_URL}/PostUser`,\n      data,\n    )\n    return Promise.resolve({ data: created })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<UserDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, UserDto>(\n      `${ADMINISTRATOR_URL}/PatchUser`,\n      {\n        id,\n        userName:\n          data.userName !== previousData.userName ? data.userName : undefined,\n        companyId:\n          data.companyId !== previousData.companyId\n            ? data.companyId\n            : undefined,\n        requirePasswordUpdate:\n          data.requirePasswordUpdate !== previousData.requirePasswordUpdate\n            ? data.requirePasswordUpdate\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  changeUserPassword: async (\n    resource: string,\n    params: ChangeUserPasswordRequest,\n  ): Promise<DataProviderExtensionResult<ChangeUserPasswordResponse>> => {\n    const newPassword = await put<\n      ChangeUserPasswordRequest,\n      ChangeUserPasswordResponse\n    >(`${ADMINISTRATOR_URL}/ChangeUserPassword`, params)\n    return {\n      data: newPassword,\n    }\n  },\n  generateResetUserPasswordToken: async (\n    resource: string,\n    params: GenerateResetUserPasswordTokenRequest,\n  ): Promise<\n    DataProviderExtensionResult<GenerateResetUserPasswordTokenResponse>\n  > => {\n    const token = await put<\n      GenerateResetUserPasswordTokenRequest,\n      GenerateResetUserPasswordTokenResponse\n    >(`${ADMINISTRATOR_URL}/GenerateResetUserPasswordToken`, params)\n    return {\n      data: token,\n    }\n  },\n  attachRoles: async (\n    resource: string,\n    params: UserRoles,\n  ): Promise<DataProviderExtensionResult<UserRoles>> => {\n    const token = await put<UserRoles, UserRoles>(\n      `${ADMINISTRATOR_URL}/AttachRolesToUser`,\n      params,\n    )\n    return {\n      data: token,\n    }\n  },\n  detachRoles: async (\n    resource: string,\n    params: UserRoles,\n  ): Promise<DataProviderExtensionResult<UserRoles>> => {\n    const token = await put<UserRoles, UserRoles>(\n      `${ADMINISTRATOR_URL}/DetachRolesFromUser`,\n      params,\n    )\n    return {\n      data: token,\n    }\n  },\n  getRoles: async (\n    resource: string,\n    { userId }: GetRolesParams,\n  ): Promise<DataProviderExtensionResult<RoleDto[]>> => {\n    const token = await get<RoleDto[]>(\n      `${ADMINISTRATOR_URL}/GetUserRoles/`,\n      userId as string,\n    )\n    return {\n      data: token,\n    }\n  },\n} as UserDataProvider\n\ninterface UserDataProvider extends DataProvider {\n  changeUserPassword: (\n    resource: string,\n    params: ChangeUserPasswordRequest,\n  ) => Promise<CacheableDataProviderExtensionResult<ChangeUserPasswordResponse>>\n\n  generateResetUserPasswordToken: (\n    resource: string,\n    params: GenerateResetUserPasswordTokenRequest,\n  ) => Promise<\n    CacheableDataProviderExtensionResult<GenerateResetUserPasswordTokenResponse>\n  >\n\n  attachRoles: (\n    resource: string,\n    params: UserRoles,\n  ) => Promise<CacheableDataProviderExtensionResult<UserRoles>>\n\n  detachRoles: (\n    resource: string,\n    params: UserRoles,\n  ) => Promise<CacheableDataProviderExtensionResult<UserRoles>>\n\n  getRoles: (\n    resource: string,\n    params: GetRolesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<RoleDto[]>>\n}\n\nexport interface CreateUserRequest {\n  readonly userName: string\n  readonly password: string\n  readonly companyId: number\n  readonly requirePasswordUpdate: boolean\n}\n\ninterface ChangeUserPasswordRequest {\n  readonly userId: number\n  readonly newPassword: string\n}\n\ninterface ChangeUserPasswordResponse {\n  readonly password: string\n  readonly id: number\n  readonly userName: string\n}\n\ninterface GenerateResetUserPasswordTokenRequest {\n  readonly userId: number\n}\n\ninterface GenerateResetUserPasswordTokenResponse {\n  readonly userId: number\n  readonly token: string\n}\n\ninterface UserRoles {\n  readonly userId: number\n  readonly rolesIds: number[]\n}\n\ninterface GetRolesParams {\n  userId: Identifier\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id==${value}`,\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Tribune.ObjectId.Equals(${value})`,\n  tribuneId: (lambdaParameter, value) =>\n    `${lambdaParameter}.TribuneId==${value}`,\n  code: (lambdaParameter, value) => `${lambdaParameter}.Code==${value}`,\n  type: (lambdaParameter, value) =>\n    `${lambdaParameter}.Type.Equals(TicketAPI.Models.Enums.TicketManagement.BlockTypes.${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'b=>b.Id',\n  name: 'b=>b.Name',\n  tribuneId: 'b=>b.TribuneId',\n  type: 'b=>b.Type',\n  code: 'b=>b.Code',\n}\n\nexport const mapSortBlockParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { BLOCKS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { BlockDto } from '../dto/block.dto'\nimport { BlockCreateParams } from './blocks-create.params'\nimport filterMapper from './blocks-filter.mapper'\nimport { mapSortBlockParam } from './blocks-sort.mapper'\n\ntype CreateBlockRequest = Array<BlockCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<BlockDto>> => {\n    const filterParams = `b=>${filterParamsComposer('b', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortBlockParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<BlockDto[]>(\n      `${BLOCKS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<BlockCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateBlockRequest = [data]\n    await post<CreateBlockRequest, BlockDto[]>(BLOCKS_URL, request)\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<BlockDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, BlockDto>(\n      BLOCKS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        tribuneId:\n          data.tribuneId !== previousData.tribuneId\n            ? data.tribuneId\n            : undefined,\n        type: data.type !== previousData.type ? data.type : undefined,\n        code: data.code !== previousData.code ? data.code : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<BlockDto>> => {\n    const data = await get<BlockDto[]>(\n      BLOCKS_URL,\n      `/GetByConditions/b=>new int[] {${ids.toString()}}.Contains(b.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  customerId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Customer.Id.Equals(${value as number})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  variantId: 'l=>l.VariantId',\n  eventId: 'l=>l.EventId',\n}\n\nexport const mapSortBookingParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  UpdateParams,\n  UpdateResult,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { get, getWithPagination, patch } from '../common/fetch.utils'\nimport { BOOKINGS_URL } from '../api-urls'\nimport { BookingUpdateRequest } from './booking-update.request'\nimport { BookingDto } from '../dto/booking.dto'\nimport filterMapper from './booking-filter.mapper'\nimport { mapSortBookingParam } from './booking-sort.mapper'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<BookingDto>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortBookingParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<BookingDto[]>(\n      `${BOOKINGS_URL}/GetByConditions`,\n      path,\n    )\n\n    return {\n      data,\n      total,\n    }\n  },\n  getOne: async (\n    resource: string,\n    { id: bookingId }: GetOneParams,\n  ): Promise<GetOneResult<BookingDto>> => {\n    const booking = await get<BookingDto>(BOOKINGS_URL, `/${bookingId}`)\n\n    return {\n      data: booking,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<BookingDto>> => {\n    const data = await get<BookingDto[]>(\n      `${BOOKINGS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<BookingUpdateRequest>,\n  ): Promise<UpdateResult<BookingDto>> => {\n    const booking = await patch<BookingUpdateRequest, BookingDto>(\n      BOOKINGS_URL,\n      {\n        id: data.id,\n        disabled:\n          data?.disabled !== previousData?.disabled\n            ? data?.disabled\n            : undefined,\n      },\n    )\n    return Promise.resolve({\n      data: { ...booking, ticketsIds: [] },\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  firstname: (lambdaParameter, value) =>\n    `${lambdaParameter}.Firstname.Contains(\"${value}\")`,\n  lastname: (lambdaParameter, value) =>\n    `${lambdaParameter}.Lastname.Contains(\"${value}\")`,\n  pesel: (lambdaParameter, value) =>\n    `${lambdaParameter}.Pesel.Contains(\"${value}\")`,\n  documentNumber: (lambdaParameter, value) =>\n    `${lambdaParameter}.DocumentNumber.Contains(\"${value}\")`,\n  info: (lambdaParameter, value) =>\n    `${value\n      .toString()\n      .split(' ')\n      .map(\n        (q: string) =>\n          `(${lambdaParameter}.Firstname+${lambdaParameter}.Lastname+${lambdaParameter}.Pesel+${lambdaParameter}.DocumentNumber).Contains(\"${q}\")`,\n      )\n      .join('&&')}`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  firstname: 'c=>c.Firstname',\n  lastname: 'c=>c.Lastname',\n  pesel: 'c=>c.Pesel',\n  documentNumber: 'c=>c.DocumentNumber',\n}\n\nexport const mapSortCustomerParams = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { CUSTOMERS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport filterMapper from './customer-filter.mapper'\nimport { mapSortCustomerParams } from './customer-sort.mapper'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { CustomerDocumentType } from '../enum/CustomerDocumentType'\nimport { Gender } from '../enum/Gender'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CustomerDto>> => {\n    const filterParams = `c=>${filterParamsComposer('c', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCustomerParams,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id: customerId }: GetOneParams,\n  ): Promise<GetOneResult<CustomerDto>> => {\n    const customer = await get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    return {\n      data: customer as CustomerDto,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CustomerDto>> => {\n    const data = await get<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<CustomerDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateCustomerRequest, CustomerDto>(\n      CUSTOMERS_URL,\n      {\n        id: data.id,\n        firstname:\n          data.firstname !== previousData.firstname\n            ? data.firstname\n            : undefined,\n        lastname:\n          data.lastname !== previousData.lastname ? data.lastname : undefined,\n        company:\n          data.company !== previousData.company ? data.company : undefined,\n        birthdate:\n          data.birthdate !== previousData.birthdate\n            ? (ignoreTimezoneOffset(\n                new Date(data.birthdate),\n              ).toISOString() as DateTime)\n            : undefined,\n        documentType:\n          data.documentType !== previousData.documentType\n            ? data.documentType\n            : undefined,\n        pesel: data.pesel !== previousData.pesel ? data.pesel : undefined,\n        documentNumber:\n          data.documentNumber !== previousData.documentNumber\n            ? data.documentNumber\n            : undefined,\n        nationality:\n          data.nationality !== previousData.nationality\n            ? data.nationality\n            : undefined,\n        gender: data.gender !== previousData.gender ? data.gender : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CustomerDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateCustomerRequest[], CustomerDto[]>(\n      CUSTOMERS_URL,\n      [\n        {\n          ...data,\n          birthdate:\n            data.birthdate &&\n            (ignoreTimezoneOffset(\n              new Date(data.birthdate),\n            ).toISOString() as DateTime),\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n} as DataProvider\n\ninterface CreateCustomerRequest {\n  readonly firstname: string\n  readonly lastname: string\n  readonly company?: string\n  readonly birthdate?: DateTime\n  readonly documentType?: CustomerDocumentType\n  readonly pesel?: string\n  readonly documentNumber?: string\n  readonly nationality?: string\n  readonly gender?: Gender\n}\n\ninterface UpdateCustomerRequest {\n  readonly id: number\n  readonly firstname?: string\n  readonly lastname?: string\n  readonly company?: string\n  readonly birthdate?: DateTime\n  readonly documentType?: CustomerDocumentType\n  readonly pesel?: string\n  readonly documentNumber?: string\n  readonly nationality?: string\n  readonly gender?: Gender\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  parentId: (lambdaParameter, value) => `${lambdaParameter}.ParentId==${value}`,\n  parentIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.ParentId)`,\n  notId: (lambdaParameter, value) => `!${lambdaParameter}.Id.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'dc=>dc.Id',\n  name: 'dc=>dc.Name',\n  parentId: 'dc=>dc.ParentId',\n}\n\nexport const mapSortDeviceCategoryParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { DEVICE_CATEGORIES_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { DeviceCategoryDto } from '../dto/device-category/device-category.dto'\nimport filterMapper from './device-category-filter.mapper'\nimport { mapSortDeviceCategoryParam } from './device-category-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<DeviceCategoryDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortDeviceCategoryParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<DeviceCategoryDto[]>(\n      `${DEVICE_CATEGORIES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<DeviceCategoryDto>> => {\n    const data = await get<DeviceCategoryDto>(DEVICE_CATEGORIES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<DeviceCategoryDto>> => {\n    const data = await get<DeviceCategoryDto[]>(\n      DEVICE_CATEGORIES_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateDeviceCategoryRequest>,\n  ): Promise<CreateResult<DeviceCategoryDto>> => {\n    const deviceCategory = await post<\n      CreateDeviceCategoryRequest[],\n      DeviceCategoryDto[]\n    >(DEVICE_CATEGORIES_URL, [data])\n\n    return {\n      data: deviceCategory[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<DeviceCategoryDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      DeviceCategoryDto\n    >(DEVICE_CATEGORIES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      parentId:\n        data.parentId !== previousData.parentId ? data.parentId : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n} as DataProvider\n\n// interface DeviceCategoryDataProvider extends DataProvider {\n// }\n\nexport interface CreateDeviceCategoryRequest {\n  readonly name: string\n  readonly parentId?: number\n}\n\nexport default provider\n","import { DEVICE_CATEGORIES_URL } from '../api-urls'\nimport { get, getByConditions } from '../common/fetch.utils'\nimport { filterParamsComposer } from '../common/get-by-conditions.utils'\nimport deviceCategoryfilterMapper from '../device-categories/device-category-filter.mapper'\nimport { DeviceCategoryDto } from '../dto/device-category/device-category.dto'\n\n// Tree type filter for device categories\nconst getDeviceCategories = async (categoryId: number) => {\n  let categoriesIds: number[] = []\n  // eslint-disable-next-line no-await-in-loop\n  const selectedCategory = await get<DeviceCategoryDto>(\n    DEVICE_CATEGORIES_URL,\n    `/${categoryId}`,\n  )\n  categoriesIds.push(selectedCategory?.id)\n  let resolveParents = true\n  while (resolveParents) {\n    const parentCategoriesfilters = { parentIds: categoriesIds }\n    // eslint-disable-next-line no-await-in-loop\n    const childrenCategories = await getByConditions<DeviceCategoryDto>(\n      `${DEVICE_CATEGORIES_URL}`,\n      `o=>${filterParamsComposer(\n        'o',\n        parentCategoriesfilters,\n        deviceCategoryfilterMapper,\n      )}`,\n    )\n    const newChildren = childrenCategories\n      .map((cc) => cc.id)\n      // eslint-disable-next-line no-loop-func\n      .filter((cc) => !categoriesIds.includes(cc))\n    if (newChildren.length === 0) {\n      resolveParents = false\n    } else {\n      categoriesIds = categoriesIds.concat(newChildren)\n    }\n  }\n  return categoriesIds\n}\n\nexport { getDeviceCategories }\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortDetectorParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  CreateParams,\n  CreateResult,\n} from 'react-admin'\nimport { DETECTORS_URL } from '../../api-urls'\nimport { get, getWithPagination, patch, post } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { DetectorDto } from '../../dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './detector-filter.mapper'\nimport { mapSortDetectorParam } from './detector-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<DetectorDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortDetectorParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<DetectorDto[]>(\n      `${DETECTORS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<DetectorDto>> => {\n    const data = await get<DetectorDto>(DETECTORS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<DetectorDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      DetectorDto\n    >(DETECTORS_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      isWatched:\n        data.isWatched !== previousData.isWatched ? data.isWatched : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      categoryId:\n        data.categoryId !== previousData.categoryId\n          ? data.categoryId\n          : undefined,\n      hardwareVersion:\n        data.hardwareVersion !== previousData.hardwareVersion\n          ? data.hardwareVersion\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateDetectorRequest>,\n  ): Promise<CreateResult<DetectorDto>> => {\n    const engine = await post<CreateDetectorRequest[], DetectorDto[]>(\n      DETECTORS_URL,\n      [data],\n    )\n    return {\n      data: engine[0],\n    }\n  },\n} as DataProvider\n\nexport interface CreateDetectorRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly address: string\n  readonly categoryId: number\n  readonly jsonStatus: string\n  readonly hardwareVersion: HardwareVersions\n}\n\nexport default provider\n","import { EventStatus } from '../../enum/EventStatus'\n\nconst mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n  eventActive: (lambdaParameter) =>\n    `${lambdaParameter}.Events.Any(ev=>ev.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${EventStatus.ACTIVE}))`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  filterEntranceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Entrances.Any(en=>en.Id==${otherValues?.entranceId})`\n      : null,\n  entranceId: () => null,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortEngineParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ENGINES_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { EngineEntrancesDto } from '../../dto/device/engine/engine-entrances.dto'\nimport { EngineEventsDto } from '../../dto/device/engine/engine-events.dto'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\nimport { RemoveTSCanCredentialsDto } from '../../dto/device/engine/remove-tscan-credentials.dto'\nimport { SetStandbyModeDto } from '../../dto/device/engine/set-standby-mode.dto'\nimport { SetTSCanCredentialsDto } from '../../dto/device/engine/set-tscan-credentials.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { EngineLockResults } from '../../enum/EngineLockResults'\nimport { EngineUnlockResults } from '../../enum/EngineUnlockResults'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { Multiplicities } from '../../enum/Multiplicities'\nimport { StanbyMode } from '../../enum/StanbyMode'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './engine-filter.mapper'\nimport { mapSortEngineParam } from './engine-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EngineDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortEngineParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EngineDto[]>(\n      `${ENGINES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EngineDto>> => {\n    const data = await get<EngineDto>(ENGINES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EngineDto>> => {\n    const data = await get<EngineDto[]>(\n      ENGINES_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateEngineRequest>,\n  ): Promise<CreateResult<EngineDto>> => {\n    const engine = await post<CreateEngineRequest[], EngineDto[]>(ENGINES_URL, [\n      data,\n    ])\n    return {\n      data: engine[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EngineDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, EngineDto>(\n      ENGINES_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        isWatched:\n          data.isWatched !== previousData.isWatched\n            ? data.isWatched\n            : undefined,\n        address:\n          data.address !== previousData.address ? data.address : undefined,\n        direction:\n          data.direction !== previousData.direction\n            ? data.direction\n            : undefined,\n        categoryId:\n          data.categoryId !== previousData.categoryId\n            ? data.categoryId\n            : undefined,\n        onlineInfixCeck:\n          data.onlineInfixCeck !== previousData.onlineInfixCeck\n            ? data.onlineInfixCeck\n            : undefined,\n        multiplicity:\n          data.multiplicity !== previousData.multiplicity\n            ? data.multiplicity\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  attachEvents: async (\n    resource: string,\n    params: EngineEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>(\n      `${ENGINES_URL}/AttachEvents`,\n      params,\n    )\n    return {\n      data: engineEvents,\n    }\n  },\n  detachEvents: async (\n    resource: string,\n    params: EngineEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>(\n      `${ENGINES_URL}/DetachEvents`,\n      params,\n    )\n    return {\n      data: engineEvents,\n    }\n  },\n  attachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>(\n      `${ENGINES_URL}/AttachEntrances`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  detachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>(\n      `${ENGINES_URL}/DetachEntrances`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ): Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const setTSCanCredentials = await put<\n      SetTSCanCredentialsDto,\n      SetTSCanCredentialsDto\n    >(`${ENGINES_URL}/SetTSCanCredentials`, params)\n    return {\n      data: setTSCanCredentials,\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ): Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>> => {\n    const removeTSCanCredentials = await put<\n      RemoveTSCanCredentialsDto,\n      RemoveTSCanCredentialsDto\n    >(`${ENGINES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: removeTSCanCredentials,\n    }\n  },\n  lock: async (\n    resource: string,\n    params: LockParams,\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const lock = await put<LockParams, LockResponse>(\n      `${ENGINES_URL}/Lock`,\n      params,\n    )\n    return {\n      data: lock,\n    }\n  },\n  unlock: async (\n    resource: string,\n    params: UnlockParams,\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const unlock = await put<UnlockParams, UnlockResponse>(\n      `${ENGINES_URL}/Unlock`,\n      params,\n    )\n    return {\n      data: unlock,\n    }\n  },\n  setStandbyMode: async (\n    resource: string,\n    params: SetStandbyModeDto,\n  ): Promise<DataProviderExtensionResult<SetStandbyModeDto>> => {\n    const setStandbyMode = await put<SetStandbyModeDto, SetStandbyModeDto>(\n      `${ENGINES_URL}/SetStandbyMode`,\n      params,\n    )\n    return {\n      data: setStandbyMode,\n    }\n  },\n} as EngineDataProvider\n\ninterface EngineDataProvider extends DataProvider {\n  attachEvents: (\n    resource: string,\n    params: EngineEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>\n\n  detachEvents: (\n    resource: string,\n    params: EngineEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>\n\n  attachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>\n\n  detachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>\n\n  lock: (\n    resource: string,\n    params: LockParams,\n  ) => Promise<DataProviderExtensionResult<LockResponse>>\n\n  unlock: (\n    resource: string,\n    params: UnlockParams,\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>\n\n  setStandbyMode: (\n    resource: string,\n    params: SetStandbyModeDto,\n  ) => Promise<DataProviderExtensionResult<SetStandbyModeDto>>\n}\n\nexport interface CreateEngineRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly address: string\n  readonly direction: DeviceDirection\n  readonly categoryId: number\n  readonly disabled: string\n  readonly stanbyMode: StanbyMode\n  readonly jsonStatus: string\n  readonly onlineInfixCeck: boolean\n  readonly multiplicity: Multiplicities\n  readonly hardwareVersion: HardwareVersions\n}\n\nexport interface LockParams {\n  engineId: number\n  lockName: string\n}\n\nexport interface LockResponse {\n  engineId: number\n  lockName: string\n  lockResult: EngineLockResults\n}\n\nexport interface UnlockParams {\n  engineId: number\n}\n\nexport interface UnlockResponse {\n  engineId: number\n  unlockResult: EngineUnlockResults\n}\n\nexport default provider\n","import { EventStatus } from '../../enum/EventStatus'\n\nconst mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n  eventActive: (lambdaParameter) =>\n    `${lambdaParameter}.Events.Any(ev=>ev.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${EventStatus.ACTIVE}))`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  filterEntranceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Entrances.Any(e=>e.Id==${otherValues?.entranceId})`\n      : null,\n  entranceId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  name: 'p=>p.Name',\n}\n\nexport const mapSortPalmParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { PALMS_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PalmEntrancesDto } from '../../dto/device/palm/palm-entrances.dto'\nimport { PalmEventsDto } from '../../dto/device/palm/palm-events.dto'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { Multiplicities } from '../../enum/Multiplicities'\nimport { PalmLockResult } from '../../enum/PalmLockResult'\nimport { PalmResetMobileDeviceIdResults } from '../../enum/PalmResetMobileDeviceIdResults'\nimport { PalmSetMobileDeviceIdResults } from '../../enum/PalmSetMobileDeviceIdResults'\nimport { PalmUnlockResult } from '../../enum/PalmUnlockResult'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './palm-filter.mapper'\nimport { mapSortPalmParam } from './palm-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PalmDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortPalmParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PalmDto[]>(`${PALMS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<PalmDto>> => {\n    const data = await get<PalmDto>(PALMS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PalmDto>> => {\n    const data = await get<PalmDto[]>(\n      PALMS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreatePalmRequest>,\n  ): Promise<CreateResult<PalmDto>> => {\n    const palm = await post<CreatePalmRequest[], PalmDto[]>(PALMS_URL, [data])\n    return {\n      data: palm[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<PalmDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, PalmDto>(\n      PALMS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        isWatched:\n          data.isWatched !== previousData.isWatched\n            ? data.isWatched\n            : undefined,\n        direction:\n          data.direction !== previousData.direction\n            ? data.direction\n            : undefined,\n        categoryId:\n          data.categoryId !== previousData.categoryId\n            ? data.categoryId\n            : undefined,\n        onlineInfixCeck:\n          data.onlineInfixCeck !== previousData.onlineInfixCeck\n            ? data.onlineInfixCeck\n            : undefined,\n        multiplicity:\n          data.multiplicity !== previousData.multiplicity\n            ? data.multiplicity\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  lock: async (\n    resource: string,\n    { palmId, lockName }: LockParams,\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const data = await put<LockParams, LockResponse>(`${PALMS_URL}/Lock`, {\n      palmId,\n      lockName,\n    })\n    return Promise.resolve({ data })\n  },\n  unlock: async (\n    resource: string,\n    { palmId }: UnlockParams,\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const data = await put<UnlockParams, UnlockResponse>(\n      `${PALMS_URL}/Unlock`,\n      {\n        palmId,\n      },\n    )\n    return Promise.resolve({ data: { ...data, disabled: undefined } })\n  },\n  setMobileDeviceId: async (\n    resource: string,\n    { palmId, mobileDeviceId }: SetMobileDeviceIdParams,\n  ): Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>> => {\n    const data = await put<SetMobileDeviceIdParams, SetMobileDeviceIdResponse>(\n      `${PALMS_URL}/SetMobileDeviceId`,\n      {\n        palmId,\n        mobileDeviceId,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  resetMobileDeviceId: async (\n    resource: string,\n    { palmId }: ResetMobileDeviceIdParams,\n  ): Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>> => {\n    const data = await put<\n      ResetMobileDeviceIdParams,\n      ResetMobileDeviceIdResponse\n    >(`${PALMS_URL}/ResetMobileDeviceId`, {\n      palmId,\n    })\n    return Promise.resolve({ data: { ...data, mobileDeviceId: undefined } })\n  },\n  attachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(\n      `${PALMS_URL}/AttachEvents`,\n      {\n        palmId,\n        eventsIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  detachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(\n      `${PALMS_URL}/DetachEvents`,\n      {\n        palmId,\n        eventsIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  attachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(\n      `${PALMS_URL}/AttachEntrances`,\n      {\n        palmId,\n        entrancesIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  detachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(\n      `${PALMS_URL}/DetachEntrances`,\n      {\n        palmId,\n        entrancesIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n} as PalmDataProvider\n\ninterface PalmDataProvider extends DataProvider {\n  lock: (\n    resource: string,\n    params: LockParams,\n  ) => Promise<DataProviderExtensionResult<LockResponse>>\n\n  unlock: (\n    resource: string,\n    params: UnlockParams,\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>\n\n  setMobileDeviceId: (\n    resource: string,\n    params: SetMobileDeviceIdParams,\n  ) => Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>>\n\n  resetMobileDeviceId: (\n    resource: string,\n    params: ResetMobileDeviceIdParams,\n  ) => Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>>\n\n  attachEvents: (\n    resource: string,\n    params: PalmEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>\n\n  detachEvents: (\n    resource: string,\n    params: PalmEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>\n\n  attachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n\n  detachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n}\n\nexport interface CreatePalmRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly direction: DeviceDirection\n  readonly categoryId: number\n  readonly disabled: string\n  readonly jsonStatus: string\n  readonly onlineInfixCeck: boolean\n  readonly multiplicity: Multiplicities\n  readonly mobileDeviceId: string\n}\n\nexport interface LockParams {\n  palmId: Identifier\n  lockName: string\n}\n\nexport interface LockResponse {\n  palmId: Identifier\n  lockName: string\n  lockResult: PalmLockResult\n}\n\nexport interface UnlockParams {\n  palmId: Identifier\n}\n\nexport interface UnlockResponse {\n  palmId: Identifier\n  unlockResult: PalmUnlockResult\n}\n\nexport interface SetMobileDeviceIdParams {\n  palmId: Identifier\n  mobileDeviceId: string\n}\n\nexport interface SetMobileDeviceIdResponse {\n  palmId: Identifier\n  mobileDeviceId: string\n  setResult: PalmSetMobileDeviceIdResults\n}\n\nexport interface ResetMobileDeviceIdParams {\n  palmId: Identifier\n}\n\nexport interface ResetMobileDeviceIdResponse {\n  palmId: Identifier\n  resetResult: PalmResetMobileDeviceIdResults\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortPassageParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { PASSAGES_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport { DateTime } from '../../common/date-time'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { RemoveTSCanCredentialsDto } from '../../dto/device/passages/remove-tscan-credentials.dto'\nimport { ResetCountersDto } from '../../dto/device/passages/reset-counters.dto'\nimport { SetTSCanCredentialsDto } from '../../dto/device/passages/set-tscan-credentials.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './passage-filter.mapper'\nimport { mapSortPassageParam } from './passage-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PassageDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortPassageParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PassageDto[]>(\n      `${PASSAGES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<PassageDto>> => {\n    const data = await get<PassageDto>(PASSAGES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PassageDto>> => {\n    const { data } = await getWithPagination<PassageDto[]>(\n      `${PASSAGES_URL}/GetByConditions/`,\n      `e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreatePassageRequest>,\n  ): Promise<CreateResult<PassageDto>> => {\n    const passage = await post<CreatePassageRequest[], PassageDto[]>(\n      PASSAGES_URL,\n      [data],\n    )\n    return {\n      data: passage[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<PassageDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      PassageDto\n    >(PASSAGES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      isWatched:\n        data.isWatched !== previousData.isWatched ? data.isWatched : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      categoryId:\n        data.categoryId !== previousData.categoryId\n          ? data.categoryId\n          : undefined,\n      freeEntrancesCount:\n        data.freeEntrancesCount !== previousData.freeEntrancesCount\n          ? data.freeEntrancesCount\n          : undefined,\n      freeExitsCount:\n        data.freeExitsCount !== previousData.freeExitsCount\n          ? data.freeExitsCount\n          : undefined,\n      ticketEntrancesCount:\n        data.ticketEntrancesCount !== previousData.ticketEntrancesCount\n          ? data.ticketEntrancesCount\n          : undefined,\n      ticketExitsCount:\n        data.ticketExitsCount !== previousData.ticketExitsCount\n          ? data.ticketExitsCount\n          : undefined,\n      unauthorizedEntrancesCount:\n        data.unauthorizedEntrancesCount !==\n        previousData.unauthorizedEntrancesCount\n          ? data.unauthorizedEntrancesCount\n          : undefined,\n      unauthorizedExitsCount:\n        data.unauthorizedExitsCount !== previousData.unauthorizedExitsCount\n          ? data.unauthorizedExitsCount\n          : undefined,\n      hardwareVersion:\n        data.hardwareVersion !== previousData.hardwareVersion\n          ? data.hardwareVersion\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  resetCounters: async (\n    resource: string,\n    params: ResetCountersDto,\n  ): Promise<CacheableDataProviderExtensionResult<ResetCountersDto>> => {\n    const response = await put<ResetCountersDto, ResetCountersDto>(\n      `${PASSAGES_URL}/ResetCounters`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ): Promise<CacheableDataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const response = await put<SetTSCanCredentialsDto, SetTSCanCredentialsDto>(\n      `${PASSAGES_URL}/SetTSCanCredentials`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ): Promise<\n    CacheableDataProviderExtensionResult<RemoveTSCanCredentialsDto>\n  > => {\n    const response = await put<\n      RemoveTSCanCredentialsDto,\n      RemoveTSCanCredentialsDto\n    >(`${PASSAGES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: response,\n    }\n  },\n  setLockState: async (\n    resource: string,\n    params: SetLockStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetLockStateResponse>> => {\n    const response = await put<SetLockStateRequest, SetLockStateResponse>(\n      `${PASSAGES_URL}/SetLockState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setPowerState: async (\n    resource: string,\n    params: SetPowerStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetPowerStateResponse>> => {\n    const response = await put<SetPowerStateRequest, SetPowerStateResponse>(\n      `${PASSAGES_URL}/SetPowerState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setPPOZState: async (\n    resource: string,\n    params: SetPPOZStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetPPOZStateResponse>> => {\n    const response = await put<SetPPOZStateRequest, SetPPOZStateResponse>(\n      `${PASSAGES_URL}/SetPPOZState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setFreePassState: async (\n    resource: string,\n    params: SetFreePassStateRequest,\n  ): Promise<\n    CacheableDataProviderExtensionResult<SetFreePassStateResponse>\n  > => {\n    const response = await put<\n      SetFreePassStateRequest,\n      SetFreePassStateResponse\n    >(`${PASSAGES_URL}/SetFreePassState`, params)\n    return {\n      data: response,\n    }\n  },\n} as DetectorDataProvider\n\ninterface DetectorDataProvider extends DataProvider {\n  resetCounters: (\n    resource: string,\n    params: ResetCountersDto,\n  ) => Promise<DataProviderExtensionResult<ResetCountersDto>>\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>\n\n  setLockState: (\n    resource: string,\n    params: SetLockStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetLockStateResponse>>\n\n  setPowerState: (\n    resource: string,\n    params: SetPowerStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetPowerStateResponse>>\n\n  setPPOZState: (\n    resource: string,\n    params: SetPPOZStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetPPOZStateResponse>>\n\n  setFreePassState: (\n    resource: string,\n    params: SetFreePassStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetFreePassStateResponse>>\n}\n\nexport interface CreatePassageRequest {\n  readonly name: string\n  readonly isWatched?: boolean\n  readonly lastRefresh?: DateTime\n  readonly address: string\n  readonly direction?: DeviceDirection\n  readonly categoryId?: number\n  readonly jsonStatus?: string\n  readonly freeEntrancesCount?: number\n  readonly freeExitsCount?: number\n  readonly ticketEntrancesCount?: number\n  readonly ticketExitsCount?: number\n  readonly unauthorizedEntrancesCount?: number\n  readonly unauthorizedExitsCount?: number\n  readonly hardwareVersion?: HardwareVersions\n}\n\nexport interface SetFreePassStateRequest {\n  readonly passageId: number\n  readonly freePassState: boolean\n  readonly direction: DeviceDirection\n}\n\nexport interface SetFreePassStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetLockStateRequest {\n  readonly passageId: number\n  readonly lockState: boolean\n}\n\nexport interface SetLockStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetPowerStateRequest {\n  readonly passageId: number\n  readonly powerState: boolean\n}\n\nexport interface SetPowerStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetPPOZStateRequest {\n  readonly passageId: number\n  readonly ppozState: boolean\n}\n\nexport interface SetPPOZStateResponse {\n  readonly passageId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  note: (lambdaParameter, value) =>\n    `${lambdaParameter}.Note.Contains(\"${value}\")`,\n  filterVerifierDeviceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.VerifierDevices.Any(vd=>vd.Id==${otherValues?.verifierDeviceId})`\n      : null,\n  verifierDeviceId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  note: 'e=>e.Note',\n}\n\nexport const mapSortEntranceParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyReferenceResult,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  CreateParams,\n  CreateResult,\n  Identifier,\n} from 'react-admin'\nimport { ENTRANCES_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport {\n  TicketAPIGetListParams,\n  TicketAPIGetManyRefrenceParams,\n} from '../common/ticket-api-get-list.params'\nimport { EntranceDto } from '../dto/entrance.dto'\nimport { EntranceDevicesDto } from '../dto/entrances-devices.dto'\nimport filterMapper from './entrance-filter.mapper'\nimport { mapSortEntranceParam } from './entrance-sort.mapper'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EntranceDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortEntranceParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EntranceDto>> => {\n    const data = await get<EntranceDto>(ENTRANCES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EntranceDto>> => {\n    const { data } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions/`,\n      `e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getManyReference: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetManyRefrenceParams,\n  ): Promise<GetManyReferenceResult<EntranceDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortEntranceParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateEntranceRequest>,\n  ): Promise<CreateResult<EntranceDto>> => {\n    const entrance = await post<CreateEntranceRequest[], EntranceDto[]>(\n      ENTRANCES_URL,\n      [data],\n    )\n    return {\n      data: entrance[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EntranceDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      EntranceDto\n    >(ENTRANCES_URL, {\n      id,\n      note: data.note !== previousData.name ? data.note : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  attachDevices: async (\n    resource: string,\n    params: EntranceDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>> => {\n    const entranceDevices = await put<EntranceDevicesDto, EntranceDevicesDto>(\n      `${ENTRANCES_URL}/AttachDevices`,\n      params,\n    )\n    return {\n      data: entranceDevices,\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EntranceDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>> => {\n    const entranceDevices = await put<EntranceDevicesDto, EntranceDevicesDto>(\n      `${ENTRANCES_URL}/DetachDevices`,\n      params,\n    )\n    return {\n      data: entranceDevices,\n    }\n  },\n} as EntranceDataProvider\n\ninterface EntranceDataProvider extends DataProvider {\n  attachDevices: (\n    resource: string,\n    params: EntranceDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>>\n\n  detachDevices: (\n    resource: string,\n    params: EntranceDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>>\n}\n\nexport interface CreateEntranceRequest {\n  readonly note: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterVerifierDeviceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.VerifierDevices.Any(vd=>vd.Id==${otherValues?.verifierDeviceId})`\n      : null,\n  verifierDeviceId: () => null,\n  status: (lambdaParameter, value) =>\n    `${lambdaParameter}.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Objects.Any(ob=>ob.Id.Equals(${value}))`,\n  companyId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Companies.Any(c=>c.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n  status: 'e=>e.Status',\n}\n\nexport const mapSortEventParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { EVENTS_URL } from '../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../common/data-provider'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { EventCompaniesDto } from '../dto/event/event-companies.dto'\nimport { EventDevicesDto } from '../dto/event/event-devices.dto'\nimport { EventObjectsDto } from '../dto/event/event-objects.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { EventStatus } from '../enum/EventStatus'\nimport filterMapper from './event-filter.mapper'\nimport { mapSortEventParam } from './event-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EventDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortEventParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EventDto>> => {\n    const event = await get<EventDto>(EVENTS_URL, `/${id}`)\n\n    return {\n      data: event,\n    }\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<EventDto>,\n  ): Promise<CreateResult<EventDto>> => {\n    const event = await post<CreateEventRequest[], EventDto[]>(EVENTS_URL, [\n      {\n        ...data,\n        dateStart: ignoreTimezoneOffset(\n          new Date(data.dateStart),\n        ).toISOString() as DateTime,\n        dateEnd: ignoreTimezoneOffset(\n          new Date(data.dateEnd),\n        ).toISOString() as DateTime,\n      },\n    ])\n\n    return {\n      data: event[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EventDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, EventDto>(\n      EVENTS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        dateStart:\n          data.dateStart !== previousData.dateStart\n            ? (ignoreTimezoneOffset(\n                new Date(data.dateStart),\n              ).toISOString() as DateTime)\n            : undefined,\n        dateEnd:\n          data.dateEnd !== previousData.dateEnd\n            ? (ignoreTimezoneOffset(\n                new Date(data.dateEnd),\n              ).toISOString() as DateTime)\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EventDto>> => {\n    const data = await get<EventDto[]>(\n      EVENTS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  activate: async (\n    resource: string,\n    { eventId }: ChangeStateParams,\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const activate = await put<undefined, ChangeStateResponse>(\n      `${EVENTS_URL}/ActivateAsyncJob/${eventId}`,\n      undefined,\n    )\n    return {\n      data: activate,\n    }\n  },\n  deactivate: async (\n    resource: string,\n    { eventId }: ChangeStateParams,\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const deactivate = await put<undefined, ChangeStateResponse>(\n      `${EVENTS_URL}/DeactivateAsyncJob/${eventId}`,\n      undefined,\n    )\n    return {\n      data: deactivate,\n    }\n  },\n  getCompanies: async (\n    resource: string,\n    { eventId }: GetCompaniesParams,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const companies = await get<EventCompaniesDto>(\n      `${EVENTS_URL}`,\n      `/GetCompanies/${eventId}`,\n    )\n    return {\n      data: companies,\n    }\n  },\n  attachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>(\n      `${EVENTS_URL}/AttachCompanies`,\n      params,\n    )\n    return {\n      data: eventCompanies,\n    }\n  },\n  detachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>(\n      `${EVENTS_URL}/DetachCompanies`,\n      params,\n    )\n    return {\n      data: eventCompanies,\n    }\n  },\n  attachObjects: async (\n    resource: string,\n    params: EventObjectsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>(\n      `${EVENTS_URL}/AttachObjects`,\n      params,\n    )\n    return {\n      data: eventObjects,\n    }\n  },\n  detachObjects: async (\n    resource: string,\n    params: EventObjectsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>(\n      `${EVENTS_URL}/DetachObjects`,\n      params,\n    )\n    return {\n      data: eventObjects,\n    }\n  },\n  getDevices: async (\n    resource: string,\n    { eventId }: GetDevicesParams,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const devices = await get<EventDevicesDto>(\n      `${EVENTS_URL}`,\n      `/GetDevices/${eventId}`,\n    )\n    return {\n      data: devices,\n    }\n  },\n  attachDevices: async (\n    resource: string,\n    params: EventDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>(\n      `${EVENTS_URL}/AttachDevices`,\n      params,\n    )\n    return {\n      data: eventDevices,\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EventDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>(\n      `${EVENTS_URL}/DetachDevices`,\n      params,\n    )\n    return {\n      data: eventDevices,\n    }\n  },\n} as EventDataProvider\n\ninterface EventDataProvider extends DataProvider {\n  activate: (\n    resource: string,\n    params: ChangeStateParams,\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>\n\n  deactivate: (\n    resource: string,\n    params: ChangeStateParams,\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>\n\n  getCompanies: (\n    resource: string,\n    params: GetCompaniesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  attachCompanies: (\n    resource: string,\n    params: EventCompaniesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  detachCompanies: (\n    resource: string,\n    params: EventCompaniesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  getObjectsList: (\n    resource: string,\n    params: GetObjectsParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  attachObjects: (\n    resource: string,\n    params: EventObjectsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  detachObjects: (\n    resource: string,\n    params: EventObjectsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  getDevices: (\n    resource: string,\n    params: GetDevicesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n\n  attachDevices: (\n    resource: string,\n    params: EventDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n\n  detachDevices: (\n    resource: string,\n    params: EventDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n}\n\nexport interface ChangeStateParams {\n  eventId: Identifier\n}\n\nexport interface ChangeStateResponse {\n  jobId: Identifier\n}\n\nexport interface GetCompaniesParams {\n  eventId: Identifier\n}\n\nexport interface GetObjectsParams {\n  eventId: Identifier\n}\n\nexport interface GetDevicesParams {\n  eventId: Identifier\n}\n\nexport interface CreateEventRequest {\n  readonly name: string\n  readonly status?: EventStatus\n  readonly dateStart: DateTime\n  readonly dateEnd: DateTime\n  readonly externalId?: string\n  readonly infix?: string\n  readonly objectsIds?: number[]\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  ticketCode: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BookingId.Equals(${value})`,\n  customerId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.CustomerId.Equals(${value})`,\n  date: (lambdaParameter, value) =>\n    `${lambdaParameter}.Date > DateTimeOffset.FromUnixTimeMilliseconds(${\n      value.toString().split(';')[0]\n    }).DateTime && ${lambdaParameter}.Date < DateTimeOffset.FromUnixTimeMilliseconds(${\n      value.toString().split(';')[1]\n    }).DateTime`,\n  deviceName: (lambdaParameter, value) =>\n    `${lambdaParameter}.Device.Name.Contains(\"${value}\")`,\n  text: (lambdaParameter, value) =>\n    `${lambdaParameter}.Data.Text.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Objects.Any(o=>o.Id.Equals(${value}))`,\n  eventId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Id.Equals(${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  date: 'l=>l.Date',\n  deviceName: 'l=>l.Device.Name',\n  ticketCode: 'l=>l.TicketCode',\n  bookingId: 'l=>l.BookingId',\n}\n\nexport const mapSortLogParam = (key: string) => mapping[key]\n","import { ExtendedLog } from '../dto/extended-log'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\n\nexport const mapToExtendedLog = (\n  {\n    id,\n    date,\n    ticketCode,\n    bookingId,\n    scheme,\n    device: { name: deviceName },\n    data,\n  }: ExtendedLogDto,\n  locale: string,\n): ExtendedLog => {\n  const logEntry = data.filter(({ language }) => language.includes(locale))[0]\n  return {\n    id,\n    date,\n    deviceName,\n    ticketCode,\n    text: logEntry?.text || scheme,\n    color: data[0].color || 'transparent',\n    bookingId,\n  }\n}\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EXTENDED_LOGS_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\nimport { ExtendedLog } from '../dto/extended-log'\nimport { filterMapper } from './extended-log-filter.mapper'\nimport { mapSortLogParam } from './extended-log-sort.mapper'\nimport { mapToExtendedLog } from './extended-logs.mapper'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { locale, ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<ExtendedLog>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortLogParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ExtendedLogDto[]>(EXTENDED_LOGS_URL, path)\n    const extendedLogs = data.map((dto) => mapToExtendedLog(dto, locale))\n\n    return Promise.resolve({\n      data: extendedLogs,\n      total,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.id==${value}`,\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'o=>o.Id',\n  name: 'o=>o.Name',\n}\n\nexport const mapSortObjectParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { OBJECTS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { ObjectDto } from '../dto/object.dto'\nimport filterMapper from './object-filter.mapper'\nimport { mapSortObjectParam } from './object-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<ObjectDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortObjectParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ObjectDto[]>(\n      `${OBJECTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<ObjectDto>> => {\n    const data = await get<ObjectDto>(OBJECTS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<CreateObjectRequest>,\n  ): Promise<CreateResult<ObjectDto>> => {\n    const object = await post<CreateObjectRequest[], ObjectDto[]>(OBJECTS_URL, [\n      data,\n    ])\n    return {\n      data: object[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, ObjectDto>(\n      OBJECTS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<ObjectDto>> => {\n    const data = await get<ObjectDto[]>(\n      OBJECTS_URL,\n      `/GetByConditions/o=>new int[] {${ids.toString()}}.Contains(o.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport interface CreateObjectRequest {\n  readonly name: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id==${value}`,\n  numberAlias: (lambdaParameter, value) =>\n    `${lambdaParameter}.NumberAlias.Contains(\"${value}\")`,\n  rowAlias: (lambdaParameter, value) =>\n    `${lambdaParameter}.RowAlias.Contains(\"${value}\")`,\n  blockId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BlockId.Equals(${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Block.Tribune.ObjectId.Equals(${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 's=>s.Id',\n  rowAlias: 's=>s.RowAlias',\n  numberAlias: 's=>s.numberAlias',\n  blockId: 's=>s.blockId',\n}\n\nexport const mapSortSeatParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { SEATS_URL } from '../api-urls'\nimport { get, getWithPagination, post, patch } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { SeatDto } from '../dto/seat.dto'\nimport { SeatCreateParams } from './seats-create.params'\nimport filterMapper from './seats-filter.mapper'\nimport { mapSortSeatParam } from './seats-sort.mapper'\n\ntype CreateSeatRequest = Array<SeatCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<SeatDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortSeatParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<SeatDto[]>(`${SEATS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<SeatCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateSeatRequest = [data]\n    await post<CreateSeatRequest, SeatDto[]>(SEATS_URL, request)\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<SeatDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, SeatDto>(\n      SEATS_URL,\n      {\n        id,\n        rowAlias:\n          data.rowAlias !== previousData.rowAlias ? data.rowAlias : undefined,\n        numberAlias:\n          data.numberAlias !== previousData.numberAlias\n            ? data.numberAlias\n            : undefined,\n        blockId:\n          data.blockId !== previousData.blockId ? data.blockId : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<SeatDto>> => {\n    const data = await get<SeatDto[]>(\n      SEATS_URL,\n      `/GetByConditions/s=>new int[] {${ids.toString()}}.Contains(s.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  status: (lambdaParameter, value) =>\n    `${lambdaParameter}.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${value})`,\n  hasObjects: (lambdaParameter) => `${lambdaParameter}.Objects.Count>0`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n}\n\nexport const mapSortOverallViewParam = (key: string) => mapping[key]\n","import { EventDto } from '../../../dto/event/event.dto'\nimport { EventOverallView } from './event-overall-view'\n\nexport const mapToEventOverallView = (event: EventDto): EventOverallView => ({\n  id: event.id,\n  name: event.name,\n  dateStart: event.dateStart,\n  dateEnd: event.dateEnd,\n})\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EVENTS_URL } from '../../../api-urls'\nimport { getWithPagination } from '../../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../../common/get-by-conditions.utils'\nimport { NameFilter } from '../../../common/name.filter'\nimport { EventDto } from '../../../dto/event/event.dto'\nimport { EventOverallView } from './event-overall-view'\nimport filterMapper from './overall-view-list-filter.mapper'\nimport { mapSortOverallViewParam } from './overall-view-list-sort.mapper'\nimport { mapToEventOverallView } from './overall-view-list.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: NameFilter,\n  ): Promise<GetListResult<EventOverallView>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortOverallViewParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions`,\n      path,\n    )\n\n    const overallViewList = data.map((event) => mapToEventOverallView(event))\n\n    return {\n      data: overallViewList,\n      total,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { BookingType } from '../../enum/BookingType'\nimport {\n  BlockOverallView,\n  ObjectOverallView,\n  OverallView,\n  TribuneOverallView,\n} from './overall-view'\n\nconst calculateCapacity = (seats: SeatDto[], bookings: BookingDto[]) =>\n  seats.length + bookings.filter((b) => b.seatId == null).length\n\nconst mapToBlockOverallView = (\n  block: BlockDto,\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): BlockOverallView => ({\n  id: block.id,\n  name: block.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookings.length,\n  soldNormal: bookings.filter((b) => b.type === BookingType.NORMAL).length,\n  enteredNormal: enteredBookings.filter((b) => b.type === BookingType.NORMAL)\n    .length,\n  soldAbo: bookings.filter((b) => b.type === BookingType.ABO).length,\n  enteredAbo: enteredBookings.filter((b) => b.type === BookingType.ABO).length,\n  soldInfix: bookings.filter((b) => b.type === BookingType.INFIX).length,\n  enteredInfix: enteredBookings.filter((b) => b.type === BookingType.INFIX)\n    .length,\n  soldService: bookings.filter((b) => b.type === BookingType.SERVICE).length,\n  enteredService: enteredBookings.filter((b) => b.type === BookingType.SERVICE)\n    .length,\n  soldPoints: bookings.filter((b) => b.type === BookingType.POINTS).length,\n  enteredPoints: enteredBookings.filter((b) => b.type === BookingType.POINTS)\n    .length,\n})\n\nconst mapToTribuneOverallView = (\n  tribune: TribuneDto,\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): TribuneOverallView => ({\n  id: tribune.id,\n  name: tribune.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  blocks: blocks\n    .filter((b) => tribune.blocksIds.includes(b.id))\n    .map((block) => {\n      const filteredSeats = seats.filter((s) => s.blockId === block.id)\n      const filteredBookingIds = block.bookingsIds.concat(\n        filteredSeats.flatMap((s) => s.bookingsIds),\n      )\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      const filteredEnteredBookings = bookings.filter((book) =>\n        filteredEnteredBookingIds.includes(book.id),\n      )\n      return mapToBlockOverallView(\n        block,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookings,\n      )\n    }),\n})\n\nconst mapToObjectOverallView = (\n  object: ObjectDto,\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): ObjectOverallView => ({\n  id: object.id,\n  name: object.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  tribunes: tribunes\n    .filter((t) => object.tribunesIds.includes(t.id))\n    .map((tribune) => {\n      const filteredBlocks = blocks.filter((b) => b.tribuneId === tribune.id)\n      const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n      const filteredSeats = seats.filter((s) => filteredSeatIds.includes(s.id))\n      const filteredBookingIds = filteredBlocks\n        .flatMap((b) => b.bookingsIds)\n        .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      return mapToTribuneOverallView(\n        tribune,\n        filteredBlocks,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookingIds,\n      )\n    }),\n})\n\nexport const mapToOverallView = (\n  selectedEvent: EventDto,\n  objects: ObjectDto[],\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): OverallView => {\n  const enteredBookingIds = enteredBookings.map((book) => book.id)\n  return {\n    id: selectedEvent.id,\n    eventName: selectedEvent.name,\n    capacity: calculateCapacity(seats, bookings),\n    sold: bookings.length,\n    entered: enteredBookings.length,\n    date: selectedEvent.dateStart,\n    objects: objects\n      .filter((o) => selectedEvent.objectsIds.includes(o.id))\n      .map((object) => {\n        const filteredTribunes = tribunes.filter(\n          (t) => t.objectId === object.id,\n        )\n        const filteredBlocks = blocks.filter((b) =>\n          filteredTribunes.flatMap((t) => t.blocksIds).includes(b.id),\n        )\n        const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n        const filteredSeats = seats.filter((s) =>\n          filteredSeatIds.includes(s.id),\n        )\n        const filteredBookingIds = filteredBlocks\n          .flatMap((b) => b.bookingsIds)\n          .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n        const filteredBookings = bookings.filter((book) =>\n          filteredBookingIds.includes(book.id),\n        )\n        const filteredEnteredBookingIds = enteredBookingIds.filter(\n          (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n        )\n        return mapToObjectOverallView(\n          object,\n          filteredTribunes,\n          filteredBlocks,\n          filteredSeats,\n          filteredBookings,\n          filteredEnteredBookingIds,\n        )\n      }),\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  BLOCKS_URL,\n  BOOKINGS_URL,\n  EVENTS_URL,\n  OBJECTS_URL,\n  SEATS_URL,\n  TRIBUNES_URL,\n} from '../../api-urls'\nimport { get, getByConditions } from '../../common/fetch.utils'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { OverallView } from './overall-view'\nimport { mapToOverallView } from './overall-view.mapper'\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: eventId }: GetOneParams,\n  ): Promise<GetOneResult<OverallView>> => {\n    const pendingSelectedEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingObjects = getByConditions<ObjectDto>(\n      OBJECTS_URL,\n      `o=>o.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=o=>o.Name&sortOrder=ASC`,\n    )\n    const pendingTribunes = getByConditions<TribuneDto>(\n      TRIBUNES_URL,\n      `t=>t.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=t=>t.Name&sortOrder=ASC`,\n    )\n    const pendingBlocks = getByConditions<BlockDto>(\n      BLOCKS_URL,\n      `b=>b.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=b=>b.Name&sortOrder=ASC`,\n    )\n    const pendingSeats = getByConditions<SeatDto>(\n      SEATS_URL,\n      `s=>s.Block.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))`,\n    )\n    const bookingsCondition = `b=>b.EventId.Equals(${eventId}) && b.Disabled != TicketAPI.Models.Enums.TicketManagement.BookingDisabledOptions.STORNO`\n    const pendingBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      bookingsCondition,\n    )\n    const pendingEnteredBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      `${bookingsCondition} && b.Tickets.SelectMany(t => t.AccessUsings).Any(au => au.Active == true && au.Direction.Equals(TicketAPI.Models.Enums.DeviceManagement.DeviceDirections.IN))`,\n    )\n\n    const [\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    ] = await Promise.all([\n      pendingSelectedEvent,\n      pendingObjects,\n      pendingTribunes,\n      pendingBlocks,\n      pendingSeats,\n      pendingBookings,\n      pendingEnteredBookings,\n    ])\n\n    const overallViewData = mapToOverallView(\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    )\n\n    return {\n      data: overallViewData,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  ids: (lambdaParameter, value) =>\n    `new int[] {${value}}.Contains(${lambdaParameter}.Id)`,\n  ticketCode: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BookingId.Equals(${value})`,\n  eventId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.EventId.Equals(${value})`,\n  bookingType: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Type.Equals(TicketAPI.Models.Enums.TicketManagement.BookingTypes.${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Objects.Any(o=>o.Id.Equals(${value}))`,\n  variantId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.VariantId.Equals(${value})`,\n  ticketType: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketType.Equals(TicketAPI.Models.Enums.TicketManagement.TicketTypes.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  ticketCode: 'p=>p.TicketCode',\n  bookingId: 't=>t.BookingId',\n  customerFirstname: 't=>t.Booking.Customer.Firstname',\n  customerLastname: 't=>t.Booking.Customer.Lastname',\n  customerPesel: 't=>t.Booking.Customer.Pesel',\n  eventName: 't=>t.Booking.Event.Name',\n}\n\nexport const mapSortTicketParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { TICKETS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { TicketType } from '../enum/TicketType'\nimport filterMapper from './ticket-filter.mapper'\nimport { mapSortTicketParam } from './ticket-sort.mapper'\nimport { CreateManyParams, ImportCsvDataProvider } from '../csv'\nimport { BookingType } from '../enum/BookingType'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, pagination, sort }: TicketAPIGetListParams,\n  ): Promise<GetListResult<TicketDto>> => {\n    const filterParams = `t=>${filterParamsComposer('t', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortTicketParam)\n    const path = `/${filterParams}${pathParams ? `?${pathParams}` : ''}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<TicketDto>> => {\n    const filterParams = `t=>${filterParamsComposer(\n      't',\n      { ids },\n      filterMapper,\n    )}`\n    const data = await get<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions/`,\n      filterParams,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<TicketDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, TicketDto>(\n      TICKETS_URL,\n      {\n        id,\n        ticketCode:\n          data.ticketCode !== previousData.ticketCode\n            ? data.ticketCode\n            : undefined,\n        ticketType:\n          data.ticketType !== previousData.ticketType\n            ? data.ticketType\n            : undefined,\n        active: data.active !== previousData.active ? data.active : undefined,\n        bookingId:\n          data.bookingId !== previousData.bookingId\n            ? data.bookingId\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<CreateTicketRequest>,\n  ): Promise<CreateResult> => {\n    const ticket = await post<CreateTicketRequest[], TicketDto[]>(TICKETS_URL, [\n      data,\n    ])\n    return Promise.resolve({\n      data: ticket[0],\n    })\n  },\n  createMany: async (\n    resource,\n    { data }: CreateManyParams<ImportTicketRequest>,\n  ): Promise<any> => {\n    const tickets = await post<ImportTicketRequest[], TicketDto[]>(\n      `${TICKETS_URL}/Import`,\n      data,\n    )\n    return { data: tickets[0] }\n  },\n} as ImportCsvDataProvider\n\ninterface CreateTicketRequest {\n  readonly ticketCode: string\n  readonly ticketType: TicketType\n  readonly active: boolean\n  readonly bookingId: number\n}\n\ninterface ImportTicketRequest {\n  readonly customerFirstName: string\n  readonly customerLastname: string\n  readonly customerPesel: string\n  readonly customerDocumentNumber: string\n  readonly ticketCode: string\n  readonly ticketType: TicketType\n  readonly bookingType: BookingType\n  readonly disabled: BookingDisabledOption\n  readonly blockId: number\n  readonly variantId: number\n  readonly eventId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) => `${lambdaParameter}.ObjectId==${value}`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 't=>t.Id',\n  name: 't=>t.Name',\n}\nexport const mapSortTribuneParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { TRIBUNES_URL } from '../api-urls'\nimport { get, getWithPagination, post, patch } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { TribuneDto } from '../dto/tribune.dto'\nimport { TribuneCreateParams } from './tribunes-create.params'\nimport filterMapper from './tribunes-filter.mapper'\nimport { mapSortTribuneParam } from './tribunes-sort.mapper'\n\ntype CreateTribuneRequest = Array<TribuneCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<TribuneDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortTribuneParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<TribuneDto[]>(\n      `${TRIBUNES_URL}/GetByConditions`,\n      path,\n    )\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<TribuneCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateTribuneRequest = [data]\n    await post<CreateTribuneRequest, TribuneDto[]>(TRIBUNES_URL, request)\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      TribuneDto\n    >(TRIBUNES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<TribuneDto>> => {\n    const data = await get<TribuneDto[]>(\n      TRIBUNES_URL,\n      `/GetByConditions/t=>new int[] {${ids.toString()}}.Contains(t.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterAccessId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Accesses.Any(a=>a.Id==${otherValues?.accessId})`\n      : null,\n  accessId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  active: 'p=>p.Active',\n}\n\nexport const mapSortVariantParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  CreateParams,\n  CreateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { VARIANTS_URL } from '../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { VariantAccessesDto } from '../dto/variant-accesses.dto'\nimport { VariantDto } from '../dto/variant.dto'\nimport filterMapper from './variants-filter.mapper'\nimport { mapSortVariantParam } from './variants-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<VariantDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortVariantParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<VariantDto[]>(\n      `${VARIANTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<VariantDto>> => {\n    const data = await get<VariantDto>(VARIANTS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<VariantDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateVariantRequest, VariantDto>(VARIANTS_URL, {\n      id: id as number,\n      name: data.name !== previousData.name ? data.name : undefined,\n      active: data.active !== previousData.active ? data.active : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<VariantDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateVariantRequest[], VariantDto[]>(\n      VARIANTS_URL,\n      [\n        {\n          name: data?.name,\n          active: data?.active || false,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<VariantDto>> => {\n    const data = await get<VariantDto[]>(\n      VARIANTS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  attachAccesses: async (\n    resource: string,\n    params: VariantAccessesDto,\n  ): Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>> => {\n    const variantAccesses = await put<VariantAccessesDto, VariantAccessesDto>(\n      `${VARIANTS_URL}/AttachAccesses`,\n      params,\n    )\n    return {\n      data: variantAccesses,\n    }\n  },\n  detachAccesses: async (\n    resource: string,\n    params: VariantAccessesDto,\n  ): Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>> => {\n    const variantAccesses = await put<VariantAccessesDto, VariantAccessesDto>(\n      `${VARIANTS_URL}/DetachAccesses`,\n      params,\n    )\n    return {\n      data: variantAccesses,\n    }\n  },\n} as VariantDataProvider\n\ninterface VariantDataProvider extends DataProvider {\n  attachAccesses: (\n    resource: string,\n    params: VariantAccessesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>>\n\n  detachAccesses: (\n    resource: string,\n    params: VariantAccessesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>>\n}\n\ntype CreateVariantRequest = Pick<VariantDto, 'name'> &\n  Partial<Pick<VariantDto, 'active'>>\n\ntype UpdateVariantRequest = Pick<VariantDto, 'id'> &\n  Partial<Pick<VariantDto, 'name' | 'active'>>\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport accessDatesProvider from './access-dates/access-dates.provider'\nimport accessUsingsProvider from './access-usings/access-usings.provider'\nimport accessesProvider from './accesses/access.provider'\nimport companiesProvider from './administration/companies/companies.provider'\nimport permissionsProvider from './administration/permissions/permissions.provider'\nimport rolesProvider from './administration/roles/roles.provider'\nimport usersProvider from './administration/users/users.provider'\nimport blocksProvider from './blocks/blocks.provider'\nimport bookingsProvider from './bookings/bookings.provider'\nimport customersProvider from './customers/customers.provider'\nimport deviceCategoriesProvider from './device-categories/device-categories.provider'\nimport detectorsProvider from './devices/detectors/detectors.provider'\nimport engineProvider from './devices/engines/engines.provider'\nimport palmProvider from './devices/palms/palms.provider'\nimport passagesProvider from './devices/passages/passages.provider'\nimport entrancesProvider from './entrances/entrance.provider'\nimport eventsProvider from './events/event.provider'\nimport logsProvider from './extended-logs/extended-logs.provider'\nimport objectsProvider from './objects/objects.provider'\nimport { ResourceName } from './ResourceName'\nimport seatsProvider from './seats/seats.provider'\nimport statsOverallViewListProvider from './stats/overall-view/list/overall-view-list.provider'\nimport statsOverallViewProvider from './stats/overall-view/overall-view.provider'\nimport ticketsProvider from './tickets/tickets.provider'\nimport tribunesProvider from './tribunes/tribunes.provider'\nimport variantsProvider from './variants/variants.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: accessDatesProvider,\n  [ResourceName.ACCESSES]: accessesProvider,\n  [ResourceName.ACCESS_USINGS]: accessUsingsProvider,\n  [ResourceName.BOOKINGS]: bookingsProvider,\n  [ResourceName.COMPANIES]: companiesProvider,\n  [ResourceName.CUSTOMERS]: customersProvider,\n  [ResourceName.DETECTORS]: detectorsProvider,\n  [ResourceName.ENGINES]: engineProvider,\n  [ResourceName.ENTRANCES]: entrancesProvider,\n  [ResourceName.EVENTS]: eventsProvider,\n  [ResourceName.LOGS]: logsProvider,\n  [ResourceName.OBJECTS]: objectsProvider,\n  [ResourceName.PALMS]: palmProvider,\n  [ResourceName.ROLES]: rolesProvider,\n  [ResourceName.PERMISSIONS]: permissionsProvider,\n  [ResourceName.PASSAGES]: passagesProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: statsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: statsOverallViewListProvider,\n  [ResourceName.TICKETS]: ticketsProvider,\n  [ResourceName.TICKET_LOGS]: logsProvider,\n  [ResourceName.TRIBUNES]: tribunesProvider,\n  [ResourceName.BLOCKS]: blocksProvider,\n  [ResourceName.SEATS]: seatsProvider,\n  [ResourceName.USERS]: usersProvider,\n  [ResourceName.VARIANTS]: variantsProvider,\n  [ResourceName.DEVICE_CATEGORIES]: deviceCategoriesProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import i18n from 'i18next'\n\nconst provider = {\n  translate: (key: string, options: any): string => i18n.t(key, options),\n  changeLocale: async (locale: string): Promise<void> => {\n    const identity = localStorage.getItem('username') as string\n    localStorage.setItem(`${identity}.lng`, locale)\n    await i18n.changeLanguage(locale)\n  },\n  getLocale: (): string => i18n.language,\n}\n\nexport default provider\n","import { AuthProvider } from 'react-admin'\nimport { get } from '../common/fetch.utils'\nimport { RoleDto } from '../dto/role/role.dto'\nimport { ROLES_URL } from '../api-urls'\n\nconst areRolesOutOfSync = (local: Set<string>, remote: string[]) =>\n  local.size !== remote.length || !remote.every((value) => local.has(value))\n\nconst validateRoles = async (\n  dataProvider: AuthProvider,\n  params: any,\n  rolesFromRemote: string[],\n): Promise<Set<string>> => {\n  const rolesFromLocalStorage = (await dataProvider.getPermissions(\n    params,\n  )) as Set<string>\n  if (areRolesOutOfSync(rolesFromLocalStorage, rolesFromRemote)) {\n    // eslint-disable-next-line no-console\n    console.error('Corrupted permissions')\n    await dataProvider.logout('')\n    return Promise.resolve(new Set([]))\n  }\n  return Promise.resolve(rolesFromLocalStorage)\n}\n\nexport const withSynchronizedPermissions = (dataProvider: AuthProvider) => {\n  // this is set once on app initialization\n  let rolesFromRemote: string[] | null = null\n\n  return new Proxy<AuthProvider>(dataProvider, {\n    get:\n      (target, name: string) =>\n      async (params: any): Promise<any> => {\n        switch (name as keyof AuthProvider) {\n          // avoid re-executing getRoles call\n          case 'login': {\n            await dataProvider.login(params)\n            const rolesFromLocalStorage = (await dataProvider.getPermissions(\n              params,\n            )) as Set<string>\n            rolesFromRemote = Array.from(rolesFromLocalStorage)\n            return Promise.resolve()\n          }\n          case 'getPermissions': {\n            if (rolesFromRemote) {\n              // compares the status of local and remote roles each time it checks for permissions\n              return validateRoles(dataProvider, params, rolesFromRemote)\n            }\n            // after reloading the page it needs to fetch roles from remote\n            const roleDtos = await get<RoleDto[]>(ROLES_URL)\n            const roles = roleDtos.map((v) => v.name)\n            rolesFromRemote = roles\n            localStorage.setItem('roles', roles.join())\n            return Promise.resolve(new Set(roles))\n          }\n          default: {\n            return dataProvider[name](params)\n          }\n        }\n      },\n  })\n}\n","import { defaultTheme, RaThemeOptions } from 'react-admin'\nimport { deepPurple, green } from '@material-ui/core/colors'\n\nconst overriddenTheme: RaThemeOptions = {\n  ...defaultTheme,\n  typography: {\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    body1: {\n      fontWeight: 300,\n    },\n    body2: {\n      fontWeight: 300,\n    },\n    h5: {\n      fontWeight: 200,\n    },\n  },\n  overrides: {\n    RaFilter: {\n      form: {\n        margin: 0,\n      },\n    },\n  },\n  sidebar: {\n    width: 240,\n    closedWidth: 55,\n  },\n}\n\nexport const LightTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: deepPurple,\n    secondary: green,\n    type: 'light',\n  },\n}\n\nexport const DarkTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: {\n      light: deepPurple[100],\n      main: deepPurple[200],\n      dark: deepPurple[300],\n      contrastText: '#F1F1F1',\n    },\n    secondary: green,\n    type: 'dark',\n  },\n}\n","import {\n  MenuItem,\n  Collapse,\n  Tooltip,\n  ListItemIcon,\n  Typography,\n  List,\n  Slide,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ExpandMore } from '@material-ui/icons'\nimport React, { ReactElement, ReactNode, useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ReduxState } from 'react-admin'\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    minWidth: theme.spacing(5),\n  },\n  sidebarIsOpen: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(4),\n    },\n  },\n  sidebarIsClosed: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(2),\n    },\n  },\n  slideIn: {\n    transitionDelay: '200ms',\n  },\n}))\n\ninterface SubMenuProps {\n  handleToggle: () => void\n  icon: ReactElement\n  isOpen: boolean\n  name: string\n  children: ReactNode\n}\n\nexport const SubMenu = (props: SubMenuProps) => {\n  const { handleToggle, icon, isOpen, name, children } = props\n  const [expandIconVisible, setExpandIconVisible] = useState(true)\n  const sidebarOpen = useSelector(\n    (state: ReduxState) => state?.admin.ui.sidebarOpen,\n  )\n  const classes = useStyles()\n  const containerRef = useRef(null)\n\n  const handleIconChange = () => {\n    handleToggle()\n    setTimeout(() => {\n      setExpandIconVisible(!expandIconVisible)\n    }, 100)\n  }\n\n  const header = (\n    <MenuItem button onClick={handleIconChange}>\n      <ListItemIcon className={classes.icon}>\n        {expandIconVisible ? (\n          <Slide direction=\"down\" in={isOpen} ref={containerRef.current}>\n            <ExpandMore />\n          </Slide>\n        ) : (\n          <Slide direction=\"up\" in={!isOpen} ref={containerRef.current}>\n            {icon}\n          </Slide>\n        )}\n      </ListItemIcon>\n      <Typography variant=\"inherit\" color=\"textSecondary\">\n        {name}\n      </Typography>\n    </MenuItem>\n  )\n\n  return (\n    <>\n      {sidebarOpen || isOpen ? (\n        header\n      ) : (\n        <Tooltip title={name} placement=\"right\">\n          {header}\n        </Tooltip>\n      )}\n      <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n        <List\n          component=\"div\"\n          disablePadding\n          className={\n            sidebarOpen ? classes.sidebarIsOpen : classes.sidebarIsClosed\n          }\n        >\n          {children}\n        </List>\n      </Collapse>\n    </>\n  )\n}\n","import React, { ReactElement } from 'react'\nimport {\n  useTranslate,\n  MenuItemLink,\n  ReduxState,\n  ResourceDefinition,\n  getResources,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { ResourceName } from '../../core/ResourceName'\n\ninterface MenuItemProps {\n  resource: ResourceName\n  icon: ReactElement\n}\n\nconst MenuItem = (props: MenuItemProps) => {\n  const { resource, icon } = props\n  const translate = useTranslate()\n\n  const availableResources = new Set(\n    useSelector<ReduxState, ResourceDefinition[]>(getResources).map(\n      (r) => r.name as ResourceName,\n    ),\n  )\n\n  return (\n    <>\n      {availableResources.has(resource) && (\n        <MenuItemLink\n          to={`/${resource}`}\n          primaryText={translate(`resources.${resource}.name`)}\n          leftIcon={icon}\n        />\n      )}\n    </>\n  )\n}\n\nexport default MenuItem\n","import { makeStyles, Theme } from '@material-ui/core'\nimport {\n  AccountBalance,\n  Assessment,\n  DirectionsWalk,\n  CenterFocusStrong,\n  Category,\n  Event,\n  ExitToApp,\n  List,\n  Person,\n  PhoneAndroid,\n  Receipt,\n  SettingsApplications,\n  Sort,\n  VideoLabel,\n  ViewComfy,\n  AccountBalanceWallet,\n  SupervisorAccount,\n  Apartment,\n  Group,\n  VerifiedUser,\n  ArrowForward,\n} from '@material-ui/icons'\nimport classNames from 'classnames'\nimport React, { useState } from 'react'\nimport {\n  DashboardMenuItem,\n  ReduxState,\n  useTranslate,\n  RaThemeOverrides,\n  getResources,\n  ResourceDefinition,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SubMenu } from './AppSubmenu'\nimport MenuItem from './MenuItem'\n\ninterface AdminTheme extends Theme {\n  sidebar?: {\n    width?: number\n    closedWidth?: number\n  }\n  overrides?: RaThemeOverrides\n}\n\nconst useStyles = makeStyles((theme: AdminTheme) => ({\n  root: {\n    marginTop: theme.spacing(1) || 0,\n    marginBottom: theme.spacing(1),\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  open: {\n    width: theme.sidebar?.width,\n  },\n  closed: {\n    width: theme.sidebar?.closedWidth,\n  },\n}))\n\nexport const AppMenu = () => {\n  const open = useSelector((state: ReduxState) => state.admin.ui.sidebarOpen)\n  const classes = useStyles()\n  const [menuState, setMenuState] = useState({\n    menuStats: true,\n    menuDevices: true,\n    menuConfiguration: true,\n    menuAdministration: true,\n  })\n\n  const availableResources = new Set(\n    useSelector<ReduxState, ResourceDefinition[]>(getResources).map(\n      (r) => r.name as ResourceName,\n    ),\n  )\n  const translate = useTranslate()\n\n  const handleToggle = (\n    menu:\n      | 'menuStats'\n      | 'menuDevices'\n      | 'menuConfiguration'\n      | 'menuAdministration',\n  ) => setMenuState((state) => ({ ...state, [menu]: !state[menu] }))\n\n  const anyStatsResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.STATS_OVERALL_VIEW_LIST)\n\n  const anyDeviceResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.PALMS) ||\n    avRes.has(ResourceName.ENGINES) ||\n    avRes.has(ResourceName.DETECTORS) ||\n    avRes.has(ResourceName.DEVICE_CATEGORIES) ||\n    avRes.has(ResourceName.PASSAGES)\n\n  const anyConfigurationResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.ACCESSES) ||\n    avRes.has(ResourceName.VARIANTS) ||\n    avRes.has(ResourceName.ENTRANCES)\n  const anyAdministrationResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.COMPANIES) || avRes.has(ResourceName.ROLES)\n\n  return (\n    <div\n      style={{ userSelect: 'none' }}\n      className={classNames(classes.root, {\n        [classes.open]: open,\n        [classes.closed]: !open,\n      })}\n    >\n      <DashboardMenuItem />\n      <MenuItem resource={ResourceName.TICKETS} icon={<Receipt />} />\n      <MenuItem resource={ResourceName.CUSTOMERS} icon={<Person />} />\n      <MenuItem resource={ResourceName.LOGS} icon={<List />} />\n      <MenuItem resource={ResourceName.EVENTS} icon={<Event />} />\n      {anyStatsResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuStats')}\n          isOpen={menuState.menuStats}\n          name={translate('side-menu.stats.name')}\n          icon={<ViewComfy />}\n        >\n          <MenuItem\n            resource={ResourceName.STATS_OVERALL_VIEW_LIST}\n            icon={<Sort style={{ transform: 'scaleX(-1)' }} />}\n          />\n        </SubMenu>\n      )}\n      {anyDeviceResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuDevices')}\n          isOpen={menuState.menuDevices}\n          name={translate('side-menu.devices.name')}\n          icon={<VideoLabel />}\n        >\n          <MenuItem resource={ResourceName.PALMS} icon={<PhoneAndroid />} />\n          <MenuItem\n            resource={ResourceName.ENGINES}\n            icon={<AccountBalanceWallet />}\n          />\n          <MenuItem\n            resource={ResourceName.DETECTORS}\n            icon={<CenterFocusStrong />}\n          />\n          <MenuItem resource={ResourceName.PASSAGES} icon={<ArrowForward />} />\n          <MenuItem\n            resource={ResourceName.DEVICE_CATEGORIES}\n            icon={<Category />}\n          />\n        </SubMenu>\n      )}\n      {anyConfigurationResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuConfiguration')}\n          isOpen={menuState.menuConfiguration}\n          name={translate('side-menu.configuration.name')}\n          icon={<SettingsApplications />}\n        >\n          <MenuItem resource={ResourceName.ACCESSES} icon={<ExitToApp />} />\n          <MenuItem resource={ResourceName.VARIANTS} icon={<Assessment />} />\n          <MenuItem\n            resource={ResourceName.ENTRANCES}\n            icon={<DirectionsWalk />}\n          />\n        </SubMenu>\n      )}\n      {anyAdministrationResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuAdministration')}\n          isOpen={menuState.menuAdministration}\n          name={translate('side-menu.administration.name')}\n          icon={<SupervisorAccount />}\n        >\n          <MenuItem resource={ResourceName.COMPANIES} icon={<Apartment />} />\n          <MenuItem resource={ResourceName.ROLES} icon={<VerifiedUser />} />\n          <MenuItem resource={ResourceName.USERS} icon={<Group />} />\n        </SubMenu>\n      )}\n      <MenuItem resource={ResourceName.OBJECTS} icon={<AccountBalance />} />\n    </div>\n  )\n}\n","import { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Settings } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  AppBar,\n  AppBarProps,\n  CoreLayoutProps,\n  UserMenu,\n  UserMenuProps,\n  MenuItemLink,\n  useTranslate,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { DarkTheme, LightTheme } from './app.theme'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport { AppMenu } from './AppMenu'\nimport { Layout } from '../../lib/@react-admin/ra-enterprise/esm/src'\n\nconst useStyles = makeStyles({\n  title: {\n    flex: 1,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n})\n\nconst AppUserMenu = (props: UserMenuProps) => {\n  const translate = useTranslate()\n  return (\n    <UserMenu {...props}>\n      <MenuItemLink\n        to=\"/configuration\"\n        primaryText={translate('settings.name')}\n        leftIcon={<Settings />}\n      />\n    </UserMenu>\n  )\n}\n\nconst AppTopBar = (props: AppBarProps) => {\n  const classes = useStyles()\n  return (\n    <AppBar {...props} userMenu={<AppUserMenu />}>\n      <Typography\n        variant=\"h6\"\n        className={classes.title}\n        id=\"react-admin-title\"\n      />\n    </AppBar>\n  )\n}\n\nexport const AppLayout = (props: CoreLayoutProps) => {\n  const theme = useSelector((state: ThemeState) =>\n    state.theme.darkMode === 'dark' ? DarkTheme : LightTheme,\n  )\n\n  return <Layout {...props} menu={AppMenu} appBar={AppTopBar} theme={theme} />\n}\n","import React, { ChangeEvent, FC, useState } from 'react'\nimport {\n  Box,\n  Button,\n  FormControl,\n  FormHelperText,\n  Input,\n  withStyles,\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { useTranslate } from 'react-admin'\n\nconst RoundInputBox = withStyles(({ palette }) => ({\n  root: {\n    borderRadius: 16,\n    width: '90%',\n    marginLeft: '5%',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n    border: 'solid',\n    borderColor: palette.primary.dark,\n  },\n}))(Box)\n\nconst RoundInputBoxBtn = withStyles(({ palette }) => ({\n  root: {\n    background: palette.primary.dark,\n    variant: 'contained',\n    borderRadius: 11,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    margin: 0,\n    fontWeight: 'bold',\n    '&:hover': {\n      background: palette.primary.main,\n    },\n  },\n}))(Button)\n\nconst RoundInputBoxFC = withStyles({\n  root: {\n    width: '100%',\n    marginLeft: 13,\n    marginTop: 2,\n  },\n})(FormControl)\n\nexport type SearchInputProps = {\n  label: string\n  onValue: (value: string) => void\n  disabled: boolean\n  error: string\n}\n\nconst SearchInput: FC<Readonly<SearchInputProps>> = ({\n  label,\n  onValue,\n  disabled,\n  error,\n}) => {\n  const [inputError, setInputError] = useState(false)\n  const [inputValue, setInputValue] = useState('')\n  const t = useTranslate()\n\n  const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value)\n  }\n\n  const handleClick = () => {\n    if (inputValue) {\n      setInputError(false)\n      onValue(inputValue)\n    } else {\n      setInputError(true)\n    }\n  }\n\n  return (\n    <RoundInputBox>\n      <RoundInputBoxBtn onClick={handleClick} disabled={disabled}>\n        <SearchIcon style={{ color: 'white' }} />\n      </RoundInputBoxBtn>\n      <RoundInputBoxFC disabled={disabled}>\n        <Input\n          disableUnderline\n          placeholder={t(label)}\n          onInput={handleInput}\n          onKeyDown={(ev) => ev.key === 'Enter' && handleClick()}\n          error={inputError || !!error}\n        />\n        {inputError && (\n          <FormHelperText error>{t('ra.validation.required')}</FormHelperText>\n        )}\n        {!!error && <FormHelperText error>{t(error)}</FormHelperText>}\n      </RoundInputBoxFC>\n    </RoundInputBox>\n  )\n}\n\nexport default SearchInput\n","import React, { useCallback, useState } from 'react'\nimport {\n  useNotify,\n  useMutation,\n  useTranslate,\n  sanitizeFetchType,\n  GetListResult,\n  GET_LIST,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { stringify } from 'querystring'\nimport { CardContent, CardHeader } from '@material-ui/core'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\nimport { CustomerDto } from '../../core/dto/customer.dto'\n\nexport const FindCustomerByInfo = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchCustomers = useCallback(\n    (info: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.CUSTOMERS,\n          payload: { filter: { info } },\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<CustomerDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (info: string) => {\n      if (info.replace(/\\s/g, '').length === 0) {\n        setError('common.find-customer-by-info.invalidQuery')\n      } else if (info.length < 2) {\n        setError('common.find-customer-by-info.tooShort')\n      } else {\n        setError('')\n        try {\n          const {\n            total,\n            data: [onlyCustomer],\n          } = await fetchCustomers(info)\n          if (!total) {\n            setError('common.find-customer-by-info.error')\n          } else if (total === 1) {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMERS}/${onlyCustomer.id}/show`,\n            })\n          } else {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMERS}`,\n              search: stringify({\n                filter: JSON.stringify({\n                  info,\n                }),\n              }),\n            })\n          }\n        } catch (err) {\n          notify((err as Error)?.message, 'error')\n        }\n      }\n    },\n    [fetchCustomers, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-customer-by-info.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-customer-by-info.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { CardContent, CardHeader } from '@material-ui/core'\nimport { stringify } from 'querystring'\nimport * as React from 'react'\nimport { useCallback, useState } from 'react'\nimport {\n  GetListResult,\n  GET_LIST,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\n\nexport const FindUserByTicket = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchTickets = useCallback(\n    (ticketCode: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.TICKETS,\n          payload: {\n            filter: { ticketCode },\n          },\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<TicketDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (ticketCode: string) => {\n      setError('')\n      try {\n        const {\n          total,\n          data: [onlyTicket],\n        } = await fetchTickets(ticketCode)\n        if (!total) {\n          setError('common.find-user-by-ticket.error')\n        } else if (total === 1) {\n          history.push({\n            pathname: `/${ResourceName.BOOKINGS}/${onlyTicket.bookingId}/show`,\n          })\n        } else {\n          history.push({\n            pathname: `/${ResourceName.TICKETS}`,\n            search: stringify({\n              filter: JSON.stringify({\n                ticketCode,\n              }),\n            }),\n          })\n        }\n      } catch (err) {\n        notify((err as Error)?.message, 'error')\n      }\n    },\n    [fetchTickets, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-user-by-ticket.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-user-by-ticket.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { Authority } from './Authority'\n\nconst mapping: Record<Authority, string[]> = {\n  // User management\n  [Authority.VIEW_USER_MANAGEMENT]: ['ViewItems_Variants_Show'],\n\n  // Logs\n  [Authority.VIEW_LOGS]: ['ViewItems_Logs'],\n\n  // Stats\n  [Authority.VIEW_STATS_OVERALL_VIEW]: ['ViewItems_Stats_OverallView'],\n\n  // Companies\n  [Authority.VIEW_COMPANIES]: [\n    'ViewItems_Companies_Show',\n    'ViewItems_Companies_Edit',\n    'ViewItems_Companies_Add',\n  ],\n  [Authority.EDIT_COMPANIES]: ['ViewItems_Companies_Edit'],\n  [Authority.CREATE_COMPANIES]: ['ViewItems_Companies_Add'],\n\n  // Users\n  [Authority.VIEW_USERS]: [\n    'ViewItems_Users_Show',\n    'ViewItems_Users_Edit',\n    'ViewItems_Users_Add',\n  ],\n  [Authority.EDIT_USERS]: ['ViewItems_Users_Edit'],\n  [Authority.CREATE_USERS]: ['ViewItems_Users_Add'],\n\n  // Roles\n  [Authority.VIEW_ROLES]: [\n    'ViewItems_Roles_Show',\n    'ViewItems_Roles_Edit',\n    'ViewItems_Roles_Add',\n  ],\n  [Authority.EDIT_ROLES]: ['ViewItems_Roles_Edit'],\n  [Authority.CREATE_ROLES]: ['ViewItems_Roles_Add'],\n\n  // Access dates\n  [Authority.VIEW_ACCESS_DATES]: [\n    'ViewItems_AccessDates_Show',\n    'ViewItems_AccessDates_Edit',\n    'ViewItems_AccessDates_Add',\n  ],\n  [Authority.EDIT_ACCESS_DATES]: ['ViewItems_AccessDates_Edit'],\n  [Authority.CREATE_ACCESS_DATES]: ['ViewItems_AccessDates_Add'],\n\n  // Accesses\n  [Authority.VIEW_ACCESSES]: [\n    'ViewItems_Accesses_Show',\n    'ViewItems_Accesses_Edit',\n    'ViewItems_Accesses_Add',\n  ],\n  [Authority.EDIT_ACCESSES]: ['ViewItems_Accesses_Edit'],\n  [Authority.CREATE_ACCESSES]: ['ViewItems_Accesses_Add'],\n\n  // Access usings\n  [Authority.VIEW_ACCESS_USINGS]: [\n    'ViewItems_AccessUsings_Show',\n    'ViewItems_AccessUsings_Edit',\n    'ViewItems_AccessUsings_Add',\n  ],\n  [Authority.EDIT_ACCESS_USINGS]: ['ViewItems_AccessUsings_Edit'],\n  [Authority.CREATE_ACCESS_USINGS]: ['ViewItems_AccessUsings_Add'],\n\n  // Blocks\n  [Authority.VIEW_BLOCKS]: [\n    'ViewItems_Blocks_Show',\n    'ViewItems_Blocks_Edit',\n    'ViewItems_Blocks_Add',\n  ],\n  [Authority.EDIT_BLOCKS]: ['ViewItems_Blocks_Edit'],\n  [Authority.CREATE_BLOCKS]: ['ViewItems_Blocks_Add'],\n\n  // Bookings\n  [Authority.VIEW_BOOKINGS]: [\n    'ViewItems_Bookings_Show',\n    'ViewItems_Bookings_Edit',\n    'ViewItems_Bookings_Add',\n  ],\n  [Authority.EDIT_BOOKINGS]: ['ViewItems_Bookings_Edit'],\n  [Authority.CREATE_BOOKINGS]: ['ViewItems_Bookings_Add'],\n\n  // Customers\n  [Authority.VIEW_CUSTOMERS]: [\n    'ViewItems_Customers_Show',\n    'ViewItems_Customers_Edit',\n    'ViewItems_Customers_Add',\n  ],\n  [Authority.EDIT_CUSTOMERS]: ['ViewItems_Customers_Edit'],\n  [Authority.CREATE_CUSTOMERS]: ['ViewItems_Customers_Add'],\n\n  // Events\n  [Authority.VIEW_EVENTS]: [\n    'ViewItems_Events_Show',\n    'ViewItems_Events_Edit',\n    'ViewItems_Events_Add',\n  ],\n  [Authority.EDIT_EVENTS]: ['ViewItems_Events_Edit'],\n  [Authority.CREATE_EVENTS]: ['ViewItems_Events_Add'],\n\n  // Objects\n  [Authority.VIEW_OBJECTS]: [\n    'ViewItems_Objects_Show',\n    'ViewItems_Objects_Edit',\n    'ViewItems_Objects_Add',\n  ],\n  [Authority.EDIT_OBJECTS]: ['ViewItems_Objects_Edit'],\n  [Authority.CREATE_OBJECTS]: ['ViewItems_Objects_Add'],\n\n  // Schemes\n  [Authority.VIEW_SCHEMES]: [\n    'ViewItems_Schemes_Show',\n    'ViewItems_Schemes_Edit',\n    'ViewItems_Schemes_Add',\n  ],\n  [Authority.EDIT_SCHEMES]: ['ViewItems_Schemes_Edit'],\n  [Authority.CREATE_SCHEMES]: ['ViewItems_Schemes_Add'],\n\n  // Seats\n  [Authority.VIEW_SEATS]: [\n    'ViewItems_Seats_Show',\n    'ViewItems_Seats_Edit',\n    'ViewItems_Seats_Add',\n  ],\n  [Authority.EDIT_SEATS]: ['ViewItems_Seats_Edit'],\n  [Authority.CREATE_SEATS]: ['ViewItems_Seats_Add'],\n\n  // Tickets\n  [Authority.VIEW_TICKETS]: [\n    'ViewItems_Tickets_Show',\n    'ViewItems_Tickets_Edit',\n    'ViewItems_Tickets_Add',\n  ],\n  [Authority.EDIT_TICKETS]: ['ViewItems_Tickets_Edit'],\n  [Authority.CREATE_TICKETS]: ['ViewItems_Tickets_Add'],\n\n  // Tribunes\n  [Authority.VIEW_TRIBUNES]: [\n    'ViewItems_Tribunes_Show',\n    'ViewItems_Tribunes_Edit',\n    'ViewItems_Tribunes_Add',\n  ],\n  [Authority.EDIT_TRIBUNES]: ['ViewItems_Tribunes_Edit'],\n  [Authority.CREATE_TRIBUNES]: ['ViewItems_Tribunes_Add'],\n\n  // Variants\n  [Authority.VIEW_VARIANTS]: [\n    'ViewItems_Variants_Show',\n    'ViewItems_Variants_Edit',\n    'ViewItems_Variants_Add',\n  ],\n  [Authority.EDIT_VARIANTS]: ['ViewItems_Variants_Edit'],\n  [Authority.CREATE_VARIANTS]: ['ViewItems_Variants_Add'],\n\n  // Engines\n  [Authority.VIEW_ENGINES]: [\n    'ViewItems_Engines_Show',\n    'ViewItems_Engines_Edit',\n    'ViewItems_Engines_Add',\n  ],\n  [Authority.EDIT_ENGINES]: ['ViewItems_Engines_Edit'],\n  [Authority.CREATE_ENGINES]: ['ViewItems_Engines_Add'],\n\n  // Palms\n  [Authority.VIEW_PALMS]: [\n    'ViewItems_Palms_Show',\n    'ViewItems_Palms_Edit',\n    'ViewItems_Palms_Add',\n  ],\n  [Authority.EDIT_PALMS]: ['ViewItems_Palms_Edit'],\n  [Authority.CREATE_PALMS]: ['ViewItems_Palms_Add'],\n\n  // Palm scheme data\n  [Authority.VIEW_PALM_SCHEME_DATA]: [\n    'ViewItems_PalmSchemeData_Show',\n    'ViewItems_PalmSchemeData_Edit',\n    'ViewItems_PalmSchemeData_Add',\n  ],\n  [Authority.EDIT_PALM_SCHEME_DATA]: ['ViewItems_PalmSchemeData_Edit'],\n  [Authority.CREATE_PALM_SCHEME_DATA]: ['ViewItems_PalmSchemeData_Add'],\n\n  // Passages\n  [Authority.VIEW_PASSAGES]: [\n    'ViewItems_Passages_Show',\n    'ViewItems_Passages_Edit',\n    'ViewItems_Passages_Add',\n  ],\n  [Authority.EDIT_PASSAGES]: ['ViewItems_Passages_Edit'],\n  [Authority.CREATE_PASSAGES]: ['ViewItems_Passages_Add'],\n\n  // Detectors\n  [Authority.VIEW_DETECTORS]: [\n    'ViewItems_Detectors_Show',\n    'ViewItems_Detectors_Edit',\n    'ViewItems_Detectors_Add',\n  ],\n  [Authority.EDIT_DETECTORS]: ['ViewItems_Detectors_Edit'],\n  [Authority.CREATE_DETECTORS]: ['ViewItems_Detectors_Add'],\n\n  // Device categories\n  [Authority.VIEW_DEVICE_CATEGORIES]: [\n    'ViewItems_DeviceCategories_Show',\n    'ViewItems_DeviceCategories_Edit',\n    'ViewItems_DeviceCategories_Add',\n  ],\n  [Authority.EDIT_DEVICE_CATEGORIES]: ['ViewItems_DeviceCategories_Edit'],\n  [Authority.CREATE_DEVICE_CATEGORIES]: ['ViewItems_DeviceCategories_Add'],\n\n  // Entrances\n  [Authority.VIEW_ENTRANCES]: [\n    'ViewItems_Entrances_Show',\n    'ViewItems_Entrances_Edit',\n    'ViewItems_Entrances_Add',\n  ],\n  [Authority.EDIT_ENTRANCES]: ['ViewItems_Entrances_Edit'],\n  [Authority.CREATE_ENTRANCES]: ['ViewItems_Entrances_Add'],\n}\n\nexport const mapAuthorityToRequiredPermissions = (authority: Authority) =>\n  mapping[authority]\n","import { usePermissions } from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { mapAuthorityToRequiredPermissions } from '../../core/auth/authority.mapper'\n\nexport const hasAuthorityWithGivenPermissions = (\n  authority: Authority,\n  permissions: Set<string>,\n) => {\n  const permissionSet = new Set(permissions)\n  const requiredPerms = mapAuthorityToRequiredPermissions(authority)\n  return requiredPerms.some((reqPerms) => permissionSet.has(reqPerms))\n}\n\nexport const useHasAuthority = () => {\n  const { permissions, loaded } = usePermissions<Set<string>>()\n  return (authority: Authority) => {\n    if (loaded && !permissions) {\n      // eslint-disable-next-line no-console\n      console.error(\n        '\"useHasAuthority\" - No permissions or hook was used outside the react admin context',\n      )\n      return false\n    }\n    return hasAuthorityWithGivenPermissions(\n      authority,\n      permissions as Set<string>,\n    )\n  }\n}\n","import { makeStyles } from '@material-ui/core'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport PropTypes from 'prop-types'\nimport {\n  FieldTitle,\n  useChoices,\n  useInput,\n  useTranslate,\n  warning,\n} from 'ra-core'\nimport * as React from 'react'\nimport { useCallback } from 'react'\nimport {\n  ClassesOverride,\n  InputHelperText,\n  Pagination,\n  PaginationProps,\n  ResettableTextField,\n  SelectInputProps,\n  useSupportCreateSuggestion,\n} from 'react-admin'\n\n// import ResettableTextField, { resettableStyles } from './ResettableTextField';\n// import InputHelperText from './InputHelperText';\n// import sanitizeInputRestProps from './sanitizeInputRestProps';\n// import Labeled from './Labeled';\n// import { LinearProgress } from '../layout';\n// import {\n//     useSupportCreateSuggestion,\n//     SupportCreateSuggestionOptions,\n// } from './useSupportCreateSuggestion';\n// import { ClassesOverride } from '../types';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    // ...resettableStyles,\n    input: {\n      minWidth: theme.spacing(20),\n    },\n  }),\n  { name: 'RaSelectInput' },\n)\n\nexport interface SelectWithPaginationInputProps extends SelectInputProps {\n  classes?: ClassesOverride<typeof useStyles>\n  paginationProps?: PaginationProps\n}\n\nexport const SelectWithPaginationInput = (\n  props: SelectWithPaginationInputProps,\n) => {\n  const {\n    allowEmpty,\n    choices = [],\n    // classes: classesOverride,\n    className,\n    create,\n    createLabel,\n    createValue,\n    // disableValue,\n    emptyText,\n    emptyValue,\n    format,\n    helperText,\n    label,\n    // loaded,\n    loading,\n    margin = 'dense',\n    onBlur,\n    onChange,\n    onCreate,\n    onFocus,\n    options,\n    optionText,\n    optionValue,\n    parse,\n    paginationProps,\n    resource,\n    source,\n    translateChoice,\n    validate,\n    ...rest\n  } = props\n  const translate = useTranslate()\n  const classes = useStyles(props)\n\n  warning(\n    source === undefined,\n    `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop`,\n  )\n\n  warning(\n    choices === undefined,\n    `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop`,\n  )\n\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText,\n    optionValue,\n    translateChoice,\n  })\n\n  const { id, input, isRequired, meta } = useInput({\n    format,\n    onBlur,\n    onChange,\n    onFocus,\n    parse,\n    resource,\n    source: source as string,\n    validate,\n    ...rest,\n  })\n\n  const { touched, error, submitError } = meta\n\n  const renderEmptyItemOption = useCallback(\n    () =>\n      React.isValidElement(emptyText) // eslint-disable-line no-nested-ternary\n        ? React.cloneElement(emptyText)\n        : emptyText === ''\n        ? '' // em space, forces the display of an empty line of normal height\n        : translate(emptyText, { _: emptyText }),\n    [emptyText, translate],\n  )\n\n  const renderMenuItemOption = useCallback(\n    (choice) => getChoiceText(choice),\n    [getChoiceText],\n  )\n\n  const handleChange = useCallback(\n    async (event: React.ChangeEvent<HTMLSelectElement>, newItem) => {\n      if (newItem) {\n        const value = getChoiceValue(newItem)\n        input.onChange(value)\n        return\n      }\n\n      input.onChange(event)\n    },\n    [input, getChoiceValue],\n  )\n\n  const {\n    getCreateItem,\n    handleChange: handleChangeWithCreateSupport,\n    createElement,\n  } = useSupportCreateSuggestion({\n    create,\n    createLabel,\n    createValue,\n    handleChange,\n    onCreate,\n    optionText,\n  })\n  // if (loading) {\n  //     return (\n  //         <Labeled\n  //             id={id}\n  //             label={label}\n  //             source={source}\n  //             resource={resource}\n  //             className={className}\n  //             isRequired={isRequired}\n  //             meta={meta}\n  //             input={input}\n  //             margin={margin}\n  //         >\n  //             <LinearProgress />\n  //         </Labeled>\n  //     );\n  // }\n\n  const renderCreateItem = () => {\n    if (onCreate || create) {\n      const createItem = getCreateItem()\n      return (\n        <MenuItem value={createItem.id} key={createItem.id}>\n          {createItem.name}\n        </MenuItem>\n      )\n    }\n    return null\n  }\n\n  return (\n    <>\n      <ResettableTextField\n        id={id}\n        {...input}\n        onChange={handleChangeWithCreateSupport}\n        select\n        label={\n          label !== '' &&\n          label !== false && (\n            <FieldTitle\n              label={label}\n              source={source}\n              resource={resource}\n              isRequired={isRequired}\n            />\n          )\n        }\n        className={`${classes.input} ${className}`}\n        clearAlwaysVisible\n        error={!!(touched && (error || submitError))}\n        helperText={\n          <InputHelperText\n            touched={touched === true}\n            error={error || submitError}\n            helperText={helperText}\n          />\n        }\n        margin={margin}\n        {...options}\n        // {...sanitizeRestProps(rest)}\n      >\n        {allowEmpty ? (\n          <MenuItem\n            value={emptyValue}\n            key=\"null\"\n            aria-label={translate('ra.action.clear_input_value')}\n            title={translate('ra.action.clear_input_value')}\n          >\n            {renderEmptyItemOption()}\n          </MenuItem>\n        ) : null}\n        {!loading &&\n          choices.map((choice) => (\n            <MenuItem\n              key={getChoiceValue(choice)}\n              value={getChoiceValue(choice)}\n              // disabled={get(choice, disableValue)}\n            >\n              {renderMenuItemOption(choice)}\n            </MenuItem>\n          ))}\n        {renderCreateItem()}\n        {!loading && <Pagination {...paginationProps} />}\n      </ResettableTextField>\n      {createElement}\n    </>\n  )\n}\n\nSelectWithPaginationInput.propTypes = {\n  allowEmpty: PropTypes.bool,\n  emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  emptyValue: PropTypes.any, // eslint-disable-line react/forbid-prop-types\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  className: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  options: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  optionText: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.element,\n  ]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  disableValue: PropTypes.string,\n  resettable: PropTypes.bool,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool,\n}\n\nSelectWithPaginationInput.defaultProps = {\n  emptyText: '',\n  emptyValue: '',\n  options: {},\n  optionText: 'name', // eslint-disable-line react/default-props-match-prop-types\n  optionValue: 'id', // eslint-disable-line react/default-props-match-prop-types\n  translateChoice: true,\n  disableValue: 'disabled',\n}\n\n// const sanitizeRestProps = ({\n//     addLabel,\n//     afterSubmit,\n//     allowNull,\n//     beforeSubmit,\n//     choices,\n//     className,\n//     crudGetMatching,\n//     crudGetOne,\n//     data,\n//     filter,\n//     filterToQuery,\n//     formatOnBlur,\n//     isEqual,\n//     limitChoicesToValue,\n//     multiple,\n//     name,\n//     pagination,\n//     perPage,\n//     ref,\n//     reference,\n//     refetch,\n//     render,\n//     setFilter,\n//     setPagination,\n//     setSort,\n//     sort,\n//     subscription,\n//     type,\n//     validateFields,\n//     validation,\n//     value,\n//     ...rest\n// }: any) => sanitizeInputRestProps(rest);\n","import { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\nexport const INACTIVE_COMPONENTS_KEY = `${identity}.inactiveComponents`\n\nexport enum DashboardItem {\n  TICKET_FINDER = 'ticket_finder',\n  LAST_LOGS = 'last_logs',\n  LAST_EVENTS = 'last_events',\n  CUSTOMER_FINDER = 'customer_finder',\n}\n\nexport type DashboardState = {\n  dashboard: {\n    inactiveComponents: DashboardItem[]\n  }\n}\n\nexport type DashboardAction = {\n  type: typeof UPDATE_DASHBOARD\n  payload: DashboardItem\n}\n","import {\n  Datagrid,\n  DateField,\n  Filter,\n  FunctionField,\n  Link,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useTranslate,\n  SelectInput,\n  ReferenceInput,\n  useListContext,\n} from 'react-admin'\nimport React from 'react'\nimport {\n  IconButton,\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Event as EventIcon, Sort } from '@material-ui/icons'\nimport { ResourceName } from '../../core/ResourceName'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\nimport { DateTime } from '../../core/common/date-time'\nimport FilterProps from '../common/FilterProps'\nimport { EventStatus } from '../../core/enum/EventStatus'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\n\nconst useStyles = makeStyles((theme) => ({\n  actionColumnsWithoutPadding: {\n    // applies always for last column\n    '& tr > td:last-child': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n    // only applies when there are four columns and targets the penultimate column\n    '& tr > td:first-child:nth-last-child(4) ~ td:nth-last-child(2)': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n  },\n}))\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid className={classes.actionColumnsWithoutPadding}>\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.name')}\n        render={(record?: EventDto) => {\n          const { id, name } = record as EventDto\n          return `${id}. ${name}`\n        }}\n      />\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.status')}\n        render={(record?: EventDto) => {\n          const { status } = record as EventDto\n          return t(`resources.enums.eventStatus.${status.toLowerCase()}`)\n        }}\n      />\n      <FunctionField<EventDto>\n        render={(event?: EventDto) => (\n          <Link to={`/${ResourceName.EVENTS}/${event?.id}/show`}>\n            <IconButton>\n              <EventIcon />\n            </IconButton>\n          </Link>\n        )}\n      />\n      {hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW) && (\n        <FunctionField<EventDto>\n          render={(event?: EventDto) =>\n            event?.objectsIds &&\n            event.objectsIds.length > 0 && (\n              <Link\n                to={`/${ResourceName.STATS_OVERALL_VIEW}/${event?.id}/show`}\n              >\n                <IconButton>\n                  <Sort style={{ transform: 'scaleX(-1)' }} />\n                </IconButton>\n              </Link>\n            )\n          }\n        />\n      )}\n    </Datagrid>\n  )\n}\n\nconst EventDateField = ({\n  source,\n  label,\n}: {\n  source: string\n  label?: string\n}) => (\n  <FunctionField<EventDto>\n    source={source}\n    label={label}\n    render={(record?: EventDto) => {\n      const { dateStart, dateEnd } = {\n        dateStart: new Date(record?.dateStart as DateTime),\n        dateEnd: new Date(record?.dateEnd as DateTime),\n      }\n      if (dateStart.toDateString() === dateEnd.toDateString())\n        return (\n          <>\n            <DateField source=\"dateStart\" />\n            <span>\n              {' '}\n              {dateStart.getHours() < 10 && 0}\n              {dateStart.getHours()}:\n            </span>\n            <span>\n              {dateStart.getMinutes() < 10 && 0}\n              {dateStart.getMinutes()} -{' '}\n            </span>\n            <span>\n              {dateEnd.getHours() < 10 && 0}\n              {dateEnd.getHours()}:\n            </span>\n            <span>\n              {dateEnd.getMinutes() < 10 && 0}\n              {dateEnd.getMinutes()}\n            </span>\n          </>\n        )\n      return (\n        <>\n          <span>\n            <DateField source=\"dateStart\" showTime />\n          </span>\n          <span> - </span>\n          <span>\n            <DateField source=\"dateEnd\" showTime />\n          </span>\n        </>\n      )\n    }}\n  />\n)\n\nconst EventGrid = ({ compactMode }: { compactMode?: boolean }) => {\n  const { loading } = useListContext()\n  const t = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <>\n      {compactMode ? (\n        <LastEvents />\n      ) : (\n        <Datagrid\n          size=\"small\"\n          loaded={!loading}\n          rowClick={(id) => `/${ResourceName.EVENTS}/${id}/show`}\n        >\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          {!smallScreen && <DateField source=\"dateStart\" showTime />}\n          {!smallScreen && <DateField source=\"dateEnd\" showTime />}\n          {smallScreen && (\n            <EventDateField\n              source=\"dateStart\"\n              label=\"resources.events.fields.date\"\n            />\n          )}\n          <FunctionField<EventDto>\n            source=\"status\"\n            render={(r?: EventDto) =>\n              t(`resources.enums.eventStatus.${r?.status.toLowerCase()}`)\n            }\n          />\n        </Datagrid>\n      )}\n    </>\n  )\n}\n\ninterface EventListProps extends ListProps {\n  compactMode?: boolean\n}\n\nconst EventFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      <SelectInput\n        source=\"status\"\n        choices={Object.entries(EventStatus).map(([value]) => ({\n          id: value,\n          name: `resources.enums.eventStatus.${value.toLowerCase()}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_COMPANIES) && (\n        <ReferenceInput\n          source=\"companyId\"\n          reference={ResourceName.COMPANIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const EventList = ({ compactMode = false, ...props }: EventListProps) =>\n  compactMode ? (\n    <List\n      {...props}\n      actions={false}\n      filters={undefined}\n      perPage={10}\n      pagination={false}\n    >\n      <EventGrid compactMode />\n    </List>\n  ) : (\n    <List\n      {...props}\n      exporter={false}\n      filters={<EventFilters />}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    >\n      <EventGrid />\n    </List>\n  )\n","export const getContrastColor = (hexcolor: string) => {\n  const convertedColor = hexcolor.replace('#', '')\n  const r = parseInt(convertedColor.substring(1, 2), 16)\n  const g = parseInt(convertedColor.substring(3, 2), 16)\n  const b = parseInt(convertedColor.substring(5, 2), 16)\n  const yiq = (r * 299 + g * 587 + b * 114) / 1000\n  return yiq >= 128 ? 'black' : 'white'\n}\n","import React, { useEffect } from 'react'\nimport {\n  TextField,\n  makeStyles,\n  Theme,\n  createStyles,\n  useTheme,\n  useMediaQuery,\n} from '@material-ui/core'\nimport { useField } from 'react-final-form'\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      verticalAlign: 'center',\n      marginBottom: theme.spacing(1),\n    },\n    mobileContainer: {\n      display: 'flex',\n      justifyContent: 'center',\n      verticalAlign: 'center',\n      marginBottom: theme.spacing(1),\n      flexDirection: 'column',\n    },\n    input: {\n      alignSelf: 'center',\n    },\n    icon: {\n      marginTop: '4%',\n    },\n    mobileIcon: {\n      alignSelf: 'center',\n      transform: 'rotate(90deg)',\n    },\n  }),\n)\n\nexport const DateFilterInput = ({ source }: { source: string }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n\n  const defaultFromDate = React.useMemo(\n    () => new Date(Date.now() - 2678400000),\n    [],\n  )\n  defaultFromDate.setHours(0, 0, 0, 0)\n  const defaultToDate = new Date(Date.now())\n  defaultToDate.setHours(23, 59, 0, 0)\n  const [dateFrom, setDateFrom] = React.useState(\n    defaultFromDate.getTime().toString(),\n  )\n  const [dateTo, setDateTo] = React.useState(defaultToDate.getTime().toString())\n  const {\n    input: { onChange },\n    meta: { touched, error },\n  } = useField(source)\n\n  useEffect(() => {\n    onChange(\n      [\n        (\n          parseInt(dateFrom, 10) -\n          defaultFromDate.getTimezoneOffset() * 60000\n        ).toString(),\n        (\n          parseInt(dateTo, 10) -\n          defaultFromDate.getTimezoneOffset() * 60000\n        ).toString(),\n      ].join(';'),\n    )\n  }, [dateFrom, dateTo, onChange, defaultFromDate])\n\n  const convertedDate = (date: Date) =>\n    new Date(date.getTime() - defaultFromDate.getTimezoneOffset() * 60000)\n      .toJSON()\n      .substring(0, 16)\n\n  return (\n    <span\n      key=\"date\"\n      className={xSmallScreen ? classes.mobileContainer : classes.container}\n    >\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultFromDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateFrom(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        className={classes.input}\n        size=\"small\"\n      />\n      <ArrowRightAltIcon\n        className={xSmallScreen ? classes.mobileIcon : classes.icon}\n      />\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultToDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateTo(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        size=\"small\"\n      />\n    </span>\n  )\n}\n","import { Grid, withStyles } from '@material-ui/core'\n\nexport const VCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n})(Grid)\n\nexport const VHCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n})(Grid)\n","import {\n  useMediaQuery,\n  useTheme,\n  Grid,\n  Divider,\n  TableBody,\n  Box,\n  Typography,\n} from '@material-ui/core'\nimport { Receipt } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Pagination,\n  SelectInput,\n  TextInput,\n  useTranslate,\n  Datagrid,\n  TextField,\n  DateField,\n  Record,\n  FunctionField,\n  useLocale,\n  DatagridBodyProps,\n  DatagridRow,\n  DatagridHeader,\n  DatagridHeaderProps,\n  ShowButton,\n  Filter,\n  ReferenceInput,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { getContrastColor } from '../../core/common/visual.utils'\nimport { ExtendedLog } from '../../core/dto/extended-log'\nimport { DateFilterInput } from './DateFilterInput'\nimport { VCenterGrid, VHCenterGrid } from './LogsComponents'\nimport FilterProps from '../common/FilterProps'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { ResourceName } from '../../core/ResourceName'\n\ninterface LogExpandProps {\n  readonly noBooking?: boolean\n  readonly record?: ExtendedLog\n}\n\ninterface LogBodyProps extends DatagridBodyProps {\n  readonly noBooking?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogHeaderProps extends DatagridHeaderProps {\n  readonly noBooking?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogListProps extends ListProps {\n  readonly compactMode?: boolean\n  readonly noBooking?: boolean\n}\n\nconst BookingButton = ({ style }: { style?: any }) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const history = useHistory()\n  return (\n    <FunctionField\n      source=\"bookingId\"\n      render={(record: Record | undefined) =>\n        record?.bookingId && (\n          <>\n            <ShowButton\n              basePath=\"/bookings\"\n              label={record.bookingId.toString()}\n              record={{ id: record.bookingId }}\n              icon={<Receipt />}\n              style={style}\n            />\n            {xSmallScreen && (\n              <Typography\n                color=\"primary\"\n                onClick={() =>\n                  history.push(`/bookings/${record.bookingId}/show`)\n                }\n              >\n                {record.bookingId}\n              </Typography>\n            )}\n          </>\n        )\n      }\n    />\n  )\n}\n\nconst LogExpand = ({ noBooking, record }: LogExpandProps) => {\n  const translate = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <VCenterGrid item xs={4}>\n          {translate('resources.logs.fields.description')}:\n        </VCenterGrid>\n        <VCenterGrid item xs={8}>\n          <TextField source=\"text\" />\n        </VCenterGrid>\n        {!noBooking && record?.bookingId && (\n          <>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n            <VCenterGrid item xs={4}>\n              {translate('resources.logs.fields.bookingId')}:\n            </VCenterGrid>\n            <VHCenterGrid item xs={8}>\n              <BookingButton />\n            </VHCenterGrid>\n          </>\n        )}\n      </Grid>\n    </Box>\n  )\n}\n\nconst LogBody = ({\n  noBooking,\n  compactMode,\n  data,\n  ids,\n  rowStyle,\n  expand,\n}: LogBodyProps) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <TableBody>\n      {data &&\n        rowStyle &&\n        ids?.map((id) => {\n          const style = rowStyle(data[id], id as number)\n          return (\n            <DatagridRow\n              key={id}\n              id={id}\n              record={data[id]}\n              resource=\"logs\"\n              expand={expand}\n              style={style}\n            >\n              <DateField\n                source=\"date\"\n                style={style}\n                options={{\n                  hour: '2-digit',\n                  minute: '2-digit',\n                  second: '2-digit',\n                }}\n              />\n              <TextField source=\"deviceName\" style={style} />\n              <TextField source=\"ticketCode\" style={style} />\n              {!compactMode && <TextField source=\"text\" style={style} />}\n              {!compactMode &&\n                !noBooking &&\n                (hasAuthority(Authority.VIEW_BOOKINGS) ? (\n                  <BookingButton style={style} />\n                ) : (\n                  <TextField source=\"bookingId\" />\n                ))}\n            </DatagridRow>\n          )\n        })}\n    </TableBody>\n  )\n}\n\nconst LogHeader = ({ noBooking, compactMode, ...props }: LogHeaderProps) => (\n  <DatagridHeader {...props}>\n    <DateField source=\"date\" label=\"resources.logs.fields.date\" />\n    <TextField source=\"deviceName\" label=\"resources.logs.fields.deviceName\" />\n    <TextField source=\"ticketCode\" label=\"resources.logs.fields.ticketCode\" />\n    {!compactMode && (\n      <TextField\n        source=\"text\"\n        sortable={false}\n        label=\"resources.logs.fields.description\"\n      />\n    )}\n    {!noBooking && !compactMode && (\n      <TextField source=\"bookingId\" label=\"resources.logs.fields.bookingId\" />\n    )}\n  </DatagridHeader>\n)\n\nconst LogFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput key=\"ticketCode\" source=\"ticketCode\" alwaysOn />\n      <SelectInput\n        key=\"deviceName\"\n        source=\"deviceName\"\n        choices={[\n          {\n            id: 'Czytnik',\n            name: 'resources.logs.fields.deviceNameChoices.reader',\n          },\n          {\n            id: 'Przej\\u015Bcie',\n            name: 'resources.logs.fields.deviceNameChoices.gateway',\n          },\n        ]}\n      />\n      <DateFilterInput source=\"date\" key=\"date\" />\n      <TextInput source=\"bookingId\" key=\"bookingId\" />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput\n          label=\"resources.logs.fields.event\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          sort={{ field: 'dateStart', order: 'DESC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const LogList = ({\n  compactMode = false,\n  noBooking = false,\n  ...props\n}: LogListProps) => {\n  const { filter, ...listProps } = props\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const locale = useLocale()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      filters={<LogFilters />}\n      filter={{ ...filter, locale }}\n      sort={{ field: 'date', order: 'DESC' }}\n      {...listProps}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        header={\n          <LogHeader\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n          />\n        }\n        body={\n          <LogBody\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n          />\n        }\n        isRowExpandable={() => smallScreen || compactMode}\n        expand={<LogExpand noBooking={noBooking} />}\n        rowStyle={(record: Record) => ({\n          background: record && record.color,\n          color:\n            record && record.color !== 'transparent'\n              ? getContrastColor(record.color)\n              : 'inherit',\n        })}\n        padding={xSmallScreen ? 'none' : 'default'}\n      >\n        <div />\n      </Datagrid>\n    </List>\n  )\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ResourceContextProvider, useTranslate } from 'react-admin'\nimport { ResourceName } from '../core/ResourceName'\nimport { FindCustomerByInfo } from './common/FindCustomerByInfo'\nimport { FindUserByTicket } from './common/FindUserByTicket'\nimport { EventList } from './events/EventList'\nimport { LogList } from './logs/LogList'\nimport { DashboardItem, DashboardState } from '../core/common/dashboard'\nimport { useHasAuthority } from './hooks/useHasAuthority'\nimport { Authority } from '../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      textAlign: 'center',\n      letterSpacing: theme.spacing(0.2),\n    },\n    lastLogs: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-end',\n      width: '10%',\n    },\n  }),\n)\n\nconst TicketFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindUserByTicket />\n  </Card>\n)\n\nconst CustomerFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindCustomerByInfo />\n  </Card>\n)\n\nconst LastLogs = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-logs.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.LOGS}>\n          <LogList\n            basePath=\"/\"\n            title=\" \"\n            compactMode\n            pagination={false}\n            perPage={10}\n            actions={false}\n            filters={undefined}\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-events.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.EVENTS}>\n          <EventList\n            sort={{ field: 'status', order: 'DESC' }}\n            compactMode\n            basePath=\"/\"\n            title=\" \"\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const isItemActive = (item: DashboardItem, inactiveItems: DashboardItem[]) =>\n    !inactiveItems.includes(item)\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Card>\n          <CardHeader\n            className={classes.header}\n            title={t('dashboard.welcome')}\n            titleTypographyProps={{ variant: 'h4' }}\n          />\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        {hasAuthority(Authority.VIEW_TICKETS) &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          isItemActive(DashboardItem.TICKET_FINDER, inactiveComponents) && (\n            <TicketFinder />\n          )}\n        {hasAuthority(Authority.VIEW_EVENTS) &&\n          isItemActive(DashboardItem.LAST_EVENTS, inactiveComponents) && (\n            <LastEvents />\n          )}\n      </Grid>\n      <Grid className={classes.lastLogs} item sm={6} xs={12}>\n        {hasAuthority(Authority.VIEW_CUSTOMERS) &&\n          isItemActive(DashboardItem.CUSTOMER_FINDER, inactiveComponents) && (\n            <CustomerFinder />\n          )}\n        {hasAuthority(Authority.VIEW_LOGS) &&\n          isItemActive(DashboardItem.LAST_LOGS, inactiveComponents) && (\n            <LastLogs />\n          )}\n      </Grid>\n    </Grid>\n  )\n}\n","import {\n  Button,\n  ButtonGroup,\n  Card,\n  CardContent,\n  createStyles,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { Dispatch, ReactElement } from 'react'\nimport { Title, useLocale, useSetLocale, useTranslate } from 'react-admin'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Event, List, Search, Person } from '@material-ui/icons'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport {\n  CHANGE_THEME,\n  UPDATE_DASHBOARD,\n} from '../../core/constants/reducer.actions'\nimport {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n} from '../../core/common/dashboard'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    label: { width: '15vw', display: 'inline-block' },\n    button: { margin: theme.spacing(2) },\n    select: { width: '40vw', margin: theme.spacing(2) },\n    compsContainer: {\n      width: '40vw',\n      display: 'inline-block',\n      margin: theme.spacing(2),\n    },\n  }),\n)\n\ntype DashboardItemSwitchProps = {\n  dashboardItem: DashboardItem\n  label: string\n  icon: ReactElement\n}\n\nconst DashboardItemSwitch = ({\n  dashboardItem,\n  label,\n  icon,\n}: DashboardItemSwitchProps) => {\n  const t = useTranslate()\n  const dispatch = useDispatch<Dispatch<DashboardAction>>()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const onSwitch = ({\n    target: { name },\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({ type: UPDATE_DASHBOARD, payload: name as DashboardItem })\n  }\n  return (\n    <Grid item xs={6}>\n      <Paper>\n        {icon}\n        <FormControlLabel\n          control={\n            <Switch\n              checked={!inactiveComponents.includes(dashboardItem)}\n              name={dashboardItem}\n              onChange={onSwitch}\n            />\n          }\n          label={t(label)}\n          labelPlacement=\"top\"\n          style={{ margin: '5%', textAlign: 'center', width: '90%' }}\n        />\n      </Paper>\n    </Grid>\n  )\n}\n\nconst DashboardCustomization = () => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Grid container spacing={1}>\n      {hasAuthority(Authority.VIEW_TICKETS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.TICKET_FINDER}\n          label=\"dashboard.settings.ticket-finder-label\"\n          icon={<Search />}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_LOGS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.LAST_LOGS}\n          label=\"dashboard.settings.last-logs-label\"\n          icon={<List />}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.LAST_EVENTS}\n          label=\"dashboard.settings.last-events-label\"\n          icon={<Event />}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_CUSTOMERS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.CUSTOMER_FINDER}\n          label=\"dashboard.settings.customer-finder-label\"\n          icon={<Person />}\n        />\n      )}\n    </Grid>\n  )\n}\n\nexport const Configuration = () => {\n  const dispatch = useDispatch()\n  const theme = useSelector(\n    (state: ThemeState) => state.theme.darkMode === 'dark',\n  )\n  const classes = useStyles()\n  const locale = useLocale()\n  const setLocale = useSetLocale()\n  const t = useTranslate()\n\n  return (\n    <Card>\n      <Title title={t('settings.name')} />\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.darkMode.name')}\n        </Typography>\n        <ButtonGroup className={classes.button}>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={!theme ? 'primary' : 'default'}\n            onClick={() => theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.light')}\n          </Button>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={theme ? 'primary' : 'default'}\n            onClick={() => !theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.dark')}\n          </Button>\n        </ButtonGroup>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.language.name')}\n        </Typography>\n        <Select\n          value={locale}\n          onChange={(e) => setLocale(e.target.value as string)}\n          className={classes.select}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pl\">{t('settings.language.pl')}</MenuItem>\n          <MenuItem value=\"en\">{t('settings.language.en')}</MenuItem>\n        </Select>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('dashboard.settings.title')}\n        </Typography>\n        <div className={classes.compsContainer}>\n          <DashboardCustomization />\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","import * as React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Configuration } from './Configuration'\n\nexport default [\n  <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n]\n","import { createContext } from 'react';\n/**\n * We need this context to communicate the callback to enable edit mode on a\n * row between the <EditableDatagridRow> and the <EditRowButton> and through\n * <DatagridRow> (which does not expect this prop).\n */\nexport var EditRowContext = createContext(null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useCallback, useMemo, useState, } from 'react';\nimport { CRUD_UPDATE, DatagridRow, SaveContextProvider, useNotify, useSaveModifiers, useUpdate, useResourceContext, useRecordContext, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core';\nimport { EditRowContext } from './EditRowContext';\nvar EditableRow = function (props) {\n    var form = props.form, resourceOverride = props.resource, id = props.id, recordOverride = props.record, basePath = props.basePath, children = props.children, rowClick = props.rowClick, mutationMode = props.mutationMode, undoable = props.undoable, rest = __rest(props, [\"form\", \"resource\", \"id\", \"record\", \"basePath\", \"children\", \"rowClick\", \"mutationMode\", \"undoable\"]);\n    var resource = useResourceContext(props);\n    var record = useRecordContext(props);\n    var _a = useState(false), isEdit = _a[0], setEdit = _a[1];\n    var classes = useStyles(emptyObject);\n    var openEditMode = useCallback(function () {\n        setEdit(true);\n    }, []);\n    var closeEditMode = useCallback(function () {\n        setEdit(false);\n    }, []);\n    var notify = useNotify();\n    var _b = useUpdate(resource, id, {}, // set by the caller\n    record), update = _b[0], saving = _b[1].loading;\n    var defaultOnSuccess = useCallback(function () {\n        notify('ra.notification.updated', 'info', {\n            smart_count: 1,\n        }, undoable);\n        closeEditMode();\n    }, [notify, undoable, closeEditMode]);\n    var defaultOnFailure = useCallback(function (error) {\n        notify(typeof error === 'string'\n            ? error\n            : error.message || 'ra.notification.http_error', 'warning');\n    }, [notify]);\n    var _c = useSaveModifiers({\n        onFailure: defaultOnFailure,\n        onSuccess: defaultOnSuccess,\n    }), onSuccessRef = _c.onSuccessRef, setOnSuccess = _c.setOnSuccess, onFailureRef = _c.onFailureRef, setOnFailure = _c.setOnFailure, transformRef = _c.transformRef, setTransform = _c.setTransform;\n    var handleClick = useCallback(function (event) {\n        var _a = getTableClickEventPosition(event), tbody = _a.tbody, row = _a.row, column = _a.column;\n        openEditMode();\n        // once the row is replaced by a form, focus the input inside the cell clicked\n        setTimeout(function () {\n            // No way to know the markup of the form in advance, as developers\n            // can inject a form element of their own. The only valid assumption\n            // is that the form should have the same number of columns as the row.\n            // So we select the input based on the column it's in.\n            var input = tbody.querySelector(\"tr:nth-child(\" + row + \") td:nth-child(\" + column + \") input\");\n            input && input.focus && input.focus();\n        }, 100); // FIXME not super robust\n    }, [openEditMode]);\n    var save = useCallback(function (data, _, // unused redirectTo\n    _a) {\n        var // unused redirectTo\n        _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : !!transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return update({ payload: { data: data } }, {\n                action: CRUD_UPDATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : !!onSuccessRef.current\n                        ? onSuccessRef.current\n                        : defaultOnSuccess,\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : !!onFailureRef.current\n                        ? onFailureRef.current\n                        : defaultOnFailure,\n                undoable: undoable,\n            });\n        });\n    }, [\n        defaultOnFailure,\n        defaultOnSuccess,\n        update,\n        undoable,\n        onFailureRef,\n        onSuccessRef,\n        transformRef,\n    ]);\n    var saveContext = {\n        save: save,\n        saving: saving,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n    };\n    var rowContext = useMemo(function () { return ({\n        open: openEditMode,\n        close: closeEditMode,\n    }); }, [openEditMode, closeEditMode]);\n    return (React.createElement(EditRowContext.Provider, { value: rowContext }, isEdit ? (React.createElement(SaveContextProvider, { value: saveContext }, cloneElement(form, __assign({ id: id, quitEditMode: closeEditMode, resource: resource, record: record, basePath: basePath, save: save, saving: saving, mutationMode: mutationMode, undoable: undoable }, rest)))) : (React.createElement(DatagridRow, __assign({ resource: resource, id: id, record: record, basePath: basePath }, rest, { className: classes.td, onClick: rowClick === 'edit'\n            ? handleClick\n            : function () { return undefined; } }), children))));\n};\n/**\n * Based on a MouseEvent triggered by a click on a table row,\n * get the tbody element, the row and column number of the cell clicked.\n *\n * @param {MouseEvent} event\n */\nvar getTableClickEventPosition = function (event) {\n    var target = event.target;\n    var td = target.closest('td');\n    var tr = td.parentNode;\n    var columns = tr.children;\n    var column;\n    for (var index = 0; index < columns.length; index++) {\n        if (columns.item(index) === td) {\n            column = index + 1;\n        }\n    }\n    var tbody = tr.parentNode;\n    var rows = tbody.children;\n    var row;\n    for (var index = 0; index < rows.length; index++) {\n        if (rows.item(index) === tr) {\n            row = index + 1;\n        }\n    }\n    return { tbody: tbody, row: row, column: column };\n};\nvar useStyles = makeStyles({\n    td: {\n        '& td:last-of-type > *': {\n            visibility: 'hidden',\n        },\n        '&:hover td:last-of-type > *': {\n            visibility: 'visible',\n        },\n    },\n}, {\n    name: 'RaEditableDatagridRow',\n});\nvar emptyObject = {};\nexport default EditableRow;\n","import { createContext } from 'react';\n/**\n * We need this context to communicate the callback to exit the create mode on a\n * row between the <EditableDatagrid> and the <CreateRowButton> and through\n * <DatagridRow> (which does not expect this prop).\n */\nexport var CreateRowContext = createContext(null);\n","import React, { cloneElement, useCallback, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useCreate, useNotify, useRefresh, CRUD_CREATE, useSaveModifiers, SaveContextProvider, useResourceContext, } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { CreateRowContext } from './CreateRowContext';\nvar EditableDatagridCreateForm = function (props) {\n    var basePath = props.basePath, classes = props.classes, expand = props.expand, hasBulkActions = props.hasBulkActions, createForm = props.createForm, hasStandaloneCreateForm = props.hasStandaloneCreateForm, isStandaloneCreateFormVisible = props.isStandaloneCreateFormVisible, closeStandaloneCreateForm = props.closeStandaloneCreateForm;\n    var history = useHistory();\n    var notify = useNotify();\n    var refresh = useRefresh();\n    var resource = useResourceContext(props);\n    var _a = useCreate(resource, {}), create = _a[0], saving = _a[1].loading;\n    var hideCreateForm = useCallback(function () {\n        if (hasStandaloneCreateForm) {\n            closeStandaloneCreateForm();\n        }\n        else {\n            history.push(basePath);\n        }\n    }, [basePath, closeStandaloneCreateForm, hasStandaloneCreateForm, history]);\n    var defaultOnSuccess = useCallback(function () {\n        notify('ra.notification.created', 'info', {\n            smart_count: 1,\n        });\n        refresh();\n        hideCreateForm();\n    }, [hideCreateForm, notify, refresh]);\n    var defaultOnFailure = useCallback(function (error) {\n        notify(typeof error === 'string'\n            ? error\n            : error.message || 'ra.notification.http_error', 'warning');\n    }, [notify]);\n    var _b = useSaveModifiers({\n        onFailure: defaultOnFailure,\n        onSuccess: defaultOnSuccess,\n    }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var save = useCallback(function (data, _, // unused redirectTo\n    _a) {\n        var // unused redirectTo\n        _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return create({ payload: { data: data } }, {\n                action: CRUD_CREATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : !!onSuccessRef.current\n                        ? onSuccessRef.current\n                        : defaultOnSuccess,\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : !!onFailureRef.current\n                        ? onFailureRef.current\n                        : defaultOnFailure,\n            });\n        });\n    }, [\n        create,\n        defaultOnFailure,\n        defaultOnSuccess,\n        onFailureRef,\n        onSuccessRef,\n        transformRef,\n    ]);\n    var saveContext = {\n        save: save,\n        saving: saving,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n    };\n    var createContext = useMemo(function () { return ({\n        close: hideCreateForm,\n    }); }, [hideCreateForm]);\n    var createFormElement = (React.createElement(SaveContextProvider, { value: saveContext },\n        React.createElement(CreateRowContext.Provider, { value: createContext }, cloneElement(createForm, {\n            classes: classes,\n            expand: expand,\n            hasBulkActions: hasBulkActions,\n            id: 'new_record',\n            quitEditMode: hideCreateForm,\n            record: {},\n            resource: resource,\n            basePath: basePath,\n            save: save,\n            saving: saving,\n            selectable: false,\n        }))));\n    if (hasStandaloneCreateForm) {\n        // create form triggered by state\n        return isStandaloneCreateFormVisible && createFormElement;\n    }\n    // create form in a route\n    return React.createElement(Route, { path: basePath + \"/create\" }, createFormElement);\n};\nEditableDatagridCreateForm.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    resource: PropTypes.string,\n    createForm: PropTypes.element,\n    hasStandaloneCreateForm: PropTypes.bool,\n    isStandaloneCreateFormVisible: PropTypes.bool.isRequired,\n    closeStandaloneCreateForm: PropTypes.func.isRequired,\n};\nexport default EditableDatagridCreateForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableBody } from '@material-ui/core';\nimport EditableDatagridRow from './EditableDatagridRow';\nimport EditableDatagridCreateForm from './EditableDatagridCreateForm';\nvar EditableDatagridBody = function (_a) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    version = _a.version, isRowSelectable = _a.isRowSelectable, editForm = _a.editForm, createForm = _a.createForm, undoable = _a.undoable, _b = _a.hasStandaloneCreateForm, hasStandaloneCreateForm = _b === void 0 ? false : _b, isStandaloneCreateFormVisible = _a.isStandaloneCreateFormVisible, closeStandaloneCreateForm = _a.closeStandaloneCreateForm, mutationMode = _a.mutationMode, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"version\", \"isRowSelectable\", \"editForm\", \"createForm\", \"undoable\", \"hasStandaloneCreateForm\", \"isStandaloneCreateFormVisible\", \"closeStandaloneCreateForm\", \"mutationMode\"]);\n    return (React.createElement(TableBody, __assign({ className: classnames('datagrid-body', className) }, rest),\n        createForm && (React.createElement(EditableDatagridCreateForm, { basePath: basePath, classes: classes, closeStandaloneCreateForm: closeStandaloneCreateForm, createForm: createForm, expand: expand, hasBulkActions: hasBulkActions, hasStandaloneCreateForm: hasStandaloneCreateForm, isStandaloneCreateFormVisible: isStandaloneCreateFormVisible, resource: resource })),\n        ids.map(function (id, rowIndex) {\n            var _a;\n            return (React.createElement(EditableDatagridRow, { basePath: basePath, classes: classes, className: classnames(classes.row, (_a = {},\n                    _a[classes.rowEven] = rowIndex % 2 === 0,\n                    _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                    _a[classes.clickableRow] = rowClick,\n                    _a)), expand: expand, form: editForm, hasBulkActions: hasBulkActions, hover: hover, id: id, key: id, onToggleItem: onToggleItem, record: data[id], resource: resource, rowClick: rowClick, selectable: !isRowSelectable || isRowSelectable(data[id]), selected: selectedIds.includes(id), style: rowStyle ? rowStyle(data[id], rowIndex) : null, undoable: undoable, mutationMode: mutationMode }, children));\n        })));\n};\nEditableDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    data: PropTypes.object.isRequired,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.string,\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    isRowSelectable: PropTypes.func,\n    version: PropTypes.number,\n};\nEditableDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n};\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nEditableDatagridBody.muiName = 'TableBody';\nexport default EditableDatagridBody;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useTranslate } from 'react-admin';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nexport var CancelEditButton = function (_a) {\n    var cancel = _a.cancel, props = __rest(_a, [\"cancel\"]);\n    var translate = useTranslate();\n    return (React.createElement(Tooltip, { title: translate('ra.action.cancel', {\n            _: 'ra.action.cancel',\n        }) },\n        React.createElement(IconButton, __assign({ onClick: cancel, size: \"small\" }, props),\n            React.createElement(CancelIcon, null))));\n};\nexport default CancelEditButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useGetResourceLabel, useResourceContext, useTranslate, } from 'react-admin';\nimport { Tooltip, Button } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nexport var CreateButton = function (props) {\n    var resourceOverride = props.resource, rest = __rest(props, [\"resource\"]);\n    var translate = useTranslate();\n    var resource = useResourceContext(props);\n    var getResourceLabel = useGetResourceLabel();\n    var singularResourceName = getResourceLabel(resource, 1);\n    var label = translate('ra.page.create', { name: singularResourceName });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(Button, __assign({ size: \"small\", color: \"primary\", \"aria-label\": label }, rest),\n            React.createElement(AddIcon, null),\n            label)));\n};\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { Confirm, getMutationMode, useDeleteWithConfirmController, useRecordContext, useResourceContext, useTranslate, } from 'react-admin';\nexport var DeleteWithConfirmIconButton = function (props) {\n    var basePath = props.basePath, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.label, label = _c === void 0 ? 'ra.action.delete' : _c, mutationMode = props.mutationMode, _d = props.redirect, redirectTo = _d === void 0 ? 'list' : _d, undoable = props.undoable;\n    var mode = getMutationMode(mutationMode, undoable);\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _e = useDeleteWithConfirmController({\n        mutationMode: mutationMode || mode,\n        resource: resource,\n        record: record,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), open = _e.open, loading = _e.loading, handleDialogOpen = _e.handleDialogOpen, handleDialogClose = _e.handleDialogClose, handleDelete = _e.handleDelete;\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Fragment, null,\n        React.createElement(Tooltip, { title: translatedLabel },\n            React.createElement(IconButton, { \"aria-label\": translatedLabel, onClick: handleDialogOpen, className: classnames('ra-delete-button', className), key: \"button\", size: \"small\" },\n                React.createElement(ActionDelete, { color: \"error\" }))),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                    smart_count: 1,\n                    _: inflection.singularize(resource),\n                }), true),\n                id: record ? record.id : undefined,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nDeleteWithConfirmIconButton.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useTranslate, useDeleteWithUndoController, useRecordContext, useResourceContext, } from 'react-admin';\nexport var DeleteWithUndoIconButton = function (props) {\n    var basePath = props.basePath, className = props.className, _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, _b = props.redirect, redirectTo = _b === void 0 ? 'list' : _b;\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _c = useDeleteWithUndoController({\n        resource: resource,\n        record: record,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), loading = _c.loading, handleDelete = _c.handleDelete;\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, { \"aria-label\": translatedLabel, disabled: loading, onClick: handleDelete, className: classnames('ra-delete-button', className), key: \"button\", size: \"small\" },\n            React.createElement(ActionDelete, { color: \"error\" }))));\n};\nDeleteWithUndoIconButton.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { getMutationMode } from 'react-admin';\nimport { DeleteWithConfirmIconButton } from './DeleteWithConfirmIconButton';\nimport { DeleteWithUndoIconButton } from './DeleteWithUndoIconButton';\nexport var DeleteRowButton = function (_a) {\n    var mutationMode = _a.mutationMode, undoable = _a.undoable, rest = __rest(_a, [\"mutationMode\", \"undoable\"]);\n    var mode = getMutationMode(mutationMode, undoable);\n    return mode === 'undoable' ? (React.createElement(DeleteWithUndoIconButton, __assign({}, rest))) : (React.createElement(DeleteWithConfirmIconButton, __assign({ mutationMode: mode, undoable: undoable }, rest)));\n};\nexport default DeleteRowButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { useTranslate } from 'react-admin';\nimport { useEditRowContext } from '../useEditRowContext';\nexport var EditRowButton = function (props) {\n    var open = useEditRowContext().open;\n    var translate = useTranslate();\n    var _a = props.label, label = _a === void 0 ? 'ra.action.edit' : _a;\n    var translatedLabel = translate(label, { _: 'Edit' });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, __assign({ onClick: open, size: \"small\", color: \"primary\", \"aria-label\": translatedLabel }, props),\n            React.createElement(ContentCreate, null))));\n};\n","import { useContext } from 'react';\nimport { EditRowContext } from './EditRowContext';\n/**\n * A hook which returns a function to open or quit the edit mode of a row from the sideEffect of a custom form inside the <EditableDatagrid>.\n *\n * @example\n *     const ArtistList = props => (\n *         <List {...props} hasCreate>\n *             <EditableDatagrid\n *                 undoable\n *                 editForm={<ArtistForm />}\n *             >\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"firstname\" />\n *                 <TextField source=\"name\" />\n *                 <DateField source=\"dob\" label=\"born\" />\n *                 <SelectField\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </EditableDatagrid>\n *         </List>\n *     );\n *\n *     const ArtistForm: FC = props => {\n *         const { close } = useEditRowContext();\n *\n *         return (\n *             <RowForm onSuccess={() => close()} {...props}>\n *                 <TextField source=\"id\" />\n *                 <TextInput source=\"firstname\" validate={required()} />\n *                 <TextInput source=\"name\" validate={required()} />\n *                 <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *                 <SelectInput\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </RowForm>\n *         );\n *     };\n */\nexport var useEditRowContext = function () {\n    var context = useContext(EditRowContext);\n    if (!context && process.env.NODE_ENV === 'development') {\n        console.error('useEditRowContext cannot be called outside of the RowForm passed as the `editForm` of the <EditableDatagrid> row.');\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useTranslate } from 'react-admin';\nexport var InlineCreateButton = function (props) {\n    var translate = useTranslate();\n    var label = translate('ra.action.create', { _: 'ra.action.create' });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(IconButton, __assign({ \"aria-label\": label, size: \"small\", color: \"primary\" }, props),\n            React.createElement(AddIcon, null),\n            props.children)));\n};\n","import React from 'react';\nimport { getMutationMode, useTranslate } from 'react-admin';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport ContentSave from '@material-ui/icons/Save';\nexport var SaveRowButton = function (_a) {\n    var dirty = _a.dirty, handleSubmit = _a.handleSubmit, invalid = _a.invalid, mutationMode = _a.mutationMode, quitEditMode = _a.quitEditMode, saving = _a.saving, undoable = _a.undoable;\n    var translate = useTranslate();\n    var onClick = function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        if (dirty && invalid) {\n            return;\n        }\n        handleSubmit();\n        var mode = getMutationMode(mutationMode, undoable);\n        if (mode === 'undoable') {\n            quitEditMode();\n        }\n    };\n    var label = translate('ra.action.save', {\n        _: 'ra.action.save',\n    });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(IconButton, { \"aria-label\": label, disabled: saving, onClick: onClick, size: \"small\", color: \"primary\" },\n            React.createElement(ContentSave, null))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { EditRowButton, DeleteRowButton } from './buttons';\nexport var ActionsColumn = function (_a) {\n    var mutationMode = _a.mutationMode, noDelete = _a.noDelete, undoable = _a.undoable, label = _a.label, props = __rest(_a, [\"mutationMode\", \"noDelete\", \"undoable\", \"label\"]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditRowButton, null),\n        !noDelete && (React.createElement(DeleteRowButton, __assign({ mutationMode: mutationMode, undoable: undoable }, props)))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { Datagrid, useResourceContext, useDatagridStyles, } from 'react-admin';\nimport EditableDatagridBody from './EditableDatagridBody';\nimport { CreateButton, InlineCreateButton } from './buttons';\nimport { ActionsColumn } from './ActionsColumn';\n/**\n * Component to display and edit tabular data.\n *\n * To be used as child of <List> or <ReferenceManyField>.\n * The <EditableDatagrid> expects the same props as <Datagrid>, plus 4 more props:\n *\n * - editForm: a component to display instead of a row when the users edits a record\n * - createForm: a component to display as the first row when the user creates a record\n * - undoable: whether the edit and delete actions are undoable. Defaults to false.\n * - noDelete: disable the inline Delete button\n *\n * The component renders the editForm and createForm elements in a <table>, so they\n * should render a <tr>. We advise you to use <RowForm> for editForm and createForm.\n *\n * Note: No need to include an <EditButton> as child, the <EditableDatagrid>\n * component adds a column with edit/delete/save/cancel buttons itself.\n *\n * Note: To enable the create form in a <List>, you should add the `hasCreate`\n * prop to the <List> component.\n *\n * @example\n *\n *     const ArtistList = props => (\n *         <List {...props} hasCreate>\n *             <EditableDatagrid\n *                 undoable\n *                 createForm={<ArtistForm />}\n *                 editForm={<ArtistForm />}\n *             >\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"firstname\" />\n *                 <TextField source=\"name\" />\n *                 <DateField source=\"dob\" label=\"born\" />\n *                 <SelectField\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </EditableDatagrid>\n *         </List>\n *     );\n *\n *     const ArtistForm: FC = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"firstname\" validate={required()} />\n *             <TextInput source=\"name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput\n *                 source=\"prof\"\n *                 label=\"Profession\"\n *                 choices={professionChoices}\n *             />\n *         </RowForm>\n *     );\n *\n * @example // inside a <ReferenceManyField> - remember to set the foreign ket in the createForm using initialValues\n *\n *     const OrderEdit = ({ id, ...props }) => (\n *         <Edit {...props} id={id}>\n *             <SimpleForm>\n *                 <ReferenceManyField\n *                     fullWidth\n *                     label=\"Products\"\n *                     reference=\"products\"\n *                     target=\"order_id\"\n *                 >\n *                     <EditableDatagrid\n *                         undoable\n *                         createForm={<ProductForm initialValues={{ order_id: id }} />}\n *                         editForm={<ProductForm />}\n *                     >\n *                         <TextField source=\"id\" />\n *                         <TextField source=\"name\" />\n *                         <NumberField source=\"price\" label=\"Default Price\" />\n *                         <DateField source=\"available_since\" />\n *                     </EditableDatagrid>\n *                 </ReferenceManyField>\n *                 <DateInput source=\"purchase_date\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n *\n *     const ProductForm = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" disabled />\n *             <TextInput source=\"name\" validate={required()} />\n *             <NumberInput\n *                 source=\"price\"\n *                 label=\"Default Price\"\n *                 validate={required()}\n *             />\n *             <DateInput source=\"available_since\" validate={required()} />\n *         </RowForm>\n *     );\n *\n * @see Datagrid for the other props\n * @see RowForm for the create and edit form\n */\nvar EditableDatagrid = function (props) {\n    var actions = props.actions, children = props.children, createForm = props.createForm, editForm = props.editForm, mutationMode = props.mutationMode, noDelete = props.noDelete, undoable = props.undoable, rest = __rest(props, [\"actions\", \"children\", \"createForm\", \"editForm\", \"mutationMode\", \"noDelete\", \"undoable\"]);\n    var resource = useResourceContext(props);\n    var classes = useDatagridStyles(props);\n    var _a = useState(false), isStandaloneCreateFormVisible = _a[0], setShowStandaloneCreateForm = _a[1];\n    var openStandaloneCreateForm = function () {\n        setShowStandaloneCreateForm(true);\n        // once the row is replaced by a form, focus the first input\n        setTimeout(function () {\n            var input = document.querySelectorAll('#new_record input')[0];\n            input && input.focus && input.focus();\n        }, 100); // FIXME not super robust\n    };\n    var closeStandaloneCreateForm = function () {\n        setShowStandaloneCreateForm(false);\n    };\n    // If EditableDatagrid is in a List view, the create form is displayed based on the route\n    // If not, the create form is displayed based on an internal state (see EditableDatagridBody)\n    // In order to detect if we are in a List view, we check the props that are passed\n    // We choose 'defaultTitle' since it's very unlikely to have this prop in a Reference field\n    // Also, we don't want to have 'defaultTitle' in the Props type, to not confuse users\n    var isInListView = rest.defaultTitle !== null;\n    var hasStandaloneCreateForm = !isInListView && Boolean(createForm);\n    var datagridBody = (React.createElement(EditableDatagridBody, { className: rest.className, classes: classes, closeStandaloneCreateForm: closeStandaloneCreateForm, createForm: createForm, editForm: editForm, expand: rest.expand, hasBulkActions: rest.hasBulkActions, hasStandaloneCreateForm: hasStandaloneCreateForm, isStandaloneCreateFormVisible: isStandaloneCreateFormVisible, mutationMode: mutationMode, undoable: undoable, basePath: rest.basePath, resource: resource }));\n    // Since <Datagrid /> returns null when there's no data\n    // We need to bypass it and display our datagrid by ourself\n    if (rest.loaded && (rest.ids.length === 0 || rest.total === 0)) {\n        return hasStandaloneCreateForm ? (React.createElement(React.Fragment, null,\n            React.createElement(CreateButton, { onClick: openStandaloneCreateForm, resource: resource }),\n            React.createElement(\"table\", null, datagridBody))) : (React.createElement(\"table\", null, datagridBody));\n    }\n    return (React.createElement(Datagrid, __assign({ body: datagridBody, resource: resource }, rest),\n        children,\n        actions !== false\n            ? actions || (React.createElement(ActionsColumn\n            // Datagrid cells supports the label prop which accept a React element.\n            , { \n                // Datagrid cells supports the label prop which accept a React element.\n                label: hasStandaloneCreateForm ? (React.createElement(InlineCreateButton, { onClick: openStandaloneCreateForm })) : (''), mutationMode: mutationMode, undoable: undoable, noDelete: noDelete, redirect: isInListView ? 'list' : false }))\n            : null));\n};\nexport default EditableDatagrid;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, cloneElement, useEffect, } from 'react';\nimport { Form } from 'react-final-form';\nimport { ExpandRowButton, useSaveContext, } from 'react-admin';\nimport { TableRow, TableCell, Checkbox, makeStyles } from '@material-ui/core';\nimport { CancelEditButton, SaveRowButton } from './buttons';\n/**\n * A form to be rendered as a table row in an <EditableDatagrid>.\n *\n * All the props it expects are injected by <EditableDatagrid>. You should only\n * provide children to be rendered in each table cell.\n *\n * The children should be Input components, just like in a <SimpleForm>. You\n * can also pass a <Field> component as child.\n *\n * <RowForm> should have as many children as the <EditableDatagrid> that calls\n * it, or there will be a colSpan issue.\n *\n * @example\n *\n *     const ArtistForm: FC = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"firstname\" validate={required()} />\n *             <TextInput source=\"name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput\n *                 source=\"prof\"\n *                 label=\"Profession\"\n *                 choices={professionChoices}\n *             />\n *         </RowForm>\n *     );\n *\n * @see EditableDatagrid\n */\nvar RowForm = function (props) {\n    var children = props.children, record = props.record, id = props.id, className = props.className, quitEditMode = props.quitEditMode, expand = props.expand, hasBulkActions = props.hasBulkActions, initialValues = props.initialValues, selectable = props.selectable, basePath = props.basePath, resource = props.resource, save = props.save, saving = props.saving, selected = props.selected, _a = props.submitOnEnter, submitOnEnter = _a === void 0 ? true : _a, undoable = props.undoable, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform, mutationMode = props.mutationMode, rest = __rest(props, [\"children\", \"record\", \"id\", \"className\", \"quitEditMode\", \"expand\", \"hasBulkActions\", \"initialValues\", \"selectable\", \"basePath\", \"resource\", \"save\", \"saving\", \"selected\", \"submitOnEnter\", \"undoable\", \"onSuccess\", \"onFailure\", \"transform\", \"mutationMode\"]);\n    var classes = useStyles();\n    // handle submit by enter\n    var onKeyDown = function (handleSubmit) {\n        return function (event) {\n            if (event.key === 'Enter' && submitOnEnter) {\n                event.preventDefault();\n                event.stopPropagation();\n                handleSubmit();\n            }\n        };\n    };\n    var saveContext = useSaveContext();\n    useEffect(function () {\n        if (onFailure) {\n            saveContext.setOnFailure(onFailure);\n        }\n        if (onSuccess) {\n            saveContext.setOnSuccess(onSuccess);\n        }\n        if (transform) {\n            saveContext.setTransform(transform);\n        }\n    }, [saveContext, onFailure, onSuccess, transform]);\n    return (React.createElement(Form, __assign({ initialValues: __assign(__assign({}, initialValues), record), onSubmit: save }, rest), function (_a) {\n        var handleSubmit = _a.handleSubmit, invalid = _a.invalid, dirty = _a.dirty;\n        return (React.createElement(TableRow, { className: className, key: id, onKeyDown: onKeyDown(handleSubmit) },\n            expand && (React.createElement(TableCell, { padding: \"none\" },\n                React.createElement(ExpandRowButton, { classes: rest.classes, expanded: false, disabled: true }))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { color: \"primary\", checked: selected, disabled: true })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(TableCell, { key: index, className: field.props.cellClassName, align: field.props.textAlign }, cloneElement(field, {\n                    record: record,\n                    basePath: field.props.basePath || basePath,\n                    resource: resource,\n                }))) : null;\n            }),\n            React.createElement(TableCell, { className: classes.actionColumn },\n                React.createElement(SaveRowButton, { dirty: dirty, handleSubmit: handleSubmit, invalid: invalid, quitEditMode: quitEditMode, saving: saving, undoable: undoable, mutationMode: mutationMode }),\n                React.createElement(CancelEditButton, { cancel: quitEditMode }))));\n    }));\n};\nvar useStyles = makeStyles({\n    actionColumn: {\n        whiteSpace: 'nowrap',\n        width: '5em',\n    },\n}, {\n    name: 'RaRowForm',\n});\nexport default RowForm;\n","import {\n  Button as MuiButton,\n  IconButton,\n  PropTypes as MuiPropTypes,\n  Theme,\n  Tooltip,\n  useMediaQuery,\n} from '@material-ui/core'\nimport { ButtonProps as MuiButtonProps } from '@material-ui/core/Button'\nimport { makeStyles } from '@material-ui/core/styles'\nimport classnames from 'classnames'\nimport { LocationDescriptor } from 'history'\nimport PropTypes from 'prop-types'\nimport { Record, RedirectionSideEffect, useTranslate } from 'ra-core'\nimport * as React from 'react'\nimport { ReactElement, ReactNode, SyntheticEvent } from 'react'\n\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\n\nconst useStyles = makeStyles(\n  {\n    button: {\n      display: 'inline-flex',\n      alignItems: 'center',\n    },\n    label: {\n      paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n      paddingRight: '0.5em',\n    },\n    smallIcon: {\n      fontSize: 20,\n    },\n    mediumIcon: {\n      fontSize: 22,\n    },\n    largeIcon: {\n      fontSize: 24,\n    },\n  },\n  { name: 'RaButton' },\n)\n\nexport const sanitizeButtonRestProps = ({\n  // The next props are injected by Toolbar\n  basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n  handleSubmit, // eslint-disable-line @typescript-eslint/no-unused-vars\n  handleSubmitWithRedirect, // eslint-disable-line @typescript-eslint/no-unused-vars\n  invalid, // eslint-disable-line @typescript-eslint/no-unused-vars\n  onSave, // eslint-disable-line @typescript-eslint/no-unused-vars\n  pristine, // eslint-disable-line @typescript-eslint/no-unused-vars\n  record, // eslint-disable-line @typescript-eslint/no-unused-vars\n  redirect, // eslint-disable-line @typescript-eslint/no-unused-vars\n  resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n  saving, // eslint-disable-line @typescript-eslint/no-unused-vars\n  submitOnEnter, // eslint-disable-line @typescript-eslint/no-unused-vars\n  undoable, // eslint-disable-line @typescript-eslint/no-unused-vars\n  ...rest\n}: any) => rest\n\nconst Button = (props: ButtonProps) => {\n  const {\n    alignIcon = 'left',\n    children,\n    classes: classesOverride, // eslint-disable-line @typescript-eslint/no-unused-vars\n    className,\n    color,\n    disabled,\n    label,\n    size = 'small',\n    useSmallVersionBreakpoint: useSmallVersion,\n    ...rest\n  } = props\n  const translate = useTranslate()\n  const classes = useStyles(props)\n  const isXSmall = useMediaQuery((theme: Theme) => theme.breakpoints.down('xs'))\n  const restProps = sanitizeButtonRestProps(rest)\n  // eslint-disable-next-line no-nested-ternary\n  return isXSmall && useSmallVersion ? (\n    label && !disabled ? (\n      <Tooltip title={translate(label, { _: label })}>\n        <IconButton\n          aria-label={translate(label, { _: label })}\n          className={className}\n          color={color}\n          {...restProps}\n        >\n          {children}\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <IconButton\n        className={className}\n        color={color}\n        disabled={disabled}\n        {...restProps}\n      >\n        {children}\n      </IconButton>\n    )\n  ) : (\n    <MuiButton\n      className={classnames(classes.button, className)}\n      color={color}\n      size={size}\n      aria-label={label ? translate(label, { _: label }) : undefined}\n      disabled={disabled}\n      {...restProps}\n    >\n      {alignIcon === 'left' &&\n        children &&\n        React.cloneElement(children, {\n          className: classes[`${size}Icon`],\n        })}\n      {label && (\n        <span\n          className={classnames({\n            [classes.label]: alignIcon === 'left',\n            [classes.labelRightIcon]: alignIcon !== 'left',\n          })}\n        >\n          {translate(label, { _: label })}\n        </span>\n      )}\n      {alignIcon === 'right' &&\n        children &&\n        React.cloneElement(children, {\n          className: classes[`${size}Icon`],\n        })}\n    </MuiButton>\n  )\n}\n\ninterface Props {\n  alignIcon?: 'left' | 'right'\n  children?: ReactElement\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  classes?: object\n  className?: string\n  color?: MuiPropTypes.Color\n  component?: ReactNode\n  to?: string | LocationDescriptor\n  disabled?: boolean\n  label?: string\n  size?: 'small' | 'medium' | 'large'\n  icon?: ReactElement\n  redirect?: RedirectionSideEffect\n  variant?: string\n  // May be injected by Toolbar\n  basePath?: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  handleSubmit?: (event?: SyntheticEvent<HTMLFormElement>) => Promise<Object>\n  handleSubmitWithRedirect?: (redirect?: RedirectionSideEffect) => void\n  invalid?: boolean\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  onSave?: (values: object, redirect: RedirectionSideEffect) => void\n  saving?: boolean\n  submitOnEnter?: boolean\n  pristine?: boolean\n  record?: Record\n  resource?: string\n  undoable?: boolean\n  useSmallVersionBreakpoint?: boolean\n}\n\nexport type ButtonProps = Props & MuiButtonProps\n\nButton.propTypes = {\n  alignIcon: PropTypes.oneOf(['left', 'right']),\n  children: PropTypes.element,\n  // eslint-disable-next-line react/forbid-prop-types\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  useSmallVersionBreakpoint: PropTypes.bool,\n}\n\nButton.defaultProps = {\n  color: 'primary',\n  size: 'small',\n  useSmallVersionBreakpoint: true,\n}\n\nexport default Button\n","export enum AccessDateTypes {\n  GRANT = 'GRANT',\n  REVOKE = 'REVOKE',\n}\n","import { Chip } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Labeled,\n  LabeledProps,\n  useRecordContext,\n  useTranslate,\n} from 'react-admin'\n\nexport const MappedChipField = <T extends unknown>({\n  mapper,\n  source,\n  ...props\n}: Omit<LabeledProps, 'children'> & { mapper: (value: T) => string }) => {\n  const record = useRecordContext()\n  const t = useTranslate()\n  const mappedValue = mapper(record[source as string])\n  return (\n    <Labeled {...props} source={source}>\n      <>\n        <Chip label={t(mappedValue)} />\n      </>\n    </Labeled>\n  )\n}\n","import * as React from 'react'\nimport { useListContext } from 'react-admin'\nimport {\n  Button,\n  Toolbar,\n  Grid,\n  Paper,\n  ButtonGroup,\n  Select,\n  MenuItem,\n} from '@material-ui/core'\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\nimport ChevronRight from '@material-ui/icons/ChevronRight'\n\nexport const MobilePostPagination = () => {\n  const { page, perPage, total, setPage, setPerPage } = useListContext()\n  const nbPages = Math.ceil(total / perPage) || 1\n  return nbPages > 1 ? (\n    <Toolbar>\n      <Grid container>\n        <Grid item xs={3}>\n          <Paper\n            elevation={0}\n            style={{\n              height: '100%',\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n              alignItems: 'center',\n            }}\n          >\n            <Select\n              value={perPage}\n              style={{ width: '100%', height: '70%', textAlign: 'center' }}\n              variant=\"outlined\"\n              onChange={(e) =>\n                setPerPage(parseInt(e.target.value as string, 10))\n              }\n            >\n              <MenuItem value={20}> 20 </MenuItem>\n              <MenuItem value={50}> 50 </MenuItem>\n              <MenuItem value={100}> 100 </MenuItem>\n            </Select>\n          </Paper>\n        </Grid>\n        <Grid item xs={4} />\n        <Grid item xs={5}>\n          <Paper\n            elevation={0}\n            style={{\n              height: '100%',\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n              alignItems: 'center',\n            }}\n          >\n            <ButtonGroup style={{ height: '70%' }}>\n              {page > 1 ? (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  key=\"prev\"\n                  onClick={() => setPage(page - 1)}\n                >\n                  <ChevronLeft />\n                </Button>\n              ) : (\n                <Button variant=\"outlined\" color=\"primary\" disabled>\n                  <ChevronLeft />\n                </Button>\n              )}\n              <Button disabled variant=\"contained\">\n                {' '}\n                {page}{' '}\n              </Button>\n              {page !== nbPages ? (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  key=\"next\"\n                  onClick={() => setPage(page + 1)}\n                >\n                  <ChevronRight />\n                </Button>\n              ) : (\n                <Button variant=\"outlined\" color=\"primary\" disabled>\n                  <ChevronRight />\n                </Button>\n              )}\n            </ButtonGroup>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Toolbar>\n  ) : (\n    <div />\n  )\n}\n","import React from 'react'\nimport { useMediaQuery, useTheme } from '@material-ui/core'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  Datagrid,\n  TextField,\n  Identifier,\n} from 'react-admin'\nimport { MobilePostPagination } from '../../common/Pagination'\n\nexport const AccessList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      {...props}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        rowClick={(id: Identifier) =>\n          `?${new URLSearchParams({ id } as any).toString()}`\n        }\n      >\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <TextField source=\"entranceId\" />\n      </Datagrid>\n    </List>\n  )\n}\n","import * as React from 'react'\nimport {\n  CreateButton,\n  CreateButtonProps,\n  useResourceContext,\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\n\ninterface ParameterizedCreateButtonProps extends CreateButtonProps {\n  searchParams?: any\n}\n\nconst ParameterizedCreateButton = ({\n  ...props\n}: ParameterizedCreateButtonProps) => {\n  const history = useHistory()\n  const resource = useResourceContext()\n\n  const onClick = (e: any) => {\n    if (props.searchParams) {\n      e.preventDefault()\n      history.push({\n        pathname: props.basePath\n          ? `${props.basePath}/create`\n          : `/${resource}/create`,\n        state: { _scrollToTop: props.scrollToTop },\n        search: new URLSearchParams(props.searchParams).toString(),\n      })\n    }\n  }\n\n  return <CreateButton onClick={onClick} />\n}\n\nexport default ParameterizedCreateButton\n","export enum ToggleType {\n  ACTIVE = 'ACTIVE',\n  INACTIVE = 'INACTIVE',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { Checkbox, CheckboxProps, Typography } from '@material-ui/core'\nimport { SwitchBaseProps } from '@material-ui/core/internal/SwitchBase'\nimport React, { MouseEventHandler } from 'react'\nimport { useRecordContext } from 'react-admin'\n\nexport interface CheckboxFieldProps extends CheckboxProps {\n  sortable?: boolean\n  label?: string\n  source: string\n  checkBySource?: (sourceValue: any) => SwitchBaseProps['checked']\n  onClick?: (sourceValue: any) => MouseEventHandler | undefined\n}\n\nconst sanitizeFieldRestProps: (props: any) => any = ({\n  addLabel, // eslint-disable-line @typescript-eslint/no-unused-vars\n  allowEmpty, // eslint-disable-line @typescript-eslint/no-unused-vars\n  basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n  cellClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  className, // eslint-disable-line @typescript-eslint/no-unused-vars\n  emptyText, // eslint-disable-line @typescript-eslint/no-unused-vars\n  formClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  fullWidth, // eslint-disable-line @typescript-eslint/no-unused-vars\n  headerClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  label, // eslint-disable-line @typescript-eslint/no-unused-vars\n  linkType, // eslint-disable-line @typescript-eslint/no-unused-vars\n  link, // eslint-disable-line @typescript-eslint/no-unused-vars\n  locale, // eslint-disable-line @typescript-eslint/no-unused-vars\n  record, // eslint-disable-line @typescript-eslint/no-unused-vars\n  refetch, // eslint-disable-line @typescript-eslint/no-unused-vars\n  resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortable, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortBy, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortByOrder, // eslint-disable-line @typescript-eslint/no-unused-vars\n  source, // eslint-disable-line @typescript-eslint/no-unused-vars\n  textAlign, // eslint-disable-line @typescript-eslint/no-unused-vars\n  translateChoice, // eslint-disable-line @typescript-eslint/no-unused-vars\n  ...props\n}) => props\n\nexport const CheckboxField = ({\n  sortable,\n  label,\n  source,\n  checkBySource,\n  onClick,\n  className,\n  style,\n  ...props\n}: CheckboxFieldProps): JSX.Element => {\n  const record = useRecordContext()\n  const value = record[source as string]\n  return (\n    <Typography aria-label={label} className={className} style={style}>\n      <Checkbox\n        aria-sort={sortable ? undefined : 'none'}\n        {...(sanitizeFieldRestProps(props) as CheckboxProps)}\n        checked={checkBySource && checkBySource(value)}\n        onClick={onClick && onClick(value)}\n      />\n    </Typography>\n  )\n}\n","import { ButtonGroup } from '@material-ui/core'\nimport React, { ReactElement, ReactNode } from 'react'\nimport {\n  Datagrid,\n  GET_LIST,\n  List,\n  Pagination,\n  Record,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  TextField,\n  TopToolbar,\n  useListContext,\n  useMutation,\n  useQuery,\n  useShowContext,\n} from 'react-admin'\nimport { TicketAPISortPayload } from '../../core/common/ticket-api-get-list.params'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CheckboxField } from './CheckboxField'\nimport Button from './customized-mui-components/Button'\n\nconst RelationTab = <RecordType extends Record = Record>({\n  resource,\n  source,\n  mode,\n  attachMethod,\n  detachMethod,\n  attachRequestPayload,\n  detachRequestPayload,\n  refetchListAfterChange = () => true,\n  relationsRequestMethod,\n  relationsRequestPayload,\n  relationsMapper,\n  filters,\n  filterDefaultValues,\n  sort,\n  children,\n}: {\n  resource: ResourceName\n  source: string\n  mode: 'show' | 'edit'\n  attachMethod: string\n  detachMethod: string\n  attachRequestPayload: (record: RecordType, idsToAttach: number[]) => any\n  detachRequestPayload: (record: RecordType, idsToDetach: number[]) => any\n  refetchListAfterChange?: (filterValues: any) => boolean\n  relationsRequestMethod?: string\n  relationsRequestPayload?: (record: RecordType) => any\n  relationsMapper?: (records: Record[], source: string) => any\n  filters?: ReactElement | ReactElement[]\n  filterDefaultValues?: any\n  sort?: TicketAPISortPayload\n  children?: ReactNode[]\n}) => {\n  const [mutate] = useMutation()\n  const {\n    record,\n    basePath,\n    refetch,\n    resource: recordResource,\n  } = useShowContext<RecordType>()\n\n  const { data: relationsDto, refetch: refetchRelationsIds } = useQuery(\n    {\n      type: sanitizeFetchType(relationsRequestMethod as string),\n      resource: recordResource as string,\n      payload:\n        record && relationsRequestPayload && relationsRequestPayload(record),\n    },\n    {\n      enabled: !!relationsRequestMethod && !!relationsRequestPayload,\n    },\n  )\n\n  const relations =\n    relationsDto &&\n    (relationsMapper ? relationsMapper(relationsDto, source) : relationsDto)\n\n  const handleAttach = async (idsToAttach: number[]) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(attachMethod),\n        resource: recordResource as string,\n        payload:\n          record &&\n          attachRequestPayload &&\n          attachRequestPayload(record, idsToAttach),\n      },\n      { returnPromise: true },\n    )\n    if (refetch) {\n      refetch()\n    }\n    refetchRelationsIds()\n  }\n\n  const handleDetach = async (idsToDetach: number[]) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(detachMethod),\n        resource: recordResource as string,\n        payload:\n          record &&\n          detachRequestPayload &&\n          detachRequestPayload(record, idsToDetach),\n      },\n      { returnPromise: true },\n    )\n    if (refetch) {\n      refetch()\n    }\n    refetchRelationsIds()\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    if (!!relationsRequestMethod && !!relationsRequestPayload && relations)\n      return relations[source].includes(relatedRecordId)\n    if (record && !relationsRequestMethod && !relationsRequestPayload)\n      return record[source].includes(relatedRecordId)\n    return false\n  }\n\n  const Actions = () => {\n    const { filterValues, refetch: refetchList } = useListContext()\n    const getFilteredRelatedRecordsIds = async () =>\n      (\n        await mutate(\n          {\n            type: sanitizeFetchType(GET_LIST),\n            resource,\n            payload: {\n              filter: {\n                ...filterValues,\n              },\n            },\n          },\n          { returnPromise: true },\n        )\n      )?.data?.map((r: any) => r?.id)\n\n    const handleAttachAll = async () => {\n      await handleAttach(await getFilteredRelatedRecordsIds())\n      refetchList()\n    }\n\n    const handleDetachAll = async () => {\n      await handleDetach(await getFilteredRelatedRecordsIds())\n      refetchList()\n    }\n\n    return (\n      <TopToolbar>\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            onClick={() => handleAttachAll()}\n            label=\"common.related-records.actions.attach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleDetachAll()}\n            label=\"common.related-records.actions.detach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  const AttachedCheckbox = ({ ...props }) => {\n    const { filterValues, refetch: refetchList } = useListContext()\n\n    return (\n      <CheckboxField\n        {...props}\n        disabled={mode !== 'edit'}\n        sortable={false}\n        checkBySource={(id: number) => isAttached(id)}\n        source=\"id\"\n        onClick={(id: number) =>\n          isAttached(id as number)\n            ? async () => {\n                await handleDetach([id as number])\n                if (refetchListAfterChange(filterValues)) {\n                  refetchList()\n                }\n              }\n            : async () => {\n                await handleAttach([id as number])\n                if (refetchListAfterChange(filterValues)) {\n                  refetchList()\n                }\n              }\n        }\n      />\n    )\n  }\n\n  return (\n    <ResourceContextProvider value={resource}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        filters={filters}\n        filterDefaultValues={filterDefaultValues}\n        sort={sort}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={mode === 'edit' ? <Actions /> : <></>}\n      >\n        <>\n          <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }}>\n            {children || <TextField source=\"id\" />}\n            <AttachedCheckbox label=\"common.related-records.fields.is-attached\" />\n          </Datagrid>\n        </>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nexport default RelationTab\n","import { ResourceName } from '../ResourceName'\n\nconst mapping: Record<string, string> = {\n  [ResourceName.ACCESSES]: 'filterAccessId',\n  [ResourceName.ENGINES]: 'filterVerifierDeviceId',\n  [ResourceName.ENTRANCES]: 'filterEntranceId',\n  [ResourceName.EVENTS]: 'filterEventId',\n  [ResourceName.PALMS]: 'filterVerifierDeviceId',\n  [ResourceName.VARIANTS]: 'filterVariantId',\n  [ResourceName.ROLES]: 'filterRoleId',\n  [ResourceName.USERS]: 'filterUserId',\n}\n\nconst filterMapper = (key: ResourceName) => mapping[key]\n\nexport default filterMapper\n","import React, { ReactNode } from 'react'\nimport { BooleanInput, Filter, useShowContext } from 'react-admin'\nimport filterMapper from '../../core/common/relation-tab-filter.mapper'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from './FilterProps'\n\nexport interface RelationTabFilterProps extends FilterProps {\n  readonly children?: ReactNode | ReactNode[]\n}\n\nconst RelationTabFilter = (props: RelationTabFilterProps) => {\n  const { children, ...filterProps } = props\n  const { resource } = useShowContext()\n\n  return (\n    <Filter {...filterProps}>\n      {children}\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source={filterMapper(resource as ResourceName)}\n        alwaysOn\n      />\n    </Filter>\n  )\n}\n\nexport default RelationTabFilter\n","import { sanitizeFetchType, UPDATE } from 'react-admin'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { ResourceName } from '../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './access-using-activation-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst deactivateMutation = ({ id }: AccessUsingDto): Mutation => ({\n  type: sanitizeFetchType(UPDATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      id,\n      active: false,\n    },\n  },\n})\n\nconst activateMutation = ({ id }: AccessUsingDto): Mutation => ({\n  type: sanitizeFetchType(UPDATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      id,\n      active: true,\n    },\n  },\n})\n\ntype State = {\n  mutateQuery?: (event: AccessUsingDto) => Mutation\n} & ToggleButtonState\n\nexport const activationButtonInitialState = {\n  type: ToggleType.INACTIVE,\n  text: 'resources.access-usings.actions.activate',\n}\n\nexport const toggleActivationButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.ACTIVE: {\n      return {\n        type,\n        text: 'resources.access-usings.actions.deactivate',\n        mutateQuery: deactivateMutation,\n      }\n    }\n    case ToggleType.INACTIVE: {\n      return {\n        type,\n        text: 'resources.access-usings.actions.activate',\n        mutateQuery: activateMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum ToggleType {\n  BLOCK = 'BLOCK',\n  UNBLOCK = 'UNBLOCK',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import {\n  createStyles,\n  IconButton,\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Power, PowerOff } from '@material-ui/icons'\nimport React, { useReducer, useEffect } from 'react'\nimport { useMutation, useNotify, useRefresh, useShowContext } from 'react-admin'\nimport {\n  activationButtonInitialState,\n  toggleActivationButtonReducer,\n} from '../../../core/access-usings/access-using-activation-button.reducer'\nimport { ToggleType } from '../../../core/access-usings/access-using-activation-button'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n      width: '100%',\n    },\n  }),\n)\n\nexport const AccessUsingActivationButton = ({ ...props }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleActivationButtonReducer,\n    activationButtonInitialState,\n  )\n  const { record: accessUsing } = props\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (accessUsing.active) {\n      dispatch({ type: ToggleType.ACTIVE })\n    } else {\n      dispatch({ type: ToggleType.INACTIVE })\n    }\n  }, [accessUsing])\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(accessUsing)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return !xSmallScreen ? (\n    <Button\n      disabled={\n        !hasAuthority(Authority.EDIT_ACCESS_USINGS) ||\n        loading ||\n        mutationLoading\n      }\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  ) : (\n    <IconButton\n      color=\"primary\"\n      onClick={onClick}\n      disabled={\n        !hasAuthority(Authority.EDIT_ACCESS_USINGS) ||\n        loading ||\n        mutationLoading\n      }\n    >\n      {type === ToggleType.ACTIVE ? <PowerOff /> : <Power />}\n    </IconButton>\n  )\n}\n","import { Box, Divider, Grid, useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  DatagridProps,\n  DateField,\n  DateTimeInput,\n  EditButton,\n  FunctionField,\n  Identifier,\n  Labeled,\n  List,\n  ListProps,\n  NumberField,\n  NumberInput,\n  Pagination,\n  ReferenceField,\n  ResourceContextProvider,\n  SelectInput,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TabbedShowLayoutProps,\n  TextField,\n  TextInput,\n  TitleProps,\n  TopToolbar,\n  useListContext,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { formatDate, formatTime } from '../../../core/common/date-time'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessDateTypes } from '../../../core/enum/AccessDateTypes'\nimport { ResourceName } from '../../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid/esm/src'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { AccessUsingActivationButton } from '../access-usings/AccessUsingActivationButton'\n\nconst ShowTitle = (data: AccessTitleProps) => {\n  const { record: variant } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.accesses.titles.show')}: {variant?.id}.{' '}\n      {variant?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: access } = useShowContext<AccessDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.ACCESSES}`}\n          record={access}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ACCESSES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const AccessDetailsTab = ({\n  displayActions = true,\n  ...props\n}: AccessDetailsTabProps) => {\n  const { record: access } = useShowContext<AccessDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <FunctionField<AccessDto>\n        source=\"bonus\"\n        render={(r?: AccessDto) => (\n          <div>{translate(`resources.enums.bonus.${r?.bonus}`)}</div>\n        )}\n      />\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <ReferenceField\n          source=\"entranceId\"\n          reference={ResourceName.ENTRANCES}\n          link=\"show\"\n        >\n          <FunctionField<EntranceDto>\n            render={(record?: EntranceDto) => (\n              <div>\n                {record?.id} ({record?.note})\n              </div>\n            )}\n          />\n        </ReferenceField>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <ReferenceField\n          source=\"modifiedById\"\n          reference={ResourceName.USERS}\n          link=\"show\"\n        >\n          <TextField source=\"userName\" />\n        </ReferenceField>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <ReferenceField\n          source=\"createdById\"\n          reference={ResourceName.USERS}\n          link=\"show\"\n        >\n          <TextField source=\"userName\" />\n        </ReferenceField>\n      )}\n      <FunctionField<AccessDto>\n        source=\"allowReenter\"\n        render={(r?: AccessDto) => (\n          <div>\n            {r?.allowReenter ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <FunctionField<AccessDto>\n        source=\"multipleEntry\"\n        render={(r?: AccessDto) => (\n          <div>\n            {r?.multipleEntry ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <TextField source=\"multiple\" />\n      <TextField source=\"usePriority\" />\n      <TextField source=\"delay\" />\n      {access?.releaseTime && (\n        <FunctionField<AccessDto>\n          source=\"releaseTime\"\n          render={(record?: AccessDto) => (\n            <div>{formatTime(record?.releaseTime)}</div>\n          )}\n        />\n      )}\n      {access?.releaseDayOfMonth && <TextField source=\"releaseDayOfMonth\" />}\n      {access?.releaseDayOfWeek && (\n        <FunctionField<AccessDto>\n          source=\"releaseDayOfWeek\"\n          render={(r?: AccessDto) => (\n            <div>\n              {translate(`resources.enums.dayOfWeek.${r?.releaseDayOfWeek}`)}\n            </div>\n          )}\n        />\n      )}\n      <DateField source=\"createdAt\" showTime />\n      <DateField source=\"modifiedAt\" showTime />\n      {access?.activePeriodStartingFrom !==\n        AccessActivePeriodStartingOptions.NO_LIMIT && (\n        <TextField source=\"activePeriod\" />\n      )}\n      <FunctionField<AccessDto>\n        source=\"activePeriodStartingFrom\"\n        render={(r?: AccessDto) => (\n          <div>\n            {translate(\n              `resources.enums.activePeriodStartingFrom.${r?.activePeriodStartingFrom}`,\n            )}\n          </div>\n        )}\n      />\n      {displayActions && <GeneralActions />}\n    </SimpleShowLayout>\n  )\n}\n\nconst AccessDateExpand = ({ ...props }) => {\n  const { record: accessDate } = useShowContext<AccessDateDto>()\n\n  return (\n    <Grid container justify=\"space-around\">\n      <Grid item>\n        <Labeled {...props} source=\"timeFrom\">\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeFrom)}</div>\n            )}\n          />\n        </Labeled>\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"timeTo\">\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeTo)}</div>\n            )}\n          />\n        </Labeled>\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"priority\">\n          <NumberField source=\"priority\" />\n        </Labeled>\n      </Grid>\n      {accessDate?.dayOfWeek && (\n        <Grid item>\n          <Labeled {...props} source=\"dayOfWeek\">\n            <TextField source=\"dayOfWeek\" />\n          </Labeled>\n        </Grid>\n      )}\n    </Grid>\n  )\n}\n\nconst AccessDatesList = ({\n  displayActions,\n  predefinedAccessId: accessId,\n  ...props\n}: AccessDatesListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const { basePath } = useListContext()\n\n  const ListActions = () => (\n    <TopToolbar>\n      {hasAuthority(Authority.CREATE_ACCESS_DATES) && (\n        <ParameterizedCreateButton searchParams={{ accessId }} />\n      )}\n    </TopToolbar>\n  )\n\n  const EditForm = ({ ...editProps }) => (\n    <RowForm {...editProps}>\n      <DateTimeInput\n        source=\"activeFrom\"\n        type=\"date\"\n        format={formatDate}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"activeTo\"\n        type=\"date\"\n        format={formatDate}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"timeFrom\"\n        type=\"time\"\n        format={formatTime}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"timeTo\"\n        type=\"time\"\n        format={formatTime}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <SelectInput\n        source=\"type\"\n        choices={Object.entries(AccessDateTypes).map(([value]) => ({\n          id: value,\n          name: `resources.enums.accessDateTypes.${value}`,\n        }))}\n      />\n      <NumberInput source=\"priority\" />\n    </RowForm>\n  )\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      perPage={20}\n      sort={{ field: 'id', order: 'DESC' }}\n      bulkActionButtons={false}\n      actions={displayActions === undefined && <ListActions />}\n      hasCreate={hasAuthority(Authority.CREATE_ACCESS_DATES)}\n      empty={false}\n    >\n      <EditableDatagrid\n        isRowExpandable={() => smallScreen}\n        expand={<AccessDateExpand />}\n        padding={xSmallScreen ? 'checkbox' : 'default'}\n        editForm={<EditForm />}\n        noDelete\n        actions={\n          displayActions === undefined &&\n          hasAuthority(Authority.EDIT_ACCESS_DATES)\n            ? undefined\n            : false\n        }\n      >\n        <DateField source=\"activeFrom\" />\n        <DateField source=\"activeTo\" />\n        {!smallScreen && (\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeFrom)}</div>\n            )}\n          />\n        )}\n        {!smallScreen && (\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeTo)}</div>\n            )}\n          />\n        )}\n        <FunctionField<AccessDateDto>\n          source=\"type\"\n          render={(r?: AccessDateDto) =>\n            translate(`resources.enums.accessDateTypes.${r?.type}`)\n          }\n        />\n        {!smallScreen && <NumberField source=\"priority\" />}\n      </EditableDatagrid>\n    </List>\n  )\n}\n\nexport const AccessDatesTab = ({\n  displayActions,\n  predefinedAccessId,\n}: AccessDatesTabProps) => {\n  const { basePath, record } = useShowContext<AccessDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.ACCESS_DATES}>\n      <AccessDatesList\n        displayActions={displayActions}\n        predefinedAccessId={predefinedAccessId}\n        title=\" \"\n        basePath={basePath}\n        filter={{\n          accessId: record?.id,\n        }}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst AccessUsingsExpand = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <Grid container justify=\"space-around\">\n      <Grid item>\n        {hasAuthority(Authority.VIEW_TICKETS) && (\n          <Labeled {...props} source=\"ticketCode\">\n            <ReferenceField\n              reference={ResourceName.TICKETS}\n              source=\"ticketId\"\n              link={false}\n            >\n              <TextField source=\"ticketCode\" />\n            </ReferenceField>\n          </Labeled>\n        )}\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"active\">\n          <FunctionField<AccessUsingDto>\n            source=\"active\"\n            render={(record?: AccessUsingDto) =>\n              record?.active ? translate('const.yes') : translate('const.no')\n            }\n          />\n        </Labeled>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst AccessUsingsGrid = (props: DatagridProps) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Datagrid\n      {...props}\n      padding={xSmallScreen ? 'checkbox' : 'default'}\n      isRowExpandable={() => xSmallScreen}\n      expand={<AccessUsingsExpand />}\n    >\n      <DateField source=\"date\" showTime />\n      <FunctionField<AccessUsingDto>\n        source=\"direction\"\n        render={(record?: AccessUsingDto) =>\n          translate(`resources.enums.deviceDirection.${record?.direction}`)\n        }\n      />\n      {!xSmallScreen && hasAuthority(Authority.VIEW_TICKETS) && (\n        <ReferenceField\n          label=\"resources.access-usings.fields.ticketCode\"\n          reference={ResourceName.TICKETS}\n          source=\"ticketId\"\n          link={false}\n        >\n          <TextField source=\"ticketCode\" />\n        </ReferenceField>\n      )}\n      {!xSmallScreen && (\n        <FunctionField<AccessUsingDto>\n          source=\"active\"\n          render={(record?: AccessUsingDto) =>\n            record?.active ? translate('const.yes') : translate('const.no')\n          }\n        />\n      )}\n      <FunctionField<AccessUsingDto>\n        render={(record?: AccessUsingDto) => (\n          <AccessUsingActivationButton record={record} />\n        )}\n      />\n    </Datagrid>\n  )\n}\n\nconst AccessUsingsList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    perPage={20}\n    sort={{ field: 'date', order: 'DESC' }}\n    bulkActionButtons={false}\n  >\n    <AccessUsingsGrid />\n  </List>\n)\n\nexport const AccessUsingsTab = ({\n  accessUsingsTicketsIdsFilter = null,\n}: {\n  accessUsingsTicketsIdsFilter?: number[] | null | undefined\n}) => {\n  const { basePath, record: selectedAccess } = useShowContext<AccessDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.ACCESS_USINGS}>\n      <AccessUsingsList\n        title=\" \"\n        basePath={basePath}\n        filter={{\n          accessId: selectedAccess?.id,\n          ticketsIds: accessUsingsTicketsIdsFilter,\n        }}\n        actions={false}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst AccessTabs = ({ ...props }: Omit<TabbedShowLayoutProps, 'children'>) => {\n  const { record: access } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const RelationFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.accesses.tabs.details\">\n        <AccessDetailsTab displayActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_VARIANTS) && (\n        <Tab path=\"variants\" label=\"resources.accesses.tabs.variants\">\n          <>\n            <RelationTab<AccessDto>\n              resource={ResourceName.VARIANTS}\n              source=\"variantsIds\"\n              mode={hasAuthority(Authority.EDIT_VARIANTS) ? 'edit' : 'show'}\n              attachMethod=\"attachVariants\"\n              detachMethod=\"detachVariants\"\n              attachRequestPayload={(r, ids) => ({\n                accessId: r.id,\n                variantsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                accessId: r.id,\n                variantsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterAccessId === true\n              }\n              filters={<RelationFilters />}\n              filterDefaultValues={{\n                accessId: access?.id,\n                filterAccessId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n              <FunctionField<VariantDto>\n                source=\"active\"\n                key=\"active\"\n                render={(r?: VariantDto) =>\n                  r?.active ? translate('const.yes') : translate('const.no')\n                }\n              />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ACCESS_DATES) && (\n        <Tab path=\"dates\" label=\"resources.accesses.tabs.dates\">\n          <AccessDatesTab predefinedAccessId={access?.id} />\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ACCESS_USINGS) && (\n        <Tab path=\"uses\" label=\"resources.accesses.tabs.uses\">\n          <AccessUsingsTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const AccessShow = ({ ...props }: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <AccessTabs />\n  </Show>\n)\n\nexport interface AccessDetailsTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions?: boolean\n}\n\nexport interface AccessDatesTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions?: false\n  predefinedAccessId?: Identifier\n}\n\nexport interface AccessDatesListProps extends ListProps {\n  displayActions?: false\n  predefinedAccessId?: Identifier\n}\n\ninterface AccessTitleProps extends TitleProps {\n  record?: AccessDto\n}\n","import React from 'react'\nimport { Show, ShowProps, Tab, TabbedShowLayout } from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport {\n  AccessDatesTab,\n  AccessDetailsTab,\n  AccessUsingsTab,\n} from '../../configuration/accesses/AccessShow'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nexport const AccessShow = ({\n  accessUsingsTicketsIdsFilter,\n  ...props\n}: AccessShowProps) => {\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Show {...props} actions={false}>\n      <TabbedShowLayout syncWithLocation={false}>\n        {hasAuthority(Authority.VIEW_ACCESSES) && (\n          <Tab path=\"details\" label=\"resources.bookings.accesses.tabs.details\">\n            <AccessDetailsTab displayActions={false} />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESS_DATES) && (\n          <Tab path=\"dates\" label=\"resources.bookings.accesses.tabs.dates\">\n            <AccessDatesTab displayActions={false} />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESS_USINGS) && (\n          <Tab path=\"uses\" label=\"resources.bookings.accesses.tabs.uses\">\n            <AccessUsingsTab\n              accessUsingsTicketsIdsFilter={accessUsingsTicketsIdsFilter}\n            />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n\nexport interface AccessShowProps extends ShowProps {\n  accessUsingsTicketsIdsFilter: number[] | null | undefined\n}\n","import {\n  CREATE,\n  CreateParams,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  UpdateManyParams,\n} from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport { AccessUsingsCreateParams } from '../access-usings/access-usings-create.params'\nimport {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-booking-blockade-button'\nimport { VariantDto } from '../dto/variant.dto'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { BookingDto } from '../dto/booking.dto'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst blockMutation = (\n  ticketDetails?: BookingDto,\n  variant?: VariantDto,\n): Mutation => ({\n  type: sanitizeFetchType(CREATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      ticketIds: ticketDetails?.ticketsIds,\n      accessIds: variant?.accessesIds,\n    },\n  } as CreateParams<AccessUsingsCreateParams>,\n})\n\nconst unblockMutation = (\n  ticketDetails?: BookingDto,\n  variant?: VariantDto,\n  accessUsings?: AccessUsingDto[],\n): Mutation => {\n  const activeAccessUsingIds = accessUsings\n    ?.filter((au) => au.active)\n    .map((au) => au.id)\n\n  return {\n    type: sanitizeFetchType(UPDATE_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: activeAccessUsingIds,\n      data: {\n        active: false,\n      },\n    } as UpdateManyParams,\n  }\n}\n\ntype State = {\n  mutateQuery?: (\n    ticketDetails?: BookingDto,\n    variant?: VariantDto,\n    accessUsings?: AccessUsingDto[],\n  ) => Mutation\n} & ToggleButtonState\n\nexport const blockAccessButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.bookings.actions.blockAccessNA',\n}\n\nexport const toggleAccessButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.blockAccess',\n        mutateQuery: blockMutation,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.unblockAccess',\n        mutateQuery: unblockMutation,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockAccessButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum HardwareVersions {\n  MODULO5 = 'MODULO5',\n  SPOM4 = 'SPOM4',\n  OLDER = 'OLDER',\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  GET_MANY,\n  GET_ONE,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useQueryWithStore,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport {\n  blockAccessButtonInitialState,\n  toggleAccessButtonReducer,\n} from '../../../core/bookings/toggle-booking-access-button.reducer'\nimport { ToggleType } from '../../../core/bookings/toggle-booking-blockade-button'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { BookingDto } from '../../../core/dto/booking.dto'\nimport { TicketDto } from '../../../core/dto/ticket.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleBookingAccessButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleAccessButtonReducer,\n    blockAccessButtonInitialState,\n  )\n  const ticketDetails = useRecordContext<BookingDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const { data: tickets } = useQueryWithStore({\n    type: sanitizeFetchType(GET_MANY),\n    resource: ResourceName.TICKETS,\n    payload: {\n      ids: ticketDetails?.ticketsIds,\n    },\n  })\n\n  const { data: accessUsings } = useQueryWithStore({\n    type: sanitizeFetchType(GET_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: tickets\n        ? tickets.flatMap((ticket: TicketDto) => ticket.accessUsingsIds)\n        : [],\n    },\n  })\n\n  const isActive = (au?: AccessUsingDto[]) => au && au.some((a) => a.active)\n\n  useEffect(() => {\n    if (isActive(accessUsings)) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.BLOCK })\n    }\n  }, [accessUsings])\n\n  const onClick = async () => {\n    try {\n      const { data: variant } =\n        type === ToggleType.BLOCK\n          ? await mutate(\n              {\n                type: sanitizeFetchType(GET_ONE),\n                resource: ResourceName.VARIANTS,\n                payload: {\n                  id: ticketDetails?.variantId,\n                },\n              },\n              { returnPromise: true },\n            )\n          : { data: null }\n\n      const query = mutateQuery?.(ticketDetails, variant, accessUsings)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={\n        !hasAuthority(Authority.EDIT_BOOKINGS) ||\n        type === ToggleType.DISABLED ||\n        loading ||\n        mutationLoading\n      }\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  )\n}\n","import {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-booking-blockade-button'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\nimport { BookingUpdateRequest } from './booking-update.request'\n\ntype State = {\n  mutateParam?: BookingUpdateRequest['disabled']\n} & ToggleButtonState\n\nexport const blockTicketButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.bookings.actions.blockTicketNA',\n}\n\nexport const toggleTicketButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.blockTicket',\n        mutateParam: BookingDisabledOption.ADMIN,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.unblockTicket',\n        mutateParam: null,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockTicketButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  sanitizeFetchType,\n  UPDATE,\n  UpdateParams,\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { BookingUpdateRequest } from '../../../core/bookings/booking-update.request'\nimport { ToggleType } from '../../../core/bookings/toggle-booking-blockade-button'\nimport {\n  blockTicketButtonInitialState,\n  toggleTicketButtonReducer,\n} from '../../../core/bookings/toggle-booking-blockade-button.reducer'\nimport { BookingDto } from '../../../core/dto/booking.dto'\nimport { BookingDisabledOption } from '../../../core/enum/BookingDisabledOption'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleBookingBlockadeButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateParam }, dispatch] = useReducer(\n    toggleTicketButtonReducer,\n    blockTicketButtonInitialState,\n  )\n  const { id: bookingId, disabled } = useRecordContext<BookingDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (disabled === null) {\n      dispatch({ type: ToggleType.BLOCK })\n    } else if (disabled === BookingDisabledOption.ADMIN) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.DISABLED })\n    }\n  }, [disabled])\n\n  const onClick = async () => {\n    try {\n      await mutate(\n        {\n          type: sanitizeFetchType(UPDATE),\n          resource: ResourceName.BOOKINGS,\n          payload: {\n            data: { id: bookingId, disabled: mutateParam },\n          } as UpdateParams<BookingUpdateRequest>,\n        },\n        { returnPromise: true },\n      )\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={\n        !hasAuthority(Authority.EDIT_BOOKINGS) ||\n        type === ToggleType.DISABLED ||\n        loading ||\n        mutationLoading\n      }\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  )\n}\n","import {\n  Box,\n  Chip,\n  createStyles,\n  Divider,\n  Grid,\n  makeStyles,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { ArrowBack } from '@material-ui/icons'\nimport React, { useEffect } from 'react'\nimport {\n  DateField,\n  Filter,\n  FunctionField,\n  GET_ONE,\n  List,\n  Pagination,\n  ReferenceField,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SelectInput,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  useQueryWithStore,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { useHistory, useLocation } from 'react-router'\nimport { Authority } from '../../core/auth/Authority'\nimport { BookingDto } from '../../core/dto/booking.dto'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { BookingType } from '../../core/enum/BookingType'\nimport { TicketType } from '../../core/enum/TicketType'\nimport { ResourceName } from '../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../lib/@react-admin/ra-editable-datagrid'\nimport Button from '../common/customized-mui-components/Button'\nimport { MappedChipField } from '../common/MappedChipField'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { LogList } from '../logs/LogList'\nimport { AccessList } from './booking-show/AccessList'\nimport { AccessShow } from './booking-show/AccessShow'\nimport { ToggleBookingAccessButton } from './booking-show/ToggleBookingAccessButton'\nimport { ToggleBookingBlockadeButton } from './booking-show/ToggleBookingBlockadeButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      letterSpacing: theme.spacing(0.2),\n    },\n  }),\n)\n\nconst BookingTicketCreate = ({ ...props }) => {\n  const { ...rest } = props\n  const { record: booking } = useShowContext()\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const validateTicketCreate = (values: TicketDto) => {\n    const errors: { [n: string]: string } = {}\n    if (!values.ticketCode) {\n      errors.ticketCode = 'ra.validation.required'\n    }\n    return errors\n  }\n\n  return (\n    <RowForm\n      {...rest}\n      initialValues={{\n        bookingId: booking?.id,\n        ticketType: TicketType.K,\n      }}\n      validate={validateTicketCreate}\n    >\n      <TextField source=\"id\" />\n      <TextInput source=\"ticketCode\" label=\" \" variant=\"standard\" />\n      <SelectInput\n        label=\" \"\n        variant=\"standard\"\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n      {!smallScreen && <DateField source=\"createdAt\" />}\n    </RowForm>\n  )\n}\n\nconst BookingTicketEdit = ({ ...props }) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <RowForm {...props}>\n      <TextField source=\"id\" />\n      <TextInput source=\"ticketCode\" label=\" \" variant=\"standard\" />\n      <SelectInput\n        label=\" \"\n        variant=\"standard\"\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n      {!smallScreen && (\n        <DateField\n          source=\"createdAt\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n      )}\n    </RowForm>\n  )\n}\n\nconst BookingTicketsGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <EditableDatagrid\n      {...props}\n      padding={smallScreen ? 'checkbox' : 'default'}\n      actions={hasAuthority(Authority.EDIT_TICKETS) ? undefined : false}\n      editForm={<BookingTicketEdit />}\n      createForm={\n        hasAuthority(Authority.EDIT_TICKETS) &&\n        hasAuthority(Authority.CREATE_TICKETS) ? (\n          <BookingTicketCreate />\n        ) : undefined\n      }\n      hasBulkActions={false}\n      defaultTitle={null}\n      noDelete\n    >\n      <TextField label=\"ID\" source=\"id\" />\n      <TextField source=\"ticketCode\" />\n      <FunctionField<TicketDto>\n        source=\"ticketType\"\n        render={(record?: TicketDto) =>\n          smallScreen ? (\n            <div>\n              {translate(`resources.enums.ticketType.${record?.ticketType}`)}\n            </div>\n          ) : (\n            <Chip\n              label={translate(\n                `resources.enums.ticketType.${record?.ticketType}`,\n              )}\n            />\n          )\n        }\n      />\n      {!smallScreen && (\n        <DateField\n          source=\"createdAt\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n      )}\n    </EditableDatagrid>\n  )\n}\n\nconst BookingTickets = () => {\n  const { basePath, record: booking } = useShowContext()\n  const translate = useTranslate()\n\n  const Filters = ({ ...props }) => (\n    <Filter {...props}>\n      <TextInput source=\"ticketCode\" alwaysOn />\n      <SelectInput\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n    </Filter>\n  )\n\n  return (\n    <ResourceContextProvider value={ResourceName.TICKETS}>\n      <List\n        exporter={false}\n        perPage={20}\n        sort={{ field: 'id', order: 'DESC' }}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n        bulkActionButtons={false}\n        basePath={basePath}\n        filter={{\n          bookingId: booking?.id,\n        }}\n        filters={<Filters />}\n        title=\" \"\n      >\n        <BookingTicketsGrid />\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst BookingLogsView = () => {\n  const { record, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ bookingId: record?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n        noBooking\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst ProfileDetailsView = () => {\n  const { record: booking } = useShowContext<BookingDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const { data: customer } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.CUSTOMERS,\n    payload: {\n      id: booking?.customerId,\n    },\n  })\n\n  return (\n    <>\n      <SimpleShowLayout record={customer} resource={ResourceName.CUSTOMERS}>\n        <ReferenceField\n          label=\"resources.customers.fields.firstname\"\n          source=\"id\"\n          reference={ResourceName.CUSTOMERS}\n          link=\"show\"\n        >\n          <TextField source=\"firstname\" />\n        </ReferenceField>\n        <TextField source=\"lastname\" />\n        {hasAuthority(Authority.VIEW_COMPANIES) && customer?.company && (\n          <ReferenceField\n            source=\"company\"\n            reference={ResourceName.COMPANIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {customer?.birthdate && <DateField source=\"birthdate\" />}\n        {customer?.documentType && <TextField source=\"documentType\" />}\n        {customer?.pesel ? (\n          <TextField source=\"pesel\" />\n        ) : (\n          <TextField source=\"documentNumber\" />\n        )}\n        {customer?.nationality && <TextField source=\"nationality\" />}\n        {customer?.gender && (\n          <FunctionField<CustomerDto>\n            source=\"gender\"\n            render={(r?: CustomerDto) => (\n              <div>{translate(`resources.enums.gender.${r?.gender}`)}</div>\n            )}\n          />\n        )}\n      </SimpleShowLayout>\n    </>\n  )\n}\n\nconst AccessDetailsView = ({ ...props }) => {\n  const { record: booking } = useShowContext<BookingDto>()\n  const translate = useTranslate()\n  const { search } = useLocation()\n  const selectedAccess = new URLSearchParams(search).get('id')\n\n  const history = useHistory()\n  const location = useLocation()\n\n  const { data: variant } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.VARIANTS,\n    payload: {\n      id: booking?.variantId,\n    },\n  })\n\n  useEffect(() => {\n    if (variant?.accessesIds.length === 1)\n      history.push({\n        search: new URLSearchParams({ id: variant?.accessesIds[0] }).toString(),\n      })\n  }, [variant, history])\n\n  return (\n    <SimpleShowLayout\n      {...props}\n      record={variant}\n      resource={ResourceName.VARIANTS}\n    >\n      <TextField source=\"name\" label=\"resources.bookings.fields.variantName\" />\n      {variant?.accessesIds.length !== 1 && !selectedAccess && (\n        <>\n          <Typography variant=\"h5\">\n            {translate('resources.bookings.accesses.name')}\n          </Typography>\n          <ResourceContextProvider value={ResourceName.ACCESSES}>\n            <AccessList\n              basePath={`/${ResourceName.ACCESSES}`}\n              actions={false}\n              filters={undefined}\n              filter={{\n                filterVariantId: variant?.id !== undefined,\n                variantId: variant?.id,\n              }}\n              title=\" \"\n            />\n          </ResourceContextProvider>\n        </>\n      )}\n      {selectedAccess && (\n        <>\n          {variant?.accessesIds.length > 1 && (\n            <Grid container item direction=\"column\" alignItems=\"stretch\">\n              <Button\n                label=\"resources.bookings.accesses.actions.selectAccess\"\n                useSmallVersionBreakpoint={false}\n                variant=\"outlined\"\n                startIcon={<ArrowBack />}\n                onClick={() => {\n                  const newQueryParams = new URLSearchParams(location.search)\n                  newQueryParams.delete('id')\n                  history.replace({\n                    search: newQueryParams.toString(),\n                  })\n                }}\n              />\n            </Grid>\n          )}\n          <ResourceContextProvider value={ResourceName.ACCESSES}>\n            <AccessShow\n              id={selectedAccess}\n              basePath={`/${ResourceName.ACCESSES}`}\n              actions={false}\n              resource={ResourceName.ACCESSES}\n              title=\" \"\n              accessUsingsTicketsIdsFilter={booking?.ticketsIds}\n            />\n          </ResourceContextProvider>\n        </>\n      )}\n    </SimpleShowLayout>\n  )\n}\n\nconst StatusButtons = () => (\n  <>\n    <Divider />\n    <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n      <ToggleBookingAccessButton />\n      <ToggleBookingBlockadeButton />\n    </Box>\n  </>\n)\n\nexport const BookingHeader = () => {\n  const classes = useStyles()\n  const { record: ticketDetails } = useShowContext<BookingDto>()\n  const { data: customer } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.CUSTOMERS,\n    payload: {\n      id: ticketDetails?.customerId,\n    },\n  })\n\n  return (\n    <Box m={2}>\n      <Typography className={classes.header} variant=\"h5\" paragraph>\n        {customer?.firstname} {customer?.lastname}\n      </Typography>\n    </Box>\n  )\n}\n\nconst BookingView = ({ ...props }) => {\n  const { record: ticketDetails } = useShowContext<BookingDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Tab {...props} label=\"resources.bookings.tabs.general\">\n      {ticketDetails?.eventId && hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.eventName\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link=\"show\"\n        >\n          <TextField source=\"id\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.seatNumber\"\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link={false}\n        >\n          <TextField source=\"numberAlias\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.rowNumber\"\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link={false}\n        >\n          <TextField source=\"rowAlias\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.blockName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <>\n              <ReferenceField\n                label=\" \"\n                source=\"blockId\"\n                reference={ResourceName.BLOCKS}\n                link=\"show\"\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            </>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId && hasAuthority(Authority.VIEW_BLOCKS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.blockName\"\n          source=\"blockId\"\n          reference={ResourceName.BLOCKS}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.tribuneName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"blockId\"\n              reference={ResourceName.BLOCKS}\n              link={false}\n            >\n              <>\n                <ReferenceField\n                  source=\"tribuneId\"\n                  reference={ResourceName.TRIBUNES}\n                  link=\"show\"\n                >\n                  <TextField source=\"name\" />\n                </ReferenceField>\n              </>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.tribuneName\"\n            source=\"blockId\"\n            reference={ResourceName.BLOCKS}\n            link={false}\n          >\n            <>\n              <ReferenceField\n                source=\"tribuneId\"\n                reference={ResourceName.TRIBUNES}\n                link=\"show\"\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            </>\n          </ReferenceField>\n        )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) &&\n        hasAuthority(Authority.VIEW_OBJECTS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.objectName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"blockId\"\n              reference={ResourceName.BLOCKS}\n              link={false}\n            >\n              <ReferenceField\n                source=\"tribuneId\"\n                reference={ResourceName.TRIBUNES}\n                link={false}\n              >\n                <>\n                  <ReferenceField\n                    source=\"objectId\"\n                    reference={ResourceName.OBJECTS}\n                    link=\"show\"\n                  >\n                    <TextField source=\"name\" />\n                  </ReferenceField>\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) &&\n        hasAuthority(Authority.VIEW_OBJECTS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.objectName\"\n            source=\"blockId\"\n            reference={ResourceName.BLOCKS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"tribuneId\"\n              reference={ResourceName.TRIBUNES}\n              link={false}\n            >\n              <>\n                <ReferenceField\n                  source=\"objectId\"\n                  reference={ResourceName.OBJECTS}\n                  link=\"show\"\n                >\n                  <TextField source=\"name\" />\n                </ReferenceField>\n              </>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.activeFrom && <DateField source=\"activeFrom\" showTime />}\n      {ticketDetails?.activeTo && <DateField source=\"activeTo\" showTime />}\n      <DateField source=\"createdAt\" showTime />\n      <DateField source=\"modifiedAt\" showTime />\n      <StatusButtons />\n    </Tab>\n  )\n}\n\nconst BookingTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <BookingHeader />\n      <Divider />\n      <TabbedShowLayout {...props}>\n        <BookingView />\n        {hasAuthority(Authority.VIEW_TICKETS) && (\n          <Tab path=\"tickets\" label=\"resources.bookings.tabs.tickets\">\n            <MappedChipField\n              source=\"type\"\n              mapper={(value: BookingType) =>\n                `resources.enums.bookingType.${value}`\n              }\n            />\n            <BookingTickets />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_LOGS) && (\n          <Tab path=\"logs\" label=\"resources.bookings.tabs.logs\">\n            <BookingLogsView />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_CUSTOMERS) && (\n          <Tab path=\"profile\" label=\"resources.bookings.tabs.profile\">\n            <ProfileDetailsView />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESSES) && (\n          <Tab path=\"accesses\" label=\"resources.bookings.tabs.accesses\">\n            <AccessDetailsView />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </>\n  )\n}\n\nexport const BookingShow = (props: ShowProps) => (\n  <Show {...props} actions={false}>\n    <BookingTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  DateTimeInput,\n  ReferenceInput,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { formatTime } from '../../../core/common/date-time'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { DayOfWeek } from '../../../core/enum/DayOfWeek'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateAccessCreate = (values: AccessDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.entranceId) {\n    errors.entranceId = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.multiple)))\n    errors.multiple = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.usePriority)))\n    errors.usePriority = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.releaseDayOfMonth)))\n    errors.releaseDayOfMonth = 'ra.validation.not_numeric'\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.accesses.titles.create')}</span>\n}\n\nexport const AccessCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateAccessCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        <SelectInput\n          source=\"bonus\"\n          choices={Object.entries(AccessBonuses).map(([value]) => ({\n            id: value,\n            name: `resources.enums.bonus.${value}`,\n          }))}\n        />\n        <ReferenceInput\n          source=\"entranceId\"\n          defaultValue={null}\n          reference={ResourceName.ENTRANCES}\n          sort={{ field: 'note', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"note\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <BooleanInput source=\"allowReenter\" defaultChecked />\n        <BooleanInput source=\"multipleEntry\" />\n        <TextInput source=\"multiple\" defaultValue={1} />\n        <TextInput source=\"usePriority\" />\n        <BooleanInput source=\"isTicketUnlockedWithNextDay\" />\n        <DateTimeInput\n          source=\"releaseTime\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"releaseDayOfWeek\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(DayOfWeek).map(([value]) => ({\n              id: value,\n              name: `resources.enums.dayOfWeek.${value}`,\n            })),\n          ]}\n        />\n        <TextInput source=\"releaseDayOfMonth\" defaultValue={1} />\n        <TextInput source=\"delay\" />\n        <TextInput source=\"activePeriod\" />\n        <SelectInput\n          source=\"activePeriodStartingFrom\"\n          choices={Object.entries(AccessActivePeriodStartingOptions).map(\n            ([value]) => ({\n              id: value,\n              name: `resources.enums.activePeriodStartingFrom.${value}`,\n            }),\n          )}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateTimeInput,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { formatTime } from '../../../core/common/date-time'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { DayOfWeek } from '../../../core/enum/DayOfWeek'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateAccessEdit = (values: AccessDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.entranceId) {\n    errors.entranceId = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.multiple)))\n    errors.multiple = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.usePriority)))\n    errors.usePriority = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.releaseDayOfMonth)))\n    errors.releaseDayOfMonth = 'ra.validation.not_numeric'\n  return errors\n}\n\ninterface AccessTitleProps extends TitleProps {\n  record?: AccessDto\n}\n\nconst EditTitle = (data: AccessTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.accesses.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const AccessEdit = (props: EditProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Edit {...props} hasShow={false} title={<EditTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        toolbar={<EditToolbar />}\n        validate={validateAccessEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" isRequired />\n        <SelectInput\n          source=\"bonus\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(AccessBonuses).map(([value]) => ({\n              id: value,\n              name: `resources.enums.bonus.${value}`,\n            })),\n          ]}\n        />\n        <ReferenceInput\n          source=\"entranceId\"\n          reference={ResourceName.ENTRANCES}\n          sort={{ field: 'note', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"note\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <BooleanInput source=\"allowReenter\" />\n        <BooleanInput source=\"multipleEntry\" />\n        <TextInput source=\"multiple\" />\n        <TextInput source=\"usePriority\" />\n        <BooleanInput source=\"isTicketUnlockedWithNextDay\" />\n        <DateTimeInput\n          source=\"releaseTime\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"releaseDayOfWeek\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(DayOfWeek).map(([value]) => ({\n              id: value,\n              name: `resources.enums.dayOfWeek.${value}`,\n            })),\n          ]}\n        />\n        <TextInput source=\"releaseDayOfMonth\" />\n        <TextInput source=\"delay\" />\n        <TextInput source=\"activePeriod\" />\n        <SelectInput\n          source=\"activePeriodStartingFrom\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(AccessActivePeriodStartingOptions).map(\n              ([value]) => ({\n                id: value,\n                name: `resources.enums.activePeriodStartingFrom.${value}`,\n              }),\n            ),\n          ]}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { Chip } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslate } from 'react-admin'\nimport { ResourceName } from '../../core/ResourceName'\n\ninterface QuickFilterProps {\n  label?: string\n  resource?: keyof ResourceName\n  source: string\n  defaultValue?: any\n}\n\nconst QuickFilter = (props: QuickFilterProps) => {\n  const translate = useTranslate()\n  const { label, resource, source, defaultValue } = props // eslint-disable-line @typescript-eslint/no-unused-vars\n  return (\n    <Chip\n      style={{ marginBottom: '1em' }}\n      label={translate(\n        `resources.${resource as string}.fields.${label || source}`,\n      )}\n    />\n  )\n}\n\nexport default QuickFilter\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Datagrid,\n  TextField,\n  Pagination,\n  FunctionField,\n  useTranslate,\n  DateField,\n  TextInput,\n  SelectInput,\n  Filter,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst AccessFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n    <SelectInput\n      source=\"bonus\"\n      choices={Object.entries(AccessBonuses).map(([value]) => ({\n        id: value,\n        name: `resources.enums.bonus.${value}`,\n      }))}\n    />\n    <TextInput source=\"entranceId\" />\n    <QuickFilter source=\"allowReenter\" />\n    <QuickFilter source=\"multipleEntry\" />\n    <QuickFilter source=\"isTicketUnlockedWithNextDay\" />\n  </Filter>\n)\n\nexport const AccessList = (props: ListProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<AccessFilters />}\n      hasCreate={hasAuthority(Authority.CREATE_ACCESSES)}\n    >\n      <Datagrid rowClick={(id) => `${ResourceName.ACCESSES}/${id}/show`}>\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<AccessDto>\n          source=\"bonus\"\n          render={(record?: AccessDto) =>\n            translate(`resources.enums.bonus.${record?.bonus}`)\n          }\n        />\n        <TextField source=\"entranceId\" />\n        {!smallScreen && <DateField source=\"modifiedAt\" />}\n        {!smallScreen && <DateField source=\"createdAt\" />}\n      </Datagrid>\n    </List>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport {\n  Create,\n  CreateProps,\n  TextInput,\n  useTranslate,\n  BooleanInput,\n  SimpleForm,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport React from 'react'\nimport { VariantDto } from '../../../core/dto/variant.dto'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateVariantCreate = (values: VariantDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.variants.titles.create')}</span>\n}\n\nexport const VariantCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateVariantCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"active\" />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n  BooleanInput,\n} from 'react-admin'\nimport { VariantDto } from '../../../core/dto/variant.dto'\n\nconst validateVariantEdit = (values: VariantDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface VariantTitleProps extends TitleProps {\n  record?: VariantDto\n}\n\nconst EditTitle = (data: VariantTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.variants.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const VariantEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateVariantEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"active\" />\n    </SimpleForm>\n  </Edit>\n)\n","import React from 'react'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  TextField,\n  FunctionField,\n  Datagrid,\n  useTranslate,\n  Filter,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst VariantsFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const VariantList = (props: ListProps) => {\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<VariantsFilters />}\n      hasCreate={hasAuthority(Authority.CREATE_VARIANTS)}\n    >\n      <Datagrid rowClick={(id) => `${ResourceName.VARIANTS}/${id}/show`}>\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<VariantDto>\n          source=\"active\"\n          render={(record?: VariantDto) =>\n            record?.active ? translate('const.yes') : translate('const.no')\n          }\n        />\n      </Datagrid>\n    </List>\n  )\n}\n","import { Box, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  ShowProps,\n  Show,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  FunctionField,\n  useTranslate,\n  useShowContext,\n  TabbedShowLayoutProps,\n  TitleProps,\n  EditButton,\n  TextInput,\n} from 'react-admin'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\nimport RelationTab from '../../common/RelationTab'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport RelationTabFilter from '../../common/RelationTabFilter'\n\ntype VariantTabsProps = Omit<TabbedShowLayoutProps, 'children'>\n\ninterface VariantTitleProps extends TitleProps {\n  record?: VariantDto\n}\n\nconst ShowTitle = (data: VariantTitleProps) => {\n  const { record: variant } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.variants.titles.show')}: {variant?.id}.{' '}\n      {variant?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: variant } = useShowContext<VariantDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath=\"/variants\"\n          record={variant}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_VARIANTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst VariantTabs = (props: VariantTabsProps) => {\n  const { record: variant } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const RelationFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.variants.tabs.general\">\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<VariantDto>\n          source=\"active\"\n          render={(r?: VariantDto) => (\n            <div>\n              {r?.active ? translate('const.yes') : translate('const.no')}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_ACCESSES) && (\n        <Tab path=\"accesses\" label=\"resources.variants.tabs.accesses\">\n          <>\n            <RelationTab<VariantDto>\n              resource={ResourceName.ACCESSES}\n              source=\"accessesIds\"\n              mode={hasAuthority(Authority.EDIT_ACCESSES) ? 'edit' : 'show'}\n              attachMethod=\"attachAccesses\"\n              detachMethod=\"detachAccesses\"\n              attachRequestPayload={(r, ids) => ({\n                variantId: r.id,\n                accessesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                variantId: r.id,\n                accessesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVariantId === true\n              }\n              filters={<RelationFilters />}\n              filterDefaultValues={{\n                variantId: variant?.id,\n                filterVariantId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n              {!smallScreen && (\n                <FunctionField<AccessDto>\n                  source=\"bonus\"\n                  key=\"bonus\"\n                  render={(r?: AccessDto) =>\n                    translate(`resources.enums.bonus.${r?.bonus}`)\n                  }\n                />\n              )}\n              {!smallScreen && (\n                <TextField source=\"entranceId\" key=\"entranceId\" />\n              )}\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const VariantShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <VariantTabs />\n  </Show>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  DateTimeInput,\n  ListButton,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { CustomerDocumentType } from '../../core/enum/CustomerDocumentType'\nimport { Gender } from '../../core/enum/Gender'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateCustomerCreate = (values: CustomerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.firstname) {\n    errors.firstname = 'ra.validation.required'\n  }\n  if (!values.lastname) {\n    errors.lastname = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.customers.titles.create')}</span>\n}\n\nexport const CustomersCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCustomerCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"firstname\" isRequired />\n      <TextInput source=\"lastname\" isRequired />\n      <TextInput source=\"company\" />\n      <DateTimeInput source=\"birthdate\" />\n      <SelectInput\n        source=\"documentType\"\n        choices={Object.entries(CustomerDocumentType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.customerDocumentType.${value}`,\n        }))}\n      />\n      <TextInput source=\"pesel\" />\n      <TextInput source=\"documentNumber\" />\n      <TextInput source=\"nationality\" />\n      <SelectInput\n        source=\"gender\"\n        choices={Object.entries(Gender).map(([value]) => ({\n          id: value,\n          name: `resources.enums.gender.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  DateTimeInput,\n  Edit,\n  EditProps,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { CustomerDocumentType } from '../../core/enum/CustomerDocumentType'\nimport { Gender } from '../../core/enum/Gender'\n\nconst validateCustomerEdit = (values: CustomerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.firstname) {\n    errors.firstname = 'ra.validation.required'\n  }\n  if (!values.lastname) {\n    errors.lastname = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface CustomerTitleProps extends TitleProps {\n  record?: CustomerDto\n}\n\nconst EditTitle = (data: CustomerTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.customers.titles.edit')}: {record?.id}.{' '}\n      {record?.firstname} {record?.lastname}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CustomerEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateCustomerEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"firstname\" isRequired />\n      <TextInput source=\"lastname\" isRequired />\n      <TextInput source=\"company\" />\n      <DateTimeInput source=\"birthdate\" />\n      <SelectInput\n        source=\"documentType\"\n        choices={Object.entries(CustomerDocumentType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.customerDocumentType.${value}`,\n        }))}\n      />\n      <TextInput source=\"pesel\" />\n      <TextInput source=\"documentNumber\" />\n      <TextInput source=\"nationality\" />\n      <SelectInput\n        source=\"gender\"\n        choices={Object.entries(Gender).map(([value]) => ({\n          id: value,\n          name: `resources.enums.gender.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  </Edit>\n)\n","import * as React from 'react'\nimport { TextField, TextFieldProps, useRecordContext } from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\n\nexport const MaskField = ({ source, ...rest }: TextFieldProps) => {\n  const record = useRecordContext()\n  const properRecord = record[source as string]\n    ? {\n        ...record,\n        [source as string]: maskMiddlePart(record[source as string], 2),\n      }\n    : record\n  return <TextField {...rest} record={properRecord} source={source} />\n}\n","/**\n * @example\n * maskMiddlePart('importantValue', 3) === 'imp********lue'\n */\nexport const maskMiddlePart = (word: string, threshold: number) => {\n  const firstChars = word.substring(0, threshold)\n  const lastChars = word.slice(-threshold)\n  const restCharsLength = word.length - firstChars.length - lastChars.length\n  return `${firstChars}${'*'.repeat(\n    restCharsLength > 0 ? restCharsLength : 0,\n  )}${lastChars}`\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FunctionField,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n  SearchInput,\n  Pagination,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { MaskField } from '../common/MaskField'\n\nconst CustomerGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallDevice = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Datagrid\n      {...props}\n      rowClick={(id) => `${ResourceName.CUSTOMERS}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"firstname\" />\n      <TextField source=\"lastname\" />\n      {smallDevice && (\n        <FunctionField<CustomerDto>\n          source=\"documentNumber\"\n          render={(record?: CustomerDto) =>\n            record?.pesel ? (\n              <MaskField source=\"pesel\" />\n            ) : (\n              <MaskField source=\"documentNumber\" />\n            )\n          }\n        />\n      )}\n      {!smallDevice && <MaskField source=\"pesel\" />}\n      {!smallDevice && <MaskField source=\"documentNumber\" />}\n    </Datagrid>\n  )\n}\n\nconst CustomerFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <SearchInput source=\"info\" alwaysOn />\n    <TextInput source=\"firstname\" />\n    <TextInput source=\"lastname\" />\n    <TextInput source=\"pesel\" />\n    <TextInput source=\"documentNumber\" />\n  </Filter>\n)\n\nexport const CustomerList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    sort={{ field: 'lastname', order: 'ASC' }}\n    filters={<CustomerFilters />}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n  >\n    <CustomerGrid />\n  </List>\n)\n","import { Box, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React, { useMemo } from 'react'\nimport {\n  Datagrid,\n  DateField,\n  EditButton,\n  FunctionField,\n  List,\n  ListProps,\n  Pagination,\n  Record,\n  ReferenceField,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TabbedShowLayoutProps,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { MobilePostPagination } from '../common/Pagination'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { LogList } from '../logs/LogList'\n\nconst ShowTitle = (data: CustomerTitleProps) => {\n  const { record: customer } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.customers.titles.show')}: {customer?.id}.{' '}\n      {customer?.firstname} {customer?.lastname}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.CUSTOMERS}`}\n          record={customer}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_CUSTOMERS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const CustomerDetailsTab = ({\n  displayActions = true,\n  ...props\n}: CustomerDetailsTabProps) => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const translate = useTranslate()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"firstname\" />\n      <TextField source=\"lastname\" />\n      {customer?.company && <TextField source=\"company\" />}\n      {customer?.birthdate && (\n        <DateField\n          source=\"birthdate\"\n          options={{ day: '2-digit', month: '2-digit', year: 'numeric' }}\n        />\n      )}\n      {customer?.documentType && (\n        <FunctionField\n          source=\"documentType\"\n          render={(r: Record | undefined) => (\n            <div>\n              {translate(\n                `resources.enums.customerDocumentType.${r?.documentType}`,\n              )}\n            </div>\n          )}\n        />\n      )}\n      {customer?.pesel ? (\n        <TextField source=\"pesel\" />\n      ) : (\n        <TextField source=\"documentNumber\" />\n      )}\n      {customer?.nationality && <TextField source=\"nationality\" />}\n      {customer?.gender && (\n        <FunctionField\n          source=\"gender\"\n          render={(r: Record | undefined) => (\n            <div>{translate(`resources.enums.gender.${r?.gender}`)}</div>\n          )}\n        />\n      )}\n      {displayActions && <GeneralActions />}\n    </SimpleShowLayout>\n  )\n}\n\nconst BookingsList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      {...props}\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      sort={{ field: 'id', order: 'DESC' }}\n      bulkActionButtons={false}\n    >\n      <Datagrid rowClick={(id) => `/${ResourceName.BOOKINGS}/${id}/show`}>\n        <TextField source=\"id\" />\n        <ReferenceField\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          link={false}\n        >\n          <FunctionField<EventDto>\n            render={() => (\n              <div>\n                {' '}\n                <TextField source=\"id\" />. <TextField source=\"name\" /> (\n                <DateField source=\"dateStart\" />){' '}\n              </div>\n            )}\n          />\n        </ReferenceField>\n        <ReferenceField\n          reference={ResourceName.VARIANTS}\n          source=\"variantId\"\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      </Datagrid>\n    </List>\n  )\n}\n\nexport const BookingsTab = () => {\n  const { record: customer, basePath } = useShowContext<CustomerDto>()\n\n  return (\n    <ResourceContextProvider value={ResourceName.BOOKINGS}>\n      <BookingsList\n        basePath={basePath}\n        filter={{ customerId: customer?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nexport const LogsTab = () => {\n  const { record: customer, basePath } = useShowContext<CustomerDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ customerId: customer?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst CustomerTabs = ({ ...props }) => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const bookingPresent = useMemo(\n    () => customer?.bookingsIds && customer.bookingsIds.length > 0,\n    [customer],\n  )\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.customers.tabs.profile')}>\n        <CustomerDetailsTab displayActions />\n      </Tab>\n      {bookingPresent && hasAuthority(Authority.VIEW_BOOKINGS) && (\n        <Tab\n          path=\"bookings\"\n          label={translate('resources.customers.tabs.bookings')}\n        >\n          <BookingsTab />\n        </Tab>\n      )}\n      {bookingPresent && hasAuthority(Authority.VIEW_LOGS) && (\n        <Tab path=\"logs\" label={translate('resources.customers.tabs.logs')}>\n          <LogsTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const CustomerDetailsView = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <CustomerTabs />\n  </Show>\n)\n\nexport interface CustomerDetailsTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions: boolean\n}\n\ninterface CustomerTitleProps extends TitleProps {\n  record?: CustomerDto\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst validateDeviceCategoryCreate = (values: DeviceCategoryDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.device-categories.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const DeviceCategoryCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateDeviceCategoryCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"parentId\"\n            defaultValue={null}\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst validateDeviceCategoryEdit = (values: DeviceCategoryDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface DeviceCategoryTitleProps extends TitleProps {\n  record?: DeviceCategoryDto\n}\n\nconst DeviceCategoryTitle = (data: DeviceCategoryTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.device-categories.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst DeviceCategory = ({ ...props }) => {\n  const { record: deviceCategory } = useEditContext<DeviceCategoryDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateDeviceCategoryEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"parentId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ notId: deviceCategory?.id }}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </SimpleForm>\n  )\n}\n\nexport const DeviceCategoryEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<DeviceCategoryTitle />}>\n    <DeviceCategory />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst DeviceCategoryFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"parentId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst DeviceCategoryGrid = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.DEVICE_CATEGORIES}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"parentId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const DeviceCategoryList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<DeviceCategoryFilters />}\n  >\n    <DeviceCategoryGrid />\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  ReferenceField,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\ninterface DeviceCategoryTitleProps extends TitleProps {\n  record?: DeviceCategoryDto\n}\n\nconst ShowTitle = (data: DeviceCategoryTitleProps) => {\n  const { record: deviceCategory } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.device-categories.titles.show')}:{' '}\n      {deviceCategory?.id}. {deviceCategory?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: deviceCategory } = useShowContext<DeviceCategoryDto>()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.DEVICE_CATEGORIES}`}\n          record={deviceCategory}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst DeviceCategroy = ({ ...props }) => {\n  const { record: deviceCategory } = useShowContext<DeviceCategoryDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField label=\"ID\" source=\"id\" />\n      <TextField source=\"name\" />\n      {deviceCategory?.parentId &&\n        hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"parentId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n      <GeneralActions />\n    </SimpleShowLayout>\n  )\n}\n\nexport const DeviceCategoryShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <DeviceCategroy />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  ListButton,\n  Toolbar,\n  ToolbarProps,\n  BooleanInput,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateDetectorCreate = (values: DetectorDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.detectors.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Detector = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateDetectorCreate}\n    >\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <TextInput source=\"address\" isRequired />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        defaultValue={HardwareVersions.MODULO5}\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const DetectorCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <Detector />\n  </Create>\n)\n","export enum DeviceModuleTypes {\n  IO_GP = 4, // IOStatusDto\n  IO_KA = 8, // TurnstileDto\n  IO_GT = 12, // TurnstileDto\n  IO_GA = 16, // TurnstileDto\n  LITE = 20, // LiteDto\n  SCANNER_DS = 24, // ReaderDto\n  LED_19X7 = 44, // PresenterDto\n  LCD_7 = 48, // PresenterDto\n  IO_16 = 52, // IOStatusDto\n  LED_8X8 = 60, // PresenterDto\n  BUZZER = 64, // PresenterDto\n  LCD_TXT = 76, // PresenterDto\n  LITE_MOBILE = 84, // LiteDto\n  SENSOR = 96, // SensorDto\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  useTranslate,\n  TitleProps,\n  SimpleForm,\n  TextField,\n  TextInput,\n  SaveButton,\n  ShowButton,\n  Toolbar,\n  ToolbarProps,\n  BooleanInput,\n  DateField,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateDetectorEdit = (values: DetectorDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EngineTitleProps extends TitleProps {\n  record?: DetectorDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.detectors.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Detector = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateDetectorEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <TextInput source=\"address\" isRequired />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const DetectorEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Detector />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst DetectorFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const DetectorList = ({ ...props }: ListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      {...props}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      exporter={false}\n      filters={<DetectorFilters />}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        size=\"small\"\n        rowClick={(id) => `${ResourceName.DETECTORS}/${id}/show`}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        {!smallScreen && <TextField source=\"address\" />}\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n      </Datagrid>\n    </List>\n  )\n}\n","import { Identifier } from 'ra-core'\nimport { IOStatusDto } from '../../../dto/device/common/modules/io-status.dto'\nimport { LiteDto } from '../../../dto/device/common/modules/lite.dto'\nimport { ModuleBaseDto } from '../../../dto/device/common/modules/module-base.dto'\nimport { PresenterDto } from '../../../dto/device/common/modules/presenter.dto'\nimport { ReaderDto } from '../../../dto/device/common/modules/reader.dto'\nimport { SensorDto } from '../../../dto/device/common/modules/sensor.dto'\nimport { TurnstileDto } from '../../../dto/device/common/modules/turnstile.dto'\nimport { DeviceModuleTypes } from '../../../enum/device-modues/DeviceModuleTypes'\n\nconst mapping: Record<DeviceModuleTypes, (moduleObject: any) => ModuleBaseDto> =\n  {\n    '4': (moduleObject) => moduleObject as IOStatusDto,\n    '8': (moduleObject) => moduleObject as TurnstileDto,\n    '12': (moduleObject) => moduleObject as TurnstileDto,\n    '16': (moduleObject) => moduleObject as TurnstileDto,\n    '20': (moduleObject) => moduleObject as LiteDto,\n    '24': (moduleObject) => moduleObject as ReaderDto,\n    '44': (moduleObject) => moduleObject as PresenterDto,\n    '48': (moduleObject) => moduleObject as PresenterDto,\n    '52': (moduleObject) => moduleObject as IOStatusDto,\n    '60': (moduleObject) => moduleObject as PresenterDto,\n    '64': (moduleObject) => moduleObject as PresenterDto,\n    '76': (moduleObject) => moduleObject as PresenterDto,\n    '84': (moduleObject) => moduleObject as LiteDto,\n    '96': (moduleObject) => moduleObject as SensorDto,\n  }\n\nconst moduleMapper = (moduleObject: any, key: Identifier) => {\n  const moduleType = Number(moduleObject?.module?.typeId)\n  const moduleTypeEnum = Object.entries(DeviceModuleTypes).filter(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ([index, value]) => value === moduleType,\n  )?.[0]?.[1] as DeviceModuleTypes\n  if (!moduleTypeEnum) {\n    return null\n  }\n  const moduleObjectWithId = { id: key, ...moduleObject }\n  return mapping[moduleTypeEnum](moduleObjectWithId)\n}\n\nexport default moduleMapper\n","export enum Multiplicities {\n  SINGLE = 'SINGLE',\n  MULTIPLE = 'MULTIPLE',\n  CHECK_ALL = 'CHECK_ALL',\n}\n","import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Box,\n  Checkbox,\n  Divider,\n  Grid,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport camelcaseKeys from 'camelcase-keys'\nimport React, { ReactNode } from 'react'\nimport {\n  BooleanField,\n  DateField,\n  FunctionField,\n  Labeled,\n  RecordContextProvider,\n  SimpleShowLayout,\n  TextField,\n  useTranslate,\n} from 'react-admin'\nimport { getContrastColor } from '../../../../core/common/visual.utils'\nimport moduleMapper from '../../../../core/devices/common/modules/module.mapper'\nimport { IOStatusDto } from '../../../../core/dto/device/common/modules/io-status.dto'\nimport { LiteDto } from '../../../../core/dto/device/common/modules/lite.dto'\nimport { ModuleBaseDto } from '../../../../core/dto/device/common/modules/module-base.dto'\nimport { PresenterDto } from '../../../../core/dto/device/common/modules/presenter.dto'\nimport { ReaderDto } from '../../../../core/dto/device/common/modules/reader.dto'\nimport { SensorDto } from '../../../../core/dto/device/common/modules/sensor.dto'\nimport { TurnstileDto } from '../../../../core/dto/device/common/modules/turnstile.dto'\nimport { PinStates } from '../../../../core/enum/device-modues/PinStates'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  simpleShowLayoutWithNoPadding: {\n    paddingBottom: 0,\n    '&:first-child': {\n      paddingTop: 0,\n    },\n    '&:last-child': {\n      paddingBottom: 0,\n      [theme.breakpoints.only('xs')]: {\n        paddingBottom: 0,\n      },\n    },\n  },\n  terminatedModuleHeader: {\n    borderTop: 'solid',\n    borderRight: 'solid',\n    borderLeft: 'solid',\n    borderTopRightRadius: 5,\n    borderTopLeftRadius: 5,\n    backgroundColor: theme.palette.error.main,\n    borderTopColor: theme.palette.error.main,\n    borderRightColor: theme.palette.error.main,\n    borderLeftColor: theme.palette.error.main,\n  },\n  terminatedModuleDetails: {\n    borderBottom: 'solid',\n    borderRight: 'solid',\n    borderLeft: 'solid',\n    borderBottomRightRadius: 5,\n    borderBottomLeftRadius: 5,\n    borderBottomColor: theme.palette.error.main,\n    borderRightColor: theme.palette.error.main,\n    borderLeftColor: theme.palette.error.main,\n  },\n}))\n\nconst ModuleStatusBase = (props: ModuleBaseStatusProps) => {\n  const translate = useTranslate()\n  const classes = useStyles()\n  const { moduleInfo, disableAliasHeader, children } = props\n  const convertedSerialNumber = Number(\n    moduleInfo.identity.serialNumber,\n  ).toString(16)\n  const originalProductionVersion = Number(\n    moduleInfo.identity.version.productionVersion,\n  )\n  /* eslint-disable no-bitwise */\n  const convertedProductionVersion = `${\n    (originalProductionVersion >> 8) & 0xff\n  }.${originalProductionVersion & 0xff}`\n  const convertedModuleInfo = {\n    ...moduleInfo,\n    identity: {\n      ...moduleInfo.identity,\n      serialNumber: convertedSerialNumber,\n      version: {\n        ...moduleInfo.identity.version,\n        productionVersion: convertedProductionVersion,\n      },\n    },\n  }\n  const Body = ({ ...childrenProps }) => (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"space-around\"\n      alignItems=\"flex-start\"\n    >\n      {children !== undefined &&\n        children.map((child, index) => {\n          if (child !== false) {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <Grid item key={index} md={2} sm={4} xs={12}>\n                <RecordContextProvider value={convertedModuleInfo}>\n                  {child}\n                </RecordContextProvider>\n              </Grid>\n            )\n          }\n          return undefined\n        })}\n      <Grid item key=\"base-module-divider\" xs={12}>\n        <Divider />\n      </Grid>\n      <Grid item key=\"base-module-typeId\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<ModuleBaseDto>\n            source=\"module.typeId\"\n            render={(record?: ModuleBaseDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.deviceModuleTypes.${record?.module?.typeId}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-address\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"module.address\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-lastRefresh\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <DateField\n            source=\"lastRefresh\"\n            showTime\n            options={{\n              day: '2-digit',\n              month: '2-digit',\n              year: 'numeric',\n              hour: '2-digit',\n              minute: '2-digit',\n              second: '2-digit',\n            }}\n          />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-serialNumber\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"identity.serialNumber\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-productionVersion\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"identity.version.productionVersion\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-develVersion\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"identity.version.develVersion\" />\n        </SimpleShowLayout>\n      </Grid>\n    </Grid>\n  )\n\n  return (\n    <RecordContextProvider value={convertedModuleInfo}>\n      <SimpleShowLayout resource=\"modules\">\n        {!disableAliasHeader && (\n          <>\n            <Box marginBottom={1}>\n              <TextField variant=\"h6\" source=\"module.alias\" />\n            </Box>\n          </>\n        )}\n        <Body />\n      </SimpleShowLayout>\n    </RecordContextProvider>\n  )\n}\n\nconst ModuleStatus = (props: ModuleStatusProps) => {\n  const { moduleInfo } = props\n  const translate = useTranslate()\n  const classes = useStyles()\n\n  return (\n    <ModuleStatusBase {...props}>\n      {/* IOStatusDto */}\n      {(moduleInfo as IOStatusDto)?.fireAlarms !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <Labeled source=\"fireAlarms.title\">\n            <>\n              <TableContainer component={Paper}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\">\n                        {translate('resources.modules.fields.fireAlarms.zone')}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        {translate('resources.modules.fields.fireAlarms.state')}\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {((moduleInfo as IOStatusDto)?.fireAlarms as boolean[]).map(\n                      (value, index) => (\n                        // eslint-disable-next-line react/no-array-index-key\n                        <TableRow key={index}>\n                          <TableCell align=\"center\">\n                            {(index + 1).toString()}\n                          </TableCell>\n                          <TableCell align=\"center\">\n                            <Checkbox style={{ padding: 0 }} checked={value} />\n                          </TableCell>\n                        </TableRow>\n                      ),\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as IOStatusDto)?.allPortsStates !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <Labeled source=\"allPortsStates.title\">\n            <>\n              <TableContainer component={Paper}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\">\n                        {translate(\n                          'resources.modules.fields.allPortsStates.pin',\n                        )}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        {translate(\n                          'resources.modules.fields.allPortsStates.state',\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {(\n                      (moduleInfo as IOStatusDto)?.allPortsStates as PinStates[]\n                    ).map((value, index) => (\n                      // eslint-disable-next-line react/no-array-index-key\n                      <TableRow key={index}>\n                        <TableCell align=\"center\">\n                          {(index + 1).toString()}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <Typography>\n                            {translate(\n                              `resources.enums.module.pinStates.${value}`,\n                            )}\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n\n      {/* TurnstileDto */}\n      {(moduleInfo as TurnstileDto)?.forwardStatus !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"forwardStatus\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileStatuses.${record?.forwardStatus}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.backwardStatus !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"backwardStatus\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileStatuses.${record?.forwardStatus}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.fireAlarm !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"fireAlarm\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.fireAlarmType !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"fireAlarmType\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileInputTypes.${record?.fireAlarmType}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.powerTurnedOn !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"powerTurnedOn\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.freePassForward !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"freePassForward\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.freePassBackward !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"freePassBackward\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.keyLock !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"keyLock\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.keyLockStatuses.${record?.keyLock}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.tamperLock !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"tamperLock\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.directionReversed !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"directionReversed\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.turnstileControllerError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"turnstileControllerError\" />\n        </SimpleShowLayout>\n      )}\n\n      {/* LiteDto */}\n      {(moduleInfo as LiteDto)?.ledsColor !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <Labeled source=\"ledsColor\">\n            <>\n              <Box\n                p={1}\n                borderRadius={10}\n                color={\n                  (moduleInfo as LiteDto)?.ledsColor &&\n                  Number((moduleInfo as LiteDto).ledsColor) > 0\n                    ? getContrastColor(\n                        `#${(moduleInfo as LiteDto)?.ledsColor?.toString(16)}`,\n                      )\n                    : '#ffffff'\n                }\n                bgcolor={\n                  (moduleInfo as LiteDto)?.ledsColor &&\n                  Number((moduleInfo as LiteDto).ledsColor) > 0\n                    ? `#${(moduleInfo as LiteDto)?.ledsColor?.toString(16)}`\n                    : '#000000'\n                }\n              >\n                <Typography>\n                  #{(moduleInfo as LiteDto).ledsColor?.toString(16)}\n                </Typography>\n              </Box>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n\n      {/* ReaderDto */}\n      {(moduleInfo as ReaderDto)?.isPresenterActive !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"isPresenterActive\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.standbyMode !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<ReaderDto>\n            source=\"standbyMode\"\n            render={(record?: ReaderDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.stanbyModeNumeric.${record?.standbyMode}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.sensorId !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<ReaderDto>\n            source=\"sensorId\"\n            render={(record?: ReaderDto) => (\n              <Typography>{record?.sensorId?.toString(16)}</Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.scannerError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.scannerError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.mifareError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.mifareError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.flashError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.flashError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.sdCardError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.sdCardError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.licenceError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.licenceError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.scannerFirmwareError !==\n        undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <BooleanField source=\"errors.scannerFirmwareError\" />\n        </SimpleShowLayout>\n      )}\n\n      {/* PresenterDto */}\n      {(moduleInfo as PresenterDto)?.contentType !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<PresenterDto>\n            source=\"contentType\"\n            render={(record?: PresenterDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.contentTypes.${record?.contentType}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as PresenterDto)?.contentNumber !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <TextField source=\"contentNumber\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as PresenterDto)?.contrast !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<PresenterDto>\n            source=\"contrast\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"contrast\" />\n                <Typography>%</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n\n      {/* SensorDto */}\n      {(moduleInfo as SensorDto)?.temperature !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"temperature\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"temperature\" />\n                <Typography>&deg;C</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.humidity !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"humidity\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"humidity\" />\n                <Typography>%</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.move !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"move\"\n            render={(record?: SensorDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.moveSensorStatuses.${record?.move}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.light !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"light\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.lightLevels.${record?.light}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.fan !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"fan\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.fanHeaterStatuses.${record?.fan}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.heater !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"heater\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.fanHeaterStatuses.${record?.heater}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.moveSensorTimeout !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"moveSensorTimeout\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"moveSensorTimeout\" />\n                <Typography>s</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n    </ModuleStatusBase>\n  )\n}\n\nconst MultiModuleStatus = (props: MultiModuleStatusProps) => {\n  const classes = useStyles()\n  const { moduleInfo } = props\n\n  return (\n    <>\n      {moduleInfo.map((record) => (\n        <Accordion key={record.id}>\n          <AccordionSummary\n            expandIcon={<ExpandMoreIcon />}\n            className={\n              new Date(record.lastRefresh).valueOf() < Date.now() - 90000\n                ? classes.terminatedModuleHeader\n                : ''\n            }\n          >\n            <RecordContextProvider value={record}>\n              <TextField variant=\"h6\" source=\"module.alias\" />\n            </RecordContextProvider>\n          </AccordionSummary>\n          <AccordionDetails\n            className={\n              new Date(record.lastRefresh).valueOf() < Date.now() - 90000\n                ? classes.terminatedModuleDetails\n                : ''\n            }\n          >\n            <ModuleStatus moduleInfo={record} disableAliasHeader />\n          </AccordionDetails>\n        </Accordion>\n      ))}\n    </>\n  )\n}\n\nconst DeviceStatusesTab = (props: StatusTabProps) => {\n  const { jsonStatus: rawJsonStatus } = props\n  const jsonStatus = JSON.parse(rawJsonStatus) as Array<any>\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const modules = Object.entries(jsonStatus).map(([key, value]) =>\n    moduleMapper(camelcaseKeys(value, { deep: true }), key),\n  )\n\n  return (\n    <MultiModuleStatus\n      moduleInfo={modules\n        .filter((m) => m != null)\n        .map((m) => m as ModuleBaseDto)}\n    />\n  )\n}\n\ninterface ModuleBaseStatusProps {\n  readonly moduleInfo: ModuleBaseDto\n  readonly disableAliasHeader?: boolean\n  readonly children?: ReactNode[]\n}\n\ninterface ModuleStatusProps {\n  readonly moduleInfo: ModuleBaseDto\n  readonly disableAliasHeader?: boolean\n}\n\ninterface MultiModuleStatusProps {\n  readonly moduleInfo: ModuleBaseDto[]\n}\n\ninterface StatusTabProps {\n  readonly jsonStatus: any\n}\n\nexport { ModuleStatus, MultiModuleStatus, DeviceStatusesTab }\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: DetectorDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const { record: detector } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.detectors.titles.show')}: {detector?.id}.{' '}\n      {detector?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: detector } = useShowContext<DetectorDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.DETECTORS}`}\n          record={detector}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_DETECTORS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst DetectorTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: detector } = useShowContext<DetectorDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.detectors.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <FunctionField<DetectorDto>\n          source=\"isWatched\"\n          render={(record?: DetectorDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        {detector?.categoryId &&\n          hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n            <ReferenceField\n              source=\"categoryId\"\n              reference={ResourceName.DEVICE_CATEGORIES}\n              link=\"show\"\n            >\n              <TextField source=\"name\" />\n            </ReferenceField>\n          )}\n        <TextField source=\"address\" />\n        <FunctionField<DetectorDto>\n          source=\"hardwareVersion\"\n          render={(record?: DetectorDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {detector?.jsonStatus && (\n        <Tab label=\"resources.detectors.tabs.statuses\" path=\"statuses\">\n          <DeviceStatusesTab jsonStatus={detector.jsonStatus} />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const DetectorShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <DetectorTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateEngineCreate = (values: EngineDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.engines.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EngineCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateEngineCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        <BooleanInput source=\"isWatched\" />\n        <TextInput source=\"address\" isRequired />\n        <SelectInput\n          source=\"direction\"\n          defaultValue={DeviceDirection.IN}\n          choices={Object.entries(DeviceDirection).map(([value]) => ({\n            id: value,\n            name: `resources.enums.deviceDirection.${value}`,\n          }))}\n        />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          defaultValue={Multiplicities.SINGLE}\n          choices={Object.entries(Multiplicities).map(([value]) => ({\n            id: value,\n            name: `resources.enums.multiplicities.${value}`,\n          }))}\n        />\n        <SelectInput\n          source=\"hardwareVersion\"\n          defaultValue={HardwareVersions.MODULO5}\n          choices={Object.entries(HardwareVersions).map(([value]) => ({\n            id: value,\n            name: `resources.enums.hardwareVersions.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","export enum ToggleType {\n  LOCK = 'LOCK',\n  UNLOCK = 'UNLOCK',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  FunctionField,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateEngineEdit = (values: EngineDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Engine = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useEditContext<EngineDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateEngineEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <TextInput source=\"address\" isRequired />\n      <SelectInput\n        source=\"direction\"\n        choices={Object.entries(DeviceDirection).map(([value]) => ({\n          id: value,\n          name: `resources.enums.deviceDirection.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <FunctionField<EngineDto>\n        source=\"stanbyMode\"\n        render={(record?: EngineDto) => (\n          <div>\n            {translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n          </div>\n        )}\n      />\n      {engine?.disabled && <TextField source=\"disabled\" />}\n      <BooleanInput source=\"onlineInfixCeck\" />\n      <SelectInput\n        source=\"multiplicity\"\n        choices={Object.entries(Multiplicities).map(([value]) => ({\n          id: value,\n          name: `resources.enums.multiplicities.${value}`,\n        }))}\n      />\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const EngineEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Engine />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst EngineFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <QuickFilter source=\"eventActive\" defaultValue />\n    </Filter>\n  )\n}\n\nconst EngineGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.ENGINES}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {!smallScreen && <TextField source=\"address\" />}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {!smallScreen && <TextField source=\"disabled\" sortable={false} />}\n    </Datagrid>\n  )\n}\n\nexport const EngineList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<EngineFilters />}\n  >\n    <EngineGrid />\n  </List>\n)\n","import { sanitizeFetchType } from 'react-admin'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './engine-lock-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst lockMutation = ({ id }: EngineDto, lockName?: string): Mutation => ({\n  type: sanitizeFetchType('lock'),\n  resource: ResourceName.ENGINES,\n  payload: {\n    engineId: id,\n    lockName,\n  },\n})\n\nconst unlockMutation = ({ id }: EngineDto): Mutation => ({\n  type: sanitizeFetchType('unlock'),\n  resource: ResourceName.ENGINES,\n  payload: {\n    engineId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (engine: EngineDto, lockName?: string) => Mutation\n} & ToggleButtonState\n\nexport const engineLockButtonInitialState = {\n  type: ToggleType.UNLOCK,\n  text: 'resources.engines.actions.unlock',\n}\n\nexport const engineLockButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.LOCK: {\n      return {\n        type,\n        text: 'resources.engines.actions.lock',\n        mutateQuery: lockMutation,\n      }\n    }\n    case ToggleType.UNLOCK: {\n      return {\n        type,\n        text: 'resources.engines.actions.unlock',\n        mutateQuery: unlockMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum StanbyMode {\n  SENSOR = 'Sensor',\n  ALWAYS_ON = 'AlwaysOn',\n  ALWAYS_OFF = 'AlwaysOff',\n}\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { StanbyMode } from '../../../core/enum/StanbyMode'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'setStandbyMode' | 'lock' | 'setTSCanCredentials'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.engines.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.ENGINES,\n          payload: {\n            engineId: engine?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.engines.dialogs.setTSCanCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.engines.dialogs.setTSCanCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetStandbyModeDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    close()\n  }\n\n  const handleSetStandbyMode = async () => {\n    setConfirmOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('setStandbyMode'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n          stanbyMode: value,\n        },\n      },\n      { returnPromise: true },\n    )\n    setValue('')\n    refresh()\n    close()\n  }\n\n  useEffect(() => {\n    if (open && engine?.stanbyMode) {\n      setValue(engine?.stanbyMode as string)\n    }\n  }, [open, engine?.stanbyMode])\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetStandbyMode}\n        source=\"setStandbyMode\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setStandbyMode.title')}\n      </DialogTitle>\n      <DialogContent>\n        <Select\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value as string)}\n          fullWidth\n        >\n          <MenuItem value={StanbyMode.ALWAYS_ON}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_ON}`)}\n          </MenuItem>\n          <MenuItem value={StanbyMode.ALWAYS_OFF}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_OFF}`)}\n          </MenuItem>\n          <MenuItem value={StanbyMode.SENSOR}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.SENSOR}`)}\n          </MenuItem>\n        </Select>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const EngineLockDialog = ({\n  open,\n  close,\n  lockName,\n  setLockName,\n  handleLock,\n}: {\n  open: boolean\n  close: () => void\n  lockName: string\n  setLockName: (value: string) => void\n  handleLock: () => void\n}) => {\n  const classes = useStyles()\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLockName('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={lockName}\n          onChange={(e) => setLockName(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","export enum ToggleType {\n  SETID = 'SETID',\n  RESETID = 'RESETID',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport {\n  engineLockButtonInitialState,\n  engineLockButtonReducer,\n} from '../../../../core/devices/engines/engine-lock-button.reducer'\nimport { ToggleType } from '../../../../core/devices/engines/engine-lock-button'\nimport { EngineDto } from '../../../../core/dto/device/engine/engine.dto'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ConfirmDialog, EngineLockDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineLockButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    engineLockButtonReducer,\n    engineLockButtonInitialState,\n  )\n  const [lockDialogOpen, setLockDialogOpen] = useState(false)\n  const [lockName, setLockName] = useState('')\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const engine = useRecordContext<EngineDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (engine.disabled) {\n      dispatch({ type: ToggleType.UNLOCK })\n    } else {\n      dispatch({ type: ToggleType.LOCK })\n    }\n  }, [engine])\n\n  const onClick = async () => {\n    if (type === ToggleType.UNLOCK) setUnlockDialogOpen(true)\n    else setLockDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(engine, lockName)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <EngineLockDialog\n        open={lockDialogOpen}\n        close={() => setLockDialogOpen(false)}\n        lockName={lockName}\n        setLockName={setLockName}\n        handleLock={handleLock}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_ENGINES) || loading || mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ConfirmDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { EngineDto } from '../../../../core/dto/device/engine/engine.dto'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineRemoveTSCanCredentialsButton = () => {\n  const { record: engine, loading } = useShowContext<EngineDto>()\n  const classes = useStyles()\n  const [\n    removeTSCanCredentialsDialogOpen,\n    setRemoveTSCanCredentialsDialogOpen,\n  ] = useState(false)\n  const hasAuthority = useHasAuthority()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleRemoveTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.engines.actions.removeTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={\n          !hasAuthority(Authority.EDIT_ENGINES) || loading || mutationLoading\n        }\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { SetTSCanCredentialsDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineSetTSCanCredentialsButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] =\n    useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  return (\n    <>\n      <SetTSCanCredentialsDialog\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.engines.actions.setTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_ENGINES) || loading}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { SetStandbyModeDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineStandbyModeButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [standbyModeDialogOpen, setStandbyModeDialogOpen] = useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetStandbyModeDialog = () => {\n    setStandbyModeDialogOpen(true)\n  }\n\n  return (\n    <>\n      <SetStandbyModeDialog\n        open={standbyModeDialogOpen}\n        close={() => setStandbyModeDialogOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetStandbyModeDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.engines.actions.setStandbyMode\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_ENGINES) || loading}\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\nimport { EngineLockButton } from './engine-show/EngineLockButton'\nimport { EngineRemoveTSCanCredentialsButton } from './engine-show/EngineRemoveTSCanCredentialsButton'\nimport { EngineSetTSCanCredentialsButton } from './engine-show/EngineSetTSCanCredentialsButton'\nimport { EngineStandbyModeButton } from './engine-show/EngineStandbyModeButton'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const { record: engine } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.show')}: {engine?.id}. {engine?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: engine } = useShowContext<EngineDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EngineSetTSCanCredentialsButton />\n        <EngineRemoveTSCanCredentialsButton />\n        <EngineStandbyModeButton />\n        <EngineLockButton />\n        <EditButton\n          basePath={`/${ResourceName.ENGINES}`}\n          record={engine}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EngineTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useShowContext<EngineDto>()\n  const hasAuthority = useHasAuthority()\n\n  const EventsFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  const EntrancesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"note\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.engines.tabs.general\">\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<EngineDto>\n          source=\"isWatched\"\n          render={(record?: EngineDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        <TextField source=\"address\" />\n        <FunctionField<EngineDto>\n          source=\"direction\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.deviceDirection.${record?.direction}`,\n              )}\n            </div>\n          )}\n        />\n        {engine?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {engine?.disabled && <TextField source=\"disabled\" />}\n        {engine?.stanbyMode && (\n          <FunctionField<EngineDto>\n            source=\"stanbyMode\"\n            render={(record?: EngineDto) => (\n              <div>\n                {translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n              </div>\n            )}\n          />\n        )}\n        <FunctionField<EngineDto>\n          source=\"onlineInfixCeck\"\n          render={(record?: EngineDto) => (\n            <div>\n              {record?.onlineInfixCeck\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <FunctionField<EngineDto>\n          source=\"multiplicity\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.multiplicities.${record?.multiplicity}`,\n              )}\n            </div>\n          )}\n        />\n        <FunctionField<EngineDto>\n          source=\"hardwareVersion\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab path=\"events\" label={translate('resources.engines.tabs.events')}>\n          <>\n            <RelationTab<EngineDto>\n              resource={ResourceName.EVENTS}\n              source=\"eventsIds\"\n              mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'}\n              attachMethod=\"attachEvents\"\n              detachMethod=\"detachEvents\"\n              attachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                eventsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                eventsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EventsFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: engine?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <Tab\n          path=\"entrances\"\n          label={translate('resources.engines.tabs.entrances')}\n        >\n          <>\n            <RelationTab<EngineDto>\n              resource={ResourceName.ENTRANCES}\n              source=\"entrancesIds\"\n              mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n              attachMethod=\"attachEntrances\"\n              detachMethod=\"detachEntrances\"\n              attachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                entrancesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                entrancesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EntrancesFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: engine?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"note\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {engine?.jsonStatus && (\n        <Tab label=\"resources.engines.tabs.statuses\" path=\"statuses\">\n          <DeviceStatusesTab jsonStatus={engine.jsonStatus} />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const EngineShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EngineTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validatePalmCreate = (values: PalmDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.palms.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PalmCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validatePalmCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        <BooleanInput source=\"isWatched\" />\n        <SelectInput\n          source=\"direction\"\n          defaultValue={DeviceDirection.IN}\n          choices={Object.entries(DeviceDirection).map(([value]) => ({\n            id: value,\n            name: `resources.enums.deviceDirection.${value}`,\n          }))}\n        />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          defaultValue={Multiplicities.SINGLE}\n          choices={Object.entries(Multiplicities).map(([value]) => ({\n            id: value,\n            name: `resources.enums.multiplicities.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validatePalmEdit = (values: PalmDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst EditTitle = (data: PalmTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Palm = ({ ...props }) => {\n  const { record: palm } = useEditContext<PalmDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validatePalmEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <SelectInput\n        source=\"direction\"\n        choices={Object.entries(DeviceDirection).map(([value]) => ({\n          id: value,\n          name: `resources.enums.deviceDirection.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {palm?.disabled && <TextField source=\"disabled\" />}\n      <BooleanInput source=\"onlineInfixCeck\" />\n      <SelectInput\n        source=\"multiplicity\"\n        choices={Object.entries(Multiplicities).map(([value]) => ({\n          id: value,\n          name: `resources.enums.multiplicities.${value}`,\n        }))}\n      />\n      {palm?.mobileDeviceId && <TextField source=\"mobileDeviceId\" />}\n    </SimpleForm>\n  )\n}\n\nexport const PalmEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Palm />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst PalmFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <QuickFilter source=\"eventActive\" defaultValue />\n    </Filter>\n  )\n}\n\nconst PalmGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.PALMS}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {!smallScreen && <TextField source=\"disabled\" sortable={false} />}\n      {!smallScreen && <TextField source=\"mobileDeviceId\" sortable={false} />}\n    </Datagrid>\n  )\n}\n\nexport const PalmList = (props: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<PalmFilters />}\n  >\n    <PalmGrid />\n  </List>\n)\n","import { sanitizeFetchType } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './palm-device-id-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst setIdMutation = ({ id }: PalmDto, mobileDeviceId?: string): Mutation => ({\n  type: sanitizeFetchType('setMobileDeviceId'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n    mobileDeviceId,\n  },\n})\n\nconst resetIdMutation = ({ id }: PalmDto): Mutation => ({\n  type: sanitizeFetchType('resetMobileDeviceId'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (palm: PalmDto, mobileDeviceId?: string) => Mutation\n} & ToggleButtonState\n\nexport const palmDeviceIdButtonInitialState = {\n  type: ToggleType.RESETID,\n  text: 'resources.palms.actions.resetMobileDeviceId',\n}\n\nexport const palmDeviceIdButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.SETID: {\n      return {\n        type,\n        text: 'resources.palms.actions.setMobileDeviceId',\n        mutateQuery: setIdMutation,\n      }\n    }\n    case ToggleType.RESETID: {\n      return {\n        type,\n        text: 'resources.palms.actions.resetMobileDeviceId',\n        mutateQuery: resetIdMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum ToggleType {\n  LOCK = 'LOCK',\n  UNLOCK = 'UNLOCK',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useTranslate } from 'react-admin'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'deviceId' | 'lock'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.palms.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const PalmDeviceIdDialog = ({\n  open,\n  close,\n  deviceId,\n  setDeviceId,\n  handleLock,\n}: {\n  open: boolean\n  close: () => void\n  deviceId: string\n  setDeviceId: (value: string) => void\n  handleLock: () => void\n}) => {\n  const classes = useStyles()\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setDeviceId('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"deviceId\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.deviceId.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={deviceId}\n          onChange={(e) => setDeviceId(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const PalmLockDialog = ({\n  open,\n  close,\n  lockName,\n  setLockName,\n  handleLock,\n}: {\n  open: boolean\n  close: () => void\n  lockName: string\n  setLockName: (value: string) => void\n  handleLock: () => void\n}) => {\n  const classes = useStyles()\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLockName('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={lockName}\n          onChange={(e) => setLockName(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ToggleType } from '../../../../core/devices/palms/palm-device-id-button'\nimport {\n  palmDeviceIdButtonInitialState,\n  palmDeviceIdButtonReducer,\n} from '../../../../core/devices/palms/palm-device-id-button.reducer'\nimport { PalmDto } from '../../../../core/dto/device/palm/palm.dto'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { ConfirmDialog, PalmDeviceIdDialog } from '../PalmDialogs'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PalmDeviceIdButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    palmDeviceIdButtonReducer,\n    palmDeviceIdButtonInitialState,\n  )\n  const [setDeviceIdDialogOpen, setSetDeviceIdDialogOpen] = useState(false)\n  const [deviceId, setDeviceId] = useState('')\n  const [resetDeviceIdDialogOpen, setResetDeviceIdDialogOpen] = useState(false)\n  const palm = useRecordContext<PalmDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (palm.mobileDeviceId) {\n      dispatch({ type: ToggleType.RESETID })\n    } else {\n      dispatch({ type: ToggleType.SETID })\n    }\n  }, [palm])\n\n  const onClick = async () => {\n    if (type === ToggleType.RESETID) setResetDeviceIdDialogOpen(true)\n    else setSetDeviceIdDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(palm, deviceId)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={resetDeviceIdDialogOpen}\n        confirm={handleLock}\n        source=\"deviceId\"\n        cancel={() => setResetDeviceIdDialogOpen(false)}\n        action=\"remove\"\n      />\n      <PalmDeviceIdDialog\n        open={setDeviceIdDialogOpen}\n        close={() => setSetDeviceIdDialogOpen(false)}\n        deviceId={deviceId}\n        setDeviceId={setDeviceId}\n        handleLock={handleLock}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PALMS) || loading || mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './palm-lock-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst lockMutation = ({ id }: PalmDto, lockName?: string): Mutation => ({\n  type: sanitizeFetchType('lock'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n    lockName,\n  },\n})\n\nconst unlockMutation = ({ id }: PalmDto): Mutation => ({\n  type: sanitizeFetchType('unlock'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (palm: PalmDto, lockName?: string) => Mutation\n} & ToggleButtonState\n\nexport const palmLockButtonInitialState = {\n  type: ToggleType.UNLOCK,\n  text: 'resources.palms.actions.unlock',\n}\n\nexport const palmLockButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.LOCK: {\n      return {\n        type,\n        text: 'resources.palms.actions.lock',\n        mutateQuery: lockMutation,\n      }\n    }\n    case ToggleType.UNLOCK: {\n      return {\n        type,\n        text: 'resources.palms.actions.unlock',\n        mutateQuery: unlockMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum SPOM4Directions {\n  Right = 'Right',\n  Left = 'Left',\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ToggleType } from '../../../../core/devices/palms/palm-lock-button'\nimport {\n  palmLockButtonInitialState,\n  palmLockButtonReducer,\n} from '../../../../core/devices/palms/palm-lock-button.reducer'\nimport { PalmDto } from '../../../../core/dto/device/palm/palm.dto'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { ConfirmDialog, PalmLockDialog } from '../PalmDialogs'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PalmLockButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    palmLockButtonReducer,\n    palmLockButtonInitialState,\n  )\n  const [lockDialogOpen, setLockDialogOpen] = useState(false)\n  const [lockName, setLockName] = useState('')\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const palm = useRecordContext<PalmDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (palm.disabled) {\n      dispatch({ type: ToggleType.UNLOCK })\n    } else {\n      dispatch({ type: ToggleType.LOCK })\n    }\n  }, [palm])\n\n  const onClick = async () => {\n    if (type === ToggleType.UNLOCK) setUnlockDialogOpen(true)\n    else setLockDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(palm, lockName)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <PalmLockDialog\n        open={lockDialogOpen}\n        close={() => setLockDialogOpen(false)}\n        lockName={lockName}\n        setLockName={setLockName}\n        handleLock={handleLock}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PALMS) || loading || mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { PalmDeviceIdButton } from './palm-show/PalmDeviceIdButton'\nimport { PalmLockButton } from './palm-show/PalmLockButton'\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst ShowTitle = (data: PalmTitleProps) => {\n  const { record: palm } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.show')}: {palm?.id}. {palm?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: palm } = useShowContext<PalmDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <PalmDeviceIdButton />\n        <PalmLockButton />\n        <EditButton\n          basePath={`/${ResourceName.PALMS}`}\n          record={palm}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_PALMS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst PalmTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: palm } = useShowContext<PalmDto>()\n  const hasAuthority = useHasAuthority()\n\n  const EventsFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  const EntrancesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"note\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.palms.tabs.general')}>\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<PalmDto>\n          source=\"isWatched\"\n          render={(record?: PalmDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        <FunctionField<PalmDto>\n          source=\"direction\"\n          render={(record?: PalmDto) => (\n            <div>\n              {translate(\n                `resources.enums.deviceDirection.${record?.direction}`,\n              )}\n            </div>\n          )}\n        />\n        {palm?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {palm?.disabled && <TextField source=\"disabled\" />}\n        <FunctionField<PalmDto>\n          source=\"onlineInfixCeck\"\n          render={(record?: PalmDto) => (\n            <div>\n              {record?.onlineInfixCeck\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <FunctionField<PalmDto>\n          source=\"multiplicity\"\n          render={(record?: PalmDto) => (\n            <div>\n              {translate(\n                `resources.enums.multiplicities.${record?.multiplicity}`,\n              )}\n            </div>\n          )}\n        />\n        {palm?.mobileDeviceId && <TextField source=\"mobileDeviceId\" />}\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab path=\"events\" label={translate('resources.engines.tabs.events')}>\n          <>\n            <RelationTab<PalmDto>\n              resource={ResourceName.EVENTS}\n              source=\"eventsIds\"\n              mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'}\n              attachMethod=\"attachEvents\"\n              detachMethod=\"detachEvents\"\n              attachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                eventsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                eventsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EventsFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: palm?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <Tab\n          path=\"entrances\"\n          label={translate('resources.engines.tabs.entrances')}\n        >\n          <>\n            <RelationTab<PalmDto>\n              resource={ResourceName.ENTRANCES}\n              source=\"entrancesIds\"\n              mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n              attachMethod=\"attachEntrances\"\n              detachMethod=\"detachEntrances\"\n              attachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                entrancesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                entrancesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EntrancesFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: palm?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"note\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const PalmShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PalmTabs />\n  </Show>\n)\n","import { Box, Grid } from '@material-ui/core'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Labeled,\n  SelectInput,\n  TextField,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useField } from 'react-final-form'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { SPOM4Directions } from '../../../core/enum/SPOM4Directions'\nimport { ResourceName } from '../../../core/ResourceName'\n\nexport const SPOM4FullAddressField = ({\n  source,\n  record,\n}: {\n  source: keyof PassageDto\n  record?: PassageDto\n}) => {\n  const translate = useTranslate()\n  const addressParts = (record && (record[source] as string))?.split('&')\n\n  return (\n    <Box>\n      <Grid container direction=\"column\">\n        {addressParts && addressParts[0] && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_ipGate\">\n              <TextField emptyText={addressParts[0]} />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[1] && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_tscanHost\">\n              <TextField emptyText={addressParts[1]} />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[2] && addressParts[2] in SPOM4Directions && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_direction\">\n              <TextField\n                emptyText={translate(\n                  `resources.enums.spom4Directions.${addressParts[2]}`,\n                )}\n              />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[3] && (\n          <Grid item>\n            <Labeled\n              resource={ResourceName.PASSAGES}\n              source=\"spom4_rs485Address\"\n            >\n              <TextField emptyText={addressParts[3]} />\n            </Labeled>\n          </Grid>\n        )}\n      </Grid>\n    </Box>\n  )\n}\n\nexport const SPOM4IpGateAddressField = ({\n  source,\n  record,\n}: {\n  source: keyof PassageDto\n  record?: PassageDto\n}) => {\n  const addressParts = (record && (record[source] as string))?.split('&')\n\n  return (\n    <TextField\n      source=\"spom4_ipGate\"\n      emptyText={addressParts && addressParts[0]}\n    />\n  )\n}\n\nexport const SPOM4FullAddressInput = ({\n  ...props\n}: SPOM4FullAddressInputProps) => {\n  const { source, record } = props\n  const {\n    input: { onChange },\n  } = useField(source)\n\n  const initialAddressParts = (record && (record[source] as string))?.split('&')\n  const [ipGate, setIpGate] = useState(\n    initialAddressParts && initialAddressParts[0] ? initialAddressParts[0] : '',\n  )\n  const [tscanHost, setTScanHost] = useState(\n    initialAddressParts && initialAddressParts[1] ? initialAddressParts[1] : '',\n  )\n  const [direction, setDirection] = useState(\n    initialAddressParts && initialAddressParts[2] ? initialAddressParts[2] : '',\n  )\n  const [rs485Address, setRS485Address] = useState(\n    initialAddressParts && initialAddressParts[3] ? initialAddressParts[3] : '',\n  )\n  const getFinalValue = useCallback(\n    () => `${ipGate}&${tscanHost}&${direction}&${rs485Address}`,\n    [ipGate, tscanHost, direction, rs485Address],\n  )\n\n  useEffect(() => {\n    onChange({ target: { value: getFinalValue() } })\n  }, [getFinalValue, onChange])\n\n  return (\n    <Box>\n      <Grid container direction=\"column\">\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_ipGate\"\n            defaultValue={ipGate}\n            value={ipGate}\n            onChange={(e) => {\n              setIpGate(e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_tscanHost\"\n            defaultValue={tscanHost}\n            value={tscanHost}\n            onChange={(e) => {\n              setTScanHost(e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <SelectInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_direction\"\n            defaultValue={direction}\n            value={direction}\n            onChange={(e) => setDirection(e.target.value)}\n            choices={Object.entries(SPOM4Directions).map(([value]) => ({\n              id: value,\n              name: `resources.enums.spom4Directions.${value}`,\n            }))}\n          />\n        </Grid>\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_rs485Address\"\n            defaultValue={rs485Address}\n            value={rs485Address}\n            onChange={(e) => {\n              setRS485Address(e.target.value)\n            }}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n}\n\nexport interface SPOM4FullAddressInputProps {\n  source: keyof PassageDto\n  record?: PassageDto\n}\n","export enum ToggleType {\n  RESET = 'RESET',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4FullAddressInput } from './SPOM4Address'\n\nconst validatePassageCreate = (values: PassageDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (values.hardwareVersion === HardwareVersions.SPOM4) {\n    const addressParts = values.address?.split('&')\n    if (!addressParts?.[0]) {\n      errors.spom4_ipGate = 'ra.validation.required'\n    }\n    if (!addressParts?.[1]) {\n      errors.spom4_tscanHost = 'ra.validation.required'\n    }\n    if (!addressParts?.[2]) {\n      errors.spom4_direction = 'ra.validation.required'\n    }\n    if (!addressParts?.[3]) {\n      errors.spom4_rs485Address = 'ra.validation.required'\n    }\n  } else if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.freeEntrancesCount)))\n    errors.freeEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.freeExitsCount)))\n    errors.freeExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketEntrancesCount)))\n    errors.ticketEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketExitsCount)))\n    errors.ticketExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedEntrancesCount)))\n    errors.unauthorizedEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedExitsCount)))\n    errors.unauthorizedExitsCount = 'ra.validation.not_numeric'\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.passages.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PassageCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const { record: passage } = props\n  const [hardwareVersion, setHardwareVersion] = useState(\n    passage?.hardwareVersion\n      ? passage?.hardwareVersion\n      : HardwareVersions.MODULO5,\n  )\n\n  const defaultValues = {\n    hardwareVersion: HardwareVersions.MODULO5,\n  }\n\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validatePassageCreate}\n        toolbar={<CreateToolbar />}\n        initialValues={defaultValues}\n      >\n        <TextInput source=\"name\" isRequired />\n        <BooleanInput source=\"isWatched\" />\n        {hardwareVersion === HardwareVersions.SPOM4 ? (\n          <SPOM4FullAddressInput source=\"address\" />\n        ) : (\n          <TextInput source=\"address\" isRequired />\n        )}\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <TextInput source=\"freeEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"freeExitsCount\" defaultValue={0} />\n        <TextInput source=\"ticketEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"ticketExitsCount\" defaultValue={0} />\n        <TextInput source=\"unauthorizedEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"unauthorizedExitsCount\" defaultValue={0} />\n        <SelectInput\n          value={hardwareVersion}\n          onChange={(e) => setHardwareVersion(e.target.value)}\n          source=\"hardwareVersion\"\n          choices={Object.entries(HardwareVersions).map(([value]) => ({\n            id: value,\n            name: `resources.enums.hardwareVersions.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4FullAddressInput } from './SPOM4Address'\n\nconst validatePassageEdit = (values: PassageDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (values.hardwareVersion === HardwareVersions.SPOM4) {\n    const addressParts = values.address?.split('&')\n    if (!addressParts?.[0]) {\n      errors.spom4_ipGate = 'ra.validation.required'\n    }\n    if (!addressParts?.[1]) {\n      errors.spom4_tscanHost = 'ra.validation.required'\n    }\n    if (!addressParts?.[2]) {\n      errors.spom4_direction = 'ra.validation.required'\n    }\n    if (!addressParts?.[3]) {\n      errors.spom4_rs485Address = 'ra.validation.required'\n    }\n  } else if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.freeEntrancesCount)))\n    errors.freeEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.freeExitsCount)))\n    errors.freeExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketEntrancesCount)))\n    errors.ticketEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketExitsCount)))\n    errors.ticketExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedEntrancesCount)))\n    errors.unauthorizedEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedExitsCount)))\n    errors.unauthorizedExitsCount = 'ra.validation.not_numeric'\n  return errors\n}\n\ninterface PassageTitleProps extends TitleProps {\n  record?: PassageDto\n}\n\nconst EditTitle = (props: PassageTitleProps) => {\n  const { record: passage } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.passages.titles.edit')}: {passage?.id}.{' '}\n      {passage?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Passage = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const { record: passage } = props\n  const [hardwareVersion, setHardwareVersion] = useState(\n    passage.hardwareVersion,\n  )\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validatePassageEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      {hardwareVersion === HardwareVersions.SPOM4 ? (\n        <SPOM4FullAddressInput source=\"address\" />\n      ) : (\n        <TextInput source=\"address\" isRequired />\n      )}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <TextInput source=\"freeEntrancesCount\" />\n      <TextInput source=\"freeExitsCount\" />\n      <TextInput source=\"ticketEntrancesCount\" />\n      <TextInput source=\"ticketExitsCount\" />\n      <TextInput source=\"unauthorizedEntrancesCount\" />\n      <TextInput source=\"unauthorizedExitsCount\" />\n      <SelectInput\n        value={hardwareVersion}\n        onChange={(e) => setHardwareVersion(e.target.value)}\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const PassageEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Passage />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FunctionField,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  SelectInput,\n  TextField,\n  TextInput,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4IpGateAddressField } from './SPOM4Address'\n\nconst PassageFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </Filter>\n  )\n}\n\nconst PassagesGrid = ({ ...props }) => {\n  const { loading } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.PASSAGES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {!smallScreen && (\n        <FunctionField<PassageDto>\n          source=\"address\"\n          render={(record?: PassageDto) =>\n            record?.hardwareVersion === HardwareVersions.SPOM4 ? (\n              <SPOM4IpGateAddressField source=\"address\" record={record} />\n            ) : (\n              <TextField source=\"address\" />\n            )\n          }\n        />\n      )}\n      {!smallScreen && (\n        <FunctionField<PassageDto>\n          source=\"hardwareVersion\"\n          render={(record?: PassageDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const PassagesList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<PassageFilters />}\n    sort={{\n      field: 'id',\n      order: 'DESC',\n    }}\n    bulkActionButtons={false}\n  >\n    <PassagesGrid />\n  </List>\n)\n","import {\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  makeStyles,\n  Theme,\n  createStyles,\n  DialogContent,\n  TextField,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  useTranslate,\n  useShowContext,\n  useMutation,\n  useRefresh,\n  sanitizeFetchType,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: string\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.passages.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: passage } = useShowContext<PassageDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.PASSAGES,\n          payload: {\n            passageId: passage?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.passages.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.passages.dialogs.setTSCanCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.passages.dialogs.setTSCanCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageRemoveTSCanCredentialsButton = () => {\n  const { record: passage, loading } = useShowContext<PassageDto>()\n  const classes = useStyles()\n  const [\n    removeTSCanCredentialsDialogOpen,\n    setRemoveTSCanCredentialsDialogOpen,\n  ] = useState(false)\n  const hasAuthority = useHasAuthority()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.PASSAGES,\n        payload: {\n          passageId: passage?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleRemoveTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.passages.actions.removeTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) || loading || mutationLoading\n        }\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-reset-counters-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst resetMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('resetCounters'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageResetCountersButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.passages.actions.resetCounters.disabled',\n}\n\nexport const passageResetCountersButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.RESET: {\n      return {\n        type,\n        text: 'resources.passages.actions.resetCounters.reset',\n        mutateQuery: resetMutation,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return passageResetCountersButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect, useMemo } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport {\n  passageResetCountersButtonInitialState,\n  passageResetCountersButtonReducer,\n} from '../../../../core/devices/passages/passage-reset-counters-button.reducer'\nimport { ToggleType } from '../../../../core/devices/passages/passage-reset-counters-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageResetCountersButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageResetCountersButtonReducer,\n    passageResetCountersButtonInitialState,\n  )\n  const [resetDialogOpen, setResetDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const countersEmpty = useMemo(\n    () =>\n      (!passage?.freeEntrancesCount || passage.freeEntrancesCount === 0) &&\n      (!passage?.freeExitsCount || passage.freeExitsCount === 0) &&\n      (!passage?.ticketEntrancesCount || passage.ticketEntrancesCount === 0) &&\n      (!passage?.ticketExitsCount || passage.ticketExitsCount === 0) &&\n      (!passage?.unauthorizedEntrancesCount ||\n        passage.unauthorizedEntrancesCount === 0) &&\n      (!passage?.unauthorizedExitsCount ||\n        passage.unauthorizedExitsCount === 0),\n    [passage],\n  )\n\n  useEffect(() => {\n    if (countersEmpty) {\n      dispatch({ type: ToggleType.DISABLED })\n    } else {\n      dispatch({ type: ToggleType.RESET })\n    }\n  }, [countersEmpty])\n\n  const onClick = async () => {\n    if (type === ToggleType.RESET) setResetDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={resetDialogOpen}\n        confirm={handleLock}\n        source=\"resetCounters\"\n        cancel={() => setResetDialogOpen(false)}\n        action=\"set\"\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          type === ToggleType.DISABLED ||\n          loading ||\n          mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { SetTSCanCredentialsDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetTSCanCredentialsButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] =\n    useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  return (\n    <>\n      <SetTSCanCredentialsDialog\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.passages.actions.setTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_PASSAGES) || loading}\n      />\n    </>\n  )\n}\n","import { Box, createStyles, Divider, makeStyles } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\nimport { PassageRemoveTSCanCredentialsButton } from './passage-show/PassageRemoveTSCanCredentialsButton'\nimport { PassageResetCountersButton } from './passage-show/PassageResetCountersButton'\nimport { PassageSetTSCanCredentialsButton } from './passage-show/PassageSetTSCanCredentialsButton'\nimport { SPOM4FullAddressField } from './SPOM4Address'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    generalActions: {\n      margin: '2px',\n    },\n  }),\n)\n\ninterface PassageTitleProps extends TitleProps {\n  record?: PassageDto\n}\n\nconst ShowTitle = (data: PassageTitleProps) => {\n  const { record: passage } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.passages.titles.show')}: {passage?.id}.{' '}\n      {passage?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: passage, basePath } = useShowContext<PassageDto>()\n  const hasAuthority = useHasAuthority()\n  const classes = useStyles()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <PassageSetTSCanCredentialsButton />\n        <PassageRemoveTSCanCredentialsButton />\n        <EditButton\n          className={classes.generalActions}\n          basePath={basePath}\n          record={passage}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_PASSAGES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst CountersActions = () => (\n  <>\n    <Divider />\n    <Box p={1} display=\"block\" textAlign=\"right\">\n      <PassageResetCountersButton />\n    </Box>\n  </>\n)\n\nconst CountersTab = ({ ...props }) => (\n  <SimpleShowLayout {...props}>\n    <TextField source=\"freeEntrancesCount\" />\n    <TextField source=\"freeExitsCount\" />\n    <TextField source=\"ticketEntrancesCount\" />\n    <TextField source=\"ticketExitsCount\" />\n    <TextField source=\"unauthorizedEntrancesCount\" />\n    <TextField source=\"unauthorizedExitsCount\" />\n    <CountersActions />\n  </SimpleShowLayout>\n)\n\n// const Statuses = ({ ...props }) => {\n//   const { record: passage } = props\n//   const jsonStatus = JSON.parse(passage.jsonStatus) as Array<any>\n//   // eslint-disable-next-line @typescript-eslint/no-unused-vars\n//   const modules = Object.entries(jsonStatus).map(([key, value]) =>\n//     moduleMapper(camelcaseKeys(value, { deep: true }), key),\n//   )\n\n//   return <MultiModuleStatus moduleInfo={modules} />\n\n// const handleFireAlarm = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setPPOZState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         ppozState: !jsonStatus?.FireAlarm,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handlePower = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setPowerState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         powerState: !jsonStatus?.PowerTurnedOn,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handleFreePassForward = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setFreePassState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         freePassState: !jsonStatus?.FreePassForward,\n//         direction: DeviceDirection.IN,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handleFreePassBackward = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setFreePassState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         freePassState: !jsonStatus?.FreePassBackward,\n//         direction: DeviceDirection.IN,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// const handleLockState = async () => {\n//   await mutate(\n//     {\n//       type: sanitizeFetchType('setLockState'),\n//       resource: ResourceName.PASSAGES,\n//       payload: {\n//         passageId: passage?.id,\n//         lockState: !jsonStatus?.TamperLock,\n//       },\n//     },\n//     { returnPromise: true },\n//   )\n//   refresh()\n// }\n\n// return (\n//   <TableContainer>\n//     <Table>\n//       <TableHead>\n//         <TableRow>\n//           <TableCell>{jsonStatus?.Module?.Alias}</TableCell>\n//           <TableCell />\n//         </TableRow>\n//       </TableHead>\n//       <TableBody>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.forwardStatus')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>{jsonStatus?.ForwardStatus}</Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.backwardStatus')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>{jsonStatus?.BackwardStatus}</Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.fireAlarm')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.FireAlarm}\n//               onChange={handleFireAlarm}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.powerTurnedOn')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.PowerTurnedOn}\n//               onChange={handlePower}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.freePassForward')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.FreePassForward}\n//               onChange={handleFreePassForward}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.freePassBackward')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.FreePassBackward}\n//               onChange={handleFreePassBackward}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.keyLock')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>{jsonStatus?.KeyLock}</Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.tamperLock')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Switch\n//               value={jsonStatus?.TamperLock}\n//               onChange={handleLockState}\n//             />\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate(\n//                 'resources.passages.fields.turnstileControllerError',\n//               )}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>\n//               {jsonStatus?.TurnstileControllerError ? 'error' : 'ok'}\n//             </Typography>\n//           </TableCell>\n//         </TableRow>\n//         <TableRow className={classes.statuses}>\n//           <TableCell>\n//             <Typography>\n//               {translate('resources.passages.fields.lastRefresh')}\n//             </Typography>\n//           </TableCell>\n//           <TableCell className={classes.rightColumn}>\n//             <Typography>\n//               <DateField record={jsonStatus} source=\"LastRefresh\" />\n//             </Typography>\n//           </TableCell>\n//         </TableRow>\n//       </TableBody>\n//     </Table>\n//   </TableContainer>\n// )\n// }\n\nconst PassageTabs = ({ ...props }) => {\n  const { record: passage } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.passages.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <FunctionField<PassageDto>\n          source=\"isWatched\"\n          render={(record?: PassageDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        {passage?.hardwareVersion === HardwareVersions.SPOM4 ? (\n          <SPOM4FullAddressField source=\"address\" />\n        ) : (\n          <TextField source=\"address\" />\n        )}\n        {passage?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        <FunctionField<PassageDto>\n          source=\"hardwareVersion\"\n          render={(record?: PassageDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      <Tab label=\"resources.passages.tabs.counters\" path=\"counters\">\n        <CountersTab />\n      </Tab>\n      {passage?.jsonStatus && (\n        <Tab label=\"resources.passages.tabs.statuses\" path=\"statuses\">\n          <DeviceStatusesTab jsonStatus={passage.jsonStatus} />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const PassageShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PassageTabs />\n  </Show>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\n\nconst validateEntranceCreate = (values: EntranceDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.note) {\n    errors.note = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.entrances.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EntranceCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateEntranceCreate}\n    >\n      <TextInput source=\"note\" isRequired />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  TitleProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ShowButton,\n  TextField,\n} from 'react-admin'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\n\nconst validateEntranceEdit = (values: EntranceDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.note) {\n    errors.note = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EntranceTitleProps extends TitleProps {\n  record?: EntranceDto\n}\n\nconst EditTitle = (data: EntranceTitleProps) => {\n  const { record: entrance } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.entrances.titles.edit')}: {entrance?.id}.{' '}\n      {entrance?.note}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EntranceEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateEntranceEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"note\" isRequired />\n    </SimpleForm>\n  </Edit>\n)\n","import React from 'react'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  Datagrid,\n  Filter,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\n\nconst EntranceFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"note\" alwaysOn />\n  </Filter>\n)\n\nexport const EntranceList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    filters={<EntranceFilters />}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    bulkActionButtons={false}\n  >\n    <Datagrid\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.ENTRANCES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"note\" />\n    </Datagrid>\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  ShowProps,\n  Show,\n  TitleProps,\n  useTranslate,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  TextInput,\n  EditButton,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface EntranceTitleProps extends TitleProps {\n  record?: EntranceDto\n}\n\nconst ShowTitle = (props: EntranceTitleProps) => {\n  const translate = useTranslate()\n  const { record: entrance } = props\n  return (\n    <span>\n      {translate('resources.entrances.titles.show')}: {entrance?.id}.{' '}\n      {entrance?.note}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: entrance } = useShowContext<EntranceDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <EditButton\n          variant=\"contained\"\n          basePath=\"/entrances\"\n          record={entrance}\n          disabled={!hasAuthority(Authority.EDIT_ENTRANCES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EntranceTabs = ({ ...props }) => {\n  const { record: entrance } = props\n  const hasAuthority = useHasAuthority()\n\n  const DevicesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n      <TextInput source=\"categoryId\" />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.entrances.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"note\" />\n        <GeneralActions />\n      </Tab>\n      <Tab path=\"engines\" label=\"resources.entrances.tabs.engines\">\n        <>\n          <RelationTab<EntranceDto>\n            resource={ResourceName.ENGINES}\n            source=\"verifierDevicesIds\"\n            mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              entranceId: entrance?.id,\n              filterEntranceId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField label=\"ID\" source=\"id\" />\n            <TextField source=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"palms\" label=\"resources.entrances.tabs.palms\">\n        <>\n          <RelationTab<EntranceDto>\n            resource={ResourceName.PALMS}\n            source=\"verifierDevicesIds\"\n            mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              entranceId: entrance?.id,\n              filterEntranceId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EntranceShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EntranceTabs />\n  </Show>\n)\n","import { ButtonGroup } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  Datagrid,\n  DateTimeInput,\n  FormTab,\n  GET_LIST,\n  List,\n  ListButton,\n  Pagination,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SaveButton,\n  TabbedForm,\n  TextField,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  TopToolbar,\n  useEditContext,\n  useListContext,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { useField } from 'react-final-form'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ObjectDto } from '../../core/dto/object.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CheckboxField } from '../common/CheckboxField'\nimport Button from '../common/customized-mui-components/Button'\n\nconst validateEventCreate = (values: EventDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!Date.parse(values.dateStart))\n    errors.dateStart = 'ra.validation.incorrect_date'\n  if (!Date.parse(values.dateEnd))\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  if (!values.dateStart) {\n    errors.dateStart = 'ra.validation.required'\n  }\n  if (!values.dateEnd) {\n    errors.dateEnd = 'ra.validation.required'\n  }\n  if (new Date(values.dateStart) > new Date(values.dateEnd)) {\n    errors.dateStart = 'ra.validation.incorrect_date'\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.events.titles.create')}</span>\n}\n\nconst RelationInputTab = ({\n  sourceProperty,\n  source,\n}: {\n  sourceProperty: keyof EventDto\n  source: ResourceName.OBJECTS\n}) => {\n  const [mutate] = useMutation()\n  const notify = useNotify()\n  const { basePath } = useEditContext<EventDto>()\n  const {\n    input: { onChange, value: relationsIds },\n  } = useField<number[]>(sourceProperty)\n\n  const handleAttach = (idsToAttach: number[]) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        onChange([...relationsIds, ...idsToAttach])\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n  }\n\n  const handleDetach = (idsToDetach: number[]) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        onChange(relationsIds.filter((id: number) => !idsToDetach.includes(id)))\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return relationsIds?.includes(relatedRecordId)\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n        return false\n    }\n  }\n\n  // const listFilters = () => {\n  //   switch (source) {\n  //     case ResourceName.OBJECTS:\n  //       return ([<TextInput source=\"name\" alwaysOn />])\n  //     default: return ([])\n  //   }\n  // }\n\n  const listSort = () => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return { field: 'name', order: 'ASC' }\n      default:\n        return undefined\n    }\n  }\n\n  const listColumns = () => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return [\n          <TextField source=\"id\" label=\"ID\" key=\"id\" />,\n          <TextField source=\"name\" key=\"name\" />,\n        ]\n      default:\n        return []\n    }\n  }\n\n  const Actions = () => {\n    const { filterValues } = useListContext<ObjectDto>()\n    const getFilteredRelatedRecordsIds = async () =>\n      (\n        await mutate(\n          {\n            type: sanitizeFetchType(GET_LIST),\n            resource: source,\n            payload: {\n              filter: {\n                ...filterValues,\n              },\n            },\n          },\n          { returnPromise: true },\n        )\n      )?.data?.map((record: ObjectDto) => record?.id)\n\n    const handleAttachAll = async () =>\n      handleAttach(await getFilteredRelatedRecordsIds())\n\n    const handleDetachAll = async () =>\n      handleDetach(await getFilteredRelatedRecordsIds())\n\n    return (\n      <TopToolbar>\n        {/* <FilterButton/> */}\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            onClick={() => handleAttachAll()}\n            label=\"common.related-records.actions.attach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleDetachAll()}\n            label=\"common.related-records.actions.detach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  const AttachedCheckbox = ({ ...props }) => (\n    <CheckboxField\n      {...props}\n      sortable={false}\n      checkBySource={(id: number) => isAttached(id)}\n      source=\"id\"\n      onClick={(id: number) =>\n        isAttached(id as number)\n          ? () => handleDetach([id as number])\n          : () => handleAttach([id as number])\n      }\n    />\n  )\n\n  return (\n    <ResourceContextProvider value={source}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        // filters={listFilters()} // FilterForm cannot be descendant of another Form component\n        sort={listSort()}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={<Actions />}\n      >\n        <>\n          <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }}>\n            {listColumns()}\n            <AttachedCheckbox label=\"common.related-records.fields.is-attached\" />\n          </Datagrid>\n        </>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EventCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <TabbedForm\n        redirect=\"show\"\n        toolbar={<CreateToolbar />}\n        validate={validateEventCreate}\n      >\n        <FormTab label={translate('resources.events.tabs.general')}>\n          <TextInput source=\"name\" isRequired />\n          <DateTimeInput source=\"dateStart\" isRequired />\n          <DateTimeInput source=\"dateEnd\" isRequired />\n          <TextInput source=\"externalId\" />\n          <TextInput source=\"infix\" />\n          <BooleanInput source=\"active\" />\n        </FormTab>\n        <FormTab label={translate('resources.events.tabs.objects')}>\n          <RelationInputTab\n            sourceProperty=\"objectsIds\"\n            source={ResourceName.OBJECTS}\n          />\n        </FormTab>\n      </TabbedForm>\n    </Create>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport React, { useMemo } from 'react'\nimport {\n  DateTimeInput,\n  Edit,\n  EditProps,\n  FunctionField,\n  Record,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { EventDto } from '../../core/dto/event/event.dto'\n\ninterface EventTitleProps extends TitleProps {\n  record?: EventDto\n}\n\nconst validateEventEdit = (values: EventDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!Date.parse(values.dateStart))\n    errors.dateStart = 'ra.validation.incorrect_date'\n  if (!Date.parse(values.dateEnd))\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  if (!values.dateStart) {\n    errors.dateStart = 'ra.validation.required'\n  }\n  if (!values.dateEnd) {\n    errors.dateEnd = 'ra.validation.required'\n  }\n  if (new Date(values.dateStart) > new Date(values.dateEnd)) {\n    errors.dateStart = 'ra.validation.incorrect_date'\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  }\n  return errors\n}\n\nconst EditTitle = (data: EventTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  const date = useMemo(\n    () =>\n      !((record?.dateStart as any) instanceof Date)\n        ? record?.dateStart.replace('T', ' ')\n        : '',\n    [record?.dateStart],\n  )\n  return (\n    <span>\n      {translate('resources.events.titles.edit')}: {record?.name} {date}{' '}\n      {record?.id}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EventEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit {...props} title={<EditTitle />} actions={false}>\n      <SimpleForm\n        redirect=\"show\"\n        toolbar={<EditToolbar />}\n        validate={validateEventEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" isRequired />\n        <DateTimeInput source=\"dateStart\" isRequired />\n        <DateTimeInput source=\"dateEnd\" isRequired />\n        <FunctionField\n          source=\"status\"\n          render={(r: Record | undefined) => (\n            <TextField\n              emptyText={translate(\n                `resources.enums.eventStatus.${r?.status.toLowerCase()}`,\n              )}\n            />\n          )}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { EventDto } from '../dto/event/event.dto'\nimport { EventStatus } from '../enum/EventStatus'\nimport { ResourceName } from '../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './handle-activation-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst deactivateMutation = ({ id }: EventDto): Mutation => ({\n  type: sanitizeFetchType('deactivate'),\n  resource: ResourceName.EVENTS,\n  payload: {\n    eventId: id,\n  },\n})\n\nconst activateMutation = ({ id }: EventDto): Mutation => ({\n  type: sanitizeFetchType('activate'),\n  resource: ResourceName.EVENTS,\n  payload: {\n    eventId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (event: EventDto) => Mutation\n} & ToggleButtonState\n\nexport const activationButtonInitialState = {\n  type: EventStatus.IN_TRANSITION,\n  text: 'resources.events.actions.activateNA',\n}\n\nexport const toggleActivationButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case EventStatus.ACTIVE: {\n      return {\n        type,\n        text: 'resources.events.actions.deactivate',\n        mutateQuery: deactivateMutation,\n      }\n    }\n    case EventStatus.INACTIVE: {\n      return {\n        type,\n        text: 'resources.events.actions.activate',\n        mutateQuery: activateMutation,\n      }\n    }\n    case EventStatus.IN_TRANSITION: {\n      return activationButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React, { useEffect } from 'react'\nimport { useShowContext, useTranslate } from 'react-admin'\nimport { EventStatus } from '../../../core/enum/EventStatus'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    actions: {\n      padding: 0,\n      background: 'rgba(0,0,0,0.2)',\n    },\n    button: {\n      borderRadius: 0,\n      background: theme.palette.primary.main,\n    },\n    title: {\n      padding: '5px 24px',\n    },\n  }),\n)\n\nexport const StatusTransitionDialog = ({\n  handleSkipDialog,\n  open,\n  type,\n}: {\n  handleSkipDialog: () => void\n  open: boolean\n  type: EventStatus\n}) => {\n  const classes = useStyles()\n  const translate = useTranslate()\n  const { refetch } = useShowContext()\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (refetch) refetch()\n    }, 5000)\n\n    if (!open) {\n      clearInterval(interval)\n    }\n\n    return () => clearInterval(interval)\n  }, [open, refetch, type])\n\n  return (\n    <Dialog open={open}>\n      <DialogActions className={classes.actions}>\n        <IconButton\n          size=\"small\"\n          className={classes.button}\n          onClick={handleSkipDialog}\n        >\n          <Close fontSize=\"small\" />\n        </IconButton>\n      </DialogActions>\n      <DialogTitle className={classes.title}>\n        {translate('resources.events.dialogs.transition.title')}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {translate('resources.events.dialogs.transition.content')}\n        </DialogContentText>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport React, { useEffect, useReducer, useState } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EventDto } from '../../../core/dto/event/event.dto'\nimport { EventStatus } from '../../../core/enum/EventStatus'\nimport {\n  activationButtonInitialState,\n  toggleActivationButtonReducer,\n} from '../../../core/events/handle-activation-button.reducer'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { StatusTransitionDialog } from './StatusTransitionDialog'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginRight: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleActivationButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading, refetch } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleActivationButtonReducer,\n    activationButtonInitialState,\n  )\n  const event = useRecordContext<EventDto>()\n  const [transitionDialogOpen, setTransitionDialogOpen] = useState(false)\n  const [skipTransitionDialog, setSkipTransitionDialog] = useState(false)\n  const [waitingForJobStart, setWaitingForJobStart] = useState(false)\n  const [mutate, { loading: mutationLoading }] = useMutation()\n\n  useEffect(() => {\n    dispatch({ type: event.status })\n  }, [event])\n\n  useEffect(() => {\n    if (!loading && !mutationLoading && !skipTransitionDialog) {\n      if (event.status === EventStatus.IN_TRANSITION)\n        setTransitionDialogOpen(true)\n      else setTransitionDialogOpen(false)\n    }\n  }, [event, loading, mutationLoading, skipTransitionDialog])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (refetch) refetch()\n    }, 2000)\n    if (!waitingForJobStart) {\n      clearInterval(interval)\n    } else if (transitionDialogOpen) {\n      setWaitingForJobStart(false)\n      clearInterval(interval)\n    }\n    return () => clearInterval(interval)\n  }, [transitionDialogOpen, refetch, waitingForJobStart])\n\n  const handleSkipTransitionDialog = () => {\n    setSkipTransitionDialog(true)\n    setTransitionDialogOpen(false)\n  }\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(event)\n      await mutate(query, { returnPromise: true })\n      setWaitingForJobStart(true)\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <StatusTransitionDialog\n        handleSkipDialog={handleSkipTransitionDialog}\n        open={transitionDialogOpen}\n        type={type}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_EVENTS) ||\n          type === EventStatus.IN_TRANSITION ||\n          loading ||\n          mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React, { useMemo } from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  Record,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport RelationTab from '../common/RelationTab'\nimport RelationTabFilter from '../common/RelationTabFilter'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { ToggleActivationButton } from './event-show/ToggleActivationButton'\n\ninterface EventTitleProps extends TitleProps {\n  record?: EventDto\n}\n\nconst ShowTitle = (data: EventTitleProps) => {\n  const { record: event } = data\n  const translate = useTranslate()\n  const date = useMemo(\n    () =>\n      !((event?.dateStart as any) instanceof Date)\n        ? event?.dateStart.replace('T', ' ')\n        : '',\n    [event?.dateStart],\n  )\n  return (\n    <span>\n      {translate('resources.events.titles.show')}: {event?.name} {date}{' '}\n      {event?.id}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: event } = useShowContext<EventDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <ToggleActivationButton />\n        <EditButton\n          variant=\"contained\"\n          basePath=\"/events\"\n          record={event}\n          disabled={!hasAuthority(Authority.EDIT_EVENTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EventTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: event } = props\n\n  const RelationFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  const DevicesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n      <TextInput source=\"categoryId\" />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.events.tabs.general')}>\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <DateField source=\"dateStart\" showTime />\n        <DateField source=\"dateEnd\" showTime />\n        <FunctionField\n          source=\"status\"\n          render={(r: Record | undefined) => (\n            <TextField\n              emptyText={translate(\n                `resources.enums.eventStatus.${r?.status.toLowerCase()}`,\n              )}\n            />\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      <Tab\n        path=\"companies\"\n        label={translate('resources.events.tabs.companies')}\n      >\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.COMPANIES}\n            source=\"companiesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachCompanies\"\n            detachMethod=\"detachCompanies\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              companiesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              companiesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getCompanies\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<RelationFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"objects\" label={translate('resources.events.tabs.objects')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.OBJECTS}\n            source=\"objectsIds\"\n            mode=\"edit\"\n            attachMethod=\"attachObjects\"\n            detachMethod=\"detachObjects\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              objectsIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              objectsIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<RelationFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"engines\" label={translate('resources.events.tabs.engines')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.ENGINES}\n            source=\"verifierDevicesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getDevices\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"palms\" label={translate('resources.events.tabs.palms')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.PALMS}\n            source=\"verifierDevicesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getDevices\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EventShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EventTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ReferenceInput,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { BlockDto } from '../../../core/dto/block.dto'\nimport { BlockType } from '../../../core/enum/BlockType'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateBlockCreate = (values: BlockDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.tribuneId) {\n    errors.tribuneId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst BlockCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  return (\n    <Create {...props} title={translate('resources.blocks.create')}>\n      <SimpleForm\n        redirect={`/objects/${objectId}/show/2`}\n        validate={validateBlockCreate}\n      >\n        <ReferenceInput\n          source=\"tribuneId\"\n          reference={ResourceName.TRIBUNES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ objectId }}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <TextInput source=\"name\" isRequired />\n        <TextInput source=\"code\" />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(BlockType).map(([value]) => ({\n            id: value,\n            name: `resources.enums.blockType.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default BlockCreate\n","import * as React from 'react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nconst Empty = ({ text }: { text: string }) => (\n  <Box textAlign=\"start\" m={2}>\n    <Typography variant=\"body2\" paragraph>\n      {text}\n    </Typography>\n  </Box>\n)\n\nexport default Empty\n","import { Box } from '@material-ui/core'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  FilterButton,\n  FunctionField,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  required,\n  SelectInput,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useTranslate,\n} from 'react-admin'\nimport { BlockDto } from '../../../core/dto/block.dto'\nimport { BlockType } from '../../../core/enum/BlockType'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [\n  <TextInput source=\"name\" alwaysOn />,\n  <TextInput source=\"id\" />,\n  <TextInput source=\"tribuneId\" />,\n  <TextInput source=\"code\" />,\n]\n\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" />\n    <TextInput source=\"name\" validate={required()} />\n    <TextField source=\"tribuneId\" />\n    <SelectInput\n      source=\"type\"\n      choices={Object.entries(BlockType).map(([value]) => ({\n        id: value,\n        name: `resources.enums.blockType.${value}`,\n      }))}\n    />\n    <TextInput source=\"code\" />\n  </RowForm>\n)\n\nconst BlocksGrid = ({ ...props }) => {\n  const translate = useTranslate()\n\n  return (\n    <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <TextField source=\"tribuneId\" />\n      <FunctionField<BlockDto>\n        source=\"type\"\n        render={(r?: BlockDto) =>\n          translate(`resources.enums.blockType.${r?.type}`)\n        }\n      />\n      <TextField source=\"code\" />\n    </EditableDatagrid>\n  )\n}\n\ninterface BlockListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: BlockListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.blocks.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface BlockListProps extends ListProps {\n  objectId?: number\n}\n\nconst BlocksList = ({ objectId, ...props }: BlockListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <BlocksGrid />\n    </List>\n  )\n}\n\nexport default BlocksList\n","import { Cancel } from '@material-ui/icons'\nimport * as React from 'react'\nimport {\n  Create,\n  SimpleForm,\n  TextInput,\n  CreateProps,\n  useTranslate,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { ObjectDto } from '../../../core/dto/object.dto'\n\nconst validateObjectCreate = (values: ObjectDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst ObjectCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={translate('resources.objects.create')}>\n      <SimpleForm\n        redirect=\"list\"\n        toolbar={<CreateToolbar />}\n        validate={validateObjectCreate}\n      >\n        <TextInput source=\"name\" isRequired />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default ObjectCreate\n","import * as React from 'react'\nimport {\n  Edit,\n  SimpleForm,\n  TextInput,\n  TextField,\n  EditProps,\n  useTranslate,\n  Toolbar,\n  SaveButton,\n  ShowButton,\n  ToolbarProps,\n} from 'react-admin'\nimport { Cancel } from '@material-ui/icons'\nimport { ObjectDto } from '../../../core/dto/object.dto'\n\nconst validateObjectEdit = (values: ObjectDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst ObjectEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit\n      {...props}\n      hasShow={false}\n      title={translate('resources.objects.edit')}\n    >\n      <SimpleForm\n        toolbar={<EditToolbar />}\n        redirect=\"show\"\n        validate={validateObjectEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" isRequired />\n      </SimpleForm>\n    </Edit>\n  )\n}\n\nexport default ObjectEdit\n","import React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FilterProps,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst ObjectGrid = ({ ...props }) => (\n  <Datagrid\n    {...props}\n    size=\"small\"\n    rowClick={(id) => `${ResourceName.OBJECTS}/${id}/show`}\n  >\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n  </Datagrid>\n)\n\nconst ObjectList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    filters={<ListFilters />}\n    bulkActionButtons={false}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n  >\n    <ObjectGrid />\n  </List>\n)\n\nexport default ObjectList\n","import { Box } from '@material-ui/core'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  FilterButton,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useTranslate,\n} from 'react-admin'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [\n  <TextInput source=\"numberAlias\" alwaysOn />,\n  <TextInput source=\"id\" />,\n  <TextInput source=\"rowAlias\" />,\n  <TextInput source=\"blockId\" />,\n]\n\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" />\n    <TextInput source=\"rowAlias\" />\n    <TextInput source=\"numberAlias\" />\n    <TextField source=\"blockId\" />\n  </RowForm>\n)\n\nconst SeatsGrid = ({ ...props }) => (\n  <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n    <TextField source=\"id\" />\n    <TextField source=\"rowAlias\" />\n    <TextField source=\"numberAlias\" />\n    <TextField source=\"blockId\" />\n  </EditableDatagrid>\n)\n\ninterface SeatListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: SeatListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.seats.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface SeatsListProps extends ListProps {\n  objectId?: number\n}\n\nconst SeatsList = ({ objectId, ...props }: SeatsListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      exporter={false}\n      basePath={basePath}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <SeatsGrid />\n    </List>\n  )\n}\n\nexport default SeatsList\n","import { Box } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  FilterButton,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [<TextInput source=\"name\" alwaysOn />]\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextInput source=\"name\" />\n  </RowForm>\n)\n\nconst TribuneGrid = ({ ...props }) => (\n  <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n  </EditableDatagrid>\n)\n\ninterface TribuneListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: TribuneListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.tribunes.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface TribuneListProps extends ListProps {\n  objectId?: number\n}\n\nconst TribunesList = ({ objectId, ...props }: TribuneListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <TribuneGrid />\n    </List>\n  )\n}\n\nexport default TribunesList\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useShowController,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ObjectDto } from '../../../core/dto/object.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport BlocksList from '../Blocks/BlocksList'\nimport SeatsList from '../Seats/SeatsList'\nimport TribunesList from '../Tribunes/TribunesList'\n\ninterface ObjectTitleProps extends TitleProps {\n  record?: ObjectDto\n}\n\nconst ObjectShowTitle = (data: ObjectTitleProps) => {\n  const { record } = data\n  const t = useTranslate()\n  return (\n    <span>\n      {t('resources.objects.name')}: {record?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: object, basePath } = useShowContext<ObjectDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <EditButton\n          basePath={basePath}\n          record={object}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_OBJECTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst ObjectShow = (props: ShowProps) => {\n  const t = useTranslate()\n  const { record: object } = useShowController<ObjectDto>(props)\n\n  return (\n    <Show {...props} title={<ObjectShowTitle />} actions={false}>\n      <TabbedShowLayout>\n        <Tab label={t('resources.objects.tabs.general')}>\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <GeneralActions />\n        </Tab>\n        <Tab label={t('resources.objects.tabs.tribunes')}>\n          <ResourceContextProvider value={ResourceName.TRIBUNES}>\n            <TribunesList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n        <Tab label={t('resources.objects.tabs.blocks')}>\n          <ResourceContextProvider value={ResourceName.BLOCKS}>\n            <BlocksList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n        <Tab label={t('resources.objects.tabs.seats')}>\n          <ResourceContextProvider value={ResourceName.SEATS}>\n            <SeatsList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n\nexport default ObjectShow\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ReferenceInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { SeatDto } from '../../../core/dto/seat.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateSeatCreate = (values: SeatDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.blockId) {\n    errors.blockId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst SeatCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  return (\n    <Create {...props} title={translate('resources.seats.create')}>\n      <SimpleForm\n        redirect={`/objects/${objectId}/show/3`}\n        validate={validateSeatCreate}\n      >\n        <ReferenceInput\n          source=\"blockId\"\n          reference={ResourceName.BLOCKS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ objectId }}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <TextInput source=\"numberAlias\" />\n        <TextInput source=\"rowAlias\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default SeatCreate\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Create,\n  CreateProps,\n  GET_ONE,\n  Identifier,\n  NumberInput,\n  ReferenceInput,\n  sanitizeFetchType,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useQuery,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { TribuneDto } from '../../../core/dto/tribune.dto'\nimport { TribuneType } from '../../../core/enum/TribuneType'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateTribuneCreate = (values: TribuneDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.objectId) {\n    errors.objectId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = ({ objectId }: { objectId?: Identifier }) => {\n  const translate = useTranslate()\n  const { data: object } = useQuery(\n    {\n      type: sanitizeFetchType(GET_ONE),\n      resource: ResourceName.OBJECTS,\n      payload: {\n        id: objectId,\n      },\n    },\n    { enabled: objectId !== undefined },\n  )\n\n  return (\n    <span>{`${translate('resources.tribunes.create')}${\n      object ? `: ${object?.name} (${object?.id})` : ''\n    }`}</span>\n  )\n}\n\nconst TribuneCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  const defaultValue = () => ({\n    objectId,\n  })\n\n  return (\n    <Create {...props} title={<CreateTitle objectId={objectId} />}>\n      <SimpleForm\n        redirect={objectId ? `/objects/${objectId}/show/1` : 'show'}\n        initialValues={defaultValue}\n        validate={validateTribuneCreate}\n      >\n        {!objectId ? (\n          <ReferenceInput\n            source=\"objectId\"\n            reference={ResourceName.OBJECTS}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n            isRequired\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        ) : (\n          <NumberInput source=\"objectId\" disabled />\n        )}\n        <TextInput source=\"name\" isRequired />\n        <TextInput source=\"code\" />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(TribuneType).map(([value]) => ({\n            id: value,\n            name: `resources.enums.tribuneType.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default TribuneCreate\n","import React from 'react'\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  ArrayField,\n  Datagrid,\n  TextField,\n} from 'react-admin'\n\nconst useStyles = makeStyles({\n  noBottomBorder: {\n    borderBottom: 'none',\n  },\n  quarterWidth: {\n    width: '25%',\n  },\n})\n\nconst ViewTitle = (record: any) => {\n  const {\n    record: { eventName, date, id },\n  } = record\n  const t = useTranslate()\n  const description = `${eventName} ${date.replace('T', ' ')} ${id}`\n  return (\n    <span>{`${t('resources.stats-overall-view.name')}: ${description}`}</span>\n  )\n}\n\nconst BlockGrid = (props: any) => {\n  const {\n    record: { soldAbo, soldInfix, soldNormal, soldPoints, soldService },\n  } = props\n  const classes = useStyles()\n  const translate = useTranslate()\n\n  const firstColumnEntries = [\n    { label: 'abo', value: soldAbo },\n    { label: 'infix', value: soldInfix },\n    { label: 'normal', value: soldNormal },\n    { label: 'points', value: soldPoints },\n    { label: 'service', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && (\n        <div key={label}>\n          {translate(`resources.stats-overall-view.fields.${label}`)}\n        </div>\n      ),\n  )\n\n  const secondColumnEntries = [\n    { label: 'enteredAbo', value: soldAbo },\n    { label: 'enteredInfix', value: soldInfix },\n    { label: 'enteredNormal', value: soldNormal },\n    { label: 'enteredPoints', value: soldPoints },\n    { label: 'enteredService', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && <TextField key={label} source={label} label=\" \" />,\n  )\n\n  const thirdColumnEntries = [\n    { label: 'soldAbo', value: soldAbo },\n    { label: 'soldInfix', value: soldInfix },\n    { label: 'soldNormal', value: soldNormal },\n    { label: 'soldPoints', value: soldPoints },\n    { label: 'soldService', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && <TextField key={label} source={label} label=\" \" />,\n  )\n\n  return (\n    <TableContainer style={{ paddingTop: '10px', marginBottom: '10px' }}>\n      <Table padding=\"none\">\n        <TableBody>\n          <TableRow>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            />\n            <TableCell\n              style={{ width: '40%' }}\n              className={classes.noBottomBorder}\n            >\n              {firstColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            >\n              {secondColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            >\n              {thirdColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            />\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst TribuneGrid = () => {\n  const translate = useTranslate()\n\n  const TribuneHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '40%' }}>\n          {translate('resources.stats-overall-view.fields.block')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"blocks\">\n      <Datagrid\n        expand={<BlockGrid />}\n        padding=\"none\"\n        header={<TribuneHeader />}\n        isRowExpandable={(record) => !!record.sold}\n      >\n        <TextField source=\"name\" label=\"Sektor\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nconst ObjectGrid = () => {\n  const translate = useTranslate()\n\n  const objectHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '10%' }} />\n        <TableCell style={{ width: '45%' }}>\n          {translate('resources.stats-overall-view.fields.tribune')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"tribunes\">\n      <Datagrid expand={<TribuneGrid />} padding=\"none\" header={objectHeader}>\n        <TextField source=\"name\" label=\"Trybuna\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nexport const OverallView = (props: ShowProps) => {\n  const translate = useTranslate()\n\n  const overallHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '5%' }} />\n        <TableCell style={{ width: '50%' }}>\n          {translate('resources.stats-overall-view.fields.name')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.entered')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.sold')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.capacity')}\n        </TableCell>\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <Show title={<ViewTitle />} {...props}>\n      <ArrayField source=\"objects\">\n        <Datagrid expand={<ObjectGrid />} padding=\"none\" header={overallHeader}>\n          <TextField source=\"name\" label=\"Obiekt\" />\n          <TextField source=\"entered\" />\n          <TextField source=\"sold\" />\n          <TextField source=\"capacity\" />\n        </Datagrid>\n      </ArrayField>\n    </Show>\n  )\n}\n","import * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst OverallViewGrid = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  // TODO: header doesn't change color when theme value is switched\n  //  the reason is the need to change the theme at <Admin> level - not at <Layout> level\n  //  the solution is here - https://stackoverflow.com/a/63967145 -> after that customReducer needs to be removed\n  return (\n    <Datagrid\n      {...props}\n      rowClick={\n        hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW)\n          ? (id) => `${ResourceName.STATS_OVERALL_VIEW}/${id}/show`\n          : undefined\n      }\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <DateField source=\"dateStart\" showTime />\n      <DateField source=\"dateEnd\" showTime />\n    </Datagrid>\n  )\n}\n\nconst OverallViewFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const OverallViewList = (props: ListProps) => (\n  <List\n    {...props}\n    actions={false}\n    filter={{\n      hasObjects: true,\n    }}\n    filters={<OverallViewFilters />}\n    sort={{ field: 'id', order: 'DESC' }}\n  >\n    <OverallViewGrid />\n  </List>\n)\n","import { Box, Grid, useMediaQuery, useTheme } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  ResourceComponentProps,\n  SelectInput,\n  TextField,\n  TextInput,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { BookingType } from '../../core/enum/BookingType'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { MaskField } from '../common/MaskField'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst TicketExpand = () => {\n  const t = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <Grid item xs={4}>\n          {t('resources.tickets.fields.bookingId')}\n        </Grid>\n        <Grid item xs={8} style={{ textAlign: 'center' }}>\n          <TextField source=\"bookingId\" />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n}\n\nconst TicketGrid = ({ ...props }) => {\n  const { data } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Datagrid\n        {...props}\n        padding={smallScreen ? 'checkbox' : 'default'}\n        rowClick={(id) =>\n          `${ResourceName.BOOKINGS}/${data[id]?.bookingId}/show`\n        }\n        isRowExpandable={() => xSmallScreen}\n        expand={<TicketExpand />}\n        hasBulkActions={false}\n      >\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.firstname\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerFirstname\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <TextField source=\"firstname\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.lastname\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerLastname\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <TextField source=\"lastname\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.pesel\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerPesel\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <MaskField source=\"pesel\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.customer\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerPesel\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <>\n                  <TextField source=\"firstname\" />{' '}\n                  <TextField source=\"lastname\" /> <MaskField source=\"pesel\" />\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        <TextField source=\"ticketCode\" />\n        {hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_EVENTS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.event\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"eventName\"\n            >\n              <ReferenceField\n                source=\"eventId\"\n                reference={ResourceName.EVENTS}\n                link={false}\n              >\n                <>\n                  <TextField source=\"name\" /> <DateField source=\"dateStart\" /> (\n                  <TextField source=\"id\" />)\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!xSmallScreen && <TextField source=\"bookingId\" />}\n      </Datagrid>\n    </>\n  )\n}\n\nconst TicketFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"ticketCode\" alwaysOn />\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput\n          label=\"resources.tickets.fields.event\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          sort={{ field: 'dateStart', order: 'DESC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"bookingType\"\n        choices={Object.entries(BookingType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.bookingType.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_VARIANTS) && (\n        <ReferenceInput\n          source=\"variantId\"\n          reference={ResourceName.VARIANTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const TicketList = (props: ResourceComponentProps) => (\n  <List\n    {...props}\n    exporter={false}\n    perPage={20}\n    sort={{ field: 'id', order: 'DESC' }}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    filters={<TicketFilters />}\n  >\n    <TicketGrid />\n  </List>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  DateTimeInput,\n  GET_ONE,\n  Identifier,\n  NumberInput,\n  ReferenceInput,\n  sanitizeFetchType,\n  SelectInput,\n  SimpleForm,\n  useQuery,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { formatDate, formatTime } from '../../../core/common/date-time'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\nimport { AccessDateTypes } from '../../../core/enum/AccessDateTypes'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateAccessDateCreate = (values: AccessDateDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.activeFrom) {\n    errors.activeFrom = 'ra.validation.required'\n  }\n  if (!values.activeTo) {\n    errors.activeTo = 'ra.validation.required'\n  }\n  if (!values.type) {\n    errors.type = 'ra.validation.required'\n  }\n  if (!values.timeFrom) {\n    errors.timeFrom = 'ra.validation.required'\n  }\n  if (!values.timeTo) {\n    errors.timeTo = 'ra.validation.required'\n  }\n  if (!values.accessId) {\n    errors.accessId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = ({ accessId }: { accessId?: Identifier }) => {\n  const translate = useTranslate()\n  const { data: access } = useQuery(\n    {\n      type: sanitizeFetchType(GET_ONE),\n      resource: ResourceName.ACCESSES,\n      payload: {\n        id: accessId,\n      },\n    },\n    { enabled: accessId !== undefined },\n  )\n\n  return (\n    <span>{`${translate('resources.access-dates.titles.create')}${\n      access ? `: ${access?.name} (${access?.id})` : ''\n    }`}</span>\n  )\n}\n\nexport const AccessDateCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const accessIdRaw = new URLSearchParams(search).get('accessId')\n  const accessId: number | undefined =\n    accessIdRaw !== null ? Number(accessIdRaw) : undefined\n\n  const defaultValue = () => ({\n    accessId,\n  })\n\n  return (\n    <Create {...props} title={<CreateTitle accessId={accessId} />}>\n      <SimpleForm\n        redirect={accessId ? `/accesses/${accessId}/show/dates` : 'show'}\n        validate={validateAccessDateCreate}\n        initialValues={defaultValue}\n      >\n        {!accessId ? (\n          <ReferenceInput\n            source=\"accessId\"\n            defaultValue={null}\n            reference={ResourceName.ACCESSES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n            isRequired\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        ) : (\n          <NumberInput source=\"accessId\" disabled isRequired />\n        )}\n        <DateTimeInput\n          source=\"activeFrom\"\n          type=\"date\"\n          format={formatDate}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <DateTimeInput\n          source=\"activeTo\"\n          type=\"date\"\n          format={formatDate}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <DateTimeInput\n          source=\"timeFrom\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <DateTimeInput\n          source=\"timeTo\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(AccessDateTypes).map(([value]) => ({\n            id: value,\n            name: `resources.enums.accessDateTypes.${value}`,\n          }))}\n        />\n        <NumberInput source=\"priority\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceInput,\n  TextField,\n  TextInput,\n  useListContext,\n  Filter,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport FilterProps from '../../common/FilterProps'\n\nconst CompanyFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput source=\"eventId\" reference={ResourceName.EVENTS}>\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst CompanyGrid = () => {\n  const { loading } = useListContext()\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.COMPANIES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n    </Datagrid>\n  )\n}\n\nexport const CompanyList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<CompanyFilters />}\n  >\n    <CompanyGrid />\n  </List>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { CreateUserRequest } from '../../../core/administration/users/users.provider'\n\nexport const validateUserCreate = (values: CreateUserRequest) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.userName) {\n    errors.userName = 'ra.validation.required'\n  }\n  if (!values.password) {\n    errors.password = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.users.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const UserCreate = (props: CreateProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateUserCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"userName\" isRequired />\n        <TextInput source=\"password\" isRequired />\n        {hasAuthority(Authority.VIEW_COMPANIES) && (\n          <ReferenceInput\n            source=\"companyId\"\n            reference={ResourceName.COMPANIES}\n            sort={{ field: 'id', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"requirePasswordUpdate\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { UserDto } from '../../../core/dto/user.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface UserTitleProps extends TitleProps {\n  record?: UserDto\n}\n\nexport const validateUserEdit = (values: UserDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.userName) {\n    errors.userName = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = (props: UserTitleProps) => {\n  const { record } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.users.titles.edit')}: {record?.id}.{' '}\n      {record?.userName}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const UserEdit = (props: EditProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Edit {...props} title={<EditTitle />} actions={false}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateUserEdit}\n        toolbar={<EditToolbar />}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"userName\" isRequired />\n        {hasAuthority(Authority.VIEW_COMPANIES) && (\n          <ReferenceInput\n            source=\"companyId\"\n            reference={ResourceName.COMPANIES}\n            sort={{ field: 'id', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"requirePasswordUpdate\" />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  BooleanInput,\n  EditButton,\n  FunctionField,\n  List,\n  Pagination,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { CompanyDto } from '../../../core/dto/company.dto'\nimport { UserDto } from '../../../core/dto/user.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid/esm/src'\nimport { EventList } from '../../events/EventList'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { validateUserCreate } from '../users/UserCreate'\nimport { validateUserEdit } from '../users/UserEdit'\n\ninterface CompanyTitleProps extends TitleProps {\n  record?: CompanyDto\n}\n\nconst ShowTitle = (data: CompanyTitleProps) => {\n  const { record: company } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.companies.titles.show')}: {company?.id}.{' '}\n      {company?.name}\n    </span>\n  )\n}\n\nconst CompanyEvents = () => {\n  const { record: company, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.EVENTS}>\n      <EventList\n        basePath={basePath}\n        filter={{ companyId: company?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst CompanyUserCreate = ({ ...props }) => {\n  const { companyId, ...rest } = props\n  return (\n    <RowForm\n      initialValues={{\n        companyId,\n      }}\n      {...rest}\n      validate={validateUserCreate}\n    >\n      <TextField source=\"id\" />\n      <TextInput source=\"userName\" />\n      <TextInput source=\"password\" />\n      <BooleanInput source=\"requirePasswordUpdate\" />\n    </RowForm>\n  )\n}\n\nconst CompanyUserEdit = ({ ...props }) => (\n  <RowForm {...props} validate={validateUserEdit}>\n    <TextField source=\"id\" />\n    <TextInput source=\"userName\" />\n    <BooleanInput source=\"requirePasswordUpdate\" />\n  </RowForm>\n)\n\nconst CompanyUsersGrid = ({ ...props }) => {\n  const { record: company } = useShowContext()\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <EditableDatagrid\n      {...props}\n      actions={hasAuthority(Authority.EDIT_COMPANIES) ? undefined : false}\n      editForm={<CompanyUserEdit />}\n      createForm={\n        hasAuthority(Authority.EDIT_COMPANIES) &&\n        hasAuthority(Authority.CREATE_COMPANIES) ? (\n          <CompanyUserCreate companyId={company?.id} />\n        ) : undefined\n      }\n      hasBulkActions={false}\n      defaultTitle={null}\n      noDelete\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"userName\" />\n      <FunctionField<UserDto>\n        source=\"requirePasswordUpdate\"\n        render={(record?: UserDto) => (\n          <div>\n            {record?.requirePasswordUpdate\n              ? translate('const.yes')\n              : translate('const.no')}\n          </div>\n        )}\n      />\n    </EditableDatagrid>\n  )\n}\n\nconst CompanyUsers = () => {\n  const { record: company, basePath } = useShowContext()\n\n  return (\n    <ResourceContextProvider value={ResourceName.USERS}>\n      <List\n        title=\" \"\n        actions={false}\n        exporter={false}\n        basePath={basePath}\n        filter={{ companyId: company?.id }}\n        filters={undefined}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n        bulkActionButtons={false}\n        empty={false}\n      >\n        <CompanyUsersGrid />\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: company } = useShowContext<CompanyDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.COMPANIES}`}\n          record={company}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_COMPANIES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const CompanyShow = (props: ShowProps) => {\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Show {...props} actions={false} title={<ShowTitle />}>\n      <TabbedShowLayout>\n        <Tab label=\"resources.companies.tabs.general\">\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <GeneralActions />\n        </Tab>\n        {hasAuthority(Authority.VIEW_EVENTS) && (\n          <Tab label=\"resources.companies.tabs.events\" path=\"events\">\n            <CompanyEvents />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_USERS) && (\n          <Tab label=\"resources.companies.tabs.users\" path=\"users\">\n            <CompanyUsers />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n","import React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useListContext,\n  Filter,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\n\nconst RolesFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst RolesGrid = () => {\n  const { loading } = useListContext()\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.ROLES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n    </Datagrid>\n  )\n}\n\nexport const RoleList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<RolesFilters />}\n  >\n    <RolesGrid />\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  TitleProps,\n  TabbedShowLayout,\n  Tab,\n  useShowContext,\n  ResourceContextProvider,\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  Record,\n  Identifier,\n  EditButton,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { CompanyDto } from '../../../core/dto/company.dto'\nimport { RoleDto } from '../../../core/dto/role/role.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface CompanyTitleProps extends TitleProps {\n  record?: CompanyDto\n}\n\nconst ShowTitle = (data: CompanyTitleProps) => {\n  const { record: company } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.roles.titles.show')}: {company?.id}. {company?.name}\n    </span>\n  )\n}\n\nconst RoleUsers = () => {\n  const { record: role, basePath } = useShowContext()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <ResourceContextProvider value={ResourceName.USERS}>\n        <List\n          title=\" \"\n          actions={false}\n          exporter={false}\n          basePath={basePath}\n          filter={{ roleId: role?.id }}\n          filters={undefined}\n          perPage={10}\n          pagination={false}\n          bulkActionButtons={false}\n        >\n          <Datagrid\n            rowClick={(id: Identifier) => `/${ResourceName.USERS}/${id}/show`}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"userName\" />\n            {hasAuthority(Authority.VIEW_COMPANIES) && (\n              <ReferenceField\n                source=\"companyId\"\n                reference={ResourceName.COMPANIES}\n                link={(record: Record) =>\n                  `/${ResourceName.COMPANIES}/${record.companyId}/show`\n                }\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            )}\n          </Datagrid>\n        </List>\n      </ResourceContextProvider>\n    </>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: role } = useShowContext<RoleDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.ROLES}`}\n          record={role}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ROLES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst RoleTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  const { record: role } = useShowContext<RoleDto>()\n\n  const PermissionsFilter = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.roles.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_ROLES) && (\n        <Tab path=\"permissions\" label=\"resources.roles.tabs.permissions\">\n          <>\n            <RelationTab<RoleDto>\n              resource={ResourceName.PERMISSIONS}\n              source=\"permissionsIds\"\n              mode={hasAuthority(Authority.EDIT_ROLES) ? 'edit' : 'show'}\n              attachMethod=\"attachPermissions\"\n              detachMethod=\"detachPermissions\"\n              attachRequestPayload={(r, ids) => ({\n                roleId: r.id,\n                permissionsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                roleId: r.id,\n                permissionsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterRoleId === true\n              }\n              filters={<PermissionsFilter />}\n              filterDefaultValues={{\n                roleId: role?.id,\n                filterRoleId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <Tab label=\"resources.roles.tabs.users\" path=\"users\">\n          <RoleUsers />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const RoleShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <RoleTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useListContext,\n  Filter,\n  ReferenceField,\n  ReferenceInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst UsersFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"userName\" alwaysOn />\n      {hasAuthority(Authority.VIEW_COMPANIES) && (\n        <ReferenceInput\n          source=\"companyId\"\n          reference={ResourceName.COMPANIES}\n          sort={{ field: 'id', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst UsersGrid = () => {\n  const { loading } = useListContext()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.USERS}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"userName\" />\n      {hasAuthority(Authority.VIEW_COMPANIES) && (\n        <ReferenceField\n          source=\"companyId\"\n          reference={ResourceName.COMPANIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const UserList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<UsersFilters />}\n  >\n    <UsersGrid />\n  </List>\n)\n","import {\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  makeStyles,\n  Theme,\n  createStyles,\n  DialogContent,\n  TextField,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  useTranslate,\n  useShowContext,\n  useMutation,\n  useRefresh,\n  sanitizeFetchType,\n} from 'react-admin'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { UserDto } from '../../../../core/dto/user.dto'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: string\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.users.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const ChangePasswordDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState<string>('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: user } = useShowContext<UserDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleValidate = () => {\n    setError(false)\n    setErrorText('')\n    // if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(value)) {\n    //   setError(true)\n    //   setErrorText(\n    //     'resources.users.dialogs.changePassword.error-password-requirements',\n    //   )\n    // } else if (value.replace(/^[a-zA-Z0-9]*$/, '').length !== 0) {\n    //   setError(true)\n    //   setErrorText('resources.users.dialogs.changePassword.error-bad-string')\n    // } else\n    setConfirmOpen(true)\n  }\n\n  const handleChangeUserPassword = async () => {\n    setConfirmOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('changeUserPassword'),\n        resource: ResourceName.USERS,\n        payload: {\n          userId: user?.id,\n          newPassword: value,\n        },\n      },\n      { returnPromise: true },\n    )\n    setValue('')\n    refresh()\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleChangeUserPassword}\n        source=\"changePassword\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.users.dialogs.changePassword.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={translate(errorText)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={handleValidate}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useTranslate, useShowContext } from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { ChangePasswordDialog } from './UserDialogs'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginRight: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nconst ChangePasswordButton = () => {\n  const { loading } = useShowContext()\n  const [dialogOpen, setDialogOpen] = useState(false)\n  const translate = useTranslate()\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <ChangePasswordDialog\n        open={dialogOpen}\n        close={() => setDialogOpen(false)}\n      />\n      <Button\n        className={classes.button}\n        variant=\"contained\"\n        label={translate('resources.users.actions.changePassword')}\n        disabled={!hasAuthority(Authority.EDIT_USERS) || loading}\n        onClick={() => setDialogOpen(true)}\n      />\n    </>\n  )\n}\n\nexport default ChangePasswordButton\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  TitleProps,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  FunctionField,\n  ReferenceField,\n  EditButton,\n  useShowContext,\n  Record,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { UserDto } from '../../../core/dto/user.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport ChangePasswordButton from './UserShow/UserChangePasswordButton'\nimport RelationTabFilter from '../../common/RelationTabFilter'\n\ninterface UserTitleProps extends TitleProps {\n  record?: UserDto\n}\n\nconst ShowTitle = (data: UserTitleProps) => {\n  const { record: user } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.users.titles.show')}: {user?.id}. {user?.userName}\n    </span>\n  )\n}\n\nconst UserRoles = ({ ...props }) => {\n  const { record: user } = props\n  const hasAuthority = useHasAuthority()\n\n  const UserRolesMapper = (records: Record[], source: string) => ({\n    [source]: records.map((record: Record) => record.id),\n  })\n\n  const RolesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <RelationTab<UserDto>\n      resource={ResourceName.ROLES}\n      source=\"rolesIds\"\n      mode={hasAuthority(Authority.EDIT_USERS) ? 'edit' : 'show'}\n      attachMethod=\"attachRoles\"\n      detachMethod=\"detachRoles\"\n      attachRequestPayload={(r, ids) => ({\n        userId: r.id,\n        rolesIds: ids,\n      })}\n      detachRequestPayload={(r, ids) => ({\n        userId: r.id,\n        rolesIds: ids,\n      })}\n      refetchListAfterChange={(filters) => filters?.filterUserId === true}\n      relationsRequestMethod=\"getRoles\"\n      relationsRequestPayload={(r) => ({ userId: r.id })}\n      relationsMapper={UserRolesMapper}\n      filters={<RolesFilters />}\n      filterDefaultValues={{\n        userId: user?.id,\n        filterUserId: true,\n      }}\n      sort={{\n        field: 'id',\n        order: 'DESC',\n      }}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" key=\"name\" />\n    </RelationTab>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: user } = useShowContext<UserDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <ChangePasswordButton />\n        <EditButton\n          basePath={`/${ResourceName.USERS}`}\n          record={user}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_USERS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const UserShow = (props: ShowProps) => {\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Show {...props} actions={false} title={<ShowTitle />}>\n      <TabbedShowLayout>\n        <Tab label=\"resources.users.tabs.general\">\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"userName\" />\n          {hasAuthority(Authority.VIEW_COMPANIES) && (\n            <ReferenceField\n              source=\"companyId\"\n              reference={ResourceName.COMPANIES}\n              link=\"show\"\n            >\n              <TextField source=\"name\" />\n            </ReferenceField>\n          )}\n          <FunctionField<UserDto>\n            source=\"requirePasswordUpdate\"\n            render={(record?: UserDto) => (\n              <div>\n                {record?.requirePasswordUpdate\n                  ? translate('const.yes')\n                  : translate('const.no')}\n              </div>\n            )}\n          />\n          <GeneralActions />\n        </Tab>\n        {hasAuthority(Authority.VIEW_ROLES) && (\n          <Tab label=\"resources.users.tabs.roles\" path=\"roles\">\n            <UserRoles />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CompanyDto } from '../../../core/dto/company.dto'\n\ninterface CompanyTitleProps extends TitleProps {\n  record?: CompanyDto\n}\n\nconst validateCompanyEdit = (values: CompanyDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = (props: CompanyTitleProps) => {\n  const { record } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.companies.titles.edit')}: {record?.id}.{' '}\n      {record?.name}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CompanyEdit = (props: EditProps) => (\n  <Edit {...props} title={<EditTitle />} actions={false}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCompanyEdit}\n      toolbar={<EditToolbar />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </Edit>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ListButton,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CompanyDto } from '../../../core/dto/company.dto'\n\nconst validateCompanyCreate = (values: CompanyDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.companies.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CompanyCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCompanyCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { RoleDto } from '../../../core/dto/role/role.dto'\n\ninterface RoleTitleProps extends TitleProps {\n  record?: RoleDto\n}\n\nconst validateRoleEdit = (values: RoleDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = (props: RoleTitleProps) => {\n  const { record } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.roles.titles.edit')}: {record?.id}. {record?.name}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const RoleEdit = (props: EditProps) => (\n  <Edit {...props} title={<EditTitle />} actions={false}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateRoleEdit}\n      toolbar={<EditToolbar />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </Edit>\n)\n","export const STATIC_ENTRIES_KEY = '$$staticEntries$$'\nexport const TRANSITIONAL_STATIC_ENTRIES_KEY = '$$transitionalStaticEntries$$'\nexport const STATIC_VALUE_ID = '$$STATIC_VALUE$$'\n","import { STATIC_VALUE_ID } from './csv.consts'\n\ntype Choice = { id: string; name: string }\n\nconst primarySelectChoices: Choice[] = [\n  { id: '', name: '(none)' },\n  { id: STATIC_VALUE_ID, name: '(static value)' },\n]\n\nexport const choicesReducer = (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  choices: Choice[] = primarySelectChoices,\n  columnNames: string[],\n): Choice[] =>\n  columnNames.length\n    ? primarySelectChoices.concat(\n        columnNames.map((columnName) => ({ id: columnName, name: columnName })),\n      )\n    : []\n","type CsvDataAggregate = {\n  columnNames: string[]\n  previewRows: any[][]\n  csvData: any[][]\n}\n\nexport type CsvDataPayload = {\n  rawCsvData: any[][]\n}\n\nexport const csvDataInitialState: CsvDataAggregate = {\n  columnNames: [],\n  previewRows: [],\n  csvData: [],\n}\n\nexport const csvDataReducer = (\n  aggregate: CsvDataAggregate,\n  payload: CsvDataPayload | null,\n): CsvDataAggregate => {\n  if (payload) {\n    const { rawCsvData } = payload\n    return {\n      columnNames: rawCsvData[0] as string[],\n      previewRows: rawCsvData.slice(1, 6),\n      csvData: rawCsvData.slice(1),\n    }\n  }\n  return csvDataInitialState\n}\n","import { FormMappings, TransitionalFormMappings } from './csv-types'\nimport {\n  STATIC_ENTRIES_KEY,\n  STATIC_VALUE_ID,\n  TRANSITIONAL_STATIC_ENTRIES_KEY,\n} from './csv.consts'\n\nconst resolveTransitionalStaticEntriesLeftovers = (\n  staticEntries: Record<string, string>,\n  mappings: Record<string, string>,\n): Record<string, string> =>\n  Object.entries(staticEntries).reduce(\n    (resolvedEntries, [entryKey, entryValue]) => {\n      if (mappings[entryKey] === STATIC_VALUE_ID) {\n        return {\n          ...resolvedEntries,\n          [entryKey]: entryValue,\n        }\n      }\n      return resolvedEntries\n    },\n    {} as Record<string, string>,\n  )\n\nexport const transitionalStaticFieldsResolver = (\n  mappings: TransitionalFormMappings,\n): FormMappings => {\n  const {\n    [TRANSITIONAL_STATIC_ENTRIES_KEY]: transitionalStaticEntries,\n    ...restMappings\n  } = mappings\n  if (!transitionalStaticEntries) {\n    return {\n      ...restMappings,\n    }\n  }\n  const resolvedStaticEntries = resolveTransitionalStaticEntriesLeftovers(\n    transitionalStaticEntries,\n    restMappings as Record<string, string>,\n  )\n  if (!Object.keys(resolvedStaticEntries).length) {\n    return restMappings as FormMappings\n  }\n  const {\n    [STATIC_ENTRIES_KEY]: staticEntries,\n    ...restMappingsWithoutStaticEntries\n  } = restMappings\n  const restMappingsWithoutUnresolvedKeys = Object.entries(\n    restMappingsWithoutStaticEntries as Record<string, string>,\n  ).reduce((prev, [key, value]) => {\n    if (resolvedStaticEntries[key]) {\n      return prev\n    }\n    return {\n      ...prev,\n      [key]: value,\n    }\n  }, {} as Record<string, string>)\n  return {\n    [STATIC_ENTRIES_KEY]: {\n      ...staticEntries,\n      ...resolvedStaticEntries,\n    },\n    ...restMappingsWithoutUnresolvedKeys,\n  }\n}\n\nconst applyMappingsToRecord = (\n  restMappings: Record<string, string>,\n  csvRecord: Record<string, string | undefined | null>,\n) =>\n  Object.entries(restMappings).reduce(\n    (mappedRecordCollector, [mappingKey, csvKey]) => {\n      if (csvKey === '') {\n        return {\n          ...mappedRecordCollector,\n          [mappingKey]: null,\n        }\n      }\n      return {\n        ...mappedRecordCollector,\n        [mappingKey]: csvRecord[csvKey] || null,\n      }\n    },\n    {} as Record<string, string | null>,\n  )\n\nexport const applyMappingsToCsvData = (\n  mappings: FormMappings,\n  csvData: Array<Record<string, string | null | undefined>>,\n) =>\n  csvData.reduce((mappedDataCollector, csvRecord) => {\n    const { [STATIC_ENTRIES_KEY]: staticEntries, ...restMappings } = mappings\n    const mappedRecord = applyMappingsToRecord(\n      restMappings as Record<string, string>,\n      csvRecord,\n    )\n    return [\n      ...mappedDataCollector,\n      {\n        ...mappedRecord,\n        ...staticEntries,\n      },\n    ]\n  }, [] as Array<Record<string, string | null>>)\n","import { LocalFile, parse, ParseResult } from 'papaparse'\n\nexport const processCsvFile = async (importedFile: LocalFile) =>\n  new Promise<string[][]>((res, rej) =>\n    parse(\n      importedFile,\n      // default values https://www.papaparse.com/docs#config\n      {\n        skipEmptyLines: true,\n        complete: (results: ParseResult<any>) => res(results.data),\n        error: (error: Error) => rej(error),\n      },\n    ),\n  )\n\nexport const processCsvData = (columnNames: string[], csvData: string[][]) =>\n  csvData.reduce((prev, curr) => {\n    const targetModelEntries = columnNames.map((v, index) => [\n      v,\n      curr[index] ?? null,\n    ])\n    return [...prev, Object.fromEntries(targetModelEntries)]\n  }, [] as Array<Record<string, string | null>>)\n\nexport const detectExactFields = (\n  fieldNames: string[],\n  columnNames: string[],\n) =>\n  fieldNames.reduce(\n    (prev, curr) =>\n      columnNames.includes(curr)\n        ? { ...prev, [curr]: curr }\n        : { ...prev, [curr]: '' },\n    {} as Record<string, string>,\n  )\n","import {\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from '@material-ui/core'\nimport * as React from 'react'\nimport classNames from 'classnames'\n\nconst useStyles = makeStyles((theme) => ({\n  fitContent: {\n    display: 'table',\n  },\n  cellOverflow: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  columnWidth: {\n    minWidth: theme.spacing(6),\n    maxWidth: theme.spacing(20),\n    [theme.breakpoints.down('md')]: {\n      maxWidth: theme.spacing(10),\n    },\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: theme.spacing(6),\n    },\n  },\n  columnPadding: {\n    [theme.breakpoints.down('md')]: {\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5),\n    },\n  },\n}))\n\ninterface ImportCsvPreviewProps {\n  readonly columnNames: string[]\n  readonly rows: string[][]\n}\n\nexport const ImportCsvPreview = ({\n  columnNames,\n  rows,\n}: ImportCsvPreviewProps) => {\n  const classes = useStyles()\n  return (\n    <Paper className={classes.fitContent}>\n      <TableContainer>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              {columnNames.map((columnName, columnIdx) => (\n                <TableCell\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={`${columnIdx}-${columnName}`}\n                  className={classNames(\n                    classes.columnWidth,\n                    classes.cellOverflow,\n                    classes.columnPadding,\n                  )}\n                  size=\"medium\"\n                >\n                  {columnName}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, rowIdx) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <TableRow key={rowIdx}>\n                {row.map((cell, cellIdx) => (\n                  <TableCell\n                    // eslint-disable-next-line react/no-array-index-key\n                    key={`${cellIdx}-${cell}`}\n                    className={classes.columnPadding}\n                  >\n                    <Typography\n                      variant=\"body2\"\n                      className={classNames(\n                        classes.cellOverflow,\n                        classes.columnWidth,\n                      )}\n                    >\n                      {cell}\n                    </Typography>\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  )\n}\n","import React, { ReactElement } from 'react'\nimport {\n  CreateProps,\n  CreateView,\n  ResourceContextProvider,\n  useCreateController,\n} from 'react-admin'\nimport {\n  CreateContextProvider,\n  OnFailure,\n  OnSuccess,\n  RedirectionSideEffect,\n  TransformData,\n} from 'ra-core'\n\nexport interface ImportViewProps extends CreateProps {\n  readonly children: ReactElement\n  readonly onSave: (\n    record: any,\n    redirect: RedirectionSideEffect,\n    callbacks?: {\n      onSuccess?: OnSuccess\n      onFailure?: OnFailure\n      transform?: TransformData\n    },\n  ) => void\n  readonly saving: boolean\n}\n\nexport const ImportView = (props: ImportViewProps) => {\n  const { children, title, onSave, saving, ...rest } = props\n  const createControllerProps = {\n    ...useCreateController(props),\n    save: onSave,\n    saving,\n    defaultTitle: title as string,\n  }\n  const { resource } = createControllerProps\n  return (\n    <ResourceContextProvider value={resource}>\n      <CreateContextProvider value={createControllerProps}>\n        <CreateView {...rest} {...createControllerProps}>\n          {children}\n        </CreateView>\n      </CreateContextProvider>\n    </ResourceContextProvider>\n  )\n}\n","import { Box, Tooltip, Typography } from '@material-ui/core'\nimport { Button, useNotify, useTranslate } from 'react-admin'\nimport GetAppIcon from '@material-ui/icons/GetApp'\nimport React, { Dispatch, useState } from 'react'\nimport { CsvDataPayload, processCsvFile } from '../../../core/csv'\n\ntype ImportCsvButtonProps = {\n  csvDataDispatcher: Dispatch<CsvDataPayload | null>\n}\n\nexport const ImportCsvButton = ({\n  csvDataDispatcher,\n}: ImportCsvButtonProps) => {\n  const t = useTranslate()\n  const notify = useNotify()\n  const [fileName, setFileName] = useState<string>()\n\n  let refInput: HTMLInputElement\n\n  const clickImportButton = () => {\n    refInput.value = ''\n    refInput.click()\n  }\n\n  const onFileAdded = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFileName('')\n    csvDataDispatcher(null)\n    const importedFile = e.target.files?.[0]\n    if (!importedFile) {\n      notify('common.import.processing-error-message', 'error')\n      throw new Error(`File not processed from input field`)\n    }\n    const processedCsvData = await processCsvFile(importedFile)\n    setFileName(importedFile.name)\n    csvDataDispatcher({ rawCsvData: processedCsvData })\n  }\n\n  return (\n    <Box m={2} display=\"flex\" alignItems=\"center\">\n      <Box>\n        <Tooltip title={t('common.import.button-tooltip')}>\n          <Box>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              label={t('common.import.button-label')}\n              onClick={clickImportButton}\n            >\n              <GetAppIcon\n                style={{ transform: 'rotate(180deg)', fontSize: '20' }}\n              />\n            </Button>\n          </Box>\n        </Tooltip>\n        <input\n          ref={(ref) => {\n            refInput = ref as HTMLInputElement\n          }}\n          type=\"file\"\n          style={{ display: 'none' }}\n          onChange={onFileAdded}\n          accept=\".csv,.tsv\"\n        />\n      </Box>\n      <Box ml={2}>\n        <Typography variant=\"body1\">\n          {fileName\n            ? t('common.import.button-loaded-description', { fileName })\n            : t('common.import.button-load-description')}\n        </Typography>\n      </Box>\n    </Box>\n  )\n}\n","import {\n  CreateProps,\n  GetListResult,\n  useMutation,\n  useNotify,\n  useRedirect,\n  useTranslate,\n} from 'react-admin'\nimport React, {\n  Dispatch,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useReducer,\n} from 'react'\nimport { Box, Typography } from '@material-ui/core'\nimport { ImportCsvPreview } from './ImportCsvPreview'\nimport { ImportView } from './ImportView'\nimport {\n  applyMappingsToCsvData,\n  csvDataInitialState,\n  csvDataReducer,\n  FormMappings,\n  IMPORT_PROVIDER_METHOD_TYPE,\n  processCsvData,\n} from '../../../core/csv'\nimport { ImportCsvButton } from './ImportCsvButton'\nimport { TicketDto } from '../../../core/dto/ticket.dto'\n\ninterface ImportBaseProps extends CreateProps {\n  readonly children: ReactElement\n  readonly title: string\n  readonly columnNamesDispatcher: Dispatch<string[]>\n  readonly formValuesMapper: (values: FormMappings) => FormMappings\n}\n\nexport const ImportBase = (props: ImportBaseProps) => {\n  const { columnNamesDispatcher, formValuesMapper, resource, ...rest } = props\n  const t = useTranslate()\n  const notify = useNotify()\n  const redirect = useRedirect()\n  const [mutate, { loading }] = useMutation()\n  const [{ columnNames, previewRows, csvData }, csvDataDispatcher] = useReducer(\n    csvDataReducer,\n    csvDataInitialState,\n  )\n\n  useEffect(() => {\n    columnNamesDispatcher(columnNames)\n  }, [columnNamesDispatcher, columnNames])\n\n  const onSuccess = useCallback(() => {\n    notify('common.import.import-success-message', 'success')\n    redirect('list', `/${resource}`)\n  }, [notify, redirect, resource])\n\n  const onFailure = useCallback(\n    (error) => {\n      // eslint-disable-next-line no-console\n      console.error('Error during importing file', error)\n      notify('common.import.import-error-message', 'warning')\n    },\n    [notify],\n  )\n\n  const createMany = useCallback(\n    (data: any) =>\n      mutate(\n        {\n          type: IMPORT_PROVIDER_METHOD_TYPE,\n          resource,\n          payload: {\n            data,\n          },\n        },\n        {\n          returnPromise: true,\n          onSuccess,\n          onFailure,\n        },\n      ) as Promise<GetListResult<TicketDto>>,\n    [resource, mutate, onSuccess, onFailure],\n  )\n\n  const onSave = useCallback(\n    async (formMappings: FormMappings) => {\n      const processedMappings = formValuesMapper(formMappings)\n      const processedData = processCsvData(columnNames, csvData)\n      const mappedData = applyMappingsToCsvData(\n        processedMappings,\n        processedData,\n      )\n      await createMany(mappedData)\n    },\n    [createMany, columnNames, csvData, formValuesMapper],\n  )\n\n  return (\n    <Box>\n      <ImportCsvButton csvDataDispatcher={csvDataDispatcher} />\n      {!!columnNames?.length && (\n        <Box>\n          <Typography variant=\"caption\">\n            {t('common.import.preview-caption')}\n          </Typography>\n          <ImportCsvPreview columnNames={columnNames} rows={previewRows} />\n          <Box mt={2} ml={2}>\n            <Typography variant=\"h5\">\n              {t('common.import.mapping-subtitle')}\n            </Typography>\n          </Box>\n          <ImportView\n            onSave={onSave}\n            saving={loading}\n            resource={resource}\n            {...rest}\n          />\n        </Box>\n      )}\n    </Box>\n  )\n}\n","import { Record as RaRecord } from 'ra-core'\nimport {\n  STATIC_ENTRIES_KEY,\n  TRANSITIONAL_STATIC_ENTRIES_KEY,\n} from './csv.consts'\n\nexport interface FormMappings {\n  [key: string]: string | Record<string, string> | undefined\n  [STATIC_ENTRIES_KEY]?: Record<string, string>\n}\n\nexport interface TransitionalFormMappings extends FormMappings {\n  [TRANSITIONAL_STATIC_ENTRIES_KEY]?: Record<string, string>\n}\n\nexport interface CreateManyParams<T = any> {\n  data: T[]\n}\n\nexport interface CreateManyResult<T = RaRecord> {\n  data: T[]\n}\n\nexport type SelectField = [name: string, required?: boolean]\n\nexport type CustomMapper = (formValues: FormMappings) => FormMappings\nexport type FormValues = Record<string, string>\n\nexport const IMPORT_PROVIDER_METHOD_TYPE = 'createMany'\n","import {\n  FormDataConsumer,\n  required,\n  ResourceComponentProps,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport React, { ReactElement, useEffect, useReducer, useState } from 'react'\nimport { CardContent, makeStyles } from '@material-ui/core'\nimport classNames from 'classnames'\nimport {\n  choicesReducer,\n  CustomMapper,\n  detectExactFields,\n  FormMappings,\n  SelectField,\n  STATIC_VALUE_ID,\n  TRANSITIONAL_STATIC_ENTRIES_KEY,\n  TransitionalFormMappings,\n  transitionalStaticFieldsResolver,\n} from '../../../core/csv'\n\nimport { ImportBase } from './ImportBase'\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    width: theme.spacing(42),\n  },\n  spacingLeft: {\n    marginLeft: theme.spacing(2),\n  },\n}))\n\nexport interface ImportProps extends ResourceComponentProps {\n  readonly selectFields: SelectField[]\n  readonly children?: ReactElement | ReactElement[]\n  readonly customMapper?: CustomMapper\n}\n\nexport const Import = (props: ImportProps) => {\n  const {\n    selectFields,\n    resource,\n    customMapper,\n    children: additionalFields = [],\n    ...rest\n  } = props\n  const t = useTranslate()\n  const classes = useStyles()\n\n  const [choices, dispatchColumnNames] = useReducer(choicesReducer, [])\n  const [initialFormValues, setInitialFormValues] = useState<\n    Record<string, string>\n  >({})\n\n  const formValuesMapper = (\n    formValues: TransitionalFormMappings,\n  ): FormMappings => {\n    const resolvedMappings = transitionalStaticFieldsResolver(formValues)\n    return customMapper ? customMapper(resolvedMappings) : resolvedMappings\n  }\n\n  useEffect(() => {\n    setInitialFormValues(\n      detectExactFields(\n        selectFields.map((v) => v[0]),\n        choices.map((v) => v.id),\n      ),\n    )\n  }, [selectFields, choices])\n\n  return (\n    <ImportBase\n      title={`Import ${resource}`}\n      columnNamesDispatcher={dispatchColumnNames}\n      formValuesMapper={formValuesMapper}\n      resource={resource}\n      {...rest}\n    >\n      <SimpleForm component={CardContent} initialValues={initialFormValues}>\n        {selectFields\n          .map(([fieldName, fieldRequired]) => (\n            <>\n              <SelectInput\n                className={classes.input}\n                key={fieldName}\n                choices={choices}\n                label={t('common.import.mapping-input-label', { fieldName })}\n                source={fieldName}\n                validate={fieldRequired && required()}\n              />\n              <FormDataConsumer>\n                {({ formData, ...restFormDataProps }) =>\n                  formData[fieldName] === STATIC_VALUE_ID && (\n                    <TextInput\n                      key={`${STATIC_VALUE_ID}${fieldName}`}\n                      className={classNames(classes.input, classes.spacingLeft)}\n                      source={`${TRANSITIONAL_STATIC_ENTRIES_KEY}.${fieldName}`}\n                      label={t('common.import.static-input-label', {\n                        fieldName,\n                      })}\n                      validate={required()}\n                      resettable\n                      {...restFormDataProps}\n                    />\n                  )\n                }\n              </FormDataConsumer>\n            </>\n          ))\n          .concat(\n            Array.isArray(additionalFields)\n              ? additionalFields\n              : [additionalFields],\n          )}\n      </SimpleForm>\n    </ImportBase>\n  )\n}\n","import React from 'react'\nimport { makeStyles, useMediaQuery, useTheme } from '@material-ui/core'\nimport {\n  CreateProps,\n  ReferenceInput,\n  required,\n  useTranslate,\n} from 'react-admin'\nimport { SelectField, STATIC_ENTRIES_KEY } from '../../core/csv'\nimport { Import } from '../common/import/Import'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { BlockType } from '../../core/enum/BlockType'\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    width: theme.spacing(40),\n  },\n}))\n\nexport const TicketImport = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const t = useTranslate()\n  const classes = useStyles()\n\n  const selectFields: SelectField[] = [\n    ['customerFirstName', true],\n    ['customerLastname', true],\n    ['customerPesel', true],\n    ['customerDocumentNumber', true],\n    ['ticketCode', true],\n    ['ticketType', true],\n    ['bookingType'],\n    ['disabled'],\n  ]\n\n  return (\n    <Import selectFields={selectFields} {...props}>\n      <ReferenceInput\n        className={classes.input}\n        label={t('common.import.mapping-input-label', { fieldName: 'blockId' })}\n        source={`${STATIC_ENTRIES_KEY}.blockId`}\n        reference={ResourceName.BLOCKS}\n        sort={{ field: 'name', order: 'ASC' }}\n        filter={{ type: BlockType.DYNAMIC }}\n        perPage={smallScreen ? 5 : 15}\n        validate={required()}\n      >\n        <SelectWithPaginationInput\n          optionText=\"name\"\n          paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n        />\n      </ReferenceInput>\n      <ReferenceInput\n        className={classes.input}\n        label={t('common.import.mapping-input-label', {\n          fieldName: 'variantId',\n        })}\n        source={`${STATIC_ENTRIES_KEY}.variantId`}\n        reference={ResourceName.VARIANTS}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={smallScreen ? 5 : 15}\n        validate={required()}\n      >\n        <SelectWithPaginationInput\n          optionText=\"name\"\n          paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n        />\n      </ReferenceInput>\n      <ReferenceInput\n        className={classes.input}\n        label={t('common.import.mapping-input-label', { fieldName: 'eventId' })}\n        source={`${STATIC_ENTRIES_KEY}.eventId`}\n        reference={ResourceName.EVENTS}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={smallScreen ? 5 : 15}\n        validate={required()}\n      >\n        <SelectWithPaginationInput\n          optionText=\"name\"\n          paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n        />\n      </ReferenceInput>\n    </Import>\n  )\n}\n","import PersonIcon from '@material-ui/icons/Person'\nimport ReceiptIcon from '@material-ui/icons/Receipt'\nimport ViewComfyIcon from '@material-ui/icons/ViewComfy'\nimport React from 'react'\nimport { Resource } from 'react-admin'\nimport { Authority } from '../core/auth/Authority'\nimport { ResourceName } from '../core/ResourceName'\nimport { BookingShow } from './bookings/BookingShow'\nimport { AccessCreate } from './configuration/accesses/AccessCreate'\nimport { AccessEdit } from './configuration/accesses/AccessEdit'\nimport { AccessList } from './configuration/accesses/AccessList'\nimport { AccessShow } from './configuration/accesses/AccessShow'\nimport { VariantCreate } from './configuration/variants/VariantCreate'\nimport { VariantEdit } from './configuration/variants/VariantEdit'\nimport { VariantList } from './configuration/variants/VariantList'\nimport { VariantShow } from './configuration/variants/VariantShow'\nimport { CustomersCreate } from './customers/CustomerCreate'\nimport { CustomerEdit } from './customers/CustomerEdit'\nimport { CustomerList } from './customers/CustomerList'\nimport { CustomerDetailsView } from './customers/CustomerShow'\nimport { DeviceCategoryCreate } from './device-categories/DeviceCategoryCreate'\nimport { DeviceCategoryEdit } from './device-categories/DeviceCategoryEdit'\nimport { DeviceCategoryList } from './device-categories/DeviceCategoryList'\nimport { DeviceCategoryShow } from './device-categories/DeviceCategoryShow'\nimport { DetectorCreate } from './devices/detectors/DetectorCreate'\nimport { DetectorEdit } from './devices/detectors/DetectorEdit'\nimport { DetectorList } from './devices/detectors/DetectorList'\nimport { DetectorShow } from './devices/detectors/DetectorShow'\nimport { EngineCreate } from './devices/engines/EngineCreate'\nimport { EngineEdit } from './devices/engines/EngineEdit'\nimport { EngineList } from './devices/engines/EngineList'\nimport { EngineShow } from './devices/engines/EngineShow'\nimport { PalmCreate } from './devices/palms/PalmCreate'\nimport { PalmEdit } from './devices/palms/PalmEdit'\nimport { PalmList } from './devices/palms/PalmList'\nimport { PalmShow } from './devices/palms/PalmShow'\nimport { PassageCreate } from './devices/passages/PassageCreate'\nimport { PassageEdit } from './devices/passages/PassageEdit'\nimport { PassagesList } from './devices/passages/PassageList'\nimport { PassageShow } from './devices/passages/PassageShow'\nimport { EntranceCreate } from './configuration/entrances/EntranceCreate'\nimport { EntranceEdit } from './configuration/entrances/EntranceEdit'\nimport { EntranceList } from './configuration/entrances/EntranceList'\nimport { EntranceShow } from './configuration/entrances/EntranceShow'\nimport { EventCreate } from './events/EventCreate'\nimport { EventEdit } from './events/EventEdit'\nimport { EventList } from './events/EventList'\nimport { EventShow } from './events/EventShow'\nimport { hasAuthorityWithGivenPermissions as hasAuthority } from './hooks/useHasAuthority'\nimport { LogList } from './logs/LogList'\nimport BlockCreate from './objects/Blocks/BlockCreate'\nimport BlocksList from './objects/Blocks/BlocksList'\nimport ObjectCreate from './objects/Objects/ObjectCreate'\nimport ObjectEdit from './objects/Objects/ObjectEdit'\nimport ObjectList from './objects/Objects/ObjectList'\nimport ObjectShow from './objects/Objects/ObjectShow'\nimport SeatCreate from './objects/Seats/SeatCreate'\nimport SeatsList from './objects/Seats/SeatsList'\nimport TribuneCreate from './objects/Tribunes/TribuneCreate'\nimport TribunesList from './objects/Tribunes/TribunesList'\nimport { OverallView } from './stats/overall-view/OverallView'\nimport { OverallViewList } from './stats/overall-view/OverallViewList'\nimport { TicketList } from './tickets/TicketList'\nimport { AccessDateCreate } from './configuration/access-dates/AccessDateCreate'\nimport { CompanyList } from './administration/companies/CompanyList'\nimport { CompanyShow } from './administration/companies/CompanyShow'\nimport { RoleList } from './administration/roles/RoleList'\nimport { RoleShow } from './administration/roles/RoleShow'\nimport { UserList } from './administration/users/UserList'\nimport { UserShow } from './administration/users/UserShow'\nimport { CompanyEdit } from './administration/companies/CompanyEdit'\nimport { CompanyCreate } from './administration/companies/CompanyCreate'\nimport { UserEdit } from './administration/users/UserEdit'\nimport { UserCreate } from './administration/users/UserCreate'\nimport { RoleEdit } from './administration/roles/RoleEdit'\nimport { TicketImport } from './tickets/TicketImport'\n\nexport const generateResourcesBasedOnPermissions = (\n  permissions: Set<string>,\n) => [\n  hasAuthority(Authority.VIEW_TICKETS, permissions) && (\n    <Resource\n      icon={ReceiptIcon}\n      name={ResourceName.TICKETS}\n      create={TicketImport}\n      list={TicketList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESS_USINGS, permissions) && (\n    <Resource name={ResourceName.ACCESS_USINGS} />\n  ),\n  hasAuthority(Authority.VIEW_CUSTOMERS, permissions) && (\n    <Resource\n      icon={PersonIcon}\n      name={ResourceName.CUSTOMERS}\n      show={CustomerDetailsView}\n      list={CustomerList}\n      edit={\n        hasAuthority(Authority.EDIT_CUSTOMERS, permissions)\n          ? CustomerEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_CUSTOMERS, permissions)\n          ? CustomersCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.LOGS} list={LogList} />\n  ),\n  hasAuthority(Authority.VIEW_EVENTS, permissions) && (\n    <Resource\n      name={ResourceName.EVENTS}\n      list={EventList}\n      show={EventShow}\n      edit={\n        hasAuthority(Authority.EDIT_EVENTS, permissions) ? EventEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_EVENTS, permissions)\n          ? EventCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW_LIST}\n      list={OverallViewList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW}\n      show={OverallView}\n    />\n  ),\n  hasAuthority(Authority.VIEW_PALMS, permissions) && (\n    <Resource\n      name={ResourceName.PALMS}\n      list={PalmList}\n      show={PalmShow}\n      edit={\n        hasAuthority(Authority.EDIT_PALMS, permissions) ? PalmEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_PALMS, permissions)\n          ? PalmCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESS_DATES, permissions) && (\n    <Resource\n      name={ResourceName.ACCESS_DATES}\n      create={\n        hasAuthority(Authority.CREATE_ACCESS_DATES, permissions)\n          ? AccessDateCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESSES, permissions) && (\n    <Resource\n      name={ResourceName.ACCESSES}\n      list={AccessList}\n      show={AccessShow}\n      edit={\n        hasAuthority(Authority.EDIT_ACCESSES, permissions)\n          ? AccessEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ACCESSES, permissions)\n          ? AccessCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_BOOKINGS, permissions) && (\n    <Resource name={ResourceName.BOOKINGS} show={BookingShow} />\n  ),\n  hasAuthority(Authority.VIEW_COMPANIES, permissions) && (\n    <Resource\n      name={ResourceName.COMPANIES}\n      list={CompanyList}\n      show={CompanyShow}\n      edit={\n        hasAuthority(Authority.EDIT_COMPANIES, permissions)\n          ? CompanyEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_COMPANIES, permissions)\n          ? CompanyCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ENGINES, permissions) && (\n    <Resource\n      name={ResourceName.ENGINES}\n      list={EngineList}\n      show={EngineShow}\n      edit={\n        hasAuthority(Authority.EDIT_ENGINES, permissions)\n          ? EngineEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ENGINES, permissions)\n          ? EngineCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ENTRANCES, permissions) && (\n    <Resource\n      name={ResourceName.ENTRANCES}\n      list={EntranceList}\n      show={EntranceShow}\n      edit={\n        hasAuthority(Authority.EDIT_ENTRANCES, permissions)\n          ? EntranceEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ENTRANCES, permissions)\n          ? EntranceCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.TICKET_LOGS} />\n  ),\n  hasAuthority(Authority.VIEW_VARIANTS, permissions) && (\n    <Resource\n      name={ResourceName.VARIANTS}\n      list={VariantList}\n      show={VariantShow}\n      edit={\n        hasAuthority(Authority.EDIT_VARIANTS, permissions)\n          ? VariantEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_VARIANTS, permissions)\n          ? VariantCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_USERS, permissions) && (\n    <Resource\n      name={ResourceName.USERS}\n      list={UserList}\n      show={UserShow}\n      edit={\n        hasAuthority(Authority.EDIT_USERS, permissions) ? UserEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_USERS, permissions)\n          ? UserCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_OBJECTS, permissions) && (\n    <Resource\n      name={ResourceName.OBJECTS}\n      list={ObjectList}\n      show={ObjectShow}\n      edit={\n        hasAuthority(Authority.EDIT_OBJECTS, permissions)\n          ? ObjectEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_OBJECTS, permissions)\n          ? ObjectCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_TRIBUNES, permissions) && (\n    <Resource\n      name={ResourceName.TRIBUNES}\n      list={TribunesList}\n      create={\n        hasAuthority(Authority.CREATE_TRIBUNES, permissions)\n          ? TribuneCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_BLOCKS, permissions) && (\n    <Resource\n      name={ResourceName.BLOCKS}\n      list={BlocksList}\n      create={\n        hasAuthority(Authority.CREATE_BLOCKS, permissions)\n          ? BlockCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_SEATS, permissions) && (\n    <Resource\n      name={ResourceName.SEATS}\n      list={SeatsList}\n      create={\n        hasAuthority(Authority.CREATE_SEATS, permissions)\n          ? SeatCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_DEVICE_CATEGORIES, permissions) && (\n    <Resource\n      name={ResourceName.DEVICE_CATEGORIES}\n      list={DeviceCategoryList}\n      show={DeviceCategoryShow}\n      edit={\n        hasAuthority(Authority.EDIT_DEVICE_CATEGORIES, permissions)\n          ? DeviceCategoryEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_DEVICE_CATEGORIES, permissions)\n          ? DeviceCategoryCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_PASSAGES, permissions) && (\n    <Resource\n      name={ResourceName.PASSAGES}\n      list={PassagesList}\n      show={PassageShow}\n      edit={\n        hasAuthority(Authority.EDIT_PASSAGES, permissions)\n          ? PassageEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_PASSAGES, permissions)\n          ? PassageCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_DETECTORS, permissions) && (\n    <Resource\n      name={ResourceName.DETECTORS}\n      list={DetectorList}\n      show={DetectorShow}\n      edit={\n        hasAuthority(Authority.EDIT_DETECTORS, permissions)\n          ? DetectorEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_DETECTORS, permissions)\n          ? DetectorCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ROLES, permissions) && (\n    <Resource\n      name={ResourceName.ROLES}\n      list={RoleList}\n      show={RoleShow}\n      edit={\n        hasAuthority(Authority.EDIT_ROLES, permissions) ? RoleEdit : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ROLES, permissions) && (\n    <Resource name={ResourceName.PERMISSIONS} />\n  ),\n]\n","import {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n  INACTIVE_COMPONENTS_KEY,\n} from './dashboard'\nimport { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst initialState: DashboardState['dashboard'] = {\n  inactiveComponents:\n    (localStorage\n      .getItem(INACTIVE_COMPONENTS_KEY)\n      ?.split(',') as DashboardItem[]) || [],\n}\n\nconst save = (state: DashboardState['dashboard']) => {\n  const { inactiveComponents } = state\n  if (inactiveComponents.length) {\n    localStorage.setItem(INACTIVE_COMPONENTS_KEY, inactiveComponents.join())\n  } else {\n    localStorage.removeItem(INACTIVE_COMPONENTS_KEY)\n  }\n  return state\n}\n\nexport const dashboardReducer = (\n  state = initialState,\n  { type, payload: dashboardItem }: DashboardAction,\n): DashboardState['dashboard'] => {\n  if (type === UPDATE_DASHBOARD) {\n    const { inactiveComponents } = state\n    if (inactiveComponents.includes(dashboardItem)) {\n      return save({\n        ...state,\n        inactiveComponents: inactiveComponents.filter(\n          (v) => v !== dashboardItem,\n        ),\n      })\n    }\n    return save({\n      ...state,\n      inactiveComponents: [...inactiveComponents, dashboardItem],\n    })\n  }\n  return state\n}\n","import React from 'react'\nimport { Admin } from './lib/@react-admin/ra-enterprise'\nimport themeReducer from './core/common/theme.reducer'\nimport { providersFactory } from './core/providers.factory'\nimport { AppLayout } from './main/layout/AppLayout'\nimport { Dashboard } from './main/Dashboard'\nimport routes from './main/common/routes'\nimport { generateResourcesBasedOnPermissions } from './main/Resources'\nimport { dashboardReducer } from './core/common/dashboard.reducer'\n\nconst App = () => {\n  const { authProvider, dataProvider, i18nProvider } = providersFactory(\n    process.env.NODE_ENV,\n  )\n  return (\n    <Admin\n      dashboard={Dashboard}\n      authProvider={authProvider}\n      dataProvider={dataProvider}\n      i18nProvider={i18nProvider}\n      customReducers={{\n        theme: themeReducer,\n        dashboard: dashboardReducer,\n      }}\n      customRoutes={routes}\n      layout={AppLayout}\n    >\n      {generateResourcesBasedOnPermissions}\n    </Admin>\n  )\n}\n\nexport default App\n","import {\n  AuthProvider,\n  DataProvider,\n  I18nProvider,\n  LegacyDataProvider,\n} from 'react-admin'\nimport fakeDataProvider from './fake/fake-data.provider'\nimport fakeAuthProvider from './fake/providers/fake-auth.provider'\nimport authProvider from './auth/auth.provider'\nimport dataProvider from './data.provider'\nimport i18nProvider from './i18n.provider'\nimport { withSynchronizedPermissions } from './auth/withSyncPermissions'\n\ninterface Providers {\n  readonly authProvider: AuthProvider\n  readonly dataProvider: DataProvider | LegacyDataProvider\n  readonly i18nProvider: I18nProvider\n}\n\nexport const providersFactory = (\n  env: 'development' | 'test' | 'production',\n): Providers => {\n  switch (env) {\n    case 'production':\n      return {\n        authProvider: withSynchronizedPermissions(authProvider),\n        dataProvider,\n        i18nProvider,\n      }\n    case 'development':\n      return {\n        authProvider,\n        dataProvider,\n        i18nProvider,\n      }\n    default:\n      return {\n        authProvider: fakeAuthProvider,\n        dataProvider: fakeDataProvider,\n        i18nProvider,\n      }\n  }\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import { initReactI18next } from 'react-i18next'\nimport i18n from 'i18next'\nimport plTranslation from './locales/pl/translation.json'\nimport enTranslation from './locales/en/translation.json'\n\nconst identity = localStorage.getItem('username')\nconst lng = identity && localStorage.getItem(`${identity}.lng`)\n\ni18n.use(initReactI18next).init({\n  lng: lng || 'pl',\n  fallbackLng: 'pl',\n  debug: false,\n  interpolation: {\n    escapeValue: false, // not needed for react as it escapes by default\n  },\n  resources: {\n    pl: { translation: plTranslation },\n    en: { translation: enTranslation },\n  },\n})\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport './i18n.init'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}
(this["webpackJsonpsport-data-webapp"]=this["webpackJsonpsport-data-webapp"]||[]).push([[0],{386:function(e,t,n){},514:function(e,t){},554:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),i=n(19),s=n.n(i),o=(n(386),n(335)),l=n.n(o),d=n(230),j=n.n(d),u=n(644),b=n(643),O=n(16),m=n(154),x=n(610),f=n(186),p=Object(O.a)(Object(O.a)({},m.a),{},{palette:{primary:x.a,secondary:f.a},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Arial","sans-serif"].join(","),body1:{fontWeight:300},body2:{fontWeight:300},h5:{fontWeight:200}}}),h=n(7),g=n(39);!function(e){e.ACCESS_USINGS="access-usings",e.BOOKINGS="bookings",e.LAST_LOGS="last-logs",e.LOGS="logs",e.TICKETS="tickets",e.TICKET_DETAILS="ticket-details",e.TICKET_INFO="ticket-info",e.TICKET_LOGS="ticket-logs",e.STATS_OVERALL_VIEW_LIST="stats_overall_view_list",e.STATS_OVERALL_VIEW="stats_overall_view"}(c||(c={}));var k,v,y,T=n(15),A=n.n(T),I=n(27),C={updateMany:function(){var e=Object(I.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({data:[1]}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),create:function(){var e=Object(I.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({data:{id:1}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},S={update:function(){var e=Object(I.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({data:{id:1}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},N=[{id:1,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:52815,deviceName:"Device name",text:"MF",color:null,event:null},{id:2,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:52816,deviceName:"Device name",text:"MF",color:null,event:null},{id:3,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:1111,deviceName:"Device name",text:"MF",color:null,event:null},{id:4,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:11112,deviceName:"Device name",text:"MF",color:null,event:null},{id:5,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:16612,deviceName:"Device name",text:"MF",color:null,event:null},{id:6,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:167782,deviceName:"Device name",text:"MF",color:null,event:null},{id:7,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:122782,deviceName:"Device name",text:"MF",color:null,event:null},{id:8,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:189782,deviceName:"Device name",text:"MF",color:null,event:null},{id:9,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:183332,deviceName:"Device name",text:"MF",color:null,event:null},{id:10,date:"2021-07-15T08:50:27.2054",ticketCode:"A",bookingId:656565,deviceName:"Device name",text:"MF",color:null,event:null}],w={getList:function(e,t){return Promise.resolve({data:N,total:N.length})}},E=[{id:1,name:"",dateStart:"2021-07-13T15:11:06.771267",dateEnd:"2021-07-13T15:11:06.771267"},{id:2,name:"",dateStart:"2021-07-13T15:11:06.771267",dateEnd:"2021-07-13T15:11:06.771267"},{id:3,name:"",dateStart:"2021-07-13T15:11:06.771267",dateEnd:"2021-07-13T15:11:06.771267"},{id:4,name:"",dateStart:"2021-07-13T15:11:06.771267",dateEnd:"2021-07-13T15:11:06.771267"},{id:5,name:"",dateStart:"2021-07-13T15:11:06.771267",dateEnd:"2021-07-13T15:11:06.771267"}],D={getList:function(e,t){return Promise.resolve({data:E,total:E.length})}},L=[{id:1,eventName:"",capacity:0,sold:0,entered:0,objects:[]},{id:2,eventName:"",capacity:0,sold:0,entered:0,objects:[]},{id:3,eventName:"",capacity:0,sold:0,entered:0,objects:[]},{id:4,eventName:"",capacity:0,sold:0,entered:0,objects:[]},{id:5,eventName:"",capacity:0,sold:0,entered:0,objects:[]}],P={getOne:function(e,t){var n=t.id,c=L.find((function(e){return"".concat(e.id)===n}));return c?Promise.resolve({data:c}):Promise.reject(new Error)}};!function(e){e.K="K",e.M="M",e.Z="Z",e.N="N",e.P="P",e.U="U",e.R="R"}(k||(k={})),function(e){e.NORMAL="NORMAL",e.ABO="ABO",e.INFIX="INFIX",e.SERVICE="SERVICE",e.POINTS="POINTS"}(v||(v={})),function(e){e.ADMIN="ADMIN",e.BAN="BAN",e.STORNO="STORNO",e.MISTAKE="MISTAKE"}(y||(y={}));var B,F,K=[{id:1,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:y.STORNO},{id:2,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:y.STORNO},{id:3,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:4,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:5,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:6,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:7,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:8,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:9,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null},{id:10,firstname:"Andrzej",lastname:"Nawrot",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",pesel:"72052000192",variantName:"Normalny E1x",accessesIds:[10],bookingType:v.NORMAL,activeFrom:null,activeTo:null,tickets:[{id:56424,ticketCode:"060000020917",ticketType:k.K,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"},{id:56425,ticketCode:"DDEAF42C",ticketType:k.M,accessUsings:[],createdAt:"2021-07-15T08:50:27.2054"}],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054",bookingDisabled:null}],M={getOne:function(e,t){var n=t.id,c=K.find((function(e){return"".concat(e.id)===n}));return c?Promise.resolve({data:c}):Promise.reject(new Error)}},z=[{id:1,firstname:"Marek",lastname:"Pies",pesel:"47120554776",eventName:"Podbeskidzie Bielsko-Bia\u0142a Sparing",ticketCode:"1234567890",ticketType:k.K},{id:2,firstname:"Janek",lastname:"Kru\u017cganek",pesel:"47120554776",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:3,firstname:"Wac\u0142aw",lastname:"Rymski",pesel:"9988711225",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:4,firstname:"Mirka",lastname:"Korze\u0144",pesel:"56483978659",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:5,firstname:"Tis",lastname:"Lomasz",pesel:"47120554776",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:6,firstname:"Bogdana",lastname:"Jaruzelska",pesel:"47120554776",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:7,firstname:"Jeremi",lastname:"Pomidor",pesel:"12345678900",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:8,firstname:"Roman",lastname:"Zoman",pesel:"13243567890",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:9,firstname:"Bacha",lastname:"Kaszalot",pesel:"98097612678",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K},{id:10,firstname:"Jadwiga",lastname:"Og\xf3rek",pesel:"47120554776",eventName:"POGO\u0143 SZCZECIN 20/21",ticketCode:"1234567890",ticketType:k.K}],U={getList:function(e,t){return Promise.resolve({data:z,total:z.length})}},_=[{id:1,ticketCode:"A",ticketType:k.K,active:!0,bookingId:52815,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:2,ticketCode:"A",ticketType:k.K,active:!0,bookingId:52816,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:3,ticketCode:"010000011492",ticketType:k.K,active:!0,bookingId:52817,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:4,ticketCode:"411000006572",ticketType:k.K,active:!0,bookingId:52818,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:5,ticketCode:"871000006824",ticketType:k.K,active:!0,bookingId:52819,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:6,ticketCode:"370000011495",ticketType:k.K,active:!0,bookingId:52820,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:7,ticketCode:"450000011501",ticketType:k.K,active:!0,bookingId:52821,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:8,ticketCode:"630000011502",ticketType:k.K,active:!0,bookingId:52822,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:9,ticketCode:"020000011503",ticketType:k.K,active:!0,bookingId:52823,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"},{id:10,ticketCode:"310000011504",ticketType:k.K,active:!0,bookingId:52824,accessUsingsIds:[],createdAt:"2021-07-15T08:50:27.2054",modifiedAt:"2021-07-15T08:50:27.2054"}],R={getList:function(e,t){return Promise.resolve({data:_,total:_.length})}},W=(B={},Object(h.a)(B,c.ACCESS_USINGS,C),Object(h.a)(B,c.BOOKINGS,S),Object(h.a)(B,c.LOGS,w),Object(h.a)(B,c.LAST_LOGS,w),Object(h.a)(B,c.TICKETS,R),Object(h.a)(B,c.TICKET_INFO,U),Object(h.a)(B,c.TICKET_DETAILS,M),Object(h.a)(B,c.TICKET_LOGS,w),Object(h.a)(B,c.STATS_OVERALL_VIEW,P),Object(h.a)(B,c.STATS_OVERALL_VIEW_LIST,D),B),G=function(e,t,n){return W[t][Object(g.n)(e)](t,n)},V={login:function(){return Promise.resolve()},logout:function(){return Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return Promise.resolve()},getPermissions:function(){return Promise.resolve()},getIdentity:function(){return Promise.resolve({id:"no-auth",fullName:"no-auth"})}},Z=n(242),J=function(e){if(!e)return{total:0};var t=e.split(" ")[1].split("-"),n=t[0],c=t[1].split("/"),a=c[0],r=c[1];return{rangeFrom:parseInt(n,10),rangeTo:parseInt(a,10),total:parseInt(r,10)}},q={"Content-Type":"application/json"},H=function(){return Object(O.a)(Object(O.a)({},q),{},{Authorization:"Bearer ".concat(localStorage.getItem("token"))})},X=function(e,t,n){return Z.a.fetchJson(e,{method:"POST",body:JSON.stringify(t),headers:new Headers(n)}).then((function(e){return e.json}))},Q=function(e,t){return Z.a.fetchJson("".concat(e).concat(t),{method:"GET",headers:new Headers(H())}).then((function(e){return e.json}))},Y=function(e,t){return Z.a.fetchJson("".concat(e).concat(t),{method:"GET",headers:new Headers(H())}).then((function(e){var t=e.json,n=e.headers;return Promise.resolve({data:t,range:J(n.get("content-range"))})}))},$=function(e,t){return Q(e,"/GetByConditions/".concat(t))},ee=function(e,t){return Z.a.fetchJson(e,{method:"PATCH",body:JSON.stringify(t),headers:new Headers(H())}).then((function(e){return e.json}))},te="".concat("https://ticketapi.sportdata.pl","/api/v1"),ne="".concat(te,"/ticketManagement/AccessUsings"),ce="".concat(te,"/Authorization/Authenticate"),ae="".concat(te,"/ticketManagement/Bookings"),re="".concat(te,"/ticketManagement/Customers"),ie="".concat(te,"/ticketManagement/Events"),se="".concat(te,"/ticketManagement/Logs/GetExtendedLogByConditions"),oe="".concat(te,"/ticketManagement/Tickets"),le="".concat(te,"/ticketManagement/Variants"),de="".concat(te,"/ticketManagement/Seats"),je="".concat(te,"/ticketManagement/Blocks"),ue="".concat(te,"/ticketManagement/Tribunes"),be="".concat(te,"/ticketManagement/Objects"),Oe={login:function(e){var t,n,c=e.username,a=e.password;return(t=ce,n={login:c,password:a},X(t,n,q)).then((function(e){var t=e.token;localStorage.setItem("username",c),localStorage.setItem("token",t)}))},logout:function(){return localStorage.removeItem("username"),localStorage.removeItem("token"),Promise.resolve()},checkError:function(e){var t=e.status;return 401===t||403===t?(localStorage.removeItem("username"),localStorage.removeItem("token"),Promise.reject()):Promise.resolve()},checkAuth:function(){return localStorage.getItem("token")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.resolve()},getIdentity:function(){return Promise.resolve({id:"user",fullName:localStorage.getItem("username")})}};!function(e){e.IN="IN",e.OUT="OUT",e.INFO="INFO"}(F||(F={}));var me,xe={updateMany:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.ids,a=c.map((function(e){return{id:e,active:!1}})).map((function(e){return ee(ne,e)})),e.next=4,Promise.all(a);case 4:return r=e.sent,e.abrupt("return",Promise.resolve({data:r.map((function(e){return e.id}))}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),create:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.data,a=c.ticketIds,r=c.accessIds,i=r.flatMap((function(e){return a.map((function(t){return{date:(new Date).toISOString(),direction:F.IN,active:!0,accessId:e,ticketId:t,verifierDeviceId:null}}))})),e.next=5,X(ne,i,H());case 5:return e.abrupt("return",Promise.resolve({data:{id:0}}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},fe={update:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.data,e.next=3,ee(ae,c);case 3:return a=e.sent,e.abrupt("return",Promise.resolve({data:a}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},pe=n(13),he={ticketCode:function(e,t){return"".concat(e,'.TicketCode.Contains("').concat(t,'")')},bookingId:function(e,t){return"".concat(e,'.BookingId.ToString().Contains("').concat(t,'")')},date:function(e,t){return"".concat(e,".Date > DateTimeOffset.FromUnixTimeMilliseconds(").concat(t.toString().split(";")[0],").DateTime && l.Date < DateTimeOffset.FromUnixTimeMilliseconds(").concat(t.toString().split(";")[1],").DateTime")},deviceName:function(e,t){return"".concat(e,'.Device.Name.Contains("').concat(t,'")')},text:function(e,t){return"".concat(e,'.Data.Text.Contains("').concat(t,'")')},event:function(e,t){return"".concat(e,'.Booking.Event.Name.Contains("').concat(t,'")')}},ge={id:"l=>l.Id",date:"l=>l.Date",deviceName:"l=>l.Device.Name",ticketCode:"l=>l.TicketCode",bookingId:"l=>l.BookingId"},ke=function(e){return Object.keys(e).length?Object.entries(e).map((function(e){var t=Object(pe.a)(e,2),n=t[0],c=t[1];return function(e){return he[e]}(n)("l",c)})).reduce((function(e,t){return"".concat(e,"&&").concat(t)})):"true"},ve={getList:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r,i,s,o,l,d,j,u,b,O,m,x,f;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.filter,a=n.sort,r=a.field,i=a.order,s=n.pagination,o=s.page,l=s.perPage,d="l=>".concat(ke(c).toString()),(j=[]).push("sortBy=".concat(ge[r])),j.push("sortOrder=".concat(i)),j.push("rangeFrom=".concat(o*l-l)),j.push("rangeTo=".concat(o*l)),u=j.reduce((function(e,t){return"".concat(e,"&").concat(t)})),b="/".concat(d,"?").concat(u),e.next=11,Y(se,b);case 11:return O=e.sent,m=O.data,x=O.range.total,f=m.map((function(e){var t=e.id,n=e.date,c=e.device.name,a=e.ticketCode,r=Object(pe.a)(e.data,1)[0];return{id:t,date:n,deviceName:c,ticketCode:a,text:r.text,color:r.color,bookingId:e.bookingId}})),e.abrupt("return",Promise.resolve({data:f,total:x}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ye=function(e){return{id:e.id,name:e.name,dateStart:e.dateStart,dateEnd:e.dateEnd}},Te={getList:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.filter,e.next=3,$(ie,c.name?'e=>e.Name.Contains("'.concat(c.name,'")'):"l=>true");case 3:return a=e.sent,r=a.map((function(e){return ye(e)})),e.abrupt("return",{data:r,total:r.length});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ae=function(e,t){return e.length+t.filter((function(e){return null==e.seatId})).length},Ie=function(e,t,n,c,a){return{id:e.id,name:e.name,capacity:Ae(n,c),sold:c.length,entered:a.length,blocks:t.filter((function(t){return e.blocksIds.includes(t.id)})).map((function(e){var t=n.filter((function(t){return t.blockId===e.id})),r=e.bookingsIds.concat(t.flatMap((function(e){return e.bookingsIds}))),i=c.filter((function(e){return r.includes(e.id)})),s=a.filter((function(e){return r.includes(e)})),o=c.filter((function(e){return s.includes(e.id)}));return function(e,t,n,c){return{id:e.id,name:e.name,capacity:Ae(t,n),sold:n.length,entered:c.length,soldNormal:n.filter((function(e){return e.type===v.NORMAL})).length,enteredNormal:c.filter((function(e){return e.type===v.NORMAL})).length,soldAbo:n.filter((function(e){return e.type===v.ABO})).length,enteredAbo:c.filter((function(e){return e.type===v.ABO})).length,soldInfix:n.filter((function(e){return e.type===v.INFIX})).length,enteredInfix:c.filter((function(e){return e.type===v.INFIX})).length,soldService:n.filter((function(e){return e.type===v.SERVICE})).length,enteredService:c.filter((function(e){return e.type===v.SERVICE})).length,soldPoints:n.filter((function(e){return e.type===v.POINTS})).length,enteredPoints:c.filter((function(e){return e.type===v.POINTS})).length}}(e,t,i,o)}))}},Ce=function(e,t,n,c,a,r,i){return{id:e.id,eventName:e.name,capacity:Ae(a,r),sold:r.length,entered:i.length,objects:t.filter((function(t){return e.objectsIds.includes(t.id)})).map((function(e){var t=n.filter((function(t){return t.objectId===e.id})),s=c.filter((function(e){return t.flatMap((function(e){return e.blocksIds})).includes(e.id)})),o=s.flatMap((function(e){return e.seatsIds})),l=a.filter((function(e){return o.includes(e.id)})),d=s.flatMap((function(e){return e.bookingsIds})).concat(l.flatMap((function(e){return e.bookingsIds}))),j=r.filter((function(e){return d.includes(e.id)})),u=i.filter((function(e){return d.includes(e)}));return function(e,t,n,c,a,r){return{id:e.id,name:e.name,capacity:Ae(c,a),sold:a.length,entered:r.length,tribunes:t.filter((function(t){return e.tribunesIds.includes(t.id)})).map((function(e){var t=n.filter((function(t){return t.tribuneId===e.id})),i=t.flatMap((function(e){return e.seatsIds})),s=c.filter((function(e){return i.includes(e.id)})),o=t.flatMap((function(e){return e.bookingsIds})).concat(s.flatMap((function(e){return e.bookingsIds}))),l=a.filter((function(e){return o.includes(e.id)})),d=r.filter((function(e){return o.includes(e)}));return Ie(e,t,s,l,d)}))}}(e,t,s,l,j,u)}))}},Se={getOne:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r,i,s,o,l,d,j,u,b,O,m,x,f,p,h,g,k;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.id,a=Q(ie,"/".concat(c)),r=$(be,"o=>o.Events.Any(e => e.Id.Equals(".concat(c,"))")),i=$(ue,"t=>t.Object.Events.Any(e => e.Id.Equals(".concat(c,"))")),s=$(je,"b=>b.Tribune.Object.Events.Any(e => e.Id.Equals(".concat(c,"))")),o=$(de,"s=>s.Block.Tribune.Object.Events.Any(e => e.Id.Equals(".concat(c,"))")),l="b=>b.EventId.Equals(".concat(c,") && b.Disabled != TicketAPI.Models.Enums.TicketManagement.BookingDisabledOptions.STORNO"),d=$(ae,l),j=$(ae,"".concat(l," && b.Tickets.SelectMany(t => t.AccessUsings).Any(au => au.Active == true && au.Direction.Equals(TicketAPI.Models.Enums.DeviceManagement.DeviceDirections.IN))")),e.t0=Promise,e.t1=a,e.t2=r,e.t3=i,e.t4=s,e.t5=o,e.t6=d,e.t7=Promise,e.next=19,Promise.resolve(j);case 19:return e.t8=e.sent.map((function(e){return e.id})),e.t9=e.t7.all.call(e.t7,e.t8),e.t10=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t9],e.next=24,e.t0.all.call(e.t0,e.t10);case 24:return u=e.sent,b=Object(pe.a)(u,7),O=b[0],m=b[1],x=b[2],f=b[3],p=b[4],h=b[5],g=b[6],k=Promise.resolve(Ce(O,m,x,f,p,h,g)),e.next=36,k;case 36:return e.t11=e.sent,e.abrupt("return",{data:e.t11});case 38:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ne=n(298),we=function(e){var t=Object(Ne.a)(e),n=t[0];return(t.slice(1)||[]).reduce((function(e,t){return"".concat(e,"||v.Id==").concat(t)}),"v=>v.Id==".concat(n))},Ee=function(e){return new Map(e.map((function(e){return[e.id,e]})))},De=function(e){return Array.from(new Set(e))},Le=function(e,t,n,c,a,r){var i=e.id,s=e.disabled,o=e.type,l=e.activeFrom,d=e.activeTo,j=e.createdAt,u=e.modifiedAt,b=t.firstname,O=t.lastname,m=t.pesel,x=n.name,f=c.name,p=c.accessesIds,h=Ee(r);return{id:i,firstname:b,lastname:O,eventName:x,pesel:m,variantName:f,accessesIds:p,bookingType:o,activeFrom:l,activeTo:d,tickets:a.map((function(e){return function(e,t){return{id:e.id,ticketCode:e.ticketCode,ticketType:e.ticketType,createdAt:e.createdAt,accessUsings:e.accessUsingsIds.map((function(e){return t.get(e)}))}}(e,h)})),createdAt:j,modifiedAt:u,bookingDisabled:s}},Pe=function(){var e=Object(I.a)(A.a.mark((function e(t){var n,c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(oe,we(t));case 2:if(n=e.sent,!(c=n.flatMap((function(e){return e.accessUsingsIds}))).length){e.next=10;break}return e.next=7,$(ne,we(De(c)));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=[];case 11:return a=e.t0,e.abrupt("return",{tickets:n,accessUsings:a});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be={getOne:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r,i,s,o,l,d,j,u,b,O,m,x,f,p,h;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.id,e.next=3,Q(ae,"/".concat(c));case 3:return a=e.sent,r=a.customerId,i=a.eventId,s=a.variantId,o=Q(re,"/".concat(r)),l=Q(ie,"/".concat(i)),d=Q(le,"/".concat(s)),j=Pe(a.ticketsIds),e.next=11,Promise.all([o,l,d,j]);case 11:return u=e.sent,b=Object(pe.a)(u,4),O=b[0],m=b[1],x=b[2],f=b[3],p=f.tickets,h=f.accessUsings,e.abrupt("return",{data:Le(a,O,m,x,p,h)});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Fe=function(e,t,n,c){var a=Ee(e),r=Ee(t),i=Ee(n);return c.map((function(e){var t=a.get(e.bookingId),n=t.customerId,c=t.eventId;return function(e,t,n){var c=e.firstname,a=e.lastname,r=e.pesel,i=t.name;return{id:n.bookingId,firstname:c,lastname:a,pesel:r,eventName:i,ticketCode:n.ticketCode,ticketType:n.ticketType}}(r.get(n),i.get(c),e)}))},Ke=function(e,t){var n=De(t);return $(e,we(n))},Me={getList:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r,i,s,o,l,d,j,u,b,O,m,x;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.filter,a='t=>t.TicketCode=="'.concat(c.ticketCode,'"'),e.next=4,$(oe,a);case 4:return r=e.sent,i=r.map((function(e){return e.bookingId})),e.next=8,Ke(ae,i);case 8:return s=e.sent,o=s.map((function(e){return e.customerId})),l=s.map((function(e){return e.eventId})),d=Ke(re,o),j=Ke(ie,l),e.next=15,Promise.all([d,j]);case 15:return u=e.sent,b=Object(pe.a)(u,2),O=b[0],m=b[1],x=Fe(s,O,m,r),e.abrupt("return",Promise.resolve({data:x,total:x.length}));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ze={getList:function(){var e=Object(I.a)(A.a.mark((function e(t,n){var c,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.filter,a='t=>t.TicketCode=="'.concat(c.ticketCode,'"'),e.next=4,$(oe,a);case 4:return r=e.sent,e.abrupt("return",Promise.resolve({data:r,total:r.length}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ue=(me={},Object(h.a)(me,c.ACCESS_USINGS,xe),Object(h.a)(me,c.BOOKINGS,fe),Object(h.a)(me,c.LOGS,ve),Object(h.a)(me,c.LAST_LOGS,ve),Object(h.a)(me,c.TICKETS,ze),Object(h.a)(me,c.TICKET_INFO,Me),Object(h.a)(me,c.TICKET_DETAILS,Be),Object(h.a)(me,c.TICKET_LOGS,ve),Object(h.a)(me,c.STATS_OVERALL_VIEW,Se),Object(h.a)(me,c.STATS_OVERALL_VIEW_LIST,Te),me),_e=function(e,t,n){return Ue[t][Object(g.n)(e)](t,n)},Re=n(189),We=n(653),Ge=n(619),Ve=n(631),Ze=n(633),Je=n(632),qe=n(318),He=n(299),Xe=n(163),Qe=n(153),Ye=n(20),$e=n(6),et=n(647),tt=n(342),nt=n(343),ct=n(556),at=n(557),rt=n(300),it=n.n(rt),st=n(2),ot=Object($e.a)({root:{borderRadius:16,width:"90%",marginLeft:"5%",display:"flex",flexDirection:"row-reverse",border:"solid",borderColor:"#673ab7"}})(et.a),lt=Object($e.a)({root:{background:"#673ab7",variant:"contained",borderRadius:11,borderTopLeftRadius:0,borderBottomLeftRadius:0,margin:0,fontWeight:"bold","&:hover":{background:"#7e57c2"}}})(tt.a),dt=Object($e.a)({root:{width:"100%",marginLeft:13,marginTop:2}})(nt.a),jt=function(e){var t=e.label,n=e.onValue,c=e.disabled,r=e.error,i=e.boxStyle,s=Object(a.useState)(!1),o=Object(pe.a)(s,2),l=o[0],d=o[1],j=Object(a.useState)(""),u=Object(pe.a)(j,2),b=u[0],O=u[1],m=function(){b?(d(!1),n(b)):d(!0)};return Object(st.jsxs)(ot,{style:i,children:[Object(st.jsx)(lt,{onClick:m,disabled:c,children:Object(st.jsx)(it.a,{style:{color:"white"}})}),Object(st.jsxs)(dt,{disabled:c,children:[Object(st.jsx)(ct.a,{disableUnderline:!0,onInput:function(e){O(e.target.value)},placeholder:t,onKeyDown:function(e){return"Enter"===e.key&&m()},error:l||!!r}),l&&Object(st.jsx)(at.a,{error:!0,children:"Pole jest wymagane"}),!!r&&Object(st.jsx)(at.a,{error:!0,children:r})]})]})},ut=function(){var e=Object(Ye.g)(),t=Object(Xe.a)(),n=Object(a.useState)(""),r=Object(pe.a)(n,2),i=r[0],s=r[1],o=Object(Qe.a)(),l=Object(pe.a)(o,2),d=l[0],j=l[1].loading,u=Object(a.useCallback)((function(e){return d({type:Object(g.n)(g.d),resource:c.TICKETS,payload:{filter:{ticketCode:e}}},{returnPromise:!0})}),[d]),b=Object(a.useCallback)(function(){var n=Object(I.a)(A.a.mark((function n(a){var r,i,o,l;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(""),n.prev=1,n.next=4,u(a);case 4:r=n.sent,i=r.total,o=Object(pe.a)(r.data,1),l=o[0],i?1===i?e.push({pathname:"/".concat(c.TICKET_DETAILS,"/").concat(l.bookingId,"/show")}):e.push({pathname:"/".concat(c.TICKET_INFO),search:Object(He.stringify)({filter:JSON.stringify({ticketCode:a})})}):s("Nie ma biletu o takim kodzie"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),t(null===n.t0||void 0===n.t0?void 0:n.t0.message,"error");case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}(),[u,e,t]);return Object(st.jsx)(jt,{label:"Kod biletu",onValue:b,disabled:j,error:i,boxStyle:void 0})},bt=n(614),Ot=n(615),mt=n(344),xt=n(618),ft=n(620),pt=n(560),ht=n(621),gt=n(622),kt=n(623),vt=n(616),yt=n(617),Tt=n(559),At=n(645),It=n(170),Ct=n.n(It),St=n(169),Nt=n.n(St),wt=function(e){return(299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16))/1e3>=128?"black":"white"},Et=function(e){var t=e.data,n=Object(a.useState)(!1),r=Object(pe.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),l=Object(pe.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(""),b=Object(pe.a)(u,2),O=b[0],m=b[1],x=Object(Ye.g)();return Object(a.useEffect)((function(){null===t.color?(j("#f0f0f0"),m("black")):(j(t.color),m(wt(t.color))),s(!1)}),[t]),Object(st.jsxs)(st.Fragment,{children:[Object(st.jsxs)(bt.a,{style:{backgroundColor:d},children:[Object(st.jsx)(Ot.a,{children:Object(st.jsx)(mt.a,{onClick:function(){return s(!i)},size:"small",children:i?Object(st.jsx)(Nt.a,{style:{color:O}}):Object(st.jsx)(Ct.a,{style:{color:O}})})}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:Object(st.jsx)(vt.a,{label:"Data",record:t,source:"date",showTime:!0,style:{color:O,fontWeight:"white"===O?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:Object(st.jsx)(yt.a,{label:"Urz\u0105dzenie",record:t,source:"deviceName",style:{color:O,fontWeight:"white"===O?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:Object(st.jsx)(yt.a,{label:"Bilet",record:t,source:"ticketCode",style:{color:O,fontWeight:"white"===O?"bold":"normal",wordBreak:"break-all"}})})]}),Object(st.jsx)(bt.a,{children:Object(st.jsx)(Ot.a,{style:{paddingBottom:0,paddingTop:0},colSpan:4,children:Object(st.jsx)(xt.a,{in:i,children:Object(st.jsxs)(Ge.a,{container:!0,style:{marginTop:"3%"},children:[Object(st.jsx)(Ge.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(st.jsx)("div",{style:{marginLeft:"1%"},children:"Rezerwacja: "})}),Object(st.jsx)(Ge.a,{item:!0,xs:8,style:{display:"flex",justifyContent:"flex-end"},children:null==t.bookingId?Object(st.jsx)("div",{}):Object(st.jsx)(tt.a,{variant:"contained",style:{width:"50%",backgroundColor:"rgb(220, 220, 220)"},onClick:function(){return x.push({pathname:"/".concat(c.TICKET_DETAILS,"/").concat(t.bookingId,"/show")})},children:t.bookingId})}),Object(st.jsx)("hr",{style:{width:"90%",marginTop:"3%",marginBottom:"3%"}}),Object(st.jsx)(Ge.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"3%"},children:Object(st.jsx)("div",{style:{marginLeft:"1%"},children:"Opis: "})}),Object(st.jsx)(Ge.a,{item:!0,xs:8,style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginBottom:"3%"},children:t.text})]})})})})]})},Dt=function(){var e=Object(Tt.a)(),t=e.ids,n=e.data;return Object(st.jsx)(ft.a,{component:pt.a,children:Object(st.jsxs)(ht.a,{"aria-label":"a dense table",size:"small",padding:"none",children:[Object(st.jsx)(gt.a,{children:Object(st.jsxs)(bt.a,{children:[Object(st.jsx)(Ot.a,{style:{width:"5%"}}),Object(st.jsx)(Ot.a,{style:{width:"20%",textAlign:"center"},children:"Data"}),Object(st.jsx)(Ot.a,{style:{width:"30%",textAlign:"center"},children:"Urz\u0105dzenie"}),Object(st.jsx)(Ot.a,{style:{width:"45%",textAlign:"center"},children:"Bilet"})]})}),Object(st.jsx)(kt.a,{children:t.map((function(e){return Object(st.jsx)(Et,{data:n[e]},e)}))})]})})};function Lt(e){return Object(st.jsx)(st.Fragment,{children:Object(st.jsx)(At.a,Object(O.a)(Object(O.a)({},e),{},{perPage:9,exporter:!1,pagination:!1,actions:!1,sort:{field:"date",order:"DESC"},children:Object(st.jsx)(Dt,{})}))})}var Pt=Object(Re.a)((function(e){return Object(We.a)({header:{textAlign:"center",letterSpacing:e.spacing(.2)},subHead:{textAlign:"center"}})})),Bt=function(){var e=Pt();return Object(st.jsxs)(Ge.a,{container:!0,spacing:1,children:[Object(st.jsx)(Ge.a,{item:!0,xs:12,children:Object(st.jsx)(Ve.a,{children:Object(st.jsx)(Ze.a,{className:e.header,title:"Witaj w aplikacji administracyjnej Sport Data",titleTypographyProps:{variant:"h4"}})})}),Object(st.jsx)(Ge.a,{item:!0,sm:6,xs:12,children:Object(st.jsxs)(Ve.a,{children:[Object(st.jsx)(Ze.a,{title:"Znajd\u017a u\u017cytkownika po kodzie biletu"}),Object(st.jsx)(Je.a,{children:Object(st.jsx)(ut,{})})]})}),Object(st.jsx)(Ge.a,{item:!0,sm:6,xs:12,children:Object(st.jsxs)(Ve.a,{children:[Object(st.jsx)(Ze.a,{title:"Ostatnie logi"}),Object(st.jsx)(Je.a,{children:Object(st.jsx)(qe.a,{value:c.LAST_LOGS,children:Object(st.jsx)(Lt,{basePath:"/",title:" "})})})]})})]})},Ft=n(30),Kt=n(562),Mt=n(636),zt=n(637),Ut=n(638),_t=n(651),Rt=n(337),Wt=n(227),Gt=n.n(Wt),Vt=n(226),Zt=n.n(Vt),Jt=n(561),qt=n(567),Ht=n(652),Xt=n(634),Qt=n(111),Yt=n.n(Qt),$t=n(110),en=n.n($t),tn=function(){var e=Object(Tt.a)(),t=e.page,n=e.perPage,c=e.total,a=e.setPage,r=e.setPerPage,i=Math.ceil(c/n)||1;return i>1?Object(st.jsx)(Jt.a,{children:Object(st.jsxs)(Ge.a,{container:!0,children:[Object(st.jsx)(Ge.a,{item:!0,xs:3,children:Object(st.jsx)(pt.a,{elevation:0,style:{height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Object(st.jsxs)(qt.a,{value:n,style:{width:"100%",height:"70%",textAlign:"center"},variant:"outlined",onChange:function(e){return r(parseInt(e.target.value,10))},children:[Object(st.jsx)(Ht.a,{value:20,children:" 20 "}),Object(st.jsx)(Ht.a,{value:50,children:" 50 "}),Object(st.jsx)(Ht.a,{value:100,children:" 100 "})]})})}),Object(st.jsx)(Ge.a,{item:!0,xs:4}),Object(st.jsx)(Ge.a,{item:!0,xs:5,children:Object(st.jsx)(pt.a,{elevation:0,style:{height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Object(st.jsxs)(Xt.a,{style:{height:"70%"},children:[t>1?Object(st.jsx)(tt.a,{variant:"outlined",color:"primary",onClick:function(){return a(t-1)},children:Object(st.jsx)(Yt.a,{})},"prev"):Object(st.jsx)(tt.a,{variant:"outlined",color:"primary",disabled:!0,children:Object(st.jsx)(Yt.a,{})}),Object(st.jsxs)(tt.a,{disabled:!0,variant:"contained",children:[" ",t," "]}),t!==i?Object(st.jsx)(tt.a,{variant:"outlined",color:"primary",onClick:function(){return a(t+1)},children:Object(st.jsx)(en.a,{})},"next"):Object(st.jsx)(tt.a,{variant:"outlined",color:"primary",disabled:!0,children:Object(st.jsx)(en.a,{})})]})})})]})}):Object(st.jsx)("div",{})},nn=n(635),cn=n(61),an=n(319),rn=n.n(an),sn=function(e){var t=e.source,n=new Date(Date.now()-26784e5),c=new Date(Date.now()),r=a.useState(n.getTime().toString()),i=Object(pe.a)(r,2),s=i[0],o=i[1],l=a.useState(c.getTime().toString()),d=Object(pe.a)(l,2),j=d[0],u=d[1],b=Object(cn.d)(t),O=b.input.onChange,m=b.meta,x=m.touched,f=m.error;O([s,j].join(";"));var p=function(e){return e.toJSON().substr(0,10)};return Object(st.jsxs)("span",{style:{display:"flex",justifyContent:"center",verticalAlign:"center",marginBottom:"5%"},children:[Object(st.jsx)(nn.a,{defaultValue:p(n),name:t,type:"date",onChange:function(e){return o(Date.parse(e.target.value).toString())},error:!(!x||!f),helperText:x&&f,style:{alignSelf:"center"}}),Object(st.jsx)(rn.a,{style:{marginTop:"4%"}}),Object(st.jsx)(nn.a,{defaultValue:p(c),name:t,type:"date",onChange:function(e){return u(Date.parse(e.target.value).toString())},error:!(!x||!f),helperText:x&&f})]},"date")},on=function(e){var t=e.data,n=Object(a.useState)(""),r=Object(pe.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),l=Object(pe.a)(o,2),d=l[0],j=l[1],u=Object(Ye.g)();return Object(a.useEffect)((function(){null===t.color?(s("#f0f0f0"),j("black")):(s(t.color),j(wt(t.color)))}),[t]),Object(st.jsx)(st.Fragment,{children:Object(st.jsxs)(bt.a,{style:{backgroundColor:i,height:"100%"},children:[Object(st.jsx)(Ot.a,{children:Object(st.jsx)(vt.a,{label:"Data",record:t,source:"date",showTime:!0,style:{color:d,fontWeight:"white"===d?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{children:Object(st.jsx)(yt.a,{label:"Urz\u0105dzenie",record:t,source:"deviceName",style:{color:d,fontWeight:"white"===d?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{children:Object(st.jsx)(yt.a,{label:"Bilet",record:t,source:"ticketCode",style:{color:d,fontWeight:"white"===d?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{children:Object(st.jsx)(yt.a,{label:"Opis",record:t,source:"text",sortable:!1,style:{color:d,fontWeight:"white"===d?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{children:null==t.bookingId?Object(st.jsx)("div",{}):Object(st.jsx)(tt.a,{variant:"contained",style:{width:"100%",backgroundColor:"rgb(220, 220, 220)"},onClick:function(){return u.push({pathname:"/".concat(c.TICKET_DETAILS,"/").concat(t.bookingId,"/show")})},children:t.bookingId})})]})})},ln=function(){var e=Object(Tt.a)(),t=e.ids,n=e.data,c=Object(Mt.a)(),a=c.currentSort,r=c.setSort,i=function(e){r(e,e===a.field?"ASC"===a.order?"DESC":"ASC":"DESC")},s=function(e,t){return Object(st.jsx)(st.Fragment,{children:a.field===e?Object(st.jsx)(tt.a,{style:{width:"100%",display:"flex",justifyContent:"flex-start"},startIcon:"ASC"===a.order?Object(st.jsx)(Zt.a,{}):Object(st.jsx)(Gt.a,{}),children:t}):Object(st.jsx)(tt.a,{style:{width:"100%"},children:t})})};return Object(st.jsx)(ft.a,{component:pt.a,children:Object(st.jsxs)(ht.a,{"aria-label":"a dense table",size:"small",children:[Object(st.jsx)(gt.a,{children:Object(st.jsxs)(bt.a,{children:[Object(st.jsx)(Ot.a,{onClick:function(){return i("date")},style:{width:"10%"},children:s("date","Data")}),Object(st.jsx)(Ot.a,{onClick:function(){return i("deviceName")},style:{width:"15%"},children:s("deviceName","Urz\u0105dzenie")}),Object(st.jsx)(Ot.a,{onClick:function(){return i("ticketCode")},style:{width:"25%"},children:s("ticketCode","Bilet")}),Object(st.jsx)(Ot.a,{style:{textAlign:"center",color:"black",width:"25%"},children:"OPIS"}),Object(st.jsx)(Ot.a,{onClick:function(){return i("bookingId")},style:{width:"15%"},children:s("bookingId","Rezerwacja")})]})}),Object(st.jsx)(kt.a,{children:t.map((function(e){return Object(st.jsx)(on,{data:n[e]},e)}))})]})})},dn=function(e){var t=e.data,n=Object(a.useState)(!1),r=Object(pe.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),l=Object(pe.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(""),b=Object(pe.a)(u,2),O=b[0],m=b[1],x=Object(Ye.g)();return Object(a.useEffect)((function(){null===t.color?(j("#f0f0f0"),m("black")):(j(t.color),m(wt(t.color))),s(!1)}),[t]),Object(st.jsxs)(st.Fragment,{children:[Object(st.jsxs)(bt.a,{style:{backgroundColor:d},children:[Object(st.jsx)(Ot.a,{children:Object(st.jsx)(tt.a,{onClick:function(){return s(!i)},style:{width:"100%"},children:i?Object(st.jsx)(Nt.a,{style:{color:O}}):Object(st.jsx)(Ct.a,{style:{color:O}})})}),Object(st.jsx)(Ot.a,{children:Object(st.jsx)(vt.a,{label:"Data",record:t,source:"date",showTime:!0,style:{color:O,fontWeight:"white"===O?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{children:Object(st.jsx)(yt.a,{label:"Urz\u0105dzenie",record:t,source:"deviceName",style:{color:O,fontWeight:"white"===O?"bold":"normal"}})}),Object(st.jsx)(Ot.a,{children:Object(st.jsx)(yt.a,{label:"Bilet",record:t,source:"ticketCode",style:{color:O,fontWeight:"white"===O?"bold":"normal"}})})]}),Object(st.jsx)(bt.a,{children:Object(st.jsx)(Ot.a,{style:{paddingBottom:0,paddingTop:0},colSpan:4,children:Object(st.jsx)(xt.a,{in:i,children:Object(st.jsxs)(Ge.a,{container:!0,style:{marginTop:"3%"},children:[Object(st.jsx)(Ge.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(st.jsx)(et.a,{children:"Rezerwacja: "})}),Object(st.jsx)(Ge.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:null==t.bookingId?Object(st.jsx)("div",{}):Object(st.jsx)(tt.a,{variant:"contained",style:{width:"50%",backgroundColor:"rgb(220, 220, 220)"},onClick:function(){return x.push({pathname:"/".concat(c.TICKET_DETAILS,"/").concat(t.bookingId,"/show")})},children:t.bookingId})}),Object(st.jsx)("hr",{style:{width:"90%",marginTop:"3%",marginBottom:"3%"}}),Object(st.jsx)(Ge.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"3%"},children:Object(st.jsx)("div",{children:"Opis: "})}),Object(st.jsx)(Ge.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginBottom:"3%"},children:t.text})]})})})})]})},jn=function(){var e=Object(Tt.a)(),t=e.ids,n=e.data,c=Object(Mt.a)(),a=c.currentSort,r=c.setSort,i=function(e){r(e,e===a.field?"ASC"===a.order?"DESC":"ASC":"DESC")},s=function(e,t){return Object(st.jsx)(st.Fragment,{children:a.field===e?Object(st.jsx)(tt.a,{style:{width:"100%"},startIcon:"ASC"===a.order?Object(st.jsx)(Zt.a,{}):Object(st.jsx)(Gt.a,{}),children:t}):Object(st.jsx)(tt.a,{style:{width:"100%"},children:t})})};return Object(st.jsx)(ft.a,{component:pt.a,children:Object(st.jsxs)(ht.a,{"aria-label":"a dense table",size:"small",children:[Object(st.jsx)(gt.a,{children:Object(st.jsxs)(bt.a,{children:[Object(st.jsx)(Ot.a,{size:"small",style:{width:"10%"}}),Object(st.jsx)(Ot.a,{onClick:function(){return i("date")},children:s("date","Data")}),Object(st.jsx)(Ot.a,{onClick:function(){return i("deviceName")},children:s("deviceName","Urz\u0105dzenie")}),Object(st.jsx)(Ot.a,{onClick:function(){return i("ticketCode")},children:s("ticketCode","Bilet")})]})}),Object(st.jsx)(kt.a,{children:t.map((function(e){return Object(st.jsx)(st.Fragment,{children:Object(st.jsx)(dn,{data:n[e]})})}))})]})})},un=function(e){return Object(st.jsxs)(zt.a,Object(O.a)(Object(O.a)({},e),{},{children:[Object(st.jsx)(Ut.a,{label:"Kod biletu",source:"ticketCode",alwaysOn:!0}),Object(st.jsx)(_t.a,{label:"Urz\u0105dzenie",source:"deviceName",choices:[{id:"Czytnik",name:"Czytnik"},{id:"Przej\u015bcie",name:"Przej\u015bcie"}]}),Object(st.jsx)(sn,{source:"date"},"date"),Object(st.jsx)(Ut.a,{label:"Rezerwacja",source:"bookingId"}),Object(st.jsx)(Ut.a,{label:"Wydarzenie",source:"event"})]}))};function bn(e){var t=Object(Ft.a)();return Object(st.jsx)(st.Fragment,{children:Object(Kt.a)(t.breakpoints.down("sm"))?Object(st.jsx)(At.a,Object(O.a)(Object(O.a)({perPage:20,exporter:!1,pagination:Object(st.jsx)(tn,{}),filters:Object(st.jsx)(un,{}),sort:{field:"date",order:"DESC"}},e),{},{children:Object(st.jsx)(jn,{})})):Object(st.jsx)(At.a,Object(O.a)(Object(O.a)({perPage:20,exporter:!1,pagination:Object(st.jsx)(Rt.a,{rowsPerPageOptions:[20,50,100]}),filters:Object(st.jsx)(un,{}),sort:{field:"date",order:"DESC"}},e),{},{children:Object(st.jsx)(ln,{})}))})}var On,mn,xn,fn=n(639),pn=n(640),hn=n(641),gn=n(649),kn=Object(Re.a)({noBorderCell:{borderBottom:"none"}}),vn=function(e){var t=e.record.eventName;return Object(st.jsxs)("span",{children:["Widok og\xf3lny: ",t]})},yn=function(e){var t=e.capacity,n=e.entered,c=e.enteredAbo,r=e.enteredNormal,i=e.enteredInfix,s=e.enteredPoints,o=e.enteredService,l=e.name,d=e.sold,j=e.soldAbo,u=e.soldNormal,b=e.soldInfix,O=e.soldPoints,m=e.soldService,x=Object(a.useState)(!1),f=Object(pe.a)(x,2),p=f[0],h=f[1],g=kn();return Object(st.jsxs)(st.Fragment,{children:[Object(st.jsxs)(bt.a,{style:{backgroundColor:"#FAFAFA"},children:[Object(st.jsxs)(Ot.a,{classes:{root:p?g.noBorderCell:void 0},children:[Object(st.jsx)("span",{style:{marginLeft:"2px"},children:l}),d>0&&Object(st.jsx)(mt.a,{onClick:function(){return h(!p)},style:{height:"40px",width:"40px"},children:p?Object(st.jsx)(fn.a,{}):Object(st.jsx)(pn.a,{})})]}),Object(st.jsx)(Ot.a,{style:{width:"22.22%",textAlign:"center"},classes:{root:p?g.noBorderCell:void 0},children:n}),Object(st.jsx)(Ot.a,{style:{width:"22.22%",textAlign:"center"},classes:{root:p?g.noBorderCell:void 0},children:d}),Object(st.jsx)(Ot.a,{style:{width:"22.22%",textAlign:"center"},classes:{root:p?g.noBorderCell:void 0},children:t})]}),p&&Object(st.jsxs)(bt.a,{style:{backgroundColor:"#FAFAFA"},children:[Object(st.jsxs)(Ot.a,{children:[u>0?Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"NORMAL"}):Object(st.jsx)("div",{}),j>0?Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"ABO"}):Object(st.jsx)("div",{}),b>0?Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"INFIX"}):Object(st.jsx)("div",{}),O>0?Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"POINTS"}):Object(st.jsx)("div",{}),m>0?Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"SERVICE"}):Object(st.jsx)("div",{})]}),Object(st.jsxs)(Ot.a,{children:[Object(st.jsx)("div",{style:{textAlign:"center"},children:u>0?r:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:j>0?c:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:b>0?i:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:O>0?s:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:m>0?o:""})]}),Object(st.jsxs)(Ot.a,{children:[Object(st.jsx)("div",{style:{textAlign:"center"},children:u>0?u:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:j>0?j:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:b>0?b:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:O>0?O:""}),Object(st.jsx)("div",{style:{textAlign:"center"},children:m>0?m:""})]}),Object(st.jsx)(Ot.a,{})]})]})},Tn=function(e){var t=e.capacity,n=e.entered,c=e.name,r=e.sold,i=e.blocks,s=Object(a.useState)(!1),o=Object(pe.a)(s,2),l=o[0],d=o[1],j=kn();return Object(st.jsx)(st.Fragment,{children:i.length>0&&t>0&&Object(st.jsxs)(bt.a,{children:[Object(st.jsxs)(Ot.a,{children:[Object(st.jsx)("span",{style:{marginLeft:"2px"},children:c}),Object(st.jsx)(mt.a,{onClick:function(){return d(!l)},style:{height:"40px",width:"40px"},children:l?Object(st.jsx)(fn.a,{}):Object(st.jsx)(pn.a,{})})]}),l?Object(st.jsxs)(Ot.a,{colSpan:4,children:[Object(st.jsx)(ht.a,{padding:"none",children:Object(st.jsxs)(kt.a,{children:[i.map((function(e){return Object(a.createElement)(yn,Object(O.a)(Object(O.a)({},e),{},{key:e.id}))})),Object(st.jsxs)(bt.a,{children:[Object(st.jsx)(Ot.a,{classes:{root:j.noBorderCell}}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},classes:{root:j.noBorderCell},children:n}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},classes:{root:j.noBorderCell},children:r}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},classes:{root:j.noBorderCell},children:t})]})]})}),Object(st.jsx)("div",{style:{height:"1px"}})]}):Object(st.jsxs)(st.Fragment,{children:[Object(st.jsx)(Ot.a,{}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:n}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:r}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:t})]})]})})},An=function(e){var t=e.capacity,n=e.entered,c=e.name,r=e.sold,i=e.tribunes,s=Object(a.useState)(!0),o=Object(pe.a)(s,2),l=o[0],d=o[1];return Object(st.jsxs)(et.a,{style:{margin:"5px",borderRadius:"5px",boxShadow:"0px 0px 2px"},children:[Object(st.jsx)(tt.a,{style:{width:"100%"},onClick:function(){return d(!l)},children:c}),Object(st.jsx)(xt.a,{in:l,children:Object(st.jsx)(ft.a,{children:Object(st.jsxs)(ht.a,{padding:"none",children:[Object(st.jsx)(gt.a,{children:Object(st.jsxs)(bt.a,{children:[Object(st.jsx)(Ot.a,{style:{width:"25%"},children:Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"Trybuna"})}),Object(st.jsx)(Ot.a,{style:{width:"25%"},children:Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"Sektor"})}),Object(st.jsx)(Ot.a,{style:{width:"16.67%",textAlign:"center"},children:"Wej\u015bcia"}),Object(st.jsx)(Ot.a,{style:{width:"16.67%",textAlign:"center"},children:"Sprzedano"}),Object(st.jsx)(Ot.a,{style:{width:"16.67%",textAlign:"center"},children:"Pojemno\u015b\u0107"})]})}),Object(st.jsxs)(kt.a,{children:[i.map((function(e){return Object(a.createElement)(Tn,Object(O.a)(Object(O.a)({},e),{},{key:e.id}))})),Object(st.jsxs)(bt.a,{style:{height:"40px"},children:[Object(st.jsx)(Ot.a,{children:Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"Suma"})}),Object(st.jsx)(Ot.a,{}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:n}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:r}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:t})]})]})]})})}),!l&&Object(st.jsxs)(ht.a,{padding:"none",children:[Object(st.jsx)(gt.a,{children:Object(st.jsxs)(bt.a,{children:[Object(st.jsx)(Ot.a,{style:{width:"50%"}}),Object(st.jsx)(Ot.a,{style:{width:"16.67%",textAlign:"center"},children:"Wej\u015bcia"}),Object(st.jsx)(Ot.a,{style:{width:"16.67%",textAlign:"center"},children:"Sprzedano"}),Object(st.jsx)(Ot.a,{style:{width:"16.67%",textAlign:"center"},children:"Pojemno\u015b\u0107"})]})}),Object(st.jsx)(kt.a,{children:Object(st.jsxs)(bt.a,{style:{height:"40px"},children:[Object(st.jsx)(Ot.a,{children:Object(st.jsx)("div",{style:{marginLeft:"2px"},children:"Suma"})}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:n}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:r}),Object(st.jsx)(Ot.a,{style:{textAlign:"center"},children:t})]})})]})]})},In=function(){var e=Object(hn.a)().record;return Object(st.jsx)(st.Fragment,{children:null===e||void 0===e?void 0:e.objects.map((function(t){return Object(a.createElement)(An,Object(O.a)(Object(O.a)({},t),{},{key:e.id}))}))})},Cn=function(e){return Object(st.jsx)(gn.a,Object(O.a)(Object(O.a)({title:Object(st.jsx)(vn,{})},e),{},{children:Object(st.jsx)(In,{})}))},Sn=n(646),Nn=function(e){return Object(st.jsx)(zt.a,Object(O.a)(Object(O.a)({},e),{},{children:Object(st.jsx)(Ut.a,{label:"Nazwa",source:"name",alwaysOn:!0})}))},wn=function(){var e=Object(Tt.a)().loading;return Object(st.jsxs)(Sn.a,{loaded:!e,rowClick:function(e){return"".concat(c.STATS_OVERALL_VIEW,"/").concat(e,"/show")},children:[Object(st.jsx)(yt.a,{label:"Id",source:"id",sortable:!1}),Object(st.jsx)(yt.a,{label:"Nazwa",source:"name",sortable:!1}),Object(st.jsx)(vt.a,{label:"Data rozpocz\u0119cia",source:"dateStart",showTime:!0,sortable:!1}),Object(st.jsx)(vt.a,{label:"Data zako\u0144czenia",source:"dateEnd",showTime:!0,sortable:!1})]})},En=function(e){return Object(st.jsx)(At.a,Object(O.a)(Object(O.a)({},e),{},{actions:!1,pagination:!1,filters:Object(st.jsx)(Nn,{}),children:Object(st.jsx)(wn,{})}))},Dn=n(188),Ln=n(648),Pn=n(655),Bn=n(180),Fn=n(654),Kn=n(642),Mn=(On={},Object(h.a)(On,v.NORMAL,"Bilet pojedynczy"),Object(h.a)(On,v.ABO,"Abonament"),Object(h.a)(On,v.INFIX,"Infix"),Object(h.a)(On,v.POINTS,"Points"),Object(h.a)(On,v.SERVICE,"Karta serwisowa"),On),zn=(mn={},Object(h.a)(mn,k.K,"Kod kreskowy"),Object(h.a)(mn,k.M,"Nr mifare"),Object(h.a)(mn,k.Z,"Nr dowodu"),Object(h.a)(mn,k.N,"Nr biletu"),Object(h.a)(mn,k.P,"Pesel"),Object(h.a)(mn,k.U,"Nr unique (125k)"),Object(h.a)(mn,k.R,"Nr rejestracyjny"),mn),Un=function(e){return zn[e]},_n=function(e){return Mn[e]},Rn=n(75),Wn=Object(Re.a)((function(e){return Object(We.a)({header:{letterSpacing:e.spacing(.2)}})})),Gn=function(){var e=Wn(),t=Object(hn.a)().record;return Object(st.jsx)(et.a,{m:2,children:Object(st.jsxs)(Rn.a,{className:e.header,variant:"h5",paragraph:!0,children:[null===t||void 0===t?void 0:t.firstname," ",null===t||void 0===t?void 0:t.lastname]})})},Vn=Object(Re.a)((function(e){return Object(We.a)({ticketBox:{display:"flex",flexDirection:"column",padding:e.spacing(1),marginLeft:e.spacing(1)},ticketField:{padding:e.spacing(0),margin:e.spacing(0),marginBottom:e.spacing(.5)}})})),Zn=function(e){var t=e.label,n=Vn(),c=(Object(Dn.b)().tickets||[]).map((function(e){var t=e.id,n=e.ticketType,c=e.createdAt;return{id:t,ticketCode:e.ticketCode,ticketType:Un(n),createdAt:c}})).map((function(e){return Object(st.jsxs)(pt.a,{variant:"elevation",className:n.ticketBox,children:[Object(st.jsx)(Bn.a,{className:n.ticketField,label:"id",children:Object(st.jsx)(yt.a,{className:n.ticketField,record:e,source:"id"})}),Object(st.jsx)(Bn.a,{className:n.ticketField,label:"Kod biletu",children:Object(st.jsx)(yt.a,{className:n.ticketField,record:e,source:"ticketCode"})}),Object(st.jsx)(Bn.a,{className:n.ticketField,label:"Typ wej\u015bci\xf3wki",children:Object(st.jsx)(Fn.a,{label:e.ticketType,className:n.ticketField})}),Object(st.jsx)(Bn.a,{className:n.ticketField,label:"Utworzono",children:Object(st.jsx)(vt.a,{className:n.ticketField,record:e,source:"createdAt",showTime:!0})})]},e.id)}));return Object(st.jsx)(Bn.a,{label:t,children:Object(st.jsx)(et.a,{display:"flex",flexWrap:"wrap",flexDirection:"row",children:c})})},Jn=n(558);!function(e){e.BLOCK="BLOCK",e.UNBLOCK="UNBLOCK",e.DISABLED="DISABLED"}(xn||(xn={}));var qn=function(e){var t=e.accessesIds,n=e.tickets.map((function(e){return e.id}));return{type:Object(g.n)(g.a),resource:c.ACCESS_USINGS,payload:{data:{ticketIds:n,accessIds:t}}}},Hn=function(e){var t=e.tickets.flatMap((function(e){return e.accessUsings})).filter((function(e){return e.active})).map((function(e){return e.id}));return{type:Object(g.n)(g.i),resource:c.ACCESS_USINGS,payload:{ids:t}}},Xn={type:xn.DISABLED,text:"Oznacz dost\u0119p jako wykorzystany (N/A)"},Qn=function(e,t){var n=t.type;switch(n){case xn.BLOCK:return{type:n,text:"Oznacz dost\u0119p jako wykorzystany",mutateQuery:qn};case xn.UNBLOCK:return{type:n,text:"Zwolnij dost\u0119p",mutateQuery:Hn};case xn.DISABLED:return Xn;default:throw new Error}},Yn=Object(Re.a)((function(e){return Object(We.a)({button:{color:e.palette.common.white,marginLeft:e.spacing(1)}})})),$n=function(){var e=Yn(),t=Object(Xe.a)(),n=Object(hn.a)().loading,c=Object(a.useReducer)(Qn,Xn),r=Object(pe.a)(c,2),i=r[0],s=i.type,o=i.text,l=i.mutateQuery,d=r[1],j=Object(Dn.b)(),u=Object(Qe.a)(),b=Object(pe.a)(u,2),O=b[0],m=b[1].loading,x=Object(Jn.a)();Object(a.useEffect)((function(){j.tickets.some((function(e){return e.accessUsings.some((function(e){return e.active}))}))?d({type:xn.UNBLOCK}):d({type:xn.BLOCK})}),[j]);var f=function(){var e=Object(I.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null===l||void 0===l?void 0:l(j),e.next=4,O(n,{returnPromise:!0});case 4:x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(null===e.t0||void 0===e.t0?void 0:e.t0.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(st.jsx)(tt.a,{disabled:s===xn.DISABLED||n||m,className:e.button,variant:"contained",color:"secondary",onClick:f,children:o})},ec={type:xn.DISABLED,text:"Zablokuj bilet (N/A)"},tc=function(e,t){var n=t.type;switch(n){case xn.BLOCK:return{type:n,text:"Zablokuj bilet",mutateParam:y.ADMIN};case xn.UNBLOCK:return{type:n,text:"Odblokuj bilet",mutateParam:null};case xn.DISABLED:return ec;default:throw new Error}},nc=Object(Re.a)((function(e){return Object(We.a)({button:{color:e.palette.common.white,marginLeft:e.spacing(1)}})})),cc=function(){var e=nc(),t=Object(Xe.a)(),n=Object(hn.a)().loading,r=Object(a.useReducer)(tc,ec),i=Object(pe.a)(r,2),s=i[0],o=s.type,l=s.text,d=s.mutateParam,j=i[1],u=Object(Dn.b)(),b=u.id,O=u.bookingDisabled,m=Object(Qe.a)(),x=Object(pe.a)(m,2),f=x[0],p=x[1].loading,h=Object(Jn.a)();Object(a.useEffect)((function(){null===O?j({type:xn.BLOCK}):O===y.ADMIN?j({type:xn.UNBLOCK}):j({type:xn.DISABLED})}),[O]);var k=function(){var e=Object(I.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({type:Object(g.n)(g.h),resource:c.BOOKINGS,payload:{data:{id:b,disabled:d}}},{returnPromise:!0});case 3:h(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(null===e.t0||void 0===e.t0?void 0:e.t0.message,"error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(st.jsx)(tt.a,{disabled:o===xn.DISABLED||n||p,className:e.button,variant:"contained",color:"secondary",onClick:k,children:l})},ac=function(e){var t=e.mapper,n=e.source,c=t(Object(Dn.b)()[n]);return Object(st.jsx)(Fn.a,{label:c})},rc=function(e){var t=e.id,n=e.basePath;return Object(st.jsx)(gn.a,Object(O.a)(Object(O.a)({},e),{},{children:Object(st.jsxs)(st.Fragment,{children:[Object(st.jsx)(Gn,{}),Object(st.jsx)(Kn.a,{}),Object(st.jsxs)(Ln.a,{syncWithLocation:!1,children:[Object(st.jsxs)(Pn.a,{label:"Bilet",children:[Object(st.jsx)(yt.a,{label:"Impreza",source:"eventName"}),Object(st.jsx)(yt.a,{label:"Pesel",source:"pesel"}),Object(st.jsx)(yt.a,{label:"Wariant",source:"variantName"}),Object(st.jsx)(Bn.a,{label:"Rodzaj wej\u015bci\xf3wki",children:Object(st.jsx)(ac,{source:"bookingType",mapper:_n})}),Object(st.jsx)(vt.a,{label:"Aktywny od",source:"activeFrom",emptyText:"N/A",showTime:!0}),Object(st.jsx)(vt.a,{label:"Aktywny do",source:"activeTo",emptyText:"N/A",showTime:!0}),Object(st.jsx)(Zn,{label:"Wej\u015bci\xf3wki:"}),Object(st.jsx)(vt.a,{label:"Utworzono",source:"createdAt",showTime:!0}),Object(st.jsx)(vt.a,{label:"Zmodyfikowano",source:"modifiedAt",showTime:!0})]}),Object(st.jsx)(Pn.a,{label:"Logi",children:Object(st.jsx)(qe.a,{value:c.TICKET_LOGS,children:Object(st.jsx)(bn,{basePath:n,filter:{bookingId:t},filters:void 0,actions:!1,title:" "})})})]}),Object(st.jsx)(Kn.a,{}),Object(st.jsxs)(et.a,{p:1,display:"flex",justifyContent:"flex-end",children:[Object(st.jsx)($n,{}),Object(st.jsx)(cc,{})]})]})}))},ic=n(4),sc=["source"],oc=function(e){var t=e.source,n=Object(ic.a)(e,sc),c=Object(Dn.b)(),a=Object(O.a)(Object(O.a)({},c),{},Object(h.a)({},t,function(e,t){var n=e.substring(0,t),c=e.slice(-t),a=e.length-n.length-c.length;return"".concat(n).concat("*".repeat(a>0?a:0)).concat(c)}(c[t],2)));return Object(st.jsx)(yt.a,Object(O.a)(Object(O.a)({},n),{},{record:a,source:t}))},lc=function(){var e=Object(Tt.a)(),t=e.loading,n=e.filterValues.ticketCode;return Object(st.jsxs)(st.Fragment,{children:[Object(st.jsx)(et.a,{m:2,children:Object(st.jsxs)(Rn.a,{variant:"h5",paragraph:!0,children:["Wyszukiwanie biletu po kodzie: ",n]})}),Object(st.jsx)(Kn.a,{}),Object(st.jsxs)(Sn.a,{loaded:!t,rowClick:function(e){return"".concat(c.TICKET_DETAILS,"/").concat(e,"/show")},children:[Object(st.jsx)(yt.a,{label:"Imi\u0119",source:"firstname",sortable:!1}),Object(st.jsx)(yt.a,{label:"Nazwisko",source:"lastname",sortable:!1}),Object(st.jsx)(oc,{label:"Pesel",source:"pesel",sortable:!1}),Object(st.jsx)(yt.a,{label:"Bilet",source:"ticketCode",sortable:!1}),Object(st.jsx)(yt.a,{label:"Wydarzenie",source:"eventName",sortable:!1})]})]})},dc=function(e){var t=Object(Ye.h)().search;return Object(st.jsxs)(st.Fragment,{children:[Object(st.jsxs)(Ve.a,{style:{marginTop:"2%"},children:[Object(st.jsx)(Ze.a,{style:{textAlign:"center"},title:"Znajd\u017a u\u017cytkownika po kodzie biletu"}),Object(st.jsx)(Je.a,{children:Object(st.jsx)(ut,{})})]}),!!t&&Object(st.jsx)(At.a,Object(O.a)(Object(O.a)({actions:!1,pagination:!1},e),{},{children:Object(st.jsx)(lc,{})}))]})},jc=function(){var e=function(e){switch(e){case"production":case"development":return{authProvider:Oe,dataProvider:_e};default:return{authProvider:V,dataProvider:G}}}("production"),t=e.authProvider,n=e.dataProvider;return Object(st.jsxs)(u.a,{theme:p,dashboard:Bt,authProvider:t,dataProvider:n,children:[Object(st.jsx)(b.a,{options:{label:"Bilety"},icon:l.a,name:c.TICKET_INFO,list:dc}),Object(st.jsx)(b.a,{options:{label:"Wej\u015bci\xf3wka"},name:c.TICKET_DETAILS,show:rc}),Object(st.jsx)(b.a,{options:{label:"Logi"},name:c.LOGS,list:bn}),Object(st.jsx)(b.a,{options:{label:"Statystyki - widok og\xf3lny"},icon:j.a,name:c.STATS_OVERALL_VIEW_LIST,list:En}),Object(st.jsx)(b.a,{options:{label:"Widok og\xf3lny"},icon:j.a,name:c.STATS_OVERALL_VIEW,show:Cn}),Object(st.jsx)(b.a,{options:{label:" "},name:c.LAST_LOGS}),Object(st.jsx)(b.a,{options:{label:" "},name:c.TICKET_LOGS})]})},uc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,657)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(st.jsx)(r.a.StrictMode,{children:Object(st.jsx)(jc,{})}),document.getElementById("root")),uc()}},[[554,1,2]]]);
//# sourceMappingURL=main.8f14c840.chunk.js.map
{"version":3,"sources":["core/ResourceName.ts","core/enum/TicketType.ts","main/common/InputWithButton.tsx","main/common/FindUserByTicket.tsx","main/Dashboard.tsx","custom.theme.ts","core/fake/providers/fake-tickets.provider.ts","core/enum/BookingType.ts","core/enum/BookingDisabledOption.ts","core/fake/providers/fake-ticket-info.provider.ts","core/fake/providers/fake-ticket-details.provider.ts","core/enum/DeviceDirection.ts","core/fake/providers/fake-access-usings.provider.ts","core/fake/providers/fake-bookings.provider.ts","core/fake/providers/fake-logs.provider.ts","core/fake/fake-data.provider.ts","core/fake/providers/fake-auth.provider.ts","core/common/header.parser.ts","core/common/fetch.utils.ts","core/api-urls.ts","core/auth/auth.provider.ts","core/common/mapper.utils.ts","core/ticket-info/ticket-info.mapper.ts","core/common/condition.builder.ts","core/ticket-info/ticket-info.provider.ts","core/tickets/tickets.provider.ts","core/ticket-details/ticket-details.mapper.ts","core/ticket-details/ticket-details.provider.ts","core/bookings/bookings.provider.ts","core/access-usings/access-usings.provider.ts","core/ticket-details/block-button.ts","core/logs/log-filter.mapper.ts","core/logs/log-sort.mapper.ts","core/logs/extended-logs.provider.ts","core/common/filter.values.ts","core/data.provider.ts","main/common/MaskField.tsx","core/common/mask.utils.ts","main/ticket-info/TicketInfoList.tsx","core/ticket-details/ticket-details-values.mapper.ts","main/ticket-details/TicketDetailsHeader.tsx","main/ticket-details/TicketDetailsTicketsField.tsx","core/ticket-details/block-access-button.reducer.ts","main/ticket-details/BlockAccessButton.tsx","core/ticket-details/block-ticket-button.reducer.ts","main/ticket-details/BlockTicketButton.tsx","main/ticket-details/TicketDetailsView.tsx","main/logs/LogList.tsx","App.tsx","core/providers.factory.ts","reportWebVitals.ts","index.tsx"],"names":["ResourceName","TicketType","useStyles","makeStyles","theme","createStyles","root","display","margin","spacing","height","button","fontWeight","marginLeft","InputWithButton","label","onValue","disabled","error","classes","useState","inputError","setInputError","inputValue","setInputValue","handleClick","Box","className","FormControl","InputLabel","Input","onInput","event","target","value","onKeyDown","ev","key","FormHelperText","Button","variant","color","onClick","FindUserByTicket","history","useHistory","notify","useNotify","setError","useMutation","mutate","loading","fetchTickets","useCallback","ticketCode","type","sanitizeFetchType","GET_LIST","resource","TICKETS","payload","filter","returnPromise","a","total","data","onlyTicket","push","pathname","TICKET_DETAILS","bookingId","TICKET_INFO","search","stringify","JSON","message","header","textAlign","letterSpacing","Dashboard","Grid","container","item","xs","Card","CardHeader","title","sm","CardContent","customTheme","defaultTheme","palette","primary","deepPurple","secondary","green","typography","fontFamily","join","body1","body2","h5","BookingType","BookingDisabledOption","fakeTickets","id","ticketType","K","active","accessUsingsIds","createdAt","modifiedAt","provider","getList","params","Promise","resolve","length","fakeTicketInfoList","firstname","lastname","pesel","eventName","DeviceDirection","fakeTicketDetailsList","variantName","accessesIds","bookingType","NORMAL","activeFrom","activeTo","tickets","accessUsings","M","bookingDisabled","STORNO","getOne","found","find","v","reject","Error","updateMany","create","update","fakeLogs","date","deviceName","text","dataProviders","ACCESS_USINGS","fakeAccessUsingsProvider","BOOKINGS","fakeBookingsProvider","LOGS","fakeLogsProvider","fakeTicketsProvider","fakeTicketInfoProvider","fakeTicketDetailsProvider","fetchType","authProvider","login","logout","checkError","checkAuth","getPermissions","getIdentity","fullName","contentRangeParser","headerValue","split","rangeFrom","summarySecondPartSplit","rangeTo","parseInt","baseHeaders","authHeaders","Authorization","localStorage","getItem","postWithHeaders","url","body","headers","fetchUtils","fetchJson","method","Headers","then","json","get","baseUrl","path","getWithPagination","range","getByConditions","pathParam","patch","API_V1","process","AUTH_URL","BOOKINGS_URL","CUSTOMERS_URL","EVENTS_URL","EXTENDED_LOGS_URL","TICKETS_URL","VARIANTS_URL","username","password","token","setItem","removeItem","status","toMapById","values","Map","map","toUniqueValues","Array","from","Set","mapToTicketBaseInfoList","bookings","customers","events","bookingById","customerById","eventById","ticket","customerId","eventId","name","mapToTicketBaseInfo","buildFilterByIdsCondition","ids","firstId","reduce","prev","curr","getByUniqueIds","uniqueIds","filterByTicketCodeCondition","bookingIds","customerIds","eventIds","pendingCustomers","pendingEvents","all","ticketBaseInfoList","mapToTicketDetails","accessUsingById","t","auId","mapToTicket","fetchTicketsWithAccessUsings","ticketIds","accessUsingIds","flatMap","booking","variantId","pendingCustomer","pendingEvent","pendingVariant","pendingTicketsWithAccessUsings","ticketsIds","customer","Access","pendingUpdates","req","au","accessIds","verifierDeviceId","request","accessId","ticketId","Date","toISOString","direction","IN","mapping","getFilterParams","Object","keys","entries","getFilterMapper","mapper","p","c","sort","field","order","pagination","page","perPage","filterParams","queryParams","pathParams","extendedLogs","device","accessUsingsProvider","bookingsProvider","logsProvider","ticketsProvider","ticketInfoProvider","ticketDetailsProvider","MaskField","source","rest","record","useRecordContext","recordWithMappedValue","word","threshold","firstChars","substring","lastChars","slice","restCharsLength","repeat","maskMiddlePart","TextField","TicketInfoGrid","useListContext","filterValues","m","Typography","paragraph","Divider","Datagrid","loaded","rowClick","sortable","TicketInfoList","props","useLocation","List","actions","bookingTypeMapping","AB","INFIX","POINTS","SERVICE","ticketTypeMapping","Z","N","P","U","R","mapFromTicketType","mapFromBookingType","TicketDetailsHeader","useShowContext","ticketBox","flexDirection","padding","ticketField","marginBottom","TicketDetailsTicketsField","fields","mappedRecord","Paper","Labeled","Chip","DateField","showTime","flexWrap","blockMutation","ticketDetails","CREATE","unblockMutation","activeAccessUsingIds","UPDATE_MANY","blockAccessButtonInitialState","DISABLED","blockAccessButtonReducer","state","BLOCK","mutateQuery","UNBLOCK","common","white","BlockAccessButton","useReducer","dispatch","mutationLoading","refresh","useRefresh","useEffect","some","query","blockTicketButtonInitialState","blockTicketButtonReducer","mutateParam","ADMIN","BlockTicketButton","UPDATE","MappedChipField","mappedValue","TicketDetailsView","Show","TabbedShowLayout","syncWithLocation","Tab","emptyText","justifyContent","LogGrid","ListFilters","Filter","TextInput","alwaysOn","LogList","exporter","Pagination","rowsPerPageOptions","filters","App","env","dataProvider","fakeAuthProvider","fakeDataProvider","providersFactory","Admin","dashboard","Resource","options","icon","ReceiptIcon","list","show","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.199dcba8.chunk.js","sourcesContent":["export enum ResourceName {\n  ACCESS_USINGS = 'access-usings',\n  BOOKINGS = 'bookings',\n  LOGS = 'logs',\n  TICKETS = 'tickets',\n  TICKET_DETAILS = 'ticket-details',\n  TICKET_INFO = 'ticket-info',\n}\n","export enum TicketType {\n  K = 'K',\n  M = 'M',\n  Z = 'Z',\n  N = 'N',\n  P = 'P',\n  U = 'U',\n  R = 'R',\n}\n","import React, { ChangeEvent, FC, useState } from 'react'\nimport {\n  Box,\n  Button,\n  createStyles,\n  FormControl,\n  FormHelperText,\n  Input,\n  InputLabel,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      margin: theme.spacing(1),\n      height: theme.spacing(8),\n    },\n    button: {\n      fontWeight: 'bold',\n      height: theme.spacing(6),\n      marginLeft: theme.spacing(2),\n    },\n  }),\n)\n\ntype InputWithButtonProps = {\n  label: string\n  onValue: (value: string) => void\n  disabled: boolean\n  error: string\n}\n\nexport const InputWithButton: FC<Readonly<InputWithButtonProps>> = ({\n  label,\n  onValue,\n  disabled,\n  error,\n}) => {\n  const classes = useStyles()\n  const [inputError, setInputError] = useState(false)\n  const [inputValue, setInputValue] = useState('')\n\n  const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value)\n  }\n\n  const handleClick = () => {\n    if (inputValue) {\n      setInputError(false)\n      onValue(inputValue)\n    } else {\n      setInputError(true)\n    }\n  }\n\n  return (\n    <Box className={classes.root}>\n      <FormControl disabled={disabled}>\n        <InputLabel>{label}</InputLabel>\n        <Input\n          error={inputError || !!error}\n          onInput={handleInput}\n          onKeyDown={(ev) => ev.key === 'Enter' && handleClick()}\n        />\n        {inputError && (\n          <FormHelperText error>Pole jest wymagane</FormHelperText>\n        )}\n        {!!error && <FormHelperText error>{error}</FormHelperText>}\n      </FormControl>\n      <Button\n        className={classes.button}\n        variant=\"contained\"\n        color=\"primary\"\n        disabled={disabled}\n        onClick={handleClick}\n      >\n        <SearchIcon />\n      </Button>\n    </Box>\n  )\n}\n","import * as React from 'react'\nimport { useCallback, useState } from 'react'\nimport {\n  GET_LIST,\n  GetListResult,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n} from 'react-admin'\nimport { stringify } from 'querystring'\nimport { useHistory } from 'react-router-dom'\nimport { TicketCodeFilter } from '../../core/common/ticket-code.filter'\nimport { ResourceName } from '../../core/ResourceName'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { InputWithButton } from './InputWithButton'\n\nexport const FindUserByTicket = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n\n  const fetchTickets = useCallback(\n    (ticketCode: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.TICKETS,\n          payload: { filter: { ticketCode } } as TicketCodeFilter,\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<TicketDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (ticketCode: string) => {\n      setError('')\n      try {\n        const {\n          total,\n          data: [onlyTicket],\n        } = await fetchTickets(ticketCode)\n        if (!total) {\n          setError('Nie ma biletu o takim kodzie')\n        } else if (total === 1) {\n          history.push({\n            pathname: `/${ResourceName.TICKET_DETAILS}/${onlyTicket.bookingId}/show`,\n          })\n        } else {\n          history.push({\n            pathname: `/${ResourceName.TICKET_INFO}`,\n            search: stringify({\n              filter: JSON.stringify({\n                ticketCode,\n              } as TicketCodeFilter['filter']),\n            }),\n          })\n        }\n      } catch (err) {\n        notify(err?.message, 'error')\n      }\n    },\n    [fetchTickets, history, notify],\n  )\n\n  return (\n    <InputWithButton\n      label=\"Kod biletu\"\n      onValue={onValue}\n      disabled={loading}\n      error={error}\n    />\n  )\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport * as React from 'react'\nimport { FindUserByTicket } from './common/FindUserByTicket'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      textAlign: 'center',\n      letterSpacing: theme.spacing(0.2),\n    },\n  }),\n)\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Card>\n          <CardHeader\n            className={classes.header}\n            title=\"Witaj w aplikacji administracyjnej Sport Data\"\n          />\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        <Card>\n          <CardHeader title=\"Znajdź użytkownika po kodzie biletu\" />\n          <CardContent>\n            <FindUserByTicket />\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  )\n}\n","import { defaultTheme } from 'react-admin'\nimport { deepPurple, green } from '@material-ui/core/colors'\nimport { ThemeOptions } from '@material-ui/core'\n\nexport const customTheme: ThemeOptions = {\n  ...defaultTheme,\n  palette: {\n    primary: deepPurple,\n    secondary: green,\n  },\n  typography: {\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    body1: {\n      fontWeight: 300,\n    },\n    body2: {\n      fontWeight: 300,\n    },\n    h5: {\n      fontWeight: 200,\n    },\n  },\n}\n","import { DataProvider } from 'react-admin'\nimport { TicketDto } from '../../dto/ticket.dto'\nimport { TicketType } from '../../enum/TicketType'\n\nconst fakeTickets: TicketDto[] = [\n  {\n    id: 1,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52815,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52816,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    ticketCode: '010000011492',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52817,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    ticketCode: '411000006572',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52818,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    ticketCode: '871000006824',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52819,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    ticketCode: '370000011495',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52820,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    ticketCode: '450000011501',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52821,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    ticketCode: '630000011502',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52822,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    ticketCode: '020000011503',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52823,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    ticketCode: '310000011504',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52824,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTickets, total: fakeTickets.length }),\n} as DataProvider\n\nexport default provider\n","export enum BookingType {\n  NORMAL = 'NORMAL',\n  AB = 'AB',\n  INFIX = 'INFIX',\n  SERVICE = 'SERVICE',\n  POINTS = 'POINTS',\n}\n","export enum BookingDisabledOption {\n  ADMIN = 'ADMIN',\n  BAN = 'BAN',\n  STORNO = 'STORNO',\n  MISTAKE = 'MISTAKE',\n}\n","import { DataProvider } from 'react-admin'\nimport { TicketType } from '../../enum/TicketType'\nimport { TicketInfo } from '../../ticket-info/ticket-info'\n\nconst fakeTicketInfoList: TicketInfo[] = [\n  {\n    id: 1,\n    firstname: 'Marek',\n    lastname: 'Pies',\n    pesel: '47120554776',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 2,\n    firstname: 'Janek',\n    lastname: 'Krużganek',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 3,\n    firstname: 'Wacław',\n    lastname: 'Rymski',\n    pesel: '9988711225',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 4,\n    firstname: 'Mirka',\n    lastname: 'Korzeń',\n    pesel: '56483978659',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 5,\n    firstname: 'Tis',\n    lastname: 'Lomasz',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 6,\n    firstname: 'Bogdana',\n    lastname: 'Jaruzelska',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 7,\n    firstname: 'Jeremi',\n    lastname: 'Pomidor',\n    pesel: '12345678900',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 8,\n    firstname: 'Roman',\n    lastname: 'Zoman',\n    pesel: '13243567890',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 9,\n    firstname: 'Bacha',\n    lastname: 'Kaszalot',\n    pesel: '98097612678',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n  {\n    id: 10,\n    firstname: 'Jadwiga',\n    lastname: 'Ogórek',\n    pesel: '47120554776',\n    eventName: 'POGOŃ SZCZECIN 20/21',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeTicketInfoList,\n      total: fakeTicketInfoList.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { TicketType } from '../../enum/TicketType'\nimport { TicketDetails } from '../../ticket-details/ticket-details'\nimport { BookingType } from '../../enum/BookingType'\nimport { BookingDisabledOption } from '../../enum/BookingDisabledOption'\n\nconst fakeTicketDetailsList: TicketDetails[] = [\n  {\n    id: 1,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: BookingDisabledOption.STORNO,\n  },\n  {\n    id: 2,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: BookingDisabledOption.STORNO,\n  },\n  {\n    id: 3,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 4,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 5,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 6,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 7,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 8,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 9,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n  {\n    id: 10,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biała Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeTicketDetailsList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum DeviceDirection {\n  IN = 'IN',\n  OUT = 'OUT',\n  INFO = 'INFO',\n}\n","import { CreateResult, DataProvider, UpdateManyResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateMany: async (resource, params): Promise<UpdateManyResult> =>\n    Promise.resolve({\n      data: [1],\n    }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create: async (resource, params): Promise<CreateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, UpdateResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update: async (resource, params): Promise<UpdateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { ExtendedLog } from '../../logs/extended-log'\n\nconst fakeLogs: ExtendedLog[] = [\n  {\n    id: 1,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52815,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 2,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52816,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 3,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 1111,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 4,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 11112,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 5,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 16612,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 6,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 167782,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 7,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 122782,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 8,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 189782,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 9,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 183332,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n  {\n    id: 10,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 656565,\n    deviceName: 'Device name',\n    text: 'MF',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeLogs, total: fakeLogs.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport fakeTicketsProvider from './providers/fake-tickets.provider'\nimport fakeTicketInfoProvider from './providers/fake-ticket-info.provider'\nimport fakeTicketDetailsProvider from './providers/fake-ticket-details.provider'\nimport fakeAccessUsingsProvider from './providers/fake-access-usings.provider'\nimport fakeBookingsProvider from './providers/fake-bookings.provider'\nimport fakeLogsProvider from './providers/fake-logs.provider'\n\n// TODO: add fake providers for bookings, logs and access usings\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_USINGS]: fakeAccessUsingsProvider,\n  [ResourceName.BOOKINGS]: fakeBookingsProvider,\n  [ResourceName.LOGS]: fakeLogsProvider,\n  [ResourceName.TICKETS]: fakeTicketsProvider,\n  [ResourceName.TICKET_INFO]: fakeTicketInfoProvider,\n  [ResourceName.TICKET_DETAILS]: fakeTicketDetailsProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import { AuthProvider } from 'react-admin'\n\nconst authProvider: AuthProvider = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'no-auth',\n      fullName: 'no-auth',\n    }),\n}\n\nexport default authProvider\n","export type ContentRangeHeaderValue = `bytes ${number}-${number}/${number}`\n\nexport const contentRangeParser = (headerValue: ContentRangeHeaderValue) => {\n  if (!headerValue) {\n    // 'content-range' header should exist otherwise pagination doesn't work\n    return {\n      total: 0,\n    }\n  }\n  const summary = headerValue.split(' ')[1]\n  const split = summary.split('-')\n  const rangeFrom = split[0]\n  const summarySecondPartSplit = split[1].split('/')\n  const rangeTo = summarySecondPartSplit[0]\n  const total = summarySecondPartSplit[1]\n  return {\n    rangeFrom: parseInt(rangeFrom, 10),\n    rangeTo: parseInt(rangeTo, 10),\n    total: parseInt(total, 10),\n  }\n}\n","import { fetchUtils } from 'react-admin'\nimport { ContentRangeHeaderValue, contentRangeParser } from './header.parser'\n\nconst getToken = () => localStorage.getItem('token') as string\n\nconst baseHeaders: HeadersInit = {\n  'Content-Type': 'application/json',\n}\n\nconst authHeaders = (): HeadersInit => ({\n  ...baseHeaders,\n  Authorization: `Bearer ${getToken()}`,\n})\n\nconst postWithHeaders = <T, K>(url: string, body: T, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const get = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<T>)\n\nexport const getWithPagination = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json, headers }) =>\n      Promise.resolve({\n        data: json as T,\n        range: contentRangeParser(\n          headers.get('content-range') as ContentRangeHeaderValue,\n        ),\n      }),\n    )\n\nexport const getByConditions = <T>(\n  baseUrl: string,\n  pathParam: string,\n): Promise<T[]> => get<T[]>(baseUrl, `/GetByConditions/${pathParam}`)\n\nexport const authPost = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, baseHeaders)\n\nexport const post = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, authHeaders())\n\nexport const patch = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PATCH',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n","const API_V1 = `${process.env.REACT_APP_API_BASE_URL}/api/v1`\nexport const ACCESS_USINGS = `${API_V1}/ticketManagement/AccessUsings`\nexport const AUTH_URL = `${API_V1}/Authorization/Authenticate`\nexport const BOOKINGS_URL = `${API_V1}/ticketManagement/Bookings`\nexport const CUSTOMERS_URL = `${API_V1}/ticketManagement/Customers`\nexport const EVENTS_URL = `${API_V1}/ticketManagement/Events`\nexport const EXTENDED_LOGS_URL = `${API_V1}/ticketManagement/Logs/GetExtendedLogByConditions`\nexport const TICKETS_URL = `${API_V1}/ticketManagement/Tickets`\nexport const VARIANTS_URL = `${API_V1}/ticketManagement/Variants`\n","import { AuthProvider } from 'react-admin'\nimport { authPost } from '../common/fetch.utils'\nimport { AuthDto } from '../dto/auth.dto'\nimport { AUTH_URL } from '../api-urls'\nimport { AuthRequest } from './auth.request'\n\nconst authProvider: AuthProvider = {\n  login: ({ username, password }) =>\n    authPost<AuthRequest, AuthDto>(AUTH_URL, {\n      login: username,\n      password,\n    }).then(({ token }) => {\n      localStorage.setItem('username', username)\n      localStorage.setItem('token', token)\n    }),\n  logout: () => {\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    return Promise.resolve()\n  },\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('username')\n      localStorage.removeItem('token')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: () => Promise.resolve(),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'user',\n      fullName: localStorage.getItem('username') as string,\n    }),\n}\n\nexport default authProvider\n","export const toMapById = <T extends { id: number }>(values: T[]) =>\n  new Map(values.map((v): [number, T] => [v.id, v]))\n\nexport const toUniqueValues = (values: number[]) => Array.from(new Set(values))\n","import { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { TicketInfo } from './ticket-info'\nimport { BookingDto } from '../dto/booking.dto'\nimport { toMapById } from '../common/mapper.utils'\n\nexport const mapToTicketBaseInfo = (\n  { firstname, lastname, pesel }: CustomerDto,\n  { name: eventName }: EventDto,\n  { bookingId, ticketCode, ticketType }: TicketDto,\n): TicketInfo => ({\n  id: bookingId,\n  firstname,\n  lastname,\n  pesel,\n  eventName,\n  ticketCode,\n  ticketType,\n})\n\nexport const mapToTicketBaseInfoList = (\n  bookings: BookingDto[],\n  customers: CustomerDto[],\n  events: EventDto[],\n  tickets: TicketDto[],\n): TicketInfo[] => {\n  const bookingById = toMapById(bookings)\n  const customerById = toMapById(customers)\n  const eventById = toMapById(events)\n  return tickets.map((ticket) => {\n    const { customerId, eventId } = bookingById.get(\n      ticket.bookingId,\n    ) as BookingDto\n    const customer = customerById.get(customerId) as CustomerDto\n    const event = eventById.get(eventId) as EventDto\n    return mapToTicketBaseInfo(customer, event, ticket)\n  })\n}\n","export const buildFilterByIdsCondition = (ids: number[]): string => {\n  const [firstId, ...restIds] = ids\n  return (restIds || []).reduce(\n    (prev, curr) => `${prev as string}||v.Id==${curr}`,\n    `v=>v.Id==${firstId}`,\n  )\n}\n","import { DataProvider, GetListResult } from 'react-admin'\nimport {\n  BOOKINGS_URL,\n  CUSTOMERS_URL,\n  EVENTS_URL,\n  TICKETS_URL,\n} from '../api-urls'\nimport { getByConditions } from '../common/fetch.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { TicketInfo } from './ticket-info'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { mapToTicketBaseInfoList } from './ticket-info.mapper'\nimport { buildFilterByIdsCondition } from '../common/condition.builder'\nimport { TicketCodeFilter } from '../common/ticket-code.filter'\nimport { toUniqueValues } from '../common/mapper.utils'\n\nconst getByUniqueIds = <T>(baseUrl: string, ids: number[]): Promise<T[]> => {\n  const uniqueIds = toUniqueValues(ids)\n  return getByConditions<T>(baseUrl, buildFilterByIdsCondition(uniqueIds))\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter }: TicketCodeFilter,\n  ): Promise<GetListResult<TicketInfo>> => {\n    const filterByTicketCodeCondition = `t=>t.TicketCode==\"${filter.ticketCode}\"`\n    const tickets = await getByConditions<TicketDto>(\n      TICKETS_URL,\n      filterByTicketCodeCondition,\n    )\n\n    const bookingIds = tickets.map((v) => v.bookingId)\n    const bookings = await getByUniqueIds<BookingDto>(BOOKINGS_URL, bookingIds)\n\n    const customerIds = bookings.map((v) => v.customerId)\n    const eventIds = bookings.map((v) => v.eventId)\n\n    const pendingCustomers = getByUniqueIds<CustomerDto>(\n      CUSTOMERS_URL,\n      customerIds,\n    )\n    const pendingEvents = getByUniqueIds<EventDto>(EVENTS_URL, eventIds)\n    const [customers, events] = await Promise.all([\n      pendingCustomers,\n      pendingEvents,\n    ])\n\n    const ticketBaseInfoList = mapToTicketBaseInfoList(\n      bookings,\n      customers,\n      events,\n      tickets,\n    )\n    return Promise.resolve({\n      data: ticketBaseInfoList,\n      total: ticketBaseInfoList.length,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { getByConditions } from '../common/fetch.utils'\nimport { TICKETS_URL } from '../api-urls'\nimport { TicketCodeFilter } from '../common/ticket-code.filter'\nimport { TicketDto } from '../dto/ticket.dto'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter }: TicketCodeFilter,\n  ): Promise<GetListResult<TicketDto>> => {\n    const filterByTicketCodeCondition = `t=>t.TicketCode==\"${filter.ticketCode}\"`\n    const tickets = await getByConditions<TicketDto>(\n      TICKETS_URL,\n      filterByTicketCodeCondition,\n    )\n    return Promise.resolve({\n      data: tickets,\n      total: tickets.length,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { VariantDto } from '../dto/variant.dto'\nimport { TicketDetails } from './ticket-details'\nimport { BookingDto } from '../dto/booking.dto'\nimport { AccessUsingsDto } from '../dto/access-usings.dto'\nimport { Ticket } from './ticket'\nimport { toMapById } from '../common/mapper.utils'\n\nconst mapToTicket = (\n  { id, ticketCode, ticketType, createdAt, accessUsingsIds }: TicketDto,\n  accessUsingById: Map<number, AccessUsingsDto>,\n): Ticket => ({\n  id,\n  ticketCode,\n  ticketType,\n  createdAt,\n  accessUsings: accessUsingsIds.map(\n    (auId) => accessUsingById.get(auId) as AccessUsingsDto,\n  ),\n})\n\nexport const mapToTicketDetails = (\n  {\n    id: bookingId,\n    disabled: bookingDisabled,\n    type: bookingType,\n    activeFrom,\n    activeTo,\n    createdAt,\n    modifiedAt,\n  }: BookingDto,\n  { firstname, lastname, pesel }: CustomerDto,\n  { name: eventName }: EventDto,\n  { name: variantName, accessesIds }: VariantDto,\n  tickets: TicketDto[],\n  accessUsings: AccessUsingsDto[],\n): TicketDetails => {\n  const accessUsingById = toMapById(accessUsings)\n  return {\n    id: bookingId,\n    firstname,\n    lastname,\n    eventName,\n    pesel,\n    variantName,\n    accessesIds,\n    bookingType,\n    activeFrom,\n    activeTo,\n    tickets: tickets.map((t) => mapToTicket(t, accessUsingById)),\n    createdAt,\n    modifiedAt,\n    bookingDisabled,\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  ACCESS_USINGS,\n  BOOKINGS_URL,\n  CUSTOMERS_URL,\n  EVENTS_URL,\n  TICKETS_URL,\n  VARIANTS_URL,\n} from '../api-urls'\nimport { get, getByConditions } from '../common/fetch.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event.dto'\nimport { buildFilterByIdsCondition } from '../common/condition.builder'\nimport { mapToTicketDetails } from './ticket-details.mapper'\nimport { VariantDto } from '../dto/variant.dto'\nimport { TicketDetails } from './ticket-details'\nimport { toUniqueValues } from '../common/mapper.utils'\nimport { AccessUsingsDto } from '../dto/access-usings.dto'\n\nconst fetchTicketsWithAccessUsings = async (ticketIds: number[]) => {\n  const tickets = await getByConditions<TicketDto>(\n    TICKETS_URL,\n    buildFilterByIdsCondition(ticketIds),\n  )\n  const accessUsingIds = tickets.flatMap((t) => t.accessUsingsIds)\n  const accessUsings = accessUsingIds.length\n    ? await getByConditions<AccessUsingsDto>(\n        ACCESS_USINGS,\n        buildFilterByIdsCondition(toUniqueValues(accessUsingIds)),\n      )\n    : []\n  return {\n    tickets,\n    accessUsings,\n  }\n}\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: bookingId }: GetOneParams,\n  ): Promise<GetOneResult<TicketDetails>> => {\n    const booking = await get<BookingDto>(BOOKINGS_URL, `/${bookingId}`)\n    const { customerId, eventId, variantId } = booking\n    const pendingCustomer = get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    const pendingEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingVariant = get<VariantDto>(VARIANTS_URL, `/${variantId}`)\n    const pendingTicketsWithAccessUsings = fetchTicketsWithAccessUsings(\n      booking.ticketsIds,\n    )\n\n    const [customer, event, variant, { tickets, accessUsings }] =\n      await Promise.all([\n        pendingCustomer,\n        pendingEvent,\n        pendingVariant,\n        pendingTicketsWithAccessUsings,\n      ])\n\n    return {\n      data: mapToTicketDetails(\n        booking,\n        customer,\n        event,\n        variant,\n        tickets,\n        accessUsings,\n      ),\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider, UpdateParams, UpdateResult } from 'react-admin'\nimport { patch } from '../common/fetch.utils'\nimport { BOOKINGS_URL } from '../api-urls'\nimport { BookingUpdateRequest } from './booking-update.request'\nimport { BookingDto } from '../dto/booking.dto'\n\nconst provider = {\n  update: async (\n    resource: string,\n    { data }: UpdateParams<BookingUpdateRequest>,\n  ): Promise<UpdateResult<BookingDto>> => {\n    const booking = await patch<BookingUpdateRequest, BookingDto>(\n      BOOKINGS_URL,\n      data,\n    )\n    return Promise.resolve({\n      data: booking,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  UpdateManyParams,\n  UpdateManyResult,\n} from 'react-admin'\nimport { AccessUsingsCreateParams } from './access-usings-create.params'\nimport { AccessUsingsDto } from '../dto/access-usings.dto'\nimport { DeviceDirection } from '../enum/DeviceDirection'\nimport { DateTime } from '../common/date-time'\nimport { patch, post } from '../common/fetch.utils'\nimport { ACCESS_USINGS } from '../api-urls'\n\ntype CreateAccessUsingRequest = Array<\n  Omit<\n    AccessUsingsDto,\n    'id' | 'verifierDeviceId'\n  > /* & { verifierDeviceId: null }*/\n>\ntype UpdateAccessUsingRequest = Pick<AccessUsingsDto, 'id'> & { active: false }\n\nconst provider = {\n  updateMany: async (\n    resource,\n    { ids }: UpdateManyParams,\n  ): Promise<UpdateManyResult> => {\n    const pendingUpdates = ids\n      .map((auId) => ({ id: auId, active: false } as UpdateAccessUsingRequest))\n      .map((req) =>\n        patch<UpdateAccessUsingRequest, AccessUsingsDto>(ACCESS_USINGS, req),\n      )\n    const accessUsings = await Promise.all(pendingUpdates)\n    return Promise.resolve({\n      data: accessUsings.map((au) => au.id),\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<AccessUsingsCreateParams>,\n  ): Promise<CreateResult> => {\n    const { ticketIds, accessIds, verifierDeviceId } = data\n    const request: CreateAccessUsingRequest = accessIds.flatMap((accessId) =>\n      ticketIds.map((ticketId) => ({\n        date: new Date().toISOString() as DateTime,\n        direction: DeviceDirection.IN,\n        active: true,\n        accessId,\n        ticketId,\n        verifierDeviceId,\n      })),\n    )\n    await post<CreateAccessUsingRequest, AccessUsingsDto[]>(\n      ACCESS_USINGS,\n      request,\n    )\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n} as DataProvider\n\nexport default provider\n","export enum Access {\n  BLOCK = 'BLOCK',\n  UNBLOCK = 'UNBLOCK',\n  DISABLED = 'DISABLED',\n}\n\nexport type BlockButtonState = {\n  type: Access\n  text: string\n}\n\nexport type Action = { type: Access }\n","import { ExtendedLog } from './extended-log'\n\nconst mapping: Partial<\n  Record<keyof ExtendedLog, (value: string | number) => string>\n> = {\n  ticketCode: (value) => `l=>l.TicketCode==\"${value}\"`,\n}\n\nexport const getFilterMapper = (key: keyof ExtendedLog) =>\n  mapping[key] as (value: string | number) => string\n","import { ExtendedLog } from './extended-log'\n\nconst mapping: Partial<Record<keyof ExtendedLog, string>> = {\n  id: 'l=>l.Id',\n  date: 'l=>l.Date',\n  deviceName: 'l=>l.Device.Name',\n  ticketCode: 'l=>l.TicketCode',\n  bookingId: 'l=>l.BookingId',\n}\n\nexport const mapSortLogParam = (key: keyof ExtendedLog) => mapping[key]\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EXTENDED_LOGS_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\nimport { ExtendedLog } from './extended-log'\nimport { LogListParams } from './log-list.params'\nimport { getFilterMapper } from './log-filter.mapper'\nimport { mapSortLogParam } from './log-sort.mapper'\nimport { ALL_RESULTS } from '../common/filter.values'\n\nconst getFilterParams = (filter: Partial<ExtendedLog>) => {\n  if (Object.keys(filter).length) {\n    const filterParams = Object.entries(filter).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof ExtendedLog)\n      return mapper(value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}||${c}`)\n  }\n  return ALL_RESULTS\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { field, order },\n      pagination: { page, perPage },\n    }: LogListParams,\n  ): Promise<GetListResult<ExtendedLog>> => {\n    const filterParams = getFilterParams(filter)\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortLogParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ExtendedLogDto[]>(EXTENDED_LOGS_URL, path)\n    const extendedLogs = data.map(\n      ({\n        id,\n        date,\n        device: { name: deviceName },\n        ticketCode,\n        data: [{ text }],\n        bookingId,\n      }) =>\n        ({\n          id,\n          date,\n          deviceName,\n          ticketCode,\n          text,\n          bookingId,\n        } as ExtendedLog),\n    )\n\n    return Promise.resolve({\n      data: extendedLogs,\n      total,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","export const ALL_RESULTS = 'l=>true'\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport ticketInfoProvider from './ticket-info/ticket-info.provider'\nimport { ResourceName } from './ResourceName'\nimport ticketsProvider from './tickets/tickets.provider'\nimport ticketDetailsProvider from './ticket-details/ticket-details.provider'\nimport bookingsProvider from './bookings/bookings.provider'\nimport accessUsingsProvider from './access-usings/access-usings.provider'\nimport logsProvider from './logs/extended-logs.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_USINGS]: accessUsingsProvider,\n  [ResourceName.BOOKINGS]: bookingsProvider,\n  [ResourceName.LOGS]: logsProvider,\n  [ResourceName.TICKETS]: ticketsProvider,\n  [ResourceName.TICKET_INFO]: ticketInfoProvider,\n  [ResourceName.TICKET_DETAILS]: ticketDetailsProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import * as React from 'react'\nimport { TextField, TextFieldProps, useRecordContext } from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\n\nexport const MaskField = ({ source, ...rest }: TextFieldProps) => {\n  const record = useRecordContext()\n  const recordWithMappedValue = {\n    ...record,\n    [source as string]: maskMiddlePart(record[source as string], 2),\n  }\n  return <TextField {...rest} record={recordWithMappedValue} source={source} />\n}\n","/**\n * @example\n * maskMiddlePart('importantValue', 3) === 'imp********lue'\n */\nexport const maskMiddlePart = (word: string, threshold: number) => {\n  const firstChars = word.substring(0, threshold)\n  const lastChars = word.slice(-threshold)\n  const restCharsLength = word.length - firstChars.length - lastChars.length\n  return `${firstChars}${'*'.repeat(\n    restCharsLength > 0 ? restCharsLength : 0,\n  )}${lastChars}`\n}\n","import * as React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  TextField,\n  useListContext,\n} from 'react-admin'\nimport { useLocation } from 'react-router-dom'\nimport { Box, Divider, Typography } from '@material-ui/core'\nimport { FindUserByTicket } from '../common/FindUserByTicket'\nimport { MaskField } from '../common/MaskField'\nimport { ResourceName } from '../../core/ResourceName'\n\nconst TicketInfoGrid = () => {\n  const {\n    loading,\n    filterValues: { ticketCode },\n  } = useListContext()\n  return (\n    <>\n      <Box m={2}>\n        <Typography variant=\"h5\" paragraph>\n          Wyszukiwanie biletu po kodzie: {ticketCode}\n        </Typography>\n      </Box>\n      <Divider />\n      <Datagrid\n        loaded={!loading}\n        rowClick={(id) => `${ResourceName.TICKET_DETAILS}/${id}/show`}\n      >\n        <TextField label=\"Imię\" source=\"firstname\" sortable={false} />\n        <TextField label=\"Nazwisko\" source=\"lastname\" sortable={false} />\n        <MaskField label=\"Pesel\" source=\"pesel\" sortable={false} />\n        <TextField label=\"Bilet\" source=\"ticketCode\" sortable={false} />\n        <TextField label=\"Wydarzenie\" source=\"eventName\" sortable={false} />\n      </Datagrid>\n    </>\n  )\n}\n\nexport const TicketInfoList = (props: ListProps) => {\n  const { search } = useLocation()\n  return (\n    <>\n      <FindUserByTicket />\n      {!!search && (\n        <List actions={false} pagination={false} {...props}>\n          <TicketInfoGrid />\n        </List>\n      )}\n    </>\n  )\n}\n","import { TicketType } from '../enum/TicketType'\nimport { BookingType } from '../enum/BookingType'\n\nconst bookingTypeMapping: Record<BookingType, string> = {\n  [BookingType.NORMAL]: 'Bilet pojedynczy',\n  [BookingType.AB]: 'Abonament',\n  [BookingType.INFIX]: 'Infix',\n  [BookingType.POINTS]: 'Points',\n  [BookingType.SERVICE]: 'Karta serwisowa',\n}\n\nconst ticketTypeMapping: Record<TicketType, string> = {\n  [TicketType.K]: 'Kod kreskowy',\n  [TicketType.M]: 'Nr mifare',\n  [TicketType.Z]: 'Nr dowodu',\n  [TicketType.N]: 'Nr biletu',\n  [TicketType.P]: 'Pesel',\n  [TicketType.U]: 'Nr unique (125k)',\n  [TicketType.R]: 'Nr rejestracyjny',\n}\n\nexport const mapFromTicketType = (ticketType: TicketType): string =>\n  ticketTypeMapping[ticketType]\n\nexport const mapFromBookingType = (bookingType: BookingType): string =>\n  bookingTypeMapping[bookingType]\n","import * as React from 'react'\nimport { useShowContext } from 'react-admin'\nimport {\n  Box,\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      letterSpacing: theme.spacing(0.2),\n    },\n  }),\n)\nexport const TicketDetailsHeader = () => {\n  const classes = useStyles()\n  const { record } = useShowContext<TicketDetails>()\n  return (\n    <Box m={2}>\n      <Typography className={classes.header} variant=\"h5\" paragraph>\n        {record?.firstname} {record?.lastname}\n      </Typography>\n    </Box>\n  )\n}\n","import * as React from 'react'\nimport {\n  DateField,\n  Labeled,\n  TextField,\n  TextFieldProps,\n  useRecordContext,\n} from 'react-admin'\nimport {\n  Box,\n  Chip,\n  createStyles,\n  makeStyles,\n  Paper,\n  Theme,\n} from '@material-ui/core'\nimport { mapFromTicketType } from '../../core/ticket-details/ticket-details-values.mapper'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ticketBox: {\n      display: 'flex',\n      flexDirection: 'column',\n      padding: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n    ticketField: {\n      padding: theme.spacing(0),\n      margin: theme.spacing(0),\n      marginBottom: theme.spacing(0.5),\n    },\n  }),\n)\n\nexport const TicketDetailsTicketsField = ({ label }: TextFieldProps) => {\n  const classes = useStyles()\n  const record = useRecordContext<TicketDetails>()\n  const mappedRecords = (record.tickets || []).map(\n    ({ id, ticketType, createdAt, ticketCode }) => ({\n      id,\n      ticketCode,\n      ticketType: mapFromTicketType(ticketType),\n      createdAt,\n    }),\n  )\n  const fields = mappedRecords.map((mappedRecord) => (\n    <Paper\n      key={mappedRecord.id}\n      variant=\"elevation\"\n      className={classes.ticketBox}\n    >\n      <Labeled className={classes.ticketField} label=\"id\">\n        <TextField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"id\"\n        />\n      </Labeled>\n      <Labeled className={classes.ticketField} label=\"Kod biletu\">\n        <TextField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"ticketCode\"\n        />\n      </Labeled>\n      <Labeled className={classes.ticketField} label=\"Typ wejściówki\">\n        <Chip label={mappedRecord.ticketType} className={classes.ticketField} />\n      </Labeled>\n      <Labeled className={classes.ticketField} label=\"Utworzono\">\n        <DateField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"createdAt\"\n          showTime\n        />\n      </Labeled>\n    </Paper>\n  ))\n  return (\n    <Labeled label={label}>\n      <Box display=\"flex\" flexWrap=\"wrap\" flexDirection=\"row\">\n        {fields}\n      </Box>\n    </Labeled>\n  )\n}\n","import {\n  CREATE,\n  CreateParams,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  UpdateManyParams,\n} from 'react-admin'\nimport { TicketDetails } from './ticket-details'\nimport { ResourceName } from '../ResourceName'\nimport { AccessUsingsCreateParams } from '../access-usings/access-usings-create.params'\nimport { Access, Action, BlockButtonState } from './block-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst blockMutation = (ticketDetails: TicketDetails): Mutation => {\n  const { accessesIds, tickets } = ticketDetails\n  const ticketIds = tickets.map((t) => t.id)\n  return {\n    type: sanitizeFetchType(CREATE),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      data: { ticketIds, accessIds: accessesIds, verifierDeviceId: 1 },\n    } as CreateParams<AccessUsingsCreateParams>,\n  }\n}\n\nconst unblockMutation = ({ tickets }: TicketDetails): Mutation => {\n  const activeAccessUsingIds = tickets\n    .flatMap((t) => t.accessUsings)\n    .filter((au) => au.active)\n    .map((au) => au.id)\n  return {\n    type: sanitizeFetchType(UPDATE_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: activeAccessUsingIds,\n    } as UpdateManyParams,\n  }\n}\n\ntype State = {\n  mutateQuery?: (ticketDetails: TicketDetails) => Mutation\n} & BlockButtonState\n\nexport const blockAccessButtonInitialState = {\n  type: Access.DISABLED,\n  text: 'Oznacz dostęp jako wykorzystany (N/A)',\n}\n\nexport const blockAccessButtonReducer = (\n  state: State,\n  { type }: Action,\n): State => {\n  switch (type) {\n    case Access.BLOCK: {\n      return {\n        type,\n        text: 'Oznacz dostęp jako wykorzystany',\n        mutateQuery: blockMutation,\n      }\n    }\n    case Access.UNBLOCK: {\n      return {\n        type,\n        text: 'Zwolnij dostęp',\n        mutateQuery: unblockMutation,\n      }\n    }\n    case Access.DISABLED: {\n      return blockAccessButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Button, createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { Access } from '../../core/ticket-details/block-button'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport {\n  blockAccessButtonInitialState,\n  blockAccessButtonReducer,\n} from '../../core/ticket-details/block-access-button.reducer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const BlockAccessButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    blockAccessButtonReducer,\n    blockAccessButtonInitialState,\n  )\n  const ticketDetails = useRecordContext<TicketDetails>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const isActive = (td: TicketDetails) =>\n    td.tickets.some((t) => t.accessUsings.some((a) => a.active))\n\n  useEffect(() => {\n    if (isActive(ticketDetails)) {\n      dispatch({ type: Access.UNBLOCK })\n    } else {\n      dispatch({ type: Access.BLOCK })\n    }\n  }, [ticketDetails])\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(ticketDetails)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify(err?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === Access.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      color=\"secondary\"\n      onClick={onClick}\n    >\n      {text}\n    </Button>\n  )\n}\n","import { Access, Action, BlockButtonState } from './block-button'\nimport { BookingUpdateRequest } from '../bookings/booking-update.request'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\n\ntype State = {\n  mutateParam?: BookingUpdateRequest['disabled']\n} & BlockButtonState\n\nexport const blockTicketButtonInitialState = {\n  type: Access.DISABLED,\n  text: 'Zablokuj bilet (N/A)',\n}\n\nexport const blockTicketButtonReducer = (\n  state: State,\n  { type }: Action,\n): State => {\n  switch (type) {\n    case Access.BLOCK: {\n      return {\n        type,\n        text: 'Zablokuj bilet',\n        mutateParam: BookingDisabledOption.ADMIN,\n      }\n    }\n    case Access.UNBLOCK: {\n      return {\n        type,\n        text: 'Odblokuj bilet',\n        mutateParam: null,\n      }\n    }\n    case Access.DISABLED: {\n      return blockTicketButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  sanitizeFetchType,\n  UPDATE,\n  UpdateParams,\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Button, createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport { BookingUpdateRequest } from '../../core/bookings/booking-update.request'\nimport { BookingDisabledOption } from '../../core/enum/BookingDisabledOption'\nimport { ResourceName } from '../../core/ResourceName'\nimport {\n  blockTicketButtonInitialState,\n  blockTicketButtonReducer,\n} from '../../core/ticket-details/block-ticket-button.reducer'\nimport { Access } from '../../core/ticket-details/block-button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const BlockTicketButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateParam }, dispatch] = useReducer(\n    blockTicketButtonReducer,\n    blockTicketButtonInitialState,\n  )\n  const { id: bookingId, bookingDisabled } = useRecordContext<TicketDetails>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (bookingDisabled === null) {\n      dispatch({ type: Access.BLOCK })\n    } else if (bookingDisabled === BookingDisabledOption.ADMIN) {\n      dispatch({ type: Access.UNBLOCK })\n    } else {\n      dispatch({ type: Access.DISABLED })\n    }\n  }, [bookingDisabled])\n\n  const onClick = async () => {\n    try {\n      await mutate(\n        {\n          type: sanitizeFetchType(UPDATE),\n          resource: ResourceName.BOOKINGS,\n          payload: {\n            data: { id: bookingId, disabled: mutateParam },\n          } as UpdateParams<BookingUpdateRequest>,\n        },\n        { returnPromise: true },\n      )\n      refresh()\n    } catch (err) {\n      notify(err?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === Access.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      color=\"secondary\"\n      onClick={onClick}\n    >\n      {text}\n    </Button>\n  )\n}\n","import * as React from 'react'\nimport {\n  ChipFieldProps,\n  DateField,\n  Labeled,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  useRecordContext,\n} from 'react-admin'\nimport { Box, Chip, Divider } from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport { mapFromBookingType } from '../../core/ticket-details/ticket-details-values.mapper'\nimport { TicketDetailsHeader } from './TicketDetailsHeader'\nimport { TicketDetailsTicketsField } from './TicketDetailsTicketsField'\nimport { BlockAccessButton } from './BlockAccessButton'\nimport { BlockTicketButton } from './BlockTicketButton'\n\nconst MappedChipField = <T extends unknown>({\n  mapper,\n  source,\n}: ChipFieldProps & { mapper: (value: T) => string }) => {\n  const record = useRecordContext<TicketDetails>()\n  const mappedValue = mapper(record[source as string])\n  return <Chip label={mappedValue} />\n}\n\nexport const TicketDetailsView = (props: ShowProps) => (\n  <>\n    <Show {...props}>\n      <>\n        <TicketDetailsHeader />\n        <Divider />\n        <TabbedShowLayout syncWithLocation={false}>\n          <Tab label=\"Bilet\">\n            <TextField label=\"Impreza\" source=\"eventName\" />\n            <TextField label=\"Pesel\" source=\"pesel\" />\n            <TextField label=\"Wariant\" source=\"variantName\" />\n            <Labeled label=\"Rodzaj wejściówki\">\n              <MappedChipField\n                source=\"bookingType\"\n                mapper={mapFromBookingType}\n              />\n            </Labeled>\n            <DateField\n              label=\"Aktywny od\"\n              source=\"activeFrom\"\n              emptyText=\"N/A\"\n              showTime\n            />\n            <DateField\n              label=\"Aktywny do\"\n              source=\"activeTo\"\n              emptyText=\"N/A\"\n              showTime\n            />\n            <TicketDetailsTicketsField label=\"Wejściówki:\" />\n            <DateField label=\"Utworzono\" source=\"createdAt\" showTime />\n            <DateField label=\"Zmodyfikowano\" source=\"modifiedAt\" showTime />\n          </Tab>\n        </TabbedShowLayout>\n        <Divider />\n        <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n          <BlockAccessButton />\n          <BlockTicketButton />\n        </Box>\n      </>\n    </Show>\n  </>\n)\n","import * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  FilterProps,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n} from 'react-admin'\n\nconst LogGrid = () => (\n  <Datagrid>\n    <DateField label=\"Data\" source=\"date\" showTime />\n    <TextField label=\"Urządzenie\" source=\"deviceName\" />\n    <TextField label=\"Bilet\" source=\"ticketCode\" />\n    <TextField label=\"Opis\" source=\"text\" sortable={false} />\n    <TextField label=\"Rezerwacja\" source=\"bookingId\" />\n  </Datagrid>\n)\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n  <Filter {...props}>\n    <TextInput source=\"ticketCode\" alwaysOn />\n  </Filter>\n)\n\nexport const LogList = (props: ListProps) => (\n  <List\n    perPage={20}\n    exporter={false}\n    pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n    filters={<ListFilters />}\n    {...props}\n  >\n    <LogGrid />\n  </List>\n)\n","import React from 'react'\nimport ReceiptIcon from '@material-ui/icons/Receipt'\nimport { Admin, Resource } from 'react-admin'\nimport { Dashboard } from './main/Dashboard'\nimport { customTheme } from './custom.theme'\nimport { providersFactory } from './core/providers.factory'\nimport { TicketInfoList } from './main/ticket-info/TicketInfoList'\nimport { TicketDetailsView } from './main/ticket-details/TicketDetailsView'\nimport { ResourceName } from './core/ResourceName'\nimport { LogList } from './main/logs/LogList'\n\n// TODO: merge customers and products view\n// TODO: chage dashboard name - https://stackoverflow.com/questions/59879156/react-admin-how-to-change-the-dashboard-name-in-the-menu/59880647#59880647\n// TODO: create browser router - https://marmelab.com/react-admin/Admin.html#history\n// TODO: handle InfoDetailsView event for releasing access\n// TODO: add fake providers\nconst App = () => {\n  const { authProvider, dataProvider } = providersFactory(process.env.NODE_ENV)\n  return (\n    <Admin\n      theme={customTheme}\n      dashboard={Dashboard}\n      authProvider={authProvider}\n      dataProvider={dataProvider}\n    >\n      <Resource\n        options={{ label: 'Bilety' }}\n        icon={ReceiptIcon}\n        name={ResourceName.TICKET_INFO}\n        list={TicketInfoList}\n      />\n      <Resource\n        options={{ label: 'Wejściówka' }}\n        name={ResourceName.TICKET_DETAILS}\n        show={TicketDetailsView}\n      />\n      <Resource\n        options={{ label: 'Logi' }}\n        name={ResourceName.LOGS}\n        list={LogList}\n      />\n    </Admin>\n  )\n}\n\nexport default App\n","import { AuthProvider, DataProvider, LegacyDataProvider } from 'react-admin'\nimport fakeDataProvider from './fake/fake-data.provider'\nimport fakeAuthProvider from './fake/providers/fake-auth.provider'\nimport authProvider from './auth/auth.provider'\nimport dataProvider from './data.provider'\n\ninterface Providers {\n  readonly authProvider: AuthProvider\n  readonly dataProvider: DataProvider | LegacyDataProvider\n}\n\nexport const providersFactory = (\n  env: 'development' | 'test' | 'production',\n): Providers => {\n  switch (env) {\n    case 'production':\n      return {\n        authProvider,\n        dataProvider,\n      }\n    case 'development':\n      return {\n        authProvider,\n        dataProvider,\n      }\n    default:\n      return {\n        authProvider: fakeAuthProvider,\n        dataProvider: fakeDataProvider,\n      }\n  }\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}
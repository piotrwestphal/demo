{"version":3,"sources":["core/constants/reducer.actions.ts","core/common/theme.reducer.ts","core/ResourceName.ts","core/enum/TicketType.ts","core/enum/BookingType.ts","core/enum/BookingDisabledOption.ts","core/enum/CustomerDocumentType.ts","core/enum/Gender.ts","core/fake/providers/fake-access-usings.provider.ts","core/fake/providers/fake-bookings.provider.ts","core/fake/providers/fake-logs.provider.ts","core/fake/providers/fake-stats-overall-view-list.provider.ts","core/fake/providers/fake-stats-overall-view.provider.ts","core/fake/providers/fake-ticket-details.provider.ts","core/enum/AccessActivePeriodStartingOptions.ts","core/enum/AccessBonuses.ts","core/enum/DayOfWeek.ts","core/fake/providers/fake-ticket-info.provider.ts","core/fake/providers/fake-tickets.provider.ts","core/fake/providers/fake-accesses.provider.ts","core/enum/EventStatus.ts","core/fake/providers/fake-events.provider.ts","core/enum/DeviceDirection.ts","core/fake/providers/fake-customer-details.provider.ts","core/fake/providers/fake-customer-info.provider.ts","core/fake/providers/fake-access-dates.provider.ts","core/fake/providers/fake-companies.provider.ts","core/fake/providers/fake-objects.provider.ts","core/fake/providers/fake-palms.provider.ts","core/fake/providers/fake-engines.provider.ts","core/fake/providers/fake-entrances.provider.ts","core/fake/fake-data.provider.ts","core/fake/providers/fake-auth.provider.ts","core/common/header.parser.ts","core/common/fetch.utils.ts","core/api-urls.ts","core/auth/auth.provider.ts","core/access-usings/access-usings-sort.mapper.ts","core/auth/Authority.ts","core/access-usings/access-usings-filter.mapper.ts","core/access-usings/access-usings.provider.ts","core/bookings/booking-filter.mapper.ts","core/bookings/booking-sort.mapper.ts","core/bookings/bookings.mapper.ts","core/bookings/bookings.provider.ts","core/logs/log-filter.mapper.ts","core/logs/log-sort.mapper.ts","core/logs/extended-logs.mapper.ts","core/logs/extended-logs.provider.ts","core/common/filter.values.ts","core/stats/overall-view/overall-view-list-sort.mapper.ts","core/stats/overall-view/overall-view-list.mapper.ts","core/stats/overall-view/overall-view-list.provider.ts","core/stats/overall-view/overall-view.mapper.ts","core/stats/overall-view/overall-view.provider.ts","core/common/condition.builder.ts","core/common/mapper.utils.ts","core/ticket-details/ticket-details.mapper.ts","core/ticket-details/ticket-details.provider.ts","core/ticket-info/ticket-info.mapper.ts","core/ticket-info/ticket-info-sort.mapper.ts","core/ticket-info/ticket-info-filter.mapper.ts","core/ticket-info/ticket-info.provider.ts","core/tickets/tickets.provider.ts","core/accesses/access-filter.mapper.ts","core/accesses/access-sort.mapper.ts","core/accesses/access.provider.ts","core/events/event-sort.mapper.ts","core/events/event.provider.ts","core/customer-details/customer-details.provider.ts","core/customer-info/customer-info-filter.mapper.ts","core/customer-info/customer-info-sort.mapper.ts","core/customer-info/customer-info.provider.ts","core/access-dates/access-dates-filter.mapper.ts","core/access-dates/access-dates-sort.mapper.ts","core/access-dates/access-dates.provider.ts","core/companies/company-filter.mapper.ts","core/companies/company-sort.mapper.ts","core/companies/companies.provider.ts","core/objects/object-filter.mapper.ts","core/objects/object-sort.mapper.ts","core/objects/objects.provider.ts","core/devices/palms/palm-filter.mapper.ts","core/devices/palms/palm-sort.mapper.ts","core/devices/palms/palms.provider.ts","core/devices/engines/engine-filter.mapper.ts","core/devices/engines/engine-sort.mapper.ts","core/devices/engines/engines.provider.ts","core/entrances/entrance-sort.mapper.ts","core/entrances/entrance.provider.ts","core/data.provider.ts","core/i18n.provider.ts","core/auth/withSyncPermissions.ts","app.theme.ts","main/common/AppSubmenu.tsx","assets/icons/EngineDevice.js","main/common/AppMenu.tsx","main/common/AppLayout.tsx","main/common/SearchInput.tsx","main/common/FindCustomerByInfo.tsx","main/common/FindUserByTicket.tsx","core/auth/authority.mapper.ts","core/common/dashboard.ts","main/hooks/useHasAuthority.ts","main/events/EventList.tsx","main/logs/DateFilterInput.tsx","main/logs/LogsComponents.ts","main/logs/LogList.tsx","core/common/visual.utils.ts","main/Dashboard.tsx","core/ticket-details/toggle-button.ts","main/common/Configuration.tsx","main/common/routes.tsx","core/common/mask.utils.ts","main/common/MaskField.tsx","main/ticket-info/TicketInfoList.tsx","core/ticket-details/ticket-details-values.mapper.ts","main/ticket-details/TicketDetailsHeader.tsx","main/ticket-details/TicketDetailsTicketsField.tsx","core/ticket-details/toggle-access-button.reducer.ts","core/enum/Multiplicities.ts","main/ticket-details/ToggleAccessButton.tsx","core/ticket-details/toggle-ticket-button.reducer.ts","main/ticket-details/ToggleTicketButton.tsx","main/common/Pagination.tsx","main/ticket-details/accesses/AccessList.tsx","main/ticket-details/TicketDetailsComponents.tsx","main/ticket-details/accesses/AccessUsingsList.tsx","main/ticket-details/accesses/AccessDatesList.tsx","main/ticket-details/accesses/AccessShow.tsx","main/ticket-details/TicketDetailsView.tsx","main/stats/overall-view/OverallViewList.tsx","main/stats/overall-view/OverallView.tsx","main/events/EventShow.tsx","main/events/EventEdit.tsx","main/customer-info/CustomerInfoList.tsx","main/customer-details/CustomerBookingsList.tsx","main/customer-details/CustomerDetailsView.tsx","main/devices/palms/PalmList.tsx","main/devices/palms/PalmDialogs.tsx","main/devices/palms/PalmShow.tsx","main/devices/palms/PalmEdit.tsx","core/enum/StanbyMode.ts","main/devices/engines/EngineList.tsx","main/common/CheckboxField.tsx","main/devices/engines/EngineDialogs.tsx","main/devices/engines/EngineShow.tsx","main/devices/engines/EngineEdit.tsx","main/events/EventCreate.tsx","main/Resources.tsx","core/common/dashboard.reducer.ts","App.tsx","core/providers.factory.ts","reportWebVitals.ts","i18n.init.ts","index.tsx"],"names":["CHANGE_THEME","UPDATE_DASHBOARD","identity","localStorage","getItem","initialState","darkMode","themeReducer","ResourceName","state","action","type","setItem","TicketType","BookingType","BookingDisabledOption","CustomerDocumentType","Gender","provider","updateMany","resource","params","a","Promise","resolve","data","create","id","update","fakeLogs","date","ticketCode","bookingId","deviceName","text","color","getList","total","length","fakeStatsOverallViewList","name","dateStart","dateEnd","eventName","capacity","sold","entered","objects","getOne","found","find","v","reject","Error","AccessActivePeriodStartingOptions","AccessBonuses","DayOfWeek","fakeTicketDetailsList","firstname","lastname","pesel","variantName","accessesIds","bookingType","NORMAL","activeFrom","activeTo","tickets","ticketType","K","accessUsings","createdAt","M","modifiedAt","bookingDisabled","STORNO","company","birthdate","documentType","ID_CARD","documentNumber","nationality","gender","MALE","seatId","blockId","accesses","objectName","tribuneName","blockName","rowNumber","fakeTicketInfoList","eventId","eventDate","fakeTickets","active","accessUsingsIds","EventStatus","fakeAccesses","bonus","N","entranceId","allowReenter","multipleEntry","multiple","usePriority","isTicketUnlockWithNextDay","releaseTime","releaseDayOfWeek","FRIDAY","releaseDayOfMonth","delay","activePeriod","activePeriodStartingFrom","FIRST_USE","variantsIds","accessDatesIds","createdById","modifiedById","createdByName","modifiedByName","DeviceDirection","fakeEvents","status","INACTIVE","externalId","infix","objectsIds","fakeCustomerDetailsList","bookingsIds","c","fakeCustomerInfoList","fakeCompanies","usersIds","eventsIds","fakeObjects","tribunesIds","fakePalms","fakeEngines","fakeEntrances","dataProviders","ACCESS_DATES","fakeAccessDatesProvider","ACCESSES","fakeAccessesProvider","ACCESS_USINGS","fakeAccessUsingsProvider","BOOKINGS","fakeBookingsProvider","COMPANIES","fakeCompaniesProvider","CUSTOMER_DETAILS","fakeCustomerDetailsProvider","CUSTOMER_INFO","fakeCustomerInfoProvider","ENGINES","fakeEnginesProvider","ENTRANCES","fakeEntrancesProvider","EVENTS","fakeEventsProvider","LOGS","fakeLogsProvider","OBJECTS","fakeObjectsProvider","PALMS","fakePalmsProvider","TICKETS","fakeTicketsProvider","TICKET_INFO","fakeTicketInfoProvider","TICKET_DETAILS","fakeTicketDetailsProvider","TICKET_LOGS","STATS_OVERALL_VIEW","fakeStatsOverallViewProvider","STATS_OVERALL_VIEW_LIST","fakeStatsOverallViewListProvider","fetchType","sanitizeFetchType","authProvider","login","logout","checkError","checkAuth","getPermissions","Set","getIdentity","fullName","contentRangeParser","headerValue","split","rangeFrom","summarySecondPartSplit","rangeTo","parseInt","getToken","baseHeaders","authHeaders","token","Authorization","getWithHeaders","url","headers","fetchUtils","fetchJson","method","Headers","then","json","postWithHeaders","body","JSON","stringify","get","baseUrl","path","getWithToken","getByConditions","getWithPagination","range","post","patch","put","API_V1","process","AUTH_URL","ROLES_URL","ACCESSES_URL","BOOKINGS_URL","CUSTOMERS_URL","EVENTS_URL","EXTENDED_LOGS_URL","TICKETS_URL","VARIANTS_URL","SEATS_URL","BLOCKS_URL","TRIBUNES_URL","OBJECTS_URL","ENGINES_URL","PALMS_URL","COMPANIES_URL","USERS_URL","ENTRANCES_URL","username","password","roleDtos","roles","map","r","join","removeItem","Authority","mapping","direction","ticketId","accessId","lambdaParameter","value","getFilterParams","filter","Object","keys","entries","key","getFilterMapper","mapper","reduce","p","ids","pendingUpdates","auId","req","all","au","ticketIds","accessIds","request","flatMap","Date","toISOString","IN","verifierDeviceId","sort","field","order","pagination","page","perPage","filterParams","toString","queryParams","push","pathParams","tId","ticket","mapToBookings","events","variants","disabled","customerId","variantId","ticketsIds","foundEvent","event","foundVariant","variant","eventDateStart","booking","eventIds","variantIds","mapToExtendedLog","locale","scheme","device","logEntry","language","includes","partialValues","partialFilterValues","extendedLogs","dto","ALL_RESULTS","mapToEventOverallView","overallViewList","calculateCapacity","seats","bookings","b","mapToTribuneOverallView","tribune","blocks","enteredBookingIds","blocksIds","block","filteredSeats","s","filteredBookingIds","concat","filteredBookings","book","filteredEnteredBookingIds","enteredBookingId","filteredEnteredBookings","enteredBookings","soldNormal","enteredNormal","soldAbo","ABO","enteredAbo","soldInfix","INFIX","enteredInfix","soldService","SERVICE","enteredService","soldPoints","POINTS","enteredPoints","mapToBlockOverallView","mapToOverallView","selectedEvent","tribunes","o","object","filteredTribunes","t","objectId","filteredBlocks","filteredSeatIds","seatsIds","tribuneId","mapToObjectOverallView","pendingSelectedEvent","pendingObjects","pendingTribunes","pendingBlocks","pendingSeats","bookingsCondition","pendingBookings","pendingEnteredBookings","overallViewData","buildFilterByIdsCondition","firstId","prev","curr","toMapById","values","Map","toUniqueValues","Array","from","mapToTicketDetails","seat","accessUsingById","mapToTicket","rowAlias","seatNumber","numberAlias","fetchTicketsWithAccessUsings","accessUsingIds","pendingCustomer","pendingEvent","pendingVariant","pendingTicketsWithAccessUsings","getBlock","customer","mapToTicketBaseInfoList","customers","bookingById","customerById","eventById","mapToTicketBaseInfo","getByUniqueIds","uniqueIds","bookingIds","customerIds","pendingCustomers","pendingEvents","ticketBaseInfoList","filterByTicketCodeCondition","access","modifiedBy","createdBy","entrance","userName","entranceNote","note","getTime","getTimezoneOffset","toJSON","previousData","eventUpdate","previousName","previousDateStart","previousDateEnd","activate","undefined","deactivate","getCompaniesList","companies","attachCompanies","eventCompanies","detachCompanies","attachObjects","eventObjects","detachObjects","getDevicesList","devices","attachDevices","eventDevices","detachDevices","info","q","categoryId","isWatched","lastRefresh","onlineInfixCeck","multiplicity","lock","palmId","lockName","unlock","setMobileDeviceId","mobileDeviceId","resetMobileDeviceId","attachEvents","detachEvents","attachEntrances","entrancesIds","detachEntrances","address","engineEvents","engineEntrances","setTSCanCredentials","removeTSCanCredentials","setStandbyMode","accessDatesProvider","accessesProvider","accessUsingsProvider","bookingsProvider","companiesProvider","customersDetailsProvider","customersInfoProvider","engineProvider","entrancesProvider","eventsProvider","logsProvider","objectsProvider","palmProvider","ticketsProvider","ticketInfoProvider","ticketDetailsProvider","statsOverallViewProvider","statsOverallViewListProvider","translate","options","i18n","changeLocale","changeLanguage","getLocale","areRolesOutOfSync","local","remote","size","every","has","validateRoles","dataProvider","rolesFromRemote","rolesFromLocalStorage","console","error","withSynchronizedPermissions","Proxy","target","overriddenTheme","defaultTheme","typography","fontFamily","body1","fontWeight","body2","h5","overrides","RaFilter","form","margin","LightTheme","palette","primary","deepPurple","secondary","green","DarkTheme","light","main","dark","contrastText","useStyles","makeStyles","theme","icon","minWidth","spacing","sidebarIsOpen","transition","paddingLeft","sidebarIsClosed","SubMenu","props","handleToggle","isOpen","children","sidebarOpen","useSelector","admin","ui","classes","header","MenuItem","button","onClick","ListItemIcon","className","ExpandMore","Typography","Tooltip","title","placement","Collapse","in","timeout","unmountOnExit","component","disablePadding","createSvgIcon","React","d","open","width","closed","AppMenu","avRes","useState","menuStats","menuDevices","setOpen","availableResources","getResources","useTranslate","menu","style","userSelect","DashboardMenuItem","MenuItemLink","to","primaryText","leftIcon","Receipt","Person","List","Event","ViewComfy","Sort","transform","anyDeviceResourcesAvailable","VideoLabel","PhoneAndroid","EngineDevice","flex","textOverflow","whiteSpace","overflow","AppUserMenu","UserMenu","Settings","AppTopBar","AppBar","userMenu","AppLayout","Layout","appBar","RoundInputBox","withStyles","root","borderRadius","marginLeft","display","flexDirection","border","borderColor","Box","RoundInputBoxBtn","background","borderTopLeftRadius","borderBottomLeftRadius","Button","RoundInputBoxFC","marginTop","FormControl","SearchInput","label","onValue","inputError","setInputError","inputValue","setInputValue","handleClick","Input","disableUnderline","placeholder","onInput","onKeyDown","ev","FormHelperText","FindCustomerByInfo","history","useHistory","notify","useNotify","setError","useMutation","mutate","loading","fetchCustomers","useCallback","GET_LIST","payload","returnPromise","replace","onlyCustomer","pathname","search","message","CardHeader","CardContent","FindUserByTicket","fetchTickets","onlyTicket","DashboardItem","VIEW_LOGS","VIEW_STATS_OVERALL_VIEW","VIEW_EVENTS","EDIT_EVENTS","CREATE_EVENTS","hasAuthorityWithGivenPermissions","authority","permissions","permissionSet","mapAuthorityToRequiredPermissions","some","reqPerms","useHasAuthority","usePermissions","loaded","actionColumnsWithoutPadding","padding","LastEvents","hasAuthority","Datagrid","FunctionField","render","record","toLowerCase","Link","IconButton","EventDateField","source","toDateString","DateField","getHours","getMinutes","showTime","EventGrid","compactMode","useListContext","useTheme","smallScreen","useMediaQuery","breakpoints","down","rowClick","TextField","EventFilters","Filter","TextInput","alwaysOn","EventList","actions","filters","exporter","Pagination","rowsPerPageOptions","createStyles","container","justifyContent","verticalAlign","marginBottom","DateFilterInput","defaultFromDate","now","setHours","defaultToDate","dateFrom","setDateFrom","dateTo","setDateTo","useField","onChange","input","meta","touched","convertedDate","substring","defaultValue","e","parse","helperText","alignSelf","VCenterGrid","Grid","VHCenterGrid","alignItems","BookingButton","xSmallScreen","ShowButton","basePath","LogExpand","noBooking","item","xs","Divider","LogBody","rowStyle","expand","TableBody","DatagridRow","LogHeader","DatagridHeader","sortable","LogFilters","SelectInput","choices","LogList","listProps","useLocale","bulkActionButtons","isRowExpandable","hexcolor","substr","INACTIVE_COMPONENTS_KEY","ToggleType","textAlign","letterSpacing","lastLogs","TicketFinder","Card","CustomerFinder","LastLogs","ResourceContextProvider","Dashboard","inactiveComponents","dashboard","isItemActive","inactiveItems","titleTypographyProps","sm","TICKET_FINDER","LAST_EVENTS","CUSTOMER_FINDER","LAST_LOGS","select","compsContainer","DashboardItemSwitch","dashboardItem","dispatch","useDispatch","Paper","FormControlLabel","control","Switch","checked","labelPlacement","DashboardCustomization","Configuration","setLocale","useSetLocale","Title","ButtonGroup","Select","exact","maskMiddlePart","word","threshold","firstChars","lastChars","slice","restCharsLength","repeat","MaskField","rest","useRecordContext","properRecord","TicketInfoGrid","filterValues","m","height","paragraph","TicketInfoFilters","TicketInfoList","bookingTypeMapping","ticketTypeMapping","Z","P","U","R","mapFromBookingType","mapFromTicketType","TicketDetailsHeader","useShowContext","ticketBox","ticketField","TicketDetailsTicketsField","fields","mappedRecord","Labeled","Chip","flexWrap","Multiplicities","blockMutation","ticketDetails","CREATE","unblockMutation","activeAccessUsingIds","UPDATE_MANY","blockAccessButtonInitialState","DISABLED","toggleAccessButtonReducer","BLOCK","mutateQuery","UNBLOCK","common","white","ToggleAccessButton","useReducer","mutationLoading","refresh","useRefresh","useEffect","query","blockTicketButtonInitialState","toggleTicketButtonReducer","mutateParam","ADMIN","ToggleTicketButton","UPDATE","MobilePostPagination","setPage","setPerPage","nbPages","Math","ceil","Toolbar","elevation","AccessGrid","setSelected","TableContainer","Table","TableHead","TableRow","TableCell","cursor","hover","AccessList","up","FullWidthButton","fontSize","ButtonBase","BackButton","writingMode","textOrientation","BackButtonText","AccessUsingsBody","refetch","patchAccess","Power","PowerOff","AccessUsingsHeader","AccessUsingsList","AccessDatesList","timeFrom","timeTo","TabButton","selected","change","AccessDetails","NO_LIMIT","AccessDates","AccessUses","AccessShow","selectedTab","setSelectedTab","handleTabChange","prop","Show","MappedChipField","mappedValue","AccessDetailsView","selectedAccess","setSelectedAccess","Hidden","xlDown","paddingY","ProfileDetailsView","Tab","addLabel","StatusButtons","TicketMainView","TicketLogsView","TicketDetailsView","TabbedShowLayout","syncWithLocation","OverallViewGrid","OverallViewFilters","OverallViewList","noBottomBorder","borderBottom","quarterWidth","ViewTitle","description","BlockGrid","firstColumnEntries","secondColumnEntries","thirdColumnEntries","paddingTop","TribuneGrid","TribuneHeader","ArrayField","ObjectGrid","OverallView","ShowTitle","useMemo","Attachments","currentSort","refetchList","useQuery","toLocaleLowerCase","allFiltered","refetchAllFiltered","getAttachmentsFetchType","enabled","attachedDto","refetchAttachedIds","isAttached","attachmentId","companiesIds","verifierDevicesIds","handleAttach","idsToAttach","handleDetach","idsToDetach","Checkbox","GeneralEditButton","handleActivation","IN_TRANSITION","ACTIVE","marginRight","EditButton","EventShow","EditTitle","EditToolbar","SaveButton","Cancel","EventEdit","Edit","SimpleForm","redirect","toolbar","DateTimeInput","CustomerInfoGrid","smallDevice","CustomerInfoFilters","CustomerInfoList","BookingGrid","BookingList","CustomerBookingsView","CustomerLogsView","CustomerTabs","bookingPresent","CustomerDetailsView","PalmFilters","PalmList","ConfirmDialog","confirm","cancel","Dialog","DialogTitle","DialogActions","DeviceIdModal","close","setValue","errorText","setErrorText","confirmOpen","setConfirmOpen","palm","handleClose","handleSetMobileDeviceId","onClose","DialogContent","fullWidth","LockModal","handleLock","GeneralActions","deviceIdModalOpen","setDeviceIdModalOpen","lockModalOpen","setLockModalOpen","unlockDialogOpen","setUnlockDialogOpen","resetIdDialogOpen","setResetIdDialogOpen","attachedList","PalmTabs","day","month","year","hour","minute","PalmShow","StanbyMode","HidingField","useEditContext","PalmEdit","hasShow","BooleanInput","OUT","INFO","SINGLE","MULTIPLE","CHECK_ALL","EngineGrid","EngineList","sanitizeFieldRestProps","allowEmpty","cellClassName","emptyText","formClassName","headerClassName","linkType","link","sortBy","sortByOrder","translateChoice","CheckboxField","checkBySource","dialogProperty","SetTSCanCredentialsModal","loginValue","setLoginValue","useStateRef","loginError","setLoginError","loginErrorCurrentValue","loginErrorText","setLoginErrorText","passwordValue","setPasswordValue","passwordError","setPasswordError","passwordErrorCurrentValue","passwordErrorText","setPasswordErrorText","engine","handleSetTSCanCredentials","current","engineId","autoComplete","SetStandbyModeModal","handleSetStandbyMode","stanbyMode","ALWAYS_ON","ALWAYS_OFF","SENSOR","standbyModeModalOpen","setStandbyModeModalOpen","removeTSCanCredentialsDialogOpen","setRemoveTSCanCredentialsDialogOpen","tsCanCredentialsModalOpen","setTSCanCredentialsModalOpen","handleRemoveTSCanCredentials","RelationTab","mode","relatedRecordId","Actions","getFilteredRelatedRecordsIds","handleAttachAll","handleDetachAll","TopToolbar","listFilters","listSort","tableLayout","listColumns","EngineTabs","EngineShow","EngineEdit","CreateTitle","ObjectsInput","objectIds","EventCreate","Create","TabbedForm","FormTab","isRequired","validate","required","generateResourcesBasedOnPermissions","Resource","ReceiptIcon","list","show","PersonIcon","edit","ViewComfyIcon","save","dashboardReducer","App","env","i18nProvider","fakeAuthProvider","fakeDataProvider","providersFactory","Admin","customReducers","customRoutes","routes","layout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lng","use","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","resources","pl","translation","plTranslation","en","enTranslation","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa631b37.chunk.js","sourcesContent":["export const CHANGE_THEME = 'change-theme'\nexport const UPDATE_DASHBOARD = 'dashboard/update'\n","import { Action } from 'redux'\nimport { CHANGE_THEME } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\n\nexport type ThemeState = {\n  theme: {\n    darkMode: 'light' | 'dark'\n  }\n}\n\nconst initialState = {\n  darkMode: localStorage.getItem(`${identity}.darkMode`) === 'dark' ? 'dark' : 'light',\n}\n\nfunction themeReducer(state = initialState, action: Action<any>) {\n    if (action.type === CHANGE_THEME) {\n        if (state.darkMode === 'dark') localStorage.setItem(`${identity}.darkMode`, 'light')\n        else localStorage.setItem(`${identity}.darkMode`, 'dark')\n        return {\n            ...state,\n            darkMode: state.darkMode === 'dark' ? 'light' : 'dark'\n        }\n    }\n    return state\n}\n\nexport default themeReducer","export enum ResourceName {\n  ACCESS_DATES = 'access-dates',\n  ACCESSES = 'accesses',\n  ACCESS_USINGS = 'access-usings',\n  BOOKINGS = 'bookings',\n  ENGINES = 'engines',\n  EVENTS = 'events',\n  COMPANIES = 'companies',\n  CUSTOMER_DETAILS = 'customer-details',\n  CUSTOMER_INFO = 'customer-info',\n  LOGS = 'logs',\n  OBJECTS = 'objects',\n  PALMS = 'palms',\n  TICKETS = 'tickets',\n  TICKET_DETAILS = 'ticket-details',\n  TICKET_INFO = 'ticket-info',\n  TICKET_LOGS = 'ticket-logs',\n  STATS_OVERALL_VIEW_LIST = \"stats-overall-view-list\",\n  STATS_OVERALL_VIEW = \"stats-overall-view\",\n  ENTRANCES = 'entrances'\n}\n","export enum TicketType {\n  K = 'K',\n  M = 'M',\n  Z = 'Z',\n  N = 'N',\n  P = 'P',\n  U = 'U',\n  R = 'R',\n}\n","export enum BookingType {\n  NORMAL = 'NORMAL',\n  ABO = 'ABO',\n  INFIX = 'INFIX',\n  SERVICE = 'SERVICE',\n  POINTS = 'POINTS',\n}\n","export enum BookingDisabledOption {\n  ADMIN = 'ADMIN',\n  BAN = 'BAN',\n  STORNO = 'STORNO',\n  MISTAKE = 'MISTAKE',\n}\n","export enum CustomerDocumentType {\n  OTHER = 'OTHER',\n  ID_CARD = 'ID_CARD',\n  PASSPORT = 'PASSPORT',\n  STUDENT_CARD = 'STUDENT_CARD',\n  SCHOOL_ID = 'SCHOOL_ID',\n  DRIVING_LICENSE = 'DRIVING_LICENSE',\n}\n","export enum Gender {\n  MALE = 'MALE',\n  FEMALE = 'FEMALE',\n}\n","import { CreateResult, DataProvider, UpdateManyResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateMany: async (resource, params): Promise<UpdateManyResult> =>\n    Promise.resolve({\n      data: [1],\n    }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create: async (resource, params): Promise<CreateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider, UpdateResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update: async (resource, params): Promise<UpdateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { ExtendedLog } from '../../logs/extended-log'\n\nconst fakeLogs: ExtendedLog[] = [\n  {\n    id: 1,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52815,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 2,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52816,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 3,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 1111,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 4,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 11112,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 5,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 16612,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 6,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 167782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 7,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 122782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 8,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 189782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 9,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 183332,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n  {\n    id: 10,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 656565,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeLogs, total: fakeLogs.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventOverallView } from '../../stats/overall-view/event-overall-view'\n\nconst fakeStatsOverallViewList: EventOverallView[] = [\n  {\n    id: 1,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 2,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 3,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 4,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n  {\n    id: 5,\n    name: \"\",\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267'\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeStatsOverallViewList, total: fakeStatsOverallViewList.length }),\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { DateTime } from '../../common/date-time'\nimport { OverallView } from '../../stats/overall-view/overall-view'\n\nconst fakeStatsOverallViewList: OverallView[] = [\n  {\n    id: 1,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: \"01-01-2021T00:00.00\" as DateTime\n  },\n  {\n    id: 2,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: \"01-01-2021T00:00.00\" as DateTime\n  },\n  {\n    id: 3,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: \"01-01-2021T00:00.00\" as DateTime\n  },\n  {\n    id: 4,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: \"01-01-2021T00:00.00\" as DateTime\n  },\n  {\n    id: 5,\n    eventName: \"\",\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: \"01-01-2021T00:00.00\" as DateTime\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeStatsOverallViewList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { TicketType } from '../../enum/TicketType'\nimport { TicketDetails } from '../../ticket-details/ticket-details'\nimport { BookingType } from '../../enum/BookingType'\nimport { BookingDisabledOption } from '../../enum/BookingDisabledOption'\nimport { CustomerDocumentType } from '../../enum/CustomerDocumentType'\nimport { Gender } from '../../enum/Gender'\n\nconst fakeTicketDetailsList: TicketDetails[] = [\n  {\n    id: 1,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: BookingDisabledOption.STORNO,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 2,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: BookingDisabledOption.STORNO,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 3,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 4,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 5,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 6,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 7,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 8,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 9,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n  {\n    id: 10,\n    firstname: 'Andrzej',\n    lastname: 'Nawrot',\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    pesel: '72052000192',\n    variantName: 'Normalny E1x',\n    accessesIds: [10],\n    bookingType: BookingType.NORMAL,\n    activeFrom: null,\n    activeTo: null,\n    tickets: [\n      {\n        id: 56424,\n        ticketCode: '060000020917',\n        ticketType: TicketType.K,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n      {\n        id: 56425,\n        ticketCode: 'DDEAF42C',\n        ticketType: TicketType.M,\n        accessUsings: [],\n        createdAt: '2021-07-15T08:50:27.2054',\n      },\n    ],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    bookingDisabled: null,\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    documentNumber: \"12345678901\",\n    nationality: \"Poland\",\n    gender: Gender.MALE,\n    seatId: null,\n    blockId: null,\n    accesses: [],\n    objectName: null,\n    tribuneName: null,\n    blockName: null,\n    rowNumber: null\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeTicketDetailsList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum AccessActivePeriodStartingOptions {\n  NO_LIMIT = 'NO_LIMIT',\n  PURCHASE_DATE = 'PURCHASE_DATE',\n  FIRST_USE = 'FIRST_USE',\n}\n","export enum AccessBonuses {\n  N = 'N',\n  Y = 'Y',\n  Z = 'Z',\n  D = 'D',\n}\n","export enum DayOfWeek {\n  SUNDAY = 'Sunday',\n  MONDAY = 'Monday',\n  TUESDAY = 'Tuesday',\n  WEDNESDAY = 'Wednesday',\n  THURSDAY = 'Thursday',\n  FRIDAY = 'Friday',\n  SATURDAY = 'Saturday',\n}\n","import { DataProvider } from 'react-admin'\nimport { TicketType } from '../../enum/TicketType'\nimport { TicketInfo } from '../../ticket-info/ticket-info'\n\nconst fakeTicketInfoList: TicketInfo[] = [\n  {\n    id: 1,\n    firstname: 'Marek',\n    lastname: 'Pies',\n    pesel: '47120554776',\n    eventId: 0,\n    eventName: 'Podbeskidzie Bielsko-Biaa Sparing',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 2,\n    firstname: 'Janek',\n    lastname: 'Kruganek',\n    pesel: '47120554776',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 3,\n    firstname: 'Wacaw',\n    lastname: 'Rymski',\n    pesel: '9988711225',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 4,\n    firstname: 'Mirka',\n    lastname: 'Korze',\n    pesel: '56483978659',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 5,\n    firstname: 'Tis',\n    lastname: 'Lomasz',\n    pesel: '47120554776',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 6,\n    firstname: 'Bogdana',\n    lastname: 'Jaruzelska',\n    pesel: '47120554776',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 7,\n    firstname: 'Jeremi',\n    lastname: 'Pomidor',\n    pesel: '12345678900',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 8,\n    firstname: 'Roman',\n    lastname: 'Zoman',\n    pesel: '13243567890',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 9,\n    firstname: 'Bacha',\n    lastname: 'Kaszalot',\n    pesel: '98097612678',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n  {\n    id: 10,\n    firstname: 'Jadwiga',\n    lastname: 'Ogrek',\n    pesel: '47120554776',\n    eventId: 0,\n    eventName: 'POGO SZCZECIN 20/21',\n    eventDate: '2021-07-15T08:50:27.2054',\n    ticketCode: '1234567890',\n    ticketType: TicketType.K,\n    bookingId: 0\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeTicketInfoList,\n      total: fakeTicketInfoList.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { TicketDto } from '../../dto/ticket.dto'\nimport { TicketType } from '../../enum/TicketType'\n\nconst fakeTickets: TicketDto[] = [\n  {\n    id: 1,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52815,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52816,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    ticketCode: '010000011492',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52817,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    ticketCode: '411000006572',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52818,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    ticketCode: '871000006824',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52819,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    ticketCode: '370000011495',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52820,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    ticketCode: '450000011501',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52821,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    ticketCode: '630000011502',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52822,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    ticketCode: '020000011503',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52823,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    ticketCode: '310000011504',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52824,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTickets, total: fakeTickets.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { Access } from '../../accesses/access'\nimport { AccessActivePeriodStartingOptions } from '../../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../enum/AccessBonuses'\nimport { DayOfWeek } from '../../enum/DayOfWeek'\n\nconst fakeAccesses: Access[] = [\n  {\n    id: 1,\n    name: 'access1',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 2,\n    name: 'access2',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 3,\n    name: 'access3',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 4,\n    name: 'access4',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 5,\n    name: 'access5',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 6,\n    name: 'access6',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 7,\n    name: 'access7',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 8,\n    name: 'access8',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 9,\n    name: 'access9',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n  {\n    id: 10,\n    name: 'access10',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.FRIDAY,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n    createdByName: \"abc\",\n    modifiedByName: \"abc\"\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeAccesses, total: fakeAccesses.length }),\n} as DataProvider\n\nexport default provider\n","export enum EventStatus {\n  INACTIVE = 'INACTIVE',\n  ACTIVE = 'ACTIVE',\n  IN_TRANSITION = 'IN_TRANSITION',\n}\n","import { DataProvider } from 'react-admin'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { EventStatus } from '../../enum/EventStatus'\n\nconst fakeEvents: EventDto[] = [\n  {\n    id: 1,\n    name: \"Event1\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 2,\n    name: \"Event2\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 3,\n    name: \"Event3\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 4,\n    name: \"Event4\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 5,\n    name: \"Event5\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 6,\n    name: \"Event6\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 7,\n    name: \"Event7\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 8,\n    name: \"Event8\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 9,\n    name: \"Event9\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n  {\n    id: 10,\n    name: \"Event10\",\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3]\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEvents, total: fakeEvents.length })\n} as DataProvider\n\nexport default provider","export enum DeviceDirection {\n  IN = 'IN',\n  OUT = 'OUT',\n  INFO = 'INFO',\n}\n","import { DataProvider } from 'react-admin'\nimport { CustomerDetails } from \"../../customer-details/customer-details\";\nimport { CustomerDocumentType } from '../../enum/CustomerDocumentType'\nimport { Gender } from '../../enum/Gender'\n\nconst fakeCustomerDetailsList: CustomerDetails[] = [\n  {\n    id: 1,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 2,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 3,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 4,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 5,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 6,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 7,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 8,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 9,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n  {\n    id: 10,\n    type: \"MANUAL\",\n    firstname: \"Jan\",\n    lastname: \"Kowalski\",\n    company: \"ABC\",\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: \"12345678901\",\n    documentNumber: null,\n    nationality: \"PL\",\n    gender: Gender.MALE,\n    bookingsIds: []\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeCustomerDetailsList.find((c) => `${c.id}` === id)\n    if(found) {\n      return Promise.resolve({\n        data: found\n      })\n    }\n    return Promise.reject(new Error())\n  }\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { CustomerInfo } from '../../customer-info/customer-info'\n\nconst fakeCustomerInfoList: CustomerInfo[] = [\n  {\n    id: 1,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 2,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 3,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 4,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 5,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 6,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 7,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 8,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 9,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n  {\n    id: 10,\n    firstname: \"jan\",\n    lastname: \"kowalski\",\n    pesel: \"12345678901\",\n    documentNumber: \"12345678901\"\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeCustomerInfoList, total: fakeCustomerInfoList.length })\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: {}, total: 0 }),\n} as DataProvider\n\nexport default provider","import { DataProvider } from \"react-admin\"\nimport { CompanyDto } from \"../../dto/company.dto\"\n\nconst fakeCompanies: CompanyDto[] = [\n  {\n    id: 0,\n    name: \"0\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 1,\n    name: \"1\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 2,\n    name: \"2\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 3,\n    name: \"3\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 4,\n    name: \"4\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 5,\n    name: \"5\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 6,\n    name: \"6\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 7,\n    name: \"7\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 8,\n    name: \"8\",\n    usersIds: [],\n    eventsIds: []\n  },\n  {\n    id: 9,\n    name: \"9\",\n    usersIds: [],\n    eventsIds: []\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeCompanies, total: fakeCompanies.length })\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { ObjectDto } from '../../dto/object.dto'\n\nconst fakeObjects: ObjectDto[] = [\n  {\n    id: 0,\n    name: \"0\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 1,\n    name: \"1\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 2,\n    name: \"2\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 3,\n    name: \"3\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 4,\n    name: \"4\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 5,\n    name: \"5\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 6,\n    name: \"6\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 7,\n    name: \"7\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 8,\n    name: \"8\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n  {\n    id: 9,\n    name: \"9\",\n    tribunesIds: [],\n    eventsIds: []\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeObjects, total: fakeObjects.length })\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin';\nimport { PalmDto } from '../../dto/device/palm/palm.dto';\n\nconst fakePalms: PalmDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePalms, total: fakePalms.length })\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\n\nconst fakeEngines: EngineDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEngines, total: fakeEngines.length })\n} as DataProvider\n\nexport default provider","import { DataProvider } from 'react-admin'\nimport { EntranceDto } from '../../dto/entrance.dto'\n\nconst fakeEntrances: EntranceDto[] = []\n\nconst provider = {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getList: (resource, params) =>\n        Promise.resolve({ data: fakeEntrances, total: fakeEntrances.length })\n} as DataProvider\n\nexport default provider","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport fakeAccessUsingsProvider from './providers/fake-access-usings.provider'\nimport fakeBookingsProvider from './providers/fake-bookings.provider'\nimport fakeLogsProvider from './providers/fake-logs.provider'\nimport fakeStatsOverallViewListProvider from './providers/fake-stats-overall-view-list.provider'\nimport fakeStatsOverallViewProvider from './providers/fake-stats-overall-view.provider'\nimport fakeTicketDetailsProvider from './providers/fake-ticket-details.provider'\nimport fakeTicketInfoProvider from './providers/fake-ticket-info.provider'\nimport fakeTicketsProvider from './providers/fake-tickets.provider'\nimport fakeAccessesProvider from './providers/fake-accesses.provider'\nimport fakeEventsProvider from './providers/fake-events.provider'\nimport fakeCustomerDetailsProvider from './providers/fake-customer-details.provider'\nimport fakeCustomerInfoProvider from './providers/fake-customer-info.provider'\nimport fakeAccessDatesProvider from './providers/fake-access-dates.provider'\nimport fakeCompaniesProvider from './providers/fake-companies.provider'\nimport fakeObjectsProvider from './providers/fake-objects.provider'\nimport fakePalmsProvider from './providers/fake-palms.provider'\nimport fakeEnginesProvider from './providers/fake-engines.provider'\nimport fakeEntrancesProvider from './providers/fake-entrances.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: fakeAccessDatesProvider,\n  [ResourceName.ACCESSES]: fakeAccessesProvider,\n  [ResourceName.ACCESS_USINGS]: fakeAccessUsingsProvider,\n  [ResourceName.BOOKINGS]: fakeBookingsProvider,\n  [ResourceName.COMPANIES]: fakeCompaniesProvider,\n  [ResourceName.CUSTOMER_DETAILS]: fakeCustomerDetailsProvider,\n  [ResourceName.CUSTOMER_INFO]: fakeCustomerInfoProvider,\n  [ResourceName.ENGINES]: fakeEnginesProvider,\n  [ResourceName.ENTRANCES]: fakeEntrancesProvider,\n  [ResourceName.EVENTS]: fakeEventsProvider,\n  [ResourceName.LOGS]: fakeLogsProvider,\n  [ResourceName.OBJECTS]: fakeObjectsProvider,\n  [ResourceName.PALMS]: fakePalmsProvider,\n  [ResourceName.TICKETS]: fakeTicketsProvider,\n  [ResourceName.TICKET_INFO]: fakeTicketInfoProvider,\n  [ResourceName.TICKET_DETAILS]: fakeTicketDetailsProvider,\n  [ResourceName.TICKET_LOGS]: fakeLogsProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: fakeStatsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: fakeStatsOverallViewListProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import { AuthProvider } from 'react-admin'\n\nconst authProvider: AuthProvider = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(new Set([])),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'no-auth',\n      fullName: 'no-auth',\n    }),\n}\n\nexport default authProvider\n","export type ContentRangeHeaderValue = `bytes ${number}-${number}/${number}`\n\nexport const contentRangeParser = (headerValue: ContentRangeHeaderValue) => {\n  if (!headerValue) {\n    // 'content-range' header should exist otherwise pagination doesn't work\n    return {\n      total: 0,\n    }\n  }\n  const summary = headerValue.split(' ')[1]\n  const split = summary.split('-')\n  const rangeFrom = split[0]\n  const summarySecondPartSplit = split[1].split('/')\n  const rangeTo = summarySecondPartSplit[0]\n  const total = summarySecondPartSplit[1]\n  return {\n    rangeFrom: parseInt(rangeFrom, 10),\n    rangeTo: parseInt(rangeTo, 10),\n    total: parseInt(total, 10),\n  }\n}\n","import { fetchUtils } from 'react-admin'\nimport { ContentRangeHeaderValue, contentRangeParser } from './header.parser'\n\nconst getToken = () => localStorage.getItem('token') as string\n\nconst baseHeaders: HeadersInit = {\n  'Content-Type': 'application/json',\n}\n\nconst authHeaders = (token = getToken()): HeadersInit => ({\n  ...baseHeaders,\n  Authorization: `Bearer ${token}`,\n})\n\nconst getWithHeaders = <T>(url: string, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'GET',\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<T>)\n\nconst postWithHeaders = <T, K>(url: string, body: T, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const get = <T>(baseUrl: string, path?: string) =>\n  getWithHeaders<T>(`${baseUrl}${path || ''}`, authHeaders())\n\nexport const getWithToken = <T>(url: string, token: string) =>\n  getWithHeaders<T>(url, authHeaders(token))\n\nexport const getByConditions = <T>(\n  baseUrl: string,\n  path: string,\n): Promise<T[]> =>\n  getWithHeaders<T[]>(`${baseUrl}/GetByConditions/${path}`, authHeaders())\n\nexport const getWithPagination = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json, headers }) =>\n      Promise.resolve({\n        data: json as T,\n        range: contentRangeParser(\n          headers.get('content-range') as ContentRangeHeaderValue,\n        ),\n      }),\n    )\n\nexport const authPost = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, baseHeaders)\n\nexport const post = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, authHeaders())\n\nexport const patch = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PATCH',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const put = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PUT',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n","const API_V1 = `${process.env.REACT_APP_API_BASE_URL}/api/v1`\nexport const AUTH_URL = `${API_V1}/Authorization/Authenticate`\nexport const ROLES_URL = `${API_V1}/User/GetRoles`\nexport const ACCESS_USINGS = `${API_V1}/ticketManagement/AccessUsings`\nexport const ACCESSES_URL = `${API_V1}/ticketManagement/Accesses`\nexport const ACCESS_DATES = `${API_V1}/ticketManagement/AccessDates`\nexport const BOOKINGS_URL = `${API_V1}/ticketManagement/Bookings`\nexport const CUSTOMERS_URL = `${API_V1}/ticketManagement/Customers`\nexport const EVENTS_URL = `${API_V1}/ticketManagement/Events`\nexport const EXTENDED_LOGS_URL = `${API_V1}/ticketManagement/Logs/GetExtendedLogByConditions`\nexport const TICKETS_URL = `${API_V1}/ticketManagement/Tickets`\nexport const VARIANTS_URL = `${API_V1}/ticketManagement/Variants`\nexport const SEATS_URL = `${API_V1}/ticketManagement/Seats`\nexport const BLOCKS_URL = `${API_V1}/ticketManagement/Blocks`\nexport const TRIBUNES_URL = `${API_V1}/ticketManagement/Tribunes`\nexport const OBJECTS_URL = `${API_V1}/ticketManagement/Objects`\nexport const ENGINES_URL = `${API_V1}/deviceManagement/Engines`\nexport const PALMS_URL = `${API_V1}/deviceManagement/Palms`\nexport const COMPANIES_URL = `${API_V1}/Administrator/GetCompaniesByConditions`\nexport const USERS_URL = `${API_V1}/Administrator/GetUserById/`\nexport const ENTRANCES_URL = `${API_V1}/deviceManagement/Entrances`","import { AuthProvider } from 'react-admin'\nimport { authPost, getWithToken } from '../common/fetch.utils'\nimport { AuthDto } from '../dto/auth.dto'\nimport { AUTH_URL, ROLES_URL } from '../api-urls'\nimport { AuthRequest } from './auth.request'\nimport { RoleDto } from '../dto/role.dto'\n\nconst authProvider: AuthProvider = {\n  login: async ({ username, password }) => {\n    const { token } = await authPost<AuthRequest, AuthDto>(AUTH_URL, {\n      login: username,\n      password,\n    })\n    const roleDtos = await getWithToken<RoleDto[]>(ROLES_URL, token)\n    const roles = roleDtos.map((r) => r.name)\n    localStorage.setItem('username', username)\n    localStorage.setItem('token', token)\n    localStorage.setItem('roles', roles.join())\n  },\n  logout: () => {\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    localStorage.removeItem('roles')\n    return Promise.resolve()\n  },\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('username')\n      localStorage.removeItem('token')\n      localStorage.removeItem('roles')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: (): Promise<Set<string>> => {\n    const roles = localStorage.getItem('roles') as string\n    return Promise.resolve(new Set(roles?.split(',') || []))\n  },\n  getIdentity: () =>\n    Promise.resolve({\n      id: localStorage.getItem('username') as string,\n    }),\n}\n\nexport default authProvider\n","import { AccessUsingDto } from \"../dto/access-using.dto\"\n\nconst mapping: Partial<Record<keyof AccessUsingDto, string>> = {\n  id: 'au=>au.Id',\n  date: 'au=>au.Date',\n  direction: 'au=>au.Direction',\n  active: 'au=>au.Active',\n  ticketId: 'au=>au.TicketId',\n  accessId: 'au=>au.AccessId'\n}\n\nexport const mapSortAccessUsingsParam = (key: keyof AccessUsingDto) => mapping[key]","export enum Authority {\n  VIEW_LOGS,\n  VIEW_STATS_OVERALL_VIEW,\n  VIEW_EVENTS,\n  EDIT_EVENTS,\n  CREATE_EVENTS,\n}","import { AccessUsingDto } from \"../dto/access-using.dto\"\n\nconst mapping: Partial<\n  Record<keyof AccessUsingDto, (lambdaParameter: string, value: string | number) => string>\n> = {\n  id: (lambdaParameter, value) => `${(lambdaParameter)}.Id.ToString().Contains(\"${value}\")`,\n  ticketId: (lambdaParameter, value) => `\"${value}\".Contains(${(lambdaParameter)}.TicketId.ToString())`,\n  accessId: (lambdaParameter, value) => `${(lambdaParameter)}.AccessId.ToString().Contains(\"${value}\")`,\n}\n\nexport const getFilterMapper = (key: keyof AccessUsingDto) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  UpdateManyParams,\n  UpdateManyResult,\n  GetListResult\n} from 'react-admin'\nimport { AccessUsingsCreateParams } from './access-usings-create.params'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { DeviceDirection } from '../enum/DeviceDirection'\nimport { DateTime } from '../common/date-time'\nimport { getByConditions, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { ACCESS_USINGS, TICKETS_URL } from '../api-urls'\nimport { AccessUsingsListParams } from './access-usings-list.params'\nimport { mapSortAccessUsingsParam } from './access-usings-sort.mapper'\nimport { getFilterMapper } from './access-usings-filter.mapper'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { AccessUsing } from './access-using'\n\nconst getFilterParams = (filter: Partial<AccessUsingDto>) => {\n  if (Object.keys(filter).length) {\n    const filterParams = Object.entries(filter).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof AccessUsingDto)\n      return mapper(\"au\", value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return \"true\"\n}\n\ntype CreateAccessUsingRequest = Array<\n  Omit<AccessUsingDto, 'id' | 'verifierDeviceId'> & { verifierDeviceId: null }\n>\ntype UpdateAccessUsingRequest = Pick<AccessUsingDto, 'id'> & { active: false }\n\nconst provider = {\n  updateMany: async (\n    resource,\n    { ids, data: { active = false } }: UpdateManyParams,\n  ): Promise<UpdateManyResult> => {\n    const pendingUpdates = ids\n      .map((auId) => ({ id: auId, active } as UpdateAccessUsingRequest))\n      .map((req) =>\n        patch<UpdateAccessUsingRequest, AccessUsingDto>(ACCESS_USINGS, req),\n      )\n    const accessUsings = await Promise.all(pendingUpdates)\n    return Promise.resolve({\n      data: accessUsings.map((au) => au.id),\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<AccessUsingsCreateParams>,\n  ): Promise<CreateResult> => {\n    const { ticketIds, accessIds } = data\n    const request: CreateAccessUsingRequest = accessIds.flatMap((accessId) =>\n      ticketIds.map((ticketId) => ({\n        date: new Date().toISOString() as DateTime,\n        direction: DeviceDirection.IN,\n        active: true,\n        accessId,\n        ticketId,\n        verifierDeviceId: null,\n      })),\n    )\n    await post<CreateAccessUsingRequest, AccessUsingDto[]>(\n      ACCESS_USINGS,\n      request,\n    )\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { field, order },\n      pagination: { page, perPage }\n    }: AccessUsingsListParams\n  ): Promise<GetListResult<AccessUsingDto>> => {\n    const filterParams = `au=>${getFilterParams(filter).toString()}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortAccessUsingsParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const {\n      data,\n      range: { total }\n    } = await getWithPagination<AccessUsingDto[]>(`${ACCESS_USINGS}/GetByConditions`, path)\n\n    const tickets = await getByConditions<TicketDto>\n      (TICKETS_URL, `t=>${filter?.ticketId?.toString().split(\" \").map((tId) => `t.Id==${tId}`).join(\"||\")}`)\n\n    const accessUsings = data.map(({\n      id, date, direction, active, ticketId, accessId, verifierDeviceId\n    }) => ({\n      id, date, direction, active, ticketId, accessId, verifierDeviceId,\n      ticketCode: tickets.find((ticket) => ticket.id === ticketId)?.ticketCode\n    } as AccessUsing))\n\n    return Promise.resolve({\n      data: accessUsings,\n      total\n    })\n  }\n} as DataProvider\n\nexport default provider\n","import { BookingDto } from '../dto/booking.dto'\n\nconst mapping: Partial<\n  Record<keyof BookingDto, (lambdaParameter: string, value: string | number) => string>\n> = {\n  id: (lambdaParameter, value) => value?.toString().split(\",\").length > 1 ?\n    `\"${value}\".Contains(${(lambdaParameter)}.Id.ToString())` :\n    `${(lambdaParameter)}.Id==${value}`,\n}\n\nexport const getFilterMapper = (key: keyof BookingDto) =>\n  mapping[key] as (lambdaParameters: string, value: string | number) => string","import { BookingDto } from \"../dto/booking.dto\"\n\nconst mapping: Partial<Record<keyof BookingDto, string>> = {\n  id: 'l=>l.Id',\n}\n\nexport const mapSortBookingParam = (key: keyof BookingDto) => mapping[key]\n","import { BookingDto } from \"../dto/booking.dto\";\nimport { EventDto } from \"../dto/event/event.dto\";\nimport { VariantDto } from \"../dto/variant.dto\";\nimport { Booking } from \"./booking\";\n\nexport const mapToBookings = (\n  {\n    id,\n    type,\n    disabled,\n    activeFrom,\n    activeTo,\n    eventId,\n    seatId,\n    blockId,\n    customerId,\n    variantId,\n    ticketsIds,\n    createdAt,\n    modifiedAt\n  }: BookingDto,\n  events: EventDto[],\n  variants: VariantDto[]\n): Booking => {\n  const foundEvent = events.find((event) => event.id === eventId)\n  const foundVariant = variants.find((variant) => variant.id === variantId)\n  return({\n    id,\n    type,\n    disabled,\n    activeFrom,\n    activeTo,\n    eventId,\n    seatId,\n    blockId,\n    customerId,\n    variantId,\n    ticketsIds,\n    createdAt,\n    modifiedAt,\n    eventName: foundEvent?.name,\n    eventDateStart: foundEvent?.dateStart,\n    variantName: foundVariant?.name\n  })\n}","import { DataProvider, UpdateParams, UpdateResult, GetListResult } from 'react-admin'\nimport { getByConditions, getWithPagination, patch } from '../common/fetch.utils'\nimport { BOOKINGS_URL, EVENTS_URL, VARIANTS_URL } from '../api-urls'\nimport { BookingUpdateRequest } from './booking-update.request'\nimport { BookingDto } from '../dto/booking.dto'\nimport { BookingListParams } from './booking-list.params'\nimport { getFilterMapper } from './booking-filter.mapper'\nimport { mapSortBookingParam } from './booking-sort.mapper'\nimport { Booking } from './booking'\nimport { EventDto } from '../dto/event/event.dto'\nimport { mapToBookings } from './bookings.mapper'\nimport { VariantDto } from '../dto/variant.dto'\n\nconst getFilterParams = (filter: Partial<BookingDto>) => {\n  if (Object.keys(filter).length) {\n    const filterParams = Object.entries(filter).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof BookingDto)\n      return mapper(\"b\", value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return \"true\"\n}\n\nconst provider = {\n  update: async (\n    resource: string,\n    { data }: UpdateParams<BookingUpdateRequest>,\n  ): Promise<UpdateResult<BookingDto>> => {\n    const booking = await patch<BookingUpdateRequest, BookingDto>(\n      BOOKINGS_URL,\n      data,\n    )\n    return Promise.resolve({\n      data: booking,\n    })\n  },\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { field, order },\n      pagination: { page, perPage },\n    }: BookingListParams\n  ): Promise<GetListResult<Booking>> => {\n    const filterParams = `b=>${getFilterParams(filter).toString()}`\n    const queryParams: string [] = []\n    queryParams.push(`sortBy=${mapSortBookingParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const {\n      data,\n    } = await getWithPagination<BookingDto[]>(`${BOOKINGS_URL}/GetByConditions`, path)\n\n    const eventIds = data.map((booking) => booking.eventId)\n    const events = await getByConditions<EventDto>(EVENTS_URL, `e=>\"${eventIds.join(\",\")}\".Contains(e.Id.ToString())`)\n\n    const variantIds = data.map((booking) => booking.variantId)\n    const variants = await getByConditions<VariantDto>(VARIANTS_URL, `v=>\"${variantIds.join(\",\")}\".Contains(v.Id.ToString())`)\n\n    return {\n      data: data.map((booking) => mapToBookings(booking, events, variants)),\n      total: data.length\n    }\n  }\n} as DataProvider\n\nexport default provider\n","import { ExtendedLogFilterValues } from './extended-log'\n\nconst mapping: Partial<\n  Record<\n    keyof ExtendedLogFilterValues,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  ticketCode: (lambdaParameter, value) => `${(lambdaParameter)}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) => value?.toString().split(\",\").length > 1 ?\n    `\"${value}\".Contains(${(lambdaParameter)}.BookingId.ToString())` :\n    `${(lambdaParameter)}.BookingId.ToString().Contains(\"${value}\")`,\n  date: (lambdaParameter, value) => `${(lambdaParameter)}.Date > DateTimeOffset.FromUnixTimeMilliseconds(${value.toString().split(';')[0]}).DateTime && l.Date < DateTimeOffset.FromUnixTimeMilliseconds(${value.toString().split(';')[1]}).DateTime`,\n  deviceName: (lambdaParameter, value) => `${(lambdaParameter)}.Device.Name.Contains(\"${value}\")`,\n  text: (lambdaParameter, value) => `${(lambdaParameter)}.Data.Text.Contains(\"${value}\")`,\n  event: (lambdaParameter, value) => `${(lambdaParameter)}.Booking.Event.Name.Contains(\"${value}\")`\n}\n\nexport const getFilterMapper = (key: keyof ExtendedLogFilterValues) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { ExtendedLog } from './extended-log'\n\nconst mapping: Partial<Record<keyof ExtendedLog, string>> = {\n  id: 'l=>l.Id',\n  date: 'l=>l.Date',\n  deviceName: 'l=>l.Device.Name',\n  ticketCode: 'l=>l.TicketCode',\n  bookingId: 'l=>l.BookingId',\n}\n\nexport const mapSortLogParam = (key: keyof ExtendedLog) => mapping[key]\n","import { ExtendedLog } from './extended-log'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\n\nexport const mapToExtendedLog = (\n  {\n    id,\n    date,\n    ticketCode,\n    bookingId,\n    scheme,\n    device: { name: deviceName },\n    data,\n  }: ExtendedLogDto,\n  locale: string,\n): ExtendedLog => {\n  const logEntry = data.filter(({ language }) => language.includes(locale))[0]\n  return {\n    id,\n    date,\n    deviceName,\n    ticketCode,\n    text: logEntry?.text || scheme,\n    color: data[0].color || 'transparent',\n    bookingId,\n  }\n}\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EXTENDED_LOGS_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\nimport { ExtendedLog, ExtendedLogFilterValues } from './extended-log'\nimport { LogListParams } from './log-list.params'\nimport { getFilterMapper } from './log-filter.mapper'\nimport { mapSortLogParam } from './log-sort.mapper'\nimport { mapToExtendedLog } from './extended-logs.mapper'\n\nconst getFilterParams = (\n  partialValues: Partial<ExtendedLogFilterValues>,\n): string => {\n  if (Object.keys(partialValues).length) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof ExtendedLogFilterValues)\n      return mapper('l', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { locale, ...partialFilterValues },\n      sort: { field, order },\n      pagination: { page, perPage },\n    }: LogListParams,\n  ): Promise<GetListResult<ExtendedLog>> => {\n    const filterParams = `l=>${getFilterParams(partialFilterValues)}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortLogParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ExtendedLogDto[]>(EXTENDED_LOGS_URL, path)\n    const extendedLogs = data.map((dto) => mapToExtendedLog(dto, locale))\n\n    return Promise.resolve({\n      data: extendedLogs,\n      total,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","export const ALL_RESULTS = 'l=>true'\n","import { EventOverallView } from \"./event-overall-view\"\n\nconst mapping: Partial<Record<keyof EventOverallView, string>> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd'\n}\n\nexport const mapSortOverallViewParam = (key: keyof EventOverallView) => mapping[key]","import { EventDto } from \"../../dto/event/event.dto\"\nimport { EventOverallView } from \"./event-overall-view\"\n\nexport const mapToEventOverallView = (\n  event: EventDto\n): EventOverallView => ({\n  id: event.id,\n  name: event.name,\n  dateStart: event.dateStart,\n  dateEnd: event.dateEnd\n})","import { DataProvider, GetListResult } from \"react-admin\"\nimport { EVENTS_URL } from '../../api-urls'\nimport { getWithPagination } from '../../common/fetch.utils'\nimport { ALL_RESULTS } from \"../../common/filter.values\"\nimport { NameFilter } from \"../../common/name.filter\"\nimport { EventDto } from \"../../dto/event/event.dto\"\nimport { EventOverallView } from \"./event-overall-view\"\nimport { mapSortOverallViewParam } from \"./overall-view-list-sort.mapper\"\nimport { mapToEventOverallView } from \"./overall-view-list.mapper\"\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort: { order, field }, pagination: { page, perPage } }: NameFilter,\n  ): Promise<GetListResult<EventOverallView>> => {\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortOverallViewParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `${filter.name ? `e=>e.Name.Contains(\"${filter.name}\")` : ALL_RESULTS}?${pathParams}`\n\n    const { data, range: { total } } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions/`, path)\n\n    const overallViewList = data.map((event) => mapToEventOverallView(event))\n\n    return {\n      data: overallViewList,\n      total\n    }\n  },\n} as DataProvider\n\nexport default provider","import { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { BookingType } from '../../enum/BookingType'\nimport {\n  BlockOverallView,\n  ObjectOverallView,\n  OverallView,\n  TribuneOverallView,\n} from './overall-view'\n\nconst calculateCapacity = (seats: SeatDto[], bookings: BookingDto[]) =>\n  seats.length + bookings.filter((b) => b.seatId == null).length\n\nconst mapToBlockOverallView = (\n  block: BlockDto,\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): BlockOverallView => ({\n  id: block.id,\n  name: block.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookings.length,\n  soldNormal: bookings.filter((b) => b.type === BookingType.NORMAL).length,\n  enteredNormal: enteredBookings.filter((b) => b.type === BookingType.NORMAL)\n    .length,\n  soldAbo: bookings.filter((b) => b.type === BookingType.ABO).length,\n  enteredAbo: enteredBookings.filter((b) => b.type === BookingType.ABO).length,\n  soldInfix: bookings.filter((b) => b.type === BookingType.INFIX).length,\n  enteredInfix: enteredBookings.filter((b) => b.type === BookingType.INFIX)\n    .length,\n  soldService: bookings.filter((b) => b.type === BookingType.SERVICE).length,\n  enteredService: enteredBookings.filter((b) => b.type === BookingType.SERVICE)\n    .length,\n  soldPoints: bookings.filter((b) => b.type === BookingType.POINTS).length,\n  enteredPoints: enteredBookings.filter((b) => b.type === BookingType.POINTS)\n    .length,\n})\n\nconst mapToTribuneOverallView = (\n  tribune: TribuneDto,\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): TribuneOverallView => ({\n  id: tribune.id,\n  name: tribune.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  blocks: blocks\n    .filter((b) => tribune.blocksIds.includes(b.id))\n    .map((block) => {\n      const filteredSeats = seats.filter((s) => s.blockId === block.id)\n      const filteredBookingIds = block.bookingsIds.concat(\n        filteredSeats.flatMap((s) => s.bookingsIds),\n      )\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      const filteredEnteredBookings = bookings.filter((book) =>\n        filteredEnteredBookingIds.includes(book.id),\n      )\n      return mapToBlockOverallView(\n        block,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookings,\n      )\n    }),\n})\n\nconst mapToObjectOverallView = (\n  object: ObjectDto,\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): ObjectOverallView => ({\n  id: object.id,\n  name: object.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  tribunes: tribunes\n    .filter((t) => object.tribunesIds.includes(t.id))\n    .map((tribune) => {\n      const filteredBlocks = blocks.filter((b) => b.tribuneId === tribune.id)\n      const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n      const filteredSeats = seats.filter((s) => filteredSeatIds.includes(s.id))\n      const filteredBookingIds = filteredBlocks\n        .flatMap((b) => b.bookingsIds)\n        .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      return mapToTribuneOverallView(\n        tribune,\n        filteredBlocks,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookingIds,\n      )\n    }),\n})\n\nexport const mapToOverallView = (\n  selectedEvent: EventDto,\n  objects: ObjectDto[],\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): OverallView => {\n  const enteredBookingIds = enteredBookings.map((book) => book.id)\n  return {\n    id: selectedEvent.id,\n    eventName: selectedEvent.name,\n    capacity: calculateCapacity(seats, bookings),\n    sold: bookings.length,\n    entered: enteredBookings.length,\n    date: selectedEvent.dateStart,\n    objects: objects\n      .filter((o) => selectedEvent.objectsIds.includes(o.id))\n      .map((object) => {\n        const filteredTribunes = tribunes.filter(\n          (t) => t.objectId === object.id,\n        )\n        const filteredBlocks = blocks.filter((b) =>\n          filteredTribunes.flatMap((t) => t.blocksIds).includes(b.id),\n        )\n        const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n        const filteredSeats = seats.filter((s) =>\n          filteredSeatIds.includes(s.id),\n        )\n        const filteredBookingIds = filteredBlocks\n          .flatMap((b) => b.bookingsIds)\n          .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n        const filteredBookings = bookings.filter((book) =>\n          filteredBookingIds.includes(book.id),\n        )\n        const filteredEnteredBookingIds = enteredBookingIds.filter(\n          (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n        )\n        return mapToObjectOverallView(\n          object,\n          filteredTribunes,\n          filteredBlocks,\n          filteredSeats,\n          filteredBookings,\n          filteredEnteredBookingIds,\n        )\n      }),\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  BLOCKS_URL,\n  BOOKINGS_URL,\n  EVENTS_URL,\n  OBJECTS_URL,\n  SEATS_URL,\n  TRIBUNES_URL,\n} from '../../api-urls'\nimport { get, getByConditions } from '../../common/fetch.utils'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { OverallView } from './overall-view'\nimport { mapToOverallView } from './overall-view.mapper'\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: eventId }: GetOneParams,\n  ): Promise<GetOneResult<OverallView>> => {\n    const pendingSelectedEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingObjects = getByConditions<ObjectDto>(\n      OBJECTS_URL,\n      `o=>o.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=o=>o.Name&sortOrder=ASC`,\n    )\n    const pendingTribunes = getByConditions<TribuneDto>(\n      TRIBUNES_URL,\n      `t=>t.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=t=>t.Name&sortOrder=ASC`,\n    )\n    const pendingBlocks = getByConditions<BlockDto>(\n      BLOCKS_URL,\n      `b=>b.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=b=>b.Name&sortOrder=ASC`,\n    )\n    const pendingSeats = getByConditions<SeatDto>(\n      SEATS_URL,\n      `s=>s.Block.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))`,\n    )\n    const bookingsCondition = `b=>b.EventId.Equals(${eventId}) && b.Disabled != TicketAPI.Models.Enums.TicketManagement.BookingDisabledOptions.STORNO`\n    const pendingBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      bookingsCondition,\n    )\n    const pendingEnteredBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      `${bookingsCondition} && b.Tickets.SelectMany(t => t.AccessUsings).Any(au => au.Active == true && au.Direction.Equals(TicketAPI.Models.Enums.DeviceManagement.DeviceDirections.IN))`,\n    )\n\n    const [\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    ] = await Promise.all([\n      pendingSelectedEvent,\n      pendingObjects,\n      pendingTribunes,\n      pendingBlocks,\n      pendingSeats,\n      pendingBookings,\n      pendingEnteredBookings,\n    ])\n\n    const overallViewData = mapToOverallView(\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    )\n\n    return {\n      data: overallViewData,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","export const buildFilterByIdsCondition = (ids: number[]): string => {\n  const [firstId, ...restIds] = ids\n  return (restIds || []).reduce(\n    (prev, curr) => `${prev as string}||v.Id==${curr}`,\n    `v=>v.Id==${firstId}`,\n  )\n}\n","export const toMapById = <T extends { id: number }>(values: T[]) =>\n  new Map(values.map((v): [number, T] => [v.id, v]))\n\nexport const toUniqueValues = (values: number[]) => Array.from(new Set(values))\n","import { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { VariantDto } from '../dto/variant.dto'\nimport { TicketDetails } from './ticket-details'\nimport { BookingDto } from '../dto/booking.dto'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { Ticket } from './ticket'\nimport { toMapById } from '../common/mapper.utils'\nimport { BlockDto } from '../dto/block.dto'\nimport { TribuneDto } from '../dto/tribune.dto'\nimport { SeatDto } from '../dto/seat.dto'\nimport { ObjectDto } from '../dto/object.dto'\n\nconst mapToTicket = (\n  { id, ticketCode, ticketType, createdAt, accessUsingsIds }: TicketDto,\n  accessUsingById: Map<number, AccessUsingDto>,\n): Ticket => ({\n  id,\n  ticketCode,\n  ticketType,\n  createdAt,\n  accessUsings: accessUsingsIds.map(\n    (auId) => accessUsingById.get(auId) as AccessUsingDto,\n  ),\n})\n\nexport const mapToTicketDetails = (\n  {\n    id: bookingId,\n    disabled: bookingDisabled,\n    type: bookingType,\n    activeFrom,\n    activeTo,\n    createdAt,\n    modifiedAt,\n    seatId,\n    blockId\n  }: BookingDto,\n  {\n    firstname,\n    lastname,\n    pesel,\n    company,\n    birthdate,\n    documentType,\n    documentNumber,\n    nationality,\n    gender\n  }: CustomerDto,\n  event: EventDto | null,\n  { name: variantName, accessesIds }: VariantDto,\n  tickets: TicketDto[],\n  accessUsings: AccessUsingDto[],\n  block: BlockDto | null,\n  tribune: TribuneDto | null,\n  object: ObjectDto | null,\n  seat: SeatDto | null\n): TicketDetails => {\n  const accessUsingById = toMapById(accessUsings)\n  return {\n    id: bookingId,\n    firstname,\n    lastname,\n    eventName: event?.name || null,\n    pesel,\n    variantName,\n    accessesIds,\n    bookingType,\n    activeFrom,\n    activeTo,\n    tickets: tickets.map((t) => mapToTicket(t, accessUsingById)),\n    createdAt,\n    modifiedAt,\n    bookingDisabled,\n    company,\n    birthdate,\n    documentType,\n    documentNumber,\n    nationality,\n    gender,\n    seatId,\n    blockId,\n    objectName: object?.name || null,\n    tribuneName: tribune?.name || null,\n    blockName: block?.name || null,\n    rowNumber: seat?.rowAlias || null,\n    seatNumber: seat?.numberAlias\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  ACCESS_USINGS,\n  BLOCKS_URL,\n  BOOKINGS_URL,\n  CUSTOMERS_URL,\n  EVENTS_URL,\n  OBJECTS_URL,\n  SEATS_URL,\n  TICKETS_URL,\n  TRIBUNES_URL,\n  VARIANTS_URL,\n} from '../api-urls'\nimport { get, getByConditions } from '../common/fetch.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { buildFilterByIdsCondition } from '../common/condition.builder'\nimport { mapToTicketDetails } from './ticket-details.mapper'\nimport { VariantDto } from '../dto/variant.dto'\nimport { TicketDetails } from './ticket-details'\nimport { toUniqueValues } from '../common/mapper.utils'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { TribuneDto } from '../dto/tribune.dto'\nimport { BlockDto } from '../dto/block.dto'\nimport { SeatDto } from '../dto/seat.dto'\nimport { ObjectDto } from '../dto/object.dto'\n\nconst fetchTicketsWithAccessUsings = async (ticketIds: number[]) => {\n  const tickets = await getByConditions<TicketDto>(\n    TICKETS_URL,\n    buildFilterByIdsCondition(ticketIds),\n  )\n  const accessUsingIds = tickets.flatMap((t) => t.accessUsingsIds)\n  const accessUsings = accessUsingIds.length\n    ? await getByConditions<AccessUsingDto>(\n        ACCESS_USINGS,\n        buildFilterByIdsCondition(toUniqueValues(accessUsingIds)),\n      )\n    : []\n  return {\n    tickets,\n    accessUsings,\n  }\n}\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: bookingId }: GetOneParams,\n  ): Promise<GetOneResult<TicketDetails>> => {\n    const booking = await get<BookingDto>(BOOKINGS_URL, `/${bookingId}`)\n    const { customerId, eventId, variantId } = booking\n\n    const pendingCustomer = get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    const pendingEvent = eventId ? get<EventDto>(EVENTS_URL, `/${eventId}`) : null\n    const pendingVariant = get<VariantDto>(VARIANTS_URL, `/${variantId}`)\n    const pendingTicketsWithAccessUsings = fetchTicketsWithAccessUsings(\n      booking.ticketsIds,\n    )\n\n    const seat = booking.seatId\n      ? await get<SeatDto>(SEATS_URL, `/${booking.seatId.toString()}`)\n      : null\n\n    const getBlock = () => {\n      if (seat) {\n        return get<BlockDto>(BLOCKS_URL, `/${seat.blockId.toString()}`)\n      }\n      if (booking?.blockId) {\n        return get<BlockDto>(BLOCKS_URL, `/${booking?.blockId?.toString()}`)\n      }\n      return null\n    }\n\n    const block = await getBlock()\n    \n    const tribune = block\n      ? await get<TribuneDto>(TRIBUNES_URL, `/${block?.tribuneId?.toString()}`)\n      : null\n    const object = tribune\n      ? await get<ObjectDto>(OBJECTS_URL, `/${tribune?.objectId?.toString()}`)\n      : null\n\n    const [customer, event, variant, { tickets, accessUsings }] =\n      await Promise.all([\n        pendingCustomer,\n        pendingEvent,\n        pendingVariant,\n        pendingTicketsWithAccessUsings,\n      ])\n\n    return {\n      data: mapToTicketDetails(\n        booking,\n        customer,\n        event,\n        variant,\n        tickets,\n        accessUsings,\n        block,\n        tribune,\n        object,\n        seat,\n      ),\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { toMapById } from '../common/mapper.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { TicketInfo } from './ticket-info'\n\nexport const mapToTicketBaseInfo = (\n  { firstname, lastname, pesel }: CustomerDto,\n  event: EventDto | null,\n  { id, bookingId, ticketCode, ticketType }: TicketDto,\n): TicketInfo => ({\n  id,\n  firstname,\n  lastname,\n  pesel,\n  eventId: event?.id || null,\n  eventName: event?.name || null,\n  eventDate: event?.dateStart || null,\n  ticketCode,\n  ticketType,\n  bookingId\n})\n\nexport const mapToTicketBaseInfoList = (\n  bookings: BookingDto[],\n  customers: CustomerDto[],\n  events: EventDto[],\n  tickets: TicketDto[],\n): TicketInfo[] => {\n  const bookingById = toMapById(bookings)\n  const customerById = toMapById(customers)\n  const eventById = toMapById(events)\n  return tickets.map((ticket) => {\n    const { customerId, eventId } = bookingById.get(\n      ticket.bookingId,\n    ) as BookingDto\n    const customer = customerById.get(customerId) as CustomerDto\n    const event = eventById.get(eventId) as EventDto | null\n    return mapToTicketBaseInfo(customer, event, ticket)\n  })\n}\n","import { TicketInfo } from './ticket-info'\n\nconst mapping: Partial<Record<keyof TicketInfo, string>> = {\n  id: 't=>t.Id',\n  ticketCode: 't=>t.TicketCode',\n  bookingId: 't=>t.BookingId'\n}\n\nexport const mapSortTicketParams = (key: keyof TicketInfo) => mapping[key]","import { TicketInfo } from \"./ticket-info\"\n\nconst mapping: Partial<\n  Record<\n    keyof TicketInfo,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  ticketCode: (lambdaParameter, value) => `${(lambdaParameter)}.TicketCode.Contains(\"${value}\")`,\n}\n\nexport const getFilterMapper = (key: keyof TicketInfo) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { DataProvider, GetListResult } from 'react-admin'\nimport {\n  BOOKINGS_URL,\n  CUSTOMERS_URL,\n  EVENTS_URL,\n  TICKETS_URL,\n} from '../api-urls'\nimport { getByConditions, getWithPagination } from '../common/fetch.utils'\nimport { BookingDto } from '../dto/booking.dto'\nimport { TicketInfo } from './ticket-info'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { mapToTicketBaseInfoList } from './ticket-info.mapper'\nimport { buildFilterByIdsCondition } from '../common/condition.builder'\nimport { TicketCodeFilter } from '../common/ticket-code.filter'\nimport { toUniqueValues } from '../common/mapper.utils'\nimport { mapSortTicketParams } from './ticket-info-sort.mapper'\nimport { getFilterMapper } from './ticket-info-filter.mapper'\n\nconst getFilterParams = (\n  partialValues: Partial<TicketInfo>,\n): string => {\n  if (Object.keys(partialValues).length) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof TicketInfo)\n      return mapper('t', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\nconst getByUniqueIds = <T>(baseUrl: string, ids: number[]): Promise<T[]> => {\n  const uniqueIds = toUniqueValues(ids)\n  return getByConditions<T>(baseUrl, buildFilterByIdsCondition(uniqueIds))\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter,\n      pagination: { page, perPage },\n      sort: { field, order }\n    }: TicketCodeFilter,\n  ): Promise<GetListResult<TicketInfo>> => {\n    const filterParams = `t=>${getFilterParams(filter)}`\n    const queryParams: string[] = []\n    if (!!page && !!field) {\n      queryParams.push(`sortBy=${mapSortTicketParams(field)}`)\n      queryParams.push(`sortOrder=${order}`)\n      queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n      queryParams.push(`rangeTo=${page * perPage}`)\n    }\n    else queryParams.push('')\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n    const { data: tickets, range: { total } } = await getWithPagination<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions`, path\n    )\n\n    const bookingIds = tickets.map((v) => v.bookingId)\n    const bookings = await getByUniqueIds<BookingDto>(BOOKINGS_URL, bookingIds)\n\n    const customerIds = bookings.map((v) => v.customerId)\n    const eventIds = bookings.map((v) => v.eventId)\n\n    const pendingCustomers = getByUniqueIds<CustomerDto>(\n      CUSTOMERS_URL,\n      customerIds,\n    )\n    const pendingEvents = getByUniqueIds<EventDto>(EVENTS_URL, eventIds)\n    const [customers, events] = await Promise.all([\n      pendingCustomers,\n      pendingEvents,\n    ])\n\n    const ticketBaseInfoList = mapToTicketBaseInfoList(\n      bookings,\n      customers,\n      events,\n      tickets,\n    )\n    return Promise.resolve({\n      data: ticketBaseInfoList,\n      total\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { getByConditions } from '../common/fetch.utils'\nimport { TICKETS_URL } from '../api-urls'\nimport { TicketCodeFilter } from '../common/ticket-code.filter'\nimport { TicketDto } from '../dto/ticket.dto'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter }: TicketCodeFilter,\n  ): Promise<GetListResult<TicketDto>> => {\n    const filterByTicketCodeCondition = `t=>t.TicketCode.Contains(\"${filter.ticketCode}\")`\n    const tickets = await getByConditions<TicketDto>(\n      TICKETS_URL,\n      filterByTicketCodeCondition,\n    )\n    return Promise.resolve({\n      data: tickets,\n      total: tickets.length,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","import { Access } from './access'\n\nconst mapping: Partial<\n  Record<\n    keyof Access,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  id: (lambdaParameter, value) => value.toString().split(\",\").map((v) => `${v}==${lambdaParameter}.Id`).join(\"&&\"),\n}\n\nexport const getFilterMapper = (key: keyof Access) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { Access } from './access'\n\nconst mapping: Partial<Record<keyof Access, string>> = {\n  id: 'a=>a.Id',\n}\n\nexport const mapSortAccessParam = (key: keyof Access) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n} from 'react-admin'\nimport { ACCESSES_URL, ENTRANCES_URL, USERS_URL } from '../api-urls'\nimport { getWithPagination, get } from '../common/fetch.utils'\nimport { AccessDto } from '../dto/access.dto'\nimport { EntranceDto } from '../dto/entrance.dto'\nimport { UserDto } from '../dto/user.dto'\nimport { Access } from './access'\nimport { getFilterMapper } from './access-filter.mapper'\nimport { mapSortAccessParam } from './access-sort.mapper'\nimport { AccessParams } from './access.params'\n\nconst getFilterParams = (filter: Partial<Access>) => {\n  if (Object.keys(filter).length) {\n    const filterParams = Object.entries(filter).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof Access)\n      return mapper('a', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { field, order },\n      pagination: { page, perPage },\n    }: AccessParams,\n  ): Promise<GetListResult<Access>> => {\n    const filterParams = `a=>${getFilterParams(filter).toString()}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortAccessParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const { data } = await getWithPagination<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      path,\n    )\n    const accesses = data.map(\n      ({\n        id,\n        name,\n        bonus,\n        entranceId,\n        allowReenter,\n        multipleEntry,\n        multiple,\n        usePriority,\n        isTicketUnlockWithNextDay,\n        releaseTime,\n        releaseDayOfWeek,\n        releaseDayOfMonth,\n        delay,\n        activePeriod,\n        activePeriodStartingFrom,\n        variantsIds,\n        accessDatesIds,\n        createdById,\n        modifiedById,\n        createdAt,\n        modifiedAt,\n      }) =>\n      ({\n        id,\n        name,\n        bonus,\n        entranceId,\n        allowReenter,\n        multipleEntry,\n        multiple,\n        usePriority,\n        isTicketUnlockWithNextDay,\n        releaseTime,\n        releaseDayOfWeek,\n        releaseDayOfMonth,\n        delay,\n        activePeriod,\n        activePeriodStartingFrom,\n        variantsIds,\n        accessDatesIds,\n        createdById,\n        modifiedById,\n        createdAt,\n        modifiedAt,\n      } as Access),\n    )\n\n    return Promise.resolve({\n      data: accesses,\n      total: accesses.length,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<Access>> => {\n    const access = await get<AccessDto>(ACCESSES_URL, `/${id}`)\n    const modifiedBy = await get<UserDto>(\n      USERS_URL,\n      access.modifiedById.toString(),\n    )\n    const createdBy =\n      access.modifiedById === access.createdById\n        ? modifiedBy\n        : await get<UserDto>(USERS_URL, access.createdById.toString())\n    const entrance = await get<EntranceDto>(ENTRANCES_URL, `/${access.entranceId}`)\n    return {\n      data: {\n        ...access,\n        modifiedByName: modifiedBy.userName,\n        createdByName: createdBy.userName,\n        entranceNote: entrance.note\n      },\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { EventDto } from \"../dto/event/event.dto\"\n\nconst mapping: Partial<Record<keyof EventDto, string>> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n  status: 'e=>e.Status'\n}\n\nexport const mapSortEventParam = (key: keyof EventDto) => mapping[key]\n","import { DataProvider, GetListParams, GetListResult, GetOneParams, GetOneResult, Identifier, UpdateParams, UpdateResult, CreateParams, CreateResult } from \"react-admin\"\nimport { EVENTS_URL } from \"../api-urls\"\nimport { CacheableDataProviderExtensionResult, DataProviderExtensionResult } from \"../common/data-provider\"\nimport { DateTime } from \"../common/date-time\"\nimport { get, getWithPagination, patch, post, put } from \"../common/fetch.utils\"\nimport { ALL_RESULTS } from \"../common/filter.values\"\nimport { EventCompaniesDto } from \"../dto/event/event-companies.dto\"\nimport { EventDevicesDto } from \"../dto/event/event-devices.dto\"\nimport { EventObjectsDto } from \"../dto/event/event-objects.dto\"\nimport { EventDto } from \"../dto/event/event.dto\"\nimport { EventStatus } from \"../enum/EventStatus\"\nimport { mapSortEventParam } from './event-sort.mapper'\n\ntype EventUpdateRequest = {\n  id: number,\n  name?: string,\n  dateStart?: DateTime,\n  dateEnd?: DateTime,\n  status?: EventStatus\n}\n\ninterface EventListParams extends GetListParams {\n  readonly sort: {\n    readonly field: keyof EventDto\n    readonly order: 'ASC' | 'DESC'\n  }\n  readonly filter:\n  {\n    readonly name: string\n  }\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { name },\n      sort,\n      pagination\n    }: EventListParams,\n  ): Promise<GetListResult<EventDto>> => {\n\n    const queryParams: string[] = []\n    if (sort) {\n      const { field, order } = sort\n      queryParams.push(`sortBy=${mapSortEventParam(field)}`)\n      queryParams.push(`sortOrder=${order}`)\n    }\n    if (pagination) {\n      const { page, perPage } = pagination\n      queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n      queryParams.push(`rangeTo=${page * perPage - 1}`)\n    }\n    const pathParams = queryParams.length > 0 ? queryParams.reduce((p, c) => `${p}&${c}`) : null\n    const { data, range: { total } } = await getWithPagination<EventDto[]>(`${EVENTS_URL}/GetByConditions/`, `${name ? `e=>e.Name.Contains(\"${name}\")` : ALL_RESULTS}?${pathParams ?? pathParams}`)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams\n  ): Promise<GetOneResult<EventDto>> => {\n    const event = await get<EventDto>(EVENTS_URL, `/${id}`)\n\n    return {\n      data: event\n    }\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams\n  ): Promise<CreateResult<EventDto>> => {\n    const event = await post<CreateEventRequest[], EventDto[]>(EVENTS_URL, [{\n      ...data,\n      dateStart:\n        new Date(new Date(data?.dateStart).getTime() - (new Date(data?.dateStart).getTimezoneOffset() * 60000)).toJSON() as DateTime,\n      dateEnd:\n        new Date(new Date(data?.dateEnd).getTime() - (new Date(data?.dateEnd).getTimezoneOffset() * 60000)).toJSON() as DateTime\n    }])\n\n    return {\n      data: event[0]\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams\n  ): Promise<UpdateResult> => {\n    const { name, dateStart, dateEnd } = data\n\n    let eventUpdate = data\n    if (previousData) {\n      const { name: previousName, dateStart: previousDateStart, dateEnd: previousDateEnd } = previousData\n      eventUpdate = await patch<EventUpdateRequest, EventDto>(EVENTS_URL, {\n        id: parseInt(id as string, 10),\n        name: name ?? previousName,\n        dateStart: dateStart ?\n          new Date(new Date(dateStart).getTime() - (new Date(dateStart).getTimezoneOffset() * 60000)).toJSON() as DateTime :\n          previousDateStart,\n        dateEnd: dateEnd ?\n          new Date(new Date(dateEnd).getTime() - (new Date(dateEnd).getTimezoneOffset() * 60000)).toJSON() as DateTime :\n          previousDateEnd\n      })\n    }\n\n    return Promise.resolve({\n      data: { id, ...data, ...eventUpdate }\n    })\n  },\n  activate: async (\n    resource: string,\n    { eventId }: ChangeStateParams\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const activate = await put<undefined, ChangeStateResponse>\n      (`${EVENTS_URL}/ActivateAsyncJob/${eventId}`, undefined)\n    return {\n      data: activate\n    }\n  },\n  deactivate: async (\n    resource: string,\n    { eventId }: ChangeStateParams\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const deactivate = await put<undefined, ChangeStateResponse>\n      (`${EVENTS_URL}/DeactivateAsyncJob/${eventId}`, undefined)\n    return {\n      data: deactivate\n    }\n  },\n  getCompaniesList: async (\n    resource: string,\n    { eventId }: GetCompaniesParams\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const companies = await get<EventCompaniesDto>\n      (`${EVENTS_URL}`, `/GetCompanies/${eventId}`)\n    return {\n      data: companies\n    }\n  },\n  attachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>\n      (`${EVENTS_URL}/AttachCompanies`, params)\n    return {\n      data: eventCompanies\n    }\n  },\n  detachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>\n      (`${EVENTS_URL}/DetachCompanies`, params)\n    return {\n      data: eventCompanies\n    }\n  },\n  attachObjects: async (\n    resource: string,\n    params: EventObjectsDto\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>\n      (`${EVENTS_URL}/AttachObjects`, params)\n    return {\n      data: eventObjects\n    }\n  },\n  detachObjects: async (\n    resource: string,\n    params: EventObjectsDto\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>\n      (`${EVENTS_URL}/DetachObjects`, params)\n    return {\n      data: eventObjects\n    }\n  },\n  getDevicesList: async (\n    resource: string,\n    { eventId }: GetDevicesParams\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const devices = await get<EventDevicesDto>\n      (`${EVENTS_URL}`, `/GetDevices/${eventId}`)\n    return {\n      data: devices\n    }\n  },\n  attachDevices: async (\n    resource: string,\n    params: EventDevicesDto\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>\n      (`${EVENTS_URL}/AttachDevices`, params)\n    return {\n      data: eventDevices\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EventDevicesDto\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>\n      (`${EVENTS_URL}/DetachDevices`, params)\n    return {\n      data: eventDevices\n    }\n  }\n} as EventDataProvider\n\ninterface EventDataProvider extends DataProvider {\n  activate: (\n    resource: string,\n    params: ChangeStateParams\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>;\n\n  deactivate: (\n    resource: string,\n    params: ChangeStateParams\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>;\n\n  getCompaniesList: (\n    resource: string,\n    params: GetCompaniesParams\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>;\n\n  attachCompanies: (\n    resource: string,\n    params: EventCompaniesDto\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>;\n\n  detachCompanies: (\n    resource: string,\n    params: EventCompaniesDto\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>;\n\n  getObjectsList: (\n    resource: string,\n    params: GetObjectsParams\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>;\n\n  attachObjects: (\n    resource: string,\n    params: EventObjectsDto\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>;\n\n  detachObjects: (\n    resource: string,\n    params: EventObjectsDto\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>;\n\n  getDevicesList: (\n    resource: string,\n    params: GetDevicesParams\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>;\n\n  attachDevices: (\n    resource: string,\n    params: EventDevicesDto\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>;\n\n  detachDevices: (\n    resource: string,\n    params: EventDevicesDto\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>;\n};\n\nexport interface ChangeStateParams {\n  eventId: Identifier;\n}\n\nexport interface ChangeStateResponse {\n  jobId: Identifier;\n}\n\nexport interface GetCompaniesParams {\n  eventId: Identifier;\n}\n\nexport interface GetObjectsParams {\n  eventId: Identifier;\n}\n\nexport interface GetDevicesParams {\n  eventId: Identifier;\n}\n\nexport interface CreateEventRequest {\n  readonly name: string\n  readonly status?: EventStatus\n  readonly dateStart: DateTime\n  readonly dateEnd: DateTime\n  readonly externalId?: string\n  readonly infix?: string\n  readonly objectsIds?: number[]\n}\n\nexport default provider","import { DataProvider, GetOneParams, GetOneResult } from \"react-admin\"\nimport { CustomerDetails } from \"./customer-details\"\nimport { CustomerDto } from \"../dto/customer.dto\"\nimport { CUSTOMERS_URL } from \"../api-urls\"\nimport { get } from '../common/fetch.utils'\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: customerId }: GetOneParams,\n  ): Promise<GetOneResult<CustomerDetails>> => {\n    const customer = await get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    return {\n      data: customer as CustomerDetails\n    }\n  }\n} as DataProvider\n\nexport default provider","import { CustomerInfo } from \"./customer-info\"\n\nconst mapping: Partial<\n  Record<\n    keyof CustomerInfo | 'info',\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  firstname: (lambdaParameter, value) => `${(lambdaParameter)}.Firstname.Contains(\"${value}\")`,\n  lastname: (lambdaParameter, value) => `${(lambdaParameter)}.Lastname.Contains(\"${value}\")`,\n  pesel: (lambdaParameter, value) => `${(lambdaParameter)}.Pesel.Contains(\"${value}\")`,\n  documentNumber: (lambdaParameter, value) => `${(lambdaParameter)}.DocumentNumber.Contains(\"${value}\")`,\n  info: (lambdaParameter, value) => `${value.toString().split(\" \").map((q) =>\n    `(${(lambdaParameter)}.Firstname+${(lambdaParameter)}.Lastname+${(lambdaParameter)}.Pesel+${(lambdaParameter)}.DocumentNumber).Contains(\"${q}\")`).join(\"&&\")}`,\n}\n\nexport const getFilterMapper = (key: keyof CustomerInfo) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { CustomerInfo } from './customer-info'\n\nconst mapping: Partial<Record<keyof CustomerInfo, string>> = {\n  id: 'c=>c.Id',\n  firstname: 'c=>c.Firstname',\n  lastname: 'c=>c.Lastname',\n  pesel: 'c=>c.Pesel',\n  documentNumber: 'c=>c.DocumentNumber'\n}\n\nexport const mapSortCustomerParams = (key: keyof CustomerInfo) => mapping[key]","import { GetListResult, DataProvider } from \"react-admin\";\nimport { CUSTOMERS_URL } from \"../api-urls\";\nimport { getWithPagination } from \"../common/fetch.utils\";\nimport { CustomerDto } from \"../dto/customer.dto\";\nimport { CustomerInfo } from \"./customer-info\";\nimport { getFilterMapper } from \"./customer-info-filter.mapper\";\nimport { mapSortCustomerParams } from \"./customer-info-sort.mapper\";\nimport { CustomerInfoFilter } from \"./customer-info.params\";\n\nconst getFilterParams = (\n  partialValues: Partial<CustomerInfo> & { readonly info: string },\n): string => {\n  if (Object.keys(partialValues).length) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof CustomerInfo)\n      return mapper('c', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: CustomerInfoFilter\n  ): Promise<GetListResult<CustomerInfo>> => {\n    const filterParams = `c=>${getFilterParams(filter)}`\n    const queryParams: string[] = []\n    if (!!pagination && !!sort) {\n      queryParams.push(`sortBy=${mapSortCustomerParams(sort.field)}`)\n      queryParams.push(`sortOrder=${sort.order}`)\n      queryParams.push(`rangeFrom=${pagination.page * pagination.perPage - pagination.perPage}`)\n      queryParams.push(`rangeTo=${pagination.page * pagination.perPage}`)\n    }\n    else queryParams.push('')\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const { data, range: { total } } = await getWithPagination<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      path\n    )\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  }\n} as DataProvider\n\nexport default provider","import { AccessDateDto } from '../dto/access-date.dto'\n\nconst mapping: Partial<\n  Record<keyof AccessDateDto, (lambdaParameter: string, value: string | number) => string>\n> = {\n  id: (lambdaParameter, value) => value.toString().split(\",\").map((v) => `${lambdaParameter}.Id==${v}`).join(\"||\"),\n}\n\nexport const getFilterMapper = (key: keyof AccessDateDto) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { AccessDateDto } from \"../dto/access-date.dto\"\n\nconst mapping: Partial<Record<keyof AccessDateDto, string>> = {\n  id: 'ad=>ad.Id',\n  activeFrom: 'ad=>ad.ActiveFrom',\n  activeTo: 'ad=>ad.ActiveTo',\n  type: 'ad=>ad.Type'\n}\n\nexport const mapSortAccessDatesParam = (key: keyof AccessDateDto) => mapping[key]","import {\n  DataProvider, GetListResult\n} from 'react-admin'\nimport { AccessDateDto } from '../dto/access-date.dto'\nimport { getFilterMapper } from './access-dates-filter.mapper'\nimport { AccessDatesListParams } from './access-dates-list.params'\nimport { mapSortAccessDatesParam } from './access-dates-sort.mapper'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ACCESS_DATES } from '../api-urls'\n\nconst getFilterParams = (filter: Partial<AccessDateDto>) => {\n  if (Object.keys(filter).length) {\n    const filterParams = Object.entries(filter).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof AccessDateDto)\n      return mapper(\"ad\", value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return \"true\"\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter,\n      sort: { field, order },\n      pagination: { page, perPage }\n    }: AccessDatesListParams\n  ): Promise<GetListResult<AccessDateDto>> => {\n    const filterParams = `ad=>${getFilterParams(filter).toString()}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortAccessDatesParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const {\n      data,\n      range: { total }\n    } = await getWithPagination<AccessDateDto[]>(`${ACCESS_DATES}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  }\n} as DataProvider\n\nexport default provider","import { CompanyDto } from \"../dto/company.dto\"\n\nconst mapping: Partial<\n  Record<\n    keyof CompanyDto,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  name: (lambdaParameter, value) => `${(lambdaParameter)}.Name.Contains(\"${value}\")`\n}\n\nexport const getFilterMapper = (key: keyof CompanyDto) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { CompanyDto } from \"../dto/company.dto\"\n\nconst mapping: Partial<Record<keyof CompanyDto, string>> = {\n  id: 'c=>c.Id'\n}\n\nexport const mapSortCompanyParam = (key: keyof CompanyDto) => mapping[key]\n","import { DataProvider, GetListResult } from \"react-admin\"\nimport { COMPANIES_URL } from \"../api-urls\"\nimport { getWithPagination } from \"../common/fetch.utils\"\nimport { CompanyDto } from \"../dto/company.dto\"\nimport { getFilterMapper } from \"./company-filter.mapper\"\nimport { CompanyListParams } from \"./company-list.params\"\nimport { mapSortCompanyParam } from \"./company-sort.mapper\"\n\nconst getFilterParams = (\n  partialValues: Partial<CompanyDto>\n): string => {\n  if (Object.keys(partialValues).length) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof CompanyDto)\n      return mapper('c', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { ...filter },\n      sort: { field, order },\n      pagination: { page, perPage }\n    }: CompanyListParams\n  ): Promise<GetListResult<CompanyDto>> => {\n\n    const filterParams = `c=>${getFilterParams(filter)}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortCompanyParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const { data, range: { total } } = await getWithPagination<CompanyDto[]>(COMPANIES_URL, path)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  }\n} as DataProvider\n\nexport default provider","import { ObjectDto } from \"../dto/object.dto\"\n\nconst mapping: Partial<\n  Record<\n    keyof ObjectDto,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  name: (lambdaParameter, value) => `${(lambdaParameter)}.Name.Contains(\"${value}\")`\n}\n\nexport const getFilterMapper = (key: keyof ObjectDto) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { ObjectDto } from \"../dto/object.dto\"\n\nconst mapping: Partial<Record<keyof ObjectDto, string>> = {\n  id: 'l=>l.Id'\n}\n\nexport const mapSortCompanyParam = (key: keyof ObjectDto) => mapping[key]\n","import { DataProvider, GetListResult } from \"react-admin\"\nimport { OBJECTS_URL } from \"../api-urls\"\nimport { getWithPagination } from \"../common/fetch.utils\"\nimport { ObjectDto } from \"../dto/object.dto\"\nimport { getFilterMapper } from \"./object-filter.mapper\"\nimport { ObjectListParams } from \"./object-list.params\"\nimport { mapSortCompanyParam } from \"./object-sort.mapper\"\n\nconst getFilterParams = (\n  partialValues: Partial<ObjectDto>\n): string => {\n  if (Object.keys(partialValues).length > 0) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof ObjectDto)\n      return mapper('o', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { ...filter },\n      sort: { field, order },\n      pagination: { page, perPage }\n    }: ObjectListParams\n  ): Promise<GetListResult<ObjectDto>> => {\n\n    const filterParams = `o=>${getFilterParams(filter)}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortCompanyParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage}`)\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const { data, range: { total } } = await getWithPagination<ObjectDto[]>(`${OBJECTS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  }\n} as DataProvider\n\nexport default provider","import { PalmDto } from \"../../dto/device/palm/palm.dto\"\n\nconst mapping: Partial<\n  Record<\n    keyof PalmDto,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  name: (lambdaParameter, value) => `${(lambdaParameter)}.Name.Contains(\"${value}\")`,\n  categoryId: (lambdaParameter, value) => `${(lambdaParameter)}.CategoryId==${value}`\n}\n\nexport const getFilterMapper = (key: keyof PalmDto) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string","import { PalmDto } from \"../../dto/device/palm/palm.dto\"\n\n\nconst mapping: Partial<Record<keyof PalmDto, string>> = {\n  id: 'p=>p.Id',\n  name: \"p=>p.Name\"\n}\n\nexport const mapSortPalmParam = (key: keyof PalmDto) => mapping[key]\n","import { DataProvider, GetListResult, GetOneParams, GetOneResult, Identifier, UpdateParams, UpdateResult } from \"react-admin\"\nimport { PALMS_URL } from \"../../api-urls\"\nimport { CacheableDataProviderExtensionResult, DataProviderExtensionResult } from \"../../common/data-provider\"\nimport { DateTime } from \"../../common/date-time\"\nimport { get, getWithPagination, patch, put } from \"../../common/fetch.utils\"\nimport { PalmEntrancesDto } from \"../../dto/device/palm/palm-entrances.dto\"\nimport { PalmEventsDto } from \"../../dto/device/palm/palm-events.dto\"\nimport { PalmDto } from \"../../dto/device/palm/palm.dto\"\nimport { PalmLockResult } from \"../../enum/PalmLockResult\"\nimport { PalmResetMobileDeviceIdResults } from \"../../enum/PalmResetMobileDeviceIdResults\"\nimport { PalmSetMobileDeviceIdResults } from \"../../enum/PalmSetMobileDeviceIdResults\"\nimport { PalmUnlockResult } from \"../../enum/PalmUnlockResult\"\nimport { getFilterMapper } from \"./palm-filter.mapper\"\nimport { PalmListParams } from \"./palm-list.params\"\nimport { mapSortPalmParam } from \"./palm-sort.mapper\"\n\nconst getFilterParams = (\n  partialValues: Partial<PalmDto>\n): string => {\n  if (Object.keys(partialValues).length) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof PalmDto)\n      return mapper('o', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { ...filter },\n      sort: { field, order },\n      pagination: { page, perPage }\n    }: PalmListParams\n  ): Promise<GetListResult<PalmDto>> => {\n\n    const filterParams = `o=>${getFilterParams(filter)}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortPalmParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage - 1}`)\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const { data, range: { total } } = await getWithPagination<PalmDto[]>(`${PALMS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams\n  ): Promise<GetOneResult<PalmDto>> => {\n    const data = await get<PalmDto>(PALMS_URL, `/${id}`)\n    return Promise.resolve({\n      data\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier, [n: string]: any }, PalmDto>(PALMS_URL, {\n      id,\n      name: data.name || previousData.name,\n      isWatched: data.isWatched,\n      lastRefresh: new Date(new Date(data.lastRefresh).getTime() - (new Date(data.lastRefresh).getTimezoneOffset() * 60000)).toJSON() as DateTime || previousData.lastRefresh,\n      direction: data.direction || previousData.direction,\n      categoryId: data.categoryId || previousData.categoryId,\n      onlineInfixCeck: data.onlineInfixCeck,\n      multiplicity: data.multiplicity || previousData.multiplicity\n    })\n    return Promise.resolve({ data: update })\n  },\n  lock: async (\n    resource: string,\n    { palmId, lockName }: LockParams\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const data = await put<LockParams, LockResponse>(`${PALMS_URL}/Lock`, {\n      palmId,\n      lockName\n    })\n    return Promise.resolve({ data })\n  },\n  unlock: async (\n    resource: string,\n    { palmId }: UnlockParams\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const data = await put<UnlockParams, UnlockResponse>(`${PALMS_URL}/Unlock`, {\n      palmId\n    })\n    return Promise.resolve({ data: { ...data, disabled: undefined } })\n  },\n  setMobileDeviceId: async (\n    resource: string,\n    { palmId, mobileDeviceId }: SetMobileDeviceIdParams\n  ): Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>> => {\n    const data = await put<SetMobileDeviceIdParams, SetMobileDeviceIdResponse>(`${PALMS_URL}/SetMobileDeviceId`, {\n      palmId,\n      mobileDeviceId\n    })\n    return Promise.resolve({ data })\n  },\n  resetMobileDeviceId: async (\n    resource: string,\n    { palmId }: ResetMobileDeviceIdParams\n  ): Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>> => {\n    const data = await put<ResetMobileDeviceIdParams, ResetMobileDeviceIdResponse>(`${PALMS_URL}/ResetMobileDeviceId`, {\n      palmId\n    })\n    return Promise.resolve({ data: { ...data, mobileDeviceId: undefined } })\n  },\n  attachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(`${PALMS_URL}/AttachEvents`, {\n      palmId,\n      eventsIds\n    })\n    return Promise.resolve({ data })\n  },\n  detachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(`${PALMS_URL}/DetachEvents`, {\n      palmId,\n      eventsIds\n    })\n    return Promise.resolve({ data })\n  },\n  attachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(`${PALMS_URL}/AttachEntrances`, {\n      palmId,\n      entrancesIds\n    })\n    return Promise.resolve({ data })\n  },\n  detachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(`${PALMS_URL}/DetachEntrances`, {\n      palmId,\n      entrancesIds\n    })\n    return Promise.resolve({ data })\n  }\n} as PalmDataProvider\n\ninterface PalmDataProvider extends DataProvider {\n  lock: (\n    resource: string,\n    params: LockParams\n  ) => Promise<DataProviderExtensionResult<LockResponse>>,\n\n  unlock: (\n    resource: string,\n    params: UnlockParams\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>,\n\n  setMobileDeviceId: (\n    resource: string,\n    params: SetMobileDeviceIdParams\n  ) => Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>>,\n\n  resetMobileDeviceId: (\n    resource: string,\n    params: ResetMobileDeviceIdParams\n  ) => Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>>,\n\n  attachEvents: (\n    resource: string,\n    params: PalmEventsDto\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>,\n\n  detachEvents: (\n    resource: string,\n    params: PalmEventsDto\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>,\n\n  attachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>,\n\n  detachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n}\n\nexport interface LockParams {\n  palmId: Identifier,\n  lockName: string\n}\n\nexport interface LockResponse {\n  palmId: Identifier,\n  lockName: string,\n  lockResult: PalmLockResult\n}\n\nexport interface UnlockParams {\n  palmId: Identifier\n}\n\nexport interface UnlockResponse {\n  palmId: Identifier,\n  unlockResult: PalmUnlockResult\n}\n\nexport interface SetMobileDeviceIdParams {\n  palmId: Identifier,\n  mobileDeviceId: string\n}\n\nexport interface SetMobileDeviceIdResponse {\n  palmId: Identifier,\n  mobileDeviceId: string,\n  setResult: PalmSetMobileDeviceIdResults\n}\n\nexport interface ResetMobileDeviceIdParams {\n  palmId: Identifier\n}\n\nexport interface ResetMobileDeviceIdResponse {\n  palmId: Identifier,\n  resetResult: PalmResetMobileDeviceIdResults\n}\n\nexport default provider","import { EngineDto } from \"../../dto/device/engine/engine.dto\"\n\nconst mapping: Partial<\n  Record<\n    keyof EngineDto,\n    (lambdaParameter: string, value: string | number) => string\n  >\n> = {\n  name: (lambdaParameter, value) => `${(lambdaParameter)}.Name.Contains(\"${value}\")`,\n  categoryId: (lambdaParameter, value) => `${(lambdaParameter)}.CategoryId==${value}`\n}\n\nexport const getFilterMapper = (key: keyof EngineDto) =>\n  mapping[key] as (lambdaParameter: string, value: string | number) => string\n","import { EngineDto } from \"../../dto/device/engine/engine.dto\"\n\nconst mapping: Partial<Record<keyof EngineDto, string>> = {\n  id: 'l=>l.Id',\n  name: \"p=>p.Name\",\n  address: \"p=>p.Address\"\n}\n\nexport const mapSortEngineParam = (key: keyof EngineDto) => mapping[key]\n","import { DataProvider, GetListResult, GetOneParams, GetOneResult, Identifier, UpdateParams, UpdateResult } from \"react-admin\"\nimport { ENGINES_URL } from \"../../api-urls\"\nimport { CacheableDataProviderExtensionResult, DataProviderExtensionResult } from \"../../common/data-provider\"\nimport { DateTime } from \"../../common/date-time\"\nimport { get, getWithPagination, patch, put } from \"../../common/fetch.utils\"\nimport { EngineEntrancesDto } from \"../../dto/device/engine/engine-entrances.dto\"\nimport { EngineEventsDto } from \"../../dto/device/engine/engine-events.dto\"\nimport { EngineDto } from \"../../dto/device/engine/engine.dto\"\nimport { RemoveTSCanCredentialsDto } from \"../../dto/device/engine/remove-tscan-credentials.dto\"\nimport { SetStandbyModeDto } from \"../../dto/device/engine/set-standby-mode.dto\"\nimport { SetTSCanCredentialsDto } from \"../../dto/device/engine/set-tscan-credentials.dto\"\nimport { EngineLockResults } from \"../../enum/EngineLockResults\"\nimport { EngineUnlockResults } from \"../../enum/EngineUnlockResults\"\nimport { getFilterMapper } from \"./engine-filter.mapper\"\nimport { EngineListParams } from \"./engine-list.params\"\nimport { mapSortEngineParam } from \"./engine-sort.mapper\"\n\nconst getFilterParams = (\n  partialValues: Partial<EngineDto>\n): string => {\n  if (Object.keys(partialValues).length) {\n    const filterParams = Object.entries(partialValues).map(([key, value]) => {\n      const mapper = getFilterMapper(key as keyof EngineDto)\n      return mapper('o', value as string)\n    })\n    return filterParams.reduce((p, c) => `${p}&&${c}`)\n  }\n  return 'true'\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { ...filter },\n      sort: { field, order },\n      pagination: { page, perPage }\n    }: EngineListParams\n  ): Promise<GetListResult<EngineDto>> => {\n\n    const filterParams = `o=>${getFilterParams(filter)}`\n    const queryParams: string[] = []\n    queryParams.push(`sortBy=${mapSortEngineParam(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage - 1}`)\n    const pathParams = queryParams.reduce((p, c) => `${p}&${c}`)\n    const path = `/${filterParams}?${pathParams}`\n\n    const { data, range: { total } } = await getWithPagination<EngineDto[]>(`${ENGINES_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams\n  ): Promise<GetOneResult<EngineDto>> => {\n    const data = await get<EngineDto>(ENGINES_URL, `/${id}`)\n    return Promise.resolve({\n      data\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier, [n: string]: any }, EngineDto>(ENGINES_URL, {\n      id,\n      name: data.name || previousData.name,\n      isWatched: data.isWatched,\n      lastRefresh: new Date(new Date(data.lastRefresh).getTime() - (new Date(data.lastRefresh).getTimezoneOffset() * 60000)).toJSON() as DateTime || previousData.lastRefresh,\n      address: data.address || previousData.address,\n      direction: data.direction || previousData.direction,\n      categoryId: data.categoryId || previousData.categoryId,\n      onlineInfixCeck: data.onlineInfixCeck,\n      multiplicity: data.multiplicity || previousData.multiplicity\n    })\n    return Promise.resolve({ data: update })\n  },\n  attachEvents: async (\n    resource: string,\n    params: EngineEventsDto\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>\n      (`${ENGINES_URL}/AttachEvents`, params)\n    return {\n      data: engineEvents\n    }\n  },\n  detachEvents: async (\n    resource: string,\n    params: EngineEventsDto\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>\n      (`${ENGINES_URL}/DetachEvents`, params)\n    return {\n      data: engineEvents\n    }\n  },\n  attachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>\n      (`${ENGINES_URL}/AttachEntrances`, params)\n    return {\n      data: engineEntrances\n    }\n  },\n  detachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>\n      (`${ENGINES_URL}/DetachEntrances`, params)\n    return {\n      data: engineEntrances\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto\n  ): Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const setTSCanCredentials = await put<SetTSCanCredentialsDto, SetTSCanCredentialsDto>\n      (`${ENGINES_URL}/SetTSCanCredentials`, params)\n    return {\n      data: setTSCanCredentials\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto\n  ): Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>> => {\n    const removeTSCanCredentials = await put<RemoveTSCanCredentialsDto, RemoveTSCanCredentialsDto>\n      (`${ENGINES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: removeTSCanCredentials\n    }\n  },\n  lock: async (\n    resource: string,\n    params: LockParams\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const lock = await put<LockParams, LockResponse>\n      (`${ENGINES_URL}/Lock`, params)\n    return {\n      data: lock\n    }\n  },\n  unlock: async (\n    resource: string,\n    params: UnlockParams\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const unlock = await put<UnlockParams, UnlockResponse>\n      (`${ENGINES_URL}/Unlock`, params)\n    return {\n      data: unlock\n    }\n  },\n  setStandbyMode: async (\n    resource: string,\n    params: SetStandbyModeDto\n  ): Promise<DataProviderExtensionResult<SetStandbyModeDto>> => {\n    const setStandbyMode = await put<SetStandbyModeDto, SetStandbyModeDto>\n      (`${ENGINES_URL}/SetStandbyMode`, params)\n    return {\n      data: setStandbyMode\n    }\n  }\n} as EngineDataProvider\n\ninterface EngineDataProvider extends DataProvider {\n  attachEvents: (\n    resource: string,\n    params: EngineEventsDto\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>;\n\n  detachEvents: (\n    resource: string,\n    params: EngineEventsDto\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>;\n\n  attachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>;\n\n  detachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>;\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>;\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>;\n\n  lock: (\n    resource: string,\n    params: LockParams\n  ) => Promise<DataProviderExtensionResult<LockResponse>>;\n\n  unlock: (\n    resource: string,\n    params: UnlockParams\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>;\n\n  setStandbyMode: (\n    resource: string,\n    params: SetStandbyModeDto\n  ) => Promise<DataProviderExtensionResult<SetStandbyModeDto>>;\n};\n\nexport interface LockParams {\n  engineId: number\n  lockName: string\n}\n\nexport interface LockResponse {\n  engineId: number\n  lockName: string\n  lockResult: EngineLockResults\n}\n\nexport interface UnlockParams {\n  engineId: number\n}\n\nexport interface UnlockResponse {\n  engineId: number\n  unlockResult: EngineUnlockResults\n}\n\nexport default provider","import { EntranceDto } from '../dto/entrance.dto'\n\nconst mapping: Partial<Record<keyof EntranceDto, string>> = {\n  id: 'e=>e.Id',\n  note: 'e=>e.Note'\n}\n\nexport const mapSortEntranceParam = (key: keyof EntranceDto) => mapping[key]\n","import { DataProvider, GetListParams, GetListResult } from 'react-admin'\nimport { ENTRANCES_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ALL_RESULTS } from '../common/filter.values'\nimport { EntranceDto } from '../dto/entrance.dto'\nimport { mapSortEntranceParam } from './entrance-sort.mapper'\n\ninterface EntranceListParams extends GetListParams {\n  readonly sort: {\n    readonly field: keyof EntranceDto\n    readonly order: 'ASC' | 'DESC'\n  }\n  readonly filter:\n  {\n    readonly note: string\n  }\n}\n\nconst provider = {\n  getList: async (\n    resource: string,\n    {\n      filter: { note },\n      sort,\n      pagination\n    }: EntranceListParams,\n  ): Promise<GetListResult<EntranceDto>> => {\n\n    const queryParams: string[] = []\n    if (sort) {\n      const { field, order } = sort\n      queryParams.push(`sortBy=${mapSortEntranceParam(field)}`)\n      queryParams.push(`sortOrder=${order}`)\n    }\n    if (pagination) {\n      const { page, perPage } = pagination\n      queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n      queryParams.push(`rangeTo=${page * perPage}`)\n    }\n    const pathParams = queryParams.length > 0 ? queryParams.reduce((p, c) => `${p}&${c}`) : null\n    const { data, range: { total } } = await getWithPagination<EntranceDto[]>(`${ENTRANCES_URL}/GetByConditions/`, `${note ? `e=>e.Note.Contains(\"${note}\")` : ALL_RESULTS}?${pathParams ?? pathParams}`)\n\n    return Promise.resolve({\n      data,\n      total\n    })\n  }\n} as DataProvider\n\nexport default provider","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport accessUsingsProvider from './access-usings/access-usings.provider'\nimport bookingsProvider from './bookings/bookings.provider'\nimport logsProvider from './logs/extended-logs.provider'\nimport { ResourceName } from './ResourceName'\nimport statsOverallViewListProvider from './stats/overall-view/overall-view-list.provider'\nimport statsOverallViewProvider from './stats/overall-view/overall-view.provider'\nimport ticketDetailsProvider from './ticket-details/ticket-details.provider'\nimport ticketInfoProvider from './ticket-info/ticket-info.provider'\nimport ticketsProvider from './tickets/tickets.provider'\nimport accessesProvider from './accesses/access.provider'\nimport eventsProvider from './events/event.provider'\nimport customersDetailsProvider from './customer-details/customer-details.provider'\nimport customersInfoProvider from './customer-info/customer-info.provider'\nimport accessDatesProvider from './access-dates/access-dates.provider'\nimport companiesProvider from './companies/companies.provider'\nimport objectsProvider from './objects/objects.provider'\nimport palmProvider from './devices/palms/palms.provider'\nimport engineProvider from './devices/engines/engines.provider'\nimport entrancesProvider from './entrances/entrance.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: accessDatesProvider,\n  [ResourceName.ACCESSES]: accessesProvider,\n  [ResourceName.ACCESS_USINGS]: accessUsingsProvider,\n  [ResourceName.BOOKINGS]: bookingsProvider,\n  [ResourceName.COMPANIES]: companiesProvider,\n  [ResourceName.CUSTOMER_DETAILS]: customersDetailsProvider,\n  [ResourceName.CUSTOMER_INFO]: customersInfoProvider,\n  [ResourceName.ENGINES]: engineProvider,\n  [ResourceName.ENTRANCES]: entrancesProvider,\n  [ResourceName.EVENTS]: eventsProvider,\n  [ResourceName.LOGS]: logsProvider,\n  [ResourceName.OBJECTS]: objectsProvider,\n  [ResourceName.PALMS]: palmProvider,\n  [ResourceName.TICKETS]: ticketsProvider,\n  [ResourceName.TICKET_INFO]: ticketInfoProvider,\n  [ResourceName.TICKET_DETAILS]: ticketDetailsProvider,\n  [ResourceName.TICKET_LOGS]: logsProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: statsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: statsOverallViewListProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import i18n from 'i18next'\n\nconst provider = {\n  translate: (key: string, options: any): string => i18n.t(key, options),\n  changeLocale: async (locale: string): Promise<void> => {\n    const identity = localStorage.getItem('username') as string\n    localStorage.setItem(`${identity}.lng`, locale)\n    await i18n.changeLanguage(locale)\n  },\n  getLocale: (): string => i18n.language,\n}\n\nexport default provider","import { AuthProvider } from 'react-admin'\nimport { get } from '../common/fetch.utils'\nimport { RoleDto } from '../dto/role.dto'\nimport { ROLES_URL } from '../api-urls'\n\nconst areRolesOutOfSync = (local: Set<string>, remote: string[]) =>\n  local.size !== remote.length || !remote.every((value) => local.has(value))\n\nconst validateRoles = async (\n  dataProvider: AuthProvider,\n  params: any,\n  rolesFromRemote: string[],\n): Promise<Set<string>> => {\n  const rolesFromLocalStorage = (await dataProvider.getPermissions(\n    params,\n  )) as Set<string>\n  if (areRolesOutOfSync(rolesFromLocalStorage, rolesFromRemote)) {\n    // eslint-disable-next-line no-console\n    console.error('Corrupted permissions')\n    await dataProvider.logout('')\n    return Promise.resolve(new Set([]))\n  }\n  return Promise.resolve(rolesFromLocalStorage)\n}\n\nexport const withSynchronizedPermissions = (dataProvider: AuthProvider) => {\n  // this is set once on app initialization\n  let rolesFromRemote: string[] | null = null\n\n  return new Proxy<AuthProvider>(dataProvider, {\n    get:\n      (target, name: string) =>\n      async (params: any): Promise<any> => {\n        switch (name as keyof AuthProvider) {\n          // avoid re-executing getRoles call\n          case 'login': {\n            await dataProvider.login(params)\n            const rolesFromLocalStorage = (await dataProvider.getPermissions(\n              params,\n            )) as Set<string>\n            rolesFromRemote = Array.from(rolesFromLocalStorage)\n            return Promise.resolve()\n          }\n          case 'getPermissions': {\n            if (rolesFromRemote) {\n              // compares the status of local and remote roles each time it checks for permissions\n              return validateRoles(dataProvider, params, rolesFromRemote)\n            }\n            // after reloading the page it needs to fetch roles from remote\n            const roleDtos = await get<RoleDto[]>(ROLES_URL)\n            const roles = roleDtos.map((v) => v.name)\n            rolesFromRemote = roles\n            localStorage.setItem('roles', roles.join())\n            return Promise.resolve(new Set(roles))\n          }\n          default: {\n            return dataProvider[name](params)\n          }\n        }\n      },\n  })\n}\n","import { defaultTheme, RaThemeOptions } from 'react-admin'\nimport { deepPurple, green } from '@material-ui/core/colors'\n\nconst overriddenTheme: RaThemeOptions = {\n  ...defaultTheme,\n  typography: {\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    body1: {\n      fontWeight: 300,\n    },\n    body2: {\n      fontWeight: 300,\n    },\n    h5: {\n      fontWeight: 200,\n    },\n  },\n  overrides: {\n    RaFilter: {\n      form: {\n        margin: 0\n      }\n    }\n  }\n}\n\nexport const LightTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: deepPurple,\n    secondary: green,\n    type: 'light'\n  },\n}\n\nexport const DarkTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: {\n      light: deepPurple[100],\n      main: deepPurple[200],\n      dark: deepPurple[300],\n      contrastText: '#F1F1F1'\n    },\n    secondary: green,\n    type: 'dark'\n  },\n\n}","import { MenuItem, Collapse, Tooltip, ListItemIcon, Typography, List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ExpandMore } from '@material-ui/icons';\nimport React, { ReactElement, ReactNode } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ReduxState } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    minWidth: theme.spacing(5)\n  },\n  sidebarIsOpen: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(4),\n    },\n  },\n  sidebarIsClosed: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(2),\n    },\n  },\n}));\n\ninterface SubMenuProps {\n  handleToggle: () => void\n  icon: ReactElement\n  isOpen: boolean\n  name: string\n  children: ReactNode\n}\n\nexport const SubMenu = (props: SubMenuProps) => {\n  const { handleToggle, icon, isOpen, name, children } = props\n  const sidebarOpen = useSelector((state: ReduxState) => state?.admin.ui.sidebarOpen)\n  const classes = useStyles()\n\n  const header = (\n    <MenuItem button onClick={handleToggle}>\n      <ListItemIcon className={classes.icon}>\n        {isOpen ? <ExpandMore /> : icon}\n      </ListItemIcon>\n      <Typography variant=\"inherit\" color=\"textSecondary\">\n        {name}\n      </Typography>\n    </MenuItem>\n  )\n\n  return (\n    <>\n      {sidebarOpen || isOpen ? (\n        header\n      ) : (\n        <Tooltip title={name} placement=\"right\">\n          {header}\n        </Tooltip>\n      )}\n      <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n        <List\n          component=\"div\"\n          disablePadding\n          className={sidebarOpen ? classes.sidebarIsOpen : classes.sidebarIsClosed}>\n          {children}\n        </List>\n      </Collapse>\n    </>\n  )\n}\n","import * as React from 'react';\nimport createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 23.921875 8.652344 L 20.859375 3.347656 L 19.09375 4.367188 L 18.816406 4.527344 C 18.292969 4.050781 17.71875 3.625 17.097656 3.261719 C 16.449219 2.882812 15.769531 2.582031 15.0625 2.355469 L 15.0625 0 L 8.9375 0 L 8.9375 2.355469 C 8.230469 2.582031 7.550781 2.882812 6.902344 3.261719 C 6.28125 3.625 5.707031 4.050781 5.183594 4.527344 L 4.90625 4.367188 L 3.140625 3.347656 L 0.078125 8.652344 L 1.84375 9.671875 L 2.117188 9.832031 C 1.960938 10.539062 1.882812 11.265625 1.882812 12 C 1.882812 12.734375 1.960938 13.460938 2.117188 14.167969 L 1.84375 14.328125 L 0.078125 15.347656 L 3.140625 20.652344 L 4.90625 19.632812 L 5.183594 19.472656 C 5.707031 19.949219 6.285156 20.375 6.902344 20.738281 C 7.550781 21.117188 8.230469 21.417969 8.9375 21.644531 L 8.9375 24 L 14.863281 24 C 13.722656 22.835938 13.019531 21.242188 13.019531 19.488281 C 13.019531 18.84375 13.117188 18.222656 13.289062 17.636719 C 12.875 17.734375 12.445312 17.785156 12 17.785156 C 8.808594 17.785156 6.214844 15.191406 6.214844 12 C 6.214844 8.808594 8.808594 6.214844 12 6.214844 C 15.191406 6.214844 17.785156 8.808594 17.785156 12 C 17.785156 12.445312 17.734375 12.875 17.636719 13.289062 C 18.222656 13.117188 18.84375 13.019531 19.488281 13.019531 C 20.378906 13.019531 21.226562 13.203125 22 13.53125 C 22.078125 13.027344 22.117188 12.515625 22.117188 12 C 22.117188 11.265625 22.039062 10.539062 21.882812 9.832031 L 22.15625 9.671875 Z M 23.921875 8.652344\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 12 8.257812 C 9.9375 8.257812 8.257812 9.9375 8.257812 12 C 8.257812 14.0625 9.9375 15.742188 12 15.742188 C 14.0625 15.742188 15.742188 14.0625 15.742188 12 C 15.742188 9.9375 14.0625 8.257812 12 8.257812 Z M 12 8.257812\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 19.488281 15.0625 C 17.046875 15.0625 15.0625 17.046875 15.0625 19.488281 C 15.0625 21.925781 17.046875 23.910156 19.488281 23.910156 C 21.925781 23.910156 23.910156 21.925781 23.910156 19.488281 C 23.910156 17.046875 21.925781 15.0625 19.488281 15.0625 Z M 19.011719 22.019531 L 16.925781 19.9375 L 18.371094 18.492188 L 19.011719 19.132812 L 21.011719 17.132812 L 22.453125 18.574219 Z M 19.011719 22.019531\"\n})), 'Ver');","import { makeStyles } from '@material-ui/core/styles'\nimport {\n  Event,\n  List,\n  Person,\n  PhoneAndroid,\n  Receipt,\n  Sort,\n  VideoLabel,\n  ViewComfy,\n} from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport { getResources, ResourceDefinition } from 'ra-core'\nimport {\n  DashboardMenuItem,\n  MenuItemLink,\n  ReduxState,\n  useTranslate,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { SubMenu } from './AppSubmenu'\nimport { ResourceName } from '../../core/ResourceName'\nimport EngineDevice from '../../assets/icons/EngineDevice'\n\nconst useStyles = makeStyles({\n  open: {\n    width: '240px',\n  },\n  closed: {\n    width: '55px',\n  },\n})\n\nexport const AppMenu = () => {\n  const sidebarOpen = useSelector(\n    (state: ReduxState) => state.admin.ui.sidebarOpen,\n  )\n  const theme = useStyles()\n  const [open, setOpen] = useState({\n    menuStats: true,\n    menuDevices: true,\n  })\n\n  const availableResources = new Set(\n    useSelector<ReduxState, ResourceDefinition[]>(getResources).map(\n      (r) => r.name as ResourceName,\n    ),\n  )\n  const translate = useTranslate()\n\n  const handleToggle = (menu: 'menuStats' | 'menuDevices') =>\n    setOpen((state) => ({ ...state, [menu]: !state[menu] }))\n\n  const anyStatsResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.STATS_OVERALL_VIEW_LIST)\n\n  const anyDeviceResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.PALMS) || avRes.has(ResourceName.ENGINES)\n\n  return (\n    <div\n      style={{ userSelect: 'none' }}\n      className={sidebarOpen ? theme.open : theme.closed}\n    >\n      <DashboardMenuItem />\n      {availableResources.has(ResourceName.TICKET_INFO) && (\n        <MenuItemLink\n          to={`/${ResourceName.TICKET_INFO}`}\n          primaryText={translate('resources.ticket-info.name')}\n          leftIcon={<Receipt />}\n        />\n      )}\n      {availableResources.has(ResourceName.CUSTOMER_INFO) && (\n        <MenuItemLink\n          to={`/${ResourceName.CUSTOMER_INFO}`}\n          primaryText={translate('resources.customer-info.name')}\n          leftIcon={<Person />}\n        />\n      )}\n      {availableResources.has(ResourceName.LOGS) && (\n        <MenuItemLink\n          to={`/${ResourceName.LOGS}`}\n          primaryText={translate('resources.logs.name')}\n          leftIcon={<List />}\n        />\n      )}\n      {availableResources.has(ResourceName.EVENTS) && (\n        <MenuItemLink\n          to={`/${ResourceName.EVENTS}`}\n          primaryText={translate('resources.events.name')}\n          leftIcon={<Event />}\n        />\n      )}\n      {anyStatsResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuStats')}\n          isOpen={open.menuStats}\n          name={translate('side-menu.stats.name')}\n          icon={<ViewComfy />}\n        >\n          {availableResources.has(ResourceName.STATS_OVERALL_VIEW_LIST) && (\n            <MenuItemLink\n              to={`/${ResourceName.STATS_OVERALL_VIEW_LIST}`}\n              primaryText={translate('side-menu.stats.overall-view')}\n              leftIcon={<Sort style={{ transform: 'scaleX(-1)' }} />}\n            />\n          )}\n        </SubMenu>\n      )}\n      {anyDeviceResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuDevices')}\n          isOpen={open.menuDevices}\n          name={translate('side-menu.devices.name')}\n          icon={<VideoLabel />}\n        >\n          {availableResources.has(ResourceName.PALMS) && (\n            <MenuItemLink\n              to=\"/palms\"\n              primaryText={translate('resources.palms.name')}\n              leftIcon={<PhoneAndroid />}\n            />\n          )}\n          {availableResources.has(ResourceName.ENGINES) && (\n            <MenuItemLink\n              to=\"/engines\"\n              primaryText={translate('resources.engines.name')}\n              leftIcon={<EngineDevice />}\n            />\n          )}\n        </SubMenu>\n      )}\n    </div>\n  )\n}\n","import { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Settings } from '@material-ui/icons'\nimport React from 'react'\nimport { AppBar, AppBarProps, CoreLayoutProps, Layout, UserMenu, UserMenuProps, MenuItemLink, useTranslate } from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { DarkTheme, LightTheme } from '../../app.theme'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport { AppMenu } from './AppMenu'\n\nconst useStyles = makeStyles({\n  title: {\n    flex: 1,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n})\n\nconst AppUserMenu = (props: UserMenuProps) => {\n  const translate = useTranslate()\n  return (\n    <UserMenu {...props}>\n      <MenuItemLink\n        to=\"/configuration\"\n        primaryText={translate(\"settings.name\")}\n        leftIcon={<Settings />} />\n    </UserMenu>\n  )\n}\n\nconst AppTopBar = (props: AppBarProps) => {\n  const classes = useStyles()\n  return (\n    <AppBar {...props} userMenu={<AppUserMenu />}>\n      <Typography\n        variant=\"h6\"\n        className={classes.title}\n        id=\"react-admin-title\"\n      />\n    </AppBar>\n  )\n}\n\nexport const AppLayout = (props: CoreLayoutProps) => {\n  const theme = useSelector((state: ThemeState) =>\n    state.theme.darkMode === 'dark' ? DarkTheme : LightTheme,\n  )\n\n  return (\n    <Layout\n      {...props}\n      menu={AppMenu}\n      appBar={AppTopBar}\n      theme={theme} />)\n}\n","import React, { ChangeEvent, FC, useState } from 'react'\nimport {\n  Box,\n  Button,\n  FormControl,\n  FormHelperText,\n  Input,\n  withStyles,\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { useTranslate } from 'react-admin'\n\nconst RoundInputBox = withStyles({\n  root: {\n    borderRadius: 16,\n    width: '90%',\n    marginLeft: '5%',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n    border: 'solid',\n    borderColor: '#673ab7',\n  },\n})(Box)\n\nconst RoundInputBoxBtn = withStyles({\n  root: {\n    background: '#673ab7',\n    variant: 'contained',\n    borderRadius: 11,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    margin: 0,\n    fontWeight: 'bold',\n    '&:hover': {\n      background: '#7e57c2',\n    },\n  },\n})(Button)\n\nconst RoundInputBoxFC = withStyles({\n  root: {\n    width: '100%',\n    marginLeft: 13,\n    marginTop: 2,\n  },\n})(FormControl)\n\nexport type SearchInputProps = {\n  label: string\n  onValue: (value: string) => void\n  disabled: boolean\n  error: string\n}\n\nconst SearchInput: FC<Readonly<SearchInputProps>> = ({\n  label,\n  onValue,\n  disabled,\n  error,\n}) => {\n  const [inputError, setInputError] = useState(false)\n  const [inputValue, setInputValue] = useState('')\n  const t = useTranslate()\n\n  const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value)\n  }\n\n  const handleClick = () => {\n    if (inputValue) {\n      setInputError(false)\n      onValue(inputValue)\n    } else {\n      setInputError(true)\n    }\n  }\n\n  return (\n    <RoundInputBox>\n      <RoundInputBoxBtn onClick={handleClick} disabled={disabled}>\n        <SearchIcon style={{ color: 'white' }} />\n      </RoundInputBoxBtn>\n      <RoundInputBoxFC disabled={disabled}>\n        <Input\n          disableUnderline\n          placeholder={t(label)}\n          onInput={handleInput}\n          onKeyDown={(ev) => ev.key === 'Enter' && handleClick()}\n          error={inputError || !!error}\n        />\n        {inputError && (\n          <FormHelperText error>{t('ra.validation.required')}</FormHelperText>\n        )}\n        {!!error && <FormHelperText error>{t(error)}</FormHelperText>}\n      </RoundInputBoxFC>\n    </RoundInputBox>\n  )\n}\n\nexport default SearchInput\n","import React, { useCallback, useState } from 'react'\nimport {\n  useNotify,\n  useMutation,\n  useTranslate,\n  sanitizeFetchType,\n  GetListResult,\n  GET_LIST,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { stringify } from 'querystring'\nimport { CardContent, CardHeader } from '@material-ui/core'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CustomerInfoFilter } from '../../core/customer-info/customer-info.params'\nimport { CustomerInfo } from '../../core/customer-info/customer-info'\nimport SearchInput from './SearchInput'\n\nexport const FindCustomerByInfo = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchCustomers = useCallback(\n    (info: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.CUSTOMER_INFO,\n          payload: { filter: { info } } as CustomerInfoFilter,\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<CustomerInfo>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (info: string) => {\n      if (info.replace(/\\s/g, '').length === 0) {\n        setError('common.find-customer-by-info.invalidQuery')\n      } else if (info.length < 2) {\n        setError('common.find-customer-by-info.tooShort')\n      } else {\n        setError('')\n        try {\n          const {\n            total,\n            data: [onlyCustomer],\n          } = await fetchCustomers(info)\n          if (!total) {\n            setError('common.find-customer-by-info.error')\n          } else if (total === 1) {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMER_DETAILS}/${onlyCustomer.id}/show`,\n            })\n          } else {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMER_INFO}`,\n              search: stringify({\n                filter: JSON.stringify({\n                  info,\n                } as CustomerInfoFilter['filter']),\n              }),\n            })\n          }\n        } catch (err) {\n          notify((err as Error)?.message, 'error')\n        }\n      }\n    },\n    [fetchCustomers, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-customer-by-info.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-customer-by-info.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { stringify } from 'querystring'\nimport * as React from 'react'\nimport { useCallback, useState } from 'react'\nimport {\n  GET_LIST,\n  GetListResult,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { CardContent, CardHeader } from '@material-ui/core'\nimport { useHistory } from 'react-router-dom'\nimport { TicketCodeFilter } from '../../core/common/ticket-code.filter'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\n\nexport const FindUserByTicket = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchTickets = useCallback(\n    (ticketCode: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.TICKETS,\n          payload: { filter: { ticketCode } } as TicketCodeFilter,\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<TicketDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (ticketCode: string) => {\n      setError('')\n      try {\n        const {\n          total,\n          data: [onlyTicket],\n        } = await fetchTickets(ticketCode)\n        if (!total) {\n          setError('common.find-user-by-ticket.error')\n        } else if (total === 1) {\n          history.push({\n            pathname: `/${ResourceName.TICKET_DETAILS}/${onlyTicket.bookingId}/show`,\n          })\n        } else {\n          history.push({\n            pathname: `/${ResourceName.TICKET_INFO}`,\n            search: stringify({\n              filter: JSON.stringify({\n                ticketCode,\n              } as TicketCodeFilter['filter']),\n            }),\n          })\n        }\n      } catch (err) {\n        notify((err as Error)?.message, 'error')\n      }\n    },\n    [fetchTickets, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-user-by-ticket.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-user-by-ticket.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { Authority } from './Authority'\n\nconst mapping: Record<Authority, string[]> = {\n  [Authority.VIEW_LOGS]: ['ViewItems_Logs'],\n  [Authority.VIEW_STATS_OVERALL_VIEW]: ['ViewItems_Stats_OverallView'],\n  [Authority.VIEW_EVENTS]: ['ViewItems_Events_Show', 'ViewItems_Events_Edit', 'ViewItems_Events_Add'],\n  [Authority.EDIT_EVENTS]: ['ViewItems_Events_Edit'],\n  [Authority.CREATE_EVENTS]: ['ViewItems_Events_Add'],\n}\n\nexport const mapAuthorityToRequiredPermissions = (authority: Authority) => mapping[authority]","import { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\nexport const INACTIVE_COMPONENTS_KEY = `${identity}.inactiveComponents`\n\nexport enum DashboardItem {\n  TICKET_FINDER = 'ticket_finder',\n  LAST_LOGS = 'last_logs',\n  LAST_EVENTS = 'last_events',\n  CUSTOMER_FINDER = 'customer_finder'\n}\n\nexport type DashboardState = {\n  dashboard: {\n    inactiveComponents: DashboardItem[]\n  }\n}\n\nexport type DashboardAction = {\n  type: typeof UPDATE_DASHBOARD\n  payload: DashboardItem\n}\n","import { usePermissions } from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { mapAuthorityToRequiredPermissions } from '../../core/auth/authority.mapper'\n\nexport const hasAuthorityWithGivenPermissions = (authority: Authority, permissions: Set<string>) => {\n  const permissionSet = new Set(permissions)\n  const requiredPerms = mapAuthorityToRequiredPermissions(authority)\n  return requiredPerms.some(reqPerms => permissionSet.has(reqPerms))\n}\n\nexport const useHasAuthority = () => {\n  const { permissions, loaded } = usePermissions<Set<string>>()\n  return (authority: Authority) => {\n    if (loaded && !permissions) {\n      // eslint-disable-next-line no-console\n      console.error('\"useHasAuthority\" - No permissions or hook was used outside the react admin context')\n      return false\n    }\n    return hasAuthorityWithGivenPermissions(authority, permissions as Set<string>)\n  }\n}","import {\n  Datagrid,\n  DateField,\n  Filter,\n  FunctionField,\n  Link,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core'\nimport { Event as EventIcon, Sort } from '@material-ui/icons'\nimport { ResourceName } from '../../core/ResourceName'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\nimport { DateTime } from '../../core/common/date-time'\nimport FilterProps from '../common/FilterProps'\n\nconst useStyles = makeStyles((theme) => ({\n  actionColumnsWithoutPadding: {\n    // applies always for last column\n    '& tr > td:last-child': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n    // only applies when there are four columns and targets the penultimate column\n    '& tr > td:first-child:nth-last-child(4) ~ td:nth-last-child(2)': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n  },\n}))\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid className={classes.actionColumnsWithoutPadding}>\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.name')}\n        render={(record?: EventDto) => {\n          const { id, name } = record as EventDto\n          return `${id}. ${name}`\n        }}\n      />\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.status')}\n        render={(record?: EventDto) => {\n          const { status } = record as EventDto\n          return t(`resources.enums.eventStatus.${status.toLowerCase()}`)\n        }}\n      />\n      <FunctionField<EventDto>\n        render={(record?: EventDto) => {\n          const { id } = record as EventDto\n          return (\n            <Link to={`/${ResourceName.EVENTS}/${id}/show`}>\n              <IconButton>\n                <EventIcon />\n              </IconButton>\n            </Link>\n          )\n        }}\n      />\n      {hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW) && (\n        <FunctionField<EventDto>\n          render={(record?: EventDto) => {\n            const { id } = record as EventDto\n            return (\n              <Link to={`/${ResourceName.STATS_OVERALL_VIEW}/${id}/show`}>\n                <IconButton>\n                  <Sort style={{ transform: 'scaleX(-1)' }} />\n                </IconButton>\n              </Link>\n            )\n          }}\n        />\n      )}\n    </Datagrid>\n  )\n}\n\nconst EventDateField = ({ source, label }: { source: string, label?: string }) => (\n  <FunctionField<EventDto> source={source} label={label} render={(record?: EventDto) => {\n    const { dateStart, dateEnd } = {\n      dateStart: new Date(record?.dateStart as DateTime),\n      dateEnd: new Date(record?.dateEnd as DateTime)\n    }\n    if (dateStart.toDateString() === dateEnd.toDateString()) return (\n      <>\n        <DateField source=\"dateStart\" />\n        <span> {dateStart.getHours() < 10 && 0}{dateStart.getHours()}:</span>\n        <span>{dateStart.getMinutes() < 10 && 0}{dateStart.getMinutes()} - </span>\n        <span>{dateEnd.getHours() < 10 && 0}{dateEnd.getHours()}:</span>\n        <span>{dateEnd.getMinutes() < 10 && 0}{dateEnd.getMinutes()}</span>\n      </>\n    )\n    return (\n      <>\n        <span>\n          <DateField source=\"dateStart\" showTime />\n        </span>\n        <span> - </span>\n        <span>\n          <DateField source=\"dateEnd\" showTime />\n        </span>\n      </>\n    )\n  }} />\n)\n\nconst EventGrid = ({ compactMode }: { compactMode?: boolean }) => {\n  const { loading } = useListContext()\n  const t = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <>\n      {compactMode ? (\n        <LastEvents />\n      ) : (\n        <Datagrid\n          size=\"small\"\n          loaded={!loading}\n          rowClick={(id) => `${ResourceName.EVENTS}/${id}/show`}\n        >\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          {!smallScreen &&\n            <DateField source=\"dateStart\" showTime />}\n          {!smallScreen &&\n            <DateField source=\"dateEnd\" showTime />}\n          {smallScreen &&\n            <EventDateField source=\"dateStart\"\n              label=\"resources.events.fields.date\" />}\n          <FunctionField<EventDto>\n            resource=\"events\"\n            label={t('resources.events.fields.status')}\n            render={(r?: EventDto) =>\n              t(`resources.enums.eventStatus.${r?.status.toLowerCase()}`)\n            }\n          />\n        </Datagrid>\n      )}\n    </>\n  )\n}\n\ninterface EventListProps extends ListProps {\n  compactMode?: boolean\n}\n\nconst EventFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const EventList = ({ compactMode = false, ...props }: EventListProps) =>\n  compactMode ? (\n    <List\n      {...props}\n      actions={false}\n      filters={undefined}\n      perPage={10}\n      pagination={false}\n    >\n      <EventGrid compactMode />\n    </List>\n  ) : (\n    <List\n      {...props}\n      exporter={false}\n      filters={<EventFilters />}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    >\n      <EventGrid />\n    </List>\n  )\n","import * as React from 'react'\nimport { TextField, makeStyles, Theme, createStyles } from '@material-ui/core'\nimport { useField } from 'react-final-form'\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      verticalAlign: 'center',\n      marginBottom: theme.spacing(1)\n    }\n  })\n)\n\nexport const DateFilterInput = ({ source }: { source: string }) => {\n  const classes = useStyles()\n  const defaultFromDate = React.useMemo(() => new Date(Date.now() - 2678400000), [])\n  defaultFromDate.setHours(0, 0, 0, 0)\n  const defaultToDate = new Date(Date.now())\n  defaultToDate.setHours(23, 59, 0, 0)\n  const [dateFrom, setDateFrom] = React.useState(\n    defaultFromDate.getTime().toString(),\n  )\n  const [dateTo, setDateTo] = React.useState(defaultToDate.getTime().toString())\n  const {\n    input: { onChange },\n    meta: { touched, error },\n  } = useField(source)\n\n  React.useEffect(() => {\n    onChange([\n      (parseInt(dateFrom, 10) - (defaultFromDate.getTimezoneOffset() * 60000)).toString(),\n      (parseInt(dateTo, 10) - (defaultFromDate.getTimezoneOffset() * 60000)).toString()].join(';'))\n  }, [dateFrom, dateTo, onChange, defaultFromDate])\n\n  const convertedDate = (date: Date) =>\n    new Date(date.getTime() - (defaultFromDate.getTimezoneOffset() * 60000)).toJSON().substring(0, 16)\n\n  return (\n    <span\n      key=\"date\"\n      className={classes.container}\n    >\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultFromDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateFrom(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        style={{ alignSelf: 'center' }}\n        size=\"small\"\n      />\n      <ArrowRightAltIcon style={{ marginTop: '4%' }} />\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultToDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateTo(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        size=\"small\"\n      />\n    </span>\n  )\n}\n","import { Grid, withStyles } from '@material-ui/core'\n\nexport const VCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n})(Grid)\n\nexport const VHCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n})(Grid)","import {\n  useMediaQuery,\n  useTheme,\n  Grid,\n  Divider,\n  TableBody,\n  Box,\n  Typography,\n} from '@material-ui/core'\nimport { Receipt } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Pagination,\n  SelectInput,\n  TextInput,\n  useTranslate,\n  Datagrid,\n  TextField,\n  DateField,\n  Record,\n  FunctionField,\n  useLocale,\n  DatagridBodyProps,\n  DatagridRow,\n  DatagridHeader,\n  DatagridHeaderProps,\n  ShowButton,\n  Filter\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { getContrastColor } from '../../core/common/visual.utils'\nimport { ExtendedLog } from '../../core/logs/extended-log'\nimport { DateFilterInput } from './DateFilterInput'\nimport { VCenterGrid, VHCenterGrid } from './LogsComponents'\nimport FilterProps from '../common/FilterProps'\n\ninterface LogExpandProps {\n  readonly noBooking?: boolean\n  readonly record?: ExtendedLog\n}\n\ninterface LogBodyProps extends DatagridBodyProps {\n  readonly noBooking?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogHeaderProps extends DatagridHeaderProps {\n  readonly noBooking?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogListProps extends ListProps {\n  readonly compactMode?: boolean\n  readonly noBooking?: boolean\n}\n\nconst BookingButton = ({ style }: { style?: any }) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const history = useHistory()\n  return (\n    <FunctionField\n      source=\"bookingId\"\n      render={(record: Record | undefined) =>\n        record?.bookingId && (\n          <>\n            <ShowButton\n              basePath=\"/ticket-details\"\n              label={record.bookingId.toString()}\n              record={{ id: record.bookingId }}\n              icon={<Receipt />}\n              style={style}\n            />\n            {xSmallScreen &&\n              <Typography color=\"primary\" onClick={() => history.push(`/ticket-details/${record.bookingId}/show`)}>{record.bookingId}</Typography>}\n          </>\n        )\n      }\n    />\n  )\n}\n\nconst LogExpand = ({ noBooking, record }: LogExpandProps) => {\n  const translate = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <VCenterGrid item xs={4}>\n          {translate('resources.logs.fields.description')}:\n        </VCenterGrid>\n        <VCenterGrid item xs={8}>\n          <TextField source=\"text\" />\n        </VCenterGrid>\n        {!noBooking && record?.bookingId && (\n          <>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n            <VCenterGrid item xs={4}>\n              {translate('resources.logs.fields.bookingId')}:\n            </VCenterGrid>\n            <VHCenterGrid item xs={8}>\n              <BookingButton />\n            </VHCenterGrid>\n          </>\n        )}\n      </Grid>\n    </Box>\n  )\n}\n\nconst LogBody = ({\n  noBooking,\n  compactMode,\n  data,\n  ids,\n  rowStyle,\n  expand\n}: LogBodyProps) => (\n  <TableBody>\n    {data && rowStyle &&\n      ids?.map((id) => {\n        const style = rowStyle(data[id], id as number)\n        return (\n          <DatagridRow\n            key={id}\n            id={id}\n            record={data[id]}\n            resource=\"logs\"\n            expand={expand}\n            style={style}\n          >\n            <DateField\n              source=\"date\"\n              style={style}\n            />\n            <TextField\n              source=\"deviceName\"\n              style={style}\n            />\n            <TextField\n              source=\"ticketCode\"\n              style={style}\n            />\n            {!compactMode && (\n              <TextField\n                source=\"text\"\n                style={style}\n              />\n            )}\n            {!compactMode && !noBooking && (\n              <BookingButton style={style} />\n            )}\n          </DatagridRow>\n        )\n      })}\n  </TableBody>\n)\n\nconst LogHeader = ({ noBooking, compactMode, ...props }: LogHeaderProps) => (\n  <DatagridHeader {...props}>\n    <DateField source=\"date\"\n      label=\"resources.logs.fields.date\" />\n    <TextField source=\"deviceName\"\n      label=\"resources.logs.fields.deviceName\" />\n    <TextField source=\"ticketCode\"\n      label=\"resources.logs.fields.ticketCode\" />\n    {!compactMode && (\n      <TextField\n        source=\"text\"\n        sortable={false}\n        label=\"resources.logs.fields.description\"\n      />\n    )}\n    {!noBooking && !compactMode && <TextField source=\"bookingId\"\n      label=\"resources.logs.fields.bookingId\" />}\n  </DatagridHeader>\n)\n\nconst LogFilters = (props: FilterProps) => (\n  <Filter {...props} >\n    <TextInput key=\"ticketCode\" source=\"ticketCode\" alwaysOn />\n    <SelectInput\n      key=\"deviceName\"\n      source=\"deviceName\"\n      choices={[\n        {\n          id: 'Czytnik',\n          name: 'resources.logs.fields.deviceNameChoices.reader',\n        },\n        {\n          id: 'Przej\\u015Bcie',\n          name: 'resources.logs.fields.deviceNameChoices.gateway',\n        },\n      ]}\n    />\n    <DateFilterInput source=\"date\" key=\"date\" />\n    <TextInput source=\"bookingId\" key=\"bookingId\" />\n    <TextInput source=\"event\" key=\"event\" />\n  </Filter>\n)\n\nexport const LogList = ({\n  compactMode = false,\n  noBooking = false,\n  ...props\n}: LogListProps) => {\n  const { filter, ...listProps } = props\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const locale = useLocale()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      filters={<LogFilters />}\n      filter={{ ...filter, locale }}\n      sort={{ field: 'date', order: 'DESC' }}\n      {...listProps}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        header={\n          <LogHeader\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n          />\n        }\n        body={\n          <LogBody\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n          />\n        }\n        isRowExpandable={() => smallScreen || compactMode}\n        expand={<LogExpand noBooking={noBooking} />}\n        rowStyle={(record: Record) => ({\n          background: record.color,\n          color: record.color !== 'transparent' ? getContrastColor(record.color) : 'inherit'\n        })}\n        padding={xSmallScreen ? \"none\" : \"default\"}\n      >\n        <div />\n      </Datagrid>\n    </List>\n  )\n}","export const getContrastColor = (hexcolor: string) => {\n    const r = parseInt(hexcolor.substr(1, 2), 16);\n    const g = parseInt(hexcolor.substr(3, 2), 16);\n    const b = parseInt(hexcolor.substr(5, 2), 16);\n    const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n    return (yiq >= 128) ? 'black' : 'white';\n  }","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ResourceContextProvider, useTranslate } from 'react-admin'\nimport { ResourceName } from '../core/ResourceName'\nimport { FindCustomerByInfo } from './common/FindCustomerByInfo'\nimport { FindUserByTicket } from './common/FindUserByTicket'\nimport { EventList } from './events/EventList'\nimport { LogList } from './logs/LogList'\nimport { DashboardItem, DashboardState } from '../core/common/dashboard'\nimport { useHasAuthority } from './hooks/useHasAuthority'\nimport { Authority } from '../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      textAlign: 'center',\n      letterSpacing: theme.spacing(0.2),\n    },\n    lastLogs: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-end',\n      width: '10%',\n    },\n  }),\n)\n\nconst TicketFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindUserByTicket />\n  </Card>\n)\n\nconst CustomerFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindCustomerByInfo />\n  </Card>\n)\n\nconst LastLogs = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-logs.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.LOGS}>\n          <LogList\n            basePath=\"/\"\n            title=\" \"\n            compactMode\n            pagination={false}\n            perPage={10}\n            actions={false}\n            filters={undefined}\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-events.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.EVENTS}>\n          <EventList\n            sort={{ field: 'status', order: 'DESC' }}\n            compactMode\n            basePath=\"/\"\n            title=\" \"\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const isItemActive = (item: DashboardItem, inactiveItems: DashboardItem[]) =>\n    !inactiveItems.includes(item)\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Card>\n          <CardHeader\n            className={classes.header}\n            title={t('dashboard.welcome')}\n            titleTypographyProps={{ variant: 'h4' }}\n          />\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        {isItemActive(DashboardItem.TICKET_FINDER, inactiveComponents) && (\n          <TicketFinder />\n        )}\n        {hasAuthority(Authority.VIEW_EVENTS) &&\n          isItemActive(DashboardItem.LAST_EVENTS, inactiveComponents) && (\n            <LastEvents />\n          )}\n      </Grid>\n      <Grid className={classes.lastLogs} item sm={6} xs={12}>\n        {isItemActive(DashboardItem.CUSTOMER_FINDER, inactiveComponents) && (\n          <CustomerFinder />\n        )}\n        {hasAuthority(Authority.VIEW_LOGS) &&\n          isItemActive(DashboardItem.LAST_LOGS, inactiveComponents) && (\n            <LastLogs />\n          )}\n      </Grid>\n    </Grid>\n  )\n}\n","export enum ToggleType {\n  BLOCK = 'BLOCK',\n  UNBLOCK = 'UNBLOCK',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import {\n  Button,\n  ButtonGroup,\n  Card,\n  CardContent,\n  createStyles,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { Dispatch, ReactElement } from 'react'\nimport { Title, useLocale, useSetLocale, useTranslate } from 'react-admin'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Event, List, Search, Person } from '@material-ui/icons'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport {\n  CHANGE_THEME,\n  UPDATE_DASHBOARD,\n} from '../../core/constants/reducer.actions'\nimport {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n} from '../../core/common/dashboard'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    label: { width: '15vw', display: 'inline-block' },\n    button: { margin: theme.spacing(2) },\n    select: { width: '40vw', margin: theme.spacing(2) },\n    compsContainer: {\n      width: '40vw',\n      display: 'inline-block',\n      margin: theme.spacing(2),\n    },\n  }),\n)\n\ntype DashboardItemSwitchProps = {\n  dashboardItem: DashboardItem\n  label: string\n  icon: ReactElement\n}\n\nconst DashboardItemSwitch = ({\n  dashboardItem,\n  label,\n  icon,\n}: DashboardItemSwitchProps) => {\n  const t = useTranslate()\n  const dispatch = useDispatch<Dispatch<DashboardAction>>()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const onSwitch = ({\n    target: { name },\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({ type: UPDATE_DASHBOARD, payload: name as DashboardItem })\n  }\n  return (\n    <Grid item xs={6}>\n      <Paper>\n        {icon}\n        <FormControlLabel\n          control={\n            <Switch\n              checked={!inactiveComponents.includes(dashboardItem)}\n              name={dashboardItem}\n              onChange={onSwitch}\n            />\n          }\n          label={t(label)}\n          labelPlacement=\"top\"\n          style={{ margin: '5%', textAlign: 'center', width: '90%' }}\n        />\n      </Paper>\n    </Grid>\n  )\n}\n\nconst DashboardCustomization = () => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Grid container spacing={1}>\n      <DashboardItemSwitch\n        dashboardItem={DashboardItem.TICKET_FINDER}\n        label=\"dashboard.settings.ticket-finder-label\"\n        icon={<Search />}\n      />\n      {hasAuthority(Authority.VIEW_LOGS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.LAST_LOGS}\n          label=\"dashboard.settings.last-logs-label\"\n          icon={<List />}\n        />\n      )}\n      <DashboardItemSwitch\n        dashboardItem={DashboardItem.LAST_EVENTS}\n        label=\"dashboard.settings.last-events-label\"\n        icon={<Event />}\n      />\n      <DashboardItemSwitch\n        dashboardItem={DashboardItem.CUSTOMER_FINDER}\n        label=\"dashboard.settings.customer-finder-label\"\n        icon={<Person />}\n      />\n    </Grid>\n  )\n}\n\nexport const Configuration = () => {\n  const dispatch = useDispatch()\n  const theme = useSelector(\n    (state: ThemeState) => state.theme.darkMode === 'dark',\n  )\n  const classes = useStyles()\n  const locale = useLocale()\n  const setLocale = useSetLocale()\n  const t = useTranslate()\n\n  return (\n    <Card>\n      <Title title={t('settings.name')} />\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.darkMode.name')}\n        </Typography>\n        <ButtonGroup className={classes.button}>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={!theme ? 'primary' : 'default'}\n            onClick={() => theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.light')}\n          </Button>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={theme ? 'primary' : 'default'}\n            onClick={() => !theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.dark')}\n          </Button>\n        </ButtonGroup>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.language.name')}\n        </Typography>\n        <Select\n          value={locale}\n          onChange={(e) => setLocale(e.target.value as string)}\n          className={classes.select}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pl\">{t('settings.language.pl')}</MenuItem>\n          <MenuItem value=\"en\">{t('settings.language.en')}</MenuItem>\n        </Select>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('dashboard.settings.title')}\n        </Typography>\n        <div className={classes.compsContainer}>\n          <DashboardCustomization />\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","import * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport { Configuration } from './Configuration'\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration/>} />\n]","/**\n * @example\n * maskMiddlePart('importantValue', 3) === 'imp********lue'\n */\nexport const maskMiddlePart = (word: string, threshold: number) => {\n  const firstChars = word.substring(0, threshold)\n  const lastChars = word.slice(-threshold)\n  const restCharsLength = word.length - firstChars.length - lastChars.length\n  return `${firstChars}${'*'.repeat(\n    restCharsLength > 0 ? restCharsLength : 0,\n  )}${lastChars}`\n}\n","import * as React from 'react'\nimport { TextField, TextFieldProps, useRecordContext } from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\n\nexport const MaskField = ({ source, ...rest }: TextFieldProps) => {\n  const record = useRecordContext()\n  const properRecord = record[source as string]\n    ? {\n      ...record,\n      [source as string]: maskMiddlePart(record[source as string], 2),\n    }\n    : record\n  return <TextField {...rest} record={properRecord} source={source} />\n}\n","import { Box, Divider, Typography, useMediaQuery, useTheme } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  TextField,\n  useListContext,\n  useTranslate,\n  FunctionField,\n  Record,\n  Pagination,\n  TextInput,\n  Filter\n} from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\nimport { ResourceName } from '../../core/ResourceName'\nimport { MaskField } from '../common/MaskField'\nimport FilterProps from '../common/FilterProps'\n\nconst TicketInfoGrid = () => {\n  const {\n    loading,\n    filterValues: { ticketCode },\n    data\n  } = useListContext()\n  const t = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <>\n      {ticketCode &&\n        <Box m={2} display=\"inline-flex\" height=\"40px\">\n          <Typography variant=\"h5\" paragraph>\n            {t('resources.ticket-info.search-list-title', { ticketCode })}\n          </Typography>\n        </Box>\n      }\n      <Divider />\n      <Datagrid\n        padding={smallScreen ? \"checkbox\" : \"default\"}\n        loaded={!loading}\n        rowClick={(id) => `${ResourceName.TICKET_DETAILS}/${data[id]?.bookingId}/show`}\n      >\n        {!smallScreen && <TextField source=\"firstname\" sortable={false} />}\n        {!smallScreen && <TextField source=\"lastname\" sortable={false} />}\n        {!smallScreen && <MaskField source=\"pesel\" sortable={false} />}\n        {smallScreen && <FunctionField source=\"customer\"\n          render={(record: Record | undefined) =>\n            `${record?.firstname} ${record?.lastname} ${record?.pesel && maskMiddlePart(record.pesel, 2)}`\n          } />}\n        <TextField source=\"ticketCode\" sortable />\n        <FunctionField\n          label='resources.ticket-info.fields.eventName'\n          render={(record: Record | undefined) => record?.eventId ? `${record?.eventName} ${record?.eventDate?.replace(\"T\", \" \")} ${record?.eventId}` : \"-\"} />\n        <TextField source=\"bookingId\" sortable />\n      </Datagrid>\n    </>\n  )\n}\n\nconst TicketInfoFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"ticketCode\" alwaysOn />\n  </Filter>\n)\n\nexport const TicketInfoList = (props: ListProps) => (\n  <List exporter={false} perPage={20} sort={{ field: \"id\", order: \"DESC\" }}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />} {...props}\n    filters={<TicketInfoFilters />}>\n    <TicketInfoGrid />\n  </List>\n)\n","import { TicketType } from '../enum/TicketType'\nimport { BookingType } from '../enum/BookingType'\n\nconst bookingTypeMapping: Record<BookingType, string> = {\n  [BookingType.NORMAL]: 'resources.enums.bookingType.normal',\n  [BookingType.ABO]: 'resources.enums.bookingType.abo',\n  [BookingType.INFIX]: 'resources.enums.bookingType.infix',\n  [BookingType.POINTS]: 'resources.enums.bookingType.points',\n  [BookingType.SERVICE]: 'resources.enums.bookingType.service',\n}\n\nconst ticketTypeMapping: Record<TicketType, string> = {\n  [TicketType.K]: 'resources.enums.ticketType.k',\n  [TicketType.M]: 'resources.enums.ticketType.m',\n  [TicketType.Z]: 'resources.enums.ticketType.z',\n  [TicketType.N]: 'resources.enums.ticketType.n',\n  [TicketType.P]: 'resources.enums.ticketType.p',\n  [TicketType.U]: 'resources.enums.ticketType.u',\n  [TicketType.R]: 'resources.enums.ticketType.r',\n}\n\nexport const mapFromBookingType = (bookingType: BookingType): string =>\n  bookingTypeMapping[bookingType]\n\nexport const mapFromTicketType = (ticketType: TicketType): string =>\n  ticketTypeMapping[ticketType]\n","import * as React from 'react'\nimport { useShowContext } from 'react-admin'\nimport {\n  Box,\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      letterSpacing: theme.spacing(0.2),\n    },\n  }),\n)\nexport const TicketDetailsHeader = () => {\n  const classes = useStyles()\n  const { record } = useShowContext<TicketDetails>()\n  return (\n    <Box m={2}>\n      <Typography className={classes.header} variant=\"h5\" paragraph>\n        {record?.firstname} {record?.lastname}\n      </Typography>\n    </Box>\n  )\n}\n","import * as React from 'react'\nimport {\n  DateField,\n  Labeled,\n  TextField,\n  TextFieldProps,\n  useRecordContext,\n  useTranslate,\n} from 'react-admin'\nimport {\n  Box,\n  Chip,\n  createStyles,\n  makeStyles,\n  Paper,\n  Theme,\n} from '@material-ui/core'\nimport { mapFromTicketType } from '../../core/ticket-details/ticket-details-values.mapper'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ticketBox: {\n      display: 'flex',\n      flexDirection: 'column',\n      padding: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n    ticketField: {\n      padding: theme.spacing(0),\n      margin: theme.spacing(0),\n      marginBottom: theme.spacing(0.5),\n    },\n  }),\n)\n\nexport const TicketDetailsTicketsField = ({ label }: TextFieldProps) => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const record = useRecordContext<TicketDetails>()\n  const mappedRecords = (record.tickets || []).map(\n    ({ id, ticketType, createdAt, ticketCode }) => ({\n      id,\n      ticketCode,\n      ticketType: mapFromTicketType(ticketType),\n      createdAt,\n    }),\n  )\n  const fields = mappedRecords.map((mappedRecord) => (\n    <Paper\n      key={mappedRecord.id}\n      variant=\"elevation\"\n      className={classes.ticketBox}\n    >\n      <Labeled\n        className={classes.ticketField}\n        label=\"resources.ticket-details.fields.tickets.fields.id\"\n      >\n        <TextField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"id\"\n        />\n      </Labeled>\n      <Labeled\n        className={classes.ticketField}\n        label=\"resources.ticket-details.fields.tickets.fields.ticketCode\"\n      >\n        <TextField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"ticketCode\"\n        />\n      </Labeled>\n      <Labeled\n        className={classes.ticketField}\n        label=\"resources.ticket-details.fields.tickets.fields.ticketType\"\n      >\n        <Chip\n          label={t(mappedRecord.ticketType)}\n          className={classes.ticketField}\n        />\n      </Labeled>\n      <Labeled\n        className={classes.ticketField}\n        label=\"resources.ticket-details.fields.tickets.fields.createdAt\"\n      >\n        <DateField\n          className={classes.ticketField}\n          record={mappedRecord}\n          source=\"createdAt\"\n          showTime\n        />\n      </Labeled>\n    </Paper>\n  ))\n  return (\n    <Labeled label={label}>\n      <Box display=\"flex\" flexWrap=\"wrap\" flexDirection=\"row\">\n        {fields}\n      </Box>\n    </Labeled>\n  )\n}\n","import {\n  CREATE,\n  CreateParams,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  UpdateManyParams,\n} from 'react-admin'\nimport { TicketDetails } from './ticket-details'\nimport { ResourceName } from '../ResourceName'\nimport { AccessUsingsCreateParams } from '../access-usings/access-usings-create.params'\nimport {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst blockMutation = (ticketDetails: TicketDetails): Mutation => {\n  const { accessesIds, tickets } = ticketDetails\n  const ticketIds = tickets.map((t) => t.id)\n  return {\n    type: sanitizeFetchType(CREATE),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      data: { ticketIds, accessIds: accessesIds },\n    } as CreateParams<AccessUsingsCreateParams>,\n  }\n}\n\nconst unblockMutation = ({ tickets }: TicketDetails): Mutation => {\n  const activeAccessUsingIds = tickets\n    .flatMap((t) => t.accessUsings)\n    .filter((au) => au.active)\n    .map((au) => au.id)\n  return {\n    type: sanitizeFetchType(UPDATE_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: activeAccessUsingIds,\n      data: {\n        active: false,\n      },\n    } as UpdateManyParams,\n  }\n}\n\ntype State = {\n  mutateQuery?: (ticketDetails: TicketDetails) => Mutation\n} & ToggleButtonState\n\nexport const blockAccessButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.ticket-details.actions.blockAccessNA',\n}\n\nexport const toggleAccessButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.ticket-details.actions.blockAccess',\n        mutateQuery: blockMutation,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.ticket-details.actions.unblockAccess',\n        mutateQuery: unblockMutation,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockAccessButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum Multiplicities {\n  SINGLE = 'SINGLE',\n  MULTIPLE = 'MULTIPLE',\n  CHECK_ALL = 'CHECK_ALL'\n}","import * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Button, createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { ToggleType } from '../../core/ticket-details/toggle-button'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport {\n  blockAccessButtonInitialState,\n  toggleAccessButtonReducer,\n} from '../../core/ticket-details/toggle-access-button.reducer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleAccessButton = () => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleAccessButtonReducer,\n    blockAccessButtonInitialState,\n  )\n  const ticketDetails = useRecordContext<TicketDetails>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const isActive = (td: TicketDetails) =>\n    td.tickets.some((ticket) => ticket.accessUsings.some((a) => a.active))\n\n  useEffect(() => {\n    if (isActive(ticketDetails)) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.BLOCK })\n    }\n  }, [ticketDetails])\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(ticketDetails)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === ToggleType.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      color=\"secondary\"\n      onClick={onClick}\n    >\n      {t(text)}\n    </Button>\n  )\n}\n","import {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-button'\nimport { BookingUpdateRequest } from '../bookings/booking-update.request'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\n\ntype State = {\n  mutateParam?: BookingUpdateRequest['disabled']\n} & ToggleButtonState\n\nexport const blockTicketButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.ticket-details.actions.blockTicketNA',\n}\n\nexport const toggleTicketButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.ticket-details.actions.blockTicket',\n        mutateParam: BookingDisabledOption.ADMIN,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.ticket-details.actions.unblockTicket',\n        mutateParam: null,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockTicketButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  sanitizeFetchType,\n  UPDATE,\n  UpdateParams,\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Button, createStyles, makeStyles, Theme } from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport { BookingUpdateRequest } from '../../core/bookings/booking-update.request'\nimport { BookingDisabledOption } from '../../core/enum/BookingDisabledOption'\nimport { ResourceName } from '../../core/ResourceName'\nimport {\n  blockTicketButtonInitialState,\n  toggleTicketButtonReducer,\n} from '../../core/ticket-details/toggle-ticket-button.reducer'\nimport { ToggleType } from '../../core/ticket-details/toggle-button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleTicketButton = () => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const notify = useNotify()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateParam }, dispatch] = useReducer(\n    toggleTicketButtonReducer,\n    blockTicketButtonInitialState,\n  )\n  const { id: bookingId, bookingDisabled } = useRecordContext<TicketDetails>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (bookingDisabled === null) {\n      dispatch({ type: ToggleType.BLOCK })\n    } else if (bookingDisabled === BookingDisabledOption.ADMIN) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.DISABLED })\n    }\n  }, [bookingDisabled])\n\n  const onClick = async () => {\n    try {\n      await mutate(\n        {\n          type: sanitizeFetchType(UPDATE),\n          resource: ResourceName.BOOKINGS,\n          payload: {\n            data: { id: bookingId, disabled: mutateParam },\n          } as UpdateParams<BookingUpdateRequest>,\n        },\n        { returnPromise: true },\n      )\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={type === ToggleType.DISABLED || loading || mutationLoading}\n      className={classes.button}\n      variant=\"contained\"\n      color=\"secondary\"\n      onClick={onClick}\n    >\n      {t(text)}\n    </Button>\n  )\n}\n","import * as React from 'react'\nimport { useListContext } from 'react-admin';\nimport { Button, Toolbar, Grid, Paper, ButtonGroup, Select, MenuItem } from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\n\nexport const MobilePostPagination = () => {\n  const { page, perPage, total, setPage, setPerPage } = useListContext();\n  const nbPages = Math.ceil(total / perPage) || 1;\n  return (\n      nbPages > 1 ?\n        <Toolbar>\n          <Grid container>\n            <Grid item xs={3}>\n            <Paper elevation={0}\n              style={{height: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center'}}>\n              <Select value={perPage} style={{width: '100%', height: '70%', textAlign: 'center'}} variant='outlined'\n              onChange={e => setPerPage(parseInt(e.target.value as string, 10))}>\n                <MenuItem value={20}> 20 </MenuItem>\n                <MenuItem value={50}> 50 </MenuItem>\n                <MenuItem value={100}> 100 </MenuItem>\n              </Select>\n            </Paper>\n            </Grid>\n            <Grid item xs={4} />\n            <Grid item xs={5}>\n              <Paper elevation={0}\n              style={{height: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center'}}>\n                <ButtonGroup style={{height: '70%'}}>\n                  {page > 1 ?\n                    <Button variant=\"outlined\" color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n                      <ChevronLeft />\n                    </Button> :\n                    <Button variant=\"outlined\" color=\"primary\" disabled>\n                      <ChevronLeft />\n                    </Button> \n                  }\n                  <Button disabled variant=\"contained\"> {page} </Button>\n                  {page !== nbPages ?\n                    <Button variant=\"outlined\" color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n                      <ChevronRight />\n                    </Button> :\n                    <Button variant=\"outlined\" color=\"primary\" disabled>\n                      <ChevronRight />\n                    </Button>\n                  }\n                </ButtonGroup>\n              </Paper>\n            </Grid>\n          </Grid>\n        </Toolbar> :\n        <div />\n  );\n}","import React from 'react'\nimport {\n  useMediaQuery,\n  useTheme,\n  TableContainer,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n} from '@material-ui/core'\nimport { ListProps, List, Pagination, useListContext, useTranslate } from 'react-admin'\nimport { MobilePostPagination } from '../../common/Pagination'\n\ninterface AccessListProps extends ListProps {\n  setSelected: (prop: number | undefined) => void\n}\n\nconst AccessGrid = ({\n  setSelected,\n}: {\n  setSelected: (prop: number | undefined) => void\n}) => {\n  const translate = useTranslate()\n  const { data, ids } = useListContext()\n\n  return (\n    <>\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>ID</TableCell>\n              <TableCell>{translate('resources.access.fields.name')}</TableCell>\n              <TableCell>{translate('resources.access.fields.entranceId')}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {ids.map((id) => (\n              <TableRow key={id} style={{ cursor: 'pointer' }} hover>\n                <TableCell onClick={() => setSelected(id as number)}>\n                  {data[id]?.id}\n                </TableCell>\n                <TableCell onClick={() => setSelected(id as number)}>\n                  {data[id]?.name}\n                </TableCell>\n                <TableCell onClick={() => setSelected(id as number)}>\n                  {data[id]?.entranceId}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  )\n}\n\nexport const AccessList = ({setSelected, ...props}: AccessListProps) => {\n  const theme = useTheme()\n\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      {...props}\n    >\n      <AccessGrid setSelected={setSelected} />\n    </List>\n  )\n}\n","import { ButtonBase, Typography, withStyles } from '@material-ui/core'\n\nexport const FullWidthButton = withStyles({\n  root: {\n    width: '100%',\n    height: '52px',\n    fontSize: '17px',\n    marginBottom: '1px',\n    '&:hover': {\n      color: 'lightgrey',\n    }\n  },\n})(ButtonBase)\n\nexport const BackButton = withStyles({\n  root: {\n    height: '100%',\n    writingMode: 'vertical-lr',\n    textOrientation: 'mixed',\n    width: '100%',\n    '&:hover': {\n      color: 'lightgrey'\n    }\n  }\n})(ButtonBase)\n\nexport const BackButtonText = withStyles({\n  root: {\n    writingMode: 'vertical-lr',\n    textOrientation: 'mixed',\n  }\n})(Typography)","import {\n  List,\n  ListProps,\n  useListContext,\n  useTranslate,\n  useMutation,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  TextField,\n  DateField,\n  FunctionField,\n  DatagridHeaderProps,\n  DatagridHeader,\n  DatagridRow,\n  DatagridBodyProps,\n  Datagrid\n} from 'react-admin'\nimport React from 'react'\nimport {\n  Button,\n  IconButton,\n  TableBody,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Power, PowerOff } from '@material-ui/icons'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { AccessUsing } from '../../../core/access-usings/access-using'\n\nconst AccessUsingsBody = ({ data, ids, expand }: DatagridBodyProps) => {\n  const translate = useTranslate()\n  const [mutate] = useMutation()\n  const { refetch } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const patchAccess = async (access: AccessUsingDto) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(UPDATE_MANY),\n        resource: ResourceName.ACCESS_USINGS,\n        payload: {\n          ids: [access.id],\n          data: {\n            active: !access.active,\n          },\n        },\n      },\n      { returnPromise: true },\n    )\n    refetch()\n  }\n\n  return (\n    <TableBody>\n      {ids && ids.map((id) =>\n        data && data[id] && (\n          <DatagridRow\n            expand={expand}\n            key={id}\n            id={id}\n            record={data[id]}\n            resource={ResourceName.ACCESS_USINGS}\n          >\n            <DateField\n              source=\"date\"\n              record={data[id] as AccessUsingDto}\n              showTime\n            />\n            <FunctionField<AccessUsing>\n              record={data[id] as AccessUsing}\n              render={(record?: AccessUsing) => (\n                translate(`resources.enums.deviceDirection.${record?.direction}`)\n              )} />\n            {!smallScreen &&\n              <FunctionField<AccessUsing>\n                render={(record?: AccessUsing) =>\n                  record?.active\n                    ? translate('const.yes')\n                    : translate('const.no')\n                }\n              />}\n            <TextField\n              source=\"ticketCode\"\n            />\n            <>\n              {smallScreen ?\n                <IconButton color=\"primary\" onClick={() =>\n                  patchAccess(data[id] as AccessUsingDto)}>\n                  {data[id].active ?\n                    <Power /> :\n                    <PowerOff />}\n                </IconButton> :\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  style={{ width: '100%', fontSize: '13px' }}\n                  onClick={() => patchAccess(data[id] as AccessUsingDto)}\n                >\n                  {translate(\n                    `resources.access-usings.actions.${data[id].active ? `deactivate` : `activate`\n                    }`,\n                  )}\n                </Button>\n              }\n            </>\n          </DatagridRow>\n        ))}\n    </TableBody>\n  )\n}\n\nconst AccessUsingsHeader = (props: DatagridHeaderProps) => (\n  <DatagridHeader {...props}>\n    <TextField source=\"date\" />\n    <TextField source=\"direction\" />\n    <TextField source=\"ticketId\" />\n    <TextField source=\"active\" />\n  </DatagridHeader>\n)\n\nexport const AccessUsingsList = (props: ListProps) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  return (\n    <List\n      {...props}\n      exporter={false}\n      perPage={20}\n      sort={{ field: 'date', order: 'DESC' }}\n    >\n      <>\n        <Datagrid\n          body={<AccessUsingsBody />}\n          header={<AccessUsingsHeader />}\n          padding={xSmallScreen ? \"checkbox\" : \"default\"}\n        >\n          <div />\n        </Datagrid>\n      </>\n    </List>\n  )\n}\n","import {\n  List,\n  ListProps,\n  TextField,\n  DateField,\n  Datagrid,\n  FunctionField,\n  useTranslate\n} from 'react-admin'\nimport React from 'react'\nimport { useMediaQuery, useTheme } from '@material-ui/core'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\n\nexport const AccessDatesList = (props: ListProps) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const translate = useTranslate()\n  return (\n    <List\n      {...props}\n      exporter={false}\n      perPage={20}\n      sort={{ field: 'id', order: 'DESC' }}\n    >\n      <>\n        <Datagrid\n          padding={xSmallScreen ? 'checkbox' : 'default'} >\n          <DateField source=\"activeFrom\" />\n          <DateField source=\"activeTo\" />\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(r?: AccessDateDto) => (\n              r?.timeFrom.substring(11, 19)\n            )} />\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(r?: AccessDateDto) => (\n              r?.timeTo.substring(11, 19)\n            )} />\n          <FunctionField<AccessDateDto>\n            source=\"type\"\n            render={(r?: AccessDateDto) => (\n              translate(`resources.enums.accessDateTypes.${r?.type}`)\n            )} />\n          <TextField source=\"priority\" />\n          <TextField\n            source=\"dayOfWeek\"\n            label=\" \"\n          />\n        </Datagrid>\n      </>\n    </List>\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  ShowProps,\n  Show,\n  useShowContext,\n  ResourceContextProvider,\n  useTranslate,\n  TextField,\n  DateField,\n  FunctionField,\n  Record,\n  Pagination\n} from 'react-admin'\nimport {\n  TableContainer,\n  Table,\n  TableBody,\n  TableRow,\n  TableCell,\n  Grid,\n  Paper,\n  Box,\n  useTheme,\n  useMediaQuery,\n} from '@material-ui/core'\nimport { Access } from '../../../core/accesses/access'\nimport { FullWidthButton } from '../TicketDetailsComponents'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { AccessUsingsList } from './AccessUsingsList'\nimport { AccessDatesList } from './AccessDatesList'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\n\nconst TabButton = ({\n  value,\n  selected,\n  change,\n  children,\n}: {\n  value: number\n  selected: number\n  change: (prop: number) => void\n  children: any\n}) => (\n  <FullWidthButton\n    style={{\n      background: selected === value ? 'rgba(0,0,0,0.2)' : 'inherit',\n    }}\n    onClick={() => change(value)}\n  >\n    {children}\n  </FullWidthButton>\n)\n\nconst AccessDetails = () => {\n  const translate = useTranslate()\n  const { record: access } = useShowContext<Access>()\n  return (\n    <TableContainer>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell style={{ width: '50%' }}>ID</TableCell>\n            <TableCell style={{ width: '50%' }}>\n              <TextField source=\"id\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{translate('resources.access.fields.name')}</TableCell>\n            <TableCell>\n              <TextField source=\"name\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{translate('resources.access.fields.bonus')}</TableCell>\n            <TableCell>\n              <FunctionField\n                render={(record: Record | undefined) =>\n                  translate(`resources.enums.bonus.${record?.bonus}`)\n                }\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.entranceId')}\n            </TableCell>\n            <TableCell>\n              <FunctionField<Access> render={(record?: Access) => `${record?.entranceId} (${record?.entranceNote})`} />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.modifiedById')}\n            </TableCell>\n            <TableCell>\n              <TextField source=\"modifiedByName\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.createdById')}\n            </TableCell>\n            <TableCell>\n              <TextField source=\"createdByName\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.allowReenter')}\n            </TableCell>\n            <TableCell>\n              <FunctionField\n                render={(record: Record | undefined) =>\n                  record?.allowReenter\n                    ? translate('const.yes')\n                    : translate('const.no')\n                }\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.multipleEntry')}\n            </TableCell>\n            <TableCell>\n              <FunctionField\n                render={(record: Record | undefined) =>\n                  record?.multipleEntry\n                    ? translate('const.yes')\n                    : translate('const.no')\n                }\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.multiple')}\n            </TableCell>\n            <TableCell>\n              <TextField source=\"multiple\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.usePriority')}\n            </TableCell>\n            <TableCell>\n              <TextField source=\"usePriority\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{translate('resources.access.fields.delay')}</TableCell>\n            <TableCell>\n              <TextField source=\"delay\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.releaseTime')}\n            </TableCell>\n            <TableCell>\n              <DateField source=\"releaseTime\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.releaseDayOfMonth')}\n            </TableCell>\n            <TableCell>\n              <TextField source=\"releaseDayOfMonth\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.releaseDayOfWeek')}\n            </TableCell>\n            <TableCell>\n              <TextField source=\"releaseDayOfWeek\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.createdAt')}\n            </TableCell>\n            <TableCell>\n              <DateField source=\"createdAt\" />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.modifiedAt')}\n            </TableCell>\n            <TableCell>\n              <DateField source=\"modifiedAt\" />\n            </TableCell>\n          </TableRow>\n          {access?.activePeriodStartingFrom !==\n            AccessActivePeriodStartingOptions.NO_LIMIT && (\n              <TableRow>\n                <TableCell>\n                  {translate('resources.access.fields.activePeriod')}\n                </TableCell>\n                <TableCell>\n                  <TextField source=\"activePeriod\" />\n                </TableCell>\n              </TableRow>\n            )}\n          <TableRow>\n            <TableCell>\n              {translate('resources.access.fields.activePeriodStartingFrom')}\n            </TableCell>\n            <TableCell>\n              <FunctionField\n                render={(record: Record | undefined) =>\n                  translate(\n                    `resources.enums.activePeriodStartingFrom.${record?.activePeriodStartingFrom}`,\n                  )\n                }\n              />\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst AccessDates = () => {\n  const { basePath, record } = useShowContext<Access>()\n  return (\n    <Box>\n      <ResourceContextProvider value={ResourceName.ACCESS_DATES}>\n        <AccessDatesList\n          title=\" \"\n          basePath={basePath}\n          filter={{\n            id: record?.accessDatesIds.join(','),\n          }}\n          actions={false}\n          perPage={20}\n          pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n        />\n      </ResourceContextProvider>\n    </Box>\n  )\n}\n\nconst AccessUses = ({ id, tickets }: { id: string; tickets: number[] }) => {\n  const { basePath } = useShowContext<Access>()\n  return (\n    <Box>\n      <ResourceContextProvider value={ResourceName.ACCESS_USINGS}>\n        <AccessUsingsList\n          title=\" \"\n          basePath={basePath}\n          filter={{\n            ticketId: tickets.join(' '),\n            accessId: id,\n          }}\n          actions={false}\n          perPage={20}\n          pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n        />\n      </ResourceContextProvider>\n    </Box>\n  )\n}\n\nexport const AccessShow = (props: ShowProps) => {\n  const translate = useTranslate()\n  const [selectedTab, setSelectedTab] = useState(0)\n  const { record } = useShowContext()\n  const { id } = props\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const handleTabChange = (prop: number) => setSelectedTab(prop)\n\n  return (\n    <Show {...props}>\n      <>\n        <Grid container>\n          <Grid item xs={smallScreen ? 12 : 4}>\n            <Paper style={{ height: '100%' }}>\n              <Grid container>\n                <Grid item xs={smallScreen ? 4 : 12}>\n                  <TabButton\n                    value={0}\n                    selected={selectedTab}\n                    change={handleTabChange}\n                  >\n                    {translate('resources.access.tabs.details')}\n                  </TabButton>\n                </Grid>\n                <Grid item xs={smallScreen ? 4 : 12}>\n                  <TabButton\n                    value={1}\n                    selected={selectedTab}\n                    change={handleTabChange}\n                  >\n                    {translate('resources.access.tabs.dates')}\n                  </TabButton>\n                </Grid>\n                <Grid item xs={smallScreen ? 4 : 12}>\n                  <TabButton\n                    value={2}\n                    selected={selectedTab}\n                    change={handleTabChange}\n                  >\n                    {translate('resources.access.tabs.uses')}\n                  </TabButton>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n          <Grid item xs={smallScreen ? 12 : 8}>\n            <Paper style={{ height: '100%' }}>\n              {selectedTab === 0 && <AccessDetails />}\n              {selectedTab === 1 && <AccessDates />}\n              {selectedTab === 2 && (\n                <AccessUses\n                  id={id as string}\n                  tickets={\n                    record?.tickets.map((ticket: any) => ticket.id) as number[]\n                  }\n                />\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      </>\n    </Show>\n  )\n}\n","import React, { useEffect } from 'react'\nimport {\n  ChipFieldProps,\n  DateField,\n  Labeled,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  useRecordContext,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Box, Chip, Divider, Grid, Hidden, Typography } from '@material-ui/core'\nimport { TicketDetails } from '../../core/ticket-details/ticket-details'\nimport { mapFromBookingType } from '../../core/ticket-details/ticket-details-values.mapper'\nimport { TicketDetailsHeader } from './TicketDetailsHeader'\nimport { TicketDetailsTicketsField } from './TicketDetailsTicketsField'\nimport { ToggleAccessButton } from './ToggleAccessButton'\nimport { ToggleTicketButton } from './ToggleTicketButton'\nimport { ResourceName } from '../../core/ResourceName'\nimport { LogList } from '../logs/LogList'\nimport { AccessList } from './accesses/AccessList'\nimport { AccessShow } from './accesses/AccessShow'\nimport { BackButton, BackButtonText } from './TicketDetailsComponents'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst MappedChipField = <T extends unknown>({\n  mapper,\n  source,\n}: ChipFieldProps & { mapper: (value: T) => string }) => {\n  const record = useRecordContext<TicketDetails>()\n  const t = useTranslate()\n  const mappedValue = mapper(record[source as string])\n  return <Chip label={t(mappedValue)} />\n}\n\nconst AccessDetailsView = () => {\n  const { record, basePath } = useShowContext()\n  const translate = useTranslate()\n  const [selectedAccess, setSelectedAccess] = React.useState<\n    number | undefined\n  >(undefined)\n\n  const handleAccessChange = (prop: number | undefined) => {\n    setSelectedAccess(prop)\n  }\n\n  useEffect(() => {\n    if (record?.accessesIds && record.accessesIds.length === 1)\n      setSelectedAccess(record?.accessesIds.toString())\n  }, [record, setSelectedAccess])\n\n  return (\n    <>\n      <Divider />\n      <Hidden xlDown={!!selectedAccess && record?.accessesIds.length === 1}>\n        <Typography variant=\"h5\">\n          {translate('resources.access.actions.choose')}\n        </Typography>\n        <ResourceContextProvider value={ResourceName.ACCESSES}>\n          <AccessList\n            basePath={basePath}\n            actions={false}\n            filters={undefined}\n            filter={{ id: record?.accessesIds.toString() }}\n            title=\" \"\n            setSelected={handleAccessChange}\n          />\n        </ResourceContextProvider>\n      </Hidden>\n      {selectedAccess && (\n        <Box paddingY={2}>\n          <Grid container>\n            <Hidden xlDown={record?.accessesIds.length === 1}>\n              <Grid item xs={1}>\n                <BackButton onClick={() => setSelectedAccess(undefined)}>\n                  <BackButtonText>\n                    {translate('resources.access.actions.back')}\n                  </BackButtonText>\n                </BackButton>\n              </Grid>\n            </Hidden>\n            <Grid item xs={record?.accessesIds.length === 1 ? 12 : 11}>\n              <AccessShow\n                basePath={basePath}\n                actions={false}\n                id={selectedAccess.toString()}\n                resource={ResourceName.ACCESSES}\n                title=\" \"\n              />\n            </Grid>\n          </Grid>\n        </Box>\n      )}\n    </>\n  )\n}\n\nconst ProfileDetailsView = () => {\n  const { record } = useShowContext()\n  return (\n    <Tab label=\"resources.ticket-details.tabs.profile\">\n      {record?.documentType && (\n        <TextField\n          addLabel\n          label=\"resources.ticket-details.fields.documentType\"\n          source=\"documentType\"\n        />\n      )}\n      {record?.pesel && (\n        <TextField\n          label=\"resources.ticket-details.fields.pesel\"\n          source=\"pesel\"\n        />\n      )}\n      {record?.documentNumber && (\n        <TextField\n          label=\"resources.ticket-details.fields.documentNumber\"\n          source=\"documentNumber\"\n        />\n      )}\n      <TextField\n        label=\"resources.ticket-details.fields.firstname\"\n        source=\"firstname\"\n      />\n      <TextField\n        label=\"resources.ticket-details.fields.lastname\"\n        source=\"lastname\"\n      />\n      {record?.gender && (\n        <TextField\n          label=\"resources.ticket-details.fields.gender\"\n          source=\"gender\"\n        />\n      )}\n      {record?.birthdate && (\n        <DateField\n          label=\"resources.ticket-details.fields.birthdate\"\n          source=\"birthdate\"\n        />\n      )}\n      {record?.company && (\n        <TextField\n          label=\"resources.ticket-details.fields.company\"\n          source=\"company\"\n        />\n      )}\n      {record?.nationality && (\n        <TextField\n          label=\"resources.ticket-details.fields.nationality\"\n          source=\"nationality\"\n        />\n      )}\n    </Tab>\n  )\n}\n\nconst StatusButtons = () => (\n  <>\n    <Divider />\n    <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n      <ToggleAccessButton />\n      <ToggleTicketButton />\n    </Box>\n  </>\n)\n\nconst TicketMainView = () => {\n  const { record: ticketDetails } = useShowContext<TicketDetails>()\n  return (\n    <Tab label=\"resources.ticket-details.tabs.booking\">\n      {ticketDetails?.eventName && (\n        <TextField\n          label=\"resources.ticket-details.fields.eventName\"\n          source=\"eventName\"\n        />\n      )}\n      {ticketDetails?.seatId && (\n        <TextField\n          label=\"resources.ticket-details.fields.seatId\"\n          source=\"seatId\"\n        />\n      )}\n      {ticketDetails?.blockId && (\n        <TextField\n          label=\"resources.ticket-details.fields.blockId\"\n          source=\"blockId\"\n        />\n      )}\n      {ticketDetails?.objectName && (\n        <TextField\n          label=\"resources.ticket-details.fields.objectName\"\n          source=\"objectName\"\n        />\n      )}\n      {ticketDetails?.tribuneName && (\n        <TextField\n          label=\"resources.ticket-details.fields.tribuneName\"\n          source=\"tribuneName\"\n        />\n      )}\n      {ticketDetails?.blockName && (\n        <TextField\n          label=\"resources.ticket-details.fields.blockName\"\n          source=\"blockName\"\n        />\n      )}\n      {ticketDetails?.rowNumber && (\n        <TextField\n          label=\"resources.ticket-details.fields.rowNumber\"\n          source=\"rowNumber\"\n        />\n      )}\n      {ticketDetails?.seatNumber && (\n        <TextField\n          label=\"resources.ticket-details.fields.seatNumber\"\n          source=\"seatNumber\"\n        />\n      )}\n      <Labeled label=\"resources.ticket-details.fields.bookingType\">\n        <MappedChipField source=\"bookingType\" mapper={mapFromBookingType} />\n      </Labeled>\n      {ticketDetails?.activeFrom && (\n        <DateField\n          label=\"resources.ticket-details.fields.activeFrom\"\n          source=\"activeFrom\"\n          showTime\n        />\n      )}\n      {ticketDetails?.activeTo && (\n        <DateField\n          label=\"resources.ticket-details.fields.activeTo\"\n          source=\"activeTo\"\n          showTime\n        />\n      )}\n      <TicketDetailsTicketsField label=\"resources.ticket-details.fields.tickets.name\" />\n      <DateField\n        label=\"resources.ticket-details.fields.createdAt\"\n        source=\"createdAt\"\n        showTime\n      />\n      <DateField\n        label=\"resources.ticket-details.fields.modifiedAt\"\n        source=\"modifiedAt\"\n        showTime\n      />\n      <StatusButtons />\n    </Tab>\n  )\n}\n\nconst TicketLogsView = () => {\n  const { record, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ bookingId: record?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n        noBooking\n      />\n    </ResourceContextProvider>\n  )\n}\n\nexport const TicketDetailsView = (props: ShowProps) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Show {...props}>\n      <>\n        <TicketDetailsHeader />\n        <Divider />\n        <TabbedShowLayout syncWithLocation={false}>\n          <Tab label=\"resources.ticket-details.tabs.booking\">\n            <TicketMainView />\n          </Tab>\n          {hasAuthority(Authority.VIEW_LOGS) && (\n            <Tab label=\"resources.ticket-details.tabs.logs\">\n              <TicketLogsView />\n            </Tab>\n          )}\n          <Tab label=\"resources.ticket-details.tabs.profile\">\n            <ProfileDetailsView />\n          </Tab>\n          <Tab label=\"resources.ticket-details.tabs.accesses\">\n            <TextField\n              label=\"resources.ticket-details.fields.variantName\"\n              source=\"variantName\"\n            />\n            <AccessDetailsView />\n          </Tab>\n        </TabbedShowLayout>\n      </>\n    </Show>\n  )\n}\n","import * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n  useListContext,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\nimport FilterProps from '../../common/FilterProps'\n\nconst OverallViewGrid = () => {\n  const { loading } = useListContext()\n  const hasAuthority = useHasAuthority()\n  // TODO: header doesn't change color when theme value is switched\n  //  the reason is the need to change the theme at <Admin> level - not at <Layout> level\n  //  the solution is here - https://stackoverflow.com/a/63967145 -> after that customReducer needs to be removed\n  return (\n    <Datagrid\n      loaded={!loading}\n      rowClick={\n        hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW)\n          ? (id) => `${ResourceName.STATS_OVERALL_VIEW}/${id}/show`\n          : undefined\n      }\n    >\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <DateField source=\"dateStart\" showTime />\n      <DateField source=\"dateEnd\" showTime />\n    </Datagrid>\n  )\n}\n\nconst OverallViewFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const OverallViewList = (props: ListProps) => (\n  <List\n    {...props}\n    actions={false}\n    filters={<OverallViewFilters />}\n    sort={{ field: 'id', order: 'DESC' }}\n  >\n    <OverallViewGrid />\n  </List>\n)\n","import React from 'react'\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core'\nimport { Show, ShowProps, useTranslate, ArrayField, Datagrid, TextField } from 'react-admin'\n\nconst useStyles = makeStyles({\n  noBottomBorder: {\n    borderBottom: 'none',\n  },\n  quarterWidth: {\n    width: '25%',\n  },\n})\n\nconst ViewTitle = (record: any) => {\n  const {\n    record: { eventName, date, id },\n  } = record\n  const t = useTranslate()\n  const description = `${eventName} ${date.replace('T', ' ')} ${id}`\n  return (\n    <span>{`${t('resources.stats-overall-view.name')}: ${description}`}</span>\n  )\n}\n\nconst BlockGrid = (props: any) => {\n  const {\n    record: {\n      soldAbo, soldInfix, soldNormal, soldPoints, soldService\n    }\n  } = props\n  const classes = useStyles()\n  const translate = useTranslate()\n\n  const firstColumnEntries = [\n    { label: \"abo\", value: soldAbo },\n    { label: \"infix\", value: soldInfix },\n    { label: \"normal\", value: soldNormal },\n    { label: \"points\", value: soldPoints },\n    { label: \"service\", value: soldService },\n  ].map(({ label, value }) => (\n    !!value && (\n      <div key={label}>{translate(`resources.stats-overall-view.fields.${label}`)}</div>\n    )\n  ))\n\n  const secondColumnEntries = [\n    { label: \"enteredAbo\", value: soldAbo },\n    { label: \"enteredInfix\", value: soldInfix },\n    { label: \"enteredNormal\", value: soldNormal },\n    { label: \"enteredPoints\", value: soldPoints },\n    { label: \"enteredService\", value: soldService },\n  ].map(({ label, value }) =>\n    !!value && (\n      <TextField key={label} source={label} label=\" \" />\n    ))\n\n  const thirdColumnEntries = [\n    { label: \"soldAbo\", value: soldAbo },\n    { label: \"soldInfix\", value: soldInfix },\n    { label: \"soldNormal\", value: soldNormal },\n    { label: \"soldPoints\", value: soldPoints },\n    { label: \"soldService\", value: soldService },\n  ].map(({ label, value }) => (\n    !!value && (\n      <TextField key={label} source={label} label=\" \" />\n    )\n  ))\n\n  return (\n    <TableContainer style={{ paddingTop: \"10px\", marginBottom: \"10px\" }}>\n      <Table padding=\"none\">\n        <TableBody>\n          <TableRow>\n            <TableCell style={{ width: \"15%\" }} className={classes.noBottomBorder} />\n            <TableCell style={{ width: \"40%\" }} className={classes.noBottomBorder}>{firstColumnEntries}</TableCell>\n            <TableCell style={{ width: \"15%\" }} className={classes.noBottomBorder}>{secondColumnEntries}</TableCell>\n            <TableCell style={{ width: \"15%\" }} className={classes.noBottomBorder}>{thirdColumnEntries}</TableCell>\n            <TableCell style={{ width: \"15%\" }} className={classes.noBottomBorder} />\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst TribuneGrid = () => {\n  const translate = useTranslate()\n\n  const TribuneHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: \"15%\" }} />\n        <TableCell style={{ width: \"40%\" }}>{translate('resources.stats-overall-view.fields.block')}</TableCell>\n        <TableCell style={{ width: \"15%\" }} />\n        <TableCell style={{ width: \"15%\" }} />\n        <TableCell style={{ width: \"15%\" }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"blocks\">\n      <Datagrid expand={<BlockGrid />} padding=\"none\" header={<TribuneHeader />} isRowExpandable={record => !!record.sold}>\n        <TextField source=\"name\" label=\"Sektor\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nconst ObjectGrid = () => {\n  const translate = useTranslate()\n\n  const objectHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: \"10%\" }} />\n        <TableCell style={{ width: \"45%\" }}>{translate('resources.stats-overall-view.fields.tribune')}</TableCell>\n        <TableCell style={{ width: \"15%\" }} />\n        <TableCell style={{ width: \"15%\" }} />\n        <TableCell style={{ width: \"15%\" }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"tribunes\">\n      <Datagrid expand={<TribuneGrid />} padding=\"none\" header={objectHeader}>\n        <TextField source=\"name\" label=\"Trybuna\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nexport const OverallView = (props: ShowProps) => {\n  const translate = useTranslate()\n\n  const overallHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: \"5%\" }} />\n        <TableCell style={{ width: \"50%\" }}>{translate('resources.stats-overall-view.fields.name')}</TableCell>\n        <TableCell style={{ width: \"15%\" }}>{translate('resources.stats-overall-view.fields.entered')}</TableCell>\n        <TableCell style={{ width: \"15%\" }}>{translate('resources.stats-overall-view.fields.sold')}</TableCell>\n        <TableCell style={{ width: \"15%\" }}>{translate('resources.stats-overall-view.fields.capacity')}</TableCell>\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <Show title={<ViewTitle />} {...props}>\n      <ArrayField source=\"objects\">\n        <Datagrid expand={<ObjectGrid />} padding=\"none\" header={overallHeader}>\n          <TextField source=\"name\" label=\"Obiekt\" />\n          <TextField source=\"entered\" />\n          <TextField source=\"sold\" />\n          <TextField source=\"capacity\" />\n        </Datagrid>\n      </ArrayField>\n    </Show>\n  )\n}","import { Box, Button, ButtonGroup, Checkbox, Divider, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core'\nimport React, { useMemo } from \"react\"\nimport { DateField, EditButton, FunctionField, GET_LIST, List, Pagination, Record, ResourceContextProvider, sanitizeFetchType, Show, ShowProps, Tab, TabbedShowLayout, TextField, TextInput, useListContext, useMutation, useNotify, useQuery, useRefresh, useShowContext, useTranslate } from \"react-admin\"\nimport { CompanyDto } from '../../core/dto/company.dto'\nimport { EngineDto } from \"../../core/dto/device/engine/engine.dto\"\nimport { PalmDto } from \"../../core/dto/device/palm/palm.dto\"\nimport { EventCompaniesDto } from '../../core/dto/event/event-companies.dto'\nimport { EventDevicesDto } from '../../core/dto/event/event-devices.dto'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ObjectDto } from '../../core/dto/object.dto'\nimport { EventStatus } from \"../../core/enum/EventStatus\"\nimport { ResourceName } from \"../../core/ResourceName\"\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst ShowTitle = (record: any) => {\n  const { record: { name, dateStart, id } } = record\n  const translate = useTranslate()\n  const date = useMemo(() => !(dateStart instanceof Date) ? dateStart.replace('T', ' ') : '', [dateStart])\n  return (\n    <span>{translate('resources.events.titles.show')}: {name} {date} {id}</span>\n  )\n}\n\nconst Attachments = ({ source }: { source: 'COMPANIES' | 'OBJECTS' | 'ENGINES' | 'PALMS' }) => {\n  const translate = useTranslate()\n  const [mutate] = useMutation()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n\n  const { data, ids, filterValues, currentSort, total, refetch: refetchList } = useListContext<CompanyDto | ObjectDto | EngineDto | PalmDto>()\n  const { record: event, refetch } = useShowContext<EventDto>()\n  const { data: allFiltered, refetch: refetchAllFiltered } = useQuery({\n    type: sanitizeFetchType(GET_LIST),\n    resource: source.toLocaleLowerCase(),\n    payload: {\n      filter: {\n        ...filterValues\n      },\n      sort: currentSort || {\n        field: \"id\",\n        order: \"DESC\"\n      },\n      pagination: {\n        page: 1,\n        perPage: total || 1\n      }\n    }\n  })\n\n  const getAttachmentsFetchType = () => {\n    switch (source) {\n      case 'COMPANIES':\n        return `getCompaniesList`\n      case 'ENGINES':\n      case 'PALMS':\n        return `getDevicesList`\n      default:\n        return ''\n    }\n  }\n\n  const { data: attachedDto, refetch: refetchAttachedIds } = useQuery({\n    type: sanitizeFetchType(getAttachmentsFetchType()),\n    resource: ResourceName.EVENTS,\n    payload: {\n      eventId: event?.id,\n    }\n  }, {\n    enabled: getAttachmentsFetchType() !== ''\n  })\n\n  const isAttached = (attachmentId: number) => {\n    switch (source) {\n      case 'COMPANIES':\n        return (attachedDto as EventCompaniesDto)?.companiesIds?.includes(attachmentId) === true\n      case 'OBJECTS':\n        return event?.objectsIds?.includes(attachmentId)\n      case 'ENGINES':\n      case 'PALMS':\n        return (attachedDto as EventDevicesDto)?.verifierDevicesIds?.includes(attachmentId) === true\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n        return false\n    }\n  }\n\n  const handleAttach = async (idsToAttach: number[]) => {\n    switch (source) {\n      case 'COMPANIES':\n        await mutate({\n          type: sanitizeFetchType(\"attachCompanies\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: event?.id,\n            companiesIds: idsToAttach\n          }\n        }, { returnPromise: true })\n        break;\n      case 'OBJECTS':\n        await mutate({\n          type: sanitizeFetchType(\"attachObjects\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: event?.id,\n            objectsIds: idsToAttach\n          }\n        }, { returnPromise: true })\n        break;\n      case 'ENGINES':\n      case 'PALMS':\n        await mutate({\n          type: sanitizeFetchType(\"attachDevices\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: event?.id,\n            verifierDevicesIds: idsToAttach\n          }\n        }, { returnPromise: true })\n        break;\n      default:\n        notify(`Source '${source}' is not implemented yet.`);\n    }\n    refetchList()\n    if (refetch) {\n      refetch()\n    }\n    refetchAttachedIds()\n  }\n\n  const handleDetach = async (idsToDetach: number[]) => {\n    switch (source) {\n      case 'COMPANIES':\n        await mutate({\n          type: sanitizeFetchType(\"detachCompanies\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: event?.id,\n            companiesIds: idsToDetach\n          }\n        }, { returnPromise: true })\n        break;\n      case 'OBJECTS':\n        await mutate({\n          type: sanitizeFetchType(\"detachObjects\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: event?.id,\n            objectsIds: idsToDetach\n          }\n        }, { returnPromise: true })\n        break;\n      case 'ENGINES':\n      case 'PALMS':\n        await mutate({\n          type: sanitizeFetchType(\"detachDevices\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: event && event.id,\n            verifierDevicesIds: idsToDetach\n          }\n        }, { returnPromise: true })\n        break;\n      default:\n        notify(`Source '${source}' is not implemented yet.`);\n    }\n    refetchList()\n    if (refetch) {\n      refetch()\n    }\n    refetchAttachedIds()\n  }\n\n  const handleAttachAll = () => {\n    refetchAllFiltered()\n    handleAttach(allFiltered.map((record: CompanyDto | EngineDto | PalmDto | ObjectDto) => record?.id))\n  }\n\n  const handleDetachAll = () => {\n    refetchAllFiltered()\n    handleDetach(allFiltered.map((record: CompanyDto | EngineDto | PalmDto | ObjectDto) => record?.id))\n  }\n\n  return (\n    <TableContainer>\n      <ButtonGroup>\n        <Button variant=\"contained\"\n                disabled={!hasAuthority(Authority.EDIT_EVENTS)}\n                onClick={() => handleAttachAll()}>\n          {translate('resources.events.actions.attachAll')}</Button>\n        <Button variant=\"contained\"\n                disabled={!hasAuthority(Authority.EDIT_EVENTS)}\n                onClick={() => handleDetachAll()}>\n          {translate('resources.events.actions.detachAll')}</Button>\n      </ButtonGroup>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              {translate(`resources.events.fields.attachment.name`)}\n            </TableCell>\n            <TableCell style={{ width: \"10%\" }}>\n              {translate(`resources.events.fields.attachment.attached`)}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map((id) => (\n            <TableRow key={id}>\n              <TableCell>\n                <TextField source=\"name\" record={data[id]} />\n              </TableCell>\n              <TableCell>\n                <Checkbox\n                  disabled={!hasAuthority(Authority.EDIT_EVENTS)}\n                  checked={isAttached(id as number)}\n                  onClick={\n                    isAttached(id as number)\n                      ? () => handleDetach([id as number])\n                      : () => handleAttach([id as number])\n                  }\n                />\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst GeneralEditButton = () => {\n  const { record } = useShowContext()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const handleActivation = async () => {\n    if (record?.status !== EventStatus.IN_TRANSITION) {\n      if (record?.status === EventStatus.ACTIVE) {\n        await mutate({\n          type: sanitizeFetchType(\"deactivate\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: record?.id\n          }\n        }, { returnPromise: false })\n      }\n      else {\n        await mutate({\n          type: sanitizeFetchType(\"activate\"),\n          resource: ResourceName.EVENTS,\n          payload: {\n            eventId: record?.id\n          }\n        }, { returnPromise: false })\n      }\n      refresh()\n    }\n  }\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <Button variant=\"contained\"\n                onClick={handleActivation}\n                color=\"primary\"\n                style={{ marginRight: '5px' }}\n                disabled={!hasAuthority(Authority.EDIT_EVENTS) || record?.status === EventStatus.IN_TRANSITION}>\n          {record?.status === EventStatus.INACTIVE ?\n            translate('resources.events.actions.activate') :\n            translate('resources.events.actions.deactivate')}\n        </Button>\n        <EditButton variant=\"contained\"\n                    basePath=\"/events\"\n                    record={record}\n                    disabled={!hasAuthority(Authority.EDIT_EVENTS)} />\n      </Box>\n    </>\n  )\n}\n\nexport const EventShow = (props: ShowProps) => {\n  const translate = useTranslate()\n  const { basePath } = props\n  return (\n    <Show {...props} title={<ShowTitle />} actions={false}>\n      <TabbedShowLayout>\n        <Tab label={translate(\"resources.events.tabs.general\")}>\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <DateField source=\"dateStart\" showTime />\n          <DateField source=\"dateEnd\" showTime />\n          <FunctionField resource=\"events\" label={translate(\"resources.events.fields.status\")}\n            render={(r: Record | undefined) =>\n              (translate(`resources.enums.eventStatus.${r?.status.toLowerCase()}`))} />\n          <GeneralEditButton />\n        </Tab>\n        <Tab label={translate(\"resources.events.tabs.palms\")}>\n          <>\n            <Box paddingY={2}>\n              <ResourceContextProvider value={ResourceName.PALMS} >\n                <List basePath={basePath} exporter={false} title=\" \"\n                  perPage={20} pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n                  filters={[\n                    <TextInput source=\"name\" alwaysOn />,\n                    <TextInput source=\"categoryId\" />\n                  ]}>\n                  <Attachments source=\"PALMS\" />\n                </List>\n              </ResourceContextProvider>\n            </Box>\n          </>\n        </Tab>\n        <Tab label={translate(\"resources.events.tabs.engines\")}>\n          <>\n            <Box paddingY={2}>\n              <ResourceContextProvider value={ResourceName.ENGINES}>\n                <List basePath={basePath} exporter={false} title=\" \"\n                  perPage={20} pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n                  filters={[\n                    <TextInput source=\"name\" alwaysOn />,\n                    <TextInput source=\"categoryId\" />\n                  ]}>\n                  <Attachments source=\"ENGINES\" />\n                </List>\n              </ResourceContextProvider>\n            </Box>\n          </>\n        </Tab>\n        <Tab label={translate(\"resources.events.tabs.objects\")}>\n          <>\n            <Box paddingY={2}>\n              <ResourceContextProvider value={ResourceName.OBJECTS}>\n                <List basePath={basePath} exporter={false} title=\" \"\n                  perPage={20} pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n                  filters={[\n                    <TextInput source=\"name\" alwaysOn />\n                  ]}>\n                  <Attachments source=\"OBJECTS\" />\n                </List>\n              </ResourceContextProvider>\n            </Box>\n          </>\n        </Tab>\n        <Tab label={translate(\"resources.events.tabs.companies\")}>\n          <>\n            <Box paddingY={2}>\n              <ResourceContextProvider value={ResourceName.COMPANIES}>\n                <List basePath={basePath} exporter={false} title=\" \"\n                  perPage={20} pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n                  filters={[\n                    <TextInput source=\"name\" alwaysOn />\n                  ]}>\n                  <Attachments source=\"COMPANIES\" />\n                </List>\n              </ResourceContextProvider>\n            </Box>\n          </>\n        </Tab>\n      </TabbedShowLayout>\n    </Show>\n  )\n}","import {\n  Edit, EditProps, TextField, TextInput, FunctionField, SaveButton, ShowButton,\n  DateTimeInput, useTranslate, SimpleForm, Record, Toolbar, ToolbarProps\n} from \"react-admin\"\nimport React, { useMemo } from \"react\"\nimport { Cancel } from \"@material-ui/icons\"\n\nconst EditTitle = (record: any) => {\n  const { record: { name, dateStart, id } } = record\n  const translate = useTranslate()\n  const date = useMemo(() => !(dateStart instanceof Date) ? dateStart.replace('T', ' ') : '', [dateStart])\n  return (\n    <span>{translate('resources.events.titles.edit')}: {name} {date} {id}</span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton label='const.cancel' icon={<Cancel />} />\n  </Toolbar>\n)\n\nexport const EventEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit {...props} title={<EditTitle />} actions={false}>\n      <SimpleForm redirect=\"show\" toolbar={<EditToolbar />}>\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" />\n        <DateTimeInput source=\"dateStart\" />\n        <DateTimeInput source=\"dateEnd\" />\n        <FunctionField resource=\"events\" label={translate(\"resources.events.fields.status\")}\n          render={(r: Record | undefined) =>\n            (translate(`resources.enums.eventStatus.${r?.status.toLowerCase()}`))} />\n      </SimpleForm>\n    </Edit>\n  )\n}","import { Box, Typography, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  useListContext,\n  useTranslate,\n  Datagrid,\n  TextField,\n  TextInput,\n  FunctionField,\n  Filter\n} from 'react-admin'\nimport { CustomerInfo } from '../../core/customer-info/customer-info'\nimport { ResourceName } from '../../core/ResourceName'\nimport { MaskField } from '../common/MaskField'\nimport FilterProps from '../common/FilterProps'\n\nconst CustomerInfoGrid = () => {\n  const {\n    loading,\n    filterValues: { info },\n  } = useListContext()\n  const t = useTranslate()\n  const theme = useTheme()\n  const smallDevice = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <>\n      {info &&\n        <Box m={2}>\n          <Typography variant=\"h5\" paragraph>\n            {t('resources.customer-info.search-list-title', { info })}\n          </Typography>\n        </Box>}\n      <Divider />\n      <Datagrid\n        loaded={!loading}\n        rowClick={(id) => `${ResourceName.CUSTOMER_DETAILS}/${id}/show`}\n      >\n        <TextField source=\"firstname\" />\n        <TextField source=\"lastname\" />\n        {smallDevice &&\n          <FunctionField<CustomerInfo> source=\"pesel\"\n            label=\"resources.customer-info.fields.documentNumber\"\n            render={(record?: CustomerInfo) => (\n              record?.pesel ?\n                <MaskField source=\"pesel\" /> :\n                <MaskField source=\"documentNumber\" />\n            )} />}\n        {!smallDevice && <MaskField source=\"pesel\" />}\n        {!smallDevice && <MaskField source=\"documentNumber\" />}\n      </Datagrid>\n    </>\n  )\n}\n\nconst CustomerInfoFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"firstname\" />\n    <TextInput source=\"lastname\" />\n    <TextInput source=\"pesel\" />\n    <TextInput source=\"documentNumber\" />\n    <TextInput source=\"info\" />\n  </Filter>\n)\n\nexport const CustomerInfoList = (props: ListProps) => (\n  <List\n    exporter={false}\n    {...props}\n    sort={{ field: 'lastname', order: 'ASC' }}\n    filters={<CustomerInfoFilters />}\n  >\n    <CustomerInfoGrid />\n  </List>\n)\n","import React from \"react\"\nimport { ListProps, List, useListContext, Pagination, useTranslate, FunctionField, Record, TextField } from \"react-admin\"\nimport { TableContainer, Table, TableHead, TableBody, TableRow, TableCell, useMediaQuery, useTheme } from \"@material-ui/core\"\nimport { useHistory } from \"react-router\"\nimport { MobilePostPagination } from '../common/Pagination'\nimport { ResourceName } from \"../../core/ResourceName\"\n\nconst BookingGrid = () => {\n  const { data, ids } = useListContext()\n  const history = useHistory()\n  const translate = useTranslate()\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>{translate(`resources.bookings.fields.eventId`)}</TableCell>\n            <TableCell>{translate(`resources.bookings.fields.id`)}</TableCell>\n            <TableCell>{translate(`resources.bookings.fields.variantName`)}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map(id =>\n            <TableRow key={id} style={{ cursor: \"pointer\" }}>\n              <TableCell onClick={() =>\n                history.push({ pathname: `/${ResourceName.TICKET_DETAILS}/${id}/show`, })\n              }>\n                <FunctionField record={data[id]} render={(record: Record | undefined) => (\n                  `${record?.eventId}. ${record?.eventName} ${record?.eventDateStart.replace(\"T\", \" \").substring(0, 19)}`\n                )} />\n              </TableCell>\n              <TableCell onClick={() =>\n                history.push({ pathname: `/${ResourceName.TICKET_DETAILS}/${id}/show`, })\n              }>\n                <TextField record={data[id]} source=\"id\" />\n              </TableCell>\n              <TableCell onClick={() =>\n                history.push({ pathname: `/${ResourceName.TICKET_DETAILS}/${id}/show`, })\n              }>\n                <TextField record={data[id]} source=\"variantName\" />\n              </TableCell>\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport const BookingList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n    >\n      <BookingGrid />\n    </List>\n  )\n}","import {\n  DateField,\n  FunctionField,\n  Record,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport React, { useMemo } from 'react'\nimport { Box } from '@material-ui/core'\nimport { LogList } from '../logs/LogList'\nimport { ResourceName } from '../../core/ResourceName'\nimport { BookingList } from './CustomerBookingsList'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst CustomerBookingsView = () => {\n  const { record, basePath } = useShowContext()\n  return (\n    <Box paddingY={2}>\n      <ResourceContextProvider value={ResourceName.BOOKINGS}>\n        <BookingList\n          basePath={basePath}\n          filter={{ id: record?.bookingsIds.join(',') }}\n          filters={undefined}\n          actions={false}\n          title=\" \"\n        />\n      </ResourceContextProvider>\n    </Box>\n  )\n}\n\nconst CustomerLogsView = () => {\n  const { record, basePath } = useShowContext()\n  return (\n    <Box paddingY={2}>\n      <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n        <LogList\n          basePath={basePath}\n          filter={{ bookingId: record?.bookingsIds.join(',') }}\n          filters={undefined}\n          actions={false}\n          title=\" \"\n        />\n      </ResourceContextProvider>\n    </Box>\n  )\n}\n\nconst CustomerTabs = () => {\n  const { record } = useShowContext()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const bookingPresent = useMemo(() => record?.bookingsIds.length > 0, [record])\n  return (\n    <TabbedShowLayout>\n      <Tab label={translate('resources.customer-details.tabs.profile')}>\n        <TextField\n          source=\"firstname\"\n          label=\"resources.customer-details.fields.firstname\"\n        />\n        <TextField\n          source=\"lastname\"\n          label=\"resources.customer-details.fields.lastname\"\n        />\n        {record?.company && (\n          <TextField\n            source=\"company\"\n            label=\"resources.customer-details.fields.company\"\n          />\n        )}\n        {record?.birthdate && (\n          <>\n            {record.birthdate.split('.')[0].length === 1 && 0}\n            <DateField\n              source=\"birthdate\"\n              label=\"resources.customer-details.fields.birthdate\"\n            />\n          </>\n        )}\n        {record?.documentType && (\n          <TextField\n            source=\"documentType\"\n            label=\"resources.customer-details.fields.documentType\"\n          />\n        )}\n        {record?.pesel ? (\n          <TextField\n            source=\"pesel\"\n            label=\"resources.customer-details.fields.pesel\"\n          />\n        ) : (\n          <TextField\n            source=\"documentNumber\"\n            label=\"resources.customer-details.fields.documentNumber\"\n          />\n        )}\n        {record?.nationality && (\n          <TextField\n            source=\"nationality\"\n            label=\"resources.customer-details.fields.nationality\"\n          />\n        )}\n        {record?.gender && (\n          <FunctionField\n            label=\"resources.customer-details.fields.gender\"\n            render={(r: Record | undefined) =>\n              r && translate(`resources.enums.gender.${r.gender}`)\n            }\n          />\n        )}\n      </Tab>\n      {bookingPresent && (\n        <Tab label={translate('resources.customer-details.tabs.bookings')}>\n          <CustomerBookingsView />\n        </Tab>\n      )}\n      {bookingPresent && hasAuthority(Authority.VIEW_LOGS) && (\n        <Tab label={translate('resources.customer-details.tabs.logs')}>\n          <CustomerLogsView />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const CustomerDetailsView = (props: ShowProps) => (\n  <Show {...props}>\n    <CustomerTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport { List, Datagrid, TextField, ListProps, Pagination, TextInput, Filter } from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\n\nconst PalmFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n    <TextInput source=\"categoryId\" />\n  </Filter>\n)\n\nexport const PalmList = (props: ListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <List\n      {...props}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      exporter={false}\n      filters={<PalmFilters />}\n    >\n      <>\n        <Datagrid\n          size=\"small\"\n          rowClick={(id) => `${ResourceName.PALMS}/${id}/show`}\n        >\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <TextField source=\"categoryId\" sortable={false} />\n          {!smallScreen &&\n            <TextField source=\"disabled\" sortable={false} />}\n          {!smallScreen &&\n            <TextField source=\"mobileDeviceId\" sortable={false} />}\n        </Datagrid>\n      </>\n    </List>\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  useTranslate,\n  useShowContext,\n  useMutation,\n  useRefresh,\n  sanitizeFetchType,\n} from 'react-admin'\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  ButtonGroup,\n} from '@material-ui/core'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'deviceId' | 'lock'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.palms.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button variant=\"contained\" onClick={confirm}>\n          {translate('ra.action.save')}\n        </Button>\n        <Button variant=\"contained\" onClick={cancel}>\n          {translate('const.cancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const DeviceIdModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const [value, setValue] = useState('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: palm } = useShowContext<PalmDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleSetMobileDeviceId = async () => {\n    setConfirmOpen(false)\n    if (value.replace(/\\s/g, '').length === 0) {\n      setError(true)\n      setErrorText(\n        translate('resources.palms.dialogs.deviceId.error-bad-string'),\n      )\n    } else if (value.replace(/\\s/g, '').length !== value.length) {\n      setError(true)\n      setErrorText(\n        translate('resources.palms.dialogs.deviceId.error-no-spaces'),\n      )\n    } else {\n      await mutate(\n        {\n          type: sanitizeFetchType('setMobileDeviceId'),\n          resource: ResourceName.PALMS,\n          payload: {\n            palmId: palm?.id,\n            mobileDeviceId: value,\n          },\n        },\n        { returnPromise: true },\n      )\n      setValue('')\n      setError(false)\n      setErrorText('')\n      refresh()\n      close()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetMobileDeviceId}\n        source=\"deviceId\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.deviceId.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <ButtonGroup>\n          <Button variant=\"contained\" onClick={() => setConfirmOpen(true)}>\n            {translate('ra.action.save')}\n          </Button>\n          <Button variant=\"contained\" onClick={handleClose}>\n            {translate('const.cancel')}\n          </Button>\n        </ButtonGroup>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const LockModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const [value, setValue] = useState('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: palm } = useShowContext<PalmDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleLock = async () => {\n    setConfirmOpen(false)\n    if (value.replace(/\\s/g, '').length === 0) {\n      setError(true)\n      setErrorText(translate('resources.palms.dialogs.lock.error-bad-string'))\n    } else if (value.replace(/\\s/g, '').length !== value.length) {\n      setError(true)\n      setErrorText(translate('resources.palms.dialogs.lock.error-no-spaces'))\n    } else {\n      await mutate(\n        {\n          type: sanitizeFetchType('lock'),\n          resource: ResourceName.PALMS,\n          payload: {\n            palmId: palm?.id,\n            lockName: value,\n          },\n        },\n        { returnPromise: true },\n      )\n      handleClose()\n      refresh()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <ButtonGroup>\n          <Button variant=\"contained\" onClick={() => setConfirmOpen(true)}>\n            {translate('ra.action.save')}\n          </Button>\n          <Button variant=\"contained\" onClick={handleClose}>\n            {translate('const.cancel')}\n          </Button>\n        </ButtonGroup>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import {\n  Box,\n  Button, ButtonGroup, Checkbox, Divider, Table, TableBody, TableCell, TableContainer, TableHead,\n  TableRow\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  DateField, EditButton, FunctionField, GET_LIST, List, Pagination, Record, ResourceContextProvider, sanitizeFetchType, Show,\n  ShowProps, Tab, TabbedShowLayout, TextField, TextInput,\n  TitleProps, useListContext, useMutation, useNotify, useQuery, useRefresh, useShowContext, useTranslate\n} from 'react-admin'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { EventDto } from '../../../core/dto/event/event.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { ConfirmDialog, DeviceIdModal, LockModal } from './PalmDialogs'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst ShowTitle = (data: PalmTitleProps) => {\n  const {\n    record: palm,\n  } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.show')}: {palm?.id}. {palm?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: palm } = useShowContext<PalmDto>()\n  const [deviceIdModalOpen, setDeviceIdModalOpen] = useState(false)\n  const [lockModalOpen, setLockModalOpen] = useState(false)\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const [resetIdDialogOpen, setResetIdDialogOpen] = useState(false)\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleSetMobileDeviceId = async () => {\n    setResetIdDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('resetMobileDeviceId'),\n        resource: ResourceName.PALMS,\n        payload: {\n          palmId: palm?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleSetMobileDeviceIdDialog = () => {\n    if (palm?.mobileDeviceId) setResetIdDialogOpen(true)\n    else setDeviceIdModalOpen(true)\n  }\n\n  const handleLock = async () => {\n    setUnlockDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('unlock'),\n        resource: ResourceName.PALMS,\n        payload: {\n          palmId: palm?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleLockDialog = () => {\n    if (palm?.disabled) setUnlockDialogOpen(true)\n    else setLockModalOpen(true)\n  }\n\n  return (\n    <>\n      <Divider />\n      <DeviceIdModal\n        open={deviceIdModalOpen}\n        close={() => setDeviceIdModalOpen(false)}\n      />\n      <LockModal open={lockModalOpen} close={() => setLockModalOpen(false)} />\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <ConfirmDialog\n        open={resetIdDialogOpen}\n        confirm={handleSetMobileDeviceId}\n        source=\"deviceId\"\n        cancel={() => setResetIdDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <Button\n          variant=\"contained\"\n          onClick={handleSetMobileDeviceIdDialog}\n          color=\"primary\"\n          style={{ marginRight: '5px' }}\n        >\n          {palm?.mobileDeviceId\n            ? translate('resources.palms.actions.resetMobileDeviceId')\n            : translate('resources.palms.actions.setMobileDeviceId')}\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={handleLockDialog}\n          color=\"primary\"\n          style={{ marginRight: '5px' }}\n        >\n          {palm?.disabled\n            ? translate('resources.palms.actions.unlock')\n            : translate('resources.palms.actions.lock')}\n        </Button>\n        <EditButton basePath=\"/palms\" record={palm} variant=\"contained\" />\n      </Box>\n    </>\n  )\n}\n\nconst Attachments = ({ source }: { source: 'EVENTS' | 'ENTRANCES' }) => {\n  const { data: attachedList, ids, filterValues, currentSort, total, refetch: refetchList } = useListContext<EventDto | EntranceDto>()\n  const { record: palm, refetch } = useShowContext<PalmDto>()\n  const { data: allFiltered, refetch: refetchAllFiltered } = useQuery({\n    type: sanitizeFetchType(GET_LIST),\n    resource: source.toLocaleLowerCase(),\n    payload: {\n      filter: {\n        ...filterValues\n      },\n      sort: currentSort || {\n        field: \"id\",\n        order: \"DESC\"\n      },\n      pagination: {\n        page: 1,\n        perPage: total || 1\n      }\n    }\n  })\n  const translate = useTranslate()\n  const [mutate] = useMutation()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n\n  const isAttached = (attachmentId: number) => {\n    switch (source) {\n      case 'EVENTS':\n        return palm?.eventsIds?.includes(attachmentId)\n      case 'ENTRANCES':\n        return palm?.entrancesIds?.includes(attachmentId)\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n        return false\n    }\n  }\n\n  const handleAttach = async (id: number[]) => {\n    switch (source) {\n      case 'EVENTS':\n        await mutate(\n          {\n            type: sanitizeFetchType('attachEvents'),\n            resource: ResourceName.PALMS,\n            payload: {\n              palmId: palm?.id,\n              eventsIds: id,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      case 'ENTRANCES':\n        await mutate(\n          {\n            type: sanitizeFetchType('attachEntrances'),\n            resource: ResourceName.PALMS,\n            payload: {\n              palmId: palm?.id,\n              entrancesIds: id,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n    refetchList()\n    if (refetch){\n      refetch()\n    }\n  }\n\n  const handleDetach = async (id: number[]) => {\n    switch (source) {\n      case 'EVENTS':\n        await mutate(\n          {\n            type: sanitizeFetchType('detachEvents'),\n            resource: ResourceName.PALMS,\n            payload: {\n              palmId: palm?.id,\n              eventsIds: id,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      case 'ENTRANCES':\n        await mutate(\n          {\n            type: sanitizeFetchType('detachEntrances'),\n            resource: ResourceName.PALMS,\n            payload: {\n              palmId: palm?.id,\n              entrancesIds: id,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n    refetchList()\n    if (refetch){\n      refetch()\n    }\n  }\n\n  const handleAttachAll = () => {\n    refetchAllFiltered()\n    handleAttach(allFiltered.map((record: EventDto | EntranceDto) => record?.id))\n  }\n\n  const handleDetachAll = () => {\n    refetchAllFiltered()\n    handleDetach(allFiltered.map((record: EventDto | EntranceDto) => record?.id))\n  }\n\n  return (\n    <TableContainer>\n      <ButtonGroup>\n        <Button\n          variant=\"contained\"\n          disabled={source === 'EVENTS' && !hasAuthority(Authority.EDIT_EVENTS)}\n          onClick={() => handleAttachAll()}\n        >\n          {translate('resources.palms.actions.attachAll')}\n        </Button>\n        <Button\n          variant=\"contained\"\n          disabled={source === 'EVENTS' && !hasAuthority(Authority.EDIT_EVENTS)}\n          onClick={() => handleDetachAll()}\n        >\n          {translate('resources.palms.actions.detachAll')}\n        </Button>\n      </ButtonGroup>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              {source === 'ENTRANCES'\n                ? translate('resources.palms.fields.attachment.note')\n                : translate(`resources.palms.fields.attachment.name`)}\n            </TableCell>\n            <TableCell style={{ width: '10%' }}>\n              {translate(`resources.palms.fields.attachment.attached`)}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map((id) => (\n            <TableRow key={id}>\n              <TableCell>\n                {source === 'ENTRANCES' && (\n                  <TextField source=\"note\" record={attachedList[id]} />\n                )}\n                {source === 'EVENTS' && (\n                  <TextField source=\"name\" record={attachedList[id]} />\n                )}\n              </TableCell>\n              <TableCell>\n                <Checkbox\n                  disabled={source === 'EVENTS' && !hasAuthority(Authority.EDIT_EVENTS)}\n                  checked={isAttached(id as number)}\n                  onClick={\n                    isAttached(id as number)\n                      ? () => handleDetach([id as number])\n                      : () => handleAttach([id as number])\n                  }\n                />\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst PalmTabs = () => {\n  const translate = useTranslate()\n  const { record: palm, basePath } = useShowContext<PalmDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <TabbedShowLayout>\n      <Tab label={translate('resources.palms.tabs.general')}>\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField label=\"resources.palms.fields.name\" source=\"name\" />\n        <FunctionField\n          label=\"resources.palms.fields.isWatched\"\n          source=\"isWatched\"\n          render={(record: Record | undefined) =>\n            record?.isWatched ? translate('const.yes') : translate('const.no')\n          }\n        />\n        <DateField\n          label=\"resources.palms.fields.lastRefresh\"\n          source=\"lastRefresh\"\n          showTime\n          options={{ day: \"2-digit\", month: \"2-digit\", year: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }}\n        />\n        <FunctionField\n          label=\"resources.palms.fields.direction\"\n          source=\"direction\"\n          render={(record: Record | undefined) => translate(`resources.enums.deviceDirection.${record?.direction}`)}\n        />\n        <TextField\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryId\"\n        />\n        {palm?.disabled && (\n          <TextField\n            label=\"resources.palms.fields.disabled\"\n            source=\"disabled\"\n          />\n        )}\n        <FunctionField\n          label=\"resources.palms.fields.onlineInfixCeck\"\n          source=\"onlineInfixCeck\"\n          render={(record: Record | undefined) =>\n            record?.onlineInfixCeck\n              ? translate('const.yes')\n              : translate('const.no')\n          }\n        />\n        <FunctionField\n          label=\"resources.palms.fields.multiplicity\"\n          source=\"multiplicity\"\n          render={(record: Record | undefined) => translate(`resources.enums.multiplicities.${record?.multiplicity}`)}\n        />\n        {palm?.mobileDeviceId && (\n          <TextField\n            label=\"resources.palms.fields.mobileDeviceId\"\n            source=\"mobileDeviceId\"\n          />\n        )}\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab label={translate('resources.palms.tabs.events')}>\n          <ResourceContextProvider value={ResourceName.EVENTS}>\n            <List\n              basePath={basePath}\n              filter={{ palmId: palm?.id }}\n              exporter={false}\n              title=\" \"\n              filters={[<TextInput source=\"name\" alwaysOn />]}\n              sort={{ field: 'dateStart', order: 'DESC' }}\n              pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n              perPage={20}\n            >\n              <Attachments source=\"EVENTS\" />\n            </List>\n          </ResourceContextProvider>\n        </Tab>\n      )}\n      <Tab label={translate('resources.palms.tabs.entrances')}>\n        <ResourceContextProvider value={ResourceName.ENTRANCES}>\n          <List\n            basePath={basePath}\n            filter={{ palmId: palm?.id }}\n            exporter={false}\n            title=\" \"\n            filters={[<TextInput source=\"note\" alwaysOn />]}\n            pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n            perPage={20}\n          >\n            <Attachments source=\"ENTRANCES\" />\n          </List>\n        </ResourceContextProvider>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const PalmShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PalmTabs />\n  </Show>\n)\n","import {\n  Edit,\n  EditProps,\n  SimpleForm,\n  TextField,\n  TextInput,\n  BooleanInput,\n  DateTimeInput,\n  SelectInput,\n  useTranslate,\n  Labeled,\n  useEditContext,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ShowButton\n} from 'react-admin'\nimport React from 'react'\nimport { Typography } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst EditTitle = (data: PalmTitleProps) => {\n  const {\n    record,\n  } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst HidingField = ({ source }: { source: keyof PalmDto }) => {\n  const { record } = useEditContext<PalmDto>()\n  return (\n    <>\n      {record && record[source] && (\n        <Labeled label=\"resources.palms.fields.disabled\">\n          <Typography component=\"span\" color=\"textPrimary\">\n            {record[source]}\n          </Typography>\n        </Labeled>\n      )}\n    </>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PalmEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit {...props} hasShow={false} title={<EditTitle />}>\n      <SimpleForm redirect=\"show\" toolbar={<EditToolbar />}>\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" />\n        <BooleanInput source=\"isWatched\" />\n        <DateTimeInput source=\"lastRefresh\" />\n        <SelectInput\n          source=\"direction\"\n          choices={[\n            { id: DeviceDirection.IN, name: translate(`resources.enums.deviceDirection.IN`) },\n            { id: DeviceDirection.OUT, name: translate(`resources.enums.deviceDirection.OUT`) },\n            { id: DeviceDirection.INFO, name: translate(`resources.enums.deviceDirection.INFO`) }\n          ]}\n        />\n        <TextInput source=\"categoryId\" />\n        <HidingField source=\"disabled\" />\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          choices={[\n            { id: Multiplicities.SINGLE, name: translate(`resources.enums.multiplicities.SINGLE`) },\n            { id: Multiplicities.MULTIPLE, name: translate(`resources.enums.multiplicities.MULTIPLE`) },\n            { id: Multiplicities.CHECK_ALL, name: translate(`resources.enums.multiplicities.CHECK_ALL`) }\n          ]}\n        />\n        <TextField source=\"mobileDeviceId\" />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","export enum StanbyMode {\n  SENSOR = 'Sensor',\n  ALWAYS_ON = 'AlwaysOn',\n  ALWAYS_OFF = 'AlwaysOff'\n}","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport { Datagrid, List, ListProps, Pagination, TextField, TextInput, useListContext } from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\n\nconst EngineGrid = () => {\n  const { loading } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.ENGINES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {smallScreen === false ? <TextField source=\"address\" /> : <></>}\n      <TextField source=\"categoryId\" sortable={false} />\n      {smallScreen === false ? <TextField source=\"disabled\" sortable={false} /> : <></>}\n    </Datagrid>\n  )\n}\n\nexport const EngineList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={[\n      <TextInput source=\"name\" alwaysOn />,\n      <TextInput source=\"categoryId\" />\n    ]}\n  >\n    <EngineGrid />\n  </List>\n)\n","import { Checkbox, CheckboxProps, Typography } from '@material-ui/core';\nimport { SwitchBaseProps } from '@material-ui/core/internal/SwitchBase';\nimport React, { MouseEventHandler } from 'react';\nimport { useRecordContext } from 'react-admin';\n\nexport interface CheckboxFieldProps extends CheckboxProps {\n    sortable?: boolean\n    label?: string\n    source: string\n    checkBySource: (sourceValue: any) => SwitchBaseProps['checked']\n    onClick: (sourceValue: any) => MouseEventHandler | undefined\n}\n\nconst sanitizeFieldRestProps: (props: any) => any = ({\n    addLabel, // eslint-disable-line @typescript-eslint/no-unused-vars\n    allowEmpty, // eslint-disable-line @typescript-eslint/no-unused-vars\n    basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n    cellClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n    className, // eslint-disable-line @typescript-eslint/no-unused-vars\n    emptyText, // eslint-disable-line @typescript-eslint/no-unused-vars\n    formClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n    fullWidth, // eslint-disable-line @typescript-eslint/no-unused-vars\n    headerClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n    label, // eslint-disable-line @typescript-eslint/no-unused-vars\n    linkType, // eslint-disable-line @typescript-eslint/no-unused-vars\n    link, // eslint-disable-line @typescript-eslint/no-unused-vars\n    locale, // eslint-disable-line @typescript-eslint/no-unused-vars\n    record, // eslint-disable-line @typescript-eslint/no-unused-vars\n    refetch, // eslint-disable-line @typescript-eslint/no-unused-vars\n    resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n    sortable, // eslint-disable-line @typescript-eslint/no-unused-vars\n    sortBy, // eslint-disable-line @typescript-eslint/no-unused-vars\n    sortByOrder, // eslint-disable-line @typescript-eslint/no-unused-vars\n    source, // eslint-disable-line @typescript-eslint/no-unused-vars\n    textAlign, // eslint-disable-line @typescript-eslint/no-unused-vars\n    translateChoice, // eslint-disable-line @typescript-eslint/no-unused-vars\n    ...props\n}) => props;\n\nexport const CheckboxField = ({ sortable, label, source, checkBySource, onClick, className, style, ...props }: CheckboxFieldProps): JSX.Element => {\n    const record = useRecordContext();\n    const value = record[source as string];\n    return (\n        <Typography aria-label={label} className={className} style={style}>\n            <Checkbox aria-sort={sortable ? undefined : 'none'} {...sanitizeFieldRestProps(props) as CheckboxProps} checked={checkBySource(value)} onClick={onClick(value)} />\n        </Typography>\n    );\n}\n","import {\n  Button, ButtonGroup, createStyles, Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle, makeStyles, MenuItem, Select, TextField, Theme\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport {\n  sanitizeFetchType, useMutation,\n  useRefresh, useShowContext, useTranslate\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { StanbyMode } from '../../../core/enum/StanbyMode'\nimport { ResourceName } from '../../../core/ResourceName'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1)\n    }\n  })\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'setStandbyMode' | 'lock' | 'setTSCanCredentials'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.engines.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button variant=\"contained\" onClick={confirm}>\n          {translate('ra.action.save')}\n        </Button>\n        <Button variant=\"contained\" onClick={cancel}>\n          {translate('const.cancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] = useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(translate('resources.engines.dialogs.setTSCanCredentials.login.error-bad-string'))\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(translate('resources.engines.dialogs.setTSCanCredentials.login.error-no-spaces'))\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(translate('resources.engines.dialogs.setTSCanCredentials.password.error-bad-string'))\n    } else if (passwordValue.replace(/\\s/g, '').length !== passwordValue.length) {\n      setPasswordError(true)\n      setPasswordErrorText(translate('resources.engines.dialogs.setTSCanCredentials.password.error-no-spaces'))\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.ENGINES,\n          payload: {\n            engineId: engine?.id,\n            login: loginValue,\n            password: passwordValue\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate('resources.engines.dialogs.setTSCanCredentials.login.label')}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate('resources.engines.dialogs.setTSCanCredentials.password.label')}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type='password'\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <ButtonGroup>\n          <Button variant=\"contained\" onClick={() => setConfirmOpen(true)}>\n            {translate('ra.action.save')}\n          </Button>\n          <Button variant=\"contained\" onClick={handleClose}>\n            {translate('const.cancel')}\n          </Button>\n        </ButtonGroup>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetStandbyModeModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    close()\n  }\n\n  const handleSetStandbyMode = async () => {\n    setConfirmOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('setStandbyMode'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n          stanbyMode: value,\n        },\n      },\n      { returnPromise: true },\n    )\n    setValue('')\n    refresh()\n    close()\n  }\n\n  useEffect(() => {\n    if (open && engine?.stanbyMode) {\n      setValue(engine?.stanbyMode as string)\n    }\n  }, [open, engine?.stanbyMode])\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetStandbyMode}\n        source=\"setStandbyMode\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setStandbyMode.title')}\n      </DialogTitle>\n      <DialogContent>\n        <Select\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value as string)}\n          fullWidth>\n          <MenuItem value={StanbyMode.ALWAYS_ON}>{translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_ON}`)}</MenuItem>\n          <MenuItem value={StanbyMode.ALWAYS_OFF}>{translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_OFF}`)}</MenuItem>\n          <MenuItem value={StanbyMode.SENSOR}>{translate(`resources.enums.standbyMode.${StanbyMode.SENSOR}`)}</MenuItem>\n        </Select>\n      </DialogContent>\n      <DialogActions>\n        <ButtonGroup>\n          <Button variant=\"contained\" onClick={() => setConfirmOpen(true)}>\n            {translate('ra.action.save')}\n          </Button>\n          <Button variant=\"contained\" onClick={handleClose}>\n            {translate('const.cancel')}\n          </Button>\n        </ButtonGroup>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const LockModal = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleLock = async () => {\n    setConfirmOpen(false)\n    if (value.replace(/\\s/g, '').length === 0) {\n      setError(true)\n      setErrorText(translate('resources.engines.dialogs.lock.error-bad-string'))\n    } else if (value.replace(/\\s/g, '').length !== value.length) {\n      setError(true)\n      setErrorText(translate('resources.engines.dialogs.lock.error-no-spaces'))\n    } else {\n      await mutate(\n        {\n          type: sanitizeFetchType('lock'),\n          resource: ResourceName.ENGINES,\n          payload: {\n            engineId: engine?.id,\n            lockName: value,\n          },\n        },\n        { returnPromise: true },\n      )\n      handleClose()\n      refresh()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <ButtonGroup>\n          <Button variant=\"contained\" onClick={() => setConfirmOpen(true)}>\n            {translate('ra.action.save')}\n          </Button>\n          <Button variant=\"contained\" onClick={handleClose}>\n            {translate('const.cancel')}\n          </Button>\n        </ButtonGroup>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import {\n  Box, Button, ButtonGroup, Divider\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  Datagrid,\n  DateField, EditButton, FunctionField, GET_LIST, List, Pagination, Record, ResourceContextProvider, sanitizeFetchType, Show,\n  ShowProps, Tab, TabbedShowLayout, TextField, TextInput,\n  TitleProps, TopToolbar, useListContext, useMutation, useNotify, useRefresh, useShowContext, useTranslate\n} from 'react-admin'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { EventDto } from '../../../core/dto/event/event.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { CheckboxField } from '../../common/CheckboxField'\nimport { ConfirmDialog, LockModal, SetStandbyModeModal, SetTSCanCredentialsModal } from './EngineDialogs'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const {\n    record: engine,\n  } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.show')}: {engine?.id}. {engine?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: engine } = useShowContext<EngineDto>()\n  const [lockModalOpen, setLockModalOpen] = useState(false)\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const [standbyModeModalOpen, setStandbyModeModalOpen] = useState(false)\n  const [removeTSCanCredentialsDialogOpen, setRemoveTSCanCredentialsDialogOpen] = useState(false)\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] = useState(false)\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  const handleSetStandbyModeDialog = () => {\n    setStandbyModeModalOpen(true)\n  }\n\n  const handleLock = async () => {\n    setUnlockDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('unlock'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleLockDialog = () => {\n    if (engine?.disabled) setUnlockDialogOpen(true)\n    else setLockModalOpen(true)\n  }\n\n  return (\n    <>\n      <Divider />\n      <SetTSCanCredentialsModal\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <SetStandbyModeModal\n        open={standbyModeModalOpen}\n        close={() => setStandbyModeModalOpen(false)}\n      />\n      <LockModal open={lockModalOpen} close={() => setLockModalOpen(false)} />\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <Button\n          variant=\"contained\"\n          onClick={handleSetTSCanCredentialsDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n        >\n          {translate('resources.engines.actions.setTSCanCredentials')}\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={handleRemoveTSCanCredentialsDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n        >\n          {translate('resources.engines.actions.removeTSCanCredentials')}\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={handleSetStandbyModeDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n        >\n          {translate('resources.engines.actions.setStandbyMode')}\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={handleLockDialog}\n          color=\"primary\"\n          style={{ margin: '2px' }}\n        >\n          {engine?.disabled\n            ? translate('resources.engines.actions.unlock')\n            : translate('resources.engines.actions.lock')}\n        </Button>\n        <EditButton basePath=\"/engines\" record={engine} variant=\"contained\" style={{ margin: '2px' }} size='medium' />\n      </Box>\n    </>\n  )\n}\n\nconst RelationTab = ({ source, mode }: { source: ResourceName.EVENTS | ResourceName.ENTRANCES, mode: 'show' | 'edit' }) => {\n  const translate = useTranslate()\n  const [mutate] = useMutation()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { record: engine, basePath, refetch } = useShowContext<EngineDto>()\n\n  const handleAttach = async (idsToAttach: number[]) => {\n    switch (source) {\n      case ResourceName.EVENTS:\n        await mutate(\n          {\n            type: sanitizeFetchType('attachEvents'),\n            resource: ResourceName.ENGINES,\n            payload: {\n              engineId: engine?.id,\n              eventsIds: idsToAttach,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      case ResourceName.ENTRANCES:\n        await mutate(\n          {\n            type: sanitizeFetchType('attachEntrances'),\n            resource: ResourceName.ENGINES,\n            payload: {\n              engineId: engine?.id,\n              entrancesIds: idsToAttach,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n    if (refetch) {\n      refetch()\n    }\n  }\n\n  const handleDetach = async (idsToDetach: number[]) => {\n    switch (source) {\n      case ResourceName.EVENTS:\n        await mutate(\n          {\n            type: sanitizeFetchType('detachEvents'),\n            resource: ResourceName.ENGINES,\n            payload: {\n              engineId: engine?.id,\n              eventsIds: idsToDetach,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      case ResourceName.ENTRANCES:\n        await mutate(\n          {\n            type: sanitizeFetchType('detachEntrances'),\n            resource: ResourceName.ENGINES,\n            payload: {\n              engineId: engine?.id,\n              entrancesIds: idsToDetach,\n            },\n          },\n          { returnPromise: true },\n        )\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n    if (refetch) {\n      refetch()\n    }\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    switch (source) {\n      case ResourceName.EVENTS:\n        return engine?.eventsIds?.includes(relatedRecordId)\n      case ResourceName.ENTRANCES:\n        return engine?.entrancesIds?.includes(relatedRecordId)\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n        return false\n    }\n  }\n\n  const listFilters = () => {\n    switch (source) {\n      case ResourceName.EVENTS:\n        return ([<TextInput source=\"name\" alwaysOn />])\n      case ResourceName.ENTRANCES:\n        return ([<TextInput source=\"note\" alwaysOn />])\n      default: return (undefined)\n    }\n  }\n\n  const listSort = () => {\n    switch (source) {\n      case ResourceName.EVENTS:\n        return ({ field: 'dateStart', order: 'DESC' })\n      case ResourceName.ENTRANCES:\n        return ({ field: 'note', order: 'ASC' })\n      default: return (undefined)\n    }\n  }\n\n  const listColumns = () => {\n    switch (source) {\n      case ResourceName.EVENTS:\n        return (<TextField source=\"name\" />)\n      case ResourceName.ENTRANCES:\n        return (<TextField source=\"note\" />)\n      default: return (undefined)\n    }\n  }\n\n  const Actions = () => {\n    const { filterValues } = useListContext<EventDto | EntranceDto>()\n    const getFilteredRelatedRecordsIds = async () =>\n      (await mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: source,\n          payload: {\n            filter: {\n              ...filterValues\n            }\n          }\n        },\n        { returnPromise: true }\n      ))?.data?.map((record: EventDto | EntranceDto) => record?.id)\n\n    const handleAttachAll = async () => {\n      handleAttach(await getFilteredRelatedRecordsIds())\n    }\n\n    const handleDetachAll = async () => {\n      handleDetach(await getFilteredRelatedRecordsIds())\n    }\n\n    return (\n      <TopToolbar>\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            disabled={source === ResourceName.EVENTS && !hasAuthority(Authority.EDIT_EVENTS)}\n            onClick={() => handleAttachAll()}\n          >\n            {translate('common.related-records.actions.attach-all')}\n          </Button>\n          <Button\n            variant=\"contained\"\n            disabled={source === ResourceName.EVENTS && !hasAuthority(Authority.EDIT_EVENTS)}\n            onClick={() => handleDetachAll()}\n          >\n            {translate('common.related-records.actions.detach-all')}\n          </Button>\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  return (\n    <ResourceContextProvider value={source}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        filters={listFilters()}\n        sort={listSort()}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={mode === 'edit' ? <Actions /> : <></>}\n      >\n        <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }} >\n          {listColumns()}\n          <CheckboxField\n            disabled={mode !== 'edit'}\n            sortable={false}\n            checkBySource={(id: number) => isAttached(id)}\n            source=\"id\"\n            label={translate(`common.related-records.fields.is-attached`)}\n            onClick={\n              (id: number) => isAttached(id as number)\n                ? () => handleDetach([id as number])\n                : () => handleAttach([id as number])\n            } />\n        </Datagrid>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst EngineTabs = () => {\n  const translate = useTranslate()\n  const { record: engine } = useShowContext<EngineDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <TabbedShowLayout>\n      <Tab label={translate('resources.engines.tabs.general')}>\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField label=\"resources.engines.fields.name\" source=\"name\" />\n        <FunctionField\n          label=\"resources.engines.fields.isWatched\"\n          source=\"isWatched\"\n          render={(record: Record | undefined) =>\n            record?.isWatched ? translate('const.yes') : translate('const.no')\n          }\n        />\n        <DateField\n          label=\"resources.engines.fields.lastRefresh\"\n          source=\"lastRefresh\"\n          showTime\n          options={{ day: \"2-digit\", month: \"2-digit\", year: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }}\n        />\n        <TextField\n          label=\"resources.engines.fields.address\"\n          source=\"address\"\n        />\n        <FunctionField\n          label=\"resources.engines.fields.direction\"\n          source=\"direction\"\n          render={(record: Record | undefined) => translate(`resources.enums.deviceDirection.${record?.direction}`)}\n        />\n        <TextField\n          label=\"resources.engines.fields.categoryId\"\n          source=\"categoryId\"\n        />\n        {engine?.disabled && (\n          <TextField\n            label=\"resources.engines.fields.disabled\"\n            source=\"disabled\"\n          />\n        )}\n        <FunctionField\n          label=\"resources.engines.fields.stanbyMode\"\n          source=\"stanbyMode\"\n          render={(record: Record | undefined) => translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n        />\n        <FunctionField\n          label=\"resources.engines.fields.onlineInfixCeck\"\n          source=\"onlineInfixCeck\"\n          render={(record: Record | undefined) =>\n            record?.onlineInfixCeck\n              ? translate('const.yes')\n              : translate('const.no')\n          }\n        />\n        <FunctionField\n          label=\"resources.engines.fields.multiplicity\"\n          source=\"multiplicity\"\n          render={(record: Record | undefined) => translate(`resources.enums.multiplicities.${record?.multiplicity}`)}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab label={translate('resources.engines.tabs.events')}>\n          <RelationTab source={ResourceName.EVENTS} mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'} />\n        </Tab>\n      )}\n      <Tab label={translate('resources.engines.tabs.entrances')}>\n        <RelationTab source={ResourceName.ENTRANCES} mode='edit' />\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EngineShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EngineTabs />\n  </Show>\n)","import { Typography } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateTimeInput, Edit,\n  EditProps, FunctionField, Labeled, Record, SaveButton, SelectInput, ShowButton, SimpleForm,\n  TextField,\n  TextInput, TitleProps,\n  Toolbar,\n  ToolbarProps, useEditContext, useTranslate\n} from 'react-admin'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const {\n    record,\n  } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst HidingField = ({ source }: { source: keyof EngineDto }) => {\n  const { record } = useEditContext<EngineDto>()\n  return (\n    <>\n      {record && record[source] && (\n        <Labeled label=\"resources.engines.fields.disabled\">\n          <Typography component=\"span\" color=\"textPrimary\">\n            {record[source]}\n          </Typography>\n        </Labeled>\n      )}\n    </>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EngineEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit {...props} hasShow={false} title={<EditTitle />}>\n      <SimpleForm redirect=\"show\" toolbar={<EditToolbar />}>\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" />\n        <BooleanInput source=\"isWatched\" />\n        <DateTimeInput source=\"lastRefresh\" />\n        <TextInput source=\"address\" />\n        <SelectInput\n          source=\"direction\"\n          choices={[\n            { id: DeviceDirection.IN, name: translate(`resources.enums.deviceDirection.IN`) },\n            { id: DeviceDirection.OUT, name: translate(`resources.enums.deviceDirection.OUT`) },\n            { id: DeviceDirection.INFO, name: translate(`resources.enums.deviceDirection.INFO`) }\n          ]}\n        />\n        <TextInput source=\"categoryId\" />\n        <FunctionField source=\"stanbyMode\" render={(record: Record | undefined) => translate(`resources.enums.standbyMode.${record?.stanbyMode}`)} />\n        <HidingField source=\"disabled\" />\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          choices={[\n            { id: Multiplicities.SINGLE, name: translate(`resources.enums.multiplicities.SINGLE`) },\n            { id: Multiplicities.MULTIPLE, name: translate(`resources.enums.multiplicities.MULTIPLE`) },\n            { id: Multiplicities.CHECK_ALL, name: translate(`resources.enums.multiplicities.CHECK_ALL`) }\n          ]}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n\n\n\n","import {\n  Create, CreateProps, TextInput, DateTimeInput, useTranslate, BooleanInput, required,\n  ResourceContextProvider, TabbedForm, useListContext, TextField,\n  useQuery, sanitizeFetchType, GET_LIST, List, Pagination, FormTab\n} from \"react-admin\"\nimport React from \"react\"\nimport { useField } from \"react-final-form\"\nimport { ButtonGroup, TableContainer, Button, Table, TableHead, TableRow, TableCell, TableBody, Checkbox } from \"@material-ui/core\"\nimport { EventDto } from \"../../core/dto/event/event.dto\"\nimport { ResourceName } from \"../../core/ResourceName\"\nimport { ObjectDto } from \"../../core/dto/object.dto\"\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return (\n    <span>{translate('resources.events.titles.create')}</span>\n  )\n}\n\nconst ObjectsInput = ({ source }: { source: keyof EventDto }) => {\n  const translate = useTranslate()\n\n  const {\n    input: { onChange, value }\n  } = useField(source)\n\n  const { data, ids, filterValues, currentSort, total } = useListContext<ObjectDto>()\n\n  const { data: allFiltered, refetch: refetchAllFiltered } = useQuery({\n    type: sanitizeFetchType(GET_LIST),\n    resource: ResourceName.OBJECTS,\n    payload: {\n      filter: {\n        ...filterValues\n      },\n      sort: currentSort || {\n        field: \"id\",\n        order: \"DESC\"\n      },\n      pagination: {\n        page: 1,\n        perPage: total || 1\n      }\n    }\n  })\n\n  const handleAttach = (objectIds: number[]) => {\n    onChange([...value, ...objectIds])\n  }\n\n  const handleDetach = (objectIds: number[]) => {\n    onChange(value.filter((objectId: number) => !(objectIds.includes(objectId))))\n  }\n\n  const handleAttachAll = () => {\n    refetchAllFiltered()\n    handleAttach(allFiltered)\n  }\n\n  const handleDetachAll = () => {\n    refetchAllFiltered()\n    handleDetach(allFiltered)\n  }\n\n  const isAttached = (id: number) => (\n    value.includes(id)\n  )\n\n  return (\n    <TableContainer>\n      <ButtonGroup>\n        <Button variant=\"contained\" onClick={() => handleAttachAll()}>\n          {translate('resources.events.actions.attachAll')}</Button>\n        <Button variant=\"contained\" onClick={() => handleDetachAll()}>\n          {translate('resources.events.actions.detachAll')}</Button>\n      </ButtonGroup>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              {translate(`resources.events.fields.attachment.name`)}\n            </TableCell>\n            <TableCell style={{ width: \"10%\" }}>\n              {translate(`resources.events.fields.attachment.attached`)}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {ids.map((id) => (\n            <TableRow key={id}>\n              <TableCell>\n                <TextField source=\"name\" record={data[id]} />\n              </TableCell>\n              <TableCell>\n                <Checkbox\n                  checked={isAttached(id as number)}\n                  onClick={\n                    isAttached(id as number)\n                      ? () => handleDetach([id as number])\n                      : () => handleAttach([id as number])\n                  }\n                />\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport const EventCreate = (props: CreateProps) => {\n  const { basePath } = props\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <TabbedForm redirect=\"show\">\n        <FormTab label={translate(\"resources.events.tabs.general\")}>\n          <TextInput source=\"name\" isRequired validate={required()} />\n          <DateTimeInput source=\"dateStart\" isRequired validate={required()} />\n          <DateTimeInput source=\"dateEnd\" isRequired validate={required()} />\n          <TextInput source=\"externalId\" />\n          <TextInput source=\"infix\" />\n          <BooleanInput source=\"active\" />\n        </FormTab>\n        <FormTab label={translate(\"resources.events.tabs.objects\")}>\n          <ResourceContextProvider value={ResourceName.OBJECTS}>\n            <List basePath={basePath} title=\" \" actions={false}\n              perPage={20} pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}>\n              <ObjectsInput source=\"objectsIds\" />\n            </List>\n          </ResourceContextProvider>\n        </FormTab>\n      </TabbedForm>\n    </Create>\n  )\n}","import ViewComfyIcon from '@material-ui/icons/ViewComfy'\nimport PersonIcon from '@material-ui/icons/Person'\nimport React from 'react'\nimport { Resource } from 'react-admin'\nimport ReceiptIcon from '@material-ui/icons/Receipt'\nimport { ResourceName } from '../core/ResourceName'\nimport { TicketInfoList } from './ticket-info/TicketInfoList'\nimport { TicketDetailsView } from './ticket-details/TicketDetailsView'\nimport { LogList } from './logs/LogList'\nimport { OverallViewList } from './stats/overall-view/OverallViewList'\nimport { OverallView } from './stats/overall-view/OverallView'\nimport { AccessUsingsList } from './ticket-details/accesses/AccessUsingsList'\nimport { EventList } from './events/EventList'\nimport { EventShow } from './events/EventShow'\nimport { EventEdit } from './events/EventEdit'\nimport { CustomerInfoList } from './customer-info/CustomerInfoList'\nimport { CustomerDetailsView } from './customer-details/CustomerDetailsView'\nimport { PalmList } from './devices/palms/PalmList'\nimport { PalmShow } from './devices/palms/PalmShow'\nimport { PalmEdit } from './devices/palms/PalmEdit'\nimport { Authority } from '../core/auth/Authority'\nimport { hasAuthorityWithGivenPermissions as hasAuthority } from './hooks/useHasAuthority'\nimport { EngineList } from './devices/engines/EngineList'\nimport { EngineShow } from './devices/engines/EngineShow'\nimport { EngineEdit } from './devices/engines/EngineEdit'\nimport { EventCreate } from './events/EventCreate'\n\nexport const generateResourcesBasedOnPermissions = (\n  permissions: Set<string>,\n) => [\n  <Resource\n    icon={ReceiptIcon}\n    name={ResourceName.TICKET_INFO}\n    list={TicketInfoList}\n  />,\n  <Resource name={ResourceName.TICKET_DETAILS} show={TicketDetailsView} />,\n  <Resource name={ResourceName.ACCESS_USINGS} list={AccessUsingsList} />,\n  <Resource\n    icon={PersonIcon}\n    name={ResourceName.CUSTOMER_INFO}\n    list={CustomerInfoList}\n  />,\n  <Resource name={ResourceName.CUSTOMER_DETAILS} show={CustomerDetailsView} />,\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.LOGS} list={LogList} />\n  ),\n  hasAuthority(Authority.VIEW_EVENTS, permissions) && (\n    <Resource\n      name={ResourceName.EVENTS}\n      list={EventList}\n      show={EventShow}\n      edit={hasAuthority(Authority.EDIT_EVENTS, permissions) ? EventEdit : undefined}\n      create={hasAuthority(Authority.CREATE_EVENTS, permissions) ? EventCreate : undefined}\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW_LIST}\n      list={OverallViewList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW}\n      show={OverallView}\n    />\n  ),\n  <Resource\n    name={ResourceName.PALMS}\n    list={PalmList}\n    show={PalmShow}\n    edit={PalmEdit}\n  />,\n  <Resource name={ResourceName.ACCESS_DATES} />,\n  <Resource name={ResourceName.ACCESSES} />,\n  <Resource name={ResourceName.BOOKINGS} />,\n  <Resource name={ResourceName.COMPANIES} />,\n  <Resource\n    name={ResourceName.ENGINES}\n    list={EngineList}\n    show={EngineShow}\n    edit={EngineEdit}\n  />,\n  <Resource name={ResourceName.ENTRANCES} />,\n  <Resource name={ResourceName.OBJECTS} />,\n  <Resource name={ResourceName.TICKET_LOGS} />,\n]\n","import {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n  INACTIVE_COMPONENTS_KEY,\n} from './dashboard'\nimport { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst initialState: DashboardState['dashboard'] = {\n  inactiveComponents:\n    (localStorage\n      .getItem(INACTIVE_COMPONENTS_KEY)\n      ?.split(',') as DashboardItem[]) || [],\n}\n\nconst save = (state: DashboardState['dashboard']) => {\n  const { inactiveComponents } = state\n  if (inactiveComponents.length) {\n    localStorage.setItem(INACTIVE_COMPONENTS_KEY, inactiveComponents.join())\n  } else {\n    localStorage.removeItem(INACTIVE_COMPONENTS_KEY)\n  }\n  return state\n}\n\nexport const dashboardReducer = (\n  state = initialState,\n  { type, payload: dashboardItem }: DashboardAction,\n): DashboardState['dashboard'] => {\n  if (type === UPDATE_DASHBOARD) {\n    const { inactiveComponents } = state\n    if (inactiveComponents.includes(dashboardItem)) {\n      return save({\n        ...state,\n        inactiveComponents: inactiveComponents.filter(\n          (v) => v !== dashboardItem,\n        ),\n      })\n    }\n    return save({\n      ...state,\n      inactiveComponents: [...inactiveComponents, dashboardItem],\n    })\n  }\n  return state\n}\n","import React from 'react'\nimport { Admin } from 'react-admin'\nimport themeReducer from './core/common/theme.reducer'\nimport { providersFactory } from './core/providers.factory'\nimport { AppLayout } from './main/common/AppLayout'\nimport { Dashboard } from './main/Dashboard'\nimport routes from './main/common/routes'\nimport { generateResourcesBasedOnPermissions } from './main/Resources'\nimport { dashboardReducer } from './core/common/dashboard.reducer'\n\nconst App = () => {\n  const { authProvider, dataProvider, i18nProvider } = providersFactory(\n    process.env.NODE_ENV,\n  )\n  return (\n    <Admin\n      dashboard={Dashboard}\n      authProvider={authProvider}\n      dataProvider={dataProvider}\n      i18nProvider={i18nProvider}\n      customReducers={{\n        theme: themeReducer,\n        dashboard: dashboardReducer,\n      }}\n      customRoutes={routes}\n      layout={AppLayout}\n    >\n      {generateResourcesBasedOnPermissions}\n    </Admin>\n  )\n}\n\nexport default App\n","import { AuthProvider, DataProvider, I18nProvider, LegacyDataProvider } from 'react-admin'\nimport fakeDataProvider from './fake/fake-data.provider'\nimport fakeAuthProvider from './fake/providers/fake-auth.provider'\nimport authProvider from './auth/auth.provider'\nimport dataProvider from './data.provider'\nimport i18nProvider from './i18n.provider'\nimport { withSynchronizedPermissions } from './auth/withSyncPermissions'\n\ninterface Providers {\n  readonly authProvider: AuthProvider\n  readonly dataProvider: DataProvider | LegacyDataProvider\n  readonly i18nProvider: I18nProvider\n}\n\nexport const providersFactory = (\n  env: 'development' | 'test' | 'production',\n): Providers => {\n  switch (env) {\n    case 'production':\n      return {\n        authProvider: withSynchronizedPermissions(authProvider),\n        dataProvider,\n        i18nProvider,\n      }\n    case 'development':\n      return {\n        authProvider,\n        dataProvider,\n        i18nProvider,\n      }\n    default:\n      return {\n        authProvider: fakeAuthProvider,\n        dataProvider: fakeDataProvider,\n        i18nProvider,\n      }\n  }\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import { initReactI18next } from 'react-i18next'\nimport i18n from 'i18next'\nimport plTranslation from './locales/pl/translation.json'\nimport enTranslation from './locales/en/translation.json'\n\nconst identity = localStorage.getItem('username')\nconst lng = identity && localStorage.getItem(`${identity}.lng`)\n\ni18n.use(initReactI18next)\n  .init({\n    lng: lng || 'pl',\n    fallbackLng: 'pl',\n    debug: false,\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    resources: {\n      pl: { translation: plTranslation },\n      en: { translation: enTranslation },\n    },\n  })\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport './i18n.init'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}
{"version":3,"sources":["lib/@react-admin/ra-preferences/esm/src/PreferencesContext.js","lib/@react-admin/ra-preferences/esm/src/constants.js","lib/@react-admin/ra-preferences/esm/src/preferencesStorage.js","lib/@react-admin/ra-preferences/esm/src/usePreferences.js","lib/@react-admin/ra-preferences/esm/src/usePreferencesContext.js","lib/@react-admin/ra-preferences/esm/src/theme/PreferencesBasedThemeProvider.js","lib/@react-admin/ra-preferences/esm/src/theme/ToggleThemeButton.js","lib/@react-admin/ra-preferences/esm/src/i18n/LanguageSwitcher.js","lib/@react-admin/ra-preferences/esm/src/i18n/useSetLocaleAndPreference.js","lib/@react-admin/ra-preferences/esm/src/ui/SidebarOpenPreferenceSync.js","lib/@react-admin/ra-preferences/esm/src/list/SelectColumnsMenu.js","lib/@react-admin/ra-preferences/esm/src/list/SavedQueryFilterListItem.js","lib/@react-admin/ra-preferences/esm/src/list/SavedQueriesList.js","lib/@react-admin/ra-preferences/esm/src/list/FilterButtonWithSave.js","lib/@react-admin/ra-preferences/esm/src/list/FilterWithSave.js","lib/@react-admin/ra-preferences/esm/src/no-code/PreferencesEditorContext.js","lib/@react-admin/ra-preferences/esm/src/no-code/usePreferencesEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialogTitle.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialogContext.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/EditorTitle.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ReferenceFieldInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/FieldTypeInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ReferenceResourceInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/useResourceModel.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourceModelFieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResetSettingsButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/ListItemLink.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourceModelEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/ResourcesModelsEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/ResourceModel/EditResourcesModelsButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorRoot.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/PreferencesEditorDialog.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/OpenEditorButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Editor/Configurable.js","lib/@react-admin/ra-preferences/esm/src/no-code/TemplateInfoButton.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldFormToolbar.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/ComputedFieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/ComputedFieldTemplatePopover.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/Fields/FieldsEditor.js","lib/@react-admin/ra-preferences/esm/src/no-code/List/ObjectInput.js","lib/@react-admin/ra-preferences/esm/src/no-code/List/ListEditor.js","lib/@react-admin/ra-tree/esm/src/actions.js","lib/@react-admin/ra-tree/esm/src/fetchTypes.js","lib/@react-admin/ra-tree/esm/src/constants.js","lib/@react-admin/ra-tree/esm/src/reducer.js","lib/@react-admin/ra-realtime/esm/src/actions.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useLock.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useSubscribe.js","lib/@react-admin/ra-realtime/esm/src/dataProvider/useSubscribeToRecordList.js","lib/@react-admin/ra-realtime/esm/src/types.js","lib/@react-admin/ra-realtime/esm/src/Warning.js","lib/@react-admin/ra-realtime/esm/src/RealTimeMenuItemLink.js","lib/@react-admin/ra-realtime/esm/src/RealTimeMenu.js","lib/@react-admin/ra-realtime/esm/src/reducer.js","lib/@react-admin/ra-realtime/esm/src/i18n/raRealTimeLanguageEnglish.js","lib/@react-admin/ra-navigation/esm/src/app-location/AppBreadcrumbContext.js","lib/@react-admin/ra-navigation/esm/src/app-location/useResourceAppLocation.js","lib/@react-admin/ra-navigation/esm/src/app-location/resolveResourceLocationInfo.js","lib/@react-admin/ra-navigation/esm/src/app-location/useAppLocationState.js","lib/@react-admin/ra-navigation/esm/src/app-location/constants.js","lib/@react-admin/ra-navigation/esm/src/app-location/ResourceLocationListener.js","lib/@react-admin/ra-navigation/esm/src/app-location/AppLocationContext.js","lib/@react-admin/ra-navigation/esm/src/app-location/getDeepestLocation.js","lib/@react-admin/ra-navigation/esm/src/app-location/useAppLocationMatcher.js","lib/@react-admin/ra-navigation/esm/src/app-location/useHasDashboard.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/Breadcrumb.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/BreadcrumbItem.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/useResourcesBreadcrumbPaths.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/DashboardBreadcrumbItem.js","lib/@react-admin/ra-navigation/esm/src/breadcrumb/ResourceBreadcrumbItems.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/Menu.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MultiLevelMenuContext.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MenuItem.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MenuItemCategory.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/MultiLevelMenu.js","lib/@react-admin/ra-navigation/esm/src/multi-level-menu/theme.js","lib/@react-admin/ra-relationships/esm/src/DualListInput/DualListInputSkeleton.js","lib/@react-admin/ra-relationships/esm/src/DualListInput/DualListInput.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/constants.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useReferenceManyToManyFieldController.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ReferenceManyToManyField.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/getReferenceManyToManyFormField.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ManyToManyReferenceContext.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useReferenceManyToManyInputController.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/useManyToManyReferenceContext.js","lib/@react-admin/ra-relationships/esm/src/ManyToMany/ReferenceManyToManyInput.js","lib/@react-admin/ra-tree/esm/src/i18n/ra-tree-language-english.js","lib/@react-admin/ra-search/esm/src/SearchInput.js","lib/@react-admin/ra-search/esm/src/SearchResultContext.js","lib/@react-admin/ra-search/esm/src/SearchResultsGroup.js","lib/@react-admin/ra-search/esm/src/SearchResultsPanel.js","lib/@react-admin/ra-search/esm/src/i18n/raSearchLanguageEnglish.js","lib/@react-admin/ra-search/esm/src/SearchHistoryPanel.js","lib/@react-admin/ra-audit-log/esm/src/useGetResourceLabel.js","lib/@react-admin/ra-audit-log/esm/src/useEventLabel.js","lib/@react-admin/ra-audit-log/esm/src/ActionField.js","lib/@react-admin/ra-audit-log/esm/src/EventAvatar.js","lib/@react-admin/ra-audit-log/esm/src/AvatarField.js","lib/@react-admin/ra-audit-log/esm/src/AuthorField.js","lib/@react-admin/ra-audit-log/esm/src/constants.js","lib/@react-admin/ra-audit-log/esm/src/ResourceField.js","lib/@react-admin/ra-audit-log/esm/src/EventList/AuthorFilterList.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/RecordTimelineItem.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelinePlaceholder.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/RecordTimelineSkeleton.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineItem.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineGroup.js","lib/@react-admin/ra-audit-log/esm/src/Timeline/TimelineSkeleton.js","lib/@react-admin/ra-audit-log/esm/src/EventList/ResourceFilterList.js","lib/@react-admin/ra-audit-log/esm/src/EventList/EventFilterAside.js","lib/@react-admin/ra-audit-log/esm/src/EventList/EventList.js","lib/@react-admin/ra-form-layout/esm/src/forms/dialog-form/FormDialogTitle.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionFormToolbar.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionSection.js","lib/@react-admin/ra-form-layout/esm/src/forms/accordion-form/AccordionFormPanel.js","lib/@react-admin/ra-form-layout/esm/src/forms/wizard-form/WizardProgress.js","lib/@react-admin/ra-form-layout/esm/src/i18n/raFormLayoutLanguageEnglish.js","lib/@react-admin/ra-enterprise/esm/src/i18nProvider.js","lib/@react-admin/ra-relationships/esm/src/i18n/raRelationshipsLanguageEnglish.js","lib/@react-admin/ra-audit-log/esm/src/i18n/raAuditLogLanguageEnglish.js","lib/@react-admin/ra-enterprise/esm/src/layout/AppBar.js","lib/@react-admin/ra-enterprise/esm/src/layout/Breadcrumb.js","lib/@react-admin/ra-tour/esm/src/useTour.js","lib/@react-admin/ra-tour/esm/src/ui/Tooltip.js","lib/@react-admin/ra-tour/esm/src/Tour.js","lib/@react-admin/ra-tour/esm/src/reducer.js","lib/@react-admin/ra-tour/esm/src/TourProvider.js","lib/@react-admin/ra-enterprise/esm/src/layout/Menu.js","lib/@react-admin/ra-enterprise/esm/src/layout/Layout.js","lib/@react-admin/ra-enterprise/esm/src/themes.js","lib/@react-admin/ra-enterprise/esm/src/Admin.js","lib/@react-admin/ra-enterprise/esm/src/list/FilterForm.js","lib/@react-admin/ra-enterprise/esm/src/list/ListToolbar.js","lib/@react-admin/ra-enterprise/esm/src/list/ListActions.js","lib/@react-admin/ra-enterprise/esm/src/list/ListView.js","lib/@react-admin/ra-enterprise/esm/src/list/Filter.js","core/constants/reducer.actions.ts","core/common/theme.reducer.ts","core/ResourceName.ts","core/fake/providers/fake-access-dates.provider.ts","core/enum/AccessActivePeriodStartingOptions.ts","core/enum/AccessBonuses.ts","core/enum/DayOfWeek.ts","core/fake/providers/fake-access-usings.provider.ts","core/fake/providers/fake-accesses.provider.ts","core/enum/BlockType.ts","core/fake/providers/fake-blocks.provider.ts","core/enum/BookingDisabledOption.ts","core/enum/BookingType.ts","core/fake/providers/fake-bookings.provider.ts","core/enum/CustomerDocumentType.ts","core/enum/Gender.ts","core/fake/providers/fake-companies.provider.ts","core/fake/providers/fake-customers.provider.ts","core/enum/EventStatus.ts","core/fake/providers/fake-detectors.provider.ts","core/fake/providers/fake-device-categories.provider.ts","core/fake/providers/fake-engines.provider.ts","core/fake/providers/fake-entrances.provider.ts","core/fake/providers/fake-events.provider.ts","core/enum/TicketType.ts","core/fake/providers/fake-logs.provider.ts","core/fake/providers/fake-objects.provider.ts","core/fake/providers/fake-palms.provider.ts","core/fake/providers/fake-passages.provider.ts","core/fake/providers/fake-permissions.provider.ts","core/fake/providers/fake-roles.provider.ts","core/fake/providers/fake-seats.provider.ts","core/fake/providers/fake-stats-overall-view-list.provider.ts","core/fake/providers/fake-stats-overall-view.provider.ts","core/fake/providers/fake-tickets.provider.ts","core/enum/TribuneType.ts","core/fake/providers/fake-tribunes.provider.ts","core/enum/DeviceDirection.ts","core/fake/providers/fake-user.provider.ts","core/fake/providers/fake-variants.provider.ts","core/fake/providers/fake-cameras.provider.ts","core/fake/providers/fake-camera-servers.provider.ts","core/fake/providers/fake-jobs.provider.ts","core/fake/fake-data.provider.ts","core/fake/providers/fake-auth.provider.ts","core/common/header.parser.ts","core/common/fetch.utils.ts","core/api-urls.ts","core/auth/auth.provider.ts","core/common/date-time.ts","core/common/get-by-conditions.utils.ts","core/access-dates/access-dates-filter.mapper.ts","core/access-dates/access-dates-sort.mapper.ts","core/access-dates/access-dates.provider.ts","core/access-usings/access-usings-sort.mapper.ts","core/auth/Authority.ts","core/access-usings/access-usings-filter.mapper.ts","core/access-usings/access-usings.provider.ts","core/accesses/access-filter.mapper.ts","core/accesses/access-sort.mapper.ts","core/accesses/access.provider.ts","core/administration/companies/company-filter.mapper.ts","core/administration/companies/company-sort.mapper.ts","core/administration/companies/companies.provider.ts","core/administration/permissions/permissions-filter.mapper.ts","core/administration/permissions/permissions-sort.mapper.ts","core/administration/permissions/permissions.provider.ts","core/administration/roles/role-filter.mapper.ts","core/administration/roles/role-sort.mapper.ts","core/administration/roles/roles.provider.ts","core/administration/users/users-filter.mapper.ts","core/administration/users/users-sort.mapper.ts","core/administration/users/users.provider.ts","core/blocks/blocks-filter.mapper.ts","core/blocks/blocks-sort.mapper.ts","core/blocks/blocks.provider.ts","core/bookings/booking-filter.mapper.ts","core/bookings/booking-sort.mapper.ts","core/bookings/bookings.provider.ts","core/customers/customer-filter.mapper.ts","core/customers/customer-sort.mapper.ts","core/customers/customers.provider.ts","lib/@react-admin/ra-tree/esm/src/dataProvider/builder/deleteBranchByDeletingAllChildren.js","lib/@react-admin/ra-tree/esm/src/dataProvider/builder/deleteBranchByDeletingNode.js","lib/@react-admin/ra-tree/esm/src/dataProvider/builder/addTreeMethodsBasedOnParentAndPosition.js","core/device-categories/device-category-filter.mapper.ts","core/device-categories/device-category-sort.mapper.ts","core/device-categories/device-categories.provider.ts","core/devices/devices.utils.ts","core/devices/detectors/detector-filter.mapper.ts","core/devices/detectors/detector-sort.mapper.ts","core/devices/detectors/detectors.provider.ts","core/devices/engines/engine-filter.mapper.ts","core/devices/engines/engine-sort.mapper.ts","core/devices/engines/engines.provider.ts","core/devices/palms/palm-filter.mapper.ts","core/devices/palms/palm-sort.mapper.ts","core/devices/palms/palms.provider.ts","core/devices/passages/passage-filter.mapper.ts","core/devices/passages/passage-sort.mapper.ts","core/devices/passages/passages.provider.ts","core/entrances/entrance-filter.mapper.ts","core/entrances/entrance-sort.mapper.ts","core/entrances/entrance.provider.ts","core/events/event-filter.mapper.ts","core/events/event-sort.mapper.ts","core/events/event.provider.ts","core/extended-logs/extended-log-filter.mapper.ts","core/extended-logs/extended-log-sort.mapper.ts","core/extended-logs/extended-logs.mapper.ts","core/extended-logs/extended-logs.provider.ts","core/objects/object-filter.mapper.ts","core/objects/object-sort.mapper.ts","core/objects/objects.provider.ts","core/seats/seats-filter.mapper.ts","core/seats/seats-sort.mapper.ts","core/seats/seats.provider.ts","core/stats/overall-view/list/overall-view-list-filter.mapper.ts","core/stats/overall-view/list/overall-view-list-sort.mapper.ts","core/stats/overall-view/list/overall-view-list.mapper.ts","core/stats/overall-view/list/overall-view-list.provider.ts","core/stats/overall-view/overall-view.mapper.ts","core/stats/overall-view/overall-view.provider.ts","core/tickets/ticket-filter.mapper.ts","core/tickets/ticket-sort.mapper.ts","core/tickets/tickets.provider.ts","core/tribunes/tribunes-filter.mapper.ts","core/tribunes/tribunes-sort.mapper.ts","core/tribunes/tribunes.provider.ts","core/variants/variants-filter.mapper.ts","core/variants/variants-sort.mapper.ts","core/variants/variants.provider.ts","core/devices/camera/cameras/camera-filter.mapper.ts","core/devices/camera/cameras/camera-sort.mapper.ts","core/devices/camera/cameras/cameras.provider.ts","core/devices/camera/camera-servers/camera-server-filter.mapper.ts","core/devices/camera/camera-servers/camera-server-sort.mapper.ts","core/devices/camera/camera-servers/camera-servers.provider.ts","core/jobs/jobs.provider.ts","core/data.provider.ts","core/i18n.provider.ts","core/auth/withSyncPermissions.ts","main/layout/app.theme.ts","main/layout/AppSubmenu.tsx","main/layout/MenuItem.tsx","main/layout/AppMenu.tsx","main/layout/AppLayout.tsx","main/common/SearchInput.tsx","main/common/FindCustomerByInfo.tsx","main/common/FindUserByTicket.tsx","core/auth/authority.mapper.ts","main/hooks/useHasAuthority.ts","main/common/SelectWithPaginationInput.tsx","main/events/EventList.tsx","core/common/visual.utils.ts","main/logs/DateFilterInput.tsx","main/logs/LogsComponents.ts","main/common/customized-mui-components/Button.tsx","main/devices/camera/cameras/CameraPreviewDialog.tsx","core/common/dashboard.ts","main/logs/LogList.tsx","main/Dashboard.tsx","main/common/Configuration.tsx","main/common/routes.tsx","lib/@react-admin/ra-editable-datagrid/esm/src/EditRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridRow.js","lib/@react-admin/ra-editable-datagrid/esm/src/CreateRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridCreateForm.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagridBody.js","core/enum/AccessDateTypes.ts","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/CancelEditButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/CreateButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteWithConfirmIconButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteWithUndoIconButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/DeleteRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/EditRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/useEditRowContext.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/InlineCreateButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/buttons/SaveRowButton.js","lib/@react-admin/ra-editable-datagrid/esm/src/ActionsColumn.js","lib/@react-admin/ra-editable-datagrid/esm/src/EditableDatagrid.js","lib/@react-admin/ra-editable-datagrid/esm/src/RowForm.js","main/common/MappedChipField.tsx","main/common/Pagination.tsx","main/bookings/booking-show/AccessList.tsx","main/common/ParameterizedCreateButton.tsx","core/access-usings/access-using-activation-button.ts","main/common/CheckboxField.tsx","main/common/RelationTab.tsx","core/common/relation-tab-filter.mapper.ts","main/common/RelationTabFilter.tsx","core/access-usings/access-using-activation-button.reducer.ts","core/bookings/toggle-booking-blockade-button.ts","main/configuration/access-usings/AccessUsingActivationButton.tsx","main/configuration/accesses/AccessShow.tsx","main/bookings/booking-show/AccessShow.tsx","core/bookings/toggle-booking-access-button.reducer.ts","main/bookings/booking-show/ToggleBookingAccessButton.tsx","core/bookings/toggle-booking-blockade-button.reducer.ts","main/bookings/booking-show/ToggleBookingBlockadeButton.tsx","main/bookings/BookingShow.tsx","main/configuration/accesses/AccessCreate.tsx","main/configuration/accesses/AccessEdit.tsx","main/common/QuickFilter.tsx","main/configuration/accesses/AccessList.tsx","main/configuration/variants/VariantCreate.tsx","main/configuration/variants/VariantEdit.tsx","main/configuration/variants/VariantList.tsx","main/configuration/variants/VariantShow.tsx","main/customers/CustomerCreate.tsx","main/customers/CustomerEdit.tsx","main/common/MaskField.tsx","core/common/mask.utils.ts","main/customers/CustomerList.tsx","main/customers/CustomerShow.tsx","lib/@react-admin/ra-tree/esm/src/renderSwitcherIcon.js","lib/@react-admin/ra-tree/esm/src/useRcTreeStyles.js","lib/@react-admin/ra-tree/esm/src/rcTreeMotion.js","lib/@react-admin/ra-tree/esm/src/NodeTitle.js","lib/@react-admin/ra-tree/esm/src/Tree.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useGetTree.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useGetRootNodes.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useMoveAsNthChildOf.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useMoveAsNthSiblingOf.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useGetTreeCallback.js","lib/@react-admin/ra-tree/esm/src/util/getRCTreeDatum.js","lib/@react-admin/ra-tree/esm/src/util/getRecordTree.js","lib/@react-admin/ra-tree/esm/src/controllers/useTreeController.js","lib/@react-admin/ra-tree/esm/src/util/getRCTree.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useDeleteBranch.js","lib/@react-admin/ra-tree/esm/src/controllers/useDeleteBranchWithConfirmController.js","lib/@react-admin/ra-tree/esm/src/DeleteMenuItemWithConfirmation.js","lib/@react-admin/ra-tree/esm/src/controllers/useDeleteBranchWithUndoController.js","lib/@react-admin/ra-tree/esm/src/DeleteMenuItemWithUndo.js","lib/@react-admin/ra-tree/esm/src/DeleteMenuItem.js","core/enum/HardwareVersions.ts","lib/@react-admin/ra-tree/esm/src/NodeActions.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useGetChildNodesCallback.js","lib/@react-admin/ra-tree/esm/src/TreeWithDetails.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useAddRootNode.js","lib/@react-admin/ra-tree/esm/src/dataProvider/useAddChildNode.js","lib/@react-admin/ra-tree/esm/src/controllers/useCreateNodeController.js","lib/@react-admin/ra-tree/esm/src/CreateNode.js","main/device-categories/DeviceCategoryCreate.tsx","lib/@react-admin/ra-tree/esm/src/NodeEditActions.js","lib/@react-admin/ra-tree/esm/src/EditNode.js","main/device-categories/DeviceCategoryEdit.tsx","lib/@react-admin/ra-tree/esm/src/ShowNode.js","main/device-categories/DeviceCategoryShow.tsx","main/device-categories/DeviceCategoryList.tsx","main/devices/detectors/DetectorCreate.tsx","core/enum/device-modues/DeviceModuleTypes.ts","main/devices/detectors/DetectorEdit.tsx","core/devices/common/modules/module.mapper.ts","core/enum/Multiplicities.ts","main/devices/common/modules/ModuleStatus.tsx","main/devices/detectors/DetectorList.tsx","main/devices/detectors/DetectorShow.tsx","main/devices/engines/EngineCreate.tsx","core/devices/engines/engine-lock-button.ts","main/devices/engines/EngineEdit.tsx","main/devices/engines/EngineList.tsx","core/devices/engines/engine-lock-button.reducer.ts","core/enum/StanbyMode.ts","main/devices/engines/EngineDialogs.tsx","core/devices/palms/palm-device-id-button.ts","main/devices/engines/engine-show/EngineLockButton.tsx","main/devices/engines/engine-show/EngineRemoveTSCanCredentialsButton.tsx","main/devices/engines/engine-show/EngineSetTSCanCredentialsButton.tsx","main/devices/engines/engine-show/EngineStandbyModeButton.tsx","main/devices/engines/EngineShow.tsx","main/devices/palms/PalmCreate.tsx","main/devices/palms/PalmEdit.tsx","main/devices/palms/PalmList.tsx","core/devices/palms/palm-device-id-button.reducer.ts","core/devices/palms/palm-lock-button.ts","main/devices/palms/PalmDialogs.tsx","main/devices/palms/palm-show/PalmDeviceIdButton.tsx","core/devices/palms/palm-lock-button.reducer.ts","core/enum/SPOM4Directions.ts","main/devices/palms/palm-show/PalmLockButton.tsx","main/devices/palms/PalmShow.tsx","main/devices/passages/SPOM4Address.tsx","core/devices/passages/passage-reset-counters-button.ts","main/devices/passages/PassageCreate.tsx","main/devices/passages/PassageEdit.tsx","main/devices/passages/PassageList.tsx","main/devices/passages/PassageDialogs.tsx","main/devices/passages/passage-show/PassageRemoveTSCanCredentialsButton.tsx","core/devices/passages/passage-reset-counters-button.reducer.ts","core/devices/passages/passage-set-boolean-status-button.ts","core/enum/PassageDirections.ts","main/devices/passages/passage-show/PassageResetCountersButton.tsx","core/devices/passages/passage-set-free-pass-backward-button.reducer.ts","core/enum/CameraTypes.ts","main/devices/passages/passage-show/PassageSetFreePassBackwardButton.tsx","core/devices/passages/passage-set-free-pass-forward-button.reducer.ts","main/devices/passages/passage-show/PassageSetFreePassForwardButton.tsx","core/devices/passages/passage-set-lock-button.reducer.ts","main/devices/passages/passage-show/PassageSetLockButton.tsx","core/devices/passages/passage-set-power-button.reducer.ts","main/devices/passages/passage-show/PassageSetPowerButton.tsx","core/devices/passages/passage-set-ppoz-button.reducer.ts","main/devices/passages/passage-show/PassageSetPPOZButton.tsx","main/devices/passages/passage-show/PassageSetTSCanCredentialsButton.tsx","main/devices/passages/PassageShow.tsx","main/configuration/entrances/EntranceCreate.tsx","main/configuration/entrances/EntranceEdit.tsx","main/configuration/entrances/EntranceList.tsx","main/configuration/entrances/EntranceShow.tsx","main/events/EventCreate.tsx","main/events/EventEdit.tsx","core/events/handle-activation-button.reducer.ts","main/events/event-show/StatusTransitionDialog.tsx","main/events/event-show/ToggleActivationButton.tsx","main/events/EventShow.tsx","main/objects/Blocks/BlockCreate.tsx","main/objects/Empty.tsx","main/objects/Blocks/BlocksList.tsx","main/objects/Objects/ObjectCreate.tsx","main/objects/Objects/ObjectEdit.tsx","main/objects/Objects/ObjectList.tsx","main/objects/Seats/SeatsList.tsx","main/objects/Tribunes/TribunesList.tsx","main/objects/Objects/ObjectShow.tsx","main/objects/Seats/SeatCreate.tsx","main/objects/Tribunes/TribuneCreate.tsx","main/stats/overall-view/OverallView.tsx","main/stats/overall-view/OverallViewList.tsx","main/tickets/TicketList.tsx","main/configuration/access-dates/AccessDateCreate.tsx","main/administration/companies/CompanyList.tsx","main/administration/users/UserCreate.tsx","main/administration/users/UserEdit.tsx","main/administration/companies/CompanyShow.tsx","main/administration/roles/RoleList.tsx","main/administration/roles/RoleShow.tsx","main/administration/users/UserList.tsx","main/administration/users/UserShow/UserDialogs.tsx","main/administration/users/UserShow/UserChangePasswordButton.tsx","main/administration/users/UserShow.tsx","main/administration/companies/CompanyEdit.tsx","main/administration/companies/CompanyCreate.tsx","main/administration/roles/RoleEdit.tsx","main/devices/camera/cameras/CameraList.tsx","main/devices/camera/camera-servers/CameraServerList.tsx","main/devices/camera/cameras/CameraCreate.tsx","main/devices/camera/camera-servers/CameraServerCreate.tsx","main/devices/camera/camera-servers/CameraServerEdit.tsx","main/devices/camera/cameras/CameraEdit.tsx","main/devices/camera/camera-servers/CameraServerDialogs.tsx","main/devices/camera/camera-servers/camera-server-show/CameraServerSetCredentialsButton.tsx","main/devices/camera/camera-servers/camera-server-show/CameraServerRemoveCredentialsButton.tsx","main/devices/camera/camera-servers/CameraServerShow.tsx","main/devices/camera/cameras/CameraShow.tsx","core/csv/csv.consts.ts","core/csv/choices.reducer.ts","core/csv/csv-data.reducer.ts","core/csv/csv-form-processor.ts","core/csv/csv-processor.ts","main/common/import/ImportCsvPreview.tsx","main/common/import/ImportView.tsx","main/common/import/ImportCsvButton.tsx","main/common/import/ImportBase.tsx","core/csv/csv-types.ts","main/common/import/Import.tsx","main/tickets/TicketImport.tsx","main/Resources.tsx","core/common/dashboard.reducer.ts","App.tsx","core/providers.factory.ts","reportWebVitals.ts","i18n.init.ts","index.tsx"],"names":["PreferencesContext","createContext","undefined","RA_PREFERENCE_WORKSPACE","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","getPreferencesStorage","localStorageAvailable","testLocalStorage","window","localStorage","memoryStorage","readStorage","key","preferences","JSON","parse","getItem","tryParse","get","writeStorage","value","storage","newPreferences","set","setItem","stringify","dispatchEvent","PreferencesChanged","create","err","TypeError","message","includes","_a","removeItem","eventName","payload","CustomEvent","detail","usePreferences","defaultValue","useState","storedValue","localState","updateLocalState","preferencesContext","useContext","onPreferencesChange","event","newValue","onLocalStorageChange","useEffect","addEventListener","canWrite","removeEventListener","writeState","useCallback","previousData","data","updatePreferences","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defaultThemeFromType","type","palette","PreferencesBasedThemeProvider","children","_b","themeFromType","rest","theme","useMemo","isValidElement","Error","cloneElement","ToggleThemeButton","translate","useTranslate","setTheme","toggleThemeTitle","_","React","createElement","Tooltip","title","enterDelay","IconButton","color","onClick","Brightness4Icon","Brightness7Icon","LanguageSwitcher","languages","defaultLanguage","classes","useStyles","_c","anchorEl","setAnchorEl","locale","useLocale","setLocale","defaultLocale","useSetLocale","setLocaleInPreferences","useSetLocaleAndPreference","changeLocale","Fragment","Button","currentTarget","LanguageIcon","className","languageContainer","language","find","name","getNameForLocale","ExpandMoreIcon","fontSize","Menu","id","keepMounted","open","Boolean","onClose","map","MenuItem","makeStyles","marginLeft","spacing","SidebarOpenPreferenceSync","sidebarOpenFromStore","useSelector","state","admin","ui","sidebarOpen","sidebarPref","setSidebarPref","dispatch","useDispatch","stateRef","useRef","current","setSidebarVisibility","columnsContainer","margin","listItem","paddingLeft","listItemText","floatingIcon","position","top","right","floatingTooltip","action","disabled","titleContainer","alignItems","display","marginTop","titleIcon","marginRight","BookmarkIcon","root","button","form","PreferencesEditorContext","usePreferencesEditor","history","createMemoryHistory","PreferencesEditor","props","setHistory","Router","Route","path","render","PreferencesEditorDialogTitle","disable","setEditor","DialogTitle","disableTypography","size","backButton","location","pathname","goBack","BackIcon","Typography","align","closeButton","CloseIcon","cursor","padding","left","grey","PreferencesEditorDialogContext","EditorTitle","setTitle","__spreadArray","to","from","il","j","ReferenceFieldInput","label","resource","onChange","model","useResourceModel","fields","displayField","inferBestReferenceDisplayField","initialValue","fieldChoices","keys","field","getFieldLabelTranslationArgs","source","push","choices","setChoices","autocompleteFilter","createFilterOptions","Autocomplete","freeSolo","options","newKey","prev","inputValue","filterOptions","params","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","renderInput","TextField","renderOption","option","getOptionLabel","FAVORITE_DISPLAY_FIELD_NAMES","types","best","entries","entry","toLowerCase","FieldTypeInput","FormControl","fullWidth","InputLabel","Select","labelId","FieldTypesChoices","InferenceTypes","marginBottom","ReferenceResourceInput","resources","getResources","getResourceLabel","useGetResourceLabel","resourcesChoices","preferencesKey","resourceModel","setResourceModel","inferResourceModel","values","getValuesFromRecords","forEach","fieldType","inferTypeFromValues","ResourceModelFieldEditor","saveModel","target","reference","referenceField","optionText","ResetSettingsButton","setOpen","setPrefs","Confirm","isOpen","loading","content","onConfirm","error","main","backgroundColor","background","paper","fade","ListItemLink","renderLink","forwardRef","itemProps","ref","RouterLink","ListItem","component","ResourceModelEditor","routeMatch","useRouteMatch","Switch","List","dense","ListItemText","primary","ResourcesModelsEditor","exact","EditResourcesModelsButton","PreferencesEditorRoot","PreferencesEditorDialog","editor","isEnabled","memoizedContext","useTheme","x","document","body","clientWidth","breakpoints","sm","y","dialogPosition","setDialogPosition","Modal","disableBackdropClick","hideBackdrop","disableEnforceFocus","disableScrollLock","BackdropComponent","Draggable","handle","cancel","defaultPosition","onStop","Paper","elevation","Provider","width","transition","transitions","overflowY","maxHeight","paddingTop","instructions","displayName","OpenEditorButton","SettingsIcon","translatedLabel","popper","zIndex","modal","element","boxShadow","popover","pointerEvents","popoverContent","maxWidth","toolbar","spacer","flexGrow","paddingRight","template","fontFamily","typography","fixed","dl","gridTemplateColumns","dt","dd","opacity","switch","editButton","addFieldButton","filterItemRow","filterItemField","flex","filterItemValue","deleteButton","height","objectInput","borderLeft","divider","paddingBottom","CHANGE_EXPANDED_NODES","EXPAND_NODE","expandNode","nodeId","meta","CRUD_GET_TREE","CRUD_ADD_ROOT_NODE","CRUD_ADD_CHILD_NODE","CRUD_DELETE_BRANCH","POPULATE_RECORDS_FROM_NODES","ADD_UNSAVED_ROOT_NODE","REMOVE_UNSAVED_ROOT_NODE","ADD_UNSAVED_CHILD_NODE","REMOVE_UNSAVED_CHILD_NODE","ADD_ROOT_NODE","ADD_CHILD_NODE","UNSAVED_NEW_NODE","initialState","reducer","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","requestPayload","resourceState","nodes","expanded","String","newExpanded","current_1","concat","filter","some","item","pop","_v","_w","console","warn","nodesToRemove_1","getNodesToRemove","idToRemove","reduce","acc","curr","parentId","_x","_y","fetchResponse","node","ids","child","GET_LOCK","GET_LOCKS","LOCK","UNLOCK","useLock","useSubscribe","topic","subscriptionCallback","dataProvider","useDataProvider","subscribe","unsubscribe","useSubscribeToRecordList","EventType","getColor","darken","lighten","getBackgroundColor","body2","borderRadius","shape","warning","RealTimeMenuItemLink","primaryText","leftIcon","badgeColor","sidebarIsOpen","useLocation","countEvent","setCountEvent","count","isMenuActive","activeRecordId_1","getActiveRecordIdFromRoute","previous","handleMenuTap","renderMenuItem","classnames","activeClassName","active","NavLinkRef","StyledBadgeForIcon","badgeContent","ListItemIcon","icon","titleAccess","StyledBadgeForText","placement","NavLink","innerRef","text","secondary","minWidth","withStyles","badge","border","Badge","menuProps","currentPath","menuPath","startIndex","toString","endIndex","substring","flexDirection","justifyContent","translatedResourceName","smart_count","inflection","humanize","pluralize","RealTimeMenu","hasDashboard","onMenuClick","logout","isXSmall","useMediaQuery","down","shallowEqual","router","DashboardMenuItem","r","hasList","DefaultIcon","defaultProps","locksReducer","recordId","lock","newState","raRealTimeEnglishMessages","refresh","event_type","updated","created","deleted","notification","record","list","refreshed","lockedBySomeoneElse","lockedByMe","unlocked","noLock","cannotUnlock","AppBreadcrumbContext","AppBreadcrumbContextProvider","context","buildResourceLocationInfoPath","useResourceAppLocation","resourceLocationInfo","_i","resources_1","name_1","match","showMatch","RegExp","resourceId","matchEdit","resolveResourceLocationInfo","useAppLocationState","LocationContext","setLocation","DASHBOARD","ResourceLocationListener","resourceLocation","currentResourceLocation","defaultLocation","AppLocationContext","initialLocation","locations","timeout","optimizedSetLocation","appLocation","setTimeout","currentLocation","currentLocationLength","split","locationLength","getDeepestLocation","useAppLocationMatcher","pathToMatchParts","isMatch","part","index","useHasDashboard","Breadcrumb","variant","finalHasDashboard","dashboard","actions","Children","separatorResolver","separator","listStyle","textDecoration","resolveOrReturn","valueOrFunction","BreadcrumbItem","locationMatcher","exactMatch","resolvedLabel","resolvedTo","Link","useResourcesBreadcrumbPaths","selectedResources","paths","resourcePaths","resourceLabelPlural","resourceLabelSingular","linkToRecord","buildResourcesBreadcrumbPaths","DashboardBreadcrumbItem","ResourceBreadcrumbItems","resourcesPaths","disablePadding","MultiLevelMenuContext","useMultiLevelMenu","link","whiteSpace","gutters","nestedList","hiddenNestedList","MenuItemCategory","rootRef","subMenuRef","multiLevelMenuContext","isActive","isSubMenuOpen","setIsSubMenuOpenState","setIsSubmenuOpen","setIsOpen","callback","openingName","startsWith","onOpen","offOpen","hasSubItems","setHasCategories","focusables","querySelectorAll","focus","handleCloseSubMenu","Popover","anchorOrigin","AnchorOrigin","transformOrigin","TransformOrigin","container","popoverPaper","TransitionComponent","Slide","TransitionProps","style","appBar","vertical","horizontal","direction","common","white","caption","black","minHeight","borderTopLeftRadius","borderBottomLeftRadius","MultiLevelMenu","initialOpen","openedItems","isFirstLoad","setIsFirstLoad","openingListeners","Array","close","Set","add","toggle","hasCategories","l","navWithCategories","nav","defaultTheme","overrides","RaSidebar","drawerPaper","borderStyle","addButton","removeButton","borderWidth","borderColor","overflow","listHeader","borderBottom","selectedList","availableList","UsingRegexp","useReferenceManyToManyFieldController","sort","through","using","perPage","unique","sourceField","targetField","throughManyReferences","useGetManyReference","page","allReferencesIds","referencesIds","uniq","references","useGetMany","basePath","v","currentSort","loaded","total","ReferenceManyToManyField","sortBy","referenceManyToManyProps","ListContextProvider","displayedFilters","filterValues","hasCreate","onSelect","onToggleItem","onUnselectItems","hideFilter","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","order","addLabel","getReferenceManyToManyFormField","ManyToManyReferenceContext","useReferenceManyToManyInputController","validate","enabled","temporaryFieldName","temporaryFieldInitialValue","setTemporaryFieldInitialValue","temporaryField","useField","composeValidators","useForm","referenceIdsEffectSignature","join","targetId","change","resetFieldState","possibleValues","useGetList","input","refetch","handleChange","eventOrValue","onBlur","useManyToManyReferenceContext","registerManyToManyInput","unregisterManyToManyInput","ReferenceManyToManyInput","idOverride","format","onFocus","useInput","isRequired","childProps","helperText","translateChoice","limitChoicesToValue","only","raTreeEnglishMessages","drag_preview","root_target","item_moved","new_node","add_root","add_child","SearchInput","InputProps","placeholder","handleClickClearButton","preventDefault","handleFocus","handleBlur","clearButton","clearIcon","inputAdornmentEnd","inputAdornmentStart","visibleClearIcon","inputClassName","inputBaseClassName","inputBase","restClasses","inputProps","startAdornment","InputAdornment","SearchIcon","endAdornment","disableRipple","onMouseDown","handleMouseDownClearButton","ClearIcon","classNames","SearchResultContext","subHeader","query","raSearcheEnglishMessages","recent","resourceDefinition","singularize","useEventLabel","pluralizeResource","useRecordContext","actionPluralOptions","translateOptions","slice","all_fields","finalVariant","variantTranslationKeys","full","inline","record_many_fields","delete","deleteMany","update","updateMany","ActionField","actionLabel","sanitizeFieldRestProps","EventAvatar","src","fullName","Avatar","getInitials","PersonIcon","small","medium","toUpperCase","AvatarField","fullNameSource","role","AuthorField","authorResource","ReferenceField","author","ResourceField","flexWrap","authorContainer","avatar","date","card","subTitle","hover","events","up","cardContent","AccordionFormToolbar","alwaysEnableSaveButton","handleSubmit","handleSubmitWithRedirect","invalid","pristine","redirect","saving","submitOnEnter","undoable","valueOrDefault","Toolbar","mobileToolbar","desktopToolbar","defaultToolbar","SaveButton","DeleteButton","onSave","bottom","boxSizing","flexShrink","withWidth","initialWidth","DefaultAccordion","MuiAccordion","DefaultAccordionSummary","MuiAccordionSummary","DefaultAccordionDetails","MuiAccordionDetails","AccordionSection","Accordion","AccordionDetails","AccordionSummary","defaultExpanded","square","setExpanded","hasErrors","hasInputsWithError","getState","errors","expandIcon","summary","heading","secondaryHeading","FormInput","toArray","pxToRem","flexBasis","WizardProgress","currentStep","onStepClick","steps","handleStepClick","Stepper","activeStep","step","intent","Step","StepButton","StepLabel","raFormLayoutLanguageEnglish","next","defaultMessages","en","mergeTranslations","raRealTimeLanguageEnglish","duallistinput","select","unselect","availableItems","selectedItems","raTreeLanguageEnglish","raSearchLanguageEnglish","inline_event","record_event","record_many_fields_events","period_filters","today","this_week","this_month","this_quarter","englishMessages","buildI18nProvider","messages","mergedMessages","cloneDeep","polyglotI18nProvider","AppBar","DefaultAppBar","textOverflow","DefaultBreadcrumb","useTour","stateContextHook","StateContext","dispatchContextHook","DispatchContext","tooltipProps","continuous","backProps","closeProps","primaryProps","skipProps","isLastStep","stop","hideBackButton","showSkipButton","styles","output","back","skip","last","tooltip","tooltipContainer","tooltipTitle","tooltipContent","tooltipFooter","ErrorFallback","componentStack","resetErrorBoundary","Tour","tours","joyrideProps","running","stepIndex","activeTour","defaultJoyRideProps","stepJoyrideProps","ErrorBoundary","FallbackComponent","onError","onReset","Joyride","showProgress","disableCloseOnEsc","disableOverlayClose","spotlightClicks","tooltipComponent","run","tour","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","result","done","then","__generator","f","g","sent","trys","ops","verb","Symbol","iterator","op","waitAndReturn","getter","interval","maxTries","iterations","getterInterval","setInterval","clearInterval","TourProvider","tools","useReducer","start","before","stepBefore","querySelector","stepAfter","globalAfter","after","nextStep_1","nextTarget","previousStep_1","previousTarget","Layout","sidebar","menu","notify","useNotify","useRedirect","useRefresh","RA_TOUR_PREFERENCE_KEY","tourPreferences","setTourPreferences","DefaultLayout","DashboardIcon","buildThemeFromTypeMethod","lightTheme","darkTheme","merge","defaultDarkTheme","defaultLightTheme","RaTopToolbar","RaListToolbar","default","Admin","customReducers","i18nProvider","mergedCustomReducers","tree","locks","navigationTheme","DefaultAdmin","layout","FilterForm","filtersProps","filters","initialValues","useListContext","shownFilters","FilterContext","filterElement","alwaysOn","RaFilterForm","emptyForm","ListToolbar","isArray","ListActions","breadcrumb","exporter","filtersProp","useResourceContext","useResourceDefinition","TopToolbar","sanitizeListRestProps","FilterButton","CreateButton","ExportButton","ListView","aside","bulkActionButtons","Content","empty","defaultExporter","pagination","hasEdit","hasShow","syncWithLocation","controllerProps","getListControllerProps","listContext","defaultTitle","version","useVersion","shouldRenderEmptyPage","Title","bulkActionsDisplayed","BulkActionsToolbar","hasBulkActions","renderList","DefaultBulkActionButtons","BulkDeleteButton","Card","DefaultPagination","Empty","noResults","CHANGE_THEME","UPDATE_DASHBOARD","identity","darkMode","themeReducer","ResourceName","AccessActivePeriodStartingOptions","AccessBonuses","DayOfWeek","provider","getList","a","BlockType","fakeAccesses","bonus","N","entranceId","allowReenter","multipleEntry","multiple","usePriority","isTicketUnlockedWithNextDay","releaseTime","releaseDayOfWeek","Friday","releaseDayOfMonth","delay","activePeriod","activePeriodStartingFrom","FIRST_USE","variantsIds","accessDatesIds","createdById","modifiedById","createdAt","modifiedAt","BookingDisabledOption","BookingType","fakeBlocks","NUMBERED","code","tribuneId","bookingsIds","seatsIds","CustomerDocumentType","Gender","fakeBookingsList","NORMAL","STORNO","activeFrom","activeTo","eventId","seatId","blockId","customerId","variantId","ticketsIds","getOne","found","fakeCompanies","usersIds","eventsIds","EventStatus","fakeCustomers","firstname","lastname","company","birthdate","documentType","ID_CARD","pesel","documentNumber","nationality","gender","MALE","c","fakeDetectors","fakeDeviceCategories","devicesIds","fakeEngines","fakeEntrances","TicketType","fakeEvents","dateStart","dateEnd","status","INACTIVE","externalId","infix","objectsIds","fakeLogs","ticketCode","bookingId","deviceName","cameraId","cameraDescription","fakeObjects","tribunesIds","fakePalms","fakePassages","fakePermissions","fakeRoles","fakeSeats","rowAlias","numberAlias","fakeStatsOverallViewList","capacity","sold","entered","objects","TribuneType","fakeTickets","ticketType","K","accessUsingsIds","DeviceDirection","fakeTribunes","VIRTUAL","objectId","blocksIds","MANUAL","fakeUsers","fakeVariants","accessesIds","fakeCameras","fakeServers","dataProviders","ACCESS_DATES","fakeAccessDatesProvider","ACCESSES","fakeAccessesProvider","ACCESS_USINGS","fakeAccessUsingsProvider","BOOKINGS","fakeBookingsProvider","CAMERAS","fakeCamerasProvider","CAMERA_SERVERS","fakeCameraServersProvider","COMPANIES","fakeCompaniesProvider","CUSTOMERS","fakeCustomersProvider","DETECTORS","fakeDetectorsProvider","DEVICE_CATEGORIES","fakeDeviceCategoriesProvider","ENGINES","fakeEnginesProvider","ENTRANCES","fakeEntrancesProvider","EVENTS","fakeEventsProvider","LOGS","fakeLogsProvider","OBJECTS","fakeObjectsProvider","PALMS","fakePalmsProvider","ROLES","fakeRolesProvider","PERMISSIONS","fakePermissionsProvider","PASSAGES","fakePassagesProvider","STATS_OVERALL_VIEW","fakeStatsOverallViewProvider","STATS_OVERALL_VIEW_LIST","fakeStatsOverallViewListProvider","TRIBUNES","fakeTribunesProvider","BLOCKS","fakeBlocksProvider","SEATS","fakeSeatsProvider","TICKETS","fakeTicketsProvider","TICKET_LOGS","USERS","fakeUsersProvider","VARIANTS","fakeVariantsProvider","JOBS","fakeJobsProvider","fetchType","sanitizeFetchType","authProvider","login","checkError","checkAuth","getPermissions","getIdentity","contentRangeParser","headerValue","rangeFrom","summarySecondPartSplit","rangeTo","parseInt","getToken","baseHeaders","authHeaders","token","Authorization","getWithHeaders","url","headers","fetchUtils","fetchJson","method","Headers","json","postWithHeaders","baseUrl","getWithToken","getByConditions","getWithPagination","range","post","patch","put","API_V1","process","AUTH_URL","ROLES_URL","ACCESSES_URL","ACCESS_DATES_URL","BOOKINGS_URL","CUSTOMERS_URL","EVENTS_URL","EXTENDED_LOGS_URL","TICKETS_URL","VARIANTS_URL","SEATS_URL","BLOCKS_URL","TRIBUNES_URL","OBJECTS_URL","ENGINES_URL","PALMS_URL","ADMINISTRATOR_URL","ENTRANCES_URL","DEVICE_CATEGORIES_URL","PASSAGES_URL","DETECTORS_URL","CAMERAS_URL","CAMERA_SERVERS_URL","JOBS_URL","username","password","roleDtos","roles","formatDate","formatTime","ignoreTimezoneOffset","tzoffset","getTimezoneOffset","Date","getTime","filterParamsComposer","lambdaParameter","filterMapper","filterParams","mapper","val","queryParamsComposer","sortMapper","queryParams","mapping","accessId","timeFrom","timeTo","mapSortAccessDatesParam","pathParams","toISOString","priority","dayOfWeek","Authority","ticketId","mapSortAccessUsingsParam","pendingUpdates","auId","req","all","accessUsings","au","ticketIds","accessIds","request","flatMap","IN","verifierDeviceId","getMany","filterVariantId","otherValues","mapSortAccessParam","attachVariants","accessVariants","detachVariants","filterEventId","mapSortCompanyParam","filterRoleId","roleId","mapSortRoleParam","filterUserId","userId","attachPermissions","engineEntrances","detachPermissions","userName","companyId","mapSortUserParam","requirePasswordUpdate","changeUserPassword","newPassword","generateResetUserPasswordToken","attachRoles","detachRoles","getRoles","mapSortBlockParam","mapSortBookingParam","booking","info","q","mapSortCustomerParams","customer","deleteBranchByDeletingAllChildren","deleteBranch","getChildNodes","addSimpleDeleteBranch","parentIds","notId","mapSortDeviceCategoryParam","addTreeMethodsBasedOnParentAndPosition","parentIdField","positionField","apiSupportBranchDeletion","deleteBranchByDeletingNode","treeDataProvider","getTree","b","getRootNodes","getParentNode","childId","moveAsNthChildOf","destination","destinationSiblings","sourceSiblings","moveAsNthSiblingOf","destinationSiblingsToUpdateFilter","sourceSiblingsToUpdateFilters","addRootNode","roots","rootPosition","newRoot","Infinity","addChildNode","siblings","childPosition","deviceCategory","getDeviceCategories","categoryId","categoriesIds","selectedCategory","resolveParents","parentCategoriesfilters","deviceCategoryfilterMapper","childrenCategories","newChildren","cc","categoryIdWithDescendants","hardwareVersion","address","mapSortDetectorParam","extendedFilter","isWatched","engine","eventActive","ACTIVE","filterEntranceId","mapSortEngineParam","onlineInfixCeck","multiplicity","attachEvents","engineEvents","detachEvents","attachEntrances","detachEntrances","setTSCanCredentials","removeTSCanCredentials","unlock","setStandbyMode","mapSortPalmParam","palm","palmId","lockName","setMobileDeviceId","mobileDeviceId","resetMobileDeviceId","entrancesIds","mapSortPassageParam","passage","freeEntrancesCount","freeExitsCount","ticketEntrancesCount","ticketExitsCount","unauthorizedEntrancesCount","unauthorizedExitsCount","resetCounters","response","setLockState","setPowerState","setPPOZState","setFreePassState","note","filterVerifierDeviceId","mapSortEntranceParam","getManyReference","entrance","attachDevices","entranceDevices","detachDevices","mapSortEventParam","activate","deactivate","getCompanies","companies","attachCompanies","eventCompanies","detachCompanies","attachObjects","eventObjects","detachObjects","getDevices","devices","eventDevices","mapSortLogParam","mapToExtendedLog","scheme","device","camera","logEntry","description","extendedLogs","dto","mapSortObjectParam","object","mapSortSeatParam","hasObjects","mapSortOverallViewParam","mapToEventOverallView","overallViewList","calculateCapacity","seats","bookings","mapToTribuneOverallView","tribune","blocks","enteredBookingIds","block","filteredSeats","filteredBookingIds","filteredBookings","book","filteredEnteredBookingIds","enteredBookingId","filteredEnteredBookings","enteredBookings","soldNormal","enteredNormal","soldAbo","ABO","enteredAbo","soldInfix","INFIX","enteredInfix","soldService","SERVICE","enteredService","soldPoints","POINTS","enteredPoints","mapToBlockOverallView","mapToOverallView","selectedEvent","tribunes","o","filteredTribunes","filteredBlocks","filteredSeatIds","mapToObjectOverallView","pendingSelectedEvent","pendingObjects","pendingTribunes","pendingBlocks","pendingSeats","bookingsCondition","pendingBookings","pendingEnteredBookings","overallViewData","bookingType","customerFirstname","customerLastname","customerPesel","mapSortTicketParam","ticket","createMany","tickets","mapSortTribuneParam","filterAccessId","mapSortVariantParam","attachAccesses","variantAccesses","detachAccesses","serverId","mapSortCameraParam","serverSideName","openStream","streamStart","mapSortCameraServerParam","camerasIds","setCredentials","removeCredentials","deleteJob","jobId","accessDatesProvider","accessesProvider","accessUsingsProvider","bookingsProvider","camerasProvider","cameraServersProvider","companiesProvider","customersProvider","detectorsProvider","engineProvider","entrancesProvider","eventsProvider","logsProvider","objectsProvider","palmProvider","rolesProvider","permissionsProvider","passagesProvider","statsOverallViewProvider","statsOverallViewListProvider","ticketsProvider","tribunesProvider","blocksProvider","seatsProvider","usersProvider","variantsProvider","deviceCategoriesProvider","jobsProvider","i18n","changeLanguage","getLocale","areRolesOutOfSync","local","remote","every","has","validateRoles","rolesFromRemote","rolesFromLocalStorage","withSynchronizedPermissions","Proxy","overriddenTheme","body1","fontWeight","h5","RaFilter","closedWidth","LightTheme","deepPurple","green","DarkTheme","light","dark","contrastText","sidebarIsClosed","slideIn","transitionDelay","SubMenu","handleToggle","expandIconVisible","setExpandIconVisible","containerRef","header","in","Collapse","unmountOnExit","availableResources","MenuItemLink","easing","sharp","duration","leavingScreen","closed","AppMenu","avRes","menuStats","menuDevices","menuConfiguration","menuAdministration","menuState","setMenuState","userSelect","Receipt","Event","ViewComfy","Sort","transform","anyDeviceResourcesAvailable","VideoLabel","PhoneAndroid","AccountBalanceWallet","CenterFocusStrong","ArrowForward","Videocam","Storage","Category","anyConfigurationResourcesAvailable","SettingsApplications","ExitToApp","Assessment","DirectionsWalk","anyAdministrationResourcesAvailable","SupervisorAccount","Apartment","VerifiedUser","Group","AccountBalance","AppUserMenu","UserMenu","AppTopBar","userMenu","AppLayout","RoundInputBox","Box","RoundInputBoxBtn","RoundInputBoxFC","onValue","inputError","setInputError","setInputValue","handleClick","Input","disableUnderline","onInput","onKeyDown","ev","FormHelperText","FindCustomerByInfo","useHistory","setError","useMutation","mutate","fetchCustomers","GET_LIST","returnPromise","replace","onlyCustomer","search","CardHeader","CardContent","FindUserByTicket","fetchTickets","onlyTicket","VIEW_USER_MANAGEMENT","VIEW_LOGS","VIEW_STATS_OVERALL_VIEW","VIEW_COMPANIES","EDIT_COMPANIES","CREATE_COMPANIES","VIEW_USERS","EDIT_USERS","CREATE_USERS","VIEW_ROLES","EDIT_ROLES","CREATE_ROLES","VIEW_ACCESS_DATES","EDIT_ACCESS_DATES","CREATE_ACCESS_DATES","VIEW_ACCESSES","EDIT_ACCESSES","CREATE_ACCESSES","VIEW_ACCESS_USINGS","EDIT_ACCESS_USINGS","CREATE_ACCESS_USINGS","VIEW_BLOCKS","EDIT_BLOCKS","CREATE_BLOCKS","VIEW_BOOKINGS","EDIT_BOOKINGS","CREATE_BOOKINGS","VIEW_CUSTOMERS","EDIT_CUSTOMERS","CREATE_CUSTOMERS","VIEW_EVENTS","EDIT_EVENTS","CREATE_EVENTS","VIEW_OBJECTS","EDIT_OBJECTS","CREATE_OBJECTS","VIEW_SCHEMES","EDIT_SCHEMES","CREATE_SCHEMES","VIEW_SEATS","EDIT_SEATS","CREATE_SEATS","VIEW_TICKETS","EDIT_TICKETS","CREATE_TICKETS","VIEW_TRIBUNES","EDIT_TRIBUNES","CREATE_TRIBUNES","VIEW_VARIANTS","EDIT_VARIANTS","CREATE_VARIANTS","VIEW_CAMERAS","EDIT_CAMERAS","CREATE_CAMERAS","VIEW_CAMERA_SERVERS","EDIT_CAMERA_SERVERS","CREATE_CAMERA_SERVERS","VIEW_ENGINES","EDIT_ENGINES","CREATE_ENGINES","VIEW_OFFLINE_SERVERS","EDIT_OFFLINE_SERVERS","CREATE_OFFLINE_SERVERS","VIEW_PALMS","EDIT_PALMS","CREATE_PALMS","VIEW_PALM_SCHEME_DATA","EDIT_PALM_SCHEME_DATA","CREATE_PALM_SCHEME_DATA","VIEW_PASSAGES","EDIT_PASSAGES","CREATE_PASSAGES","VIEW_DETECTORS","EDIT_DETECTORS","CREATE_DETECTORS","VIEW_DEVICE_CATEGORIES","EDIT_DEVICE_CATEGORIES","CREATE_DEVICE_CATEGORIES","VIEW_ENTRANCES","EDIT_ENTRANCES","CREATE_ENTRANCES","hasAuthorityWithGivenPermissions","authority","permissions","permissionSet","mapAuthorityToRequiredPermissions","reqPerms","useHasAuthority","usePermissions","SelectWithPaginationInput","allowEmpty","createLabel","createValue","emptyText","emptyValue","onCreate","optionValue","paginationProps","useChoices","getChoiceText","getChoiceValue","touched","submitError","renderEmptyItemOption","renderMenuItemOption","choice","newItem","useSupportCreateSuggestion","getCreateItem","handleChangeWithCreateSupport","ResettableTextField","FieldTitle","clearAlwaysVisible","InputHelperText","createItem","renderCreateItem","Pagination","disableValue","actionColumnsWithoutPadding","LastEvents","hasAuthority","FunctionField","EventDateField","toDateString","DateField","getHours","getMinutes","showTime","EventGrid","compactMode","smallScreen","rowClick","EventFilters","TextInput","SelectInput","ReferenceInput","rowsPerPageOptions","EventList","getContrastColor","hexcolor","convertedColor","createStyles","verticalAlign","mobileContainer","alignSelf","mobileIcon","DateFilterInput","xSmallScreen","defaultFromDate","now","setHours","defaultToDate","dateFrom","setDateFrom","dateTo","setDateTo","convertedDate","toJSON","VCenterGrid","Grid","VHCenterGrid","labelRightIcon","smallIcon","mediumIcon","largeIcon","alignIcon","useSmallVersion","useSmallVersionBreakpoint","restProps","video","dialogContent","DraggableComponent","nodeRef","DashboardItem","CameraPreviewDialog","startDate","cameraData","useShowContext","playerRef","setJobId","streamName","setStreamName","showPlayer","setShowPlayer","streamLoaded","setStreamLoaded","maxRetriesLeft","setMaxRetriesLeft","streamInfo","streamFile","closeStream","handleClose","onHlsDataLoaded","handleTimeout","Dialog","PaperComponent","DialogActions","DialogContent","autoPlay","muted","controls","OpenCameraPreviewDialogButton","dialogOpen","setDialogOpen","BookingButton","ShowButton","LogExpand","noBooking","noCamera","xs","Divider","LogBody","rowStyle","expand","TableBody","DatagridRow","hour","minute","second","LogHeader","DatagridHeader","sortable","LogFilters","LogList","listProps","isRowExpandable","INACTIVE_COMPONENTS_KEY","textAlign","letterSpacing","lastLogs","TicketFinder","CustomerFinder","LastLogs","ResourceContextProvider","Dashboard","inactiveComponents","isItemActive","inactiveItems","titleTypographyProps","TICKET_FINDER","LAST_EVENTS","CUSTOMER_FINDER","LAST_LOGS","compsContainer","DashboardItemSwitch","dashboardItem","FormControlLabel","control","checked","labelPlacement","DashboardCustomization","Configuration","ButtonGroup","EditRowContext","getTableClickEventPosition","column","td","closest","tr","parentNode","columns","row","tbody","rows","visibility","emptyObject","EditableRow","mutationMode","isEdit","setEdit","openEditMode","closeEditMode","useUpdate","defaultOnSuccess","defaultOnFailure","useSaveModifiers","onFailure","onSuccess","onSuccessRef","setOnSuccess","onFailureRef","setOnFailure","transformRef","setTransform","save","onSuccessFromSave","onFailureFromSave","transformFromSave","CRUD_UPDATE","saveContext","rowContext","SaveContextProvider","quitEditMode","CreateRowContext","EditableDatagridCreateForm","createForm","hasStandaloneCreateForm","isStandaloneCreateFormVisible","closeStandaloneCreateForm","useCreate","hideCreateForm","CRUD_CREATE","createFormElement","selectable","EditableDatagridBody","isRowSelectable","editForm","rowIndex","EditableDatagridRow","rowEven","rowOdd","clickableRow","selected","muiName","AccessDateTypes","CancelEditButton","CancelIcon","AddIcon","DeleteWithConfirmIconButton","confirmTitle","confirmContent","redirectTo","mode","getMutationMode","useDeleteWithConfirmController","handleDialogOpen","handleDialogClose","handleDelete","ActionDelete","DeleteWithUndoIconButton","useDeleteWithUndoController","DeleteRowButton","EditRowButton","ContentCreate","InlineCreateButton","SaveRowButton","dirty","evt","stopPropagation","ContentSave","ActionsColumn","noDelete","EditableDatagrid","useDatagridStyles","setShowStandaloneCreateForm","openStandaloneCreateForm","isInListView","datagridBody","Datagrid","actionColumn","RowForm","useSaveContext","Form","onSubmit","TableRow","TableCell","ExpandRowButton","Checkbox","cellClassName","MappedChipField","mappedValue","Labeled","Chip","MobilePostPagination","nbPages","Math","ceil","AccessList","URLSearchParams","ToggleType","ParameterizedCreateButton","searchParams","_scrollToTop","scrollToTop","formClassName","headerClassName","linkType","sortByOrder","CheckboxField","checkBySource","RelationTab","attachMethod","detachMethod","attachRequestPayload","detachRequestPayload","refetchListAfterChange","relationsRequestMethod","relationsRequestPayload","relationsMapper","filterDefaultValues","recordResource","useQuery","relationsDto","refetchRelationsIds","relations","handleAttach","idsToAttach","handleDetach","idsToDetach","isAttached","relatedRecordId","Actions","refetchList","getFilteredRelatedRecordsIds","handleAttachAll","handleDetachAll","AttachedCheckbox","tableLayout","RelationTabFilter","filterProps","BooleanInput","deactivateMutation","UPDATE","activateMutation","activationButtonInitialState","toggleActivationButtonReducer","mutateQuery","AccessUsingActivationButton","accessUsing","mutationLoading","PowerOff","Power","ShowTitle","GeneralActions","access","EditButton","AccessDetailsTab","displayActions","SimpleShowLayout","NO_LIMIT","AccessDateExpand","accessDate","justify","NumberField","AccessDatesList","predefinedAccessId","EditForm","editProps","DateTimeInput","NumberInput","AccessDatesTab","AccessUsingsExpand","AccessUsingsGrid","AccessUsingsList","AccessUsingsTab","accessUsingsTicketsIdsFilter","selectedAccess","AccessTabs","RelationFilters","TabbedShowLayout","Tab","AccessShow","blockMutation","ticketDetails","CREATE","unblockMutation","activeAccessUsingIds","UPDATE_MANY","blockAccessButtonInitialState","DISABLED","toggleAccessButtonReducer","BLOCK","UNBLOCK","ToggleBookingAccessButton","useQueryWithStore","GET_MANY","GET_ONE","blockTicketButtonInitialState","toggleTicketButtonReducer","mutateParam","ADMIN","ToggleBookingBlockadeButton","inactiveTicketCode","textDecorationColor","BookingTicketCreate","BookingTicketEdit","day","month","year","BookingTicketsGrid","BookingTickets","Filters","BookingLogsView","ProfileDetailsView","AccessDetailsView","startIcon","newQueryParams","StatusButtons","BookingHeader","m","paragraph","BookingView","BookingTabs","BookingShow","CreateToolbar","ListButton","validateAccessCreate","Number","isNaN","CreateTitle","AccessCreate","defaultChecked","validateAccessEdit","EditTitle","EditToolbar","AccessEdit","QuickFilter","AccessFilters","validateVariantCreate","VariantCreate","validateVariantEdit","VariantEdit","VariantsFilters","VariantList","VariantTabs","VariantShow","validateCustomerCreate","CustomersCreate","validateCustomerEdit","CustomerEdit","MaskField","properRecord","word","threshold","firstChars","lastChars","restCharsLength","repeat","maskMiddlePart","CustomerGrid","smallDevice","CustomerFilters","CustomerList","CustomerDetailsTab","BookingsList","BookingsTab","LogsTab","CustomerTabs","bookingPresent","CustomerDetailsView","renderSwitcherIcon","switcherIcon","showLine","isLeaf","HourglassEmptyOutlinedIcon","InsertDriveFileOutlinedIcon","switcherCls","IndeterminateCheckBoxOutlinedIcon","AddBoxOutlinedIcon","useRcTreeStyles","fontVariant","lineHeight","fontFeatureSettings","outline","animation","animationFillMode","borderCollapse","borderTop","animationName","borderTopColor","borderBottomColor","borderRight","transitionTimingFunction","motion","motionName","motionAppear","onAppearStart","onAppearActive","scrollHeight","onLeaveStart","offsetHeight","onLeaveActive","NodeTitle","nodeActions","menuButton","Tree","checkable","treeRef","RcTree","nodeProps","titleRender","rcTreeMotion","useGetTree","res","fetchStatus","FETCH_END","useGetRootNodes","useMoveAsNthChildOf","useMoveAsNthSiblingOf","useGetTreeCallback","getRCTreeDatum","treeRecord","titleField","new_node_title","getRecordTree","treeRecords","treeRecordsById","childRecordIds","rootRecords","addChildren","useTreeController","hideRootNodes","lazy","treeState","rootNodesState","newNodeTitle","rcData","recordTree","rootNode","getRCTree","expandedKeys","refreshTree","handleDrop","dropKey","eventKey","dragKey","dragNode","dropPos","pos","dropPosition","dataById","dragObject","targetObject","successSideEffect","dropToGap","targetPosition_1","loop_1","handleExpand","nodeIds","changeExpandedNodes","useDeleteBranch","useDeleteBranchWithConfirmController","DeleteMenuItemWithConfirmation","useDeleteBranchWithUndoController","DeleteMenuItemWithUndo","DeleteMenuItem","HardwareVersions","NodeActions","MoreVertIcon","useGetChildNodesCallback","TreeWithDetails","allowMultipleRoots","edit","linkTo","DefaultNodeActions","show","matches","exec","idInLocation","defaultSelectedKeys","canCreateNode","cardTree","cardContentTree","treeData","onDrop","onExpand","treeNode","selectedKeys","loadData","sanitizeRestProps","actionCard","routeProps","WithPermissions","decodeURIComponent","permission","useAddRootNode","useAddChildNode","useCreateNodeController","useCheckMinimumRequiredProps","isChild","recordToUse","createRoot","savingRoot","createChild","savingChild","newNode","resourceName","CreateNode","CreateContextProvider","CreateView","validateDeviceCategoryCreate","DeviceCategoryCreate","NodeEditActions","ContentAdd","defaultActions","EditNode","useEditController","EditContextProvider","EditView","validateDeviceCategoryEdit","DeviceCategory","DeviceCategoryEdit","ShowNode","ShowView","useShowController","category","DeviceCategroy","DeviceCategoryShow","DeviceCategoryList","DeviceModuleTypes","validateDetectorCreate","Detector","MODULO5","DetectorCreate","validateDetectorEdit","DetectorEdit","Multiplicities","moduleObject","moduleMapper","moduleType","module","typeId","moduleTypeEnum","moduleObjectWithId","moduleHeaderBase","borderTopRightRadius","moduleDetailsBase","borderBottomRightRadius","simpleShowLayoutWithNoVerticalPadding","defaultModuleHeader","success","borderRightColor","borderLeftColor","defaultModuleDetails","terminatedModuleHeader","terminatedModuleDetails","previewedDeviceOk","previewedDeviceError","LastRefreshError","lastRefresh","valueOf","ModuleStatusBase","moduleInfo","disableAliasHeader","convertedSerialNumber","serialNumber","originalProductionVersion","productionVersion","convertedProductionVersion","convertedModuleInfo","Body","childrenProps","md","RecordContext","ModuleStatus","fireAlarms","TableContainer","Table","TableHead","allPortsStates","forwardStatus","backwardStatus","fireAlarm","BooleanField","fireAlarmType","powerTurnedOn","freePassForward","freePassBackward","keyLock","tamperLock","directionReversed","turnstileControllerError","ledsColor","bgcolor","isPresenterActive","standbyMode","sensorId","scannerError","mifareError","flashError","sdCardError","licenceError","scannerFirmwareError","contentType","contentNumber","contrast","temperature","humidity","move","fan","heater","moveSensorTimeout","MultiModuleStatus","DeviceStatusesTab","jsonStatus","rawJsonStatus","modules","camelcaseKeys","deep","DeviceStatusesPreview","CheckIfAnyModuleHasError","DetectorFilters","DetectorGridExpand","DetectorList","detectorError","CheckLastRefresh","detectorWarning","detector","DetectorTabs","DetectorShow","validateEngineCreate","EngineCreate","SINGLE","validateEngineEdit","Engine","useEditContext","stanbyMode","EngineEdit","EngineFilters","EngineGridExpand","EngineGrid","engineError","engineWarning","EngineList","StanbyMode","lockMutation","engineId","unlockMutation","engineLockButtonInitialState","engineLockButtonReducer","dialogProperty","ConfirmDialog","confirm","SetTSCanCredentialsDialog","loginValue","setLoginValue","useStateRef","loginError","setLoginError","loginErrorCurrentValue","loginErrorText","setLoginErrorText","passwordValue","setPasswordValue","passwordError","setPasswordError","passwordErrorCurrentValue","passwordErrorText","setPasswordErrorText","confirmOpen","setConfirmOpen","handleSetTSCanCredentials","autoComplete","SetStandbyModeDialog","setValue","handleSetStandbyMode","ALWAYS_ON","ALWAYS_OFF","SENSOR","EngineLockDialog","setLockName","handleLock","errorText","setErrorText","EngineLockButton","lockDialogOpen","setLockDialogOpen","unlockDialogOpen","setUnlockDialogOpen","EngineRemoveTSCanCredentialsButton","removeTSCanCredentialsDialogOpen","setRemoveTSCanCredentialsDialogOpen","handleRemoveTSCanCredentials","EngineSetTSCanCredentialsButton","tsCanCredentialsModalOpen","setTSCanCredentialsModalOpen","EngineStandbyModeButton","standbyModeDialogOpen","setStandbyModeDialogOpen","EngineTabs","EventsFilters","EntrancesFilters","EngineShow","validatePalmCreate","PalmCreate","validatePalmEdit","Palm","PalmEdit","PalmFilters","PalmGridExpand","PalmGrid","palmError","palmWarning","PalmList","setIdMutation","resetIdMutation","palmDeviceIdButtonInitialState","RESETID","palmDeviceIdButtonReducer","SETID","PalmDeviceIdDialog","deviceId","setDeviceId","PalmLockDialog","PalmDeviceIdButton","setDeviceIdDialogOpen","setSetDeviceIdDialogOpen","resetDeviceIdDialogOpen","setResetDeviceIdDialogOpen","SPOM4Directions","palmLockButtonInitialState","palmLockButtonReducer","PalmLockButton","PalmTabs","PalmShow","SPOM4FullAddressField","addressParts","SPOM4IpGateAddressField","SPOM4FullAddressInput","initialAddressParts","ipGate","setIpGate","tscanHost","setTScanHost","setDirection","rs485Address","setRS485Address","getFinalValue","validatePassageCreate","SPOM4","spom4_ipGate","spom4_tscanHost","spom4_direction","spom4_rs485Address","PassageCreate","setHardwareVersion","defaultValues","validatePassageEdit","Passage","PassageEdit","PassageFilters","PassageGridExpand","PassagesGrid","passageError","passageWarning","PassagesList","passageId","PassageRemoveTSCanCredentialsButton","PassageDirections","resetMutation","passageResetCountersButtonInitialState","passageResetCountersButtonReducer","RESET","PassageResetCountersButton","resetDialogOpen","setResetDialogOpen","countersEmpty","CameraTypes","turnOffMutation","freePassState","OUT","turnOnMutation","passageSetFreePassBackwardButtonInitialState","OFF","passageSetFreePassBackwardButtonReducer","ON","PassageSetFreePassBackwardButton","confirmDialogOpen","setConfirmDialogOpen","FreePassBackward","handleFreePass","passageSetFreePassForwardButtonInitialState","passageSetFreePassForwardButtonReducer","PassageSetFreePassForwardButton","FreePassForward","lockState","passageSetLockButtonInitialState","passageSetLockButtonReducer","PassageSetLockButton","TamperLock","powerState","passageSetPowerButtonInitialState","passageSetPowerButtonReducer","PassageSetPowerButton","PowerTurnedOn","handlePower","ppozState","passageSetPPOZButtonInitialState","passageSetPPOZButtonReducer","PassageSetPPOZButton","FireAlarm","handleFireAlarm","PassageSetTSCanCredentialsButton","generalActions","CountersActions","CountersTab","SetStateActions","PassageTabs","PassageShow","validateEntranceCreate","EntranceCreate","validateEntranceEdit","EntranceEdit","EntranceFilters","EntranceList","EntranceTabs","DevicesFilters","verifierDevicesIds","EntranceShow","validateEventCreate","RelationInputTab","sourceProperty","relationsIds","listSort","listColumns","EventCreate","TabbedForm","FormTab","validateEventEdit","EventEdit","IN_TRANSITION","StatusTransitionDialog","handleSkipDialog","DialogContentText","ToggleActivationButton","transitionDialogOpen","setTransitionDialogOpen","skipTransitionDialog","setSkipTransitionDialog","waitingForJobStart","setWaitingForJobStart","EventTabs","companiesIds","EventShow","validateBlockCreate","BlockCreate","objectIdRaw","required","BlocksGrid","EmptyView","BlocksList","validateObjectCreate","ObjectCreate","validateObjectEdit","ObjectEdit","ListFilters","ObjectGrid","ObjectList","SeatsGrid","SeatsList","TribuneGrid","TribunesList","ObjectShowTitle","ObjectShow","validateSeatCreate","SeatCreate","validateTribuneCreate","TribuneCreate","noBottomBorder","quarterWidth","ViewTitle","BlockGrid","firstColumnEntries","secondColumnEntries","thirdColumnEntries","TribuneHeader","ArrayField","OverallView","OverallViewGrid","OverallViewFilters","OverallViewList","TicketExpand","TicketGrid","TicketFilters","TicketList","validateAccessDateCreate","AccessDateCreate","accessIdRaw","CompanyFilters","CompanyGrid","CompanyList","validateUserCreate","UserCreate","validateUserEdit","UserEdit","CompanyEvents","CompanyUserCreate","CompanyUserEdit","CompanyUsersGrid","CompanyUsers","CompanyShow","RolesFilters","RolesGrid","RoleList","RoleUsers","RoleTabs","PermissionsFilter","permissionsIds","RoleShow","UsersFilters","UsersGrid","UserList","ChangePasswordDialog","user","handleChangeUserPassword","ChangePasswordButton","UserRoles","rolesIds","records","UserShow","validateCompanyEdit","CompanyEdit","validateCompanyCreate","CompanyCreate","validateRoleEdit","RoleEdit","CameraFilters","CameraGrid","CameraList","CameraServerFilters","CameraServerGrid","CameraServerList","validateCameraCreate","desciption","Camera","RTSP","CameraCreate","validateCameraServerCreate","CameraServer","CameraServerCreate","validateCameraServerEdit","server","CameraServerEdit","validateCameraEdit","CameraEdit","SetCredentialsDialog","cameraServer","handleSetCredentials","cameraServerId","CameraServerSetCredentialsButton","credentialsModalOpen","setCredentialsModalOpen","CameraServerRemoveCredentialsButton","removeCredentialsDialogOpen","setRemoveCredentialsDialogOpen","handleRemoveCredentials","ServerCameraCreate","ServerCameraEdit","ServerCamerasGrid","ServerCamerasTab","CameraServerTabs","CameraServerShow","CameraTabs","CameraShow","STATIC_ENTRIES_KEY","TRANSITIONAL_STATIC_ENTRIES_KEY","STATIC_VALUE_ID","primarySelectChoices","choicesReducer","columnNames","columnName","csvDataInitialState","previewRows","csvData","csvDataReducer","aggregate","rawCsvData","transitionalStaticFieldsResolver","mappings","transitionalStaticEntries","restMappings","resolvedStaticEntries","staticEntries","resolvedEntries","entryKey","entryValue","resolveTransitionalStaticEntriesLeftovers","restMappingsWithoutStaticEntries","restMappingsWithoutUnresolvedKeys","applyMappingsToCsvData","mappedDataCollector","csvRecord","mappedRecord","mappedRecordCollector","mappingKey","csvKey","applyMappingsToRecord","processCsvFile","importedFile","rej","skipEmptyLines","complete","results","processCsvData","targetModelEntries","fromEntries","fitContent","cellOverflow","columnWidth","columnPadding","ImportCsvPreview","columnIdx","rowIdx","cell","cellIdx","ImportView","createControllerProps","useCreateController","ImportCsvButton","refInput","csvDataDispatcher","fileName","setFileName","onFileAdded","files","processedCsvData","click","accept","ml","ImportBase","columnNamesDispatcher","formValuesMapper","formMappings","processedMappings","processedData","mappedData","mt","spacingLeft","Import","selectFields","customMapper","additionalFields","dispatchColumnNames","initialFormValues","setInitialFormValues","fieldNames","formValues","resolvedMappings","fieldName","fieldRequired","FormDataConsumer","formData","restFormDataProps","resettable","TicketImport","DYNAMIC","generateResourcesBasedOnPermissions","Resource","ReceiptIcon","ViewComfyIcon","dashboardReducer","App","env","fakeAuthProvider","fakeDataProvider","providersFactory","customRoutes","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lng","use","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","pl","translation","plTranslation","enTranslation","ReactDOM","StrictMode","getElementById"],"mappings":"qz9CAIWA,EAAqBC,6BAAcC,GCJnCC,EAA0B,c,iBCAjCC,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAKrBQ,EAAwB,WAI/B,YAH6BjB,GAAzBkB,IACAA,EAAwBC,KAErBD,EAAwBE,OAAOC,aAAeC,GAqB9CC,EAAc,SAAUC,GAC/B,IAAIC,EAAcC,KAAKC,MAAMV,IAAwBW,QAAQ3B,KACzD,GACJ,OAAIuB,EACOK,EAASC,IAAIL,EAAaD,IAE7BK,EAASJ,IAAgB,IA4B1BM,EAAe,SAAUP,EAAKQ,GACrC,IAAIC,EAAUhB,IACd,IACI,IAAIQ,EAAcC,KAAKC,MAAMM,EAAQL,QAAQ3B,KAA6B,GACtEiC,EAAyB,KAARV,EAAaQ,EAAQG,IAAIjC,EAAS,GAAIuB,GAAcD,EAAKQ,GAG9E,OAFAC,EAAQG,QAAQnC,EAAyByB,KAAKW,UAAUH,IACxDd,OAAOkB,cAAcC,EAAmBC,OAAON,IACxCA,EAEX,MAAOO,GACH,GAAIA,aAAeC,WACfD,EAAIE,QAAQC,SAAS,sBACrB,MAAM,IAAIF,UAAU,mNAIxB,MAAMD,IAOVvB,OAAwBlB,EACxBiC,EAAU,GACVX,EAAgB,CAChBM,QAAS,SAAUJ,GACf,OAAOM,IAAIG,EAAST,IAExBY,QAAS,SAAUZ,EAAKQ,GACpBG,IAAIF,EAAST,EAAKQ,KAGtBH,EAAW,SAAUG,GACrB,IACI,OAAON,KAAKC,MAAMK,GAEtB,MAAOa,GACH,OAAOb,IAGXb,EAAmB,WACnB,QAA2BnB,GAAvBoB,OAAOC,aACP,OAAO,EAEX,IAGI,OAFAD,OAAOC,aAAae,QAAQ,OAAQ,QACpChB,OAAOC,aAAayB,WAAW,SACxB,EAEX,MAAOD,GACH,OAAO,IAGJN,EAAqB,CAC5BQ,UAAW,sBACXP,OAAQ,SAAUQ,GACd,OAAO,IAAIC,YAAYV,EAAmBQ,UAAW,CACjDG,OAAQF,MChCTG,EAAiB,SAAU3B,EAAK4B,QAC3B,IAAR5B,IAAkBA,EAAM,IAC5B,IAAIqB,EAAKQ,oBAAS,WACd,IAAIC,EAAc/B,EAAYC,GAC9B,MAA8B,qBAAhB8B,EAA8BF,EAAeE,KAC3DC,EAAaV,EAAG,GAAIW,EAAmBX,EAAG,GAC1CY,ECnGgDC,qBAAW5D,GDoG3D6D,EAAsB,SAAUC,GAKhC,IAAIC,EAAW/B,IAAI8B,EAAMV,OAAQ1B,GAEjCgC,EAAiBK,IAEjBC,EAAuB,SAAUF,GACjC,GAAIA,EAAMpC,MAAQvB,EAAlB,CAMA,IAAIwB,EAAcC,KAAKC,MAAMiC,EAAMC,UAC/BA,EAAW/B,IAAIL,EAAaD,GAEhCgC,EAAiBK,KAGrBE,qBAAU,WACN,IAAIT,EAAc/B,EAAYC,GAC9BgC,EAAwC,qBAAhBF,EAA8BF,EAAeE,KACtE,CAAC9B,IACJuC,qBAAU,WAGN3C,OAAO4C,iBAAiBzB,EAAmBQ,UAAWY,GAEtDvC,OAAO4C,iBAAiB,UAAWF,GACnC,IAAIG,EAAwE,OAA7DhD,IAAwBW,QAAQ3B,GAK/C,YAHqBD,IAAjBoD,GAA8Ba,GAC9BlC,EAAaP,EAAK4B,GAEf,WACHhC,OAAO8C,oBAAoB3B,EAAmBQ,UAAWY,GACzDvC,OAAO8C,oBAAoB,UAAWJ,MAE3C,CAACtC,IACJ,IAAI2C,EAAaC,uBAAY,SAAUpC,GACnC,IAAIqC,EAAe9C,IACf+C,EAAOvC,EAAaP,EAAKQ,GAEzByB,GACAA,EAAmBc,kBAAkBD,EAAMD,KAEhD,CAAC7C,EAAKiC,IACT,MAAO,MAAgBzD,IAAfuD,EAA2BH,EAAeG,EAAYY,IE5J9DjE,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,EAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAIPwE,EAAuB,SAAUC,GAAQ,MAAQ,CACjDC,QAAS,CAAED,KAAMA,KAmBVE,EAAgC,SAAUnC,GACjD,IAAIoC,EAAWpC,EAAGoC,SAAUC,EAAKrC,EAAGsC,cAAeA,OAAuB,IAAPD,EAAgBL,EAAuBK,EAAIE,EAAOZ,EAAO3B,EAAI,CAAC,WAAY,kBACzIiC,EAAO3B,EAAe,QAAS,SAAS,GACxCkC,EAAQC,mBAAQ,WAAc,OAAOH,EAAcL,KAAU,CAACA,IAElE,IAAKS,yBAAeN,GAChB,MAAM,IAAIO,MAAM,iEAEpB,OAAOC,uBAAaR,EAAU/E,EAAS,CAAEmF,MAAOA,GAASD,K,8DC1BlDM,EAAoB,WAC3B,IAAIC,EAAYC,cACZ/C,EAAKM,EAAe,QAAS,SAAUkC,EAAQxC,EAAG,GAAIgD,EAAWhD,EAAG,GAIpEiD,EAAmBH,EAAU,qCAAsC,CACnEI,EAAG,iBAEP,OAAQC,IAAMC,cAAcC,IAAS,CAAEC,MAAOL,EAAkBM,WAAY,KACxEJ,IAAMC,cAAcI,IAAY,CAAEC,MAAO,UAAWC,QAP1B,WAC1BV,EAAmB,UAAVR,EAAoB,OAAS,UAMgD,aAAcS,GAA8B,UAAVT,EAAoBW,IAAMC,cAAcO,IAAiB,MAAQR,IAAMC,cAAcQ,IAAiB,S,wFCT3NC,EAAmB,SAAU7D,GACpC,IAAI8D,EAAY9D,EAAG8D,UAAWzB,EAAKrC,EAAG+D,gBAAiBA,OAAyB,IAAP1B,EAAgB,GAAKA,EAC1F2B,EAAUC,IACVC,EAAKf,IAAM3C,SAAS,MAAO2D,EAAWD,EAAG,GAAIE,EAAcF,EAAG,GAC9DG,EAASC,cACTC,ECD+B,SAAUC,GAC7C,IAAID,EAAYE,cACZzE,EAAKM,EAAe,SAAUkE,GAAgBH,EAASrE,EAAG,GAAI0E,EAAyB1E,EAAG,GAO9F,OALAkB,qBAAU,WACFmD,GACAE,EAAUF,KAEf,CAACA,EAAQE,IACLhD,uBAAY,SAAU8C,GACzBE,EAAUF,GACVK,EAAuBL,KACxB,CAACE,EAAWG,IDXCC,GAMZC,EAAe,SAAUP,GAAU,OAAO,WAC1CE,EAAUF,GACVD,EAAY,QAQhB,OAAQjB,IAAMC,cAAcD,IAAM0B,SAAU,KACxC1B,IAAMC,cAAc0B,IAAQ,CAAErB,MAAO,UAAW,gBAAiB,cAAe,gBAAiB,OAAQC,QAPnF,SAAU3C,GAChCqD,EAAYrD,EAAMgE,iBAOd5B,IAAMC,cAAc4B,IAAc,MAClC7B,IAAMC,cAAc,MAAO,CAAE6B,UAAWjB,EAAQkB,mBAlBjC,SAAUb,GAC7B,IAAIc,EAAWrB,EAAUsB,MAAK,SAAUD,GAAY,OAAOA,EAASd,SAAWA,KAC/E,OAAOc,EAAWA,EAASE,KAAOtB,EAgBuCuB,CAAiBjB,IACtFlB,IAAMC,cAAcmC,IAAgB,CAAEC,SAAU,WACpDrC,IAAMC,cAAcqC,IAAM,CAAEC,GAAI,cAAevB,SAAUA,EAAUwB,aAAa,EAAMC,KAAMC,QAAQ1B,GAAW2B,QARjG,WACd1B,EAAY,QAO2HN,EAAUiC,KAAI,SAAUZ,GAAY,OAAQhC,IAAMC,cAAc4C,IAAU,CAAErH,IAAKwG,EAASd,OAAQX,QAASkB,EAAaO,EAASd,SAAWc,EAASE,YAEhSpB,EAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD0C,kBAAmB,CACfgB,WAAY1D,EAAM2D,QAAQ,Q,gBEjCvBC,EAA4B,WACnC,IAAIC,EAAuBC,aAAY,SAAUC,GAAS,OAAOA,EAAMC,MAAMC,GAAGC,eAC5E1G,EAAKM,EAAe,kBAAmBqG,EAAc3G,EAAG,GAAI4G,EAAiB5G,EAAG,GAChF6G,EAAWC,cACXC,EAAWC,mBAkCf,OAjCA9F,qBAAU,WAC0B,qBAArB6F,EAASE,SAEhBF,EAASE,QACkB,qBAAhBN,EACDA,EACAN,EACiB,qBAAhBM,GACPA,IAAgBN,GAEhBQ,EAASK,YAAqBP,KAI9BI,EAASE,UAAYZ,EAEjBM,IAAgBN,IAEhBO,EAAeP,GACfU,EAASE,QAAUZ,QAKJlJ,GAAfwJ,GACAA,IAAgBN,IAEhBQ,EAASK,YAAqBP,IAC9BI,EAASE,QAAUN,KAIhC,CAACE,EAAUF,EAAaC,EAAgBP,IACpC,M,2FChCKJ,aAAW,SAAUzD,GAAS,MAAQ,CAClD2E,iBAAkB,CACdC,OAAQ5E,EAAM2D,QAAQ,GAAK,MAAQ3D,EAAM2D,QAAQ,GAAK,U,6GCvB9CF,YAAW,CACvBoB,SAAU,CACNC,YAAa,OAEjBC,aAAc,CACVH,OAAQ,K,8ECHAnB,aAAW,SAAUzD,GAAS,MAAQ,CAClDgF,aAAc,CACVC,SAAU,WACVC,IAAK,SACLC,MAAO,GAEXC,gBAAiB,CACbH,SAAU,WACVC,IAAK,SACLC,MAAO,EACPlE,MAAOjB,EAAMN,QAAQ2F,OAAOC,UAEhCC,eAAgB,CACZC,WAAY,SACZC,QAAS,OACTC,UAAW1F,EAAM2D,QAAQ,IAE7BgC,UAAW,CACPC,YAAa5F,EAAM2D,QAAQ,QA2EGkC,K,yCCnEtBpC,YAAW,CACvBqC,KAAM,CAAEL,QAAS,iBAClB,CAAE5C,KAAM,mBCZKY,YAAW,CACvBsC,OAAQ,GACRC,KAAM,IACP,CAAEnD,KAAM,a,qCC7BAoD,GAA2BvL,6BAAcC,GCCzCuL,GAAuB,WAC9B,OAAO7H,qBAAW4H,KCElBE,GAAUC,eACHC,GAAoB,SAAUC,GACrC,IAAI1G,EAAW0G,EAAM1G,SACjB2G,EAAaL,KAAuBK,WAOxC,OANA7H,qBAAU,WAEN,OADA6H,EAAWJ,IACJ,WACHI,EAAW,SAEhB,CAACA,IACI5F,gBAAoB6F,KAAQ,CAAEL,QAASA,IAC3CxF,gBAAoB8F,KAAO,CAAEC,KAAM,IAAKC,OAAQ,WAAc,OAAO/G,O,0CCTlEgH,GAA+B,SAAUN,GAChD,IAAIxF,EAAQwF,EAAMxF,MACdU,EAAUC,GAAU6E,GACpBhG,EAAYC,cACZ/C,EAAK0I,KAAwBW,EAAUrJ,EAAGqJ,QAASV,EAAU3I,EAAG2I,QAASW,EAAYtJ,EAAGsJ,UAS5F,OAAQnG,gBAAoBoG,KAAa,CAAEtE,UAAWjB,EAAQsE,KAAM5C,GAAI,kCAAmC8D,mBAAmB,KACxHb,GAAYxF,gBAAoBK,IAAY,CAAEiG,KAAM,QAAS,aAAc3G,EAAU,kBAAmBmC,UAAWjB,EAAQ0F,WAAYhG,QATvH,WACgB,MAA9BiF,EAAQgB,SAASC,SACjBjB,EAAQkB,SAGRP,EAAU,QAKVnG,gBAAoB2G,KAAU,OAClC3G,gBAAoB4G,KAAY,CAAEC,MAAO,SAAUvG,MAAO,mBAAqBH,GAASR,EAAUQ,EAAO,CAAEJ,EAAGI,KAC9GH,gBAAoBK,IAAY,CAAE,aAAcV,EAAU,mBAAoBmC,UAAWjB,EAAQiG,YAAavG,QAAS2F,EAASI,KAAM,SAClItG,gBAAoB+G,KAAW,SAEvCjG,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF6B,OAAQ,OACRC,QAAS5H,EAAM2D,QAAQ,MAE3BuD,WAAY,CACRjC,SAAU,WACV4C,KAAM7H,EAAM2D,QAAQ,GACpBuB,IAAKlF,EAAM2D,QAAQ,KACnB1C,MAAOjB,EAAMN,QAAQoI,KAAK,MAE9BL,YAAa,CACTxC,SAAU,WACVE,MAAOnF,EAAM2D,QAAQ,GACrBuB,IAAKlF,EAAM2D,QAAQ,GACnB1C,MAAOjB,EAAMN,QAAQoI,KAAK,SAE3B,CACHjF,KAAM,sB,uEC5CCkF,GAAiCrN,wBAAc,MCC/CsN,GAAc,SAAUxK,GAC/B,IAAIsD,EAAQtD,EAAGsD,MACXmH,EAAW5J,qBAAW0J,IAAgCE,SAI1D,OAHAvJ,qBAAU,WACNuJ,EAASnH,KACV,CAACA,EAAOmH,IACJ,M,8BCRPpN,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B8M,GAAgD,SAAUC,EAAIC,GAC9D,IAAK,IAAIlN,EAAI,EAAGmN,EAAKD,EAAK/M,OAAQiN,EAAIH,EAAG9M,OAAQH,EAAImN,EAAInN,IAAKoN,IAC1DH,EAAGG,GAAKF,EAAKlN,GACjB,OAAOiN,GAaAI,GAAsB,SAAU/K,GACvC,IAAIgL,EAAQhL,EAAGgL,MAAOC,EAAWjL,EAAGiL,SAAU9L,EAAQa,EAAGb,MAAO+L,EAAWlL,EAAGkL,SAC1EC,EAAQC,GAAiBH,GAAU,GACnCI,GAAoB,OAAVF,QAA4B,IAAVA,OAAmB,EAASA,EAAME,SAAW,GACzEvI,EAAYC,cACZuI,EAAeC,GAA+BF,GAAU,IACxDG,EAAerM,GAASmM,EACxBjJ,EAAK7B,oBAAS,WACd,IAAIiL,EAAenO,OAAOoO,KAAKL,GAAQtF,KAAI,SAAU4F,GAAS,MAAQ,CAClEjG,GAAIiG,EACJtG,KAAMvC,EAAU5E,WAAM,EAAQ0N,aAA6B,CACvDZ,MAAOG,EAAME,OAAOM,GAAO7C,MAAMkC,MACjCC,SAAUA,EACVY,OAAQV,EAAME,OAAOM,GAAO7C,MAAM+C,cAS1C,OANI1M,GAASA,EAAM0C,QAAQ,OAAS,GAChC4J,EAAaK,KAAK,CACdpG,GAAIvG,EACJkG,KAAMlG,IAGPsM,KACPM,EAAU1J,EAAG,GAAI2J,EAAa3J,EAAG,GACjC4J,EAAqBC,eAoBzB,OAAQ/I,gBAAoBgJ,KAAc,CAAEC,UAAU,EAAMC,QAASN,EAAS5M,MAAOqM,EAAcN,SAnB7E,SAAUnK,EAAOuL,GACb,kBAAXA,GACPN,GAAW,SAAUO,GAAQ,OAAO7B,GAAcA,GAAc,GAAI6B,GAAO,CAAC,CAAE7G,GAAI4G,EAAQjH,KAAMiH,QAChGpB,EAASoB,IAEJA,GAAUA,EAAOE,YAEtBR,GAAW,SAAUO,GAAQ,OAAO7B,GAAcA,GAAc,GAAI6B,GAAO,CACvE,CAAE7G,GAAI4G,EAAOE,WAAYnH,KAAMiH,EAAOE,iBAE1CtB,EAASoB,EAAOE,aAEXF,GAAUA,EAAO5G,GACtBwF,EAASoB,EAAO5G,IAGhBwF,OAAS/N,IAG6GsP,cAAe,SAAUJ,EAASK,GACxJ,IAAIC,EAAWV,EAAmBI,EAASK,GAQ3C,MAN0B,KAAtBA,EAAOF,YACPG,EAASb,KAAK,CACVU,WAAYE,EAAOF,WACnBnH,KAAM,wBAA2BqH,EAAOF,WAAa,MAGtDG,GACRC,eAAe,EAAMC,aAAa,EAAMC,mBAAmB,EAAMC,YAAa,SAAUL,GAAU,OAAOvJ,gBAAoB6J,KAAW3P,GAAS,GAAIqP,EAAQ,CAAE1B,MAAOA,MAAciC,aAAc,SAAUC,GAAU,OAAOA,EAAO7H,MAAS8H,eAAgB,SAAUD,GAEtQ,MAAsB,kBAAXA,EACAA,EAGPA,EAAOV,WACAU,EAAOV,WAGXU,EAAO7H,SAGtB+H,GAA+B,CAC/B,OACA,QACA,QACA,YACA,SAEA7B,GAAiC,SAAU8B,GAC3C,IAAIC,EAAOhQ,OAAOiQ,QAAQF,GAAOjI,MAAK,SAAUoI,GAC5C,OAAOJ,GAA6BrN,SAASyN,EAAM,GAAGC,kBAE1D,GAAIH,EACA,OAAOA,EAAK,I,wCC1GhBjQ,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAMAkQ,GAAiB,SAAU1N,GAClC,IAAIgL,EAAQhL,EAAGgL,MAAOlC,EAAQnH,GAAO3B,EAAI,CAAC,UACtCgE,EAAUC,KACd,OAAQd,gBAAoBwK,KAAa,CAAEC,WAAW,EAAM3I,UAAWjB,EAAQsE,MAC3EnF,gBAAoB0K,KAAY,CAAEnI,GAAI,cAAgBsF,GACtD7H,gBAAoB2K,KAAQzQ,GAAS,CAAE0Q,QAAS,aAAcH,WAAW,GAAQ9E,GAAQkF,GAAkBjI,KAAI,SAAU9D,GAAQ,OAAQkB,gBAAoB6C,IAAU,CAAErH,IAAKsD,EAAKyD,GAAIvG,MAAO8C,EAAKyD,IAAMzD,EAAKoD,YAElN2I,GAAoBC,KAAelI,KAAI,SAAU9D,GAAQ,MAAQ,CACjEyD,GAAIzD,EACJoD,KAAMpD,MAENgC,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF4F,aAAc1L,EAAM2D,QAAQ,QCvChC9I,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAOA2Q,GAAyB,SAAUnO,GAC1C,IAAIgL,EAAQhL,EAAGgL,MAAOlC,EAAQnH,GAAO3B,EAAI,CAAC,UACtCgE,EAAUC,KACVmK,EAAY9H,YAAY+H,MACxBC,EAAmBC,eACnBC,EAAmBJ,EAAUrI,KAAI,SAAUkF,GAAY,MAAQ,CAC/DvF,GAAIuF,EAAS5F,KACbA,KAAMiJ,EAAiBrD,EAAS5F,KAAM,OAE1C,OAAQlC,gBAAoBwK,KAAa,CAAEC,WAAW,EAAM3I,UAAWjB,EAAQsE,MAC3EnF,gBAAoB0K,KAAY,CAAEnI,GAAI,cAAgBsF,GACtD7H,gBAAoB2K,KAAQzQ,GAAS,CAAEuQ,WAAW,GAAQ9E,GAAQ0F,EAAiBzI,KAAI,SAAU9D,GAAQ,OAAQkB,gBAAoB6C,IAAU,CAAErH,IAAKsD,EAAKyD,GAAIvG,MAAO8C,EAAKyD,IAAMzD,EAAKoD,YAE1LpB,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF4F,aAAc1L,EAAM2D,QAAQ,Q,UChCzBiF,GAAmB,SAAUH,EAAUwD,QACvB,IAAnBA,IAA6BA,EAAiBxD,GAClD,IAAIjL,EAAKM,EAAemO,GAAiBC,EAAgB1O,EAAG,GAAI2O,EAAmB3O,EAAG,GAClFyB,EAAO6E,aAAY,SAAUC,GAC7B,OAAOA,EAAMC,MAAM4H,UAAUnD,GACvB1E,EAAMC,MAAM4H,UAAUnD,GAAUxJ,KAChC,MAgCV,OAhBAP,qBAAU,WACN,KAAqB,MAAjBwN,GAAyBpR,OAAOoO,KAAKgD,GAAe7Q,OAAS,IAK5D4D,GAAqC,IAA7BnE,OAAOoO,KAAKjK,GAAM5D,OAA/B,CAGA,IAAIwN,EAASuD,GAAmBnN,GAChCkN,EAAiB,CACbtJ,KAAM4F,EACND,MAAOC,EACPI,OAAQA,OAEb,CAAC5J,EAAMwJ,EAAUyD,EAAeC,IAC5B,CAACD,EAAeC,IAEvBC,GAAqB,SAAUnN,GAC/B,IAAIoN,EAASC,aAAqBxR,OAAOuR,OAAOpN,IAO5C4L,EAAQ,GAWZ,OAVA/P,OAAOoO,KAAKmD,GAAQE,SAAQ,SAAUpQ,GAClC,IAAIqQ,EAAYC,aAAoBtQ,EAAKkQ,EAAOlQ,IAChD0O,EAAM1O,GAAOqQ,KAQV3B,GCrEPhQ,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAgBrBsR,GAA2B,SAAUlP,GAC5C,IAAIqC,EACAsJ,EAAQ3L,EAAG2L,MAAO8C,EAAiBzO,EAAGyO,eAAgBxD,EAAWjL,EAAGiL,SACpEnI,EAAYC,cACZmB,EAAKkH,GAAiBH,EAAUwD,GAAiBtD,EAAQjH,EAAG,GAAIiL,EAAYjL,EAAG,GAcnF,OAAQf,gBAAoBA,WAAgB,KACxCA,gBAAoBqH,GAAa,CAAElH,MAAOR,EAAU5E,WAAM,EAAQ0N,aAA6B,CACvFZ,MAAOW,EAAM7C,MAAMkC,MACnBC,SAAUA,EACVY,OAAQF,EAAM7C,MAAM+C,YAE5B1I,gBAAoBuK,GAAgB,CAAE1C,MAAO,OAAQE,SAnBlC,SAAUnK,GAC7B,IAAIf,EACJmP,EAAU9R,GAASA,GAAS,GAAI8N,GAAQ,CAAEE,OAAQhO,GAASA,GAAS,GAAI8N,EAAME,SAAUrL,EAAK,GAAIA,EAAG2L,EAAM7C,MAAM+C,QAAUxO,GAASA,GAAS,GAAIsO,GAAQ,CAAE1J,KAAMlB,EAAMqO,OAAOjQ,QAAUa,QAiBtGb,MAAOwM,EAAM1J,OAC/E,cAAf0J,EAAM1J,MAAyBkB,gBAAoBA,WAAgB,KAC/DA,gBAAoBgL,GAAwB,CAAEnD,MAAO,YAAaE,SAjBtC,SAAUnK,GAC1C,IAAIf,EACJmP,EAAU9R,GAASA,GAAS,GAAI8N,GAAQ,CAAEE,OAAQhO,GAASA,GAAS,GAAI8N,EAAME,SAAUrL,EAAK,GAAIA,EAAG2L,EAAM7C,MAAM+C,QAAUxO,GAASA,GAAS,GAAIsO,GAAQ,CAAE7C,MAAOzL,GAASA,GAAS,GAAIsO,EAAM7C,OAAQ,CAAEuG,UAAWtO,EAAMqO,OAAOjQ,UAAaa,QAe7Hb,MAAOwM,EAAM7C,MAAMuG,YAC9HlM,gBAAoB4H,GAAqB,CAAEC,MAAO,kBAAmBE,SAd5C,SAAUoE,GACvC,IAAItP,EACJmP,EAAU9R,GAASA,GAAS,GAAI8N,GAAQ,CAAEE,OAAQhO,GAASA,GAAS,GAAI8N,EAAME,SAAUrL,EAAK,GAAIA,EAAG2L,EAAM7C,MAAM+C,QAAUxO,GAASA,GAAS,GAAIsO,GAAQ,CAAEvJ,SAAU/E,GAASA,GAAS,GAAIsO,EAAMvJ,UAAW,CAAE0G,MAAOzL,GAASA,GAAS,GAAIsO,EAAMvJ,SAC/N0G,OAAQ,CAAEyG,WAAYD,QAAyBtP,QAW+CiL,SAAUU,EAAM7C,MAAMuG,UAAWlQ,MAAuC,QAA/BkD,EAAKsJ,EAAMvJ,SAAS0G,aAA0B,IAAPzG,OAAgB,EAASA,EAAGkN,gB,mBCtCxNC,GAAsB,SAAUxP,GACvC,IAAIyO,EAAiBzO,EAAGyO,eACpBzK,EAAUC,KACV5B,EAAK7B,oBAAS,GAAQoF,EAAOvD,EAAG,GAAIoN,EAAUpN,EAAG,GACjDS,EAAYC,cACZmB,EAAK5D,EAAemO,GAA4BiB,GAAPxL,EAAG,GAAeA,EAAG,IAWlE,OAAQf,gBAAoBA,WAAgB,KACxCA,gBAAoB2B,IAAQ,CAAE8I,WAAW,EAAMnE,KAAM,QAAS/F,QAXhD,WACd+L,GAAQ,IAU4ExK,UAAWjB,EAAQsE,MAAQxF,EAAU,+BAAgC,CACrJI,EAAG,oBAEPC,gBAAoBwM,KAAS,CAAEC,OAAQhK,EAAMiK,SAAS,EAAOvM,MAAO,0BAA2BwM,QAAS,GAAIC,UAR5F,WAChBL,EAAS,IACTD,GAAQ,IAM8H3J,QAXlH,WACpB2J,GAAQ,QAYZxL,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFJ,UAAW1F,EAAM2D,QAAQ,GACzB1C,MAAOjB,EAAMN,QAAQ8N,MAAMC,KAC3BC,gBAAiB1N,EAAMN,QAAQiO,WAAWC,MAC1C,UAAW,CACPF,gBAAiBG,gBAAK7N,EAAMN,QAAQ8N,MAAMC,KAAM,W,SC1CxD5S,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAMrB0S,GAAe,SAAUxH,GAChC,IAAI1G,EAAW0G,EAAM1G,SAAUuI,EAAK7B,EAAM6B,GACtC4F,EAAa9N,mBAAQ,WAErB,OAAO+N,sBAAW,SAAUC,EAAWC,GAAO,OAAQvN,gBAAoBwN,KAAYtT,GAAS,CAAEsN,GAAIA,EAAI+F,IAAKA,GAAOD,SACtH,CAAC9F,IACJ,OAAQxH,gBAAoB,KAAM,KAC9BA,gBAAoByN,KAAU,CAAErI,QAAQ,EAAMsI,UAAWN,GAAcnO,KCPpE0O,GAAsB,SAAU9Q,GACvC,IAAIiL,EAAWjL,EAAGiL,SAAU5I,EAAKrC,EAAGyO,eAAgBA,OAAwB,IAAPpM,EAAgB4I,EAAW5I,EAC5F8I,EAAQC,GAAiBH,EAAUwD,GAAgB,GACnDsC,EAAaC,eACblO,EAAYC,cACZuL,EAAmBC,eACvB,OAAKpD,GAAUA,EAAME,OAEblI,gBAAoB8N,KAAQ,KAChC3T,OAAOoO,KAAKP,EAAME,QAAQtF,KAAI,SAAU4F,GAAS,OAAQxI,gBAAoB8F,KAAO,CAAEtK,IAAK,SAAWgN,EAAOzC,KAAM6H,EAAW7H,KAAO,IAAMyC,EAAOxC,OAAQ,WAAc,OAAQhG,gBAAoB+L,GAA0B,CAAEvD,MAAOR,EAAME,OAAOM,GAAQV,SAAUA,EAAUwD,eAAgBA,UAChStL,gBAAoB8F,KAAO,CAAEC,KAAM6H,EAAW7H,KAAMC,OAAQ,WAAc,OAAQhG,gBAAoBA,WAAgB,KAC9GA,gBAAoBqH,GAAa,CAAElH,MAAOgL,EAAiBrD,EAAU,KACrE9H,gBAAoB+N,KAAM,CAAEC,OAAO,GAAQ7T,OAAOoO,KAAKP,EAAME,QAAQtF,KAAI,SAAU4F,GAAS,OAAQxI,gBAAoBmN,GAAc,CAAE3R,IAAK,QAAUgN,EAAOhB,GAAIoG,EAAW7H,KAAO,IAAMyC,GACtLxI,gBAAoBiO,KAAc,CAAEC,QAASvO,EAAU5E,WAAM,EAAQ0N,aAA6B,CAC1FZ,MAAOG,EAAME,OAAOM,GAAO7C,MACtBkC,MACLC,SAAUA,EACVY,OAAQV,EAAME,OAAOM,GAChB7C,MAAM+C,iBAEvB1I,gBAAoBqM,GAAqB,CAAEf,eAAgBA,SAb5D,MCbJ6C,GAAwB,WAC/B,IAAI7P,EAAO6E,YAAY+H,MACnBC,EAAmBC,eACnBwC,EAAaC,eACjB,OAAQ7N,gBAAoB0F,GAAmB,KAC3C1F,gBAAoB8N,KAAQ,KACxBxP,EAAKsE,KAAI,SAAU/F,GACf,IAAIqF,EAAOrF,EAAGqF,KACd,OAAQlC,gBAAoB8F,KAAO,CAAEtK,IAAK0G,EAAO,SAAU6D,KAAM6H,EAAW7H,KAAO,cAAgB7D,EAAM8D,OAAQ,WAAc,OAAOhG,gBAAoB2N,GAAqB,CAAE7F,SAAU5F,UAE/LlC,gBAAoB8F,KAAO,CAAEC,KAAM6H,EAAW7H,KAAMqI,OAAO,EAAMpI,OAAQ,WAAc,OAAQhG,gBAAoBA,WAAgB,KAC3HA,gBAAoBqH,GAAa,CAAElH,MAAO,mDAC1CH,gBAAoB+N,KAAM,CAAEC,OAAO,GAAQ1P,EAAKsE,KAAI,SAAU/F,GAC1D,IAAIqF,EAAOrF,EAAGqF,KACd,OAAQlC,gBAAoBmN,GAAc,CAAE3R,IAAK0G,EAAO,QAASsF,GAAIoG,EAAW7H,KAAO,cAAgB7D,GACnGlC,gBAAoBiO,KAAc,CAAEC,QAAS/C,EAAiBjJ,EAAM,iBCnBrFmM,GAA4B,WACnC,IAAIlI,EAAYZ,KAAuBY,UACnCxG,EAAYC,cAIhB,OAAQI,gBAAoB2B,IAAQ,CAAEpB,QAHL,WAC7B4F,EAAUnG,gBAAoBmO,GAAuB,SAEoBxO,EAAU,oDCNhF2O,GAAwB,WAC/B,IAAI3O,EAAYC,cAChB,OAAQI,gBAAoBA,WAAgB,KACxCA,gBAAoBqH,GAAa,CAAElH,MAAO,iCAC1CH,gBAAoB4G,KAAY,KAAMjH,EAAU,wCAChDK,gBAAoBqO,GAA2B,QCVnDnU,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAYrB8T,GAA0B,SAAU5I,GAC3C,IAAI9I,EAAK0I,KAAwBW,EAAUrJ,EAAGqJ,QAASsI,EAAS3R,EAAG2R,OAAQC,EAAY5R,EAAG4R,UACtFvP,EAAK7B,mBAAS,MAAO8C,EAAQjB,EAAG,GAAIoI,EAAWpI,EAAG,GAClDwP,EAAkBpP,mBAAQ,WAAc,MAAQ,CAAEgI,SAAUA,KAAgB,CAACA,IAC7EjI,EAAQsP,eACR9N,EAAUC,GAAU6E,GACpB5E,EAAK5D,EAAe,6BAA8B,CAClDyR,EAEAC,SAASC,KAAKC,YAEV1P,EAAM2P,YAAYtD,OAAOuD,GAAK,EAE9B5P,EAAM2D,QAAQ,GAClBkM,EAAG7P,EAAM2D,QAAQ,KACjBmM,EAAiBpO,EAAG,GAAIqO,EAAoBrO,EAAG,GACnDhD,qBAAU,WACFoR,EAAeP,EAAIC,SAASC,KAAKC,aACjCK,EAAkB,CACdR,EAEAC,SAASC,KAAKC,YAEV1P,EAAM2P,YAAYtD,OAAOuD,GAAK,EAE9B5P,EAAM2D,QAAQ,GAClBkM,EAAG7P,EAAM2D,QAAQ,OAG1B,CAACyL,EAAWU,EAAgBC,EAAmB/P,IAIlD,OAAQW,gBAAoBA,WAAgB,KACxCA,gBAAoBqP,KAAOnV,GAAS,CAAE4H,UAAWjB,EAAQsE,KAAMxC,QAASuD,EAASzD,KAAMgM,EAAW,kBAAmB,kCAAmCa,sBAAsB,EAAMC,cAAc,EAAMC,qBAAqB,EAAMC,mBAAmB,EAAMC,kBAAmB,MAAQ/J,GACnR3F,gBAAoB2P,KAAW,CAAEC,OAAQ,mCAAoCC,OAAQ,mCAAoCC,gBAAiBX,EAAgBY,OALxI,SAAUtR,EAAGH,GACnC8Q,EAAkB,CAAER,EAAGtQ,EAAKsQ,EAAGM,EAAG5Q,EAAK4Q,MAK/BlP,gBAAoBgQ,KAAO,CAAElO,UAAWjB,EAAQsE,KAAM8K,UAAW,GAC7DjQ,gBAAoBiG,GAA8B,CAAE9F,MAAOA,IAC3DH,gBAAoBoH,GAA+B8I,SAAU,CAAElU,MAAO0S,GAClE1O,gBAAoB,MAAO,CAAE8B,UAAWjB,EAAQ8L,SAAW6B,GAAUxO,gBAAoBsO,GAAuB,aAEpIxN,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFgL,MAAO9Q,EAAM2P,YAAYtD,OAAOuD,GAAK,EACrCmB,WAAY/Q,EAAMgR,YAAY7T,OAAO,CAAC,SAAU,WAEpDmQ,QAAS,CACL2D,UAAW,OACXC,UAAW,OACXtJ,QAAS5H,EAAM2D,QAAQ,GACvBwN,WAAY,GAEhBC,aAAc,MACX,CACHvO,KAAM,8BAEVqM,GAAwBmC,YAAc,0B,2BC7ElCxW,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAOAsW,GAAmBtD,sBAAW,SAAUxQ,EAAI0Q,GACnD,IAAIrO,EAAKrC,EAAGoC,SAAUA,OAAkB,IAAPC,EAAgBc,gBAAoB4Q,KAAc,MAAQ1R,EAAI6B,EAAKlE,EAAGgL,MAAOA,OAAe,IAAP9G,EAAgB,4CAA8CA,EAAI4E,EAAQnH,GAAO3B,EAAI,CAAC,WAAY,UAEpNgU,EADYjR,aACMD,CAAUkI,EAAO,CAAE9H,EAAG8H,IAC5C,OAAQ7H,gBAAoBE,IAAS,CAAEC,MAAO0Q,GAC1C7Q,gBAAoBK,IAAYnG,GAAS,CAAEqT,IAAKA,EAAK,aAAcsD,EAAiBvQ,MAAO,WAAaqF,GAAQ1G,OAExH0R,GAAiBD,YAAc,mBCyCf5N,aAAW,SAAUzD,GAAS,MAAQ,CAClDyR,OAAQ,CACJC,OAAQ1R,EAAM0R,OAAOC,MAAQ,GAEjCC,QAAS,CACLC,UAAW,uCAAyChE,aAAK7N,EAAMN,QAAQmP,QAAQpB,KAAM,IAAO,qDAC5F,UAAW,CACPoE,UAAW,uCAAyC7R,EAAMN,QAAQmP,QAAQpB,KAAO,0DAGtF,CACH5K,KAAM,wBAtFV,I,qFCOgBY,YAAW,CACvBqO,QAAS,CACLC,cAAe,QAEnBC,eAAgB,CACZD,cAAe,OACfnK,QAAS,MACTqK,SAAU,U,iCCWFxO,aAAW,SAAUzD,GAAS,MAAQ,CAClDkS,QAAS,CACLxE,gBAAwC,UAAvB1N,EAAMN,QAAQD,KACzBO,EAAMN,QAAQoI,KAAK,KACnB9H,EAAMN,QAAQoI,KAAK,MAE7BqK,OAAQ,CACJC,SAAU,OCiBF3O,aAAW,SAAUzD,GAAS,MAAQ,CAClDgG,KAAM,CACFlB,YAAa9E,EAAM2D,QAAQ,GAC3B0O,aAAcrS,EAAM2D,QAAQ,QCEpBF,aAAW,SAAUzD,GAAS,MAAQ,CAClDsS,SAAU,CACNC,WAAYvS,EAAMwS,WAAWD,WAAWE,MACxC7K,QAAS5H,EAAM2D,QAAQ,GAAK,GAC5B+J,gBAAiB1N,EAAMN,QAAQoI,KAAK,KACpCpC,UAAW1F,EAAM2D,QAAQ,IAE7B+O,GAAI,CACAjN,QAAS,OACTkN,oBAAqB,WAEzBC,GAAI,CACAnN,QAAS,gBAEboN,GAAI,CACApN,QAAS,eACTiG,aAAc1L,EAAM2D,QAAQ,Q,YCxCpBF,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFL,QAAS,OACTD,WAAY,SACZ,UAAW,CACP,gBAAiB,CACbsN,QAAS,OAIrBC,OAAQ,CACJnN,YAAa5F,EAAM2D,QAAQ,IAC3BD,YAAa1D,EAAM2D,QAAQ,KAE/BqP,WAAY,CACRF,QAAS,EACTlL,QAAS,EACTlE,WAAY1D,EAAM2D,QAAQ,GAC1BoN,WAAY/Q,EAAMgR,YAAY7T,OAAO,eAEtC,CACH0F,KAAM,mB,wCCiEMY,aAAW,SAAUzD,GAAS,MAAQ,CAClDiT,eAAgB,CACZvP,WAAY1D,EAAM2D,QAAQ,S,0BC3FT+F,eA+GTjG,aAAW,SAAUzD,GAAS,MAAQ,CAClDkT,cAAe,CACXzN,QAAS,OACTD,WAAY,SACZ6M,aAAc,GAElBc,gBAAiB,CACbC,KAAM,EACN,gBAAiB,CACbxN,YAAa5F,EAAM2D,QAAQ,KAGnC0P,gBAAiB,CACbD,KAAM,GAEVE,aAAc,CACVC,OAAQ,QC7GA9P,aAAW,SAAUzD,GAAS,MAAQ,CAClDwT,YAAa,CACTC,WAAY,aAAezT,EAAMN,QAAQgU,QACzCvC,WAAY,EACZwC,cAAe,O,oDCjDZC,I,OAAwB,iCAMxBC,GAAc,sBACdC,GAAa,SAAUrL,EAAUsL,GAAU,MAAQ,CAC1DtU,KAAMoU,GACNlW,QAASoW,EACTC,KAAM,CAAEvL,SAAUA,KAEXwL,GAAgB,mBAoBhBC,GAAqB,wBAIrBC,GAAsB,yBAItBC,GAAqB,wBAIrBC,GAA8B,sCAE9BC,GAAwB,gCACxBC,GAA2B,mCAC3BC,GAAyB,iCACzBC,GAA4B,oCC5C5BC,GAAgB,cAChBC,GAAiB,eCNjBC,GAAmB,sBCA1B/Z,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAEPkN,GAAgD,SAAUC,EAAIC,GAC9D,IAAK,IAAIlN,EAAI,EAAGmN,EAAKD,EAAK/M,OAAQiN,EAAIH,EAAG9M,OAAQH,EAAImN,EAAInN,IAAKoN,IAC1DH,EAAGG,GAAKF,EAAKlN,GACjB,OAAOiN,GAKP0M,GAAe,GA4BRC,GAAU,SAAU/Q,EAAOvG,GAClC,IAAIqC,EAAI6B,EAAIqT,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,OAC1D,IAAV/R,IAAoBA,EAAQ8Q,IAChC,IAAIpV,EAAOjC,EAAGiC,KAAM9B,EAAUH,EAAGG,QAASoY,EAAiBvY,EAAGuY,eAAgB/B,EAAOxW,EAAGwW,KACxF,IAAKA,IAASA,EAAKvL,SACf,OAAO1E,EAEX,IAAIiS,EAAgBjS,EAAMiQ,EAAKvL,WAAa,CACxCwN,WAAOtb,EACPub,SAAU,IAGd,GAAIzW,IAASmU,GACT,OAAO/Y,GAASA,GAAS,GAAIkJ,KAASlE,EAAK,IAAOmU,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEE,SAAUvY,EAAQ4F,IAAI4S,UAAYtW,IAEjJ,GAAIJ,IAASoU,GAAa,CACtB,GAAImC,EAAcE,SAAS3Y,SAASI,GAEhC,OAAOoG,EAIX,IAAIqS,EAAc,GACdC,EAAY1Y,EAChB,GACIyY,EAAcA,EAAYE,OAAOH,OAAOE,IACxCA,EAAYvb,OAAOoO,KAAK8M,EAAcC,OACjCM,QAAO,SAAUrT,GAClB,OAAO8S,EAAcC,MAAM/S,GAAIsT,MAAK,SAAUC,GAAQ,OAAOA,GAAQJ,QAEpEK,YACAL,GAET,OAAOxb,GAASA,GAAS,GAAIkJ,KAASrC,EAAK,IAAOsS,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEE,SAAUF,EAAcE,SAASI,OAAOF,KAAiB1U,IAGxK,GAAIjC,IAAS6U,GACT,OAAOzZ,GAASA,GAAS,GAAIkJ,KAASgR,EAAK,IAAOf,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAAS,GAAKmb,EAAcC,OAAS,KAAOjB,EAAK,GAAIA,EAAGJ,IAAoB,GAAII,MAASD,IAExN,GAAItV,IAAS8U,GAA0B,CACnC,IAAIoC,EAAKX,EAAcC,MAAOW,EAAKhC,GAA8BqB,GAARU,EAAGC,GAAazX,GAAOwX,EAAI,CAA+BC,EAAK,MACxH,OAAO/b,GAASA,GAAS,GAAIkJ,KAASkR,EAAK,IAAOjB,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOA,IAAUhB,IAEhI,GAAa,8BAATxV,EAIA,MAHmC,qBAAxBuW,EAAcC,OACrBY,QAAQC,KAAK,2IAEV/S,EAEX,GAAa,qCAATtE,EAA6C,CAC7C,IAAIsX,EAAkBC,GAAiBhB,EAAcC,MAAOtY,EAAQuF,IACpE,OAAOrI,GAASA,GAAS,GAAIkJ,KAASmR,EAAK,IAAOlB,EAAKvL,UAAY,CAC/DyN,SAAUF,EAAcE,SAASK,QAAO,SAAUrT,GAAM,OAAQ6T,EAAgBP,MAAK,SAAUS,GAAc,OAAO/T,GAAM+T,QAC1HhB,MAAOnb,OAAOoO,KAAK8M,EAAcC,OAC5BM,QAAO,SAAUrT,GAClB,OAAQ6T,EAAgBP,MAAK,SAAUS,GAAc,OAAO/T,GAAM+T,QAEjEC,QAAO,SAAUC,EAAKC,GAIvB,OAHAD,EAAIC,GAAQpB,EAAcC,MAAMmB,GAAMb,QAAO,SAAUrT,GACnD,OAAQ6T,EAAgBP,MAAK,SAAUS,GAAc,OAAO/T,GAAM+T,QAE/DE,IACR,KACJjC,IAEP,GAAIzV,IAAS+U,GACT,OAAO3Z,GAASA,GAAS,GAAIkJ,KAASoR,EAAK,IAAOnB,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAAS,GAAKmb,EAAcC,OAAS,KAAOb,EAAK,GAAIA,EAAGzX,EAAQ0Z,UAAYrB,EAAcC,MAAMtY,EAAQ0Z,UAAUf,OAAO1B,IAAmBQ,EAAGR,IAAoB,GAAIQ,IAE9Rc,SAAUF,EAAcE,SAAS3Y,SAASI,EAAQ0Z,UAC5CrB,EAAcE,SACdF,EAAcE,SAASI,OAAOH,OAAOxY,EAAQ0Z,aAAelC,IAE1E,GAAI1V,IAASgV,GAA2B,CACpC,IAAI6C,EAAKtB,EAAcC,MAAOsB,EAAK3C,GAC/BhV,GADqD0X,EAAGC,IAAKtB,EAAQ9W,GAAOmY,EAAI,CAA+BC,EAAK,MACnG5Z,EAAQ0Z,UAAUd,QAAO,SAAUnX,GAAK,OAAOA,IAAMwV,OAC1E,OAAO/Z,GAASA,GAAS,GAAIkJ,KAASsR,EAAK,IAAOrB,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAAS,GAAIob,IAASX,EAAK,GAAIA,EAAG3X,EAAQ0Z,UAAYzX,EAAU0V,MAASD,IAExM,IAAKrB,EAAKwD,cACN,OAAOzT,EAGX,OAAQiQ,EAAKwD,eACT,IF5Ic,UE6IV,OAAO3c,GAASA,GAAS,GAAIkJ,KAASwR,EAAK,IAAOvB,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAAS,GAAI8C,EAAQsB,KAAKiY,QAAO,SAAUC,EAAKM,GAE1J,OADAN,EAAIM,EAAKvU,IAAMuU,EAAK7X,SACbuX,IACR,OAAS5B,IACpB,IFhJoB,eEiJhB,OAAO1a,GAASA,GAAS,GAAIkJ,KAASyR,EAAK,IAAOxB,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAAS,GAAKmb,EAAcC,OAAS,IAAMtY,EAAQsB,KAAKiY,QAAO,SAAUC,EAAKM,GAEjM,OADAN,EAAIM,EAAKvU,IAAMuU,EAAK7X,UAAY,GACzBuX,IACR,OAAS3B,IACpB,IFpJqB,gBEqJjB,OAAO3a,GAASA,GAAS,GAAIkJ,KAAS0R,EAAK,IAAOzB,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAASA,GAAS,GAAKmb,EAAcC,OAAS,KAAOP,EAAK,GAAIA,EAAGK,EAAesB,UAAY1Z,EAAQsB,KAAKsE,KAAI,SAAUkU,GAAQ,OAAOA,EAAKvU,MAAQwS,IAAM/X,EAAQsB,KAAKiY,QAAO,SAAUC,EAAKM,GAE/S,OADAN,EAAIM,EAAKvU,IAAMuU,EAAK7X,UAAY,GACzBuX,IACR,OAAS1B,IACpB,KAAKf,GACD,OAAO7Z,GAASA,GAAS,GAAIkJ,KAAS4R,EAAK,IAAO3B,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAAS,GAAKmb,EAAcC,OAAS,KAAOL,EAAK,GAAIA,EAAGjY,EAAQsB,KAAKiE,IAAM,GAAI0S,MAASD,IACvN,KAAKhB,GACD,OAAO9Z,GAASA,GAAS,GAAIkJ,KAAS8R,EAAK,IAAO7B,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgB,CAAEC,MAAOpb,GAASA,GAAS,GAAKmb,EAAcC,OAAS,KAAOH,EAAK,GAAIA,EAAGC,EAAesB,UAAYrB,EAAcC,MAAMF,EAAesB,UAAUf,OAAO3Y,EAAQsB,KAAKiE,IAAK4S,EAAGnY,EAAQsB,KAAKiE,IAAM,GAAI4S,MAASD,IAC3T,QACI,OAAO9R,IAGfiT,GAAmB,SAAnBA,EAA6Bf,EAAOlC,GACpC,IACI2D,GADWzB,EAAMlC,IACE,IAAImD,QAAO,SAAUC,EAAKQ,GAAS,OAAOzP,GAAcA,GAAc,GAAIiP,GAAMH,EAAiBf,EAAO0B,MAAY,IAE3I,OADAD,EAAIpO,KAAKyK,GACF2D,GCvKAE,GAAW,cAIXC,GAAY,eAIZC,GAAO,UAIPC,GAAS,YCqMLC,IC/KAC,GAZI,SAAUC,EAAOC,GAChC,IAAIC,EAAeC,eACnB3Z,qBAAU,WACN,GAAK0Z,GAAiBF,GAAUC,EAIhC,OADAC,EAAaE,UAAUJ,EAAOC,GACvB,WACHC,EAAaG,YAAYL,EAAOC,MAErC,CAACC,EAAcF,EAAOC,KCLdK,GAJgB,SAAU/P,EAAU0P,GAE/CF,GADY,YAAcxP,EACN0P,I,iBCzBbM,G,+BACX,SAAWA,GACPA,EAAS,QAAc,UACvBA,EAAS,QAAc,UACvBA,EAAS,QAAc,UAH3B,CAIGA,KAAcA,GAAY,K,WCLzB5d,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,Y,IAgBhBqI,aAAW,SAAUzD,GACjC,IAAI0Y,EAAkC,UAAvB1Y,EAAMN,QAAQD,KAAmBkZ,KAASC,KACrDC,EAA4C,UAAvB7Y,EAAMN,QAAQD,KAAmBmZ,KAAUD,KACpE,MAAO,CACH7S,KAAMjL,GAASA,GAAS,GAAImF,EAAMwS,WAAWsG,OAAQ,CAAEC,aAAc/Y,EAAMgZ,MAAMD,aAActT,QAAS,OAAQmC,QAAS,WAAYhD,OAAQ5E,EAAM2D,QAAQ,GAAK,OAAQ1C,MAAOyX,EAAS1Y,EAAMN,QAAQuZ,QAAQxL,KAAM,IAAMC,gBAAiBmL,EAAmB7Y,EAAMN,QAAQuZ,QAAQxL,KAAM,MAC1RnQ,QAAS,CACLsK,QAAS5H,EAAM2D,QAAQ,GAAK,QAEhC0B,OAAQ,CACJI,QAAS,OACTD,WAAY,SACZ9B,WAAY,OACZoB,YAAa9E,EAAM2D,QAAQ,GAC3BiC,aAAc5F,EAAM2D,QAAQ,OAGrC,CACCd,KAAM,c,kGC1CNhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAiDPke,GAAuBlL,sBAAW,SAAU1H,EAAO4H,GAC7B5H,EAAM9E,QAA5B,IAAqCiB,EAAY6D,EAAM7D,UAAW0W,EAAc7S,EAAM6S,YAAaC,EAAW9S,EAAM8S,SAAU3Q,EAAWnC,EAAMmC,SAAUjL,EAAK8I,EAAM+S,WAAYA,OAAoB,IAAP7b,EAAgB,QAAUA,EAAI0D,EAAUoF,EAAMpF,QAASoY,EAAgBhT,EAAMgT,cAAevZ,EAAOZ,GAAOmH,EAAO,CAAC,UAAW,YAAa,cAAe,WAAY,WAAY,aAAc,UAAW,kBACnY9E,EAAUC,GAAU6E,GACpBa,EAAWoS,eACX1Z,EAAK7B,mBAAS,GAAIwb,EAAa3Z,EAAG,GAAI4Z,EAAgB5Z,EAAG,GAC7D2Y,GAAyB/P,GAAU,SAAUlK,GACzC,IAAImb,EAAQnb,EAAMZ,QAAQ+Z,IAAIrc,OAC9B,GAAIse,GAAaxS,EAAUb,GAAQ,CAC/B,IAAIsT,EAAmBC,GAA2B1S,EAAUb,GAC5D,GAAwB,MAApBsT,EACA,OAEJF,EAAQnb,EAAMZ,QAAQ+Z,IAAInB,QAAO,SAAUrT,GAAM,MAAO,GAAKA,IAAO0W,KAAqBve,OAEzFqe,GACAD,GAAc,SAAUK,GAAY,OAAOA,EAAWJ,QAG9Dhb,qBAAU,WAEFyI,EAASC,WAAad,EAAM6B,IAC5BsR,EAAc,KAEnB,CAACtS,EAAUb,EAAM6B,KACpB,IAAI4R,EAAgBhb,uBAAY,SAAUK,GACtC8B,GAAWA,EAAQ9B,KACpB,CAAC8B,IACA8Y,EAAiB,WACjB,OAAQrZ,IAAMC,cAAc4C,IAAU3I,GAAS,CAAE4H,UAAWwX,KAAWzY,EAAQsE,KAAMrD,GAAYyX,gBAAiB1Y,EAAQ2Y,OAAQ9L,UAAW+L,GAAYlM,IAAKA,GAAOnO,EAAM,CAAEmB,QAAS6Y,IAAkBX,EAAYzY,IAAMC,cAAcD,IAAM0B,SAAU,KACpP1B,IAAMC,cAAcyZ,GAAoB,CAAEC,aAAcd,EAAYvY,MAAOoY,GACvE1Y,IAAMC,cAAc2Z,KAAc,CAAE9X,UAAWjB,EAAQgZ,MAAQpa,uBAAagZ,EAAU,CAClFqB,YAAatB,MAErBA,GAAiBxY,IAAMC,cAAc8Z,GAAoB,CAAEJ,aAAcd,EAAYvY,MAAOoY,GAAcF,KAElH,OAAIG,EACOU,IAEHrZ,IAAMC,cAAcC,IAAS,CAAEC,MAAOqY,EAAawB,UAAW,SAAWX,QAErFd,GAAqB7H,YAAc,uBAanC,IAAI+I,GAAapM,sBAAW,SAAU1H,EAAO4H,GAAO,OAAQvN,IAAMC,cAAcga,KAAS/f,GAAS,CAAEggB,SAAU3M,GAAO5H,OACrH8T,GAAW/I,YAAc,aACzB,IAAI5P,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF7E,MAAOjB,EAAMN,QAAQob,KAAKC,WAE9BZ,OAAQ,CACJlZ,MAAOjB,EAAMN,QAAQob,KAAKjM,SAE9B2L,KAAM,CAAEQ,SAAUhb,EAAM2D,QAAQ,OAC7B,CAAEd,KAAM,mBACXwX,GAAqBY,cAAW,SAAUjb,GAAS,MAAQ,CAC3Dkb,MAAO,CACH/V,MAAO,GACPD,IAAK,EACLiW,OAAQ,aAAenb,EAAMN,QAAQiO,WAAWC,MAChDhG,QAAS,YALQqT,CAOlBG,MACHV,GAAqBO,cAAW,SAAUjb,GAAS,MAAQ,CAC3Dkb,MAAO,CACHhW,IAAK,EACLiW,OAAQ,aAAenb,EAAMN,QAAQiO,WAAWC,MAChDhG,QAAS,YAJQqT,CAMlBG,MACIzB,GAAe,SAAUxS,EAAUkU,GAC1C,OAAOlU,EAASC,WAAaiU,EAAUlT,IACnChB,EAASC,SAAS7J,SAAS8d,EAAUlT,GAAK,MAEvC0R,GAA6B,SAAUrc,EAAIqC,GAClD,IAAIyb,EAAc9d,EAAG4J,SACjBmU,EAAW1b,EAAGsI,GACdqT,EAAaF,EAAYjc,QAAQkc,EAASE,YAC1CF,EAASE,WAAWpgB,OACpB,EACAqgB,EAAWJ,EAAYjc,QAAQ,IAAKmc,GAIxC,OAHkB,IAAdE,IACAA,EAAWJ,EAAYjgB,QAEvBqgB,GAAYF,EACL,KAEJF,EAAYK,UAAUH,EAAYE,IAE9BxC,MCvKXre,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAkCPyG,GAAYgC,YAAW,CACvBgK,KAAM,CACFhI,QAAS,OACTmW,cAAe,SACfC,eAAgB,eAErB,CAAEhZ,KAAM,WACPiZ,GAAyB,SAAUrT,EAAUnI,GAC7C,OAAOA,EAAU,aAAemI,EAAS5F,KAAO,QAAS,CACrDkZ,YAAa,EACbrb,EAAG+H,EAASoB,SAAWpB,EAASoB,QAAQrB,MAClClI,EAAUmI,EAASoB,QAAQrB,MAAO,CAChCuT,YAAa,EACbrb,EAAG+H,EAASoB,QAAQrB,QAEtBwT,KAAWC,SAASD,KAAWE,UAAUzT,EAAS5F,UAI5DsZ,GAAe,SAAU7V,GACHA,EAAM9E,QAA5B,IAAqCiB,EAAY6D,EAAM7D,UAAWkM,EAAQrI,EAAMqI,MAAOyN,EAAe9V,EAAM8V,aAAcC,EAAc/V,EAAM+V,YAAaC,EAAShW,EAAMgW,OAAQvc,EAAOZ,GAAOmH,EAAO,CAAC,UAAW,YAAa,QAAS,eAAgB,cAAe,WACpQhG,EAAYC,cACZiB,EAAUC,GAAU6E,GACpBiW,EAAWC,cAAc,SAAUxc,GACnC,OAAOA,EAAM2P,YAAY8M,KAAK,SAE9BrZ,EAAOU,aAAY,SAAUC,GAAS,OAAOA,EAAMC,MAAMC,GAAGC,eAC5D0H,EAAY9H,YAAY+H,KAAc6Q,KAG1C,OADA5Y,aAAY,SAAUC,GAAS,OAAOA,EAAM4Y,OAAOxV,SAASC,YACpDzG,IAAMC,cAAc,MAAO/F,GAAS,CAAE4H,UAAWwX,KAAWzY,EAAQiM,KAAMhL,IAAc1C,GAC5Fqc,GAAiBzb,IAAMC,cAAcgc,KAAmB,CAAE1b,QAASmb,EAAa1N,MAAOA,EAAO2K,cAAelW,IAC7GwI,EACK2K,QAAO,SAAUsG,GAAK,OAAOA,EAAEC,WAC/BvZ,KAAI,SAAUkF,GAAY,OAAQ9H,IAAMC,cAAcsY,GAAsB,CAAE/c,IAAKsM,EAAS5F,KAAMsF,GAAI,IAAMM,EAAS5F,KAAMsW,YAAa2C,GAAuBrT,EAAUnI,GAAY8Y,SAAU3Q,EAAS+R,KAAO7Z,IAAMC,cAAc6H,EAAS+R,KAAM,MAAQ7Z,IAAMC,cAAcmc,KAAa,MAAOtU,SAAUA,EAAS5F,KAAM3B,QAASmb,EAAa1N,MAAOA,EAAO2K,cAAelW,OACnXmZ,GAAYD,IAUpBH,GAAaa,aAAe,CACxBX,YAAa,WAAc,OAAO,OAEvBF,ICtGXthB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAG5ByZ,GAAe,GAsEJoI,GAtCI,SAAUlZ,EAAOvG,GAChC,IAAIqC,EAAI6B,EAAIqT,OACE,IAAVhR,IAAoBA,EAAQ8Q,IAChC,IAAIlX,EAAUH,EAAGG,QAASqW,EAAOxW,EAAGwW,KACpC,IAAKA,IAASA,EAAKvL,WAAauL,EAAKwD,cACjC,OAAOzT,EAEX,IAAIiS,EAAgBjS,EAAMiQ,EAAKvL,UAE/B,OAAQuL,EAAKwD,eACT,KAAKM,GACL,KAAKF,GACD,OAAKja,GAAYA,EAAQsB,MAAStB,EAAQsB,KAAKie,SAGxCriB,GAASA,GAAS,GAAIkJ,KAASlE,EAAK,IAAOmU,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,KAAiBtU,EAAK,IAAO/D,EAAQsB,KAAKie,UAAYriB,GAAS,GAAI8C,EAAQsB,MAAOyC,IAAM7B,IAFtKkE,EAGf,KAAK8T,GACD,OAAKla,GAAYA,EAAQsB,MAAStB,EAAQsB,KAAK5D,OAGxCR,GAASA,GAAS,GAAIkJ,KAASgR,EAAK,IAAOf,EAAKvL,UAAY5N,GAASA,GAAS,GAAImb,GAAgBrY,EAAQsB,KAAKiY,QAAO,SAAUC,EAAKgG,GACxI,OAAKA,EAAKD,UAGV/F,EAAIgG,EAAKD,UAAYriB,GAAS,GAAIsiB,GAC3BhG,GAHIA,IAIZ,KAAMpC,IAREhR,EASf,KAAKgU,GACD,IAAKpa,IAAYA,EAAQsB,OAAStB,EAAQsB,KAAKie,SAC3C,OAAOnZ,EAEX,IAAIqZ,EAAWviB,GAAS,GAAIkJ,GAE5B,cADOqZ,EAASpJ,EAAKvL,UAAU9K,EAAQsB,KAAKie,UACrCE,EACX,QACI,OAAOrZ,IC3CJsZ,GApCiB,CAC5B,cAAe,CACXhY,OAAQ,CACJiY,QAAS,WAEbC,WAAY,CACRC,QAAS,UACTC,QAAS,UACTC,QAAS,WAEbC,aAAc,CACV7c,MAAO,UACP8c,OAAQ,CACJJ,QAAS,+CACTE,QAAS,2DAEbG,KAAM,CACFC,UAAW,sEAEfX,KAAM,CACFY,oBAAqB,yCACrBC,WAAY,0BACZC,SAAU,mCAGlBzQ,MAAO,CACH/N,KAAM,mCACNyY,MAAO,uBACPiF,KAAM,CACFe,OAAQ,oCACRH,oBAAqB,yCACrBI,aAAc,wCC7BnBC,GAAuB1jB,wBAAc,CAAE0hB,cAAc,IACrDiC,GAA+B,SAAU7gB,GAChD,IAAIoC,EAAWpC,EAAGoC,SAAUwc,EAAe5e,EAAG4e,aAC1CkC,EAAUre,mBAAQ,WAAc,MAAQ,CAAEmc,aAAcA,KAAoB,CAACA,IACjF,OAAQzb,gBAAoByd,GAAqBvN,SAAU,CAAElU,MAAO2hB,GAAW1e,ICC/E2e,GAAgC,SAAU/gB,GAC1C,IAAIiL,EAAWjL,EAAGiL,SAAUhJ,EAAOjC,EAAGiC,KACtC,OAAYgJ,GAAqB,SAAThJ,EAAkB,GAAK,IAAMA,IAE9C+e,GAAyB,WAChC,IAR2B/V,EAAUvF,EAQjCkE,EAAWmS,eAAcnS,SAGzBqX,ECFiC,SAAUrX,EAAUwE,GACzD,IAAK,IAAI8S,EAAK,EAAGC,EAAc/S,EAAW8S,EAAKC,EAAYtjB,OAAQqjB,IAAM,CACrE,IACIE,EADWD,EAAYD,GACL7b,KACtB,GAAIuE,EAASyX,MAAM,IAAMD,EAAS,OAC9B,MAAO,CAAEnW,SAAUmW,EAAQnf,KAAM,QAErC,GAAI2H,EAASyX,MAAM,IAAMD,EAAS,uBAC9B,MAAO,CAAEnW,SAAUmW,EAAQnf,KAAM,UAErC,IAAIqf,EAAY1X,EAASyX,MAAM,IAAIE,OAAO,KAAOH,EAAS,8BAC1D,GAAIE,EACA,MAAO,CAAErW,SAAUmW,EAAQnf,KAAM,OAAQuf,WAAYF,EAAU,IAEnE,IAAIG,EAAY7X,EAASyX,MAAM,IAAIE,OAAO,KAAOH,EAAS,yBAC1D,GAAIK,EACA,MAAO,CAAExW,SAAUmW,EAAQnf,KAAM,OAAQuf,WAAYC,EAAU,IAGvE,OAAO,KDjBoBC,CAA4B9X,EAFvCtD,YAAY+H,KAAc6Q,MAGtCkB,EAAS9Z,YAAY2a,GACrB,CAAC,OAAQ,QAAQlhB,SAASkhB,EAAqBhf,OAbxBgJ,EAcNgW,EAAqBhW,SAdLvF,EAceub,EAAqBO,WAdvB,SAAUjb,GAC5D,OAAOA,EAAMC,MAAM4H,UAAUnD,IAAa1E,EAAMC,MAAM4H,UAAUnD,GAAUxJ,KAAKiE,KAczE,cACN,MAAiB,MAAbkE,EACO,CACHV,KAAM,GACN2F,OAAQ,IAGToS,EACD,CACE/X,KAAM6X,GAA8BE,GACpCpS,OAAQ,CAAEuR,OAAQA,IAEpB,ME+DCuB,GAAsB,WAC7B,IAAI3hB,EAAKa,qBAAW+gB,IAAkBjY,EAAW3J,EAAG,GAAI6hB,EAAc7hB,EAAG,GACzE,GAA2B,oBAAhB6hB,EACP,MAAM,IAAIlf,MAAM,qJAMpB,MAAO,CAACgH,EAJapI,uBAAY,SAAU2H,EAAM2F,QAC9B,IAAXA,IAAqBA,EAAS,IAClCgT,EAAY,CAAE3Y,KAAMA,EAAM2F,OAAQA,MACnC,CAACgT,MCtGGC,GAAY,YCSZC,GAA2B,SAAU/hB,GAC5C,IAAIqC,EAAKrC,EAAG4e,aAAcA,OAAsB,IAAPvc,GAAwBA,EACjCwf,EAAvBF,KAAwC,GAC7CK,EAAmBhB,KACnBiB,EAA0Bjb,sBAAO7J,GAmBrC,OAlBA+D,qBAAU,WACN,IAAIlB,EAAKgiB,GAAoBE,GAAiBhZ,EAAOlJ,EAAGkJ,KAAM2F,EAAS7O,EAAG6O,OACtEmT,GACK9Y,GAAQ0V,EAETiD,EAAYC,IAGZD,EAAY3Y,EAAM2F,GAGjBoT,EAAwBhb,SAE7B4a,EAAY,MAEhBI,EAAwBhb,QAAU+a,IAEnC,CAACnjB,KAAKW,UAAUwiB,KACZ,MC3BAJ,GAAkB1kB,wBAAc,IAChCglB,GAAkB,CACzBhZ,KAAM,KACN2F,OAAQ,IA+BDsT,GAAqB,SAAUniB,GACtC,IAAIoC,EAAWpC,EAAGoC,SAAUC,EAAKrC,EAAGoiB,gBAAiBA,OAAyB,IAAP/f,EAAgB6f,GAAkB7f,EAAI6B,EAAKlE,EAAG4e,aAAcA,OAAsB,IAAP1a,GAAwBA,EACtKme,EAAYrb,iBAAO,IACnBsb,EAAUtb,sBAAO7J,GACjBoa,EAAK/W,mBAAS4hB,GAAkBzY,EAAW4N,EAAG,GAAIsK,EAActK,EAAG,GACnEgL,EAAuBhhB,uBAAY,SAAUihB,GAC7CH,EAAUpb,QAAQ6E,KAAK0W,GAClBF,EAAQrb,UACTqb,EAAQrb,QAAUwb,YAAW,WACzBZ,EChDgB,SAAUQ,GAqBtC,OApBaA,EAAU3I,QAAO,SAAUgJ,EAAiB/Y,GACrD,GAAI+Y,EAAiB,CACjB,IAAIC,EAAwBD,EAAgBxZ,KACtCwZ,EAAgBxZ,KAAK0Z,MAAM,KAAK/kB,OAChC,EACFglB,EAAiBlZ,EAAST,KACxBS,EAAST,KAAK0Z,MAAM,KAAK/kB,OACzB,EACN,GAAI8kB,EAAwBE,EACxB,OAAOH,EAEX,GAAIG,EAAiBF,EACjB,OAAOhZ,EAEX,GAAI+Y,EAAgBxZ,KAChB,OAAOwZ,EAGf,OAAO/Y,SACRxM,GD4BqB2lB,CAAmBT,EAAUpb,UACzCob,EAAUpb,QAAU,GACpBqb,EAAQrb,aAAU9J,IACnB,OAER,IACH,OAAQgG,gBAAoBye,GAAgBvO,SAAU,CAAElU,MAAO,CAACwK,EAAU4Y,IACtEpf,gBAAoB0d,GAA8B,CAAEjC,aAAcA,GAC9Dzb,gBAAoB4e,GAA0B,CAAEnD,aAAcA,IAC9Dxc,KEXD2gB,GAAwB,WAC/B,IAAIpZ,EAAWgY,KAAsB,GACrC,OAAOpgB,uBAAY,SAAU2H,GAEzB,GAAa,KAATA,EACA,OAAOS,EAEX,IAAIqZ,GAAoBrZ,EAAST,MAAQ,IAAI0Z,MAAM,KAQnD,OAPgB1Z,EAAK0Z,MAAM,KACHlJ,QAAO,SAAUuJ,EAASC,EAAMC,GACpD,QAAIH,EAAiBnlB,OAAS,EAAIslB,KAG3BF,GAAWC,IAASF,EAAiBG,OAC7C,GACcxZ,EAAW,OAC7B,CAACA,KCpDGyZ,GAAkB,SAAUta,GACnC,IAAIgY,EAAUjgB,qBAAW+f,IACzB,YAA6BzjB,GAAtB2L,EAAM8V,aACP9V,EAAM8V,aACNkC,EAAQlC,cCddjd,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAqNA6lB,GAAa,SAAUrjB,GAC9B,IAAIqC,EACAD,EAAWpC,EAAGoC,SAAU6C,EAAYjF,EAAGiF,UAAWqe,EAAUtjB,EAAGsjB,QAASxa,EAAQnH,GAAO3B,EAAI,CAAC,WAAY,YAAa,YACrH2J,EAAWgY,KAAsB,GACjC3d,EAAUC,GAAU6E,GACpB8V,EAAewE,GAAgBta,GAC/Bya,OAAuCpmB,GAAnB2L,EAAM0a,YAA2B1a,EAAM0a,UAAY5E,EAC3E,OAAKjV,EAAST,KAEN/F,IAAMC,cAAc,MAAO,CAAE,aAAc,aAAc6B,UAAWwX,KAAWxX,GAAY5C,EAAK,GAChGA,EAAG2B,EAAQyf,SAAuB,YAAZH,EACtBjhB,KACJc,IAAMC,cAAc,KAAM,CAAE6B,UAAWjB,EAAQsE,MAAQnF,IAAMugB,SAAS3d,IAAI3D,GAAU,SAAU+X,GAC1F,OAAOhX,IAAMP,aAAauX,EAAO,CAC7ByE,aAAc2E,SANf,MAUXI,GAAoB,SAAU3jB,GAC9B,IAAI4jB,EAAY5jB,EAAG4jB,UACnB,MAA4B,oBAAdA,EAA2BA,IAAc,KAAQA,GAAa,KAAO,KAEnF3f,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFub,UAAW,OACXzZ,QAAS,EACThD,OAAQ,EACR,OAAQ,CACJa,QAAS,SACTxE,MAAOjB,EAAMN,QAAQob,KAAKC,UAC1B,eAAgB,CACZzN,QAAS6T,GACTvZ,QAAS,KAAO5H,EAAM2D,QAAQ,GAAK,MAEvC,kBAAmB,CACf1C,MAAOjB,EAAMN,QAAQob,KAAKjM,SAE9B,MAAO,CACHyS,eAAgB,OAChB,UAAW,CACPA,eAAgB,gBAKhCL,QAAS,CAELrZ,QAAS,UAEThC,YAAa,WAEd,CAAE/C,KAAM,6B,UCjRXhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAQPumB,GAAkB,SAAUC,EAAiBlD,GAC7C,MAAkC,oBAApBkD,EACRA,EAAgBlD,GAChBkD,GAaCC,GAAiB,SAAUnb,GAClC,IAAIob,EAAkBnB,KAClBnE,EAAewE,GAAgBta,GAC/BhG,EAAYC,cACZ4H,EAAK7B,EAAM6B,GAAItF,EAAOyD,EAAMzD,KAAM6D,EAAOJ,EAAMI,KAAM8B,EAAQlC,EAAMkC,MAAO5I,EAAW0G,EAAM1G,SAAqDG,GAApBuG,EAAM8V,aAAqBjd,GAAOmH,EAAO,CAAC,KAAM,OAAQ,OAAQ,QAAS,WAAY,kBACjNgV,EAAczY,IAASyc,GAAY,IAAW5Y,EAAOA,EAAO,IAAM,IAAM7D,EACxEsE,EAAWua,EAAgBpG,GAC/B,IAAKnU,EACD,OAAO,KAEX,GAAItE,IAASyc,IAAanY,EAAST,OAAS4Y,GACxC,OAAO,KAEX,IAAIqC,EAAaxa,EAAST,OAAS4U,EAC/BsG,EAAgBL,GAAgB/Y,EAAOrB,EAASkF,QAChDmF,EAAkBlR,EAAUshB,EAAe,CAAElhB,EAAGkhB,IAChDC,EAAaN,GAAgBpZ,EAAIhB,EAASkF,QAC9C,OAAQ1L,gBAAoBA,WAAgB,KACxCA,gBAAoB,KAAM9F,GAAS,CAAEsB,IAAK0G,GAAQ9C,GAAO8hB,IAAeF,EAAchhB,gBAAoBmhB,KAAM,CAAEhB,QAAS,QAAS7f,MAAO,UAAWoN,UAAWF,KAAYhG,GAAI0Z,GAAcrQ,GAAqB7Q,gBAAoB4G,KAAY,CAAEuZ,QAAS,QAAS7f,MAAO,UAAWoN,UAAW,QAAUmD,IAC/S7Q,WAAe4C,IAAI3D,GAAU,SAAU+X,GACnC,OAAOhX,eAAmBgX,EAAO,CAC7BjR,KAAM4U,EACNc,aAAcA,S,UClE1BvhB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAyFrB2mB,GAA8B,SAAUC,GAC/C,IAAIpW,EAAY9H,YAAY+H,KAAc6Q,KACtC5Q,EAAmBC,eACnBzL,EAAYC,cAChB,OApEuC,SAAUqL,EAAWtL,EAAWwL,GACvE,OAAOF,EAAUsL,QAAO,SAAU+K,EAAOxZ,GACrC,IAAIyZ,EAAgB,GAChBC,EAAsBrW,EAAiBrD,EAAS5F,KAAM,GACtDuf,EAAwBtW,EAAiBrD,EAAS5F,KAAM,GAmD5D,OAlDAqf,EAAczZ,EAAS5F,MAAQ,CAC3B2F,MAAO2Z,EACPha,GAAI,IAAMM,EAAS5F,MAEvBqf,EAAczZ,EAAS5F,KAAO,WAAa,CACvC2F,MAAQC,EAASqU,QAIXxc,EAAU,oBAHVA,EAAU,iBAAkB,CAC1BuC,KAAMuf,IAGdja,GAAI,IAAMM,EAAS5F,KAAO,WAE9Bqf,EAAczZ,EAAS5F,KAAO,SAAW,CACrC2F,MAAO,SAAUhL,GACb,IAAIogB,EAASpgB,EAAGogB,OAChB,OAAQA,EAEDnV,EAASqU,QAMN,IAAMc,EAAO1a,GALb5C,EAAU,eAAgB,CACxBuC,KAAMuf,EACNlf,GAAI0a,EAAO1a,GACX0a,OAAQA,IALdtd,EAAU,mBASpB6H,GAAI,SAAU3K,GACV,IAAIogB,EAASpgB,EAAGogB,OAChB,OAAOA,GACHyE,aAAa,IAAM5Z,EAAS5F,KAAM+a,EAAO1a,IAAM,UAG3Dgf,EAAczZ,EAAS5F,KAAO,SAAW,CACrC2F,MAAO,SAAUhL,GACb,IAAIogB,EAASpgB,EAAGogB,OAChB,OAAQA,EAEDnV,EAASqU,QAMN,IAAMc,EAAO1a,GALb5C,EAAU,eAAgB,CACxBuC,KAAMuf,EACNlf,GAAI0a,EAAO1a,GACX0a,OAAQA,IALdtd,EAAU,mBASpB6H,GAAI,SAAU3K,GACV,IAAIogB,EAASpgB,EAAGogB,OAChB,OAAOA,GACHyE,aAAa,IAAM5Z,EAAS5F,KAAM+a,EAAO1a,IAAM,UAGpDrI,GAASA,GAAS,GAAIonB,GAAQC,KACtC,IAYII,CAA8B1W,EAAU2K,QAAO,SAAU9N,GAC5D,OAAQuZ,GAAqBA,EAAkBzkB,SAASkL,EAAS5F,SACjEvC,EAAWwL,ICxGfjR,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAKAunB,GAA0B,SAAU/kB,GAC3C,IAAIoC,EAAWpC,EAAGoC,SAAUC,EAAKrC,EAAGgL,MAAOA,OAAe,IAAP3I,ETzB1B,oBSyB4DA,EAAIyG,EAAQnH,GAAO3B,EAAI,CAAC,WAAY,UACzH,OAAQmD,gBAAoB8gB,GAAgB5mB,GAAS,CAAEgI,KAAMyc,GAAWnX,GAAI,IAAKK,MAAOA,GAASlC,GAAQ1G,IC3BzG/E,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAaAwnB,GAA0B,SAAUhlB,GAC3C,IAAIoO,EAAYpO,EAAGoO,UAAWtF,EAAQnH,GAAO3B,EAAI,CAAC,cAC9CilB,EAAiBV,GAA4BnW,GAEjD,OADmBgV,GAAgBta,GAEvB3F,gBAAoB4hB,GAAyB,KAAMznB,OAAOoO,KAAKuZ,GAAgBlf,KAAI,SAAUV,GAAQ,OAAQlC,gBAAoB8gB,GAAgB5mB,GAAS,CAAEsB,IAAK0G,EAAMA,KAAMA,GAAQ4f,EAAe5f,SAExMlC,gBAAoBA,WAAgB,KAAM7F,OAAOoO,KAAKuZ,GAAgBlf,KAAI,SAAUV,GAAQ,OAAQlC,gBAAoB8gB,GAAgB5mB,GAAS,CAAEsB,IAAK0G,EAAMA,KAAMA,GAAQ4f,EAAe5f,UCxCnMhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAMAiI,GAAO,SAAUzF,GACxB,IAAIiF,EAAYjF,EAAGiF,UAAW6D,EAAQnH,GAAO3B,EAAI,CAAC,cAC9CgE,EAAUC,KACd,OAAQd,gBAAoB+N,KAAM7T,GAAS,CAAE4H,UAAWwX,KAAWzY,EAAQsE,KAAMrD,GAAYigB,gBAAgB,GAAQpc,EAAOA,KAE5H7E,GAAYgC,YAAW,CACvBqC,KAAM,CACFL,QAAS,OACTmW,cAAe,YCjCZ+G,I,OAAwBjoB,6BAAcC,IACtCioB,GAAoB,WAC3B,IAAItE,EAAUjgB,qBAAWskB,IAIzB,OAAOrE,G,ICoJK7a,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFL,QAAS,OACTmW,cAAe,SACfpW,WAAY,UACZoC,QAAS5H,EAAM2D,QAAQ,IAE3Bkf,KAAM,CACF5hB,MAAOjB,EAAMN,QAAQob,KAAKC,UAC1B+H,WAAY,SACZxB,eAAgB,OAChB7b,QAAS,OACTmC,QAAS5H,EAAM2D,QAAQ,EAAG,GAC1B,UAAW,CACP1C,MAAOjB,EAAMN,QAAQob,KAAKjM,QAC1BnB,gBAAiB1N,EAAMN,QAAQoI,KAAK,OAG5Cib,QAAS,CACLnb,QAAS5H,EAAM2D,QAAQ,EAAG,IAE9BwW,OAAQ,CACJlZ,MAAOjB,EAAMN,QAAQob,KAAKjM,SAE9B2L,KAAM,CACFvZ,MAAO,UACP+Z,SAAUhb,EAAM2D,QAAQ,GACxB8B,QAAS,cACTD,WAAY,SACZqW,eAAgB,UAEpBmH,WAAY,CACRvd,QAAS,OACTmW,cAAe,SACfpW,WAAY,UACZV,YAAa9E,EAAM2D,QAAQ,IAE/Bsf,iBAAkB,CACdxd,QAAS,WAEV,CAAE5C,KAAM,e,QCnMXhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAiEAkoB,GAAmB,SAAU5c,GACpC,IAAI9I,EACAoC,EAAW0G,EAAM1G,SAA2C6C,GAAf6D,EAAM9E,QAAqB8E,EAAM7D,WAAW+F,EAAQlC,EAAMkC,MAAOgS,EAAOlU,EAAMkU,KAAM3X,EAAOyD,EAAMzD,KAAM3B,EAAUoF,EAAMpF,QAASiH,EAAK7B,EAAM6B,GAAI4G,EAAQzI,EAAMyI,MAAOhP,EAAOZ,GAAOmH,EAAO,CAAC,WAAY,UAAW,YAAa,QAAS,OAAQ,OAAQ,UAAW,KAAM,UACrT6c,EAAU3e,mBACV4e,EAAa5e,mBACbhD,EAAUC,GAAU6E,GACpBtG,EAAQsP,eACRhP,EAAYC,cACZse,EAAQ0B,KACR8C,EAAwBT,KACxBtJ,EAAgBxV,aAAY,SAAUC,GAAS,OAAOA,EAAMC,MAAMC,GAAGC,eACrEof,IAAazE,EAAMhc,GACnBhD,EAAK7B,mBAASslB,GAAYD,EAAsBjW,OAAOvK,IAAQ0gB,EAAgB1jB,EAAG,GAAI2jB,EAAwB3jB,EAAG,GACjH4jB,EAAmB1kB,uBAAY,SAAUqO,GACzCiW,EAAsBK,UAAU7gB,EAAMuK,GACtCoW,EAAsBpW,KACvB,CAACiW,EAAuBxgB,IAC3BnE,qBAAU,WACN,IAAIilB,EAAW,SAAUC,GAGhBA,EAAYC,WAAWhhB,IACxB4gB,GAAiB,IAIzB,OADAJ,EAAsBS,OAAOH,GACtB,WAAc,OAAON,EAAsBU,QAAQJ,MAC3D,CAACN,EAAuBxgB,EAAM4gB,IACjC,IAAIO,EAAc9C,WAASxH,MAAM9Z,GAAY,EACzCma,EAAgBhb,uBAAY,SAAUR,GACtC2C,GAAWA,EAAQ3C,GACnBklB,GAAkBF,KACnB,CAACA,EAAeriB,EAASuiB,IAC5B/kB,qBAAU,WA+Cd,IAAmCkT,EA9C3ByR,EAAsBY,kBAAiB,GACnCb,EAAW3e,UA6CYmN,EA5CGwR,EAAW3e,QA6C7Cwb,YAAW,WACP,IAAIiE,EAAatS,EAAQuS,iBAAiB,4EACtCD,EAAW7oB,OAAS,GACpB6oB,EAAW,GAAGE,UAEnB,QAhDA,CAACf,IACJ,IAAIgB,EAAqB,WACrBZ,GAAiB,IAErB/kB,qBAAU,WACD4kB,GACDG,GAAiB,KAEtB,CAACH,EAAUG,IACd,IAAIjS,EAAkBtR,yBAAesI,GAC/BA,EACAlI,EAAUkI,EAAMiT,WAAY,CAAE/a,EAAG8H,IAIvC,OAAQ7H,gBAAoBA,WAAgB,KACxCA,gBAAoByN,KAAUvT,GAAS,CAAE4H,UAAWwX,KAAWzY,EAAQsE,KAAMrD,GAAYjF,EAAK,GACtFA,EAAGgE,EAAQ2Y,QAAUmJ,EACrB9lB,IAAM0Q,IAAKiV,GAAWpjB,EAAM,CAAEgG,QAAQ,EAAO7E,QAAS6Y,IAAkB5R,IAAO6b,EAAerjB,gBAAoBia,KAAS,CAAEnY,UAAWjB,EAAQqhB,KAAM1a,GAAIA,EAAI4G,MAAOA,GACzKyL,GAAS7Z,gBAAoB4Z,KAAc,CAAE9X,UAAWjB,EAAQgZ,MAAQpa,uBAAaoa,EAAM,CACvFC,YAAajJ,KAEjB8H,GAAkB3Y,gBAAoBiO,KAAc,KAAM4C,IAAuB7Q,gBAAoB,MAAO,CAAE8B,UAAWjB,EAAQqhB,MACjIrI,GAAS7Z,gBAAoB4Z,KAAc,CAAE9X,UAAWjB,EAAQgZ,MAAQpa,uBAAaoa,EAAM,CACvFC,YAAajJ,KAEjB8H,GAAkB3Y,gBAAoBiO,KAAc,KAAM4C,KAC9DwS,GAAgBrjB,gBAAoB2jB,KAAS,CAAE3iB,SAAUwhB,EAAQ1e,QAAS8f,aAAcC,GAAcC,gBAAiBC,GAAiBC,UAAWtB,EAAsBF,QAAQ1e,QAASrB,KAAMmgB,EAAeriB,QAASmjB,EAAoB/gB,QAAS+gB,EAAoB7iB,QAAS,CAC1QoM,MAAOpM,EAAQojB,cAChBC,oBAAqBC,KAExBC,gBAAiBA,GAAiBC,MAAO,CAErCtT,OAAQ1R,EAAM0R,OAAOuT,OAAS,IAAM,gBAExCtkB,gBAAoBK,IAAY,CAAE,aAAcV,EAAU,mBAAoBmC,UAAWjB,EAAQiG,YAAavG,QAASmjB,GACnH1jB,gBAAoB+G,KAAW,OACnC9H,KAER4kB,GAAe,CAAEU,SAAU,MAAOC,WAAY,SAC9CT,GAAkB,CAAEQ,SAAU,MAAOC,WAAY,QACjDJ,GAAkB,CAAEK,UAAW,SAkBnC,IAAI3jB,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF7E,MAAOjB,EAAMN,QAAQ2lB,OAAOC,MAC5B3d,OAAQ,UACRlC,QAAS,OACTmW,cAAe,SACfpW,WAAY,UACZoC,QAAS5H,EAAM2D,QAAQ,GACvB,UAAW,CACP+J,gBAAiB1N,EAAMN,QAAQoI,KAAK,OAG5C+a,KAAM,CACFC,WAAY,SACZxB,eAAgB,OAChBrgB,MAAO,UACPwE,QAAS,OACTmW,cAAe,SACfpW,WAAY,SACZ,SAAU,CACNxC,SAAUhD,EAAMwS,WAAW+S,QAAQviB,WAG3CmX,OAAQ,CACJzM,gBAAiB1N,EAAMN,QAAQoI,KAAK,KACpC7G,MAAOjB,EAAMN,QAAQ2lB,OAAOG,MAC5B,UAAW,CACP9X,gBAAiB1N,EAAMN,QAAQoI,KAAK,OAG5C0S,KAAM,CACFvZ,MAAO,UACP+Z,SAAU,GAEd4J,aAAc,CACVlX,gBAAiB1N,EAAMN,QAAQiO,WAAWC,MAC1C6X,UAAW,MACXzK,SAAU,MACV0K,oBAAqB,EACrBC,uBAAwB,EACxBtT,aAAcrS,EAAM2D,QAAQ,IAEhC8D,YAAa,CACTxC,SAAU,WACVE,MAAOnF,EAAM2D,QAAQ,GACrBuB,IAAKlF,EAAM2D,QAAQ,OAEpB,CACHd,KAAM,uBCtONhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAoDA4qB,GAAiB,SAAUtf,GAClC,IAAI1G,EAAW0G,EAAM1G,SAAUpC,EAAK8I,EAAMuf,YAAaA,OAAqB,IAAProB,GAAwBA,EAAIqC,EAAKyG,EAAMwa,QAASA,OAAiB,IAAPjhB,EAAgB,UAAYA,EAAIE,EAAOZ,GAAOmH,EAAO,CAAC,WAAY,cAAe,YAC5M9E,EAAUC,GAAU6E,GACpBwf,EAActhB,iBAAO,IACrB9C,EAAK1D,oBAAS,GAAO+nB,EAAcrkB,EAAG,GAAIskB,EAAiBtkB,EAAG,GAC9DyhB,EAAU3e,mBACVyhB,EAAmBzhB,iBAAO,IAO1B4I,EAASrO,uBAAY,SAAU8D,GAAQ,OAAOqjB,MAAM9d,KAAK0d,EAAYrhB,SAASlH,SAASsF,KAAU,IACjGsjB,EAAQpnB,uBAAY,SAAU8D,GAC9BijB,EAAYrhB,QAAUqhB,EAAYrhB,QAAQ8R,QAAO,SAAUE,GAAQ,OAAOA,IAAS5T,OACpF,IACCO,EAAOrE,uBAAY,SAAU8D,GAC7B,IAAI/F,EAAM,IAAIspB,IAAIN,EAAYrhB,SAC9B3H,EAAIupB,IAAIxjB,GACRijB,EAAYrhB,QAAUyhB,MAAM9d,KAAKtL,GACjCmpB,EAAiBxhB,QAAQ8H,SAAQ,SAAUoX,GAAY,OAAOA,EAAS9gB,QACxE,IACC6gB,EAAY3kB,uBAAY,SAAU8D,EAAMuK,GACxC,GAAIA,EACA,OAAOhK,EAAKP,GAEhBsjB,EAAMtjB,KACP,CAACO,EAAM+iB,IACNG,EAASvnB,uBAAY,SAAU8D,GAC/B6gB,EAAU7gB,GAAOuK,KAClB,CAACsW,EAAWtW,IACX2H,EAAK/W,oBAAS,GAAQuoB,EAAgBxR,EAAG,GAAIkP,EAAmBlP,EAAG,GACnEuJ,EAAU,CACV6H,MAAOA,EACPI,cAAeA,EACfV,YAAaA,EACbE,YAAaA,EACb3Y,OAAQA,EACR2W,QA7BU,SAAUJ,GACpBsC,EAAiBxhB,QAAUwhB,EAAiBxhB,QAAQ8R,QAAO,SAAUiQ,GAAK,OAAOA,IAAM7C,MA6BvFG,OAjCS,SAAUH,GACnBsC,EAAiBxhB,QAAQ6E,KAAKqa,IAiC9BvgB,KAAMA,EACN+f,QAASA,EACTc,iBAAkBA,EAClBP,UAAWA,EACX4C,OAAQA,GAKZ,OAHA5nB,qBAAU,WACNuhB,YAAW,WAAc,OAAO+F,GAAe,KAAW,OAC3D,IACKrlB,gBAAoB,MAAO9F,GAAS,CAAEqT,IAAKiV,EAAS1gB,UAAWjB,EAAQsE,MAAQ/F,GACnFY,gBAAoBgiB,GAAsB9R,SAAU,CAAElU,MAAO2hB,GACzD3d,gBAAoB,MAAO,CAAE8B,UAAuB,eAAZqe,EAC9Btf,EAAQilB,kBACRjlB,EAAQklB,KACd/lB,gBAAoBsC,GAAM,CAAER,UAAWjB,EAAQqc,MAAQje,OAEnE6B,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFL,QAAS,OACTmW,cAAe,SACfrI,OAAQ,OACR7B,OAAQ1R,EAAM0R,OAAOuT,OAAS,GAElCwB,kBAAmB,CACf/Y,gBAAiB1N,EAAMN,QAAQoI,KAAK,KACpCrC,QAAS,OACTmW,cAAe,SACfrI,OAAQ,OACR7B,OAAQ1R,EAAM0R,OAAOuT,OAAS,GAElCyB,IAAK,CACDjhB,QAAS,OACTmW,cAAe,UAEnBiC,KAAM,MACH,CACHhb,KAAM,qBCrJNhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAGrB4E,GAAQnF,GAASA,GAAS,GAAI8rB,MAAe,CAAEC,UAAW,CAC7DC,UAAW,CACPC,YAAa,CACThW,MAAO,IAEX2B,MAAO,CACHf,OAAQ,U,mICJRjO,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF4H,gBAAiB1N,EAAMN,QAAQgU,QAC/BqT,YAAa,WAEd,CACHlkB,KAAM,4BCiJMY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFL,QAAS,QAEbwb,QAAS,CACLxb,QAAS,OACTmW,cAAe,SACfC,eAAgB,SAChBnY,WAAY1D,EAAM2D,QAAQ,GAC1BiC,YAAa5F,EAAM2D,QAAQ,IAE/BoC,OAAQ,CACJ,QAAS,CACLL,UAAW1F,EAAM2D,QAAQ,KAGjCqjB,UAAW,CACPnL,eAAgB,SAEpBoL,aAAc,CACVpL,eAAgB,OAEpBgC,KAAM,CACF7C,SAAU,IACVzH,OAAQ,IACRwT,YAAa,QACbG,YAAa,EACbC,YAAannB,EAAMN,QAAQgU,QAC3BhG,gBAAiB1N,EAAMN,QAAQiO,WAAWC,MAC1CwZ,SAAU,QAEdC,WAAY,CACRF,YAAannB,EAAMN,QAAQgU,QAC3BqT,YAAa,QACbG,YAAa,EACbI,aAAc,QAElBC,aAAc,GACdC,cAAe,MACZ,CACH3kB,KAAM,oB,iDC7MC4kB,GAAc,sCCArB5sB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAiFjBssB,GA5C6B,SAAUlqB,GAClD,IAAI+Y,EAAS/Y,EAAG+Y,OAAQqH,EAASpgB,EAAGogB,OAAQ/Q,EAAYrP,EAAGqP,UAAWpE,EAAWjL,EAAGiL,SAAUkf,EAAOnqB,EAAGmqB,KAAM9nB,EAAKrC,EAAG6L,OAAQA,OAAgB,IAAPxJ,EAAgB,KAAOA,EAAI+nB,EAAUpqB,EAAGoqB,QAASC,EAAQrqB,EAAGqqB,MAAOnmB,EAAKlE,EAAGsqB,QAASA,OAAiB,IAAPpmB,EAAgB,GAAKA,EAAIqT,EAAKvX,EAAGuqB,OAAQA,OAAgB,IAAPhT,GAAuBA,EAC9S,IAAK8S,EAAMhJ,MAAM4I,IACb,MAAM,IAAItnB,MAAM,oKAEpB,IAAI6U,EAAK6S,EAAMhJ,MAAM4I,IAAcO,EAAchT,EAAG,GAAIiT,EAAcjT,EAAG,GAGrEkT,EAAwBC,aAAoBP,EAASI,EAAavrB,IAAImhB,EAAQvU,GAAS,CAAE+e,KADlF,EAC8FN,QAASA,GAAWH,EAAMpR,EAAQ9N,GACvI4f,GAAoBH,EAAsBxQ,KAAO,IAChDnU,KAAI,SAAUL,GACf,GAAKglB,EAAsBjpB,KAAKiE,GAGhC,OAAOglB,EAAsBjpB,KAAKiE,GAAI+kB,MAErC1R,QAAO,SAAUrT,GAAM,QAASA,KACjColB,EAAgBP,EACdQ,KAAKF,GACLA,EACFG,EAAaC,aAAW5b,EAAWyb,GAUvC,MAAO,CACHI,SAAU,IAAM7b,EAChBpE,SAAUoE,EACV5N,KAXiBgB,mBAAQ,WACzB,OAAQuoB,EAAWvpB,MAAQ,IACtBsX,QAAO,SAAUoS,GAAK,QAASA,KAC/BzR,QAAO,SAAUC,EAAKlY,GACvB,IAAIzB,EACJ,OAAQ3C,GAASA,GAAS,GAAIsc,KAAO3Z,EAAK,IAAOyB,EAAKiE,IAAMjE,EAAMzB,MACnE,MACJ,CAACgrB,EAAWvpB,OAKXyY,IAAK4Q,EACLM,YAAajB,EACbna,MAAO0a,EAAsB1a,OAASgb,EAAWhb,MACjDH,QAAS6a,EAAsB7a,SAAWmb,EAAWnb,QACrDwb,OAAQX,EAAsBW,QAAUL,EAAWK,OACnDC,MAAOZ,EAAsBY,MAC7BV,KAjCO,EAkCPN,QAASA,ICvFbjtB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAqCP+tB,GAA2B,SAAUvrB,GACrC,IAAIqP,EAAYrP,EAAGqP,UAAW+a,EAAUpqB,EAAGoqB,QAASC,EAAQrqB,EAAGqqB,MAAOjoB,EAAWpC,EAAGoC,SAAUkoB,EAAUtqB,EAAGsqB,QAASH,EAAOnqB,EAAGmqB,KAC9H9nB,GAD6IrC,EAAGwrB,OAC3IxrB,EAAG6L,QACRA,OAAgB,IAAPxJ,EAAgB,KAAOA,EAAIyG,EAAQnH,GAAO3B,EAAI,CAAC,YAAa,UAAW,QAAS,WAAY,UAAW,OAAQ,SAAU,WAClI,IAAKqqB,EAAMhJ,MAAM4I,IACb,MAAM,IAAItnB,MAAM,wJAEpB,IAAIuB,EAAKgmB,GAAsC,CAC3CnR,OAAQjQ,EAAMiQ,OACduR,QAASA,EACTlK,OAAQtX,EAAMsX,OACdnV,SAAUnC,EAAMmC,SAChBoE,UAAWA,EACX+a,QAASA,EACTve,OAAQA,EACRse,KAAMA,EACNE,MAAOA,IACPra,EAAQ9L,EAAG8L,MAAOyb,EAA2B9pB,GAAOuC,EAAI,CAAC,UAC7D,OAAI8L,EACO7M,IAAMC,cAAc2G,KAAY,CAAEtG,MAAO,SAAWuM,EAAMlQ,SAE7DqD,IAAMC,cAAcsoB,KAAqB,CAAEvsB,MAAO9B,GAASA,GAAS,GAAIouB,GAA2B,CAGnGE,iBAAkB,GAAIC,aAAc,GAAIC,WAAW,EAAOC,SAAU,KAAMC,aAAc,KAAMC,gBAAiB,KAAMC,WAAY,KAAMC,YAAa,GAAIC,WAAY,KAAMC,QAAS,KAAMC,WAAY,KAAMC,QAAS,KAAMC,WAAY,QAAWnqB,IAE7PmpB,GAAyB/L,aAAe,CACpC2K,KAAM,CACFxe,MAAO,KACP6gB,MAAO,QAEXC,UAAU,GAEClB,I,UCtFAmB,GAJuB,SAAU1sB,GAE5C,MAAO,qBADQA,EAAGiL,SACuB,IADHjL,EAAGoqB,QACgB,IADKpqB,EAAGqP,WCA1Dsd,GAA6BzvB,6BAAcC,GCDlDE,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YA2JjBgvB,GAvH6B,SAAU5sB,GAClD,IAAIogB,EAASpgB,EAAGogB,OAAQrH,EAAS/Y,EAAG+Y,OAAQ1W,EAAKrC,EAAGsqB,QAASA,OAAiB,IAAPjoB,EAAgB,GAAKA,EAAIgN,EAAYrP,EAAGqP,UAAWpE,EAAWjL,EAAGiL,SAAUkf,EAAOnqB,EAAGmqB,KAAMjmB,EAAKlE,EAAG6L,OAAQA,OAAgB,IAAP3H,EAAgB,KAAOA,EAAIkmB,EAAUpqB,EAAGoqB,QAASC,EAAQrqB,EAAGqqB,MAAOwC,EAAW7sB,EAAG6sB,SAC5Q,IAAKxC,EAAMhJ,MAAM4I,IACb,MAAM,IAAItnB,MAAM,qKAEpB,IAAI4U,EAAK8S,EAAMhJ,MAAM4I,IAAcO,EAAcjT,EAAG,GAAIkT,EAAclT,EAAG,GAGrEmT,EAAwBC,aAAoBP,EAASI,EAAapK,EAAO1a,GAAI,CAAEklB,KADxE,EACoFN,QAASA,GAAWH,EAAMpR,EAAQ9N,EAAU,CACvI6hB,WAAuB,OAAX1M,QAA8B,IAAXA,OAAoB,EAASA,EAAO1a,MAMnEqnB,EAAqBL,GAAgC,CACrDrd,UAAWA,EACXpE,SAAUA,EACVmf,QAASA,IAET5S,EAAKhX,wBAASrD,GAAY6vB,EAA6BxV,EAAG,GAAIyV,EAAgCzV,EAAG,GACjG0V,EAAiBC,aAASJ,EAAoB,CAE9CvhB,aAAcwhB,QAA8B7vB,EAC5C0vB,SAAUO,aAAkBP,KAE5BrkB,EAAO6kB,eACPC,GAA+B5C,EAAsBxQ,KAAO,IAAIqT,KAAK,KACzErsB,qBAAU,WACN,GAAyC,qBAA9BwpB,EAAsBxQ,IAAjC,CAGA,IAAI4Q,GAAiBJ,EAAsBxQ,KAAO,IAAIR,QAAO,SAAUC,EAAKjU,GACxE,GAAIglB,EAAsBjpB,KAAKiE,GAAK,CAChC,IAAI8nB,EAAW9C,EAAsBjpB,KAAKiE,GAAI+kB,IACf,IAA3B9Q,EAAI9X,QAAQ2rB,IACZ7T,EAAI7N,KAAK0hB,GAGjB,OAAO7T,IACR,IACuC,qBAA/BqT,GACPxkB,EAAKilB,OAAOV,EAAoBjC,GAChCtiB,EAAKklB,gBAAgBX,IAGrBE,EAA8BnC,MAEJ,CAACwC,EAA6BP,EAAoBvkB,EAAMiiB,IAE1F,IAAIkD,EAAiBC,aAAWve,EAAW,CAAEub,KAAM,EAAGN,QAAS,IAAMH,EAAM,IAC3EjpB,qBAAU,WACN,IAAIlB,EACA2tB,EAAetC,SACwB,QAArCrrB,EAAKktB,EAAeW,MAAM1uB,aAA0B,IAAPa,OAAgB,EAASA,EAAGnC,QAAU,GACrFqvB,EAAeW,MAAM1uB,MAAM6Z,MAAK,SAAUtT,GAAM,OAAQioB,EAAezT,IAAIna,SAAS2F,OACpFioB,EAAeG,YAEpB,EAAEZ,EAAeW,MAAM1uB,OAAS,IAAIouB,OAAQI,EAAeG,UAE9D,IAAI9C,EAAaC,aAAW5b,EAAW6d,EAAeW,MAAM1uB,OAAS,IACjE4M,EAAU4hB,EAAezT,IAAInU,KAAI,SAAUL,GAAM,OAAOioB,EAAelsB,KAAKiE,MAC5EqoB,EAAexsB,uBAAY,SAAUysB,GACrC,IAAI7uB,EAAQ6uB,EAAa5e,OACnB4e,EAAa5e,OAAOjQ,MACpB6uB,EACNxlB,EAAKilB,OAAOV,EAAoB5tB,GAEhC+tB,EAAeW,MAAMI,WACtB,CAACzlB,EAAMukB,EAAoBG,IAC1B/tB,EAAQ+tB,EAAeW,MAAM1uB,MAC7BsY,EC/GmC,WACvC,IAAIqJ,EAAUjgB,qBAAW8rB,IACzB,IAAK7L,EACD,MAAM,IAAIne,MAAM,kZAEpB,OAAOme,ED0GEoN,GAAiCC,EAA0B1W,EAAG0W,wBAAyBC,EAA4B3W,EAAG2W,0BA2B/H,OA1BAltB,qBAAU,WAQN,OAPAitB,EAAwB,CACpBljB,SAAUA,EACVoE,UAAWA,EACXxD,OAAQA,EACRue,QAASA,EACTC,MAAOA,IAEJ,WACH+D,EAA0B,CACtBnjB,SAAUA,EACVoE,UAAWA,EACXxD,OAAQA,EACRue,QAASA,EACTC,MAAOA,OAGhB,CACCpf,EACAoE,EACAxD,EACAue,EACAC,EACA8D,EACAC,IAEG,CACHlD,SAAU,IAAM7b,EAChBpE,SAAUoE,EACVtD,QAASA,EACT8hB,MAAOxwB,GAASA,GAAS,GAAI6vB,EAAeW,OAAQ,CAAE1uB,MAAOA,EAAO+L,SAAU6iB,IAC9EvX,KAAM0W,EAAe1W,KACrB4U,YAAajB,EACbna,MAAO0a,EAAsB1a,OACzBgb,EAAWhb,OACX2d,EAAe3d,MACnBH,QAAS6a,EAAsB7a,SAC3Bmb,EAAWnb,SACX8d,EAAe9d,QACnBwb,OAAQX,EAAsBW,QAC1BL,EAAWK,QACXsC,EAAetC,OACnBC,MAAOZ,EAAsBY,MAC7BV,KA5GO,EA6GPN,QAASA,IEjKbjtB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAgCP6wB,GAA2B,SAAUruB,GACrC,IAAIkrB,EAAWlrB,EAAGkrB,SAAU9oB,EAAWpC,EAAGoC,SAAoCksB,GAAdtuB,EAAGiF,UAAwBjF,EAAG0F,IAAI6oB,EAASvuB,EAAGuuB,OAAQvjB,EAAQhL,EAAGgL,MAAOijB,EAASjuB,EAAGiuB,OAAQ/iB,EAAWlL,EAAGkL,SAAUsjB,EAAUxuB,EAAGwuB,QAAS1vB,EAAQkB,EAAGlB,MAAOwrB,EAAUtqB,EAAGsqB,QAASlK,EAASpgB,EAAGogB,OAAQ/Q,EAAYrP,EAAGqP,UAAW8a,EAAOnqB,EAAGmqB,KAAM9nB,EAAKrC,EAAG6L,OAAQA,OAAgB,IAAPxJ,EAAgB,KAAOA,EAAI+nB,EAAUpqB,EAAGoqB,QAASC,EAAQrqB,EAAGqqB,MAAOwC,EAAW7sB,EAAG6sB,SAAU/jB,EAAQnH,GAAO3B,EAAI,CAAC,WAAY,WAAY,YAAa,KAAM,SAAU,QAAS,SAAU,WAAY,UAAW,QAAS,UAAW,SAAU,YAAa,OAAQ,SAAU,UAAW,QAAS,aACxmB,IAAKqqB,EAAMhJ,MAAM4I,IACb,MAAM,IAAItnB,MAAM,wJAEpB,IAAIuB,EAAKuqB,aAAS,CACd/oB,GAAI4oB,EACJL,OAAQA,EACR/iB,SAAUA,EACVsjB,QAASA,EACT3iB,OAAQA,EACRghB,SAAUA,EACV/tB,MAAOA,EACPyvB,OAAQA,IACR7oB,EAAKxB,EAAGwB,GAAIgpB,EAAaxqB,EAAGwqB,WAC5BnX,EAAKqV,GAAsC,CAC3C1B,SAAUA,EACV9K,OAAQA,EACRrH,OAAQjQ,EAAMiQ,OACduR,QAASA,EACTrf,SAAUnC,EAAMmC,SAChBoE,UAAWA,EACX+a,QAASA,EACTve,OAAQA,EACRse,KAAMA,EACNE,MAAOA,EACPwC,SAAUA,IACV7c,EAAQuH,EAAGvH,MAAOH,EAAU0H,EAAG1H,QAASwb,EAAS9T,EAAG8T,OAAQtf,EAAUwL,EAAGxL,QAAS0f,EAA2B9pB,GAAO4V,EAAI,CAAC,QAAS,UAAW,SAAU,YAEvJvD,EADYjR,aACMD,CAAUkI,GAAS,aAAelC,EAAMmC,SAAW,WAAaY,EAAQ,CAAE3I,EAAG8H,IACnG,GAAIgF,EACA,OAAO7M,IAAMC,cAAc2G,KAAY,CAAEtG,MAAO,SAAWuM,EAAMlQ,SAErE,IAAI6uB,EAAatxB,GAASA,GAASA,GAAS,GAAIyL,GAAQ,CAAEmC,SAAUoE,EAAW6b,SAAU,IAAM7b,EAAWtD,QAASA,EAASrG,GAAIA,EAAImoB,MAAOpC,EAAyBoC,MAAOa,WAAYA,EAAY1jB,MAAOgJ,EAAiBnE,QAASA,EAASwb,OAAQA,EAAQ7U,KAAMnZ,GAASA,GAAS,GAAIouB,EAAyBjV,MAAO,CAAEoY,YAAY,IAAUC,iBAAiB,EAAOC,qBAAqB,IAAS1sB,EAAS0G,OAChZ,OAAOlG,uBAAa8gB,WAASqL,KAAK3sB,GAAWusB,IAEjDN,GAAyB7O,aAAe,CACpC2K,KAAM,CACFxe,MAAO,KACP6gB,MAAO,S,OAGA6B,I,uCClFAW,GAZa,CACxB,UAAW,CACPC,aAAc,4DACdC,YAAa,yCACbC,WAAY,aACZC,SAAU,WACVvnB,OAAQ,CACJwnB,SAAU,WACVC,UAAW,e,0CCRnBjyB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAkBA+xB,GAAc/e,sBAAW,SAAU1H,EAAO4H,GAC3B5H,EAAM9E,QAEvB8E,EAAMrF,MAFX,IAIsC+rB,EAAa1mB,EAAM0mB,WAAYrwB,EAAQ2J,EAAM3J,MAAO2I,EAAWgB,EAAMhB,SAAUzF,EAAKyG,EAAMwa,QAASA,OAAiB,IAAPjhB,EAAgB,SAAWA,EAAI6B,EAAK4E,EAAM1B,OAAQA,OAAgB,IAAPlD,EAAgB,QAAUA,EAAIqT,EAAKzO,EAAM2mB,YAAaA,OAAqB,IAAPlY,EAAgB,mBAAqBA,EAAIhV,EAAOZ,GAAOmH,EAAO,CAAC,UAAW,QAAS,aAAc,QAAS,WAAY,UAAW,SAAU,gBACzZ9E,EAAUC,GAAU6E,GACpBhG,EAAYC,cACZyrB,EAAU1lB,EAAM0lB,QAASP,EAASnlB,EAAMmlB,OAAQ/iB,EAAWpC,EAAMoC,SACjEwkB,EAAyBnuB,uBAAY,SAAUR,GAC/CA,EAAM4uB,iBAGNzkB,EAAS,MACV,CAACA,IACA0kB,EAAcruB,uBAAY,SAAUR,GACpCytB,GAAWA,EAAQztB,KACpB,CAACytB,IACAqB,EAAatuB,uBAAY,SAAUR,GACnCktB,GAAUA,EAAOltB,KAClB,CAACktB,IACA6B,EAAc9rB,EAAQ8rB,YAAaC,EAAY/rB,EAAQ+rB,UAAWC,EAAoBhsB,EAAQgsB,kBAAmBC,EAAsBjsB,EAAQisB,oBAAqBC,EAAmBlsB,EAAQksB,iBAAkBC,EAAiBnsB,EAAQ6pB,MAAOuC,EAAqBpsB,EAAQqsB,UAAWC,EAAc3uB,GAAOqC,EAAS,CAAC,cAAe,YAAa,oBAAqB,sBAAuB,mBAAoB,QAAS,cACja,OAAQb,gBAAoB6J,KAAW3P,GAAS,CAAE2G,QAASssB,EAAanxB,MAAOA,EAAOoxB,WAAY,CAC1FtrB,UAAWkrB,GACZX,WAAYnyB,GAAS,CAAE4H,UAAWmrB,EAAoBI,eAAiBrtB,gBAAoBstB,KAAgB,CAAExrB,UAAWgrB,EAAqBxoB,SAAU,SAClJtE,gBAAoButB,KAAY,OAASC,aAAextB,gBAAoBstB,KAAgB,CAAExrB,UAAW+qB,EAAmBvoB,SAAU,OACtItE,gBAAoBK,IAAY,CAAEyB,UAAW6qB,EAAa,aAAchtB,EAAU,+BAAgCQ,MAAOR,EAAU,+BAAgC8tB,eAAe,EAAMltB,QAASgsB,EAAwBmB,YAAaC,GAA4BhpB,UAAW3I,GAAS2I,GAClR3E,gBAAoB4tB,KAAW,CAAE9rB,UAAW+rB,KAAWjB,EAAWG,QAA2BV,GAAa1nB,SAAUA,EAAUwb,QAASA,EAASlc,OAAQA,EAAQqoB,YAAa3sB,EAAU2sB,EAAa,CAAEvsB,EAAGusB,KAAkBltB,EAAM,CAAEisB,QAASoB,EAAa3B,OAAQ4B,EAAYnf,IAAKA,QAEtS6e,GAAY1b,YAAc,cAC1B,IAAI5P,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF4H,gBAAiB,SAAUlQ,GACvB,IAAIyD,EAAQzD,EAAGyD,MACf,OAAO4M,aAAe,UAAV5M,EACNjB,EAAMN,QAAQ2lB,OAAOC,MACrBtlB,EAAMN,QAAQ2lB,OAAOG,MAAO,MAEtCzM,aAAc/Y,EAAMgZ,MAAMD,aAC1BrT,UAAW,EACX,UAAW,CACPgI,gBAAiB,SAAUlQ,GACvB,IAAIyD,EAAQzD,EAAGyD,MACf,OAAO4M,aAAe,UAAV5M,EACNjB,EAAMN,QAAQ2lB,OAAOC,MACrBtlB,EAAMN,QAAQ2lB,OAAOG,MAAiB,UAAVvkB,EAAoB,IAAO,OAGrE,iBAAkB,CACdyM,gBAAiB,SAAUlQ,GACvB,IAAIyD,EAAQzD,EAAGyD,MACf,OAAO4M,aAAe,UAAV5M,EACNjB,EAAMN,QAAQ2lB,OAAOC,MACrBtlB,EAAMN,QAAQ2lB,OAAOG,MAAiB,UAAVvkB,EAAoB,IAAO,OAGrE,MAAO,CACHA,MAAO,WAEX,qCAAsC,CAClCka,OAAQ,QAEZ,oCAAqC,CACjCA,OAAQ,QAEZzJ,OAAQ1R,EAAM0R,OAAOC,MAAQ,GAEjCkc,UAAW,CACPlgB,WAAY,OACZoL,aAAc,EACd,UAAW,CACPpL,WAAY,SAGpB0d,MAAO,CACHla,WAAYnR,EAAM2D,QAAQ,GAC1BoN,WAAY/Q,EAAMgR,YAAY7T,OAAO,SACrC2T,MAAO,IACP,UAAW,CACPA,MAAO,MAGfyc,UAAW,CACPha,OAAQ,GACRzC,MAAO,GAEX4c,iBAAkB,CACd5c,MAAO,IAEXwc,YAAa,CACT/Z,OAAQ,GACRzC,MAAO,GACPlJ,QAAS,GAEb6lB,oBAAqB,CACjB/nB,UAAW,gBAEf8nB,kBAAmB,CACfzc,WAAY/Q,EAAMgR,YAAY7T,OAAO,WACrC2V,QAAS,SAAUtV,GAEf,OADYA,EAAGb,MACG,EAAI,OAG3B,CAAEkG,KAAM,kBACXyrB,GAA6B,SAAU/vB,GACvCA,EAAM4uB,kBC/ICsB,IC4BKhrB,aAAW,SAAUzD,GAAS,MAAQ,CAClD0uB,UAAW,CACP/gB,WAAY3N,EAAMN,QAAQiO,WAAWC,MACrClC,aAAc1L,EAAM2D,QAAQ,GAC5B+B,UAAW1F,EAAM2D,QAAQ,QDhCAjJ,wBAAc,CAC3C4I,QAAS,aAGTulB,QAAQ,EACRxb,SAAS,EACTlH,QAAS,GACTwoB,MAAO,M,IAE8BF,GAAoB5d,SEqD7CpN,aAAW,WAAc,MAAQ,CAC7CqC,KAAM,CACFoL,UAAW,0BAEZ,CACHrO,KAAM,yB,QC/DK+rB,ICiDCnrB,aAAW,WAAc,MAAQ,CAC7CqC,KAAM,CACFoL,UAAW,sBACX8J,SAAU,WAEX,CACHnY,KAAM,yBD5DqB,CAC3B,YAAa,CACTgsB,OAAQ,Y,SEqBL9iB,GAAsB,WAC7B,IAAIH,EAAY9H,YAAY+H,MACxBvL,EAAYC,cAChB,OAAO,SAAUkI,EAAUiR,QACT,IAAVA,IAAoBA,EAAQ,GAChC,IAAIoV,EAAqBljB,EAAUhJ,MAAK,SAAUia,GAAK,OAAc,OAANA,QAAoB,IAANA,OAAe,EAASA,EAAEha,QAAU4F,KAcjH,OAbYnI,EAAU,aAAemI,EAAW,QAAS,CACrDsT,YAAarC,EACbhZ,EAAGouB,GACCA,EAAmBjlB,SACnBilB,EAAmBjlB,QAAQrB,MACzBlI,EAAUwuB,EAAmBjlB,QAAQrB,MAAO,CAC1CuT,YAAarC,EACbhZ,EAAGouB,EAAmBjlB,QAAQrB,QAEhCwT,KAAWC,SAASvC,EAAQ,EACxBsC,KAAWE,UAAUzT,GACrBuT,KAAW+S,YAAYtmB,QCxCzC5N,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAWrB4zB,GAAgB,SAAUnlB,GACjC,IAAIrM,EAAKqM,EAAQiX,QAASA,OAAiB,IAAPtjB,EAAgB,OAASA,EAAIyxB,EAAoBplB,EAAQolB,kBACzFrR,EAASsR,aAAiBrlB,GAC1BiC,EAAmBC,KACnBzL,EAAYC,cAChB,IAAKqd,EACD,OAAO,KAEX,IAAI1B,OAAiCvhB,GAArBs0B,EACVA,EACAE,GAAoBvR,EAAOvY,QAC7BxF,EAAK+d,EAAOjgB,QAAS+D,EAAK7B,EAAGZ,KAAMA,OAAc,IAAPyC,EAAgB,GAAKA,EAAIqT,EAAKlV,EAAG6X,IAAKA,OAAa,IAAP3C,EAAgB,GAAKA,EAAI7R,EAAKrD,EAAGqD,GACvHL,GAAiB,OAAT5D,QAA0B,IAATA,OAAkB,EAASA,EAAK4D,QAC/C,OAAT5D,QAA0B,IAATA,OAAkB,EAASA,EAAKuJ,SACxC,OAATvJ,QAA0B,IAATA,OAAkB,EAASA,EAAK6B,SACxC,OAAT7B,QAA0B,IAATA,OAAkB,EAASA,EAAK4N,aACxC,OAAT5N,QAA0B,IAATA,OAAkB,EAASA,EAAKiE,KAClDA,EACA2F,EAAS,GACb,GAAI+U,EAAOjgB,QAAQqB,aACf,IAAK,IAAI0f,EAAK,EAAG1J,EAAKla,OAAOoO,KAAK0U,EAAOjgB,QAAQqB,cAAe0f,EAAK1J,EAAG3Z,OAAQqjB,IAAM,CAClF,IAAIvV,EAAQ6L,EAAG0J,GACXd,EAAOjgB,QAAQsB,MACf2e,EAAOjgB,QAAQsB,KAAKkK,KAChByU,EAAOjgB,QAAQqB,aAAamK,IAChCN,EAAOS,KAAKhJ,EAAU5E,WAAM,EAAQ0N,aAA6B,CAC7DC,OAAQF,EACRV,SAAUmV,EAAOnV,aAKjC,IAAI2mB,EAAmB,CACnBvsB,KAAMA,EACN6U,IAAKA,EAAIqT,KAAK,MACdtiB,SAAUqD,EAAiB8R,EAAOnV,SAAUyT,EAAY,EAAI,GAAGjR,cAC/DpC,OAAQA,EAAOwmB,MAAM,EAAG,GAAGtE,KAAK,MAChCuE,WAAYzmB,EAAOkiB,KAAK,MACxBhP,YAAyB,WAAZ+E,GAAwBjY,EAAOxN,OAAS,EAC/CwN,EAAOxN,OAAS,EAChBwN,EAAOxN,QAEbk0B,EAA2B,WAAZzO,GAAwBjY,EAAOxN,OAAS,EACrD,qBACAylB,EAIN,OAHYxgB,EAAU,gBAAkBkvB,GAAuBD,GAAgB,IAAM3R,EAAOnV,SAAW,IAAMmV,EAAOvY,OAAQxK,GAASA,GAAS,GAAIu0B,GAAmB,CAEjK1uB,EAAGJ,EAAU,gBAAkBkvB,GAAuBD,GAAgB,IAAM3R,EAAOvY,OAAQ+pB,OAG/FI,GAAyB,CACzBC,KAAM,QACNC,OAAQ,eACR9R,OAAQ,eACR+R,mBAAoB,6BAEpBR,GAAsB,CACtBhyB,QAAQ,EACRyyB,QAAQ,EACRC,YAAY,EACZC,QAAQ,EACRC,YAAY,GCjFZl1B,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YASrB40B,GAAc,SAAU1pB,GAC/B,IAAIsX,EAASsR,aAAiB5oB,GAC1B2pB,EAAcjB,GAAc,CAAEpR,OAAQA,EAAQkD,QAAS,WAC3D,OAAKlD,EAGGjd,gBAAoB4G,KAAY1M,GAAS,CAAEwT,UAAW,OAAQyS,QAAS,SAAWoP,aAAuB5pB,IAAS2pB,GAF/G,MAIfD,GAAYhT,aAAe,CACvBiN,UAAU,G,uDC3BVpvB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAUAm1B,GAAc,SAAU7pB,GAC/B,IAAI7D,EAAY6D,EAAM7D,UAAW2tB,EAAM9pB,EAAM8pB,IAAKC,EAAW/pB,EAAM+pB,SAAU7yB,EAAK8I,EAAMW,KAAMA,OAAc,IAAPzJ,EAAgB,SAAWA,EAAIuC,EAAOZ,GAAOmH,EAAO,CAAC,YAAa,MAAO,WAAY,SACtL9E,EAAUC,GAAU6E,GACxB,OAAQ3F,gBAAoB2vB,KAAQz1B,GAAS,CAAEu1B,IAAKA,EAAK3tB,UAAWwX,KAAWxX,EAAWjB,EAAQyF,KAAUlH,GAASqwB,EAAM,KAAOC,EAAWE,GAAYF,GAAY1vB,gBAAoB6vB,KAAY,QAErM/uB,GAAYgC,YAAW,CACvBgtB,MAAO,CACH3f,MAAO,GACPyC,OAAQ,IAEZmd,OAAQ,CACJ5f,MAAO,GACPyC,OAAQ,MAGLgd,GAAc,SAAU1tB,GAC/B,OAAOA,EACFgc,MAAM,mBACNkM,KAAK,IACLlM,MAAM,eACNkM,KAAK,IACL4F,eCnDL91B,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GASA41B,GAAc,SAAUtqB,GAC/B,IAAIsX,EAASsR,aAAiB5oB,GAC1B9I,EAAK8I,EAAM+C,OAAQA,OAAgB,IAAP7L,EAAgB,SAAWA,EAAIqC,EAAKyG,EAAMuqB,eAAgBA,OAAwB,IAAPhxB,EAAgB,WAAaA,EAAIE,EAAOZ,GAAOmH,EAAO,CAAC,SAAU,mBACxK8pB,EAAM3zB,IAAImhB,EAAQvU,GAClBgnB,EAAW5zB,IAAImhB,EAAQiT,GAC3B,OAAKjT,EAGGjd,gBAAoBwvB,GAAat1B,GAAS,CAAEu1B,IAAKA,EAAKC,SAAUA,EAAUS,KAAM,gBAAkB/wB,IAF/F,MCnCXlF,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAUA+1B,GAAc,SAAdA,EAAwBzqB,GAC/B,IAAI0qB,EAAiB1qB,EAAM0qB,eAAgBvuB,EAAY6D,EAAM7D,UAA4CogB,GAAfvc,EAAM9E,QAAgB8E,EAAMuc,MAA6B9iB,GAAduG,EAAM+C,OAAelK,GAAOmH,EAAO,CAAC,iBAAkB,YAAa,UAAW,OAAQ,YACvN9E,EAAUC,GAAU6E,GACpBsX,EAASsR,aAAiB5oB,GAC9B,OAAI0qB,EACQrwB,gBAAoBswB,KAAgBp2B,GAAS,CAAEwO,OAAQ,YAAawD,UAAWmkB,EAAgBnO,KAAMA,GAAQ9iB,GACjHY,gBAAoBowB,EAAa,OAElCnT,EAAUjd,gBAAoB,MAAO,CAAE8B,UAAWwX,KAAWzY,EAAQsE,KAAMrD,IAC9E9B,gBAAoBiwB,GAAa,CAAEvnB,OAAQ,SAAUuU,OAAQA,EAAOsT,OAAStT,EAAOsT,OAAStT,EAAQnb,UAAWjB,EAAQivB,QACxH9vB,gBAAoB6J,KAAW3P,GAAS,CAAEwO,OAAQ,YAActJ,EAAM,CAAE6d,OAAQA,EAAOsT,OAAStT,EAAOsT,OAAStT,MAAe,MAEnInc,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFL,QAAS,OACTD,WAAY,UAEhBirB,MAAO,CACHhrB,QAAS,cACTqL,MAAO9Q,EAAM2D,QAAQ,GACrB4P,OAAQvT,EAAM2D,QAAQ,GACtBiC,YAAa5F,EAAM2D,QAAQ,QAGnCotB,GAAY/T,aAAe,CACvBiN,UAAU,GCvDP,ICAHpvB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAUrB+1B,GAAgB,SAAU7qB,GACjC,IAAIsX,EAASsR,aAAiB5oB,GAC1BwF,EAAmBC,KACvB,IAAK6R,EACD,OAAO,KAEX,IAAIpgB,EAAK8I,EAAM+C,OAAQA,OAAgB,IAAP7L,EAAgB,WAAaA,EACzDiL,EAAWhM,IAAImhB,EAAQvU,GAC3B,OAAQ1I,gBAAoB4G,KAAY1M,GAAS,CAAEwT,UAAW,OAAQyS,QAAS,SAAWoP,aAAuB5pB,IAASwF,EAAiBrD,EAAU,KAEzJ0oB,GAAcnU,aAAe,CACzBiN,UAAU,G,8CCyDExmB,YAAW,CACvBoB,SAAU,CACNwN,aAAc,EACd5M,QAAS,OACTmW,cAAe,UAEnB5V,KAAM,CACFP,QAAS,OACTmW,cAAe,SACf9K,MAAO,QAEXua,MAAO,CACHva,MAAO,SAEZ,CACCjO,KAAM,uB,6DCrDMY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,GACNwH,QAAS,CACL7H,QAAS,OACT2rB,SAAU,QAEdC,gBAAiB,CACb5rB,QAAS,OACTD,WAAY,UAEhB8rB,OAAQ,CACJ1rB,YAAa5F,EAAM2D,QAAQ,IAE/ButB,OAAQ,GACR7rB,OAAQ,GACRksB,KAAM,MACH,CACH1uB,KAAM,mB,YCzDMY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF4H,gBAAiB1N,EAAMN,QAAQoI,KAAK,KACpCrC,QAAS,mBAEV,CAAE5C,KAAM,0BCICY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFgL,MAAO,OACPlM,OAAQ,QAEZ4sB,KAAM,CACF9rB,UAAW1F,EAAM2D,QAAQ,IACzB+H,aAAc1L,EAAM2D,QAAQ,IAEhC8tB,SAAU,CACN3gB,MAAO,MACP6C,cAAe3T,EAAM2D,QAAQ,GAC7B+H,aAAc1L,EAAM2D,QAAQ,IAEhCmX,KAAM,CACFhK,MAAO,OACPpF,aAAc1L,EAAM2D,QAAQ,IAEhC0tB,gBAAiB,CACb5rB,QAAS,OACTD,WAAY,UAEhB8rB,OAAQ,CACJ1rB,YAAa5F,EAAM2D,QAAQ,OAE5B,CACHd,KAAM,uB,OCeMY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF,UAAW,CACP4H,gBAAiB1N,EAAMN,QAAQ2F,OAAOqsB,QAG9CpkB,QAAS,CACL7H,QAAS,OACT2rB,SAAU,QAEdF,OAAQ,CACJtrB,YAAa5F,EAAM2D,QAAQ,KAE/B0B,OAAQ,MACL,CACHxC,KAAM,mBC5BMY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACF4F,aAAc1L,EAAM2D,QAAQ,IAEhC6E,MAAO,GACPmpB,OAAQ,MACL,CAAE9uB,KAAM,oBClCCY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFgL,MAAO,OACPlM,OAAQ,QAEZ4sB,KAAM,CACF9rB,UAAW1F,EAAM2D,QAAQ,IACzB+H,aAAc1L,EAAM2D,QAAQ,IAEhC8tB,SAAU,CACN3gB,MAAO,MACP6C,cAAe3T,EAAM2D,QAAQ,GAC7B+H,aAAc1L,EAAM2D,QAAQ,IAEhCmX,KAAM,CACFhK,MAAO,OACPpF,aAAc1L,EAAM2D,QAAQ,OAE7B,CACHd,KAAM,uB,6BC0CMY,YAAW,CACvBoB,SAAU,CACNwN,aAAc,EACd5M,QAAS,OACTmW,cAAe,UAEnB5V,KAAM,CACFP,QAAS,OACTmW,cAAe,SACf9K,MAAO,QAEXua,MAAO,CACHva,MAAO,SAEZ,CACCjO,KAAM,yBCnEMY,aAAW,SAAUzD,GACjC,IAAIxC,EACJ,MAAQ,CACJsI,MAAOtI,EAAK,GACRA,EAAGwC,EAAM2P,YAAYiiB,GAAG,OAAS,CAC7B5H,OAAQ,EACRlZ,MAAO,OACPlL,YAAa,OAEjBpI,EAAGwC,EAAM2P,YAAY8M,KAAK,OAAS,CAC/BhX,QAAS,QAEbjI,GACJq0B,YAAa,CACTpsB,QAAS,OACTmW,cAAe,aAGxB,CACC/Y,KAAM,uBCLMY,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFL,QAAS,OACTmW,cAAe,SACf9W,YAAa9E,EAAM2D,QAAQ,IAC3B0O,aAAcrS,EAAM2D,QAAQ,IAC5BmN,MAAO,Y,sBC5BCrN,aAAW,SAAUzD,GAAS,MAAQ,CAClDyH,YAAa,CACTxC,SAAU,WACVE,MAAOnF,EAAM2D,QAAQ,GACrBuB,IAAKlF,EAAM2D,QAAQ,GACnB1C,MAAOjB,EAAMN,QAAQoI,KAAK,SAE3B,CACHjF,KAAM,sB,yDC3BNhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAiCP82B,GAAuB,SAAUxrB,GACjC,IAAI9I,EACAu0B,EAAyBzrB,EAAMyrB,uBAAwBrJ,EAAWpiB,EAAMoiB,SAAU9oB,EAAW0G,EAAM1G,SAAU6C,EAAY6D,EAAM7D,UAA4CuvB,GAAf1rB,EAAM9E,QAAwB8E,EAAM0rB,cAAcC,EAA2B3rB,EAAM2rB,yBAA0BC,EAAU5rB,EAAM4rB,QAASC,EAAW7rB,EAAM6rB,SAAUvU,EAAStX,EAAMsX,OAAQwU,EAAW9rB,EAAM8rB,SAAU3pB,EAAWnC,EAAMmC,SAAU4pB,EAAS/rB,EAAM+rB,OAAQC,EAAgBhsB,EAAMgsB,cAAeC,EAAWjsB,EAAMisB,SAAUzhB,EAAQxK,EAAMwK,MAAO/Q,EAAOZ,GAAOmH,EAAO,CAAC,yBAA0B,WAAY,WAAY,YAAa,UAAW,eAAgB,2BAA4B,UAAW,WAAY,SAAU,WAAY,WAAY,SAAU,gBAAiB,WAAY,UACluB9E,EAAUC,GAAU6E,GAGpBhB,GAAYktB,GAAeT,GAAyBI,GACxD,OAAQxxB,gBAAoB0B,WAAU,KAClC1B,gBAAoB8xB,KAAS53B,GAAS,CAAE4H,UAAWwX,KAAWzY,EAAQ0Q,SAAU1U,EAAK,GAC7EA,EAAGgE,EAAQkxB,eAA2B,OAAV5hB,EAC5BtT,EAAGgE,EAAQmxB,gBAA4B,OAAV7hB,EAC7BtT,GAAKiF,GAAYquB,KAAM,WAAa/wB,GAAoC,IAA7BmhB,WAASxH,MAAM9Z,GAAmBe,gBAAoB,MAAO,CAAE8B,UAAWjB,EAAQoxB,gBACjIjyB,gBAAoBkyB,KAAY,CAAEZ,yBAA0BA,GAA4BD,EAAc1sB,SAAUA,EAAU4sB,QAASA,EAASE,SAAUA,EAAUC,OAAQA,EAAQC,cAAeA,IAC/L1U,GAA+B,qBAAdA,EAAO1a,IAAuBvC,gBAAoBmyB,KAAc,CAAEpK,SAAUA,EAAU9K,OAAQA,EAAQnV,SAAUA,EAAU8pB,SAAUA,KAAkBrR,WAAS3d,IAAI3D,GAAU,SAAUmG,GACxM,OAAOA,GAAU7F,yBAAe6F,GAC1BpF,eAAmBoF,EAAQ,CACzB2iB,SAAUA,EACVsJ,aAAcQ,GAAezsB,EAAOO,MAAM0rB,aAAcA,GACxDC,yBAA0BO,GAAezsB,EAAOO,MAAM2rB,yBAA0BA,GAChFc,OAAQhtB,EAAOO,MAAMysB,OACrBb,QAASA,EACTC,SAAUA,EACVvU,OAAQA,EACRnV,SAAUA,EACV4pB,OAAQA,EACRC,cAAeE,GAAezsB,EAAOO,MAAMgsB,cAAeA,GAC1DC,SAAUC,GAAezsB,EAAOO,MAAMisB,SAAUA,KAElD,SAEV5xB,gBAAoB,MAAO,CAAE8B,UAAWjB,EAAQ2Q,WAuBxD2f,GAAqB9U,aAAe,CAChCsV,eAAe,GAEnB,IAAI7wB,GAAYgC,aAAW,SAAUzD,GACjC,IAAIxC,EACJ,MAAQ,CACJ0U,QAAS,GACTygB,eAAgB,CACZjtB,UAAW1F,EAAM2D,QAAQ,IAE7B+uB,cAAe,CACXztB,SAAU,QACV+tB,OAAQ,EACRnrB,KAAM,EACN1C,MAAO,EACPyC,QAAS,OACTkJ,MAAO,OACPmiB,UAAW,aACXC,WAAY,EACZxhB,OAAQ,GAEZkhB,eAAgB,CACZxf,KAAM,EACN3N,QAAS,OACToW,eAAgB,iBAEpB1J,QAAS3U,EAAK,GACVA,EAAGwC,EAAM2P,YAAY8M,KAAK,OAAS,CAC/BlJ,OAAQ,OAEZ/V,MAET,CAAEqF,KAAM,2BACP2vB,GAAiB,SAAU71B,EAAOoB,GAClC,MAAwB,qBAAVpB,EAAwBoB,EAAepB,G,IAE1Cw2B,aAAU,CAAEC,aAAc,MAA1BD,CAAkCrB,I,sCC9I7Cj3B,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAWPq4B,GAAmBpY,cAAW,SAAUjb,GAAS,MAAQ,CACzD8F,KAAM,CACFgL,MAAO9Q,EAAM2D,QAAQ,IACrBwX,OAAQ,gCACRtJ,UAAW,OACX,qBAAsB,CAClByV,aAAc,GAElB,WAAY,CACR7hB,QAAS,QAEb,wBAAyB,CACrBiG,aAAc1L,EAAM2D,QAAQ,KAGpCuS,SAAU,MAfS+E,CAgBhBqY,MACHC,GAA0BtY,aAAW,CACrCnV,KAAM,CACF4H,gBAAiB,qBACjB4Z,aAAc,gCACd5b,cAAe,EACf+Z,UAAW,GACX,aAAc,CACVA,UAAW,KAGnBnY,QAAS,CACL,aAAc,CACV1I,OAAQ,WAGhBsR,SAAU,IAfgB+E,CAgB3BuY,MACCC,GAA0BxY,cAAW,SAAUjb,GAAS,MAAQ,CAChE8F,KAAM,CACF8B,QAAS5H,EAAM2D,QAAQ,OAFDsX,CAIvByY,MAqDHC,GAAmB,SAAUrtB,GAC7B,IAAI9I,EACAqC,EAAKyG,EAAMstB,UAAWA,OAAmB,IAAP/zB,EAAgBwzB,GAAmBxzB,EAAI6B,EAAK4E,EAAMutB,iBAAkBA,OAA0B,IAAPnyB,EAAgB+xB,GAA0B/xB,EAAIqT,EAAKzO,EAAMwtB,iBAAkBA,OAA0B,IAAP/e,EAAgBwe,GAA0Bxe,EAAInV,EAAW0G,EAAM1G,SAAU6C,EAAY6D,EAAM7D,UAAWuS,EAAK1O,EAAMytB,gBAAiBA,OAAyB,IAAP/e,GAAwBA,EAAIC,EAAK3O,EAAMhB,SAAUA,OAAkB,IAAP2P,GAAwBA,EAAIC,EAAK5O,EAAM8E,UAAWA,OAAmB,IAAP8J,GAAwBA,EAAI1M,EAAQlC,EAAMkC,MAAOuS,EAAYzU,EAAMyU,UAAWiZ,EAAS1tB,EAAM0tB,OAAQnP,EAAsBve,EAAMue,oBAAqBE,EAAkBze,EAAMye,gBAEvpB2D,EAAWpiB,EAAMoiB,SAAU9jB,EAAS0B,EAAM1B,OAAQgZ,EAAStX,EAAMsX,OAAQnV,EAAWnC,EAAMmC,SAAUqY,EAAUxa,EAAMwa,QAAS/gB,EAAOZ,GAAOmH,EAAO,CAAC,YAAa,mBAAoB,mBAAoB,WAAY,YAAa,kBAAmB,WAAY,YAAa,QAAS,YAAa,SAAU,sBAAuB,kBAAmB,WAAY,SAAU,SAAU,WAAY,YAC/X9E,EAAUC,GAAU6E,GACpB6O,EAAKnX,mBAAS+1B,GAAkB7d,EAAWf,EAAG,GAAI8e,EAAc9e,EAAG,GACnE7U,EAAYC,cACZyF,EAAO6kB,eAIPqJ,EAAYC,GAAmBv0B,EAAUoG,EAAKouB,WAAWC,QAC7D,OAAQ1zB,gBAAoBizB,EAAW/4B,GAAS,GAAIkF,EAAM,CAAEmW,SAAUA,EAAUxN,SAJ7D,WACfurB,GAAY,SAAU/d,GAAY,OAAQA,MAG0D5Q,SAAUA,EAAU0uB,OAAQA,EAAQvxB,UAAWwX,KAAWxX,EAAWjB,EAAQsE,MAAOtI,EAAK,GACzLA,EAAGgE,EAAQ4J,WAAaA,EACxB5N,IAAMqnB,oBAAqBA,EAAqBE,gBAAiBA,IACrEpkB,gBAAoBmzB,EAAkB,CAAEQ,WAAY3zB,gBAAoBoC,IAAgB,MAAO,gBAAiB,SAAWyF,EAAQ,WAAYtF,GAAI,SAAWsF,EAAQ,UAAW/F,UAAWjB,EAAQ+yB,SAChM5zB,gBAAoB4G,KAAY,CAAEtG,MAAOizB,EAAY,QAAU,UAAWzxB,UAAWjB,EAAQgzB,SAAWl0B,EAAUkI,EAAO,CAAE9H,EAAG8H,KAC9H7H,gBAAoB4G,KAAY,CAAE9E,UAAWjB,EAAQizB,kBAAoB1Z,GAAaza,EAAUya,EAAW,CAAEra,EAAGqa,MACpHpa,gBAAoBkzB,EAAkB,CAAEpxB,UAAWjB,EAAQ3D,QAAU8C,WAAe4C,IAAI3D,GAAU,SAAUyrB,GACxG,OAAOA,GAAU1qB,gBAAoB+zB,KAAW,CAAEhM,SAAUA,EAAU2C,MAAOA,EAAOzN,OAAQA,EAAQnV,SAAUA,EAAUqY,QAASuK,EAAM/kB,MAAMwa,SAAWA,EAASlc,OAAQymB,EAAM/kB,MAAM1B,QAAUA,UAG3M+uB,GAAiB3W,aAAe,CAC5Bxb,QAAS,IAEN,IAAI2yB,GAAqB,SAAUv0B,EAAUy0B,GAChD,OAAO1zB,WAAeg0B,QAAQ/0B,GAAU4W,MAAK,SAAU6U,GAAS,OAAO1qB,iBAAqB0qB,IAAU5uB,IAAI43B,EAAQhJ,EAAM/kB,MAAM+C,YAE9H5H,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,GACN0uB,QAAS,CACLxxB,SAAUhD,EAAMwS,WAAWoiB,QAAQ,IACnCC,UAAW,SACX3B,WAAY,GAEhBuB,iBAAkB,CACdzxB,SAAUhD,EAAMwS,WAAWoiB,QAAQ,IACnC3zB,MAAOjB,EAAMN,QAAQob,KAAKC,WAE9BwZ,QAAS,GACT12B,OAAQ,CACJ4H,QAAS,SAEb2F,UAAW,CACP0F,MAAO,WAER,CACHjO,KAAM,uB,kBC9DMY,aAAW,SAAUzD,GAAS,MAAQ,CAClDw0B,QAAS,CACLxxB,SAAUhD,EAAMwS,WAAWoiB,QAAQ,IACnCC,UAAW,SACX3B,WAAY,GAEhBuB,iBAAkB,CACdzxB,SAAUhD,EAAMwS,WAAWoiB,QAAQ,IACnC3zB,MAAOjB,EAAMN,QAAQob,KAAKC,WAE9Bld,OAAQ,CACJ4H,QAAS,YAEV,CACH5C,KAAM,yB,6CC1HNhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAWA85B,GAAiB,SAAUt3B,GAClC,IAAIu3B,EAAcv3B,EAAGu3B,YAAaC,EAAcx3B,EAAGw3B,YAAaC,EAAQz3B,EAAGy3B,MAAOl1B,EAAOZ,GAAO3B,EAAI,CAAC,cAAe,cAAe,UAC/H03B,EAAkB,SAAUvU,GAAS,OAAO,WAAc,OAAOqU,EAAYrU,KACjF,OAAQhgB,gBAAoBw0B,KAASt6B,GAAS,CAAEu6B,WAAYL,GAAeh1B,GAAOk1B,EAAM1xB,KAAI,SAAU8xB,EAAM1U,GACxG,IAAInY,EAAQ7H,eAAmB00B,EAAM,CAAEC,OAAQ,UAC/C,OAAQ30B,gBAAoB40B,KAAM,CAAEp5B,IAAK,QAAUwkB,GAAUqU,EAA+Dr0B,gBAAoB60B,KAAY,CAAEt0B,QAASg0B,EAAgBvU,IAAUnY,GAArH7H,gBAAoB80B,KAAW,KAAMjtB,SAGzHssB,GAAe9X,aAAe,CAC1B+X,YAAa,EACbE,MAAO,I,cCjCIS,GARmB,CAC9B,iBAAkB,CACdrwB,OAAQ,CACJswB,KAAM,OACN7b,SAAU,c,qBCMX8b,GAAkB,CACzBC,GAAIC,aAAkBC,GCXkB,CACxC,mBAAoB,CAChBC,cAAe,CACXC,OAAQ,SACRC,SAAU,WACVC,eAAgB,kBAChBC,cAAe,oBDK0DC,GAAuBC,GEXrE,CACnC,eAAgB,CACZ/3B,MAAO,CACHpB,OAAQ,8BACRyyB,OAAQ,8BACRC,WAAY,6BACZC,OAAQ,8BACRC,WAAY,8BAEhBwG,aAAc,CACVp5B,OAAQ,8BACRyyB,OAAQ,8BACRC,WAAY,6BACZC,OAAQ,8BACRC,WAAY,8BAEhByG,aAAc,CACVr5B,OAAQ,wBACRyyB,OAAQ,wBACRE,OAAQ,yDAEZ2G,0BAA2B,CACvBt5B,OAAQ,wBACRyyB,OAAQ,wBACRE,OAAQ,+FAEZoB,OAAQ,aACRwF,eAAgB,CACZC,MAAO,QACPC,UAAW,YACXC,WAAY,aACZC,aAAc,gBAElBvgB,OAAQ,CACJ2a,OAAQ,YACRK,KAAM,UACN9oB,SAAU,eAEdI,OAAQ,CACJqoB,OAAQ,SACR7rB,OAAQ,SACRksB,KAAM,OACN9oB,SAAU,cF/B0IitB,GAA6BqB,OAyCtL,SAASC,GAAkBC,EAAUj1B,QAClB,IAAlBA,IAA4BA,EAAgB,MAChD,IAAIk1B,EAAiBC,KAAUvB,IAM/B,OALgB,MAAZqB,GACAn8B,OAAOoO,KAAK+tB,GAAU1qB,SAAQ,SAAU1K,GACpCq1B,EAAer1B,GAAUi0B,aAAkBoB,EAAer1B,IAAW,GAAIo1B,EAASp1B,OAGnFu1B,cAAqB,SAAUv1B,GAAU,OAAOq1B,EAAer1B,KAAYG,G,cG5DlFnH,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAyFAq8B,GAAS,SAAU/wB,GAC1B,IAAIhF,EAAYgF,EAAMhF,UAAWC,EAAkB+E,EAAM/E,gBAAiBxB,EAAOZ,GAAOmH,EAAO,CAAC,YAAa,oBACzG9E,EAAUC,GAAU1B,GACxB,OAAQY,IAAMC,cAAc02B,KAAez8B,GAAS,GAAIyL,EAAO,CAAEsK,UAAW,IACxEjQ,IAAMC,cAAc2G,KAAY,CAAEuZ,QAAS,KAAM7f,MAAO,UAAWwB,UAAWjB,EAAQV,MAAOoC,GAAI,sBACjGvC,IAAMC,cAAcP,EAAmB,MACvCiB,GAAaA,EAAUjG,OAAS,EAAKsF,IAAMC,cAAcS,EAAkB,CAAEC,UAAWA,EAAWC,gBAAiBA,GAAmBD,EAAU,GAAGuB,OAAW,KAC/JyD,EAAM1G,WAEdy3B,GAAOra,aAAe,CAClB1b,UAAW,IAEf,IAAIG,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8F,KAAM,CACFb,SAAU,YAEdnE,MAAO,CACHsS,KAAM,EACNmkB,aAAc,WACdzU,WAAY,SACZsE,SAAU,SACVtiB,YAAa9E,EAAM2D,QAAQ,OAE5B,CACHd,KAAM,uBCrINhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAQrBylB,GAAa,SAAUva,GAC9B,OAAQ3F,gBAAoB62B,GAAmB38B,GAAS,GAAIyL,GACxD3F,gBAAoB6hB,GAAyB,QAErD3B,GAAW7D,aAAe,G,kCCiBXya,GARD,WACV,IAAIC,EAAmBr5B,qBAAWs5B,IAC9BC,EAAsBv5B,qBAAWw5B,IACrC,QAA4Bl9B,IAAxBi9B,QAA0Dj9B,IAArB+8B,EACrC,MAAM,IAAIv3B,MAAM,8CAEpB,MAAO,CAACu3B,EAAkBE,ICpC1B/8B,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAoEjByF,GAhDD,SAAUrD,GACpB,IAAIs6B,EAAet6B,EAAGs6B,aAAcC,EAAav6B,EAAGu6B,WAAYC,EAAYx6B,EAAGw6B,UAAWC,EAAaz6B,EAAGy6B,WAAYC,EAAe16B,EAAG06B,aAAcC,EAAY36B,EAAG26B,UAAWxX,EAAQnjB,EAAGmjB,MAAOyX,EAAa56B,EAAG46B,WAAY/C,EAAO73B,EAAG63B,KACpOx1B,EAAK43B,KAAsB/1B,GAAP7B,EAAG,GAASA,EAAG,IAAI2Q,EAAS9O,EAAG8O,OAAQ6nB,EAAO32B,EAAG22B,KAAM1C,EAAOj0B,EAAGi0B,KAAM7b,EAAWpY,EAAGoY,SACzGxM,EAAU+nB,EAAK/nB,QAASgrB,EAAiBjD,EAAKiD,eAAgBz2B,EAASwzB,EAAKxzB,OAAQ02B,EAAiBlD,EAAKkD,eAAgBz3B,EAAQu0B,EAAKv0B,MAAO03B,EAASnD,EAAKmD,OAC5JC,EAAS,CACT5pB,QAAShN,EAAOskB,MAChBuS,KAAM,KACNC,KAAM,KACNxS,MAAO,MAwBX,OAtBI4R,IAEIU,EAAO5pB,QADPupB,EACiBv2B,EAAO+2B,KAGP/2B,EAAO8zB,MAG5B4C,IAAmBH,IACnBK,EAAOE,KAAQh4B,IAAMC,cAAc0B,IAAQzH,GAAS,GAAIs9B,EAAW,CAAEj3B,QAAS,WACtEsP,KACD,cAAe,6BAA+B3O,EAAO82B,QAE3DL,GAAkB3X,EAAQ,IAC3B8X,EAAOC,KAAQ/3B,IAAMC,cAAc0B,IAAQzH,GAAS,GAAIm9B,EAAW,CAAE92B,QAAS,WACtE4Y,KACD,cAAe,6BAA+BjY,EAAO62B,OAEhED,EAAOtS,MAASxlB,IAAMC,cAAcI,IAAYnG,GAAS,GAAIo9B,EAAY,CAAEn3B,MAAOe,EAAOskB,MAAO,aAActkB,EAAOskB,MAAOjlB,QAAS,WAC7HsP,KACDvJ,KAAM,QAAS+d,MAAO,CAAE/f,SAAU,WAAYC,IAAK,GAAIC,MAAO,MACjExE,IAAMC,cAAc8G,KAAW,OAC3B/G,IAAMC,cAAc,MAAO/F,GAAS,CAAEsB,IAAK,iBAAkB6oB,MAAOwT,EAAOK,SAAWf,GAC1Fn3B,IAAMC,cAAc,MAAO,CAAEokB,MAAOwT,EAAOM,kBACvCL,EAAOtS,MACPrlB,GAASH,IAAMC,cAAc,KAAM,CAAEokB,MAAOwT,EAAOO,cAAgBj4B,GACnEwM,GAAW3M,IAAMC,cAAc,MAAO,CAAEokB,MAAOwT,EAAOQ,gBAAkB1rB,IAC5E3M,IAAMC,cAAc,MAAO,CAAEokB,MAAOwT,EAAOS,eACvCR,EAAOE,KACPF,EAAOC,KACP/3B,IAAMC,cAAc0B,IAAQzH,GAAS,CAAEimB,QAAS,YAAa7f,MAAO,WAAai3B,EAAc,CAAE,cAAe,8BAA+Bh3B,QAAS,WAC5Ik3B,EACAC,IAGJ1C,OACE8C,EAAO5pB,YC3EzBhU,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAQ5B89B,GAAgB,SAAU17B,GACdA,EAAGgQ,MAAwBhQ,EAAG27B,eAAqC37B,EAAG47B,mBAOlF,OAAO,MA8CIC,GApCJ,SAAU77B,GACjB,IAAI87B,EAAQ97B,EAAG87B,MAAOC,EAAe/7B,EAAG+7B,aACpC15B,EAAK43B,KAAW/1B,EAAK7B,EAAG,GAAI25B,EAAU93B,EAAG83B,QAASC,EAAY/3B,EAAG+3B,UAAWC,EAAah4B,EAAGg4B,WAAYrB,EAAOx4B,EAAG,GAAGw4B,KACrH/3B,EAAYC,cACZo5B,EAAsB,CACtB93B,OAAQ,CACJ62B,KAAMp4B,EAAU,iBAAkB,CAAEI,EAAG,SACvCylB,MAAO7lB,EAAU,kBAAmB,CAAEI,EAAG,UACzCk4B,KAAMt4B,EAAU,sBAAuB,CAAEI,EAAG,SAC5Ci1B,KAAMr1B,EAAU,sBAAuB,CAAEI,EAAG,SAC5C0C,KAAM9C,EAAU,sBAAuB,CAAEI,EAAG,oBAC5Ci4B,KAAMr4B,EAAU,sBAAuB,CAAEI,EAAG,WAGpD,IAAKg5B,EACD,OAAO,KAEX,IAAIzE,EAAQqE,EAAMI,GAAYzE,MAC9B,IAAKuE,EACD,OAAO,KAEX,IAAII,EAAmB3E,EAAMwE,GACvBxE,EAAMwE,GAAWF,aACjB,GACN,OAAQ54B,IAAMC,cAAci5B,iBAAe,CAAEC,kBAAmBZ,GAAea,QAAS,SAAUvsB,EAAO2rB,KAGlGa,QAAS,WACR3B,MAEJ13B,IAAMC,cAAcq5B,KAASp/B,GAAS,CAAEq/B,cAAc,EAAM3B,gBAAgB,EAAM4B,mBAAmB,EAAMC,qBAAqB,EAAMC,iBAAiB,EAAMC,iBAAkBz5B,IAAW84B,EAAqBJ,EAAcK,EAAkB,CAAE3E,MAAOA,EAAM1xB,KAAI,SAAU8xB,GAAQ,OAAQx6B,GAASA,GAAS,GAAIw6B,GAAO,CAAE/nB,QAAiC,kBAAjB+nB,EAAK/nB,QAClUhN,EAAU+0B,EAAK/nB,QAAS,CACtB5M,EAAG20B,EAAK/nB,UAEV+nB,EAAK/nB,aAAiBitB,KAAK,EAAMd,UAAWA,EAAW1B,YAAY,OCrErFl9B,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAiCjB0Z,GA/BD,SAAU/Q,EAAOsB,GAC3B,OAAQA,EAAO5F,MACX,IAAK,QACD,OAAO5E,GAASA,GAAS,GAAIkJ,GAAQ,CAAEy1B,SAAS,EAAMC,UAAW,EAAGC,WAAYr0B,EAAO1H,QAAQ68B,OAEnG,IAAK,QACD,OAAO3/B,GAASA,GAAS,GAAIkJ,GAAQ,CAAEy1B,SAAS,IAEpD,IAAK,OACD,OAAO3+B,GAASA,GAAS,GAAIkJ,GAAQ,CAAEy1B,SAAS,EAAOC,UAAW,EAAGC,WAAY,OAErF,IAAK,OACD,OAAK31B,EAAM21B,WAGJ7+B,GAASA,GAAS,GAAIkJ,GAAQ,CAAEy1B,SAAS,EAAMC,UAAW11B,EAAM01B,UAAY,IAFxE11B,EAIf,IAAK,WACD,OAAKA,EAAM21B,WAGP31B,EAAM01B,UAAY,EAAI,EACf11B,EAEJlJ,GAASA,GAAS,GAAIkJ,GAAQ,CAAEy1B,SAAS,EAAMC,UAAW11B,EAAM01B,UAAY,IALxE11B,EAOf,QACI,MAAM,IAAI5D,MAAM,0BAA4BkF,EAAO5F,QCtC3D5E,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5Bq/B,GAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUt+B,GAAS,IAAM04B,EAAKwF,EAAUlF,KAAKh5B,IAAW,MAAOyC,GAAK47B,EAAO57B,IACpF,SAAS87B,EAASv+B,GAAS,IAAM04B,EAAKwF,EAAS,MAAUl+B,IAAW,MAAOyC,GAAK47B,EAAO57B,IACvF,SAASi2B,EAAK8F,GAJlB,IAAex+B,EAIaw+B,EAAOC,KAAOL,EAAQI,EAAOx+B,QAJ1CA,EAIyDw+B,EAAOx+B,MAJhDA,aAAiBi+B,EAAIj+B,EAAQ,IAAIi+B,GAAE,SAAUG,GAAWA,EAAQp+B,OAIT0+B,KAAKJ,EAAWC,GAClG7F,GAAMwF,EAAYA,EAAUn/B,MAAMg/B,EAASC,GAAc,KAAKhF,YAGlE2F,GAA4C,SAAUZ,EAASjrB,GAC/D,IAAsG8rB,EAAG1rB,EAAG7U,EAAGwgC,EAA3G96B,EAAI,CAAE8H,MAAO,EAAGizB,KAAM,WAAa,GAAW,EAAPzgC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO0gC,KAAM,GAAIC,IAAK,IAChG,OAAOH,EAAI,CAAE7F,KAAMiG,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOngC,OAAU6/B,EACvJ,SAASI,EAAKzgC,GAAK,OAAO,SAAUwtB,GAAK,OACzC,SAAcoT,GACV,GAAIR,EAAG,MAAM,IAAIl+B,UAAU,mCAC3B,KAAOqD,GAAG,IACN,GAAI66B,EAAI,EAAG1rB,IAAM7U,EAAY,EAAR+gC,EAAG,GAASlsB,EAAC,OAAaksB,EAAG,GAAKlsB,EAAC,SAAe7U,EAAI6U,EAAC,SAAe7U,EAAES,KAAKoU,GAAI,GAAKA,EAAE8lB,SAAW36B,EAAIA,EAAES,KAAKoU,EAAGksB,EAAG,KAAKX,KAAM,OAAOpgC,EAE3J,OADI6U,EAAI,EAAG7U,IAAG+gC,EAAK,CAAS,EAARA,EAAG,GAAQ/gC,EAAE2B,QACzBo/B,EAAG,IACP,KAAK,EAAG,KAAK,EAAG/gC,EAAI+gC,EAAI,MACxB,KAAK,EAAc,OAAXr7B,EAAE8H,QAAgB,CAAE7L,MAAOo/B,EAAG,GAAIX,MAAM,GAChD,KAAK,EAAG16B,EAAE8H,QAASqH,EAAIksB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKr7B,EAAEi7B,IAAIjlB,MAAOhW,EAAEg7B,KAAKhlB,MAAO,SACxC,QACI,KAAkB1b,GAAZA,EAAI0F,EAAEg7B,MAAYrgC,OAAS,GAAKL,EAAEA,EAAEK,OAAS,MAAkB,IAAV0gC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEr7B,EAAI,EAAG,SACjG,GAAc,IAAVq7B,EAAG,MAAc/gC,GAAM+gC,EAAG,GAAK/gC,EAAE,IAAM+gC,EAAG,GAAK/gC,EAAE,IAAM,CAAE0F,EAAE8H,MAAQuzB,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYr7B,EAAE8H,MAAQxN,EAAE,GAAI,CAAE0F,EAAE8H,MAAQxN,EAAE,GAAIA,EAAI+gC,EAAI,MAC7D,GAAI/gC,GAAK0F,EAAE8H,MAAQxN,EAAE,GAAI,CAAE0F,EAAE8H,MAAQxN,EAAE,GAAI0F,EAAEi7B,IAAIryB,KAAKyyB,GAAK,MACvD/gC,EAAE,IAAI0F,EAAEi7B,IAAIjlB,MAChBhW,EAAEg7B,KAAKhlB,MAAO,SAEtBqlB,EAAKtsB,EAAKhU,KAAKi/B,EAASh6B,GAC1B,MAAOtB,GAAK28B,EAAK,CAAC,EAAG38B,GAAIyQ,EAAI,EAjBrB,QAiBoC0rB,EAAIvgC,EAAI,EACtD,GAAY,EAAR+gC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEp/B,MAAOo/B,EAAG,GAAKA,EAAG,QAAK,EAAQX,MAAM,GArB9B/F,CAAK,CAACl6B,EAAGwtB,OA2BlDgP,GAAej9B,wBAAc,CACpC8+B,SAAS,EACTC,UAAW,EACXC,WAAY,OAEL7B,GAAkBn9B,wBAAc,IAUvCshC,GAAgB,SAAUC,EAAQC,EAAUC,GAG5C,YAFiB,IAAbD,IAAuBA,EAAW,UACrB,IAAbC,IAAuBA,EAAW,IAC/B,IAAIrB,SAAQ,SAAUC,EAASC,GAClC,IAAIoB,EACJA,EAAa,EACb,IAAIC,EAAiBC,aAAY,WAC7B,IAAInB,EAASc,IACbG,IACIjB,IACAoB,cAAcF,GACdtB,EAAQI,IAERiB,EAAaD,GACbnB,MAELkB,OAgMIM,GA1KI,SAAUh/B,GACzB,IAAIqC,EAAKrC,EAAG87B,MAAOA,OAAe,IAAPz5B,EAAgB,GAAKA,EAAI6B,EAAKlE,EAAGi/B,MAAOA,OAAe,IAAP/6B,EAAgB,GAAKA,EAAIqT,EAAKvX,EAAG+7B,aAAcA,OAAsB,IAAPxkB,EAAgB,GAAKA,EAAIF,EAAerX,EAAGqX,aAAcjV,EAAWpC,EAAGoC,SAC5MoV,EAAK0nB,qBAAW5nB,GAASD,GAAgB,CACzC2kB,SAAS,EACTC,UAAW,EACXC,WAAY,OACZ31B,EAAQiR,EAAG,GAAI3Q,EAAW2Q,EAAG,GAC7BiM,EAAU,CACV0b,MAAO,SAAUnC,GAAQ,OAAOC,QAAU,OAAQ,OAAQ,GAAQ,WAC9D,IAAImC,EAAQvH,EAAMwH,EAAYjwB,EAC9B,OAAO0uB,GAAY3/B,MAAM,SAAU6B,GAC/B,OAAQA,EAAGgL,OACP,KAAK,EAED,OADAo0B,EAAStD,EAAMkB,GAAMoC,QAEd,CAAC,EAAaA,EAAO/hC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,OAD5D,CAAC,EAAa,GAEtC,KAAK,EACDvG,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAGD,OAFA6sB,EAAOiE,EAAMkB,GAAMvF,MAAM,GACzB4H,EAAaxH,EAAKuH,OACX,CAAC,EAAaZ,IAAc,WAC3B,OAAOxsB,SAASstB,cAAczH,EAAKzoB,YAE/C,KAAK,EAED,OADAA,EAASpP,EAAGi+B,OACPoB,EACE,CAAC,EAAaA,EAAWhiC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,GAAQ6I,OAAQA,MAD5E,CAAC,EAAa,GAE1C,KAAK,EACDpP,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAED,OADAnE,EAAS,CAAE5E,KAAM,QAAS9B,QAAS,CAAE68B,KAAMA,KACpC,CAAC,WAIxBnC,KAAM,WAAc,OAAOoC,QAAU,OAAQ,OAAQ,GAAQ,WACzD,IAAIpF,EAAM0H,EAAWnwB,EAAQowB,EAC7B,OAAO1B,GAAY3/B,MAAM,SAAU6B,GAC/B,OAAQA,EAAGgL,OACP,KAAK,EAGD,OAFA6sB,EAAOiE,EAAMv1B,EAAM21B,YAAYzE,MAAMlxB,EAAM01B,WAC3CsD,EAAY1H,EAAK4H,MACV,CAAC,EAAajB,IAAc,WAC3B,OAAOxsB,SAASstB,cAAczH,EAAKzoB,YAE/C,KAAK,EAED,OADAA,EAASpP,EAAGi+B,OACPsB,GACL14B,EAAS,CAAE5E,KAAM,UACV,CAAC,EAAas9B,EAAUliC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,GAAQ6I,OAAQA,OAF5E,CAAC,EAAa,GAGzC,KAAK,EACDpP,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAED,OADAw0B,EAAc1D,EAAMv1B,EAAM21B,YAAYuD,OAE/B,CAAC,EAAaD,EAAYniC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,OAD5D,CAAC,EAAa,GAE3C,KAAK,EACDvG,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAED,OADAnE,EAAS,CAAE5E,KAAM,SACV,CAAC,WAIxB+Q,OAAQ,WAAc,OAAOiqB,QAAU,OAAQ,OAAQ,GAAQ,WAC3D,IAAIuC,EACJ,OAAO1B,GAAY3/B,MAAM,SAAU6B,GAC/B,OAAQA,EAAGgL,OACP,KAAK,EAED,OADAw0B,EAAc1D,EAAMv1B,EAAM21B,YAAYuD,OAE/B,CAAC,EAAaD,EAAYniC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,OAD5D,CAAC,EAAa,GAE3C,KAAK,EACDvG,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAED,OADAnE,EAAS,CAAE5E,KAAM,SACV,CAAC,WAIxBk2B,KAAM,WAAc,OAAO8E,QAAU,OAAQ,OAAQ,GAAQ,WACzD,IAAIpF,EAAM4H,EAAOrwB,EAAQswB,EAAYN,EAAQO,EAC7C,OAAO7B,GAAY3/B,MAAM,SAAU6B,GAC/B,OAAQA,EAAGgL,OACP,KAAK,EAGD,OAFA6sB,EAAOiE,EAAMv1B,EAAM21B,YAAYzE,MAAMlxB,EAAM01B,WAC3CwD,EAAQ5H,EAAK4H,MACN,CAAC,EAAajB,IAAc,WAC3B,OAAOxsB,SAASstB,cAAczH,EAAKzoB,YAE/C,KAAK,EAED,OADAA,EAASpP,EAAGi+B,OACPwB,GACL54B,EAAS,CAAE5E,KAAM,UACV,CAAC,EAAaw9B,EAAMpiC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,GAAQ6I,OAAQA,OAF5E,CAAC,EAAa,GAGrC,KAAK,EACDpP,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EACD,OAAM8wB,EAAMv1B,EAAM21B,YAAYzE,MAAM55B,OAAS0I,EAAM01B,UAAY,GAC/Dp1B,EAAS,CAAE5E,KAAM,UACjBy9B,EAAa5D,EAAMv1B,EAAM21B,YAAYzE,MAAMlxB,EAAM01B,UAAY,GAC7DmD,EAASM,EAAWN,OACb,CAAC,EAAaZ,IAAc,WAC3B,OAAOxsB,SAASstB,cAAcI,EAAWtwB,aALyB,CAAC,EAAa,GAO5F,KAAK,EAED,OADAuwB,EAAa3/B,EAAGi+B,OACXmB,EACE,CAAC,EAAaA,EAAO/hC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAASA,GAAS,GAAIkJ,GAAQ,CAAE01B,UAAW11B,EAAM01B,UAAY,IAAM7sB,OAAQuwB,MAD1H,CAAC,EAAa,GAEtC,KAAK,EACD3/B,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAED,OADAnE,EAAS,CAAE5E,KAAM,SACV,CAAC,WAIxBqa,SAAU,WAAc,OAAO2gB,QAAU,OAAQ,OAAQ,GAAQ,WAC7D,IAAIpF,EAAM4H,EAAOrwB,EAAQwwB,EAAgBR,EAAQS,EACjD,OAAO/B,GAAY3/B,MAAM,SAAU6B,GAC/B,OAAQA,EAAGgL,OACP,KAAK,EAGD,OAFA6sB,EAAOiE,EAAMv1B,EAAM21B,YAAYzE,MAAMlxB,EAAM01B,WAC3CwD,EAAQ5H,EAAK4H,MACN,CAAC,EAAajB,IAAc,WAC3B,OAAOxsB,SAASstB,cAAczH,EAAKzoB,YAE/C,KAAK,EAED,OADAA,EAASpP,EAAGi+B,OACPwB,GACL54B,EAAS,CAAE5E,KAAM,UACV,CAAC,EAAaw9B,EAAMpiC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAAS,GAAIkJ,GAAQ6I,OAAQA,OAF5E,CAAC,EAAa,GAGrC,KAAK,EACDpP,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EACD,OAAMzE,EAAM01B,UAAY,GAAK,GAC7Bp1B,EAAS,CAAE5E,KAAM,UACjB29B,EAAiB9D,EAAMv1B,EAAM21B,YAAYzE,MAAMlxB,EAAM01B,UAAY,GACjEmD,EAASQ,EAAeR,OACjB,CAAC,EAAaZ,IAAc,WAC3B,OAAOxsB,SAASstB,cAAcM,EAAexwB,aALb,CAAC,EAAa,GAO1D,KAAK,EAED,OADAywB,EAAiB7/B,EAAGi+B,OACfmB,EACE,CAAC,EAAaA,EAAO/hC,GAASA,GAAS,GAAI4hC,GAAQ,CAAE14B,MAAOlJ,GAASA,GAAS,GAAIkJ,GAAQ,CAAE01B,UAAW11B,EAAM01B,UAAY,IAAM7sB,OAAQywB,MAD1H,CAAC,EAAa,GAEtC,KAAK,EACD7/B,EAAGi+B,OACHj+B,EAAGgL,MAAQ,EACf,KAAK,EAED,OADAnE,EAAS,CAAE5E,KAAM,aACV,CAAC,YAK5B,OAAQkB,IAAMC,cAAc+2B,GAAa9mB,SAAU,CAAElU,MAAOoH,GACxDpD,IAAMC,cAAci3B,GAAgBhnB,SAAU,CAAElU,MAAOskB,GACnDtgB,IAAMC,cAAcy4B,GAAM,CAAEE,aAAcA,EAAcD,MAAOA,IAC/D15B,K,qBC/QR/E,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAuBP8gB,GAAyB,SAAUrT,EAAUnI,GAC7C,OAAOA,EAAU,aAAemI,EAAS5F,KAAO,QAAS,CACrDkZ,YAAa,EACbrb,EAAG+H,EAASoB,SAAWpB,EAASoB,QAAQrB,MAClClI,EAAUmI,EAASoB,QAAQrB,MAAO,CAChCuT,YAAa,EACbrb,EAAG+H,EAASoB,QAAQrB,QAEtBwT,KAAWC,SAASD,KAAWE,UAAUzT,EAAS5F,UCnD5DhI,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GA6GAsiC,GAAS,SAAUh3B,GAC1B,IAAI2e,EAAS3e,EAAM2e,OAAQjE,EAAY1a,EAAM0a,UAAWuc,EAAUj3B,EAAMi3B,QAASC,EAAOl3B,EAAMk3B,KAAMlE,EAAQhzB,EAAMgzB,MAAOv5B,EAAOZ,GAAOmH,EAAO,CAAC,SAAU,YAAa,UAAW,OAAQ,UACrLm3B,EAASC,eACTtL,EAAWuL,eACXrgB,EAAUsgB,eACVxlB,EAAeC,eACfhU,EAAWC,cACX9G,EAAKM,EAAe+/B,IAAyBC,EAAkBtgC,EAAG,GAAIugC,EAAqBvgC,EAAG,GAClG,OAAQmD,IAAMC,cAAc+e,GAAoB,CAAEvD,eAAgB4E,GAC9DrgB,IAAMC,cAAc47B,GAAc,CAAE3nB,aAAcipB,EAAiBxE,MAAOA,EAAOmD,MAAO,CAChFgB,OAAQA,EACRrL,SAAUA,EACV9U,QAASA,EACTlF,aAAcA,EACd2lB,mBAAoBA,EACpB15B,SAAUA,IAEd1D,IAAMC,cAAcD,IAAM0B,SAAU,KAChC1B,IAAMC,cAAcgD,EAA2B,MAC/CjD,IAAMC,cAAco9B,KAAenjC,GAAS,CAAEoqB,OAAQA,EAAQsY,QAASA,EAASC,KAAMA,GAAQz9B,GAAOuG,EAAM1G,cAE3H09B,GAAOtgB,aAAe,CAClBiI,OAAQoS,GACRmG,KD1Hc,SAAUhgC,GACxB,IAAI4e,EAAe5e,EAAG4e,aAAc9V,EAAQnH,GAAO3B,EAAI,CAAC,iBACpD8C,EAAYC,cACZqL,EAAY9H,YAAY+H,KAAc6Q,KAC1C,OAAQ/b,gBAAoBilB,GAAgB/qB,GAAS,CAAEimB,QAAS,cAAgBxa,GAC5E8V,GAAiBzb,gBAAoBuiB,GAAkB,CAAErgB,KAAM,YAAasF,GAAI,IAAK4G,OAAO,EAAMvG,MAAO,YAAagS,KAAM7Z,gBAAoBs9B,KAAe,QAC/JryB,EACK2K,QAAO,SAAUsG,GAAK,OAAOA,EAAEC,WAC/BvZ,KAAI,SAAUkF,GAAY,OAAQ9H,gBAAoBuiB,GAAkB,CAAE/mB,IAAKsM,EAAS5F,KAAMA,KAAM4F,EAAS5F,KAAMsF,GAAI,IAAMM,EAAS5F,KAAMkM,OAAO,EAAMvG,MAAOsT,GAAuBrT,EAAUnI,GAAYka,KAAM/R,EAAS+R,KAAO7Z,gBAAoB8H,EAAS+R,KAAM,MAAQ7Z,gBAAoBoc,KAAa,aCmHxTuc,MAAO,IAEX,IAAIuE,GAAyB,uBC7IlBK,GAA2B,SAAUl+B,EAAOm+B,EAAYC,GAC/D,OAAO,SAAU3+B,GACb,OAAO4+B,IAAM,GAAIr+B,EAAgB,SAATP,EAAkB6+B,GAAmBC,GAA4B,SAAT9+B,EAAkB2+B,GAAa,GAAKD,GAAc,MAGtIvX,GAAY,CACZ4X,aAAc,CACV14B,KAAM,CACFN,WAAY,SACZigB,UAAW,OACXtU,WAAY,EACZL,MAAO,SAGf2tB,cAAe,CACX34B,KAAM,CACFN,WAAY,SACZ2L,WAAY,EACZL,MAAO,QAEXmQ,QAAS,CACLzb,WAAY,SACZigB,UAAW,OACXtU,WAAY,EACZL,MAAO,QAEXoB,QAAS,CACLuT,UAAW,OACX3U,MAAO,SAGf+V,UAAW,CACPC,YAAa,CACThW,MAAO,IAEX2B,MAAO,CACHf,OAAQ,QAIT4sB,GAAmB,CAC1B5+B,QAAS,CACLD,KAAM,OACNoP,QAAS,CACLpB,KAAM,WAEVE,WAAY,CACR+wB,QAAS,YAGjB9X,UAAWA,IAEJ2X,GAAoB,CAC3B7+B,QAAS,CACLD,KAAM,QACNoP,QAAS,CACLpB,KAAM,WAEVsN,UAAW,CACPtN,KAAM,WAEVE,WAAY,CACR+wB,QAAS,YAGjB9X,UAAWA,IC/EX/rB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAyGA2jC,GAAQ,SAAUr4B,GACzB,IAAIs4B,EAAiBt4B,EAAMs4B,eAAgBR,EAAY93B,EAAM83B,UAAWS,EAAev4B,EAAMu4B,aAAcV,EAAa73B,EAAM63B,WAAYn+B,EAAQsG,EAAMtG,MAAOD,EAAOZ,GAAOmH,EAAO,CAAC,iBAAkB,YAAa,eAAgB,aAAc,UAC9Ow4B,EAAuBT,IAAM,GAAI,CACjCU,KAAMA,GACNC,MAAOA,IACRJ,GACH,OAAQj+B,gBAAoBhB,EAA+B,CAAEG,cAAeo+B,GAAyBG,IAAM,GAAIY,GAAiBj/B,GAAQm+B,EAAYC,IAChJz9B,gBAAoBu+B,KAAcrkC,GAAS,CAAEgkC,aAAcA,GAAgB7H,KAAqB4H,eAAgBE,GAAwB/+B,MAEhJ4+B,GAAM3hB,aAAe,CACjBmiB,OAAQ7B,I,uGCvIRziC,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAYrBgkC,GAAa,SAAU94B,GAC9B,IAAI9I,EACA6hC,EAAe/4B,EAAMg5B,QAASC,EAAgBj5B,EAAMi5B,cACpD1/B,EAAK2/B,aAAel5B,GAAO6iB,iBAAkBA,OAA0B,IAAPtpB,EAAgB,GAAKA,EACrF2B,EAAUC,KAEVg+B,GADUphC,qBAAWqhC,OAAkBL,GAChB9oB,QAAO,SAAUopB,GACxC,OAAOA,EAAcr5B,MAAMs5B,UACvBzW,EAAiBwW,EAAcr5B,MAAM+C,SAEjC,qBADG5M,IAAI8iC,EAAeI,EAAcr5B,MAAM+C,WAGtD,OAAQ1I,gBAAoBk/B,KAAchlC,GAAS,GAAIyL,EAAO,CAAE7D,UAAWwX,MAAYzc,EAAK,GACpFA,EAAGgE,EAAQs+B,WAAqC,IAAxBL,EAAapkC,OACrCmC,QAERiE,GAAYgC,aAAW,SAAUzD,GAAS,MAAQ,CAClD8/B,UAAW,CACPra,UAAWzlB,EAAM2D,QAAQ,QCvC7B9I,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAQP+kC,GAAc,SAAUz5B,GACFA,EAAM9E,QAA5B,IAAqC89B,EAAUh5B,EAAMg5B,QAASre,EAAU3a,EAAM2a,QAASlhB,EAAOZ,GAAOmH,EAAO,CAAC,UAAW,UAAW,YAC/H9E,EAAUC,GAAU6E,GACxB,OAAO4f,MAAM8Z,QAAQV,GAAY3+B,gBAAoB++B,KAAc7uB,SAAU,CAAElU,MAAO2iC,GAClF3+B,gBAAoB8xB,KAAS,CAAEhwB,UAAWjB,EAAQ0Q,SAC9CvR,gBAAoB,OAAQ,MAC5BsgB,GACItgB,eAAmBsgB,EAASpmB,GAASA,GAASA,GAAS,GAAIkF,GAAO,CAAE0C,UAAWjB,EAAQyf,UAAYA,EAAQ3a,SACnH3F,gBAAoBy+B,GAAY,OAAWz+B,gBAAoBA,WAAgB,KAC/EA,gBAAoB8xB,KAAS,CAAEhwB,UAAWjB,EAAQ0Q,SAAW+O,GACzDtgB,eAAmBsgB,EAASpmB,GAASA,GAASA,GAAS,GAAIkF,GAAO,CAAE0C,UAAWjB,EAAQyf,QAASqe,QAASA,IAAYre,EAAQ3a,SACjIg5B,GACI3+B,eAAmB2+B,EAASzkC,GAASA,GAAS,GAAIkF,GAAO,CAAEue,QAAS,YAG5E7c,GAAYgC,aAAW,SAAUzD,GACjC,IAAIxC,EAAIqC,EACR,MAAQ,CACJqS,SAAU1U,EAAK,CACPqe,eAAgB,gBAChBrW,WAAY,aACZ6M,aAAc,GAElB7U,EAAGwC,EAAM2P,YAAYiiB,GAAG,OAAS,CAC7B9sB,YAAa,GAEjBtH,EAAGwC,EAAM2P,YAAY8M,KAAK,OAAS,CAC/B3X,YAAa9E,EAAM2D,QAAQ,GAC3B+J,gBAAiB1N,EAAMN,QAAQiO,WAAWC,OAE9CpQ,EAAGsT,MAAQ,OACXtT,GACJyjB,SAAUphB,EAAK,CACP2F,WAAY,SACZ2L,WAAYnR,EAAM2D,QAAQ,GAC1B8hB,UAAWzlB,EAAM2D,QAAQ,IAE7B9D,EAAGG,EAAM2P,YAAY8M,KAAK,OAAS,CAC/B7U,QAAS5H,EAAM2D,QAAQ,GACvB+J,gBAAiB1N,EAAMN,QAAQiO,WAAWC,OAE9C/N,EAAGiR,MAAQ,OACXjR,MAET,CAAEgD,KAAM,kBACIlC,UAAWo/B,I,mGCzEtBllC,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAOAilC,GAAc,SAAU35B,GAC/B,IAAI45B,EAAa55B,EAAM45B,WAAYz9B,EAAY6D,EAAM7D,UAAW09B,EAAW75B,EAAM65B,SAAUC,EAAc95B,EAAMg5B,QAASv/B,EAAOZ,GAAOmH,EAAO,CAAC,aAAc,YAAa,WAAY,YACjL9I,EAAKgiC,aAAel5B,GAAQsiB,EAAcprB,EAAGorB,YAAaO,EAAmB3rB,EAAG2rB,iBAAkBC,EAAe5rB,EAAG4rB,aAAcV,EAAWlrB,EAAGkrB,SAAUgB,EAAclsB,EAAGksB,YAAaK,EAAavsB,EAAGusB,WAAYjB,EAAQtrB,EAAGsrB,MAC/NrgB,EAAW43B,aAAmBtgC,GAC9Bu/B,EAAUjhC,qBAAWqhC,OAAkBU,EACvC/W,EAAYiX,aAAsBvgC,GAAMspB,UAC5C,OAAOppB,mBAAQ,WAAc,OAAQU,gBAAoB4/B,KAAY1lC,GAAS,CAAE4H,UAAWA,GAAa+9B,aAAsBzgC,IAC1HmgC,EACAE,EACMhgC,uBAAaggC,EAAa,CACxB33B,SAAUA,EACVshB,WAAYA,EACZZ,iBAAkBA,EAClBC,aAAcA,EACd9K,QAAS,WAEXghB,GAAW3+B,gBAAoB8/B,KAAc,MACnDpX,GAAa1oB,gBAAoB+/B,KAAc,CAAEhY,SAAUA,KAC9C,IAAbyX,GAAuBx/B,gBAAoBggC,KAAc,CAAEr7B,SAAoB,IAAVwjB,EAAargB,SAAUA,EAAUkf,KAAMiB,EAAaQ,aAAcA,OAAuB,CAAC3gB,EAAU0gB,EAAkBC,EAAcM,EAAa4V,EAASxW,KAIvOmX,GAAYjjB,aAAe,CACvBkjB,WAAYv/B,gBAAoBkgB,GAAY,CAAEC,QAAS,YACvD4I,YAAa,GACbF,gBAAiB,WAAc,OAAO,OCpD1C,IAAI3uB,GAAsC,WAStC,OARAA,GAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMC,KAAMP,YAE5B+D,GAAkC,SAAUlE,EAAGmE,GAC/C,IAAIpE,EAAI,GACR,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAM8D,EAAEC,QAAQ/D,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOwE,sBACtB,KAAIpE,EAAI,EAAb,IAAgBI,EAAIR,OAAOwE,sBAAsBrE,GAAIC,EAAII,EAAED,OAAQH,IAC3DkE,EAAEC,QAAQ/D,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUgE,qBAAqB9D,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAUA4lC,GAAW,SAAUt6B,GAC5B,IAAI2a,EAAU3a,EAAM2a,QAAS4f,EAAQv6B,EAAMu6B,MAAOC,EAAoBx6B,EAAMw6B,kBAAmBlhC,EAAW0G,EAAM1G,SAA2C6C,GAAf6D,EAAM9E,QAAqB8E,EAAM7D,WAAWs+B,EAAUz6B,EAAM+H,UAAW2yB,EAAQ16B,EAAM06B,MAAOxjC,EAAK8I,EAAM65B,SAAUA,OAAkB,IAAP3iC,EAAgByjC,KAAkBzjC,EAAI8hC,EAAUh5B,EAAMg5B,QAAS4B,EAAa56B,EAAM46B,WAAYpgC,EAAQwF,EAAMxF,MAA0Jf,GAAzIuG,EAAMwW,QAAmBxW,EAAM66B,QAAmB76B,EAAM86B,QAAqB96B,EAAM+iB,UAA8B/iB,EAAM+6B,iBAAyBliC,GAAOmH,EAAO,CAAC,UAAW,QAAS,oBAAqB,WAAY,UAAW,YAAa,YAAa,QAAS,WAAY,UAAW,aAAc,QAAS,UAAW,UAAW,UAAW,YAAa,sBAC/tBg7B,EAAkBC,aAAuBj7B,GACzCk7B,EAAchC,aAAel5B,GAC7B9E,EAAUC,GAAU6E,GACpBm7B,EAAeD,EAAYC,aAAc3Y,EAAQ0Y,EAAY1Y,MAAOD,EAAS2Y,EAAY3Y,OAAQxb,EAAUm0B,EAAYn0B,QAAS+b,EAAeoY,EAAYpY,aAAcM,EAAc8X,EAAY9X,YACnMgY,EAAUC,eAeVC,EAAwB/Y,IAAWxb,GAAqB,IAAVyb,IAAgBhuB,OAAOoO,KAAKkgB,GAAc/tB,OAC5F,OAAQsF,gBAAoB,MAAO9F,GAAS,CAAE4H,UAAWwX,KAAW,YAAazY,EAAQsE,KAAMrD,IAAc+9B,aAAsBzgC,IAC/HY,gBAAoBkhC,KAAO,CAAE/gC,MAAOA,EAAO2gC,aAAcA,IACzDG,IAAmC,IAAVZ,EACnB5gC,uBAAa4gC,EAAOQ,GAlBb,WACb,IAAIhkC,EACJ,OAAQmD,gBAAoBA,WAAgB,MACvC2+B,GAAWre,IAAatgB,gBAAoBo/B,GAAallC,GAAS,CAAEykC,QAASA,GAAWgC,EAAiB,CAAErgB,QAASA,EAASkf,SAAUA,KACxIx/B,gBAAoB,MAAO,CAAE8B,UAAWjB,EAAQiM,MAC5C9M,gBAAoBogC,EAAS,CAAEt+B,UAAWwX,KAAWzY,EAAQ8L,SAAU9P,EAAK,GACpEA,EAAGgE,EAAQsgC,sBAAwBpY,EAAYruB,OAAS,EACxDmC,IAAMrB,IAAKulC,IACO,IAAtBZ,GAA+BA,GAAsBngC,gBAAoBohC,KAAoBlnC,GAAS,GAAIymC,GAAkBR,GAC5HlhC,GACIQ,uBAAa8gB,WAASqL,KAAK3sB,GAAW/E,GAASA,GAAS,GAAIymC,GAAkB,CAAEU,gBAAsC,IAAtBlB,KACpGI,GAAc9gC,uBAAa8gC,EAAYM,IAC3CX,GAASzgC,uBAAaygC,EAAOW,KAO/BS,KAGVC,GAA2B,SAAU57B,GAAS,OAAQ3F,gBAAoBwhC,KAAkBtnC,GAAS,GAAIyL,KAC7Gs6B,GAAS5jB,aAAe,CACpBiE,QAAStgB,gBAAoBs/B,GAAa,MAC1Cz+B,QAAS,GACT6M,UAAW+zB,KACXtB,kBAAmBngC,gBAAoBuhC,GAA0B,MACjEhB,WAAYvgC,gBAAoB0hC,KAAmB,MACnDrB,MAAOrgC,gBAAoB2hC,KAAO,OAEtC,IAAI7gC,GAAYgC,aAAW,SAAUzD,GACjC,IAAIxC,EACJ,MAAQ,CACJsI,KAAM,GACN2H,KAAM,CACFhI,QAAS,QAEb6H,SAAU9P,EAAK,CACPkI,UAAW,EACXqL,WAAY/Q,EAAMgR,YAAY7T,OAAO,cACrC8H,SAAU,WACVmO,KAAM,YAEV5V,EAAGwC,EAAM2P,YAAY8M,KAAK,OAAS,CAC/B5K,UAAW,QAEfrU,EAAG4pB,SAAW,UACd5pB,GACJskC,qBAAsB,CAClBp8B,WAAY1F,EAAM2D,QAAQ,GAC1BoN,WAAY/Q,EAAMgR,YAAY7T,OAAO,eAEzC8jB,QAAS,CACLvP,OAAQ,EACRjM,QAAS,OACToW,eAAgB,WAChBuV,SAAU,QAEdmR,UAAW,CAAE36B,QAAS,OAE3B,CAAE/E,KAAM,W,ICvEKY,YAAW,CACvBsC,OAAQ,GACRC,KAAM,IACP,CAAEnD,KAAM,a,gBC9BE2/B,GAAe,eACfC,GAAmB,mBCE1BC,GAAW1mC,aAAaO,QAAQ,YAQhCsY,GAAe,CACnB8tB,SACmD,SAAjD3mC,aAAaO,QAAb,UAAwBmmC,GAAxB,cAA0D,OAAS,SAgBxDE,IC7BHC,GD6BGD,GAbf,WAAkE,IAA5C7+B,EAA2C,uDAAnC8Q,GAAcxP,EAAqB,uCAC/D,OAAIA,EAAO5F,OAAS+iC,IACK,SAAnBz+B,EAAM4+B,SACR3mC,aAAae,QAAb,UAAwB2lC,GAAxB,aAA6C,SAC1C1mC,aAAae,QAAb,UAAwB2lC,GAAxB,aAA6C,QAC3C,6BACF3+B,GADL,IAEE4+B,SAA6B,SAAnB5+B,EAAM4+B,SAAsB,QAAU,UAG7C5+B,G,mBC1BG8+B,K,4BAAAA,E,oBAAAA,E,8BAAAA,E,oBAAAA,E,kBAAAA,E,sBAAAA,E,gBAAAA,E,sBAAAA,E,sBAAAA,E,YAAAA,E,kBAAAA,E,cAAAA,E,cAAAA,E,0BAAAA,E,oBAAAA,E,kDAAAA,E,wCAAAA,E,kBAAAA,E,0BAAAA,E,oBAAAA,E,gBAAAA,E,cAAAA,E,cAAAA,E,oBAAAA,E,sCAAAA,E,sBAAAA,E,kBAAAA,E,gCAAAA,E,aAAAA,Q,KCEZ,ICFYC,GCAAC,GCAAC,GHOGC,GALE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OAAsB4wB,QAAQC,QAAQ,CAAE97B,KAAM,GAAI6pB,MAAO,M,2BIWrDma,GAbE,CAEflT,WAAW,WAAD,8BAAE,WAAOtnB,EAAUyB,GAAjB,UAAAi5B,EAAA,+EACVrI,QAAQC,QAAQ,CACd97B,KAAM,CAAC,MAFC,2CAAF,qDAAC,GAKX9B,OAAO,WAAD,8BAAE,WAAOsL,EAAUyB,GAAjB,UAAAi5B,EAAA,+EACNrI,QAAQC,QAAQ,CACd97B,KAAM,CAAEiE,GAAI,MAFR,2CAAF,qDAAC,K,SHTG4/B,K,oBAAAA,E,8BAAAA,E,uBAAAA,Q,cCAAC,K,MAAAA,E,MAAAA,E,MAAAA,E,OAAAA,Q,cCAAC,K,gBAAAA,E,gBAAAA,E,kBAAAA,E,sBAAAA,E,oBAAAA,E,gBAAAA,E,qBAAAA,Q,KEMZ,ICNYI,GDMNC,GAA4B,CAChC,CACEngC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJL,KAAM,UACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,GACJL,KAAM,WACNygC,MAAOP,GAAcQ,EACrBC,WAAY,EACZC,cAAc,EACdC,eAAe,EACfC,SAAU,EACVC,YAAa,EACbC,6BAA6B,EAC7BC,YAAa,2BACbC,iBAAkBf,GAAUgB,OAC5BC,kBAAmB,EACnBC,MAAO,GACPC,aAAc,GACdC,yBAA0BtB,GAAkCuB,UAC5DC,YAAa,GACbC,eAAgB,GAChBC,YAAa,EACbC,aAAc,EACdC,UAAW,2BACXC,WAAY,6BAUD1B,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMokC,GAAcva,MAAOua,GAAahoC,Y,SClPlD+nC,K,oBAAAA,E,4BAAAA,E,mBAAAA,Q,KCIZ,ICJYwB,GCAAC,GFINC,GAAyB,CAC7B,CACE5hC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,IAEzB,CACEjiC,GAAI,EACJL,KAAM,WACNpD,KAAM2jC,GAAU2B,SAChBC,KAAM,OACNC,UAAW,EACXC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,KAUZlC,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAM6lC,GAAYhc,MAAOgc,GAAWzpC,Y,SC3F9CupC,K,cAAAA,E,UAAAA,E,gBAAAA,E,mBAAAA,Q,cCAAC,K,gBAAAA,E,UAAAA,E,cAAAA,E,kBAAAA,E,iBAAAA,Q,KCKZ,ICLYO,GCAAC,GFKNC,GAAiC,CACrC,CACEpiC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,EACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,4BAEd,CACEzhC,GAAI,GACJzD,KAAMolC,GAAYU,OAClBjgC,SAAUs/B,GAAsBY,OAChCC,WAAY,2BACZC,SAAU,2BACVC,QAAS,EACTC,OAAQ,EACRC,QAAS,KACTC,WAAY,EACZC,UAAW,EACXC,WAAY,GACZtB,UAAW,2BACXC,WAAY,6BAwBD1B,GApBE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMqmC,GAAkBxc,MAAOwc,GAAiBjqC,UAEpEy0B,OAAO,WAAD,8BAAE,WAAOrnB,EAAUyB,GAAjB,UAAAi5B,EAAA,+EACNrI,QAAQC,QAAQ,CACd97B,KAAM,CAAEiE,GAAI,MAFR,2CAAF,qDAAC,GAIP+iC,OAAQ,SAACx9B,EAAD,GAAuC,IAA1BvF,EAAyB,EAAzBA,GACbgjC,EAAQZ,GAAiB1iC,MAAK,SAAC+lB,GAAD,MAAO,UAAGA,EAAEzlB,MAASA,KACzD,OAAIgjC,EACKpL,QAAQC,QAAQ,CACrB97B,KAAMinC,IAGHpL,QAAQE,OAAO,IAAI76B,SG3KxBgmC,GAA8B,CAClC,CACEjjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,IAEb,CACEnjC,GAAI,EACJL,KAAM,IACNujC,SAAU,GACVC,UAAW,KAUApD,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMknC,GAAerd,MAAOqd,GAAc9qC,Y,SFrEpD+pC,K,cAAAA,E,kBAAAA,E,oBAAAA,E,4BAAAA,E,sBAAAA,E,mCAAAA,Q,cCAAC,K,YAAAA,E,iBAAAA,Q,KEKZ,ICLYiB,GDKNC,GAA+B,CACnC,CACErjC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,EACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,IAEf,CACEhiC,GAAI,GACJzD,KAAM,SACN+mC,UAAW,MACXC,SAAU,WACVC,QAAS,MACTC,UAAW,2BACXC,aAAcxB,GAAqByB,QACnCC,MAAO,cACPC,eAAgB,GAChBC,YAAa,KACbC,OAAQ5B,GAAO6B,KACfhC,YAAa,KAgBFjC,GAZE,CACfgD,OAAQ,SAACx9B,EAAD,GAAuC,IAA1BvF,EAAyB,EAAzBA,GACbgjC,EAAQK,GAAc3jC,MAAK,SAACukC,GAAD,MAAO,UAAGA,EAAEjkC,MAASA,KACtD,OAAIgjC,EACKpL,QAAQC,QAAQ,CACrB97B,KAAMinC,IAGHpL,QAAQE,OAAO,IAAI76B,SEzJxBinC,GAA+B,GAQtBnE,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMmoC,GAAete,MAAOse,GAAc/rC,WCL1DgsC,GAA4C,CAChD,CACEnkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,EACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEpkC,GAAI,GACJL,KAAM,4BACNwU,SAAU,EACViwB,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,KAadrE,GATE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CACd97B,KAAMooC,GACNve,MAAOue,GAAqBhsC,WCpE5BksC,GAA2B,GAQlBtE,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMsoC,GAAaze,MAAOye,GAAYlsC,WCLtDmsC,GAA+B,GAQtBvE,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMuoC,GAAe1e,MAAO0e,GAAcnsC,Y,SJRpDirC,K,oBAAAA,E,gBAAAA,E,+BAAAA,Q,KKIZ,ICJYmB,GDINC,GAAyB,CAC7B,CACExkC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,EACJL,KAAM,SACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,IAErB,CACE/kC,GAAI,GACJL,KAAM,UACN8kC,UAAW,2BACXC,QAAS,2BACTC,OAAQvB,GAAYwB,SACpBC,WAAY,IACZC,MAAO,SACPC,WAAY,CAAC,EAAG,EAAG,KAURhF,GANE,CAEfC,QAAS,SAACz6B,EAAUyB,GAAX,OACP4wB,QAAQC,QAAQ,CAAE97B,KAAMyoC,GAAY5e,MAAO4e,GAAWrsC,WE3GpD6sC,GAA0B,CAC9B,CACEhlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,MACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,MACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,KACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,MACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,MACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,EACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,eAErB,CACErlC,GAAI,GACJquB,KAAM,2BACN4W,WAAY,IACZC,UAAW,OACXC,WAAY,cACZvtB,KAAM,KACN7Z,MAAO,cACPqnC,SAAU,EACVC,kBAAmB,gBAURtF,GANE,CAEfC,QA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","file":"static/js/main.2d036d4b.chunk.js","sourcesContent":["import { createContext } from 'react';\n/**\n * A context for preferences related configuration.\n */\nexport var PreferencesContext = createContext(undefined);\n","export var RA_PREFERENCE_WORKSPACE = 'preferences';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport get from 'lodash/get';\nimport { RA_PREFERENCE_WORKSPACE } from './constants';\nexport var getPreferencesStorage = function () {\n    if (localStorageAvailable == undefined) {\n        localStorageAvailable = testLocalStorage();\n    }\n    return localStorageAvailable ? window.localStorage : memoryStorage;\n};\n/**\n * reads key preference from storage\n *\n * @param {string} key Path of the preference key to read, uses lodash.get\n *\n * @return {T} Preference value\n\n * @example // Read full preferences\n *\n * const preferences = readStorage<PreferenceType>();\n *\n * @example // read preference for a particular key\n *\n * const density = readStorage<string>('density');\n\n * @example // read preference for a deep key\n *\n * const columns = readStorage<string[]>('orders.list.columns');\n */\nexport var readStorage = function (key) {\n    var preferences = JSON.parse(getPreferencesStorage().getItem(RA_PREFERENCE_WORKSPACE)) ||\n        {};\n    if (key) {\n        return tryParse(get(preferences, key));\n    }\n    return (tryParse(preferences) || {});\n};\n/**\n * sets key preference to value on the preference storage\n *\n * @param {string} key Path of the preference key to update, uses lodash.set\n * @param {T} value New preference value\n *\n * @return {void}\n *\n * @example // Write full preferences to localstorage\n *\n * writeStorage<PreferenceType>('', {\n *      users: {\n *          lists: {\n *              columns: ['id', 'address'],\n *          },\n *      },\n *  });\n *\n * @example // Update preference for a particular key\n *\n * writeStorage<string>('density', 'small');\n *\n * @example // Update preference for a deep key\n *\n * writeStorage<string[]>('orders.list.columns', ['id', 'date', 'customer']);\n */\nexport var writeStorage = function (key, value) {\n    var storage = getPreferencesStorage();\n    try {\n        var preferences = JSON.parse(storage.getItem(RA_PREFERENCE_WORKSPACE)) || {};\n        var newPreferences = key === '' ? value : set(__assign({}, preferences), key, value);\n        storage.setItem(RA_PREFERENCE_WORKSPACE, JSON.stringify(newPreferences));\n        window.dispatchEvent(PreferencesChanged.create(newPreferences));\n        return newPreferences;\n    }\n    catch (err) {\n        if (err instanceof TypeError &&\n            err.message.includes('circular structure')) {\n            throw new TypeError('The object that was given to the writeStorage function has circular references.\\n' +\n                'For more information, check here: ' +\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value');\n        }\n        throw err;\n    }\n};\nexport var overwriteStorage = function (value) {\n    var storage = getPreferencesStorage();\n    storage.setItem(RA_PREFERENCE_WORKSPACE, JSON.stringify(value));\n};\nvar localStorageAvailable = undefined;\nvar storage = {};\nvar memoryStorage = {\n    getItem: function (key) {\n        return get(storage, key);\n    },\n    setItem: function (key, value) {\n        set(storage, key, value);\n    },\n};\nvar tryParse = function (value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nvar testLocalStorage = function () {\n    if (window.localStorage == undefined) {\n        return false;\n    }\n    try {\n        window.localStorage.setItem('test', 'test');\n        window.localStorage.removeItem('test');\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n};\nexport var PreferencesChanged = {\n    eventName: 'onPreferencesChange',\n    create: function (payload) {\n        return new CustomEvent(PreferencesChanged.eventName, {\n            detail: payload,\n        });\n    },\n};\n","// Part of this code comes from rehooks useLocalStorage\n// (https://github.com/rehooks/local-storage/blob/master/src/use-localstorage.ts)\n// We needed to reimplement it, because we don't want the hook to rerender\n// the component subscribe to preference \"density\" when another component\n// sets any other preference\nimport { useEffect, useState, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { usePreferencesContext } from './usePreferencesContext';\nimport { RA_PREFERENCE_WORKSPACE } from './constants';\nimport { getPreferencesStorage, PreferencesChanged, readStorage, writeStorage, } from './preferencesStorage';\n/**\n * useState-like hook with localStorage persistence. Syncs changes between tabs.\n *\n * Preferences are stored in a tree structure, to allow retrievalm of the complete\n * preferencs list and namespacing.\n *\n * @param {string} path Name of the preference. Separate with dots to namespace, e.g. 'posts.list.columns'. Leave empty to retrieve the entire preference tree.\n * @param {any} defaultValue Default value\n *\n * @return {Object} A value and a setter for the value, in an array - just like for useState()\n *\n * Depending on the argument passed to usePreferences(), the return tuple concerns\n * either a single value, or the whole preference tree.\n *\n * @example // Here is how to **read a single value** from the preference store, with a default value\n *\n * import { usePreferences } from '@react-admin/ra-preferences';\n *\n * const PostList = props => {\n *     const [density] = usePreferences(\n *         'posts.list.density',\n *         'small'\n *     );\n *\n *     return (\n *         <List {...props}>\n *             <Datagrid size={density}>\n *                 ...\n *             </Datagrid>\n *         </List>\n *     );\n * }\n *\n * @example // To **write a single value** use the second return value:\n *\n * const ChangeDensity: FC<any> = () => {\n *     const [density, setDensity] = usePreferences(\n *         'posts.list.density',\n *         'small'\n *     );\n *\n *     const changeDensity = (): void => {\n *         setDensity(density === 'small' ? 'medium' : 'small');\n *     };\n *\n *     return (\n *         <Button onClick={changeDensity}>\n *             {`Change density (current ${density})`}\n *         </Button>\n *     );\n * };\n *\n * @example // To **read and write the entire preferences tree**, don't pass any argument to the hook. You will find this option useful when building a preferences Form:\n *\n * import { usePreferences } from '@react-admin/ra-preferences';\n * import { useNotify } from 'react-admin';\n * import { Form, Field } from 'react-final-form'\n *\n * const PreferencesPane = () => {\n *     const [preferences, setPreferences] = usePreferences();\n *     const notify = useNotify();\n *\n *     const handleSave = values => {\n *         setPreferences(values);\n *         notify('preferences saved');\n *     }\n *\n *     return (\n *         <Form\n *             initialValues={preferences}\n *             onSubmit={handleSave}\n *             render={({ handleSubmit }) => (\n *                 <form onSubmit={handleSubmit}>\n *                     <div>\n *                         <label>Post list density</label>\n *                         <Field name=\"posts.list.density\" component=\"select\">\n *                             <option value=\"small\">Small</option>\n *                             <option value=\"medium\">Medium</option>\n *                         </Field>\n *                     </div>\n *                     <button type=\"submit\">Submit</button>\n *                 </form>\n *             )}\n *         />\n *     );\n * }\n *\n * **Tip**: The preferences API is synchronous, because preferences are stored in memory, and replicated in localStorage. So even though localStorage has an async API, the preferences API is synchronous.\n */\nexport var usePreferences = function (key, defaultValue) {\n    if (key === void 0) { key = ''; }\n    var _a = useState(function () {\n        var storedValue = readStorage(key);\n        return typeof storedValue === 'undefined' ? defaultValue : storedValue;\n    }), localState = _a[0], updateLocalState = _a[1];\n    var preferencesContext = usePreferencesContext();\n    var onPreferencesChange = function (event) {\n        // preference events are custom events we send when modifying  preferences\n        // from the same tabs (because local storage events won't fire in the same tab)\n        // custom events payload contain full preferences, so we get the value we're\n        // subscribed to from the new preferences\n        var newValue = get(event.detail, key /* my own key */);\n        // and we update our state no matter what. If same value, it won't redraw anyway\n        updateLocalState(newValue);\n    };\n    var onLocalStorageChange = function (event) {\n        if (event.key !== RA_PREFERENCE_WORKSPACE) {\n            return;\n        }\n        // localStorage events send the full localstorage value (ie. full preferences)\n        // there's a chance we're concerned or not by the event\n        // so we get the value we're subscribed to from the new preferences\n        var preferences = JSON.parse(event.newValue);\n        var newValue = get(preferences, key /* my own key */);\n        // and we update our state no matter what. If same value, it won't redraw anyway\n        updateLocalState(newValue);\n    };\n    // when the key changes, update localState to reflect it.\n    useEffect(function () {\n        var storedValue = readStorage(key);\n        updateLocalState(typeof storedValue === 'undefined' ? defaultValue : storedValue);\n    }, [key]); // eslint-disable-line react-hooks/exhaustive-deps\n    useEffect(function () {\n        // the custom storage event allows us to update our component\n        // when a change occurs in localStorage outside of our component (same browser tab)\n        window.addEventListener(PreferencesChanged.eventName, onPreferencesChange);\n        // the storage event only works in the context of other documents (eg. other browser tabs)\n        window.addEventListener('storage', onLocalStorageChange);\n        var canWrite = getPreferencesStorage().getItem(RA_PREFERENCE_WORKSPACE) === null;\n        // write initial value to the local storage if it's not present or contains invalid JSON data.\n        if (defaultValue !== undefined && canWrite) {\n            writeStorage(key, defaultValue);\n        }\n        return function () {\n            window.removeEventListener(PreferencesChanged.eventName, onPreferencesChange);\n            window.removeEventListener('storage', onLocalStorageChange);\n        };\n    }, [key]); // eslint-disable-line react-hooks/exhaustive-deps\n    var writeState = useCallback(function (value) {\n        var previousData = readStorage();\n        var data = writeStorage(key, value);\n        // PreferencesContext is optional\n        if (preferencesContext) {\n            preferencesContext.updatePreferences(data, previousData);\n        }\n    }, [key, preferencesContext]);\n    return [localState === undefined ? defaultValue : localState, writeState];\n};\n","import { useContext } from 'react';\nimport { PreferencesContext } from './PreferencesContext';\n/**\n * A hook to retrieve the PreferencesContext which gives access to preferences related configuration.\n * @returns {PreferencesContextValue} The PreferencesContext value\n */\nexport var usePreferencesContext = function () { return useContext(PreferencesContext); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useMemo, cloneElement, isValidElement } from 'react';\nimport { usePreferences } from '..';\nvar defaultThemeFromType = function (type) { return ({\n    palette: { type: type },\n}); };\n/**\n * Inject a MUI theme object to its child component based on the theme in preferences\n *\n * @example\n *\n *     export const App = () => (\n *         <PreferencesBasedThemeProvider>\n *             <Admin dataProvider={dataProvider}>\n *                 <Resource name=\"posts\" list={PostList} />\n *             </Admin>\n *         </PreferencesBasedThemeProvider>\n *     );\n *\n * @param {function} themeFromType Function returning a MUI Theme based on the theme string stored in preferences. Defaults to type => ({ palette: { type } }).\n *\n * Additional props are passed down to the child component.\n */\nexport var PreferencesBasedThemeProvider = function (_a) {\n    var children = _a.children, _b = _a.themeFromType, themeFromType = _b === void 0 ? defaultThemeFromType : _b, rest = __rest(_a, [\"children\", \"themeFromType\"]);\n    var type = usePreferences('theme', 'light')[0];\n    var theme = useMemo(function () { return themeFromType(type); }, [type] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    if (!isValidElement(children)) {\n        throw new Error('PreferencesBasedThemeProvider must be used with a valid child');\n    }\n    return cloneElement(children, __assign({ theme: theme }, rest));\n};\n","import React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport { useTranslate } from 'react-admin';\nimport { usePreferences } from '..';\n/**\n * Button toggling the theme (light or dark) in the preferences.\n *\n * To be used in conjunction with PreferencesBasedThemeProvider.\n *\n * @see PreferencesBasedThemeProvider\n *\n * @example\n *\n *     const MyAppBar: FC = props => (\n *         <AppBar {...props}>\n *             <Box flex=\"1\">\n *                 <Typography variant=\"h6\" id=\"react-admin-title\"></Typography>\n *             </Box>\n *             <ToggleThemeButton />\n *         </AppBar>\n *     );\n *\n *     const MyLayout: FC = props => <Layout {...props} appBar={MyAppBar} />;\n */\nexport var ToggleThemeButton = function () {\n    var translate = useTranslate();\n    var _a = usePreferences('theme', 'light'), theme = _a[0], setTheme = _a[1];\n    var handleTogglePaletteType = function () {\n        setTheme(theme === 'light' ? 'dark' : 'light');\n    };\n    var toggleThemeTitle = translate('ra-preferences.action.toggle_theme', {\n        _: 'Toggle Theme',\n    });\n    return (React.createElement(Tooltip, { title: toggleThemeTitle, enterDelay: 300 },\n        React.createElement(IconButton, { color: \"inherit\", onClick: handleTogglePaletteType, \"aria-label\": toggleThemeTitle }, theme === 'light' ? React.createElement(Brightness4Icon, null) : React.createElement(Brightness7Icon, null))));\n};\n","import React from 'react';\nimport { useLocale } from 'react-admin';\nimport { Button, Menu, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LanguageIcon from '@material-ui/icons/Translate';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useSetLocaleAndPreference } from './useSetLocaleAndPreference';\n/**\n * Language selector. Changes the locale in the app and persists it in\n * preferences so that the app opens with the right locale in the future.\n *\n * @example\n *\n *     const MyAppBar: FC = props => (\n *         <AppBar {...props}>\n *             <Box flex=\"1\">\n *                 <Typography variant=\"h6\" id=\"react-admin-title\"></Typography>\n *             </Box>\n *             <LanguageSwitcher\n *                 languages={[\n *                     { locale: 'en', name: 'English' },\n *                     { locale: 'fr', name: 'Français' },\n *                 ]}\n *             />\n *         </AppBar>\n *     );\n */\nexport var LanguageSwitcher = function (_a) {\n    var languages = _a.languages, _b = _a.defaultLanguage, defaultLanguage = _b === void 0 ? '' : _b;\n    var classes = useStyles();\n    var _c = React.useState(null), anchorEl = _c[0], setAnchorEl = _c[1];\n    var locale = useLocale();\n    var setLocale = useSetLocaleAndPreference();\n    var getNameForLocale = function (locale) {\n        var language = languages.find(function (language) { return language.locale === locale; });\n        return language ? language.name : defaultLanguage;\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    var changeLocale = function (locale) { return function () {\n        setLocale(locale);\n        setAnchorEl(null);\n    }; };\n    var handleLanguageClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { color: \"inherit\", \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", onClick: handleLanguageClick },\n            React.createElement(LanguageIcon, null),\n            React.createElement(\"div\", { className: classes.languageContainer }, getNameForLocale(locale)),\n            React.createElement(ExpandMoreIcon, { fontSize: \"small\" })),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, languages.map(function (language) { return (React.createElement(MenuItem, { key: language.locale, onClick: changeLocale(language.locale) }, language.name)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    languageContainer: {\n        marginLeft: theme.spacing(1),\n    },\n}); });\n","import { useEffect, useCallback } from 'react';\nimport { useSetLocale } from 'react-admin';\nimport { usePreferences } from '..';\n/**\n * Set the locale in the app and in the preferences.\n *\n * On mount, set the app locale based on preferences.\n *\n * @example\n *\n * import { useSetLocaleAndPreference } from '@react-admin/ra-preferences';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocaleAndPreference();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n *\n * @param {string} defaultLocale Default locale\n */\nexport var useSetLocaleAndPreference = function (defaultLocale) {\n    var setLocale = useSetLocale();\n    var _a = usePreferences('locale', defaultLocale), locale = _a[0], setLocaleInPreferences = _a[1];\n    // set language based on preferences\n    useEffect(function () {\n        if (locale) {\n            setLocale(locale);\n        }\n    }, [locale, setLocale]);\n    return useCallback(function (locale) {\n        setLocale(locale);\n        setLocaleInPreferences(locale);\n    }, [setLocale, setLocaleInPreferences]);\n};\n","import { useEffect, useRef } from 'react';\nimport { setSidebarVisibility } from 'react-admin';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { usePreferences } from '../';\n/**\n * Save Sidebar open status in Preferences, and restore it on load.\n *\n * @example\n *\n *     import { SidebarOpenPreferenceSync } from '@react-admin/ra-preferences';\n *\n *     const MyLayout = props => (\n *         <>\n *             <SidebarOpenPreferenceSync />\n *             <Layout {...props} />\n *         </>\n *     );\n *\n *     export const App = () => (\n *         <Admin dataProvider={dataProvider} layout={MyLayout}>\n *             ...\n *         </Admin>\n *     );\n */\nexport var SidebarOpenPreferenceSync = function () {\n    var sidebarOpenFromStore = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var _a = usePreferences('ui.sidebarOpen'), sidebarPref = _a[0], setSidebarPref = _a[1];\n    var dispatch = useDispatch();\n    var stateRef = useRef();\n    useEffect(function () {\n        if (typeof stateRef.current === 'undefined') {\n            // first mount\n            stateRef.current =\n                typeof sidebarPref !== 'undefined'\n                    ? sidebarPref\n                    : sidebarOpenFromStore;\n            if (typeof sidebarPref !== 'undefined' &&\n                sidebarPref !== sidebarOpenFromStore) {\n                // restore preference\n                dispatch(setSidebarVisibility(sidebarPref));\n            }\n        }\n        else {\n            if (stateRef.current !== sidebarOpenFromStore) {\n                // sidebar state changed in store\n                if (sidebarPref !== sidebarOpenFromStore) {\n                    // store latest state in preferences\n                    setSidebarPref(sidebarOpenFromStore);\n                    stateRef.current = sidebarOpenFromStore;\n                }\n            }\n            else {\n                // sidebar preference changed in localStorage (probably from another window)\n                if (sidebarPref != undefined &&\n                    sidebarPref !== sidebarOpenFromStore) {\n                    // store latest preference in state\n                    dispatch(setSidebarVisibility(sidebarPref));\n                    stateRef.current = sidebarPref;\n                }\n            }\n        }\n    }, [dispatch, sidebarPref, setSidebarPref, sidebarOpenFromStore]);\n    return null;\n};\n","import React from 'react';\nimport { FormControlLabel, Checkbox } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useListContext, getFieldLabelTranslationArgs, } from 'react-admin';\nimport classnames from 'classnames';\nimport { usePreferences } from '../usePreferences';\nexport var SelectColumnsMenu = function (_a) {\n    var preference = _a.preference, columns = _a.columns, className = _a.className;\n    var classes = useStyles();\n    var _b = usePreferences(preference, Object.keys(columns)), columnsPref = _b[0], setColumnsPref = _b[1];\n    var translate = useTranslate();\n    var resource = useListContext().resource;\n    var addColumn = function (event) {\n        setColumnsPref(Object.keys(columns).filter(function (name) { return name === event.target.name || columnsPref.includes(name); }));\n    };\n    var removeColumn = function (event) {\n        // always leave at least one column\n        if (columnsPref.length > 1) {\n            setColumnsPref(columnsPref.filter(function (name) { return name !== event.target.name; }));\n        }\n    };\n    return (React.createElement(\"div\", { className: classnames(classes.columnsContainer, className) }, Object.keys(columns).map(function (name) { return (React.createElement(\"div\", { key: name },\n        React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { name: name, checked: columnsPref.includes(name), onClick: columnsPref.includes(name)\n                    ? removeColumn\n                    : addColumn }), label: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: columns[name].props.label,\n                resource: resource,\n                source: name,\n            })) }))); })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    columnsContainer: {\n        margin: theme.spacing(1) + \"px \" + theme.spacing(2) + \"px\",\n    },\n}); });\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useListContext } from 'react-admin';\nimport isEqual from 'lodash/isEqual';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'query-string';\nvar useStyles = makeStyles({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n});\nvar SavedQueryFilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListContext(), filterValues = _a.filterValues, currentSort = _a.currentSort, perPage = _a.perPage, displayedFilters = _a.displayedFilters;\n    var history = useHistory();\n    var classes = useStyles(props);\n    var isSelected = isEqual(value, {\n        filter: filterValues,\n        sort: currentSort,\n        perPage: perPage,\n        displayedFilters: displayedFilters,\n    });\n    var addFilter = function () {\n        history.push({\n            search: stringify({\n                filter: JSON.stringify(value.filter),\n                sort: value.sort.field,\n                order: value.sort.order,\n                page: 1,\n                perPage: value.perPage,\n                displayedFilters: value.displayedFilters,\n            }),\n        });\n    };\n    var removeFilter = function () {\n        history.push({\n            search: stringify({\n                filter: JSON.stringify({}),\n            }),\n        });\n    };\n    var toggleFilter = function () {\n        return isSelected ? removeFilter() : addFilter();\n    };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: label, className: classes.listItemText }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        isEqual(prevProps.value, nextProps.value);\n};\nexport default memo(SavedQueryFilterListItem, arePropsEqual);\n","import * as React from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useListContext, useTranslate } from 'react-admin';\nimport { Tooltip, Typography, List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BookmarkIcon from '@material-ui/icons/BookmarkBorder';\nimport HelpIcon from '@material-ui/icons/HelpOutline';\nimport { useSavedQueries } from './useSavedQueries';\nimport SavedQueryFilterListItem from './SavedQueryFilterListItem';\nimport { AddSavedQueryIconButton } from './AddSavedQueryIconButton';\nimport { RemoveSavedQueryIconButton } from './RemoveSavedQueryIconButton';\nvar useStyles = makeStyles(function (theme) { return ({\n    floatingIcon: {\n        position: 'absolute',\n        top: '-1.8em',\n        right: 0,\n    },\n    floatingTooltip: {\n        position: 'absolute',\n        top: '-1.2em',\n        right: 3,\n        color: theme.palette.action.disabled,\n    },\n    titleContainer: {\n        alignItems: 'center',\n        display: 'flex',\n        marginTop: theme.spacing(2),\n    },\n    titleIcon: {\n        marginRight: theme.spacing(1),\n    },\n}); });\n/**\n * FilterList-like component allowing to save and restore a query (filters, sort, perPage).\n *\n * Use this component in a Filter sidebar to let users store custom queries\n * that they can reuse later. The saved queries will appear as FilterListItems,\n * and can be removed.\n *\n * This component uses usePreference under the hood to store saved queries in\n * localStorage, one set of saved queries per resource.\n *\n * @example\n *\n * import { FilterList, FilterListItem, List, Datagrid } from 'react-admin';\n * import { Card, CardContent } from '@material-ui/core';\n *\n * import { SavedQueriesList } from '@react-admin/ra-preferences';\n *\n * const PostFilterSidebar: FC = () => (\n *     <Card>\n *         <CardContent>\n *             <SavedQueriesList />\n *             <FilterList label=\"Category\" icon={<CategoryIcon />}>\n *                 ...\n *             </FilterList>\n *             <FilterList label=\"Published\" icon={<DateRangeIcon />}>\n *                ...\n *             </FilterList>\n *             <FilterList label=\"Popularity\" icon={<DateRangeIcon />}>\n *                ...\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * const PostList: FC<Props> = props => (\n *     <List {...props} aside={<PostFilterSidebar />}>\n *         <Datagrid>\n *             ...\n *         </Datagrid>\n *     </List>\n * );\n *\n */\nexport var SavedQueriesList = function (_a) {\n    var _b = _a.icon, icon = _b === void 0 ? defaultIcon : _b;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var _c = useListContext(), resource = _c.resource, filterValues = _c.filterValues, displayedFilters = _c.displayedFilters, currentSort = _c.currentSort, perPage = _c.perPage;\n    var savedQueries = useSavedQueries(resource)[0];\n    var hasSavedCurrentFilterValue = savedQueries.some(function (savedQuery) {\n        return isEqual(savedQuery.value, {\n            filter: filterValues,\n            sort: currentSort,\n            perPage: perPage,\n            displayedFilters: displayedFilters,\n        });\n    });\n    var hasFilterValues = !isEqual(filterValues, {});\n    // note: we don't use react-admin's FilterList because it doesn't accept a default translation\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.titleContainer },\n            React.createElement(\"div\", { className: classes.titleIcon }, icon),\n            React.createElement(Typography, { variant: \"overline\" }, translate('ra-preferences.saved_queries.label', {\n                _: 'Saved Queries',\n            }))),\n        React.createElement(List, { dense: true, disablePadding: true },\n            hasSavedCurrentFilterValue ? (React.createElement(RemoveSavedQueryIconButton, { className: classes.floatingIcon })) : hasFilterValues ? (React.createElement(AddSavedQueryIconButton, { className: classes.floatingIcon })) : (React.createElement(Tooltip, { title: translate('ra-preferences.saved_queries.help', {\n                    _: 'Filter the list and save this query for later',\n                }), className: classes.floatingTooltip },\n                React.createElement(HelpIcon, null))),\n            savedQueries.map(function (savedQuery, index) { return (React.createElement(SavedQueryFilterListItem, { label: savedQuery.label, value: savedQuery.value, key: index })); }))));\n};\nvar defaultIcon = React.createElement(BookmarkIcon, null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useCallback, useRef, forwardRef, } from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash/isEqual';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport { useHistory } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { Button, FieldTitle, useTranslate, useListContext, } from 'react-admin';\nimport { useSavedQueries } from './useSavedQueries';\nimport { AddSavedQueryDialog } from './AddSavedQueryDialog';\nimport { RemoveSavedQueryDialog } from './RemoveSavedQueryDialog';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nexport var FilterButtonWithSave = function (props) {\n    var filters = props.filters, className = props.className, rest = __rest(props, [\"filters\", \"className\"]);\n    var _a = useListContext(), filterValues = _a.filterValues, currentSort = _a.currentSort, perPage = _a.perPage, _b = _a.displayedFilters, displayedFilters = _b === void 0 ? {} : _b, showFilter = _a.showFilter, resource = _a.resource;\n    var translate = useTranslate();\n    var _c = useState(false), open = _c[0], setOpen = _c[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var savedQueries = useSavedQueries(resource)[0];\n    var history = useHistory();\n    var hasFilterValues = !isEqual(filterValues, {});\n    var hasSavedCurrentQuery = savedQueries.some(function (savedQuery) {\n        return isEqual(savedQuery.value, {\n            filter: filterValues,\n            sort: currentSort,\n            perPage: perPage,\n            displayedFilters: displayedFilters,\n        });\n    });\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    // menu state\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    // add query dialog state\n    var _d = useState(false), addSavedQueryDialogOpen = _d[0], setAddSavedQueryDialogOpen = _d[1];\n    var hideAddSavedQueryDialog = function () {\n        setAddSavedQueryDialogOpen(false);\n    };\n    var showAddSavedQueryDialog = function () {\n        setOpen(false);\n        setAddSavedQueryDialogOpen(true);\n    };\n    // remove query dialog state\n    var _e = useState(false), removeSavedQueryDialogOpen = _e[0], setRemoveSavedQueryDialogOpen = _e[1];\n    var hideRemoveSavedQueryDialog = function () {\n        setRemoveSavedQueryDialogOpen(false);\n    };\n    var showRemoveSavedQueryDialog = function () {\n        setOpen(false);\n        setRemoveSavedQueryDialogOpen(true);\n    };\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, rest),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose },\n            hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement, onShow: handleShow, resource: resource })); }),\n            savedQueries.map(function (savedQuery, index) {\n                return isEqual(savedQuery.value, {\n                    filter: filterValues,\n                    sort: currentSort,\n                    perPage: perPage,\n                    displayedFilters: displayedFilters,\n                }) ? (React.createElement(MenuItem, { onClick: showRemoveSavedQueryDialog, key: index }, translate('ra-preferences.saved_queries.remove_label_with_name', {\n                    _: 'Remove query \"%{name}\"',\n                    name: savedQuery.label,\n                }))) : (React.createElement(MenuItem, { onClick: function () {\n                        history.push({\n                            search: stringify({\n                                filter: JSON.stringify(savedQuery.value.filter),\n                                sort: savedQuery.value.sort.field,\n                                order: savedQuery.value.sort.order,\n                                page: 1,\n                                perPage: savedQuery.value.perPage,\n                                displayedFilters: JSON.stringify(savedQuery.value.displayedFilters),\n                            }),\n                        });\n                        setOpen(false);\n                    }, key: index }, savedQuery.label));\n            }),\n            hasFilterValues && !hasSavedCurrentQuery ? (React.createElement(MenuItem, { onClick: showAddSavedQueryDialog }, translate('ra-preferences.saved_queries.new_label', {\n                _: 'Save current query...',\n            }))) : null),\n        React.createElement(AddSavedQueryDialog, { open: addSavedQueryDialogOpen, onClose: hideAddSavedQueryDialog }),\n        React.createElement(RemoveSavedQueryDialog, { open: removeSavedQueryDialogOpen, onClose: hideRemoveSavedQueryDialog })));\n};\nFilterButtonWithSave.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n};\n// FIXME: remove once react-admin exports FilterButtonMenuItem\n// eslint-disable-next-line react/display-name\nvar FilterButtonMenuItem = forwardRef(function (props, ref) {\n    var filter = props.filter, onShow = props.onShow, resource = props.resource;\n    var handleShow = useCallback(function () {\n        onShow({\n            source: filter.props.source,\n            defaultValue: filter.props.defaultValue,\n        });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.props.source, \"data-default-value\": filter.props.defaultValue, key: filter.props.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.props.label, source: filter.props.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.element.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string.isRequired,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext, FilterForm, } from 'react-admin';\nimport { FilterButtonWithSave } from './FilterButtonWithSave';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\n/**\n * <Filter> alternative offering the ability to save queries.\n *\n * Use this component instead of <Filter> to let users store custom queries\n * that they can reuse later. The saved queries will appear as MenuItems in the\n * FilterMenu dropdown, and can be removed.\n *\n * This component uses usePreference under the hood to store saved queries in\n * localStorage, one set of saved queries per resource.\n *\n * @example\n *\n * import { FilterWithSave } from '@react-admin/ra-preferences';\n *\n * const SongFilter: FC = props => (\n *     <FilterWithSave {...props}>\n *         <SelectInput\n *             choices={[\n *                 { id: 'Apple', name: 'Apple' },\n *                 { id: 'Atlantic', name: 'Atlantic' },\n *                 { id: 'Capitol', name: 'Capitol' },\n *                 { id: 'Chess', name: 'Chess' },\n *                 { id: 'Columbia', name: 'Columbia' },\n *                 { id: 'DGC', name: 'DGC' },\n *                 { id: 'London', name: 'London' },\n *                 { id: 'Tamla', name: 'Tamla' },\n *             ]}\n *             source=\"recordCompany\"\n *         />\n *         <DateInput source=\"released_gte\" label=\"Released after\" />\n *         <DateInput source=\"released_lte\" label=\"Released before\" />\n *     </FilterWithSave>\n * );\n *\n * const SongList: FC<Props> = props => (\n *     <List {...props} filters={<SongFilter />}>\n *         <Datagrid rowClick=\"edit\">\n *             <TextField source=\"title\" />\n *             <TextField source=\"artist\" />\n *             <TextField source=\"writer\" />\n *             <TextField source=\"producer\" />\n *             <TextField source=\"recordCompany\" />\n *             <NumberField source=\"rank\" />\n *             <DateField source=\"released\" />\n *         </Datagrid>\n *     </List>\n * );\n */\nexport var FilterWithSave = function (props) {\n    // Same code as react-admin's <Filter>, except it uses <FilterButtonWithSave> instead of `<FilterButton>`\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButtonWithSave, __assign({ className: classes.button, filters: React.Children.toArray(children) }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilterWithSave.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\n","import { createContext } from 'react';\nexport var PreferencesEditorContext = createContext(undefined);\n","import { useContext } from 'react';\nimport { PreferencesEditorContext, } from './PreferencesEditorContext';\nexport var usePreferencesEditor = function () {\n    return useContext(PreferencesEditorContext);\n};\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { createMemoryHistory } from 'history';\nimport { Route, Router } from 'react-router-dom';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nvar history = createMemoryHistory();\nexport var PreferencesEditor = function (props) {\n    var children = props.children;\n    var setHistory = usePreferencesEditor().setHistory;\n    useEffect(function () {\n        setHistory(history);\n        return function () {\n            setHistory(null);\n        };\n    }, [setHistory]);\n    return (React.createElement(Router, { history: history },\n        React.createElement(Route, { path: \"/\", render: function () { return children; } })));\n};\n","import * as React from 'react';\nimport { DialogTitle, IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate } from 'react-admin';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var PreferencesEditorDialogTitle = function (props) {\n    var title = props.title;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _a = usePreferencesEditor(), disable = _a.disable, history = _a.history, setEditor = _a.setEditor;\n    var handleBackClick = function () {\n        if (history.location.pathname !== '/') {\n            history.goBack();\n        }\n        else {\n            setEditor(null);\n        }\n    };\n    return (React.createElement(DialogTitle, { className: classes.root, id: \"preferences-editor-dialog-title\", disableTypography: true },\n        !!history && (React.createElement(IconButton, { size: \"small\", \"aria-label\": translate('ra.action.back'), className: classes.backButton, onClick: handleBackClick },\n            React.createElement(BackIcon, null))),\n        React.createElement(Typography, { align: \"center\", color: \"textSecondary\" }, !!title && translate(title, { _: title })),\n        React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: disable, size: \"small\" },\n            React.createElement(CloseIcon, null))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        cursor: 'move',\n        padding: theme.spacing(1.5),\n    },\n    backButton: {\n        position: 'absolute',\n        left: theme.spacing(1),\n        top: theme.spacing(1.4),\n        color: theme.palette.grey[500],\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n}); }, {\n    name: 'RaBaseEditorTitle',\n});\n","import { createContext } from 'react';\nexport var PreferencesEditorDialogContext = createContext(null);\n","import { useEffect, useContext } from 'react';\nimport { PreferencesEditorDialogContext } from './PreferencesEditorDialogContext';\nexport var EditorTitle = function (_a) {\n    var title = _a.title;\n    var setTitle = useContext(PreferencesEditorDialogContext).setTitle;\n    useEffect(function () {\n        setTitle(title);\n    }, [title, setTitle]);\n    return null;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate, } from 'react-admin';\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport { TextField } from '@material-ui/core';\nimport { useResourceModel } from '.';\n/**\n * A component which provides a configuration UI to tweak a resource model reference field\n * @param {ReferenceFieldInputProps} props\n * @param {String} props.resource The resource\n */\nexport var ReferenceFieldInput = function (_a) {\n    var label = _a.label, resource = _a.resource, value = _a.value, onChange = _a.onChange;\n    var model = useResourceModel(resource)[0];\n    var fields = (model === null || model === void 0 ? void 0 : model.fields) || {};\n    var translate = useTranslate();\n    var displayField = inferBestReferenceDisplayField(fields || {});\n    var initialValue = value || displayField;\n    var _b = useState(function () {\n        var fieldChoices = Object.keys(fields).map(function (field) { return ({\n            id: field,\n            name: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: model.fields[field].props.label,\n                resource: resource,\n                source: model.fields[field].props.source,\n            })),\n        }); });\n        if (value && value.indexOf('{{') > -1) {\n            fieldChoices.push({\n                id: value,\n                name: value,\n            });\n        }\n        return fieldChoices;\n    }), choices = _b[0], setChoices = _b[1];\n    var autocompleteFilter = createFilterOptions();\n    var handleKeyChange = function (event, newKey) {\n        if (typeof newKey === 'string') {\n            setChoices(function (prev) { return __spreadArray(__spreadArray([], prev), [{ id: newKey, name: newKey }]); });\n            onChange(newKey);\n        }\n        else if (newKey && newKey.inputValue) {\n            // Create a new value from the user input\n            setChoices(function (prev) { return __spreadArray(__spreadArray([], prev), [\n                { id: newKey.inputValue, name: newKey.inputValue },\n            ]); });\n            onChange(newKey.inputValue);\n        }\n        else if (newKey && newKey.id) {\n            onChange(newKey.id);\n        }\n        else {\n            onChange(undefined);\n        }\n    };\n    return (React.createElement(Autocomplete, { freeSolo: true, options: choices, value: initialValue, onChange: handleKeyChange, filterOptions: function (options, params) {\n            var filtered = autocompleteFilter(options, params);\n            // Suggest the creation of a new value\n            if (params.inputValue !== '') {\n                filtered.push({\n                    inputValue: params.inputValue,\n                    name: \"Add computed field: \\\"\" + params.inputValue + \"\\\"\",\n                });\n            }\n            return filtered;\n        }, selectOnFocus: true, clearOnBlur: true, handleHomeEndKeys: true, renderInput: function (params) { return React.createElement(TextField, __assign({}, params, { label: label })); }, renderOption: function (option) { return option.name; }, getOptionLabel: function (option) {\n            // Value selected with enter, right from the input\n            if (typeof option === 'string') {\n                return option;\n            }\n            // Add \"xxx\" option created dynamically\n            if (option.inputValue) {\n                return option.inputValue;\n            }\n            // Regular option\n            return option.name;\n        } }));\n};\nvar FAVORITE_DISPLAY_FIELD_NAMES = [\n    'name',\n    'title',\n    'label',\n    'reference',\n    'email',\n];\nvar inferBestReferenceDisplayField = function (types) {\n    var best = Object.entries(types).find(function (entry) {\n        return FAVORITE_DISPLAY_FIELD_NAMES.includes(entry[0].toLowerCase());\n    });\n    if (best) {\n        return best[0];\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { InferenceTypes } from 'react-admin';\nimport { FormControl, InputLabel, MenuItem, Select, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var FieldTypeInput = function (_a) {\n    var label = _a.label, props = __rest(_a, [\"label\"]);\n    var classes = useStyles();\n    return (React.createElement(FormControl, { fullWidth: true, className: classes.root },\n        React.createElement(InputLabel, { id: \"type-label\" }, label),\n        React.createElement(Select, __assign({ labelId: \"type-label\", fullWidth: true }, props), FieldTypesChoices.map(function (type) { return (React.createElement(MenuItem, { key: type.id, value: type.id }, type.name)); }))));\n};\nvar FieldTypesChoices = InferenceTypes.map(function (type) { return ({\n    id: type,\n    name: type,\n}); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { getResources, useGetResourceLabel } from 'react-admin';\nimport { FormControl, InputLabel, MenuItem, Select, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nexport var ReferenceResourceInput = function (_a) {\n    var label = _a.label, props = __rest(_a, [\"label\"]);\n    var classes = useStyles();\n    var resources = useSelector(getResources);\n    var getResourceLabel = useGetResourceLabel();\n    var resourcesChoices = resources.map(function (resource) { return ({\n        id: resource.name,\n        name: getResourceLabel(resource.name, 2),\n    }); });\n    return (React.createElement(FormControl, { fullWidth: true, className: classes.root },\n        React.createElement(InputLabel, { id: \"type-label\" }, label),\n        React.createElement(Select, __assign({ fullWidth: true }, props), resourcesChoices.map(function (type) { return (React.createElement(MenuItem, { key: type.id, value: type.id }, type.name)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n}); });\n","import { useEffect } from 'react';\nimport { getValuesFromRecords, inferTypeFromValues } from 'ra-core';\nimport { useSelector } from 'react-redux';\nimport { usePreferences } from '../../usePreferences';\n/**\n * A hook which returns the model for the specified resource. Tries to infer it from the redux store data if not already defined.\n * @param {String} resource The resource\n * @param {String} preferencesKey The preference key which defaults to the resource name\n * @returns {ResourceModel} The resource model\n */\nexport var useResourceModel = function (resource, preferencesKey) {\n    if (preferencesKey === void 0) { preferencesKey = resource; }\n    var _a = usePreferences(preferencesKey), resourceModel = _a[0], setResourceModel = _a[1];\n    var data = useSelector(function (state) {\n        return state.admin.resources[resource]\n            ? state.admin.resources[resource].data\n            : {};\n    });\n    // data = [\n    //     1: {\n    //         id: 1,\n    //         title: \"Lorem Ipsum\",\n    //         views: 254,\n    //         user_id: 123,\n    //     },\n    //     2: {\n    //         id: 2,\n    //         title: \"Sic Dolor amet\",\n    //         views: 65,\n    //         user_id: 456,\n    //     },\n    // };\n    useEffect(function () {\n        if (resourceModel != null && Object.keys(resourceModel).length > 0) {\n            return;\n        }\n        // We might have no data after applying a filter and we would loose all types.\n        // This does not resolve the issue when loading a page without data though. For that we'll have to store the model in preferences\n        if (!data || Object.keys(data).length === 0) {\n            return;\n        }\n        var fields = inferResourceModel(data);\n        setResourceModel({\n            name: resource,\n            label: resource,\n            fields: fields,\n        });\n    }, [data, resource, resourceModel, setResourceModel]);\n    return [resourceModel, setResourceModel];\n};\nvar inferResourceModel = function (data) {\n    var values = getValuesFromRecords(Object.values(data));\n    // values = {\n    //    id: [1, 2],\n    //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\n    //    views: [254, 65],\n    //    user_id: [123, 456],\n    // }\n    var types = {};\n    Object.keys(values).forEach(function (key) {\n        var fieldType = inferTypeFromValues(key, values[key]);\n        types[key] = fieldType;\n    });\n    // types = {\n    //    id: { type: 'id', props: { source: 'id' } },\n    //    title: { type: 'string', props: { source: 'title } },\n    //    views: { type: 'number', props: { source: 'views } },\n    //    user_id: { type: 'reference', props: { source: 'user_id, reference: 'users' }, children: { type: 'referenceChild' },\n    // }\n    return types;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate, } from 'react-admin';\nimport { ReferenceFieldInput } from './ReferenceFieldInput';\nimport { FieldTypeInput } from './FieldTypeInput';\nimport { ReferenceResourceInput } from './ReferenceResourceInput';\nimport { useResourceModel } from './useResourceModel';\nimport { EditorTitle } from '../Editor';\n/**\n * A component which provides a configuration UI to tweak a resource model field\n * @param {ReferenceFieldInputProps} props\n * @param {InferredElementDescription} props.field The field from the resource model\n * @param {String} props.resource The resource\n * @param {Function} props.onSave The callback called to save the field model\n */\nexport var ResourceModelFieldEditor = function (_a) {\n    var _b;\n    var field = _a.field, preferencesKey = _a.preferencesKey, resource = _a.resource;\n    var translate = useTranslate();\n    var _c = useResourceModel(resource, preferencesKey), model = _c[0], saveModel = _c[1];\n    var handleTypeChange = function (event) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { type: event.target.value }), _a)) }));\n    };\n    var handleReferenceResourceChange = function (event) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { props: __assign(__assign({}, field.props), { reference: event.target.value }) }), _a)) }));\n    };\n    var handleReferenceFieldChange = function (referenceField) {\n        var _a;\n        saveModel(__assign(__assign({}, model), { fields: __assign(__assign({}, model.fields), (_a = {}, _a[field.props.source] = __assign(__assign({}, field), { children: __assign(__assign({}, field.children), { props: __assign(__assign({}, field.children\n                        .props), { optionText: referenceField }) }) }), _a)) }));\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditorTitle, { title: translate.apply(void 0, getFieldLabelTranslationArgs({\n                label: field.props.label,\n                resource: resource,\n                source: field.props.source,\n            })) }),\n        React.createElement(FieldTypeInput, { label: \"Type\", onChange: handleTypeChange, value: field.type }),\n        field.type === 'reference' && (React.createElement(React.Fragment, null,\n            React.createElement(ReferenceResourceInput, { label: \"Reference\", onChange: handleReferenceResourceChange, value: field.props.reference }),\n            React.createElement(ReferenceFieldInput, { label: \"Field displayed\", onChange: handleReferenceFieldChange, resource: field.props.reference, value: (_b = field.children.props) === null || _b === void 0 ? void 0 : _b.optionText })))));\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { useTranslate, Confirm } from 'react-admin';\nimport { usePreferences } from '../usePreferences';\n/**\n * Resets the settings for a given preferences key\n *\n * @example\n *\n * <ResetSettingsButton preferencesKey=\"myPreferencesKey\" />\n */\nexport var ResetSettingsButton = function (_a) {\n    var preferencesKey = _a.preferencesKey;\n    var classes = useStyles();\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var translate = useTranslate();\n    var _c = usePreferences(preferencesKey), _ = _c[0], setPrefs = _c[1];\n    var handleClick = function () {\n        setOpen(true);\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleConfirm = function () {\n        setPrefs({});\n        setOpen(false);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { fullWidth: true, size: \"small\", onClick: handleClick, className: classes.root }, translate('ra-preferences.no-code.reset', {\n            _: 'Reset Settings',\n        })),\n        React.createElement(Confirm, { isOpen: open, loading: false, title: \"ra.message.are_you_sure\", content: \"\", onConfirm: handleConfirm, onClose: handleDialogClose })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginTop: theme.spacing(1),\n        color: theme.palette.error.main,\n        backgroundColor: theme.palette.background.paper,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n        },\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useMemo, forwardRef } from 'react';\nimport { Link as RouterLink, } from 'react-router-dom';\nimport { ListItem } from '@material-ui/core';\nexport var ListItemLink = function (props) {\n    var children = props.children, to = props.to;\n    var renderLink = useMemo(function () {\n        // eslint-disable-next-line react/display-name\n        return forwardRef(function (itemProps, ref) { return (React.createElement(RouterLink, __assign({ to: to, ref: ref }, itemProps))); });\n    }, [to]);\n    return (React.createElement(\"li\", null,\n        React.createElement(ListItem, { button: true, component: renderLink }, children)));\n};\n","import * as React from 'react';\nimport { List, ListItemText } from '@material-ui/core';\nimport { getFieldLabelTranslationArgs, useGetResourceLabel, useTranslate, } from 'react-admin';\nimport { ResourceModelFieldEditor } from './ResourceModelFieldEditor';\nimport { useResourceModel } from './useResourceModel';\nimport { ResetSettingsButton } from '../ResetSettingsButton';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { ListItemLink } from '../ListItemLink';\nimport { EditorTitle } from '../Editor';\n/**\n * A component which provides a configuration UI to tweak a resource model\n * @param {ReferenceFieldInputProps} props\n * @param {String} props.resource The resource\n * @param {String} props.preferencesKey The preference key which defaults to the resource name\n */\nexport var ResourceModelEditor = function (_a) {\n    var resource = _a.resource, _b = _a.preferencesKey, preferencesKey = _b === void 0 ? resource : _b;\n    var model = useResourceModel(resource, preferencesKey)[0];\n    var routeMatch = useRouteMatch();\n    var translate = useTranslate();\n    var getResourceLabel = useGetResourceLabel();\n    if (!model || !model.fields)\n        return null;\n    return (React.createElement(Switch, null,\n        Object.keys(model.fields).map(function (field) { return (React.createElement(Route, { key: \"route-\" + field, path: routeMatch.path + \"/\" + field, render: function () { return (React.createElement(ResourceModelFieldEditor, { field: model.fields[field], resource: resource, preferencesKey: preferencesKey })); } })); }),\n        React.createElement(Route, { path: routeMatch.path, render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: getResourceLabel(resource, 2) }),\n                React.createElement(List, { dense: true }, Object.keys(model.fields).map(function (field) { return (React.createElement(ListItemLink, { key: \"link-\" + field, to: routeMatch.path + \"/\" + field },\n                    React.createElement(ListItemText, { primary: translate.apply(void 0, getFieldLabelTranslationArgs({\n                            label: model.fields[field].props\n                                .label,\n                            resource: resource,\n                            source: model.fields[field]\n                                .props.source,\n                        })) }))); })),\n                React.createElement(ResetSettingsButton, { preferencesKey: preferencesKey }))); } })));\n};\n","import * as React from 'react';\nimport { getResources, useGetResourceLabel, } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router';\nimport { List, ListItemText } from '@material-ui/core';\nimport { ResourceModelEditor } from './ResourceModelEditor';\nimport { EditorTitle, PreferencesEditor } from '../Editor';\nimport { ListItemLink } from '../ListItemLink';\nimport { useRouteMatch } from 'react-router-dom';\nexport var ResourcesModelsEditor = function () {\n    var data = useSelector(getResources);\n    var getResourceLabel = useGetResourceLabel();\n    var routeMatch = useRouteMatch();\n    return (React.createElement(PreferencesEditor, null,\n        React.createElement(Switch, null,\n            data.map(function (_a) {\n                var name = _a.name;\n                return (React.createElement(Route, { key: name + \"-route\", path: routeMatch.path + \"/configure-\" + name, render: function () { return React.createElement(ResourceModelEditor, { resource: name }); } }));\n            }),\n            React.createElement(Route, { path: routeMatch.path, exact: true, render: function () { return (React.createElement(React.Fragment, null,\n                    React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.resources_models\" }),\n                    React.createElement(List, { dense: true }, data.map(function (_a) {\n                        var name = _a.name;\n                        return (React.createElement(ListItemLink, { key: name + \"-link\", to: routeMatch.path + \"/configure-\" + name },\n                            React.createElement(ListItemText, { primary: getResourceLabel(name, 2) })));\n                    })))); } }))));\n};\n","import * as React from 'react';\nimport { Button } from '@material-ui/core';\nimport { useTranslate } from 'react-admin';\nimport { ResourcesModelsEditor } from './ResourcesModelsEditor';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var EditResourcesModelsButton = function () {\n    var setEditor = usePreferencesEditor().setEditor;\n    var translate = useTranslate();\n    var handleShowModelEditorClick = function () {\n        setEditor(React.createElement(ResourcesModelsEditor, null));\n    };\n    return (React.createElement(Button, { onClick: handleShowModelEditorClick }, translate('ra-preferences.no-code.editor.resources_models')));\n};\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { EditorTitle } from './EditorTitle';\nimport { useTranslate } from 'react-admin';\nimport { EditResourcesModelsButton } from '../ResourceModel';\nexport var PreferencesEditorRoot = function () {\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditorTitle, { title: \"ra-preferences.no-code.title\" }),\n        React.createElement(Typography, null, translate('ra-preferences.no-code.instructions')),\n        React.createElement(EditResourcesModelsButton, null)));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect, useMemo, useState } from 'react';\nimport { Modal, Paper } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { usePreferences } from '../../usePreferences';\nimport Draggable from 'react-draggable';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nimport { PreferencesEditorDialogTitle } from './PreferencesEditorDialogTitle';\nimport { PreferencesEditorDialogContext } from './PreferencesEditorDialogContext';\nimport { PreferencesEditorRoot } from './PreferencesEditorRoot';\nexport var PreferencesEditorDialog = function (props) {\n    var _a = usePreferencesEditor(), disable = _a.disable, editor = _a.editor, isEnabled = _a.isEnabled;\n    var _b = useState(null), title = _b[0], setTitle = _b[1];\n    var memoizedContext = useMemo(function () { return ({ setTitle: setTitle }); }, [setTitle]);\n    var theme = useTheme();\n    var classes = useStyles(props);\n    var _c = usePreferences('preferencesDialog.position', {\n        x: \n        // We want it positioned to the far right of the screen\n        document.body.clientWidth -\n            // So we remove its size (see the root css class)\n            theme.breakpoints.values.sm / 2 -\n            // And add a margin\n            theme.spacing(1),\n        y: theme.spacing(1),\n    }), dialogPosition = _c[0], setDialogPosition = _c[1];\n    useEffect(function () {\n        if (dialogPosition.x > document.body.clientWidth) {\n            setDialogPosition({\n                x: \n                // We want it positioned to the far right of the screen\n                document.body.clientWidth -\n                    // So we remove its size (see the root css class)\n                    theme.breakpoints.values.sm / 2 -\n                    // And add a margin\n                    theme.spacing(1),\n                y: theme.spacing(1),\n            });\n        }\n    }, [isEnabled, dialogPosition, setDialogPosition, theme]);\n    var handleDraggableStop = function (e, data) {\n        setDialogPosition({ x: data.x, y: data.y });\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Modal, __assign({ className: classes.root, onClose: disable, open: isEnabled, \"aria-labelledby\": \"preferences-editor-dialog-title\", disableBackdropClick: true, hideBackdrop: true, disableEnforceFocus: true, disableScrollLock: true, BackdropComponent: null }, props),\n            React.createElement(Draggable, { handle: \"#preferences-editor-dialog-title\", cancel: '[class*=\"MuiDialogContent-root\"]', defaultPosition: dialogPosition, onStop: handleDraggableStop },\n                React.createElement(Paper, { className: classes.root, elevation: 3 },\n                    React.createElement(PreferencesEditorDialogTitle, { title: title }),\n                    React.createElement(PreferencesEditorDialogContext.Provider, { value: memoizedContext },\n                        React.createElement(\"div\", { className: classes.content }, editor || React.createElement(PreferencesEditorRoot, null))))))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: theme.breakpoints.values.sm / 2,\n        transition: theme.transitions.create(['height', 'width']),\n    },\n    content: {\n        overflowY: 'auto',\n        maxHeight: '75vh',\n        padding: theme.spacing(2),\n        paddingTop: 0,\n    },\n    instructions: {},\n}); }, {\n    name: 'RaPreferencesEditorDialog',\n});\nPreferencesEditorDialog.displayName = 'PreferencesEditorDialog';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { useTranslate } from 'ra-core';\nexport var OpenEditorButton = forwardRef(function (_a, ref) {\n    var _b = _a.children, children = _b === void 0 ? React.createElement(SettingsIcon, null) : _b, _c = _a.label, label = _c === void 0 ? 'ra-preferences.no-code.action.show_editor' : _c, props = __rest(_a, [\"children\", \"label\"]);\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, __assign({ ref: ref, \"aria-label\": translatedLabel, color: \"primary\" }, props), children)));\n});\nOpenEditorButton.displayName = 'OpenEditorButton';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport { fade, Fade, Popper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { OpenEditorButton } from './OpenEditorButton';\nimport { usePreferencesEditor } from '../usePreferencesEditor';\nexport var Configurable = function (props) {\n    var children = props.children, editableEl = props.editableEl, editor = props.editor, openButtonLabel = props.openButtonLabel;\n    var classes = useStyles(props);\n    var buttonRef = useRef();\n    var _a = useState(false), showEditorButton = _a[0], setShowEditorButton = _a[1];\n    var _b = usePreferencesEditor(), isEnabled = _b.isEnabled, setEditor = _b.setEditor;\n    var handleMouseEnter = function (event) {\n        event.stopPropagation();\n        setShowEditorButton(true);\n    };\n    var handleMouseLeave = function (event) {\n        // We don't want to hide the configuration button if users hover it\n        // To ensure that, we check whether the cursor is still over the editor target (the table element for the Datagrid for example)\n        var targetRect = event.target.getBoundingClientRect();\n        var isMouseHoverTarget = event.clientX > targetRect.left &&\n            event.clientX < targetRect.right &&\n            event.clientY > targetRect.top &&\n            event.clientY < targetRect.bottom;\n        if (!isMouseHoverTarget) {\n            setShowEditorButton(false);\n        }\n    };\n    useEffect(function () {\n        if (!editableEl) {\n            return;\n        }\n        if (isEnabled) {\n            editableEl.classList.add(classes.element);\n            editableEl.addEventListener('mouseover', handleMouseEnter);\n            editableEl.addEventListener('mouseleave', handleMouseLeave);\n        }\n        return function () {\n            setShowEditorButton(false);\n            editableEl.classList.remove(classes.element);\n            editableEl.removeEventListener('mouseover', handleMouseEnter);\n            editableEl.removeEventListener('mouseleave', handleMouseLeave);\n        };\n    }, [classes, editableEl, isEnabled]);\n    var handleOpenEditor = function () {\n        setEditor(editor);\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Popper, { open: showEditorButton, anchorEl: editableEl, placement: \"top-end\", transition: true, className: classes.popper, modifiers: popperModifiers }, function (_a) {\n            var TransitionProps = _a.TransitionProps;\n            return (React.createElement(Fade, __assign({}, TransitionProps, { timeout: 350 }),\n                React.createElement(OpenEditorButton, { ref: buttonRef, onClick: handleOpenEditor, label: openButtonLabel })));\n        }),\n        children));\n};\nvar popperModifiers = {\n    inner: { enabled: true },\n    flip: { enabled: false },\n    hide: { enabled: false },\n    preventOverflow: {\n        enabled: false,\n        padding: 0,\n    },\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    popper: {\n        zIndex: theme.zIndex.modal - 1,\n    },\n    element: {\n        boxShadow: \"rgb(255, 255, 255) 0px 0px 0px 0px, \" + fade(theme.palette.primary.main, 0.3) + \" 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px\",\n        '&:hover': {\n            boxShadow: \"rgb(255, 255, 255) 0px 0px 0px 0px, \" + theme.palette.primary.main + \" 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px\",\n        },\n    },\n}); }, {\n    name: 'RaPreferencesEditor',\n});\n","import * as React from 'react';\nimport { useState, useRef } from 'react';\nimport { Typography, Popover } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { useTranslate, getFieldLabelTranslationArgs } from 'react-admin';\nimport { useResourceModel } from './useResourceModel';\nvar useStyles = makeStyles({\n    popover: {\n        pointerEvents: 'none',\n    },\n    popoverContent: {\n        pointerEvents: 'auto',\n        padding: '1em',\n        maxWidth: '25em',\n    },\n});\nexport var TemplateInfoButton = function (_a) {\n    var resource = _a.resource;\n    var classes = useStyles();\n    var _b = useState(false), openedPopover = _b[0], setOpenedPopover = _b[1];\n    var popoverAnchor = useRef(null);\n    var handleEnter = function () {\n        setOpenedPopover(true);\n    };\n    var handleLeave = function () {\n        setOpenedPopover(false);\n    };\n    var id = openedPopover ? 'simple-popover' : undefined;\n    var translate = useTranslate();\n    var types = useResourceModel(resource);\n    var keys = Object.keys(types);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"span\", { ref: popoverAnchor, \"aria-owns\": id, onMouseEnter: handleEnter, onMouseLeave: handleLeave },\n            React.createElement(InfoIcon, { color: \"disabled\" })),\n        React.createElement(Popover, { id: id, open: openedPopover, anchorEl: popoverAnchor.current, onClose: handleLeave, anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right',\n            }, transformOrigin: {\n                vertical: 'top',\n                horizontal: 'left',\n            }, className: classes.popover, classes: {\n                paper: classes.popoverContent,\n            }, PaperProps: {\n                onMouseEnter: handleEnter,\n                onMouseLeave: handleLeave,\n            } },\n            React.createElement(Typography, { color: \"textSecondary\" },\n                \"Display record data using the\",\n                ' ',\n                React.createElement(\"a\", { href: \"https://mozilla.github.io/nunjucks/\", target: \"_blank\", rel: \"noreferrer\" }, \"nunjucks\"),\n                ' ',\n                \"syntax \",\n                React.createElement(\"br\", null),\n                \"e.g. \",\n                '\"{{',\n                \" first_name \",\n                '}}',\n                \" \",\n                '{{',\n                \" last_name \",\n                '}}\"',\n                \".\",\n                React.createElement(\"br\", null),\n                React.createElement(\"br\", null),\n                \"Available fields for the \",\n                resource,\n                \" resource:\"),\n            React.createElement(\"ul\", null, keys.map(function (key) { return (React.createElement(Typography, { key: key, component: \"li\", color: \"textSecondary\" },\n                key,\n                \" (\",\n                translate.apply(void 0, getFieldLabelTranslationArgs({\n                    resource: resource,\n                    source: key,\n                })),\n                \")\")); })))));\n};\n","import * as React from 'react';\nimport { Button } from 'react-admin';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SaveIcon from '@material-ui/icons/Save';\n/**\n * A toolbar tailored for custom fields\n * @param {FieldFormToolbarProps} props\n * @param {FieldDefinition} field The edited field which may be an empty object for new ones.\n * @param {VoidFunction} onCancel An event handler called to cancel either the edition or creation.\n * @param {VoidFunction} onDelete An event handler called to delete the current field (only for existing ones).\n */\nexport var FieldFormToolbar = function (_a) {\n    var field = _a.field, onCancel = _a.onCancel, onDelete = _a.onDelete;\n    var classes = useStyles();\n    return (\n    // TODO: remove once react-admin 16.1 is out\n    // @ts-ignore\n    React.createElement(Toolbar, { className: classes.toolbar },\n        React.createElement(Button, { variant: \"contained\", type: \"submit\", label: \"Save\" },\n            React.createElement(SaveIcon, null)),\n        React.createElement(\"span\", { className: classes.spacer }),\n        !!(field === null || field === void 0 ? void 0 : field.id) && (React.createElement(Button, { label: \"ra.action.delete\", onClick: onDelete })),\n        React.createElement(Button, { label: \"ra.action.cancel\", onClick: onCancel })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        backgroundColor: theme.palette.type === 'light'\n            ? theme.palette.grey[100]\n            : theme.palette.grey[900],\n    },\n    spacer: {\n        flexGrow: 1,\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { v4 as createUuid } from 'uuid';\nimport { required, SelectInput, TextInput } from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Form } from 'react-final-form';\nimport { TemplateInfoButton } from '../TemplateInfoButton';\nimport { FieldFormToolbar } from './FieldFormToolbar';\nexport var ComputedFieldEditor = function (_a) {\n    var availableColumns = _a.availableColumns, _b = _a.field, field = _b === void 0 ? {} : _b, onCancel = _a.onCancel, onClose = _a.onClose, onDelete = _a.onDelete, onSave = _a.onSave, props = __rest(_a, [\"availableColumns\", \"field\", \"onCancel\", \"onClose\", \"onDelete\", \"onSave\"]);\n    var classes = useStyles();\n    return (React.createElement(Form, { initialValues: __assign({ id: createUuid() }, field), onSubmit: onSave }, function (formProps) { return (React.createElement(\"form\", { onSubmit: formProps.handleSubmit },\n        React.createElement(\"div\", { className: classes.form },\n            React.createElement(TextInput, { source: \"label\", validate: required(), fullWidth: true }),\n            React.createElement(TextInput, { source: \"template\", fullWidth: true, InputProps: {\n                    endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(TemplateInfoButton, { resource: props.resource }))),\n                }, validate: required() }),\n            React.createElement(SelectInput, { source: \"alignment\", choices: ALIGNMENT_CHOICES, validate: required(), initialValue: \"left\", fullWidth: true })),\n        React.createElement(FieldFormToolbar, { field: field, onCancel: onCancel, onDelete: onDelete }))); }));\n};\nvar ALIGNMENT_CHOICES = [\n    { id: 'left', name: 'Left' },\n    { id: 'center', name: 'Center' },\n    { id: 'right', name: 'Right' },\n    { id: 'justify', name: 'Justify' },\n];\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment } from 'react';\nimport { getFieldLabelTranslationArgs, useTranslate } from 'react-admin';\nimport { DialogContent, Popover, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var ComputedFieldTemplatePopover = function (_a) {\n    var availableColumns = _a.availableColumns, resource = _a.resource, props = __rest(_a, [\"availableColumns\", \"resource\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(Popover, __assign({ anchorOrigin: {\n            vertical: 'center',\n            horizontal: 'left',\n        }, transformOrigin: {\n            vertical: 'center',\n            horizontal: 'right',\n        }, disableAutoFocus: true, disableEnforceFocus: true, disableEscapeKeyDown: true, disableRestoreFocus: true, disableScrollLock: true }, props),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, { component: \"p\" }, translate('ra-preferences.no-code.computed_fields.instructions')),\n            React.createElement(Typography, { component: \"code\", className: classes.template }, translate('ra-preferences.no-code.computed_fields.template'))),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, null, translate('ra-preferences.no-code.computed_fields.available_fields')),\n            React.createElement(\"dl\", { className: classes.dl },\n                React.createElement(Typography, { component: \"dt\", className: classes.dt, color: \"textSecondary\", variant: \"subtitle2\" }, translate('ra-preferences.no-code.computed_fields.source_title')),\n                React.createElement(Typography, { component: \"dd\", className: classes.dd, color: \"textSecondary\", variant: \"subtitle2\" }, translate('ra-preferences.no-code.computed_fields.label_title')),\n                availableColumns.map(function (column) { return (React.createElement(Fragment, { key: column[0] },\n                    React.createElement(Typography, { component: \"dt\", className: classes.dt }, column[0]),\n                    React.createElement(Typography, { component: \"dd\", className: classes.dd }, translate.apply(void 0, getFieldLabelTranslationArgs({\n                        label: column[1],\n                        resource: resource,\n                        source: column[0],\n                    }))))); })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    template: {\n        fontFamily: theme.typography.fontFamily.fixed,\n        padding: theme.spacing(0.5, 1),\n        backgroundColor: theme.palette.grey[200],\n        marginTop: theme.spacing(1),\n    },\n    dl: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n    },\n    dt: {\n        display: 'inline-block',\n    },\n    dd: {\n        display: 'inline-block',\n        marginBottom: theme.spacing(1),\n    },\n}); });\n","import * as React from 'react';\nimport { Button, Typography, Switch } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate } from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\n/**\n * A component providing UI to customize a single field.\n * Meant to be used inside the <DatagridEditor>\n *\n * @see DatagridEditor\n * @param {ColumnEditorProps} props\n * @param {Boolean} props.selected A boolean indicating whether this field is selected.\n * @param {Boolean} props.source The field source.\n * @param {Boolean} props.label The field label.\n * @param {Boolean} props.onToggle An event handler called when the selection state of the field changes.\n * @param {Boolean} props.onEdit An event handler called when users choose to edit this field.\n * @param {Boolean} props.resource The resource.\n * @param {FieldDefinition} props.customField The associated custom field if any.\n */\nexport var FieldEditor = function (props) {\n    var selected = props.selected, customField = props.customField, label = props.label, onToggle = props.onToggle, resource = props.resource, source = props.source;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, key: source },\n        React.createElement(\"label\", { htmlFor: \"switch_\" + source },\n            React.createElement(Switch, { checked: selected, className: classes.switch, onChange: onToggle, name: source, id: \"switch_\" + source, size: \"small\" }),\n            React.createElement(Typography, { component: \"span\", variant: \"body2\" },\n                React.createElement(FieldTitle, { label: label, source: source, resource: resource }))),\n        customField && (React.createElement(Button, { component: RouterLink, className: classes.editButton, to: getCustomFieldPath(customField) }, translate('ra.action.edit')))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        '&:hover': {\n            '& $editButton': {\n                opacity: 100,\n            },\n        },\n    },\n    switch: {\n        marginRight: theme.spacing(0.5),\n        marginLeft: -theme.spacing(0.5),\n    },\n    editButton: {\n        opacity: 0,\n        padding: 0,\n        marginLeft: theme.spacing(1),\n        transition: theme.transitions.create('opacity'),\n    },\n}); }, {\n    name: 'RaColumnEditor',\n});\nexport var getCustomFieldPath = function (field) {\n    var result = field.template.replace(/({{)|(}})/g, '').replace(' ', '-');\n    return \"/\" + result;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { Button, FormGroup, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useRefresh, useTranslate } from 'react-admin';\nimport { usePreferences } from '../../usePreferences';\nimport { ComputedFieldEditor } from './ComputedFieldEditor';\nimport { FieldEditor, getCustomFieldPath } from './FieldEditor';\nimport { useComputedFields } from './useComputedFields';\nimport { Route, Switch, Link as RouterLink, useHistory, } from 'react-router-dom';\nimport { EditorTitle } from '../Editor';\nexport var FieldsEditor = function (props) {\n    var defaultFields = props.defaultFields, preferencesKey = props.preferencesKey, resource = props.resource;\n    var translate = useTranslate();\n    var refresh = useRefresh();\n    var classes = useStyles();\n    var history = useHistory();\n    var columnsPreferencesKey = preferencesKey + \".columns\";\n    var customFieldsPreferencesKey = preferencesKey + \".customFields\";\n    var _a = usePreferences(columnsPreferencesKey, Object.keys(defaultFields)), columnsFromPrefs = _a[0], setColumnsFromPref = _a[1];\n    var _b = usePreferences(customFieldsPreferencesKey, []), customFieldsFromPrefs = _b[0], setCustomFieldsFromPref = _b[1];\n    var customFields = useComputedFields({\n        preferences: customFieldsPreferencesKey,\n    });\n    var availableFields = useMemo(function () {\n        var fields = __assign({}, defaultFields);\n        customFields.forEach(function (field) {\n            fields[field.props.source] = field;\n        });\n        return fields;\n    }, [customFields, defaultFields]);\n    var addColumn = function (event) {\n        setColumnsFromPref(Object.keys(availableFields).filter(function (name) {\n            return name === event.target.name ||\n                columnsFromPrefs.includes(name);\n        }));\n    };\n    var removeColumn = function (event) {\n        // always leave at least one column\n        if (columnsFromPrefs.length > 1) {\n            setColumnsFromPref(columnsFromPrefs.filter(function (name) { return name !== event.target.name; }));\n        }\n    };\n    var handleColumnToggle = function (event) {\n        if (event.target.checked) {\n            addColumn(event);\n        }\n        else {\n            removeColumn(event);\n        }\n    };\n    var handleSaveCustomField = function (values) {\n        var existingFieldIndex = customFieldsFromPrefs.findIndex(function (field) { return field.id === values.id; });\n        if (existingFieldIndex >= 0) {\n            setCustomFieldsFromPref(__spreadArray(__spreadArray(__spreadArray([], customFieldsFromPrefs.slice(0, existingFieldIndex)), [\n                values\n            ]), customFieldsFromPrefs.slice(existingFieldIndex + 1)));\n        }\n        else {\n            setCustomFieldsFromPref(customFieldsFromPrefs.concat(values));\n            setColumnsFromPref(columnsFromPrefs.concat(values.template));\n        }\n        history.push('/');\n        // Because react-admin won't rerender the datagrid header cells when the field props change, we have to refresh the view\n        refresh();\n    };\n    var handleDeleteCustomField = function (field) {\n        setColumnsFromPref(columnsFromPrefs.filter(function (column) { return column !== field.template; }));\n        setCustomFieldsFromPref(customFieldsFromPrefs.filter(function (field) { return field.id !== field.id; }));\n        history.push('/');\n        // Because react-admin won't rerender the datagrid header cells when the field props change, we have to refresh the view\n        refresh();\n    };\n    var handleCustomFieldPaneClose = function () {\n        history.push('/');\n    };\n    return (React.createElement(Switch, null,\n        React.createElement(Route, { path: \"/create-custom-field\", render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.custom_field\" }),\n                React.createElement(ComputedFieldEditor, { availableColumns: Object.keys(availableFields)\n                        .filter(function (column) { return !column.includes('{{'); })\n                        .map(function (column) { return [\n                        column,\n                        availableFields[column].props.label,\n                    ]; }), field: DefaultNewCustomField, onCancel: handleCustomFieldPaneClose, onSave: handleSaveCustomField, resource: resource }))); } }),\n        customFieldsFromPrefs.map(function (field) { return (React.createElement(Route, { key: field.template, path: getCustomFieldPath(field), render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(EditorTitle, { title: \"ra-preferences.no-code.editor.custom_field\" }),\n                React.createElement(ComputedFieldEditor, { availableColumns: Object.keys(availableFields)\n                        .filter(function (column) { return !column.includes('{{'); })\n                        .map(function (column) { return [\n                        column,\n                        availableFields[column].props.label,\n                    ]; }), field: field, onCancel: handleCustomFieldPaneClose, onDelete: function () { return handleDeleteCustomField(field); }, onSave: handleSaveCustomField, resource: resource }))); } })); }),\n        React.createElement(Route, { path: \"/\", render: function () { return (React.createElement(React.Fragment, null,\n                React.createElement(Typography, { id: resource + \"-columns-description\", variant: \"subtitle2\", color: \"textSecondary\", gutterBottom: true }, translate('ra-preferences.no-code.action.choose_fields')),\n                React.createElement(FormGroup, null, Object.keys(availableFields).map(function (source) { return (React.createElement(FieldEditor, { key: source, selected: columnsFromPrefs.some(function (column) { return column === source; }), source: source, label: availableFields[source].props.label, customField: customFieldsFromPrefs.find(function (field) { return field.template === source; }), onToggle: handleColumnToggle, resource: resource })); })),\n                React.createElement(Button, { component: RouterLink, to: \"/create-custom-field\", startIcon: React.createElement(AddIcon, null), className: classes.addFieldButton }, translate('ra-preferences.no-code.action.add_computed_field')))); } })));\n};\nvar DefaultNewCustomField = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    addFieldButton: {\n        marginLeft: theme.spacing(0.5),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { List, ListItem, IconButton, Button, TextField, } from '@material-ui/core';\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport DeleteIcon from '@material-ui/icons/CancelOutlined';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport isEqual from 'lodash/isEqual';\nimport { useTranslate } from 'ra-core';\nimport { useResourceModel } from '../ResourceModel';\nimport { PropertyValueInput } from './PropertyValueInput';\nvar autocompleteFilter = createFilterOptions();\n/**\n * A controlled input component for editing object values\n *\n * Renders one row for each key/value pairs, allows adding and removing pairs.\n *\n * @example\n *\n * const App = () => {\n *   const [value, setValue] = useState({ foo: \"bar \" });\n *   const handleChange = (val) => {\n *     setValue(val);\n *   };\n *   return (<ObjectInput value={value} onChange={handleChange} />);\n * }\n */\nexport var ObjectInput = function (_a) {\n    var resource = _a.resource, value = _a.value, onChange = _a.onChange, className = _a.className;\n    var classes = useStyles();\n    var translate = useTranslate();\n    var _b = useState(function () {\n        return value ? Object.entries(value) : [];\n    }), entries = _b[0], setEntries = _b[1];\n    // The form uses the local state, which updates immediately on user input\n    // The changes are bubbled up (via onChange) when the user blurs an input, or deletes a row\n    // Adding a empty row doesn't call onChange\n    useEffect(function () {\n        var localValue = Object.fromEntries(entries);\n        if (value && !isEqual(value, localValue)) {\n            setEntries(Object.entries(value));\n        }\n    }, [value]); // eslint-disable-line react-hooks/exhaustive-deps\n    var model = useResourceModel(resource)[0];\n    var keys = Object.keys((model === null || model === void 0 ? void 0 : model.fields) || {}).map(function (key) { return ({\n        title: key,\n        value: key,\n    }); });\n    var handleKeyChange = function (index) {\n        return function (event, newKey) {\n            if (typeof newKey === 'string') {\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey, entries[index][1]]\n                ]), entries.slice(index + 1)); });\n            }\n            else if (newKey && newKey.value) {\n                // Create a new value from the user input\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey && newKey.value, '']\n                ]), entries.slice(index + 1)); });\n            }\n            else {\n                setEntries(function (entries) { return __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                    [newKey, '']\n                ]), entries.slice(index + 1)); });\n            }\n            // onChange will be called when a value is set\n        };\n    };\n    var handleValueChange = function (index) {\n        return function (event, newValue) {\n            var newEntries = __spreadArray(__spreadArray(__spreadArray([], entries.slice(0, index)), [\n                [entries[index][0], newValue]\n            ]), entries.slice(index + 1));\n            onChange(Object.fromEntries(newEntries));\n        };\n    };\n    var handleItemRemove = function (index) { return function () {\n        onChange(Object.fromEntries(__spreadArray(__spreadArray([], entries.slice(0, index)), entries.slice(index + 1))));\n        // the local state will be modified by the useEffect\n    }; };\n    var handleItemAdd = function () {\n        setEntries(function (entries) { return __spreadArray(__spreadArray([], entries), [['', '']]); });\n    };\n    if (!model || !model.fields) {\n        return null;\n    }\n    return (React.createElement(List, { className: className, dense: true },\n        entries.map(function (_a, index) {\n            var key = _a[0], val = _a[1];\n            return (React.createElement(ListItem, { key: index, className: classes.filterItemRow },\n                React.createElement(Autocomplete, { freeSolo: true, options: keys, value: key, onChange: handleKeyChange(index), filterOptions: function (options, params) {\n                        var filtered = autocompleteFilter(options, params);\n                        // Suggest the creation of a new value\n                        if (params.inputValue !== '') {\n                            filtered.push({\n                                inputValue: params.inputValue,\n                                title: \"Add \\\"\" + params.inputValue + \"\\\"\",\n                            });\n                        }\n                        return filtered;\n                    }, selectOnFocus: true, clearOnBlur: true, handleHomeEndKeys: true, className: classes.filterItemField, renderInput: function (params) { return (React.createElement(TextField, __assign({}, params, { label: \"Key\" }))); }, renderOption: function (option) { return option.title; }, getOptionLabel: function (option) {\n                        // Value selected with enter, right from the input\n                        if (typeof option === 'string') {\n                            return option;\n                        }\n                        // Add \"xxx\" option created dynamically\n                        if (option.inputValue) {\n                            return option.inputValue;\n                        }\n                        // Regular option\n                        return option.title;\n                    } }),\n                React.createElement(PropertyValueInput, { name: key, value: val, onChange: handleValueChange(index), type: model.fields[key], className: classes.filterItemValue }),\n                React.createElement(IconButton, { \"arial-label\": \"ra.action.delete\", onClick: handleItemRemove(index), size: \"small\", className: classes.deleteButton },\n                    React.createElement(DeleteIcon, null))));\n        }),\n        React.createElement(ListItem, null,\n            React.createElement(Button, { variant: \"outlined\", size: \"small\", startIcon: React.createElement(AddIcon, null), onClick: handleItemAdd }, translate('ra-preferences.no-code.list.filter.add', {\n                _: 'Add condition',\n            })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    filterItemRow: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingRight: 0,\n    },\n    filterItemField: {\n        flex: 1,\n        '&:first-child': {\n            marginRight: theme.spacing(1),\n        },\n    },\n    filterItemValue: {\n        flex: 1,\n    },\n    deleteButton: {\n        height: 30,\n    },\n}); });\n","import * as React from 'react';\nimport { Typography, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport { usePreferences } from '../../usePreferences';\nimport { ObjectInput } from './ObjectInput';\nimport { ResetSettingsButton } from '../ResetSettingsButton';\nimport { PreferencesEditor, EditorTitle } from '../Editor';\nimport { useGetResourceLabel } from 'react-admin';\n/**\n * A component which provides a configuration UI to tweak the List\n * @param {ListEditorProps} props\n * @param {ColumnList} props.columns The List columns\n * @param {String} props.resource The resource\n * @param {String} props.preferencesKey The key of the columns preferences\n */\nexport var ListEditor = function (_a) {\n    var defaultFilter = _a.defaultFilter, defaultTitle = _a.defaultTitle, resource = _a.resource, preferencesKey = _a.preferencesKey;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var getResourceLabel = useGetResourceLabel();\n    // title preferences\n    var _b = usePreferences(preferencesKey + \".title\", defaultTitle), title = _b[0], setTitle = _b[1];\n    var handleTitleChange = function (event) {\n        setTitle(event.target.value);\n    };\n    // filter preferences\n    var _c = usePreferences(preferencesKey + \".filter\", defaultFilter), filter = _c[0], setFilter = _c[1];\n    var handleFilterChange = function (value) {\n        setFilter(value);\n    };\n    return (React.createElement(PreferencesEditor, null,\n        React.createElement(React.Fragment, null,\n            React.createElement(EditorTitle, { title: translate('ra-preferences.no-code.editor.list', {\n                    resource: getResourceLabel(resource, 2),\n                }) }),\n            React.createElement(TextField, { label: translate('ra-preferences.no-code.list.title', {\n                    _: 'Title',\n                }), value: title, onChange: handleTitleChange, fullWidth: true, variant: \"filled\", size: \"small\", helperText: \" \" }),\n            React.createElement(Typography, { variant: \"body2\", color: \"textSecondary\", gutterBottom: true }, translate('ra-preferences.no-code.list.filter', {\n                _: 'Permanent filter',\n            })),\n            React.createElement(ObjectInput, { resource: resource, value: filter, onChange: handleFilterChange, className: classes.objectInput }),\n            React.createElement(ResetSettingsButton, { preferencesKey: preferencesKey }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    objectInput: {\n        borderLeft: \"solid 1px \" + theme.palette.divider,\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n}); });\n","export var CHANGE_EXPANDED_NODES = 'RA/TREE/CHANGE_EXPANDED_NODES';\nexport var changeExpandedNodes = function (resource, nodeIds) { return ({\n    type: CHANGE_EXPANDED_NODES,\n    payload: nodeIds,\n    meta: { resource: resource },\n}); };\nexport var EXPAND_NODE = 'RA/TREE/EXPAND_NODE';\nexport var expandNode = function (resource, nodeId) { return ({\n    type: EXPAND_NODE,\n    payload: nodeId,\n    meta: { resource: resource },\n}); };\nexport var CRUD_GET_TREE = 'RA/CRUD_GET_TREE';\nexport var CRUD_GET_TREE_LOADING = 'RA/CRUD_GET_TREE_LOADING';\nexport var CRUD_GET_TREE_SUCCESS = 'RA/CRUD_GET_TREE_SUCCESS';\nexport var CRUD_GET_TREE_FAILURE = 'RA/CRUD_GET_TREE_FAILURE';\nexport var CRUD_GET_ROOT_NODES = 'RA/CRUD_GET_ROOT_NODES';\nexport var CRUD_GET_ROOT_NODES_LOADING = 'RA/CRUD_GET_ROOT_NODES_LOADING';\nexport var CRUD_GET_ROOT_NODES_SUCCESS = 'RA/CRUD_GET_ROOT_NODES_SUCCESS';\nexport var CRUD_GET_ROOT_NODES_FAILURE = 'RA/CRUD_GET_ROOT_NODES_FAILURE';\nexport var CRUD_GET_CHILD_NODES = 'RA/CRUD_GET_CHILD_NODES';\nexport var CRUD_GET_CHILD_NODES_LOADING = 'RA/CRUD_GET_CHILD_NODES_LOADING';\nexport var CRUD_GET_CHILD_NODES_SUCCESS = 'RA/CRUD_GET_CHILD_NODES_SUCCESS';\nexport var CRUD_GET_CHILD_NODES_FAILURE = 'RA/CRUD_GET_CHILD_NODES_FAILURE';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_LOADING = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_LOADING';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_SUCCESS = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_SUCCESS';\nexport var CRUD_MOVE_AS_NTH_CHILD_OF_FAILURE = 'RA/CRUD_MOVE_AS_NTH_CHILD_OF_FAILURE';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_LOADING = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_LOADING';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_SUCCESS = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_SUCCESS';\nexport var CRUD_MOVE_AS_NTH_SIBLING_OF_FAILURE = 'RA/CRUD_MOVE_AS_NTH_SIBLING_OF_FAILURE';\nexport var CRUD_ADD_ROOT_NODE = 'RA/CRUD_ADD_ROOT_NODE';\nexport var CRUD_ADD_ROOT_NODE_LOADING = 'RA/CRUD_ADD_ROOT_NODE_LOADING';\nexport var CRUD_ADD_ROOT_NODE_SUCCESS = 'RA/CRUD_ADD_ROOT_NODE_SUCCESS';\nexport var CRUD_ADD_ROOT_NODE_FAILURE = 'RA/CRUD_ADD_ROOT_NODE_FAILURE';\nexport var CRUD_ADD_CHILD_NODE = 'RA/CRUD_ADD_CHILD_NODE';\nexport var CRUD_ADD_CHILD_NODE_LOADING = 'RA/CRUD_ADD_CHILD_NODE_LOADING';\nexport var CRUD_ADD_CHILD_NODE_SUCCESS = 'RA/CRUD_ADD_CHILD_NODE_SUCCESS';\nexport var CRUD_ADD_CHILD_NODE_FAILURE = 'RA/CRUD_ADD_CHILD_NODE_FAILURE';\nexport var CRUD_DELETE_BRANCH = 'RA/CRUD_DELETE_BRANCH';\nexport var CRUD_DELETE_BRANCH_LOADING = 'RA/CRUD_DELETE_BRANCH_LOADING';\nexport var CRUD_DELETE_BRANCH_SUCCESS = 'RA/CRUD_DELETE_BRANCH_SUCCESS';\nexport var CRUD_DELETE_BRANCH_FAILURE = 'RA/CRUD_DELETE_BRANCH_FAILURE';\nexport var POPULATE_RECORDS_FROM_NODES = 'RA/TREE/POPULATE_RECORDS_FROM_NODES';\nexport var CREATE_RECORD_FROM_NODE = 'RA/TREE/CREATE_RECORD_FROM_NODE';\nexport var ADD_UNSAVED_ROOT_NODE = 'RA/TREE/ADD_UNSAVED_ROOT_NODE';\nexport var REMOVE_UNSAVED_ROOT_NODE = 'RA/TREE/REMOVE_UNSAVED_ROOT_NODE';\nexport var ADD_UNSAVED_CHILD_NODE = 'RA/TREE/ADD_UNSAVED_CHILD_NODE';\nexport var REMOVE_UNSAVED_CHILD_NODE = 'RA/TREE/REMOVE_UNSAVED_CHILD_NODE';\n","export var GET_TREE = 'getTree';\nexport var GET_ROOT_NODES = 'getRootNodes';\nexport var GET_CHILD_NODES = 'getChildNodes';\nexport var MOVE_AS_NTH_CHILD_OF = 'moveAsNthChildOf';\nexport var MOVE_AS_NTH_SIBLING_OF = 'moveAsNthSiblingOf';\nexport var ADD_ROOT_NODE = 'addRootNode';\nexport var ADD_CHILD_NODE = 'addChildNode';\n","export var UNSAVED_NEW_NODE = 'RA/UNSAVED_NEW_NODE';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { CHANGE_EXPANDED_NODES, EXPAND_NODE, ADD_UNSAVED_ROOT_NODE, REMOVE_UNSAVED_ROOT_NODE, ADD_UNSAVED_CHILD_NODE, REMOVE_UNSAVED_CHILD_NODE, } from './actions';\nimport { GET_TREE, GET_ROOT_NODES, GET_CHILD_NODES, ADD_CHILD_NODE, ADD_ROOT_NODE, } from './fetchTypes';\nimport { UNSAVED_NEW_NODE } from './constants';\nvar initialState = {};\n/**\n * Reducer for Tree state\n *\n * Store, for each resource with a tree, 2 objects:\n *  - nodes: a list of nodes indexd by id, containing an array of child ids\n *  - expanded: an array of the expanded ids\n *\n * @example\n *\n * tree: {\n *   categories: {\n *     nodes: {\n *       '1': [2,6],\n *       '2': [3],\n *       '3': [4,5],\n *       '4': [],\n *       '5': [],\n *       '6': [7,10,11],\n *       '7': [8,9],\n *       '8': [],\n *       '9': [],\n *       '10': [],\n *       '11': []\n *     },\n *     expanded: []\n *   }\n */\nexport var reducer = function (state, _a) {\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n    if (state === void 0) { state = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (!meta || !meta.resource) {\n        return state;\n    }\n    var resourceState = state[meta.resource] || {\n        nodes: undefined,\n        expanded: [],\n    };\n    // handling node expansion\n    if (type === CHANGE_EXPANDED_NODES) {\n        return __assign(__assign({}, state), (_b = {}, _b[meta.resource] = __assign(__assign({}, resourceState), { expanded: payload.map(String) }), _b));\n    }\n    if (type === EXPAND_NODE) {\n        if (resourceState.expanded.includes(payload)) {\n            // already expanded\n            return state;\n        }\n        // rc-tree should also expand ancestors but for some reasons it doesn't\n        // determine all the ancestors that must be opened\n        var newExpanded = [];\n        var current_1 = payload;\n        do {\n            newExpanded = newExpanded.concat(String(current_1));\n            current_1 = Object.keys(resourceState.nodes)\n                .filter(function (id) {\n                return resourceState.nodes[id].some(function (item) { return item == current_1; });\n            })\n                .pop();\n        } while (current_1);\n        // expand all these nodes\n        return __assign(__assign({}, state), (_c = {}, _c[meta.resource] = __assign(__assign({}, resourceState), { expanded: resourceState.expanded.concat(newExpanded) }), _c));\n    }\n    // handling local node insertion\n    if (type === ADD_UNSAVED_ROOT_NODE) {\n        return __assign(__assign({}, state), (_d = {}, _d[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_e = {}, _e[UNSAVED_NEW_NODE] = [], _e)) }), _d));\n    }\n    if (type === REMOVE_UNSAVED_ROOT_NODE) {\n        var _v = resourceState.nodes, _w = UNSAVED_NEW_NODE, _ = _v[_w], nodes = __rest(_v, [typeof _w === \"symbol\" ? _w : _w + \"\"]);\n        return __assign(__assign({}, state), (_f = {}, _f[meta.resource] = __assign(__assign({}, resourceState), { nodes: nodes }), _f));\n    }\n    if (type === 'RA/CRUD_DELETE_OPTIMISTIC') {\n        if (typeof resourceState.nodes !== 'undefined') {\n            console.warn(\"A record from a tree resource should not be deleted using the dataProvider.delete method. Please use dataProvider.deleteBranch instead.\");\n        }\n        return state;\n    }\n    if (type === 'RA/CRUD_DELETE_BRANCH_OPTIMISTIC') {\n        var nodesToRemove_1 = getNodesToRemove(resourceState.nodes, payload.id);\n        return __assign(__assign({}, state), (_g = {}, _g[meta.resource] = {\n            expanded: resourceState.expanded.filter(function (id) { return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; }); }),\n            nodes: Object.keys(resourceState.nodes)\n                .filter(function (id) {\n                return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; });\n            })\n                .reduce(function (acc, curr) {\n                acc[curr] = resourceState.nodes[curr].filter(function (id) {\n                    return !nodesToRemove_1.some(function (idToRemove) { return id == idToRemove; });\n                });\n                return acc;\n            }, {}),\n        }, _g));\n    }\n    if (type === ADD_UNSAVED_CHILD_NODE) {\n        return __assign(__assign({}, state), (_h = {}, _h[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_j = {}, _j[payload.parentId] = resourceState.nodes[payload.parentId].concat(UNSAVED_NEW_NODE), _j[UNSAVED_NEW_NODE] = [], _j)), \n            // expand parent id not expanded\n            expanded: resourceState.expanded.includes(payload.parentId)\n                ? resourceState.expanded\n                : resourceState.expanded.concat(String(payload.parentId)) }), _h));\n    }\n    if (type === REMOVE_UNSAVED_CHILD_NODE) {\n        var _x = resourceState.nodes, _y = UNSAVED_NEW_NODE, _ = _x[_y], nodes = __rest(_x, [typeof _y === \"symbol\" ? _y : _y + \"\"]);\n        var children = nodes[payload.parentId].filter(function (e) { return e !== UNSAVED_NEW_NODE; });\n        return __assign(__assign({}, state), (_k = {}, _k[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, nodes), (_l = {}, _l[payload.parentId] = children, _l)) }), _k));\n    }\n    if (!meta.fetchResponse) {\n        return state;\n    }\n    // handling dataProvider response\n    switch (meta.fetchResponse) {\n        case GET_TREE:\n            return __assign(__assign({}, state), (_m = {}, _m[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign({}, payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children;\n                    return acc;\n                }, {})) }), _m));\n        case GET_ROOT_NODES:\n            return __assign(__assign({}, state), (_o = {}, _o[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children || [];\n                    return acc;\n                }, {})) }), _o));\n        case GET_CHILD_NODES:\n            return __assign(__assign({}, state), (_p = {}, _p[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign(__assign({}, (resourceState.nodes || {})), (_q = {}, _q[requestPayload.parentId] = payload.data.map(function (node) { return node.id; }), _q)), payload.data.reduce(function (acc, node) {\n                    acc[node.id] = node.children || [];\n                    return acc;\n                }, {})) }), _p));\n        case ADD_ROOT_NODE:\n            return __assign(__assign({}, state), (_r = {}, _r[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_s = {}, _s[payload.data.id] = [], _s)) }), _r));\n        case ADD_CHILD_NODE:\n            return __assign(__assign({}, state), (_t = {}, _t[meta.resource] = __assign(__assign({}, resourceState), { nodes: __assign(__assign({}, (resourceState.nodes || {})), (_u = {}, _u[requestPayload.parentId] = resourceState.nodes[requestPayload.parentId].concat(payload.data.id), _u[payload.data.id] = [], _u)) }), _t));\n        default:\n            return state;\n    }\n};\nvar getNodesToRemove = function (nodes, nodeId) {\n    var children = nodes[nodeId];\n    var ids = (children || []).reduce(function (acc, child) { return __spreadArray(__spreadArray([], acc), getNodesToRemove(nodes, child)); }, []);\n    ids.push(nodeId);\n    return ids;\n};\n","export var GET_LOCK = 'RA/GET_LOCK';\nexport var GET_LOCK_LOADING = 'RA/GET_LOCK_LOADING';\nexport var GET_LOCK_SUCCESS = 'RA/GET_LOCK_SUCCESS';\nexport var GET_LOCK_FAILURE = 'RA/GET_LOCK_FAILURE';\nexport var GET_LOCKS = 'RA/GET_LOCKS';\nexport var GET_LOCKS_LOADING = 'RA/GET_LOCKS_LOADING';\nexport var GET_LOCKS_SUCCESS = 'RA/GET_LOCKS_SUCCESS';\nexport var GET_LOCKS_FAILURE = 'RA/GET_LOCKS_FAILURE';\nexport var LOCK = 'RA/LOCK';\nexport var LOCK_LOADING = 'RA/LOCK_LOADING';\nexport var LOCK_SUCCESS = 'RA/LOCK_SUCCESS';\nexport var LOCK_FAILURE = 'RA/LOCK_FAILURE';\nexport var UNLOCK = 'RA/UNLOCK';\nexport var UNLOCK_LOADING = 'RA/UNLOCK_LOADING';\nexport var UNLOCK_SUCCESS = 'RA/UNLOCK_SUCCESS';\nexport var UNLOCK_FAILURE = 'RA/UNLOCK_FAILURE';\n","import { useState, useEffect } from 'react';\nimport { useDataProvider } from 'react-admin';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LOCK, LOCK_LOADING, LOCK_SUCCESS, LOCK_FAILURE, UNLOCK, UNLOCK_LOADING, UNLOCK_SUCCESS, UNLOCK_FAILURE, GET_LOCK, GET_LOCK_LOADING, GET_LOCK_SUCCESS, GET_LOCK_FAILURE, } from '../actions';\n/**\n * Hook to lock a record on mount. The record is unlocked when unmounting the component.\n * Be careful, you cannot have two locks on the same record.\n * If you just want to get the current lock (for example to display a warning),\n * please use the `useHasLock` hook instead.\n *\n * @param {string} resource The resource to lock\n * @param {any} recordId The record id to lock\n * @param {string} identity The identity of the locker\n * @param {Object} options Options applied to the lock / unlock mechanism\n * @param {Function} options.onSuccess Side effect function to be executed upon lock success, e.g. `{ onSuccess: () => notify('ra-realtime.notification.lock.lockedByMe') } }`\n * @param {Function} options.onFailure Side effect function to be executed upon lock failure, e.g. `{ onFailure: error => notify(error) } }`\n * @param {Function} options.onUnlockSuccess Side effect function to be executed upon unlock success, e.g. `{ onUnlockSuccess: () => notify('ra-realtime.notification.lock.unlocked') } }`\n * @param {Function} options.onUnlockFailure Side effect function to be executed upon unlock failure, e.g. `{ onUnlockFailure: error => notify(error) } }`\n *\n * @returns The current request state. Destructure as `{ data, error, loading, loaded }`.\n *\n * @example Simple Usage\n *\n * const MyLockedEditView: FC<any> = props => {\n *     const { resource, id } = props;\n *\n *     const { loading } = useLock(resource, id, 'mario');\n *\n *     if (loading) {\n *         return <CircularProgress />;\n *     }\n *\n *     return (\n *         <Edit {...props}>\n *             <SimpleForm>\n *                 <TextInput source=\"title\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n * };\n *\n */\nfunction useLock(resource, recordId, identity, options) {\n    var dataProvider = useDataProvider();\n    var dispatch = useDispatch();\n    var _a = useState(true), loading = _a[0], setLoading = _a[1];\n    var _b = useState(null), error = _b[0], setError = _b[1];\n    // Use lock from the state\n    // This way we can claim the lock when the current one is unlocked\n    var data = useSelector(function (state) {\n        return typeof state.locks[resource] === 'undefined'\n            ? undefined\n            : state.locks[resource][recordId];\n    });\n    useEffect(function () {\n        // If there's no lock, or if the lock identity is not the same\n        // We can claim lock\n        if (!data || data.identity !== identity) {\n            setLoading(true);\n            dispatch({\n                type: LOCK_LOADING,\n                payload: {},\n                meta: {\n                    resource: resource,\n                    recordId: recordId,\n                },\n            });\n            dataProvider\n                .lock(resource, {\n                resource: resource,\n                recordId: recordId,\n                identity: identity,\n            })\n                .then(function (_a) {\n                // Set directly the lock in case of success\n                var lock = _a.data;\n                dispatch({\n                    type: LOCK_SUCCESS,\n                    payload: {\n                        data: lock,\n                    },\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                        fetchResponse: LOCK,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onSuccess) != null) {\n                    options.onSuccess(lock);\n                }\n            })\n                .catch(function (error) {\n                // Get the existing lock in case of failure\n                dispatch({\n                    type: LOCK_FAILURE,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                setError(error);\n                if ((options === null || options === void 0 ? void 0 : options.onFailure) != null) {\n                    options.onFailure(error);\n                }\n                dispatch({\n                    type: GET_LOCK_LOADING,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                return dataProvider\n                    .getLock(resource, {\n                    resource: resource,\n                    recordId: recordId,\n                    identity: identity,\n                })\n                    .then(function (_a) {\n                    var lock = _a.data;\n                    dispatch({\n                        type: GET_LOCK_SUCCESS,\n                        payload: {\n                            data: lock,\n                        },\n                        meta: {\n                            resource: resource,\n                            recordId: recordId,\n                            fetchResponse: GET_LOCK,\n                        },\n                    });\n                })\n                    .catch(function () {\n                    dispatch({\n                        type: GET_LOCK_FAILURE,\n                        payload: {},\n                        meta: {\n                            resource: resource,\n                            recordId: recordId,\n                        },\n                    });\n                });\n            })\n                .finally(function () {\n                setLoading(false);\n            });\n        }\n        // Called on unmount to remove the lock\n        var unlockOnUnmount = function () {\n            // Resource is already unlocked during the unmount\n            // So we ignore it\n            if (!data) {\n                return;\n            }\n            dispatch({\n                type: UNLOCK_LOADING,\n                payload: {},\n                meta: {\n                    resource: resource,\n                    recordId: recordId,\n                },\n            });\n            dataProvider\n                .unlock(resource, {\n                resource: resource,\n                recordId: recordId,\n                identity: identity,\n            })\n                .then(function (_a) {\n                var lock = _a.data;\n                dispatch({\n                    type: UNLOCK_SUCCESS,\n                    payload: {\n                        data: lock,\n                    },\n                    meta: {\n                        fetchResponse: UNLOCK,\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onUnlockSuccess) != null) {\n                    options.onUnlockSuccess(lock);\n                }\n            })\n                .catch(function (error) {\n                dispatch({\n                    type: UNLOCK_FAILURE,\n                    payload: {},\n                    meta: {\n                        resource: resource,\n                        recordId: recordId,\n                    },\n                });\n                if ((options === null || options === void 0 ? void 0 : options.onUnlockFailure) != null) {\n                    options === null || options === void 0 ? void 0 : options.onUnlockFailure(error);\n                }\n            });\n        };\n        return unlockOnUnmount;\n    }, [data && data.identity]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        loading: loading,\n        loaded: !loading && (data != null || error != null),\n        error: error,\n        data: data,\n    };\n}\nexport default useLock;\n","import { useEffect } from 'react';\nimport { useDataProvider } from 'react-admin';\n/**\n * Hook to subscribe to the events for a custom topic\n * on mount (and unsubscribe on unmount).\n *\n * @example // Auto-Updated Messages Component\n *\n * const MessageComponent: FC<Props> = (props) => {\n *     const notify = useNotify();\n *     const [messages, updateMessages] = useState([]);\n *     useSubscribe('messageEvent', (event) => {\n *         updateMessages([event, ...messages]);\n *         notify('new message');\n *     });\n *     return (\n *         <Card {...props}>\n *             <Messages list={messages} />\n *         </Card>;\n *     ):\n * };\n */\nvar useSubscribe = function (topic, subscriptionCallback) {\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        if (!dataProvider || !topic || !subscriptionCallback) {\n            return;\n        }\n        dataProvider.subscribe(topic, subscriptionCallback);\n        return function () {\n            dataProvider.unsubscribe(topic, subscriptionCallback);\n        };\n    }, [dataProvider, topic, subscriptionCallback]);\n};\nexport default useSubscribe;\n","import useSubscribe from './useSubscribe';\n/**\n * Hook to subscribe to the events for a record list\n * on mount (and unsubscribe on unmount).\n *\n * @example // Auto-Updated PostList\n *\n * const PostList: FC<ListProps> = (props) => {\n *     const notify = useNotify();\n *     const refresh = useRefresh();\n *     useSubscribeToRecordList('posts', () => {\n *         refresh();\n *         notify('list updated server-side');\n *     });\n *     return (\n *         <List {...props}>\n *             <Datagrid>\n *                 <TextField source=\"title\" />\n *             </Datagrid>\n *         </List>;\n *     ):\n * };\n */\nvar useSubscribeToRecordList = function (resource, subscriptionCallback) {\n    var topic = \"resource/\" + resource;\n    useSubscribe(topic, subscriptionCallback);\n};\nexport default useSubscribeToRecordList;\n","export var EventType;\n(function (EventType) {\n    EventType[\"Updated\"] = \"updated\";\n    EventType[\"Created\"] = \"created\";\n    EventType[\"Deleted\"] = \"deleted\";\n})(EventType || (EventType = {}));\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useTranslate, RefreshButton } from 'react-admin';\nimport { Paper, Typography } from '@material-ui/core';\nimport { darken, lighten, makeStyles } from '@material-ui/core/styles';\nexport var Warning = function (props) {\n    var message = props.message, refresh = props.refresh, onRefresh = props.onRefresh;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Paper, { className: classes.root, role: \"alert\", square: true, elevation: 0 },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Typography, { gutterBottom: true, component: \"div\" }, translate('ra-realtime.notification.title')),\n            message),\n        React.createElement(\"div\", { className: classes.action }, refresh && React.createElement(RefreshButton, { onClick: onRefresh }))));\n};\nvar useStyles = makeStyles(function (theme) {\n    var getColor = theme.palette.type === 'light' ? darken : lighten;\n    var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n    return {\n        root: __assign(__assign({}, theme.typography.body2), { borderRadius: theme.shape.borderRadius, display: 'flex', padding: '6px 16px', margin: theme.spacing(1) + \"px 0\", color: getColor(theme.palette.warning.main, 0.6), backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9) }),\n        message: {\n            padding: theme.spacing(1) + \"px 0\",\n        },\n        action: {\n            display: 'flex',\n            alignItems: 'center',\n            marginLeft: 'auto',\n            paddingLeft: theme.spacing(2),\n            marginRight: -theme.spacing(1),\n        },\n    };\n}, {\n    name: 'RaWarning',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, useState, useEffect, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { MenuItem, ListItemIcon, Tooltip, Badge } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { useSubscribeToRecordList } from './dataProvider';\n/**\n * <MenuItemLink> equivalent, but with real-time update counts in badges\n *\n * @example\n *\n * import { RealTimeMenuItemLink } from '@react-admin/ra-realtime'\n *\n * const CustomMenu = ({ onMenuClick, logout }) => {\n *   const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n *   const open = useSelector(state => state.admin.ui.sidebarOpen);\n *   const resources = useSelector(getResources);\n *   return (\n *       <div>\n *           {resources.map(resource => (\n *               <RealTimeMenuItemLink\n *                   key={resource.name}\n *                   to={`/${resource.name}`}\n *                   primaryText={resource.options && resource.options.label || resource.name}\n *                   leftIcon={createElement(resource.icon)}\n *                   resource={resource.name}\n *                   badgeColor={'primary'}\n *                   onClick={onMenuClick}\n *                   sidebarIsOpen={open}\n *               />\n *           ))}\n *           <RealTimeMenuItemLink\n *               to=\"/custom-route\"\n *               primaryText=\"Miscellaneous\"\n *               leftIcon={<LabelIcon />}\n *               resource={resource.name}\n *               badgeColor={'error'}\n *               onClick={onMenuClick}\n *               sidebarIsOpen={open}\n *           />\n *           {isXSmall && logout}\n *       </div>\n *   );\n * }\n */\n// This component is a copy of MenuItemLink with some specific changes for the badges\nvar RealTimeMenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, resource = props.resource, _a = props.badgeColor, badgeColor = _a === void 0 ? 'error' : _a, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"resource\", \"badgeColor\", \"onClick\", \"sidebarIsOpen\"]);\n    var classes = useStyles(props);\n    var location = useLocation();\n    var _b = useState(0), countEvent = _b[0], setCountEvent = _b[1];\n    useSubscribeToRecordList(resource, function (event) {\n        var count = event.payload.ids.length;\n        if (isMenuActive(location, props)) {\n            var activeRecordId_1 = getActiveRecordIdFromRoute(location, props);\n            if (activeRecordId_1 == null) {\n                return;\n            }\n            count = event.payload.ids.filter(function (id) { return \"\" + id !== activeRecordId_1; }).length;\n        }\n        if (count) {\n            setCountEvent(function (previous) { return previous + count; });\n        }\n    });\n    useEffect(function () {\n        // Reset the counter when the Menu path is the current path (i.e. when the resource List is displayed)\n        if (location.pathname === props.to) {\n            setCountEvent(0);\n        }\n    }, [location, props.to]);\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref }, rest, { onClick: handleMenuTap }), leftIcon ? (React.createElement(React.Fragment, null,\n            React.createElement(StyledBadgeForIcon, { badgeContent: countEvent, color: badgeColor },\n                React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                    titleAccess: primaryText,\n                }))),\n            primaryText)) : (React.createElement(StyledBadgeForText, { badgeContent: countEvent, color: badgeColor }, primaryText))));\n    };\n    if (sidebarIsOpen) {\n        return renderMenuItem();\n    }\n    return (React.createElement(Tooltip, { title: primaryText, placement: \"right\" }, renderMenuItem()));\n});\nRealTimeMenuItemLink.displayName = 'RealTimeMenuItemLink';\nRealTimeMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    resource: PropTypes.string,\n    badgeColor: PropTypes.oneOf(['default', 'error', 'primary', 'secondary']),\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nNavLinkRef.displayName = 'NavLinkRef';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\nvar StyledBadgeForIcon = withStyles(function (theme) { return ({\n    badge: {\n        right: 12,\n        top: 3,\n        border: \"1px solid \" + theme.palette.background.paper,\n        padding: '0 4px',\n    },\n}); })(Badge);\nvar StyledBadgeForText = withStyles(function (theme) { return ({\n    badge: {\n        top: 3,\n        border: \"1px solid \" + theme.palette.background.paper,\n        padding: '0 4px',\n    },\n}); })(Badge);\nexport var isMenuActive = function (location, menuProps) {\n    return location.pathname === menuProps.to ||\n        location.pathname.includes(menuProps.to + \"/\");\n};\nexport var getActiveRecordIdFromRoute = function (_a, _b) {\n    var currentPath = _a.pathname;\n    var menuPath = _b.to;\n    var startIndex = currentPath.indexOf(menuPath.toString()) +\n        menuPath.toString().length +\n        1;\n    var endIndex = currentPath.indexOf('/', startIndex);\n    if (endIndex === -1) {\n        endIndex = currentPath.length;\n    }\n    if (endIndex <= startIndex) {\n        return null;\n    }\n    return currentPath.substring(startIndex, endIndex);\n};\nexport default RealTimeMenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport inflection from 'inflection';\nimport { makeStyles, useMediaQuery } from '@material-ui/core';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate, DashboardMenuItem, } from 'react-admin';\nimport RealTimeMenuItemLink from './RealTimeMenuItemLink';\n/**\n * <Menu> equivalent, but with real-time update counts in badges\n *\n * @example\n *\n * import { RealTimeMenu } from '@react-admin/ra-realtime'\n *\n * const CustomLayout: FC = (props) => (<Layout {...props} menu={RealTimeMenu} />;\n *\n * const MyAdmin = props => (\n *     <Admin\n *         dataProvider={realTimeDataProvider}\n *         layout={CustomLayout}\n *         i18nProvider={i18nProvider}\n *     >\n *         <Resource\n *             name=\"posts\"\n *             list={PostList}\n *             show={PostShow}\n *         />\n *     </Admin>\n * );\n */\nvar useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n    },\n}, { name: 'RaMenu' });\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\n// This component is a copy of Menu with some specific changes for the badges\nvar RealTimeMenu = function (props) {\n    var classesOverride = props.classes, className = props.className, dense = props.dense, hasDashboard = props.hasDashboard, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var resources = useSelector(getResources, shallowEqual);\n    // Used to force redraw on navigation\n    useSelector(function (state) { return state.router.location.pathname; });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest),\n        hasDashboard && (React.createElement(DashboardMenuItem, { onClick: onMenuClick, dense: dense, sidebarIsOpen: open })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(RealTimeMenuItemLink, { key: resource.name, to: \"/\" + resource.name, primaryText: translatedResourceName(resource, translate), leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null), resource: resource.name, onClick: onMenuClick, dense: dense, sidebarIsOpen: open })); }),\n        isXSmall && logout));\n};\nRealTimeMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nRealTimeMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default RealTimeMenu;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { LOCK, UNLOCK, GET_LOCK, GET_LOCKS } from './actions';\nvar initialState = {};\n/**\n * Reducer for Locks state\n *\n * Store a list of locks for each resource, indexed by their record id.\n * Each lock contains an object with the following keys:\n * - resource\n * - recordId\n * - identity\n * - createdAt\n *\n * @example\n *\n * locks: {\n *     comments: {\n *         '10': {\n *             resource: 'comments',\n *             recordId: '10',\n *             identity: 'adrien'\n *             createdAt: '2020-08-20'\n *         },\n *     },\n *     posts: {\n *         '5': {\n *             resource: 'posts',\n *             recordId: '5',\n *             identity: 'francois'\n *             createdAt: '2020-08-25'\n *         },\n *     }\n *   }\n */\nvar locksReducer = function (state, _a) {\n    var _b, _c, _d;\n    if (state === void 0) { state = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (!meta || !meta.resource || !meta.fetchResponse) {\n        return state;\n    }\n    var resourceState = state[meta.resource];\n    // handling dataProvider response\n    switch (meta.fetchResponse) {\n        case LOCK:\n        case GET_LOCK:\n            if (!payload || !payload.data || !payload.data.recordId) {\n                return state;\n            }\n            return __assign(__assign({}, state), (_b = {}, _b[meta.resource] = __assign(__assign({}, resourceState), (_c = {}, _c[payload.data.recordId] = __assign({}, payload.data), _c)), _b));\n        case GET_LOCKS:\n            if (!payload || !payload.data || !payload.data.length) {\n                return state;\n            }\n            return __assign(__assign({}, state), (_d = {}, _d[meta.resource] = __assign(__assign({}, resourceState), payload.data.reduce(function (acc, lock) {\n                if (!lock.recordId) {\n                    return acc;\n                }\n                acc[lock.recordId] = __assign({}, lock);\n                return acc;\n            }, {})), _d));\n        case UNLOCK:\n            if (!payload || !payload.data || !payload.data.recordId) {\n                return state;\n            }\n            var newState = __assign({}, state);\n            delete newState[meta.resource][payload.data.recordId];\n            return newState;\n        default:\n            return state;\n    }\n};\nexport default locksReducer;\n","var raRealTimeEnglishMessages = {\n    'ra-realtime': {\n        action: {\n            refresh: 'Refresh',\n        },\n        event_type: {\n            updated: 'updated',\n            created: 'created',\n            deleted: 'deleted',\n        },\n        notification: {\n            title: 'Warning',\n            record: {\n                updated: 'This record has been updated by another user',\n                deleted: 'This record has been deleted and is no longer available',\n            },\n            list: {\n                refreshed: 'List refreshed with %{smart_count} %{name} %{type} by another user',\n            },\n            lock: {\n                lockedBySomeoneElse: 'This record is locked by someone else.',\n                lockedByMe: 'You locked this record.',\n                unlocked: 'This record has been unlocked.',\n            },\n        },\n        error: {\n            type: 'The type of the event is missing',\n            topic: 'The topic is missing',\n            lock: {\n                noLock: 'There is no lock for this record.',\n                lockedBySomeoneElse: 'This record is locked by someone else.',\n                cannotUnlock: 'Impossible to unlock this record.',\n            },\n        },\n    },\n};\nexport default raRealTimeEnglishMessages;\n","import * as React from 'react';\nimport { createContext, useMemo } from 'react';\nexport var AppBreadcrumbContext = createContext({ hasDashboard: false });\nexport var AppBreadcrumbContextProvider = function (_a) {\n    var children = _a.children, hasDashboard = _a.hasDashboard;\n    var context = useMemo(function () { return ({ hasDashboard: hasDashboard }); }, [hasDashboard]);\n    return (React.createElement(AppBreadcrumbContext.Provider, { value: context }, children));\n};\n","import { useSelector, shallowEqual } from 'react-redux';\nimport { getResources } from 'react-admin';\nimport { useLocation } from 'react-router-dom';\nimport { resolveResourceLocationInfo, } from './resolveResourceLocationInfo';\nvar recordSelector = function (resource, id) { return function (state) {\n    return state.admin.resources[resource] && state.admin.resources[resource].data[id];\n}; };\nvar buildResourceLocationInfoPath = function (_a) {\n    var resource = _a.resource, type = _a.type;\n    return \"\" + resource + (type === 'list' ? '' : \".\" + type);\n};\nexport var useResourceAppLocation = function () {\n    var pathname = useLocation().pathname;\n    var resources = useSelector(getResources, shallowEqual);\n    // Since this can be null at mount, don't memoize it\n    var resourceLocationInfo = resolveResourceLocationInfo(pathname, resources);\n    var record = useSelector(resourceLocationInfo &&\n        ['show', 'edit'].includes(resourceLocationInfo.type)\n        ? recordSelector(resourceLocationInfo.resource, resourceLocationInfo.resourceId)\n        : function () { return undefined; });\n    if (pathname === '/') {\n        return {\n            path: '',\n            values: {},\n        };\n    }\n    return resourceLocationInfo\n        ? {\n            path: buildResourceLocationInfoPath(resourceLocationInfo),\n            values: { record: record },\n        }\n        : null;\n};\n","/**\n * Returns a ResourceLocationInfo object from a pathname and an array of resources metadatas\n *\n * @param {string} pathname Router's slash separated location\n * @param {Object[]} resources\n * @param {string} resources[].name Name of the resource (eg: songs)\n * @param {boolean} resources[].hasList Does the resource implement a list view?\n * @param {boolean} resources[].hasEdit Does the resource implement an edit view?\n * @param {boolean} resources[].hasCreate Does the resource implement a create view?\n * @param {boolean} resources[].hasShow Does the resource implement a show view?\n *\n * @returns {?ResourceLocationInfo} The resource location metadata or null\n */\nexport var resolveResourceLocationInfo = function (pathname, resources) {\n    for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n        var resource = resources_1[_i];\n        var name_1 = resource.name;\n        if (pathname.match(\"/\" + name_1 + \"/?$\")) {\n            return { resource: name_1, type: 'list' };\n        }\n        if (pathname.match(\"/\" + name_1 + \"/create(/([^/]*))?$\")) {\n            return { resource: name_1, type: 'create' };\n        }\n        var showMatch = pathname.match(new RegExp(\"^/\" + name_1 + \"/([^/]+)/show(/([^/]*))?$\"));\n        if (showMatch) {\n            return { resource: name_1, type: 'show', resourceId: showMatch[1] };\n        }\n        var matchEdit = pathname.match(new RegExp(\"^/\" + name_1 + \"/([^/]+)(/([^/]*))?$\"));\n        if (matchEdit) {\n            return { resource: name_1, type: 'edit', resourceId: matchEdit[1] };\n        }\n    }\n    return null;\n};\n","import { useContext, useCallback } from 'react';\nimport { LocationContext } from './AppLocationContext';\n/**\n * Hook getting App Location State from the current AppLocationContext\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @example\n *\n *  import { AppLocationContext, useAppLocationState } from '@react-admin/ra-navigation';\n *  import { Admin, Resource } from 'react-admin';\n *\n *  const PathViewer = () => {\n *    const [location] = useAppLocationState();\n *    return <h1>{`You're on the ${location.path} path!`}</h1>;\n *  };\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <PathViewer />\n *      {children}\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will be respectively equal to:\n *   - \"You're on the posts.list path!\" on Post List page\n *   - \"You're on the posts.show path!\" on Post Show page\n *   - \"You're on the posts.edit path!\" on Post Edit page\n *   - \"You're on the posts.create path!\" on Post Create page\n *\n * The \"location.values\" will also contains { record: {<Post>} } on Post Edit and post Show Pages.\n *\n * You can also set a custom app location on \"non-resource\" pages\n *\n * @example\n *\n *  import React from 'react';\n *  import { AppLocationContext, useAppLocationState } from '@react-admin/ra-navigation';\n *  import { Admin, Resource } from 'react-admin';\n *  import { Route } from 'react-router-dom';\n *\n *  const Foo = () => {\n *    const [_, setLocation] = useAppLocationState();\n *\n *    useEffect(() => {\n *      setLocation('path.to.the.foo');\n *    }, []);\n *\n *    return <span>It's Foo!</span>;\n *  };\n *\n *  const routes = [\n *    <Route exact path=\"/foo\" component={Foo} />,\n *  ];\n *\n *  const PathViewer = () => {\n *    const [location] = useAppLocationState();\n *    return <h1>{`You're on the ${location.path} path!`}</h1>;\n *  };\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <PathViewer />\n *      {children}\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} customRoutes={routes} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will be equal to \"You're on the path.to.the.foo path!\" on \"/foo\";\n */\nexport var useAppLocationState = function () {\n    var _a = useContext(LocationContext), location = _a[0], setLocation = _a[1];\n    if (typeof setLocation !== 'function') {\n        throw new Error(\"\\n            You've tried to access app location outside <AppLocationContext />.\\n            Please wrap your code with it first.\\n            \");\n    }\n    var setAppLocation = useCallback(function (path, values) {\n        if (values === void 0) { values = {}; }\n        setLocation({ path: path, values: values });\n    }, [setLocation]);\n    return [location, setAppLocation];\n};\n","export var DASHBOARD = 'dashboard';\nexport var DASHBOARD_LABEL = 'ra.page.dashboard';\n","import { useEffect, useRef } from 'react';\nimport { useResourceAppLocation } from './useResourceAppLocation';\nimport { useAppLocationState } from './useAppLocationState';\nimport { DASHBOARD } from './constants';\nimport { defaultLocation } from './AppLocationContext';\n/**\n * This component acts as a listener on changes in the resource location.\n * When the location of the resource changes, it modifies the location of the application accordingly.\n */\nexport var ResourceLocationListener = function (_a) {\n    var _b = _a.hasDashboard, hasDashboard = _b === void 0 ? false : _b;\n    var _c = useAppLocationState(), setLocation = _c[1];\n    var resourceLocation = useResourceAppLocation();\n    var currentResourceLocation = useRef(undefined);\n    useEffect(function () {\n        var _a = resourceLocation || defaultLocation, path = _a.path, values = _a.values;\n        if (resourceLocation) {\n            if (!path && hasDashboard) {\n                // Set the location state to Dashboard when navigate to root url\n                setLocation(DASHBOARD);\n            }\n            else {\n                setLocation(path, values);\n            }\n        }\n        else if (currentResourceLocation.current) {\n            // Reset the location state if the users navigated away from a resource page or the dashboard\n            setLocation(null);\n        }\n        currentResourceLocation.current = resourceLocation;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [JSON.stringify(resourceLocation)]);\n    return null;\n};\n","import * as React from 'react';\nimport { createContext, useCallback, useRef, useState, } from 'react';\nimport { AppBreadcrumbContextProvider } from './AppBreadcrumbContext';\nimport { getDeepestLocation } from './getDeepestLocation';\nimport { ResourceLocationListener } from './ResourceLocationListener';\nexport var LocationContext = createContext([]);\nexport var defaultLocation = {\n    path: null,\n    values: {},\n};\n/**\n * The <AppLocationContext /> component allows to wrap our application inside an unique location context.\n * This component must be contained by our admin to be able to access the current registred resources from the redux store.\n *\n * So, the easiest way to include it is to use a custom Layout as a wrapper since you (probably) need to insert your breadcrumb here too.\n *\n * @example\n *\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  const MyLayout = ({ children, ...props }) => {\n *      const classes = useStyles();\n *\n *      return (\n *          <AppLocationContext>\n *              <Layout {...props}>\n *                  {children}\n *              </Layout>\n *          </AppLocationContext>\n *      );\n *  };\n *\n *  const App = () => (\n *      <Admin dataProvider={dataProvider} layout={MyLayout}>\n *          <Resource name=\"posts\" list={PostList} />\n *      </Admin>\n *  );\n */\nexport var AppLocationContext = function (_a) {\n    var children = _a.children, _b = _a.initialLocation, initialLocation = _b === void 0 ? defaultLocation : _b, _c = _a.hasDashboard, hasDashboard = _c === void 0 ? false : _c;\n    var locations = useRef([]);\n    var timeout = useRef(undefined);\n    var _d = useState(initialLocation), location = _d[0], setLocation = _d[1];\n    var optimizedSetLocation = useCallback(function (appLocation) {\n        locations.current.push(appLocation);\n        if (!timeout.current) {\n            timeout.current = setTimeout(function () {\n                setLocation(getDeepestLocation(locations.current));\n                locations.current = [];\n                timeout.current = undefined;\n            }, 50);\n        }\n    }, []);\n    return (React.createElement(LocationContext.Provider, { value: [location, optimizedSetLocation] },\n        React.createElement(AppBreadcrumbContextProvider, { hasDashboard: hasDashboard },\n            React.createElement(ResourceLocationListener, { hasDashboard: hasDashboard }),\n            children)));\n};\n","export var getDeepestLocation = function (locations) {\n    var result = locations.reduce(function (currentLocation, location) {\n        if (currentLocation) {\n            var currentLocationLength = currentLocation.path\n                ? currentLocation.path.split('.').length\n                : 0;\n            var locationLength = location.path\n                ? location.path.split('.').length\n                : 0;\n            if (currentLocationLength > locationLength) {\n                return currentLocation;\n            }\n            if (locationLength > currentLocationLength) {\n                return location;\n            }\n            if (currentLocation.path) {\n                return currentLocation;\n            }\n        }\n        return location;\n    }, undefined);\n    return result;\n};\n","import { useCallback } from 'react';\nimport { useAppLocationState } from './useAppLocationState';\n/**\n * Hook returning a function that checks if the path argument matches the current location in the context\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @example\n *\n *  import { AppLocationContext, useAppLocationMatcher } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  const MatchAdvertiser = () => {\n *    const match = useAppLocationMatcher();\n *\n *    return (\n *      <>\n *        {match('posts') && <h1>You're on the Posts...</h1>}\n *        {match('posts.list) && <h2>Moreover it's the Posts List!</h2>}\n *      </>\n *    );\n *  };\n *\n *  const MyLayout = ({ children, ...props }) =>  (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *        <MatchAdvertiser />\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *      />\n *    </Admin>\n *  );\n *\n * The page title will only show \"You're on the Posts...\" on Post Edit page.\n * It'll show both \"You're on the Posts...\" and \"Moreover it's the Posts List!\" on Post List page.\n */\nexport var useAppLocationMatcher = function () {\n    var location = useAppLocationState()[0];\n    return useCallback(function (path) {\n        // Should always match the empty path which is the dashboard\n        if (path === '') {\n            return location;\n        }\n        var pathToMatchParts = (location.path || '').split('.');\n        var pathParts = path.split('.');\n        var isMatch = pathParts.reduce(function (isMatch, part, index) {\n            if (pathToMatchParts.length - 1 < index) {\n                return false;\n            }\n            return isMatch && part === pathToMatchParts[index];\n        }, true);\n        return isMatch ? location : null;\n    }, [location]);\n};\n","import { useContext } from 'react';\nimport { AppBreadcrumbContext } from './AppBreadcrumbContext';\n/**\n * A hook which will returns a boolean indicating wether a dashboard exists on the Admin.\n * It relies on the `hasDashboard` prop of the `<AppLocationContext>`\n *\n * You may force its value by passing a props object containing an `hasDashboard` property.\n * @see AppLocationContext\n * @returns A boolean indicating wether a dashboard exists on the Admin.\n */\nexport var useHasDashboard = function (props) {\n    var context = useContext(AppBreadcrumbContext);\n    return props.hasDashboard != undefined\n        ? props.hasDashboard\n        : context.hasDashboard;\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { useAppLocationState } from '../app-location';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\n/**\n * The <Breadcrumb /> component allows to include a breadcrumb inside our application.\n * The layout of the app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * @param {string} separator Optionnal. Specify the separator caracter between items. Default is '/'.\n * @param {string} className Optionnal. To allow a style customization of this Component.\n * @param {ReactElement} dashboard Optionnal. Passed by Layout to detect if a Dashboard page has been set.\n * @param {boolean} hasDashboard Optionnal. Boolean to manually activate Dashboard navigation. Default is false.\n *\n * By default, the <Breadcrumb /> item will not render anything.\n * To turn on the breadcrumb resolving from your current react-admin resources,\n * you'll need to provide a <ResourceBreacrumbItems /> component as <Breadcrumb /> child.\n *\n * We don't recommend adding the Breadcrumb inside your layout as it would add unecessary\n * space above the current view. Instead, you should add it directly on the views. For react-admin\n * views such as Create, Show and Edit, you can use `<Breadcrumb variant=\"actions\">` which applies custom styles to make it fit inside a `<TopToolbar>` used in actions.\n * The `ra-enterprise` package includes alternative version of all react-admin views with the breadcrumb\n * already included.\n *\n * @example\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb, ResourceBreadcrumbItems } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const MyLayout = ({ children, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb {...props}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * It'll display respectively:\n *   - \"Posts\" on Post List\n *   - \"Posts / Show #1\" on Post Show with id = 1\n *   - \"Posts / Edit #1\" on Post Edit with id = 1\n *   - \"Posts / Create\" on Post Create\n *\n * If the app have a dashboard page, you can automatically set the root the Breadcrumb to this page in to possible way:\n *\n * 1. By passing the dashboard prop to the Component\n * const MyLayout = ({ children, dashboard, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb dashboard={dashboard}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n * 2. By passing a hasDashboard prop to the Component\n * const MyLayout = ({ children, dashboard, ...props }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb hasDashboard={true}>\n *            <ResourceBreadcrumbItems />\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n * By doing this, the breadcrumb will now show respectively:\n *   - \"Dashboard / Posts\" on Post List\n *   - \"Dashboard / Posts / Show #1\" on Post Show with id = 1\n *   - \"Dashboard / Posts / Edit #1\" on Post Edit with id = 1\n *   - \"Dashboard / Posts / Create\" on Post Create\n *\n * It's also possible to define a custom breadcrumb tree inside <Breadcrumb />.\n * This way, custom routes can also be displayed inside the breadcrumb.\n *\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout } from 'react-admin';\n *  import { Route } from 'react-router-dom';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const UserPreferences = () => {\n *    useDefineAppLocation('myhome.user.preferences');\n *    return <span>My Preferences</span>;\n *  };\n *\n *  const routes = [\n *    <Route exact path=\"/user/preferences\" component={UserPreferences} />,\n *  ];\n *\n *  const MyLayout = ({ children }) => (\n *    <AppLocationContext>\n *      <Layout {...props}>\n *          <Breadcrumb>\n *            <ResourceBreadcrumbItems />\n *            <BreadcrumbItem name=\"myhome\" label=\"Home\">\n *              <BreadcrumbItem name=\"user\" label=\"User\">\n *                <BreadcrumbItem name=\"preferences\" label=\"Preferences\" />\n *              </BreadcrumbItem>\n *            </BreadcrumbItem>\n *          </Breadcrumb>\n *        {children}\n *      </Layout>\n *    </AppLocationContext>\n *  );\n *\n *  const App = () => (\n *    <Admin dataProvider={dataProvider} customRoutes={routes} layout={MyLayout}>\n *      <Resource\n *        name=\"posts\"\n *        list={PostList}\n *        edit={PostEdit}\n *        show={PostShow}\n *        create={PostCreate}\n *      />\n *    </Admin>\n *  );\n *\n * The displayed path will be \"Dashboard / User / Preferences\" on \"/user/preferences\"\n *\n * The breadcrumb separator used by default is \"/\". It can be overridden using a string or a function.\n *\n *   <Breadcrumb separator=\">\">{items}</Breadcrumb>\n *   <Breadcrumb separator={() => `url('data:image/png;base64,iVBORw0KGgoAA....')`}>\n *      {items}\n *   </Breadcrumb>\n *\n * In some cases, it's useful to override the default resource breadcrumb path\n * eg: to add custom label instead of \"Show #1\", \"Edit #1\", ...\n *\n * This can be done by disabling concerned resources (enabling only ones we don't customize) and declare them manually.\n *\n *  import React from 'react';\n *  import { AppLocationContext } from '@react-admin/ra-navigation';\n *  import { Breadcrumb, ResourceBreadcrumbItems } from '@react-admin/ra-navigation';\n *  import { Admin, Resource, Layout, linkToRecord } from 'react-admin';\n *\n *  import PostList from './PostList';\n *  import PostEdit from './PostEdit';\n *  import PostShow from './PostShow';\n *  import PostCreate from './PostCreate';\n *\n *  const MyLayout = ({ children }) => (\n *    <Layout {...props}>\n *        <Breadcrumb {...props}>\n *          <ResourceBreadcrumbItems resources={['otherResources']} />\n *          <BreadcrumbItem name=\"posts\" label=\"Posts\">\n *            <BreadcrumbItem\n *              name=\"edit\"\n *              label={({ record }) => `Edit \"${record.title}\"`}\n *              to={({ record }) => record && `${linkToRecord('/songs', record.id)}/edit`}\n *            />\n *            <BreadcrumbItem\n *              name=\"show\"\n *              label={({ record }) => record.title}\n *              to={({ record }) => record && `${linkToRecord('/songs', record.id)}/show`}\n *            />\n *            <BreadcrumbItem name=\"list\" label=\"My Post List\" />\n *            <BreadcrumbItem name=\"create\" label=\"Let's write a Post!\" />\n *          </BreadcrumbItem>\n *        </Breadcrumb>\n *      {children}\n *    </Layout>\n *  );\n *\n *  const App = () => (\n *    <AppLocationContext>\n *      <Admin dataProvider={dataProvider} layout={MyLayout}>\n *        <Resource\n *          name=\"posts\"\n *          list={PostList}\n *          edit={PostEdit}\n *          show={PostShow}\n *          create={PostCreate}\n *        />\n *        <Resource name=\"otherResource\" ... />\n *      </Admin>\n *    </AppLocationContext>\n *  );\n */\nexport var Breadcrumb = function (_a) {\n    var _b;\n    var children = _a.children, className = _a.className, variant = _a.variant, props = __rest(_a, [\"children\", \"className\", \"variant\"]);\n    var location = useAppLocationState()[0];\n    var classes = useStyles(props);\n    var hasDashboard = useHasDashboard(props);\n    var finalHasDashboard = props.dashboard != undefined ? !!props.dashboard : hasDashboard;\n    if (!location.path)\n        return null;\n    return (React.createElement(\"nav\", { \"aria-label\": \"Breadcrumb\", className: classnames(className, (_b = {},\n            _b[classes.actions] = variant === 'actions',\n            _b)) },\n        React.createElement(\"ul\", { className: classes.root }, React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                hasDashboard: finalHasDashboard,\n            });\n        }))));\n};\nvar separatorResolver = function (_a) {\n    var separator = _a.separator;\n    return typeof separator === 'function' ? separator() : \"\\\"\" + (separator || '/') + \"\\\"\";\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        '& li': {\n            display: 'inline',\n            color: theme.palette.text.secondary,\n            '&+li::before': {\n                content: separatorResolver,\n                padding: \"0 \" + theme.spacing(1) + \"px\",\n            },\n            '&+li:last-child': {\n                color: theme.palette.text.primary,\n            },\n            '& a': {\n                textDecoration: 'none',\n                '&:hover': {\n                    textDecoration: 'underline',\n                },\n            },\n        },\n    },\n    actions: {\n        // Same padding as the MuiButton with small text\n        padding: '4px 5px',\n        // Ensure the breadcrumb is at the left of the view\n        marginRight: 'auto',\n    },\n}); }, { name: 'ra-navigation/Breadcrumb' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Link, Typography } from '@material-ui/core';\nimport { useAppLocationMatcher, DASHBOARD } from '../app-location';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\nimport { useTranslate } from 'ra-core';\nvar resolveOrReturn = function (valueOrFunction, context) {\n    return typeof valueOrFunction === 'function'\n        ? valueOrFunction(context)\n        : valueOrFunction;\n};\n/**\n * The <BreadcrumbItem /> is the component used to display the breadcrumb path inside <Breadcrumb />\n *\n * @param {string} name Required. The name of this item which will be used to infer its full path.\n * @param {string} path Internal prop used to build the item full path.\n * @param {function|string} label Required. The label to display for this item.\n * @param {function|string} to Optional. The react-router path to redirect to.\n * @param {boolean} hasDashboard Optional. A boolean indicating whether a dashboard is present. If it is, the dashboard item will be added in the breadcrumb on every pages. You shouldn't have to pass this prop unless you're wrapping the `<BreadcrumbItem>`\n *\n * @see Breadcrumb\n */\nexport var BreadcrumbItem = function (props) {\n    var locationMatcher = useAppLocationMatcher();\n    var hasDashboard = useHasDashboard(props);\n    var translate = useTranslate();\n    var to = props.to, name = props.name, path = props.path, label = props.label, children = props.children, hasDashboardOverride = props.hasDashboard, rest = __rest(props, [\"to\", \"name\", \"path\", \"label\", \"children\", \"hasDashboard\"]);\n    var currentPath = name === DASHBOARD ? '' : \"\" + (path ? path + \".\" : '') + name;\n    var location = locationMatcher(currentPath);\n    if (!location) {\n        return null;\n    }\n    if (name === DASHBOARD && location.path === DASHBOARD) {\n        return null;\n    }\n    var exactMatch = location.path === currentPath;\n    var resolvedLabel = resolveOrReturn(label, location.values);\n    var translatedLabel = translate(resolvedLabel, { _: resolvedLabel });\n    var resolvedTo = resolveOrReturn(to, location.values);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"li\", __assign({ key: name }, rest), resolvedTo && !exactMatch ? (React.createElement(Link, { variant: \"body2\", color: \"inherit\", component: RouterLink, to: resolvedTo }, translatedLabel)) : (React.createElement(Typography, { variant: \"body2\", color: \"inherit\", component: \"span\" }, translatedLabel))),\n        React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                path: currentPath,\n                hasDashboard: hasDashboard,\n            });\n        })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { linkToRecord, getResources, useTranslate, useGetResourceLabel, } from 'react-admin';\nimport { useSelector, shallowEqual } from 'react-redux';\n/**\n * Builds a map of paths from a resources array\n *\n * @param {array} resources\n * @param {function} translate\n *\n * The output map is of the following form:\n *\n * {\n *  songs: { label: 'Songs', to: '/songs' },\n *  songs.create: { label: 'Create Song', to: '/songs/create' },\n *  songs.show: {\n *    label: ({ record }) => `Show #${record.id}`,\n *    to: ({ record }) => `/${record.id}/show`\n *  }\n *  songs.edit: {\n *    label: ({ record }) => `Edit #${record.id}`,\n *    to: ({ record }) => `/${record.id}/edit`\n *  }\n * }\n */\nexport var buildResourcesBreadcrumbPaths = function (resources, translate, getResourceLabel) {\n    return resources.reduce(function (paths, resource) {\n        var resourcePaths = {};\n        var resourceLabelPlural = getResourceLabel(resource.name, 2);\n        var resourceLabelSingular = getResourceLabel(resource.name, 1);\n        resourcePaths[resource.name] = {\n            label: resourceLabelPlural,\n            to: \"/\" + resource.name,\n        };\n        resourcePaths[resource.name + \".create\"] = {\n            label: !resource.hasList\n                ? translate('ra.page.create', {\n                    name: resourceLabelSingular,\n                })\n                : translate('ra.action.create'),\n            to: \"/\" + resource.name + \"/create\",\n        };\n        resourcePaths[resource.name + \".edit\"] = {\n            label: function (_a) {\n                var record = _a.record;\n                return !record\n                    ? translate('ra.action.edit')\n                    : !resource.hasList\n                        ? translate('ra.page.edit', {\n                            name: resourceLabelSingular,\n                            id: record.id,\n                            record: record,\n                        })\n                        : \"#\" + record.id;\n            },\n            to: function (_a) {\n                var record = _a.record;\n                return record &&\n                    linkToRecord('/' + resource.name, record.id) + \"/edit\";\n            },\n        };\n        resourcePaths[resource.name + \".show\"] = {\n            label: function (_a) {\n                var record = _a.record;\n                return !record\n                    ? translate('ra.action.show')\n                    : !resource.hasList\n                        ? translate('ra.page.show', {\n                            name: resourceLabelSingular,\n                            id: record.id,\n                            record: record,\n                        })\n                        : \"#\" + record.id;\n            },\n            to: function (_a) {\n                var record = _a.record;\n                return record &&\n                    linkToRecord('/' + resource.name, record.id) + \"/show\";\n            },\n        };\n        return __assign(__assign({}, paths), resourcePaths);\n    }, {});\n};\n/**\n * This hook is used internally to build a resource breadcrumb path map\n * The result is usually used by <ResourceBreadcrumbItems /> to render a BreadcrumbItem tree from current resources\n *\n * @see ResourceBreadcrumbItems\n */\nexport var useResourcesBreadcrumbPaths = function (selectedResources) {\n    var resources = useSelector(getResources, shallowEqual);\n    var getResourceLabel = useGetResourceLabel();\n    var translate = useTranslate();\n    return buildResourcesBreadcrumbPaths(resources.filter(function (resource) {\n        return !selectedResources || selectedResources.includes(resource.name);\n    }), translate, getResourceLabel);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { BreadcrumbItem } from './BreadcrumbItem';\nimport { DASHBOARD, DASHBOARD_LABEL } from '../app-location';\nexport var DashboardBreadcrumbItem = function (_a) {\n    var children = _a.children, _b = _a.label, label = _b === void 0 ? DASHBOARD_LABEL : _b, props = __rest(_a, [\"children\", \"label\"]);\n    return (React.createElement(BreadcrumbItem, __assign({ name: DASHBOARD, to: \"/\", label: label }, props), children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useResourcesBreadcrumbPaths } from './useResourcesBreadcrumbPaths';\nimport { BreadcrumbItem } from './BreadcrumbItem';\nimport { DashboardBreadcrumbItem } from './DashboardBreadcrumbItem';\nimport { useHasDashboard } from '../app-location/useHasDashboard';\n/**\n * The <ResourceBreadcrumbItems /> component allows to render a bunch of <BreadcrumbItem /> from a list of resources\n * By default (without the \"resources\" props), it'll render all the react-admin registred resources\n *\n * @see BreadcrumbItem\n */\nexport var ResourceBreadcrumbItems = function (_a) {\n    var resources = _a.resources, props = __rest(_a, [\"resources\"]);\n    var resourcesPaths = useResourcesBreadcrumbPaths(resources);\n    var hasDashboard = useHasDashboard(props);\n    if (hasDashboard) {\n        return (React.createElement(DashboardBreadcrumbItem, null, Object.keys(resourcesPaths).map(function (name) { return (React.createElement(BreadcrumbItem, __assign({ key: name, name: name }, resourcesPaths[name]))); })));\n    }\n    return (React.createElement(React.Fragment, null, Object.keys(resourcesPaths).map(function (name) { return (React.createElement(BreadcrumbItem, __assign({ key: name, name: name }, resourcesPaths[name]))); })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var Menu = function (_a) {\n    var className = _a.className, props = __rest(_a, [\"className\"]);\n    var classes = useStyles();\n    return (React.createElement(List, __assign({ className: classnames(classes.root, className), disablePadding: true }, props, props)));\n};\nvar useStyles = makeStyles({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n","import { createContext, useContext } from 'react';\nexport var MultiLevelMenuContext = createContext(undefined);\nexport var useMultiLevelMenu = function () {\n    var context = useContext(MultiLevelMenuContext);\n    if (!context && process.env.NODE_ENV !== 'production') {\n        throw new Error('useMultiLevelMenu must be used within a MultiLevelMenuContext.Provider');\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint react/display-name:off */\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useCallback, useEffect, useRef, useState, forwardRef, } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useAppLocationMatcher } from '../app-location';\nimport { useMultiLevelMenu } from './MultiLevelMenuContext';\n/**\n * The <MenuItem> component is used to display a single item inside a <MultiLevelMenu> component.\n * @see Breadcrumb\n *\n * It accepts <MenuItems> children which will be displayed inside a collapsible container.\n *\n * @example <caption>Simple Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const MyMenu = () => (\n *     <MultiLevelMenu>\n *         <MenuItem name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItem name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItem name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *             <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const MyLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={MyMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={MyLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MenuItem = function (props) {\n    var _a, _b;\n    var children = props.children, classesOverride = props.classes, className = props.className, label = props.label, icon = props.icon, name = props.name, onClick = props.onClick, to = props.to, exact = props.exact, disableGutters = props.disableGutters, rest = __rest(props, [\"children\", \"classes\", \"className\", \"label\", \"icon\", \"name\", \"onClick\", \"to\", \"exact\", \"disableGutters\"]);\n    var rootRef = useRef();\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var sidebarIsOpen = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var hasSubItems = Children.count(children) > 0;\n    var match = useAppLocationMatcher();\n    var multiLevelMenuContext = useMultiLevelMenu();\n    var isActive = !!match(name);\n    var _c = useState(isActive || multiLevelMenuContext.isOpen(name)), isOpen = _c[0], setIsOpenState = _c[1];\n    var showSubMenuToggle = hasSubItems && (sidebarIsOpen || multiLevelMenuContext.hasCategories);\n    useEffect(function () {\n        if (multiLevelMenuContext.isFirstLoad &&\n            multiLevelMenuContext.initialOpen) {\n            multiLevelMenuContext.open(name);\n            setIsOpenState(true);\n        }\n    }, []); // eslint-disable-line\n    useEffect(function () {\n        // Automatically open submenu if needed on location change\n        if (isActive && !multiLevelMenuContext.isOpen(name)) {\n            multiLevelMenuContext.open(name);\n            setIsOpenState(true);\n        }\n    }, [isActive, multiLevelMenuContext, name]);\n    var setIsOpen = function (isOpen) {\n        multiLevelMenuContext.setIsOpen(name, isOpen);\n        setIsOpenState(isOpen);\n    };\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var handleToggleSubMenu = function (event) {\n        event.stopPropagation();\n        event.preventDefault();\n        setIsOpen(!isOpen);\n    };\n    var translatedLabel = isValidElement(label)\n        ? label\n        : translate(label.toString(), { _: label });\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListItem, __assign({ className: classnames(classes.root, className), ref: rootRef }, rest, { button: false, disableGutters: true, onClick: handleMenuTap }),\n            React.createElement(NavLink, { className: classnames(classes.link, (_a = {},\n                    _a[classes.active] = !!isActive,\n                    _a[classes.gutters] = !disableGutters,\n                    _a)), to: to, exact: exact },\n                icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                    titleAccess: translatedLabel,\n                }))),\n                (sidebarIsOpen || multiLevelMenuContext.hasCategories) && (React.createElement(ListItemText, null, translatedLabel)),\n                showSubMenuToggle && (React.createElement(ListItemSecondaryAction, { className: classes.icon },\n                    React.createElement(IconButton, { onClick: handleToggleSubMenu, edge: \"end\", \"aria-expanded\": isOpen, \"aria-controls\": name + \"-submenu\", \"aria-label\": translate(isOpen\n                            ? 'ra.action.close'\n                            : 'ra.action.expand') }, isOpen ? (React.createElement(ExpandLessIcon, null)) : (React.createElement(ExpandMoreIcon, null))))))),\n        hasSubItems && (React.createElement(Collapse, { in: isOpen, component: forwardRef(function (props, ref) { return (React.createElement(\"li\", __assign({ id: name + \"-submenu\", ref: ref }, props))); }), unmountOnExit: true },\n            React.createElement(List, { className: classnames(classes.nestedList, (_b = {},\n                    _b[classes.hiddenNestedList] = !showSubMenuToggle,\n                    _b)), disablePadding: true }, children)))));\n};\nMenuItem.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    onClick: PropTypes.func,\n    label: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        padding: theme.spacing(0),\n    },\n    link: {\n        color: theme.palette.text.secondary,\n        whiteSpace: 'nowrap',\n        textDecoration: 'none',\n        display: 'flex',\n        padding: theme.spacing(1, 0),\n        '&:hover': {\n            color: theme.palette.text.primary,\n            backgroundColor: theme.palette.grey[200],\n        },\n    },\n    gutters: {\n        padding: theme.spacing(1, 2),\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: {\n        color: 'inherit',\n        minWidth: theme.spacing(5),\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    nestedList: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        paddingLeft: theme.spacing(4),\n    },\n    hiddenNestedList: {\n        display: 'none',\n    },\n}); }, { name: 'RaMenuItem' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint react/display-name:off */\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useCallback, useEffect, useRef, useState, } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Popover from '@material-ui/core/Popover';\nimport IconButton from '@material-ui/core/IconButton';\nimport Slide from '@material-ui/core/Slide';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useMultiLevelMenu } from './MultiLevelMenuContext';\nimport { useAppLocationMatcher } from '../app-location';\n/**\n * The <MenuItemCategory> component is used to display a single category item inside a <MultiLevelMenu> component.\n * @see MultiLevelMenu\n *\n * It accepts <MenuItems> children which will be displayed inside a collapsible container.\n *\n * @example <caption>Category Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const MyMenu = () => (\n *     <MultiLevelMenu variant=\"categories\">\n *         <MenuItemCategory name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItemCategory name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItemCategory name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <Typography variant=\"h3\">By genre</Typography>\n *             <Menu>\n *                 <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *                 <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *             </Menu>\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const MyLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={MyMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={MyLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MenuItemCategory = function (props) {\n    var _a;\n    var children = props.children, classesOverride = props.classes, className = props.className, label = props.label, icon = props.icon, name = props.name, onClick = props.onClick, to = props.to, exact = props.exact, rest = __rest(props, [\"children\", \"classes\", \"className\", \"label\", \"icon\", \"name\", \"onClick\", \"to\", \"exact\"]);\n    var rootRef = useRef();\n    var subMenuRef = useRef();\n    var classes = useStyles(props);\n    var theme = useTheme();\n    var translate = useTranslate();\n    var match = useAppLocationMatcher();\n    var multiLevelMenuContext = useMultiLevelMenu();\n    var sidebarIsOpen = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var isActive = !!match(name);\n    var _b = useState(isActive || multiLevelMenuContext.isOpen(name)), isSubMenuOpen = _b[0], setIsSubMenuOpenState = _b[1];\n    var setIsSubmenuOpen = useCallback(function (isOpen) {\n        multiLevelMenuContext.setIsOpen(name, isOpen);\n        setIsSubMenuOpenState(isOpen);\n    }, [multiLevelMenuContext, name]);\n    useEffect(function () {\n        var callback = function (openingName) {\n            // We don't close items that starts with the same name\n            // It avoid closing item when a submenu is selected\n            if (!openingName.startsWith(name)) {\n                setIsSubmenuOpen(false);\n            }\n        };\n        multiLevelMenuContext.onOpen(callback);\n        return function () { return multiLevelMenuContext.offOpen(callback); };\n    }, [multiLevelMenuContext, name, setIsSubmenuOpen]);\n    var hasSubItems = Children.count(children) > 0;\n    var handleMenuTap = useCallback(function (event) {\n        onClick && onClick(event);\n        setIsSubmenuOpen(!isSubMenuOpen);\n    }, [isSubMenuOpen, onClick, setIsSubmenuOpen]);\n    useEffect(function () {\n        multiLevelMenuContext.setHasCategories(true);\n        if (subMenuRef.current) {\n            autoFocusFirstSubMenuItem(subMenuRef.current);\n        }\n    }, [multiLevelMenuContext]);\n    var handleCloseSubMenu = function () {\n        setIsSubmenuOpen(false);\n    };\n    useEffect(function () {\n        if (!isActive) {\n            setIsSubmenuOpen(false);\n        }\n    }, [isActive, setIsSubmenuOpen]);\n    var translatedLabel = isValidElement(label)\n        ? label\n        : translate(label.toString(), { _: label });\n    if (to && hasSubItems && process.env.NODE_ENV !== 'production') {\n        console.warn('A <MenuItemCategory> cannot have children and a to prop set');\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListItem, __assign({ className: classnames(classes.root, className, (_a = {},\n                _a[classes.active] = isActive,\n                _a)), ref: rootRef }, rest, { button: false, onClick: handleMenuTap }), to && !hasSubItems ? (React.createElement(NavLink, { className: classes.link, to: to, exact: exact },\n            icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                titleAccess: translatedLabel,\n            }))),\n            sidebarIsOpen && (React.createElement(ListItemText, null, translatedLabel)))) : (React.createElement(\"div\", { className: classes.link },\n            icon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(icon, {\n                titleAccess: translatedLabel,\n            }))),\n            sidebarIsOpen && (React.createElement(ListItemText, null, translatedLabel))))),\n        hasSubItems && (React.createElement(Popover, { anchorEl: rootRef.current, anchorOrigin: AnchorOrigin, transformOrigin: TransformOrigin, container: multiLevelMenuContext.rootRef.current, open: isSubMenuOpen, onClick: handleCloseSubMenu, onClose: handleCloseSubMenu, classes: {\n                paper: classes.popoverPaper,\n            }, TransitionComponent: Slide, \n            // @ts-ignore\n            TransitionProps: TransitionProps, style: {\n                // @ts-ignore\n                zIndex: theme.zIndex.appBar - 100 + \" !important\",\n            } },\n            React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: handleCloseSubMenu },\n                React.createElement(CloseIcon, null)),\n            children))));\n};\nvar AnchorOrigin = { vertical: 'top', horizontal: 'right' };\nvar TransformOrigin = { vertical: 'top', horizontal: 'left' };\nvar TransitionProps = { direction: 'right' };\nfunction autoFocusFirstSubMenuItem(element) {\n    setTimeout(function () {\n        var focusables = element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n        if (focusables.length > 0) {\n            focusables[0].focus();\n        }\n    }, 150);\n}\nMenuItemCategory.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    onClick: PropTypes.func,\n    label: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.common.white,\n        cursor: 'pointer',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        padding: theme.spacing(1),\n        '&:hover': {\n            backgroundColor: theme.palette.grey[700],\n        },\n    },\n    link: {\n        whiteSpace: 'nowrap',\n        textDecoration: 'none',\n        color: 'inherit',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        '& span': {\n            fontSize: theme.typography.caption.fontSize,\n        },\n    },\n    active: {\n        backgroundColor: theme.palette.grey[300],\n        color: theme.palette.common.black,\n        '&:hover': {\n            backgroundColor: theme.palette.grey[200],\n        },\n    },\n    icon: {\n        color: 'inherit',\n        minWidth: 0,\n    },\n    popoverPaper: {\n        backgroundColor: theme.palette.background.paper,\n        minHeight: '50%',\n        minWidth: '25%',\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        paddingRight: theme.spacing(4), // Some space to ensure the close button is visible\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaMenuItemCategory',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useEffect, useRef, useState, } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MultiLevelMenuContext } from './MultiLevelMenuContext';\nimport { Menu } from './Menu';\n/**\n * The <MultiLevelMenu> component allows to have complex menus with collapsible\n * sub menus inside our application.\n * The app must be inside a AppLocationContext.\n *\n * @see AppLocationContext\n *\n * It accepts <MenuItem> components as children which accepts <MenuItems> children as well.\n *\n * @example <caption>Simple Menu</caption>\n * import * as React from 'react';\n * import { Admin, Resource, Layout } from 'react-admin';\n * import { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n * import { Dashboard } from './Dashboard';\n * import { SongList } from './SongList';\n * import { ArtistList } from './ArtistList';\n *\n * const BasicMultiLevelMenu = () => (\n *     <MultiLevelMenu>\n *         <MenuItem name=\"dashboard\" to=\"/\" exact label=\"Dashboard\" />\n *         <MenuItem name=\"songs\" to=\"/songs\" label=\"Songs\" />\n *         <MenuItem name=\"artists\" to={'/artists?filter={}'} label=\"Artists\">\n *             <MenuItem name=\"artists.rock\" to={'/artists?filter={\"type\":\"Rock\"}'} label=\"Rock\" />\n *             <MenuItem name=\"artists.jazz\" to={'/artists?filter={\"type\":\"Jazz\"}'} label=\"Jazz\" />\n *         </MenuItem>\n *     </MultiLevelMenu>\n * );\n *\n * const BasicLayout = props => (\n *     <AppLocationContext>\n *         <Layout {...props} menu={BasicMultiLevelMenu} />\n *     </AppLocationContext>\n * );\n *\n * export const App = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         layout={BasicLayout}\n *         dashboard={Dashboard}\n *     >\n *         <Resource name=\"songs\" list={SongList} />\n *         <Resource name=\"artists\" list={ArtistList} />\n *     </Admin>\n * );\n */\nexport var MultiLevelMenu = function (props) {\n    var children = props.children, _a = props.initialOpen, initialOpen = _a === void 0 ? false : _a, _b = props.variant, variant = _b === void 0 ? 'default' : _b, rest = __rest(props, [\"children\", \"initialOpen\", \"variant\"]);\n    var classes = useStyles(props);\n    var openedItems = useRef([]);\n    var _c = useState(true), isFirstLoad = _c[0], setIsFirstLoad = _c[1];\n    var rootRef = useRef();\n    var openingListeners = useRef([]);\n    var onOpen = function (callback) {\n        openingListeners.current.push(callback);\n    };\n    var offOpen = function (callback) {\n        openingListeners.current = openingListeners.current.filter(function (l) { return l !== callback; });\n    };\n    var isOpen = useCallback(function (name) { return Array.from(openedItems.current).includes(name); }, []);\n    var close = useCallback(function (name) {\n        openedItems.current = openedItems.current.filter(function (item) { return item !== name; });\n    }, []);\n    var open = useCallback(function (name) {\n        var set = new Set(openedItems.current);\n        set.add(name);\n        openedItems.current = Array.from(set);\n        openingListeners.current.forEach(function (callback) { return callback(name); });\n    }, []);\n    var setIsOpen = useCallback(function (name, isOpen) {\n        if (isOpen) {\n            return open(name);\n        }\n        close(name);\n    }, [open, close]);\n    var toggle = useCallback(function (name) {\n        setIsOpen(name, !isOpen);\n    }, [setIsOpen, isOpen]);\n    var _d = useState(false), hasCategories = _d[0], setHasCategories = _d[1];\n    var context = {\n        close: close,\n        hasCategories: hasCategories,\n        initialOpen: initialOpen,\n        isFirstLoad: isFirstLoad,\n        isOpen: isOpen,\n        offOpen: offOpen,\n        onOpen: onOpen,\n        open: open,\n        rootRef: rootRef,\n        setHasCategories: setHasCategories,\n        setIsOpen: setIsOpen,\n        toggle: toggle,\n    };\n    useEffect(function () {\n        setTimeout(function () { return setIsFirstLoad(false); }, 150);\n    }, []);\n    return (React.createElement(\"div\", __assign({ ref: rootRef, className: classes.root }, rest),\n        React.createElement(MultiLevelMenuContext.Provider, { value: context },\n            React.createElement(\"nav\", { className: variant === 'categories'\n                    ? classes.navWithCategories\n                    : classes.nav },\n                React.createElement(Menu, { className: classes.list }, children)))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        zIndex: theme.zIndex.appBar - 1, // Display the menu under the AppBar\n    },\n    navWithCategories: {\n        backgroundColor: theme.palette.grey[800],\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        zIndex: theme.zIndex.appBar - 1, // Display the menu categories under the AppBar\n    },\n    nav: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    list: {},\n}); }, {\n    name: 'RaMultiLevelMenu',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { defaultTheme } from 'react-admin';\nexport var theme = __assign(__assign({}, defaultTheme), { overrides: {\n        RaSidebar: {\n            drawerPaper: {\n                width: 96,\n            },\n            fixed: {\n                zIndex: 1200,\n            },\n        },\n    } });\n","import * as React from 'react';\nimport { useTimeout, useTranslate } from 'react-admin';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nexport var DualListInputSkeleton = function (_a) {\n    var className = _a.className;\n    var translate = useTranslate();\n    var classes = useStyles();\n    var oneSecondHasPassed = useTimeout(1000);\n    if (oneSecondHasPassed) {\n        return (React.createElement(\"div\", { \"aria-disabled\": \"true\", \"aria-label\": translate('ra.message.loading'), className: classnames(className, classes.root) }));\n    }\n    return null;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.divider,\n        borderStyle: 'none',\n    },\n}); }, {\n    name: 'RaDualListInputSkeleton',\n});\n","var __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport * as React from 'react';\nimport { useCallback, useState } from 'react';\nimport { useChoices, useInput, useTranslate, Labeled, } from 'react-admin';\nimport { Button, List, ListSubheader } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ArrowRightIcon from '@material-ui/icons/ChevronRight';\nimport classnames from 'classnames';\nimport { DualListInputItem } from './DualListInputItem';\nimport { DualListInputSkeleton } from './DualListInputSkeleton';\n/**\n * An Input component displaying two list of selected or available items.\n * It allows multiple selections and uses an array of objects for the options.\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <DualListInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <DualListInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <DualListInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <DualListInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\nexport var DualListInput = function (props) {\n    var classes = useStyles(props);\n    var _a = props.addButtonLabel, addButtonLabel = _a === void 0 ? 'ra-relationships.duallistinput.select' : _a, _b = props.availableItemsLabel, availableItemsLabel = _b === void 0 ? 'ra-relationships.duallistinput.availableItems' : _b, choices = props.choices, className = props.className, _c = props.dense, dense = _c === void 0 ? true : _c, _d = props.disableValue, disableValue = _d === void 0 ? 'disabled' : _d, label = props.label, loading = props.loading, _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, _g = props.removeButtonLabel, removeButtonLabel = _g === void 0 ? 'ra-relationships.duallistinput.unselect' : _g, resource = props.resource, _h = props.selectedItemsLabel, selectedItemsLabel = _h === void 0 ? 'ra-relationships.duallistinput.selectedItems' : _h, translateChoice = props.translateChoice;\n    // We need a fix in react-admin as children of Reference related inputs do not have to specify their source.\n    // However, useInput requires it\n    // @ts-ignore\n    var _j = useInput(props), id = _j.id, input = _j.input, isRequired = _j.isRequired, meta = _j.meta, source = _j.source;\n    var translate = useTranslate();\n    var getChoiceValue = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }).getChoiceValue;\n    // This handle the internal selection of items which can then be moved\n    // from one list to the other\n    var _k = useState([]), selectedItems = _k[0], setSelectedItems = _k[1];\n    // Toggle the selection of a single item\n    var handleToggleItemSelection = useCallback(function (event, item) {\n        setSelectedItems(function (currentSelectedItems) {\n            var isItemSelected = currentSelectedItems.some(function (selectedItem) {\n                return getChoiceValue(selectedItem) === getChoiceValue(item);\n            });\n            if (isItemSelected) {\n                return currentSelectedItems.filter(function (selectedItem) {\n                    return getChoiceValue(selectedItem) !==\n                        getChoiceValue(item);\n                });\n            }\n            else {\n                return __spreadArray(__spreadArray([], currentSelectedItems), [item]);\n            }\n        });\n    }, [getChoiceValue]);\n    var setInputValue = useCallback(function (value) {\n        input.onChange(value);\n        setSelectedItems([]);\n    }, [input]);\n    // Handler called when an item should be moved to the other list\n    var handleMoveItem = useCallback(function (event, choice) {\n        if (input.value.some(function (value) { return value === getChoiceValue(choice); })) {\n            setInputValue((input.value || []).filter(function (item) { return item !== getChoiceValue(choice); }));\n            return;\n        }\n        setInputValue(__spreadArray(__spreadArray([], input.value), [getChoiceValue(choice)]));\n    }, [getChoiceValue, input, setInputValue]);\n    // Handler called when the selected items should be added to the input value\n    var handleAddItems = useCallback(function () {\n        var currentSet = new Set(input.value || []);\n        selectedItems.forEach(function (item) { return currentSet.add(getChoiceValue(item)); });\n        setInputValue(Array.from(currentSet));\n    }, [getChoiceValue, input, selectedItems, setInputValue]);\n    // Handler called when the selected items should be removed from the input value\n    var handleRemoveItems = useCallback(function () {\n        var newValue = (input.value || []).filter(function (value) {\n            return !selectedItems.some(function (choice) { return getChoiceValue(choice) === value; });\n        });\n        setInputValue(newValue);\n    }, [getChoiceValue, input, selectedItems, setInputValue]);\n    return (React.createElement(Labeled, { id: id, input: input, meta: meta, isRequired: isRequired, label: label, resource: resource, source: source, className: className },\n        React.createElement(\"div\", { className: classes.root },\n            React.createElement(\"div\", null,\n                React.createElement(ListSubheader, { component: \"div\", id: \"selected-items-title\", className: classes.listHeader }, translate(selectedItemsLabel, {\n                    _: 'Selected items',\n                })),\n                loading ? (React.createElement(DualListInputSkeleton, { className: classes.list })) : (React.createElement(List, { className: classnames(classes.list, classes.selectedList), dense: dense, disablePadding: true, \"aria-labelledby\": \"selected-items-title\", \"aria-multiselectable\": \"true\", role: \"listbox\" }, (input.value || []).map(function (value) {\n                    var choice = choices.find(function (c) { return getChoiceValue(c) === value; });\n                    return (React.createElement(DualListInputItem, { key: value, choice: choice, disableValue: disableValue, onMove: handleMoveItem, onToggleSelection: handleToggleItemSelection, optionText: optionText, optionValue: optionValue, selected: selectedItems.some(function (selectedItem) {\n                            return getChoiceValue(selectedItem) ===\n                                value;\n                        }), translateChoice: translateChoice }));\n                })))),\n            React.createElement(\"div\", { className: classes.actions },\n                React.createElement(Button, { className: classnames(classes.button, classes.addButton), onClick: handleAddItems, startIcon: React.createElement(ArrowLeftIcon, null), variant: \"contained\", disabled: selectedItems.length === 0 }, translate(addButtonLabel, {\n                    _: addButtonLabel,\n                })),\n                React.createElement(Button, { className: classnames(classes.button, classes.removeButton), onClick: handleRemoveItems, endIcon: React.createElement(ArrowRightIcon, null), variant: \"contained\", disabled: selectedItems.length === 0 }, translate(removeButtonLabel, {\n                    _: removeButtonLabel,\n                }))),\n            React.createElement(\"div\", null,\n                React.createElement(ListSubheader, { component: \"div\", id: \"available-items-title\", className: classes.listHeader }, translate(availableItemsLabel, {\n                    _: 'Available items',\n                })),\n                loading ? (React.createElement(DualListInputSkeleton, { className: classes.list })) : (React.createElement(List, { className: classnames(classes.list, classes.availableList), dense: dense, disablePadding: true, \"aria-labelledby\": \"available-items-title\", \"aria-multiselectable\": \"true\", role: \"listbox\" }, choices\n                    .filter(function (choice) {\n                    return !(input.value || []).some(function (val) {\n                        return getChoiceValue(choice) === val;\n                    });\n                })\n                    .map(function (choice) { return (React.createElement(DualListInputItem, { key: getChoiceValue(choice), choice: choice, disableValue: disableValue, onMove: handleMoveItem, onToggleSelection: handleToggleItemSelection, optionText: optionText, optionValue: optionValue, selected: selectedItems.some(function (selectedItem) {\n                        return getChoiceValue(selectedItem) ===\n                            getChoiceValue(choice);\n                    }), translateChoice: translateChoice })); })))))));\n};\nDualListInput.defaultProps = {\n    defaultValue: [],\n    source: '',\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n    },\n    actions: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    button: {\n        '& + &': {\n            marginTop: theme.spacing(1),\n        },\n    },\n    addButton: {\n        justifyContent: 'start',\n    },\n    removeButton: {\n        justifyContent: 'end',\n    },\n    list: {\n        minWidth: 256,\n        height: 256,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto',\n    },\n    listHeader: {\n        borderColor: theme.palette.divider,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderBottom: 'none',\n    },\n    selectedList: {},\n    availableList: {},\n}); }, {\n    name: 'RaDualListInput',\n});\n","export var UsingRegexp = /^([A-Za-z0-9_-]+),([A-Za-z0-9_-]+)$/;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useMemo } from 'react';\nimport get from 'lodash/get';\nimport uniq from 'lodash/uniq';\nimport { useGetMany, useGetManyReference, } from 'react-admin';\nimport { UsingRegexp } from './constants';\n/**\n * Hook that fetches records from another resource in a many to many scenario implemented with an associative resource.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, total } = useReferenceArrayFieldController({\n *      record: { id: 1, name: 'Eric Clapton' },\n *      reference: 'events',\n *      resource: 'artists',\n *      sort: { field: 'name', order: 'ASC' },\n *      source: 'id',\n *      through: 'performances',\n *      using: 'artist_id,event_id'\n * });\n *\n * @param {Object} options\n * @param {boolean} options.filter Filters to send with the request\n * @param {Object} options.record The current resource record\n * @param {string} options.reference The linked resource name\n * @param {string} options.resource The current resource name\n * @param {Object} options.sort The sort parameters\n * @param {string} options.sort.field The field used for sorting\n * @param {string} options.sort.order The sort order (asc, desc)\n * @param {string} options.source The key of the linked resource identifier\n * @param {string} options.through The name of the associative resource\n * @param {string} options.using A comma separated list of two field names which are the ids of the two linked resource in the associative resource\n * @param {boolean} options.unique Remove duplicates from the target table. defaults to true.\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceManyToManyFieldController = function (_a) {\n    var filter = _a.filter, record = _a.record, reference = _a.reference, resource = _a.resource, sort = _a.sort, _b = _a.source, source = _b === void 0 ? 'id' : _b, through = _a.through, using = _a.using, _c = _a.perPage, perPage = _c === void 0 ? 25 : _c, _d = _a.unique, unique = _d === void 0 ? true : _d;\n    if (!using.match(UsingRegexp)) {\n        throw new Error('useReferenceManyToManyFieldController incorrect `using` option format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _e = using.match(UsingRegexp), sourceField = _e[1], targetField = _e[2];\n    // TODO: Introduce real pagination (setters, etc.)\n    var page = 1;\n    var throughManyReferences = useGetManyReference(through, sourceField, get(record, source), { page: page, perPage: perPage }, sort, filter, resource);\n    var allReferencesIds = (throughManyReferences.ids || [])\n        .map(function (id) {\n        if (!throughManyReferences.data[id]) {\n            return undefined;\n        }\n        return throughManyReferences.data[id][targetField];\n    })\n        .filter(function (id) { return !!id; });\n    var referencesIds = unique\n        ? uniq(allReferencesIds)\n        : allReferencesIds;\n    var references = useGetMany(reference, referencesIds);\n    // Memoize the references data and only recompute them when they are reloaded\n    var referencesData = useMemo(function () {\n        return (references.data || [])\n            .filter(function (v) { return !!v; })\n            .reduce(function (acc, data) {\n            var _a;\n            return (__assign(__assign({}, acc), (_a = {}, _a[data.id] = data, _a)));\n        }, {});\n    }, [references.data]);\n    return {\n        basePath: \"/\" + reference,\n        resource: reference,\n        data: referencesData,\n        ids: referencesIds,\n        currentSort: sort,\n        error: throughManyReferences.error || references.error,\n        loading: throughManyReferences.loading || references.loading,\n        loaded: throughManyReferences.loaded && references.loaded,\n        total: throughManyReferences.total,\n        page: page,\n        perPage: perPage,\n    };\n};\nexport default useReferenceManyToManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { ListContextProvider, } from 'react-admin';\nimport useReferenceManyToManyFieldController from './useReferenceManyToManyFieldController';\nimport { UsingRegexp } from './constants';\n/**\n * Fetch reference record through a relations table using fields.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the posts having the current tag as a datagrid\n *  <ReferenceManyToManyField\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <Datagrid>\n *          <TextField label=\"Title\" source=\"title\" />\n *          <TextField label=\"Body\"  source=\"body\" />\n *      </Datagrid>\n *  </ReferenceManyToManyField>\n *\n * @example Display all the tags of the current post as a SingleFieldList\n *  <ReferenceManyToManyField\n *      label=\"Tags\"\n *      reference=\"tags\"\n *      through=\"posts_tags\"\n *      using={['post_id', 'tag_id']}\n *  >\n *      <SingleFieldList>\n *          <TextField label=\"name\" source=\"name\" />\n *      </Datagrid>\n *  </ReferenceManyToManyField>\n */\nvar ReferenceManyToManyField = function (_a) {\n    var reference = _a.reference, through = _a.through, using = _a.using, children = _a.children, perPage = _a.perPage, sort = _a.sort, sortBy = _a.sortBy, // eslint-disable-line\n    _b = _a.source, // eslint-disable-line\n    source = _b === void 0 ? 'id' : _b, props = __rest(_a, [\"reference\", \"through\", \"using\", \"children\", \"perPage\", \"sort\", \"sortBy\", \"source\"]);\n    if (!using.match(UsingRegexp)) {\n        throw new Error('<ReferenceManyToManyField> incorrect `using` props format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _c = useReferenceManyToManyFieldController({\n        filter: props.filter,\n        perPage: perPage,\n        record: props.record,\n        resource: props.resource,\n        reference: reference,\n        through: through,\n        source: source,\n        sort: sort,\n        using: using,\n    }), error = _c.error, referenceManyToManyProps = __rest(_c, [\"error\"]);\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    return (React.createElement(ListContextProvider, { value: __assign(__assign({}, referenceManyToManyProps), { \n            // Define default mandatory ListContextProps\n            // These are not provided by useReferenceManyToManyFieldController\n            displayedFilters: {}, filterValues: {}, hasCreate: false, onSelect: null, onToggleItem: null, onUnselectItems: null, hideFilter: null, selectedIds: [], setFilters: null, setPage: null, setPerPage: null, setSort: null, showFilter: null }) }, children));\n};\nReferenceManyToManyField.defaultProps = {\n    sort: {\n        field: 'id',\n        order: 'DESC',\n    },\n    addLabel: true,\n};\nexport default ReferenceManyToManyField;\n","var getReferenceManyToManyFormField = function (_a) {\n    var resource = _a.resource, through = _a.through, reference = _a.reference;\n    return \"@@ra-many-to-many/\" + resource + \"/\" + through + \"/\" + reference;\n};\nexport default getReferenceManyToManyFormField;\n","import { createContext } from 'react';\nexport var ManyToManyReferenceContext = createContext(undefined);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useState, useCallback } from 'react';\nimport { useField, useForm, } from 'react-final-form';\nimport { composeValidators, useGetList, useGetMany, useGetManyReference, } from 'react-admin';\nimport { UsingRegexp } from './constants';\nimport getReferenceManyToManyFormField from './getReferenceManyToManyFormField';\nimport { useManyToManyReferenceContext } from './useManyToManyReferenceContext';\n/**\n * Hook that fetches records from another resource in a many to many scenario implemented with an associative resource.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, total } = useReferenceManyToManyInputController({\n *      record: { id: 1, name: 'Eric Clapton' },\n *      reference: 'events',\n *      resource: 'artists',\n *      sort: { field: 'name', order: 'ASC' },\n *      source: 'id',\n *      through: 'performances',\n *      using: 'artist_id,event_id'\n * });\n *\n * @param {Object} options\n * @param {boolean} options.filter Filters to send with the request\n * @param {string} options.reference The linked resource name\n * @param {string} options.resource The current resource name\n * @param {Object} options.sort The sort parameters\n * @param {string} options.sort.field The field used for sorting\n * @param {string} options.sort.order The sort order (asc, desc)\n * @param {string} options.source The key of the linked resource identifier\n * @param {string} options.through The name of the associative resource\n * @param {string} options.using A comma separated list of two field names which are the ids of the two linked resource in the associative resource\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceManyToManyInputController = function (_a) {\n    var record = _a.record, filter = _a.filter, _b = _a.perPage, perPage = _b === void 0 ? 25 : _b, reference = _a.reference, resource = _a.resource, sort = _a.sort, _c = _a.source, source = _c === void 0 ? 'id' : _c, through = _a.through, using = _a.using, validate = _a.validate;\n    if (!using.match(UsingRegexp)) {\n        throw new Error('useReferenceManyToManyFieldController incorrect `using` option format. `using` should be a string of two fields separated by a comma  such as `book_id,author_id`');\n    }\n    var _d = using.match(UsingRegexp), sourceField = _d[1], targetField = _d[2];\n    // TODO: Introduce real pagination (setters, etc.)\n    var page = 1;\n    var throughManyReferences = useGetManyReference(through, sourceField, record.id, { page: page, perPage: perPage }, sort, filter, resource, {\n        enabled: !!(record === null || record === void 0 ? void 0 : record.id),\n    });\n    // As the edited record does not contains the references in a many-to-many\n    // relationship, we have to store them in a temporary field in the current form,\n    // named according to the many-to-many configuration.\n    // This field will be removed from the form values before the final submit\n    var temporaryFieldName = getReferenceManyToManyFormField({\n        reference: reference,\n        resource: resource,\n        through: through,\n    });\n    var _e = useState(undefined), temporaryFieldInitialValue = _e[0], setTemporaryFieldInitialValue = _e[1];\n    var temporaryField = useField(temporaryFieldName, {\n        // Artificial pristine / dirty system\n        initialValue: temporaryFieldInitialValue || undefined,\n        validate: composeValidators(validate),\n    });\n    var form = useForm();\n    var referenceIdsEffectSignature = (throughManyReferences.ids || []).join(',');\n    useEffect(function () {\n        if (typeof throughManyReferences.ids === 'undefined') {\n            return;\n        }\n        var referencesIds = (throughManyReferences.ids || []).reduce(function (acc, id) {\n            if (throughManyReferences.data[id]) {\n                var targetId = throughManyReferences.data[id][targetField];\n                if (acc.indexOf(targetId) === -1) {\n                    acc.push(targetId);\n                }\n            }\n            return acc;\n        }, []);\n        if (typeof temporaryFieldInitialValue !== 'undefined') {\n            form.change(temporaryFieldName, referencesIds);\n            form.resetFieldState(temporaryFieldName);\n        }\n        else {\n            setTemporaryFieldInitialValue(referencesIds);\n        }\n    } /* eslint-disable-next-line */, [referenceIdsEffectSignature, temporaryFieldName, form, targetField]);\n    // Load all possible references\n    var possibleValues = useGetList(reference, { page: 1, perPage: 25 }, sort, {});\n    useEffect(function () {\n        var _a;\n        if (possibleValues.loaded &&\n            ((_a = temporaryField.input.value) === null || _a === void 0 ? void 0 : _a.length) > 0 &&\n            temporaryField.input.value.some(function (id) { return !possibleValues.ids.includes(id); })) {\n            possibleValues.refetch();\n        }\n    }, [(temporaryField.input.value || []).join(), possibleValues.refetch]); // eslint-disable-line\n    // Ensure the current references are loaded\n    var references = useGetMany(reference, temporaryField.input.value || []);\n    var choices = possibleValues.ids.map(function (id) { return possibleValues.data[id]; });\n    var handleChange = useCallback(function (eventOrValue) {\n        var value = eventOrValue.target\n            ? eventOrValue.target.value\n            : eventOrValue;\n        form.change(temporaryFieldName, value);\n        // This ensure the field is flagged as touched\n        temporaryField.input.onBlur();\n    }, [form, temporaryFieldName, temporaryField]);\n    var value = temporaryField.input.value;\n    var _f = useManyToManyReferenceContext(), registerManyToManyInput = _f.registerManyToManyInput, unregisterManyToManyInput = _f.unregisterManyToManyInput;\n    useEffect(function () {\n        registerManyToManyInput({\n            resource: resource,\n            reference: reference,\n            source: source,\n            through: through,\n            using: using,\n        });\n        return function () {\n            unregisterManyToManyInput({\n                resource: resource,\n                reference: reference,\n                source: source,\n                through: through,\n                using: using,\n            });\n        };\n    }, [\n        resource,\n        reference,\n        source,\n        through,\n        using,\n        registerManyToManyInput,\n        unregisterManyToManyInput,\n    ]);\n    return {\n        basePath: \"/\" + reference,\n        resource: reference,\n        choices: choices,\n        input: __assign(__assign({}, temporaryField.input), { value: value, onChange: handleChange }),\n        meta: temporaryField.meta,\n        currentSort: sort,\n        error: throughManyReferences.error ||\n            references.error ||\n            possibleValues.error,\n        loading: throughManyReferences.loading ||\n            references.loading ||\n            possibleValues.loading,\n        loaded: throughManyReferences.loaded &&\n            references.loaded &&\n            possibleValues.loaded,\n        total: throughManyReferences.total,\n        page: page,\n        perPage: perPage,\n    };\n};\nexport default useReferenceManyToManyInputController;\n","import { useContext } from 'react';\nimport { ManyToManyReferenceContext, } from './ManyToManyReferenceContext';\n/**\n * Hook to get the `ManyToManyReferenceContext`.\n */\nexport var useManyToManyReferenceContext = function () {\n    var context = useContext(ManyToManyReferenceContext);\n    if (!context) {\n        throw new Error(\"\\nCannot get the ManyToManyReferenceContext. Have you wrapped your form with a <ManyToManyReferenceContextProvider>?\\n\\nFor example:\\n\\nimport { ManyToManyReferenceContextProvider } from '@react-admin/relationships';\\n\\n<Edit {...props}>\\n    <ManyToManyReferenceContextProvider>\\n        <SimpleForm>\\n            // ...\\n        </SimpleForm>\\n    </ManyToManyReferenceContextProvider>\\n</Edit>\\n\");\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { useInput, useTranslate, } from 'react-admin';\nimport useReferenceManyToManyInputController from './useReferenceManyToManyInputController';\nimport { UsingRegexp } from './constants';\n/**\n * Allows to edit reference records through a relations table.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Allowing to pick the tags of a post using a SelectArrayInput\n *  <ReferenceManyToManyInput\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <SelectArrayInput optionText=\"name\" />\n *  </ReferenceManyToManyInput>\n *\n * @example Allowing to pick the tags of a post using a CheckboxGroupInput\n *  <ReferenceManyToManyInput\n *      label=\"Posts\"\n *      reference=\"posts\"\n *      through=\"posts_tags\"\n *      using={['tag_id', 'post_id']}\n *  >\n *      <CheckboxGroupInput optionText=\"name\" />\n *  </ReferenceManyToManyInput>\n */\nvar ReferenceManyToManyInput = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, idOverride = _a.id, format = _a.format, label = _a.label, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, perPage = _a.perPage, record = _a.record, reference = _a.reference, sort = _a.sort, _b = _a.source, source = _b === void 0 ? 'id' : _b, through = _a.through, using = _a.using, validate = _a.validate, props = __rest(_a, [\"basePath\", \"children\", \"className\", \"id\", \"format\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"perPage\", \"record\", \"reference\", \"sort\", \"source\", \"through\", \"using\", \"validate\"]);\n    if (!using.match(UsingRegexp)) {\n        throw new Error('<ReferenceManyToManyInput> incorrect `using` props format. `using` should be a string of two fields separated by a comma such as `book_id,author_id`');\n    }\n    var _c = useInput({\n        id: idOverride,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        source: source,\n        validate: validate,\n        parse: parse,\n        format: format,\n    }), id = _c.id, isRequired = _c.isRequired;\n    var _d = useReferenceManyToManyInputController({\n        basePath: basePath,\n        record: record,\n        filter: props.filter,\n        perPage: perPage,\n        resource: props.resource,\n        reference: reference,\n        through: through,\n        source: source,\n        sort: sort,\n        using: using,\n        validate: validate,\n    }), error = _d.error, loading = _d.loading, loaded = _d.loaded, choices = _d.choices, referenceManyToManyProps = __rest(_d, [\"error\", \"loading\", \"loaded\", \"choices\"]);\n    var translate = useTranslate();\n    var translatedLabel = translate(label || \"resources.\" + props.resource + \".fields.\" + source, { _: label });\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    var childProps = __assign(__assign(__assign({}, props), { resource: reference, basePath: \"/\" + reference, choices: choices, id: id, input: referenceManyToManyProps.input, isRequired: isRequired, label: translatedLabel, loading: loading, loaded: loaded, meta: __assign(__assign({}, referenceManyToManyProps.meta), { helperText: false }), translateChoice: false, limitChoicesToValue: true }), children.props);\n    return cloneElement(Children.only(children), childProps);\n};\nReferenceManyToManyInput.defaultProps = {\n    sort: {\n        field: 'id',\n        order: 'DESC',\n    },\n};\nexport default ReferenceManyToManyInput;\n","var raTreeEnglishMessages = {\n    'ra-tree': {\n        drag_preview: 'Node #%{id} |||| Node #%{id} with %{smart_count} children',\n        root_target: 'Drop an item here to make it top level',\n        item_moved: 'Item moved',\n        new_node: 'New node',\n        action: {\n            add_root: 'Add root',\n            add_child: 'Add child',\n        },\n    },\n};\nexport default raTreeEnglishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { InputAdornment, IconButton, TextField, makeStyles, fade, } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useTranslate } from 'react-admin';\n/**\n * A text input built specifically for the search. Very similar to react-admin `SearchInput`,\n * except it does not requires to be inside a final-form `Form` component.\n *\n * It accepts all props of the Material UI [`<TextField>`](https://material-ui.com/components/text-fields/).\n * @param {SearchInputProps} props\n * @param {'light' | 'dark'} props.color The color mode for the input, applying light or dark backgrounds\n */\nexport var SearchInput = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _a = props.color, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    color = _a === void 0 ? 'light' : _a, InputProps = props.InputProps, value = props.value, disabled = props.disabled, _b = props.variant, variant = _b === void 0 ? 'filled' : _b, _c = props.margin, margin = _c === void 0 ? 'dense' : _c, _d = props.placeholder, placeholder = _d === void 0 ? 'ra.action.search' : _d, rest = __rest(props, [\"classes\", \"color\", \"InputProps\", \"value\", \"disabled\", \"variant\", \"margin\", \"placeholder\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onFocus = props.onFocus, onBlur = props.onBlur, onChange = props.onChange;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        // Haven't found a better way yet. We also have this issue in react-admin ResetableTextfield\n        // @ts-ignore\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornmentEnd = classes.inputAdornmentEnd, inputAdornmentStart = classes.inputAdornmentStart, visibleClearIcon = classes.visibleClearIcon, inputClassName = classes.input, inputBaseClassName = classes.inputBase, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornmentEnd\", \"inputAdornmentStart\", \"visibleClearIcon\", \"input\", \"inputBase\"]);\n    return (React.createElement(TextField, __assign({ classes: restClasses, value: value, inputProps: {\n            className: inputClassName,\n        }, InputProps: __assign({ className: inputBaseClassName, startAdornment: (React.createElement(InputAdornment, { className: inputAdornmentStart, position: \"start\" },\n                React.createElement(SearchIcon, null))), endAdornment: (React.createElement(InputAdornment, { className: inputAdornmentEnd, position: \"end\" },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: !value || disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) })))) }, InputProps), disabled: disabled, variant: variant, margin: margin, placeholder: translate(placeholder, { _: placeholder }) }, rest, { onFocus: handleFocus, onBlur: handleBlur, ref: ref })));\n});\nSearchInput.displayName = 'SearchInput';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: function (_a) {\n            var color = _a.color;\n            return fade(color === 'light'\n                ? theme.palette.common.white\n                : theme.palette.common.black, 0.05);\n        },\n        borderRadius: theme.shape.borderRadius,\n        marginTop: 4,\n        '&:hover': {\n            backgroundColor: function (_a) {\n                var color = _a.color;\n                return fade(color === 'light'\n                    ? theme.palette.common.white\n                    : theme.palette.common.black, color === 'light' ? 0.25 : 0.15);\n            },\n        },\n        '&:focus-within': {\n            backgroundColor: function (_a) {\n                var color = _a.color;\n                return fade(color === 'light'\n                    ? theme.palette.common.white\n                    : theme.palette.common.black, color === 'light' ? 0.25 : 0.15);\n            },\n        },\n        '& *': {\n            color: 'inherit',\n        },\n        '& .MuiFilledInput-underline:before': {\n            border: 'none',\n        },\n        '& .MuiFilledInput-underline:after': {\n            border: 'none',\n        },\n        zIndex: theme.zIndex.modal + 1,\n    },\n    inputBase: {\n        background: 'none',\n        borderRadius: 0,\n        '&:hover': {\n            background: 'none',\n        },\n    },\n    input: {\n        paddingTop: theme.spacing(1),\n        transition: theme.transitions.create('width'),\n        width: 120,\n        '&:focus': {\n            width: 170,\n        },\n    },\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    inputAdornmentStart: {\n        marginTop: '0 !important',\n    },\n    inputAdornmentEnd: {\n        transition: theme.transitions.create('opacity'),\n        opacity: function (_a) {\n            var value = _a.value;\n            return (!!value ? 1 : 0);\n        },\n    },\n}); }, { name: 'RaSearchInput' });\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    value: PropTypes.any,\n};\n","import { createContext, useContext } from 'react';\nexport var SearchResultContext = createContext({\n    onClose: function () {\n        /* noop */\n    },\n    loaded: false,\n    loading: false,\n    history: [],\n    query: '',\n});\nexport var SearchResultContextProvider = SearchResultContext.Provider;\nexport var useSearchResults = function () {\n    var context = useContext(SearchResultContext);\n    if (!context) {\n        console.warn('useContext must be used inside a SearchResultContextProvider such as the one provided by the <Search> component');\n    }\n    return context;\n};\n","import * as React from 'react';\nimport { cloneElement, isValidElement } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { ListSubheader, makeStyles } from '@material-ui/core';\nimport { SearchResultItem } from './SearchResultItem';\n/**\n * A component which displays search results for a specific target.\n *\n * @param props {SearchResultsGroupProps}\n * @param props.data {SearchResultDataItem[]} The search results\n * @param props.label {ReactElement|string} The target label\n * @param props.onClose {Function} The function to call when the Search PopOver should be closed.\n */\nexport var SearchResultsGroup = function (props) {\n    var _a = props.children, children = _a === void 0 ? defaultChildren : _a, data = props.data, label = props.label, onClose = props.onClose;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ListSubheader, { className: classes.subHeader, component: \"h3\", role: \"presentation\" }, isValidElement(label)\n            ? label\n            : translate(label.toString(), { _: label })),\n        data.map(function (searchResultItem) {\n            return cloneElement(children, {\n                key: searchResultItem.id,\n                data: searchResultItem,\n                onClose: onClose,\n            });\n        })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    subHeader: {\n        background: theme.palette.background.paper,\n        marginBottom: theme.spacing(1),\n        marginTop: theme.spacing(1),\n    },\n}); });\nvar defaultChildren = React.createElement(SearchResultItem, null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { List, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { SearchResultItem } from './SearchResultItem';\nimport { SearchResultsGroup } from './SearchResultsGroup';\nimport { groupSearchResultsByResource } from './groupSearchResultsByResource';\nimport { useSearchResults } from './SearchResultContext';\nimport { useArrowKeysToNavigate } from './useArrowKeysToNavigate';\n/**\n * A component which displays search results inside a Material UI [`<List>`](https://material-ui.com/components/list/),\n * grouping results by targets when they are multiple targets.\n *\n * @param props {SearchPanelProps}\n * @param props.children {ReactElement} A ReactElement which will be cloned for each search result item.\n */\nexport var SearchResultsPanel = function (props) {\n    var listRef = React.useRef(null);\n    var _a = props.children, children = _a === void 0 ? React.createElement(SearchResultItem, null) : _a, rest = __rest(props, [\"children\"]);\n    useArrowKeysToNavigate(listRef);\n    var translate = useTranslate();\n    var classes = useStyles(rest);\n    var _b = useSearchResults(), data = _b.data, onClose = _b.onClose;\n    if (!data || data.length === 0) {\n        return (React.createElement(List, __assign({ dense: true }, rest),\n            React.createElement(ListItem, null,\n                React.createElement(ListItemText, { primary: translate('ra.navigation.no_results') }))));\n    }\n    var groupedData = groupSearchResultsByResource(data, translate);\n    if (groupedData.length === 1) {\n        return (React.createElement(List, __assign({ component: \"nav\", dense: true, innerRef: listRef }, rest), data.map(function (searchResultItem) {\n            return cloneElement(children, {\n                key: searchResultItem.id,\n                data: searchResultItem,\n                onClose: onClose,\n            });\n        })));\n    }\n    return (React.createElement(List, __assign({ component: \"nav\", dense: true, innerRef: listRef, className: classes.root }, rest), groupedData.map(function (group) { return (React.createElement(SearchResultsGroup, { key: group.label, label: group.label, data: group.data, onClose: onClose }, children)); })));\n};\nvar useStyles = makeStyles(function () { return ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n    },\n}); }, {\n    name: 'RaSearchResultsPanel',\n});\n","var raSearcheEnglishMessages = {\n    'ra-search': {\n        recent: 'Recent',\n    },\n};\nexport default raSearcheEnglishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { List, ListSubheader, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { SearchHistoryItem } from './SearchHistoryItem';\nimport { useArrowKeysToNavigate } from './useArrowKeysToNavigate';\n/**\n * A component which displays search history inside a Material UI [`<List>`](https://material-ui.com/components/list/),\n *\n * @param props {SearchHistoryPanelProps}\n * @param props.history {string[]} A list of previous searches.\n * @param props.onSelect {Function} The function to call when the item is selected.\n * @param props.children {ReactElement} A ReactElement which will be cloned for each search history item.\n */\nexport var SearchHistoryPanel = function (props) {\n    var listRef = React.useRef(null);\n    var _a = props.children, children = _a === void 0 ? React.createElement(SearchHistoryItem, null) : _a, history = props.history, onSelect = props.onSelect, rest = __rest(props, [\"children\", \"history\", \"onSelect\"]);\n    useArrowKeysToNavigate(listRef);\n    var translate = useTranslate();\n    var classes = useStyles(rest);\n    return (React.createElement(List, __assign({ component: \"nav\", dense: true, className: classes.root, innerRef: listRef }, rest),\n        React.createElement(ListSubheader, null,\n            React.createElement(\"strong\", null, translate('ra-search.recent')),\n            React.createElement(Divider, null)),\n        history.map(function (searchHistoryItem) {\n            return cloneElement(children, {\n                item: searchHistoryItem,\n                onSelect: onSelect,\n            });\n        })));\n};\nvar useStyles = makeStyles(function () { return ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n        minWidth: '100%',\n    },\n}); }, {\n    name: 'RaSearchHistoryPanel',\n});\n","import inflection from 'inflection';\nimport { useSelector } from 'react-redux';\nimport { getResources, useTranslate } from 'react-admin';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useSelector(getResources, shallowEqual);\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {resources.map(resource => (\n *                 <li key={resource.name}>\n *                     {getResourceLabel(resource.name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport var useGetResourceLabel = function () {\n    var resources = useSelector(getResources);\n    var translate = useTranslate();\n    return function (resource, count) {\n        if (count === void 0) { count = 2; }\n        var resourceDefinition = resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        var label = translate(\"resources.\" + resource + \".name\", {\n            smart_count: count,\n            _: resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                ? translate(resourceDefinition.options.label, {\n                    smart_count: count,\n                    _: resourceDefinition.options.label,\n                })\n                : inflection.humanize(count > 1\n                    ? inflection.pluralize(resource)\n                    : inflection.singularize(resource)),\n        });\n        return label;\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useRecordContext, useTranslate, getFieldLabelTranslationArgs, } from 'react-admin';\nimport { useGetResourceLabel } from './useGetResourceLabel';\n/**\n * Returns a translated label for an event.\n * @param options The hook options\n * @param options.record Optional. The event record. Uses the record from the RecordContext if not provided.\n * @param options.variant Optional. Either 'full', 'inline' or 'record'.\n * @param options.pluralizeResource Optional. A boolean indicating whether to pluralize the resource name.\n */\nexport var useEventLabel = function (options) {\n    var _a = options.variant, variant = _a === void 0 ? 'full' : _a, pluralizeResource = options.pluralizeResource;\n    var record = useRecordContext(options);\n    var getResourceLabel = useGetResourceLabel();\n    var translate = useTranslate();\n    if (!record) {\n        return null;\n    }\n    var pluralize = pluralizeResource != undefined\n        ? pluralizeResource\n        : actionPluralOptions[record.action];\n    var _b = record.payload, _c = _b.data, data = _c === void 0 ? {} : _c, _d = _b.ids, ids = _d === void 0 ? [] : _d, id = _b.id;\n    var name = (data === null || data === void 0 ? void 0 : data.name) ||\n        (data === null || data === void 0 ? void 0 : data.label) ||\n        (data === null || data === void 0 ? void 0 : data.title) ||\n        (data === null || data === void 0 ? void 0 : data.reference) ||\n        (data === null || data === void 0 ? void 0 : data.id) ||\n        id;\n    var fields = [];\n    if (record.payload.previousData) {\n        for (var _i = 0, _e = Object.keys(record.payload.previousData); _i < _e.length; _i++) {\n            var field = _e[_i];\n            if (record.payload.data &&\n                record.payload.data[field] !==\n                    record.payload.previousData[field]) {\n                fields.push(translate.apply(void 0, getFieldLabelTranslationArgs({\n                    source: field,\n                    resource: record.resource,\n                })));\n            }\n        }\n    }\n    var translateOptions = {\n        name: name,\n        ids: ids.join(', '),\n        resource: getResourceLabel(record.resource, pluralize ? 2 : 1).toLowerCase(),\n        fields: fields.slice(0, 2).join(', '),\n        all_fields: fields.join(', '),\n        smart_count: variant === 'record' && fields.length > 2\n            ? fields.length - 2\n            : fields.length,\n    };\n    var finalVariant = variant === 'record' && fields.length > 2\n        ? 'record_many_fields'\n        : variant;\n    var label = translate(\"ra-audit-log.\" + variantTranslationKeys[finalVariant] + \".\" + record.resource + \".\" + record.action, __assign(__assign({}, translateOptions), { \n        // Default generic translation when there is no resource specific translation available\n        _: translate(\"ra-audit-log.\" + variantTranslationKeys[finalVariant] + \".\" + record.action, translateOptions) }));\n    return label;\n};\nvar variantTranslationKeys = {\n    full: 'event',\n    inline: 'inline_event',\n    record: 'record_event',\n    record_many_fields: 'record_many_fields_events',\n};\nvar actionPluralOptions = {\n    create: false,\n    delete: false,\n    deleteMany: true,\n    update: false,\n    updateMany: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { sanitizeFieldRestProps, useRecordContext, } from 'react-admin';\nimport { useEventLabel } from './useEventLabel';\n/**\n * A react-admin field which displays a label specific to an event action.\n */\nexport var ActionField = function (props) {\n    var record = useRecordContext(props);\n    var actionLabel = useEventLabel({ record: record, variant: 'inline' });\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\" }, sanitizeFieldRestProps(props)), actionLabel));\n};\nActionField.defaultProps = {\n    addLabel: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PersonIcon from '@material-ui/icons/Person';\nimport classnames from 'classnames';\n/**\n * A Material-UI Avatar with fallback to the Person icon if no url was provided for an image.\n */\nexport var EventAvatar = function (props) {\n    var className = props.className, src = props.src, fullName = props.fullName, _a = props.size, size = _a === void 0 ? 'medium' : _a, rest = __rest(props, [\"className\", \"src\", \"fullName\", \"size\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Avatar, __assign({ src: src, className: classnames(className, classes[size]) }, rest), !!src ? null : fullName ? getInitials(fullName) : React.createElement(PersonIcon, null)));\n};\nvar useStyles = makeStyles({\n    small: {\n        width: 20,\n        height: 20,\n    },\n    medium: {\n        width: 40,\n        height: 40,\n    },\n});\nexport var getInitials = function (name) {\n    return name\n        .match(/(^\\w\\w?|\\b\\w)?/g)\n        .join('')\n        .match(/(^\\w|\\w$)?/g)\n        .join('')\n        .toUpperCase();\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { EventAvatar } from './EventAvatar';\n/**\n * A react-admin field which displays the avatar of an event author.\n */\nexport var AvatarField = function (props) {\n    var record = useRecordContext(props);\n    var _a = props.source, source = _a === void 0 ? 'avatar' : _a, _b = props.fullNameSource, fullNameSource = _b === void 0 ? 'fullName' : _b, rest = __rest(props, [\"source\", \"fullNameSource\"]);\n    var src = get(record, source);\n    var fullName = get(record, fullNameSource);\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(EventAvatar, __assign({ src: src, fullName: fullName, role: \"presentation\" }, rest)));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ReferenceField, TextField, useRecordContext, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { AvatarField } from './AvatarField';\n/**\n * A react-admin field which displays the author of an event with its avatar if available.\n */\nexport var AuthorField = function (props) {\n    var authorResource = props.authorResource, className = props.className, classesOverride = props.classes, link = props.link, source = props.source, rest = __rest(props, [\"authorResource\", \"className\", \"classes\", \"link\", \"source\"]);\n    var classes = useStyles(props);\n    var record = useRecordContext(props);\n    if (authorResource) {\n        return (React.createElement(ReferenceField, __assign({ source: \"author.id\", reference: authorResource, link: link }, rest),\n            React.createElement(AuthorField, null)));\n    }\n    return record ? (React.createElement(\"div\", { className: classnames(classes.root, className) },\n        React.createElement(AvatarField, { source: \"avatar\", record: record.author ? record.author : record, className: classes.small }),\n        React.createElement(TextField, __assign({ source: \"fullName\" }, rest, { record: record.author ? record.author : record })))) : null;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    small: {\n        display: 'inline-flex',\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        marginRight: theme.spacing(1),\n    },\n}); });\nAuthorField.defaultProps = {\n    addLabel: true,\n};\n","export var DefaultAuditLogResource = 'events';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { sanitizeFieldRestProps, useRecordContext, } from 'react-admin';\nimport get from 'lodash/get';\nimport { Typography } from '@material-ui/core';\nimport { useGetResourceLabel } from './useGetResourceLabel';\n/**\n * A react-admin field which displays a the name of the resource targeted by an event.\n */\nexport var ResourceField = function (props) {\n    var record = useRecordContext(props);\n    var getResourceLabel = useGetResourceLabel();\n    if (!record) {\n        return null;\n    }\n    var _a = props.source, source = _a === void 0 ? 'resource' : _a;\n    var resource = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\" }, sanitizeFieldRestProps(props)), getResourceLabel(resource, 1)));\n};\nResourceField.defaultProps = {\n    addLabel: true,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ListItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { Form } from 'react-final-form';\nimport { FilterList, useListFilterContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { AuthorInput } from './AuthorInput';\n/**\n * A react-admin FilterList allowing to filter events by author. Should be included in a List aside.\n * If the events authors have a dedicated resource, an AutoCompleteInput will be used to select them.\n *\n * @see {@link https://marmelab.com/react-admin/List.html#the-filterlist-sidebar|FilterList}\n * @see {@link https://marmelab.com/react-admin/Inputs.html#autocompleteinput|AutoCompleteInput}\n *\n * @param props The component props\n * @param {string} props.authorResource Optional. The name of the resource for authors.\n *\n * @example <caption>Basic usage</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { AuthorFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <AuthorFilterList />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n *\n * @example <caption>With an author resource</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { AuthorFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <AuthorFilterList authorResource=\"users\" />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n */\nexport var AuthorFilterList = function (props) {\n    var authorResource = props.authorResource;\n    var classes = useStyles(props);\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var handleChange = function (eventOrValue) {\n        var _a;\n        var _b;\n        var field = authorResource ? 'author.id' : 'author.fullName';\n        var value = authorResource\n            ? eventOrValue\n            : (_b = eventOrValue.target) === null || _b === void 0 ? void 0 : _b.value;\n        setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[field] = value, _a)), null, true);\n    };\n    var handleFormSubmit = function (values) {\n        setFilters(__assign(__assign({}, filterValues), { values: values }), null, false);\n    };\n    return (React.createElement(FilterList, { label: \"ra-audit-log.filter.author\", icon: React.createElement(PeopleIcon, null) },\n        React.createElement(ListItem, { className: classes.listItem },\n            React.createElement(Form, { onSubmit: handleFormSubmit, render: function (_a) {\n                    var handleSubmit = _a.handleSubmit;\n                    return (React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit },\n                        React.createElement(AuthorInput, { className: classes.input, label: \"Author\", onChange: handleChange, authorResource: authorResource, initialValue: authorResource\n                                ? get(filterValues, 'author.id')\n                                : get(filterValues, 'author.fullName') })));\n                } }))));\n};\nvar useStyles = makeStyles({\n    listItem: {\n        paddingRight: 0,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    input: {\n        width: '100%',\n    },\n}, {\n    name: 'RaAuthorFilterList',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListItem, ListItemText, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRecordContext, useTranslate } from 'react-admin';\nimport classnames from 'classnames';\nimport { EventAvatar } from '../EventAvatar';\nimport { useEventLabel } from '../useEventLabel';\n/**\n * Default component to display an audit logs.\n * @see Timeline\n */\nexport var RecordTimelineItem = function (props) {\n    var className = props.className, classesOverride = props.classes, rest = __rest(props, [\"className\", \"classes\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var record = useRecordContext(props.record);\n    var actionLabel = useEventLabel({ record: record, variant: 'record' });\n    if (!record) {\n        return null;\n    }\n    return (React.createElement(ListItem, __assign({ className: classnames(classes.root, className), button: false, dense: true, disableGutters: true }, rest),\n        React.createElement(ListItemText, { primary: React.createElement(\"div\", { className: classes.authorContainer },\n                React.createElement(EventAvatar, { className: classes.avatar, alt: record.author.fullName, src: record.author.avatar, fullName: record.author.fullName, role: \"presentation\", size: \"small\" }),\n                React.createElement(Typography, { color: \"textPrimary\", className: classes.content },\n                    React.createElement(\"strong\", { className: classes.author }, record.author.fullName ||\n                        translate(\"ra-audit-log.author\", record.author)))), secondary: React.createElement(\"span\", { className: classes.action }, actionLabel) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    content: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    authorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n    author: {},\n    action: {},\n    date: {},\n}); }, {\n    name: 'RaTimelineItem',\n});\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nexport var TimelinePlaceholder = function (props) {\n    var className = props.className;\n    var classes = useStyles(props);\n    // Must be a span because it's used inside a Typography which is a p by default\n    return React.createElement(\"span\", { className: classnames(classes.root, className) }, \"\\u00A0\");\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[400],\n        display: 'inline-block',\n    },\n}); }, { name: 'RaTimelinePlaceholder' });\n","import * as React from 'react';\nimport { Card, List, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { TimelinePlaceholder } from './TimelinePlaceholder';\nimport { EventAvatar } from '../EventAvatar';\nexport var RecordTimelineSkeleton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, \"aria-disabled\": true, \"aria-label\": translate('ra.message.loading') },\n        React.createElement(\"div\", null, times(2, function (key1) { return (React.createElement(\"div\", { key: key1 },\n            React.createElement(TimelinePlaceholder, { className: classes.subTitle }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(List, null, times(5, function (key2) { return (React.createElement(ListItem, { key: key2 },\n                    React.createElement(ListItemText, { primary: React.createElement(\"div\", { className: classes.authorContainer },\n                            React.createElement(EventAvatar, { className: classes.avatar, size: \"small\" }),\n                            React.createElement(TimelinePlaceholder, { className: classes.text })), secondary: React.createElement(TimelinePlaceholder, { className: classes.text }) }))); }))))); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: '100%',\n        margin: 'auto',\n    },\n    card: {\n        marginTop: theme.spacing(0.5),\n        marginBottom: theme.spacing(1),\n    },\n    subTitle: {\n        width: '60%',\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        width: '100%',\n        marginBottom: theme.spacing(1),\n    },\n    authorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaTimelineSkeleton',\n});\nvar times = function (nbChildren, fn) { return Array.from({ length: nbChildren }, function (_, key) { return fn(key); }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListItem, ListItemText, ListItemAvatar, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useLocale, useRecordContext, useTranslate, } from 'react-admin';\nimport classnames from 'classnames';\nimport { EventAvatar } from '../EventAvatar';\nimport { Link } from 'react-router-dom';\nimport { useEventLabel } from '../useEventLabel';\nimport { useGetActionLink } from '../useGetActionLink';\n/**\n * Default component to display an audit logs.\n * @see Timeline\n */\nexport var TimelineItem = function (props) {\n    var className = props.className, classesOverride = props.classes, link = props.link, rest = __rest(props, [\"className\", \"classes\", \"link\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var locale = useLocale();\n    var record = useRecordContext(props.record);\n    var actionLabel = useEventLabel({ record: record, variant: 'inline' });\n    var getActionLink = useGetActionLink();\n    if (!record) {\n        return null;\n    }\n    var linkTo = getActionLink(record, link);\n    return (React.createElement(ListItem\n    // @ts-ignore\n    , __assign({ \n        // @ts-ignore\n        component: linkTo ? Link : 'div', role: \"listitem\", to: linkTo, className: classnames(classes.root, className) }, rest),\n        React.createElement(ListItemAvatar, null,\n            React.createElement(EventAvatar, { alt: record.author.fullName, src: record.author.avatar, fullName: record.author.fullName, role: \"presentation\" })),\n        React.createElement(ListItemText, { primary: React.createElement(Typography, { color: \"textPrimary\", className: classes.content },\n                React.createElement(\"strong\", { className: classes.author }, record.author.fullName ||\n                    translate(\"ra-audit-log.author\", record.author)),\n                React.createElement(\"span\", { className: classes.action }, actionLabel)), secondary: new Date(record.date).toLocaleString(locale) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        '&:hover': {\n            backgroundColor: theme.palette.action.hover,\n        },\n    },\n    content: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    author: {\n        marginRight: theme.spacing(0.5),\n    },\n    action: {},\n}); }, {\n    name: 'RaTimelineItem',\n});\n","import * as React from 'react';\nimport { RecordContextProvider, useTranslate, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { List, Typography } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { TimelineItem } from './TimelineItem';\nimport { useTimelineGroup } from './useTimelineGroup';\n/**\n * Default component to display a group of audit logs.\n * @see Timeline\n *\n * @example <caption>To use a custom item component</caption>\n * import { TimelineGroup } from '@react-admin/ra-audit-log';\n * import { useRecordContext } from 'react-admin';\n * import { ListItem, ListItemText } from '@material-ui/core';\n * import { getTextFromRecord } from './getTextFromRecord';\n *\n * const MyTimelineItem => {\n *     const record = useRecordContext();\n *     const label = getTextFromRecord(record);\n *\n *     return (\n *         <ListItem>\n *             <ListItemText>{label}</ListItemText>\n *         </ListItem>\n *     );\n * }\n *\n * const MyTimelineGroup = () => {\n *     return (\n *         <TimelineGroup>\n *             <MyTimelineItem />\n *         </TimelineGroup>\n *     );\n * };\n */\nexport var TimelineGroup = function (props) {\n    var className = props.className, _a = props.children, children = _a === void 0 ? React.createElement(TimelineItem, null) : _a;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _b = useTimelineGroup(), label = _b.label, records = _b.records;\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(\"div\", { className: classnames(classes.root, className) },\n        React.createElement(Typography, { variant: \"subtitle1\", gutterBottom: true, className: classes.label, role: \"presentation\" }, translatedLabel),\n        React.createElement(List, { component: \"div\", role: \"list\", \"aria-label\": translatedLabel, dense: true, className: classes.events }, records.map(function (record) { return (React.createElement(RecordContextProvider, { key: record.id, value: record }, children)); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        marginBottom: theme.spacing(1),\n    },\n    label: {},\n    events: {},\n}); }, { name: 'RaTimelineGroup' });\n","import * as React from 'react';\nimport { Card, List, ListItem, ListItemAvatar, ListItemText, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\nimport { TimelinePlaceholder } from './TimelinePlaceholder';\nimport { EventAvatar } from '../EventAvatar';\nexport var TimelineSkeleton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classes.root, \"aria-disabled\": true, \"aria-label\": translate('ra.message.loading') },\n        React.createElement(\"div\", null, times(2, function (key1) { return (React.createElement(\"div\", { key: key1 },\n            React.createElement(TimelinePlaceholder, { className: classes.subTitle }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(List, null, times(5, function (key2) { return (React.createElement(ListItem, { key: key2 },\n                    React.createElement(ListItemAvatar, null,\n                        React.createElement(EventAvatar, null)),\n                    React.createElement(ListItemText, { primary: React.createElement(TimelinePlaceholder, { className: classes.text }), secondary: React.createElement(TimelinePlaceholder, { className: classes.text }) }))); }))))); }))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        width: '100%',\n        margin: 'auto',\n    },\n    card: {\n        marginTop: theme.spacing(0.5),\n        marginBottom: theme.spacing(1),\n    },\n    subTitle: {\n        width: '60%',\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        width: '100%',\n        marginBottom: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaTimelineSkeleton',\n});\nvar times = function (nbChildren, fn) { return Array.from({ length: nbChildren }, function (_, key) { return fn(key); }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ListItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport { Form } from 'react-final-form';\nimport { FilterList, useListFilterContext } from 'react-admin';\nimport get from 'lodash/get';\nimport { ResourceInput } from './ResourceInput';\n/**\n * A react-admin FilterList allowing to filter events by resource. Should be included in a List aside.\n * It excludes the events resource itself which is named `events` by default.\n *\n * @see {@link https://marmelab.com/react-admin/List.html#the-filterlist-sidebar|FilterList}\n *\n * @param props The component props\n * @param {string} props.eventsResource Optional. The name of the resource for events. Defaults to `events`\n *\n * @example <caption>Basic usage</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { ResourceFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <ResourceFilterList />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n *\n * @example <caption>With a custom event resource</caption>\n * import { Card, CardContent } from '@material-ui/core';\n * import { FilterLiveSearch } from 'react-admin';\n * import { ResourceFilterList } from '@react-admin/ra-audit-log';\n *\n * export const EventFilterAside = () => {\n *     return (\n *         <Card>\n *             <CardContent>\n *                 <FilterLiveSearch source=\"q\" />\n *                 <ResourceFilterList eventResource=\"users\" />\n *             </CardContent>\n *         </Card>\n *     );\n * };\n */\nexport var ResourceFilterList = function (props) {\n    var eventResource = props.eventResource;\n    var classes = useStyles(props);\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var handleChange = function (eventOrValue) {\n        var _a;\n        setFilters(__assign(__assign({}, filterValues), { resource: ((_a = eventOrValue === null || eventOrValue === void 0 ? void 0 : eventOrValue.target) === null || _a === void 0 ? void 0 : _a.value) || eventOrValue }), null, true);\n    };\n    var handleFormSubmit = function (values) {\n        setFilters(__assign(__assign({}, filterValues), { values: values }), null, false);\n    };\n    return (React.createElement(FilterList, { label: \"ra-audit-log.filter.resource\", icon: React.createElement(PeopleIcon, null) },\n        React.createElement(ListItem, { className: classes.listItem },\n            React.createElement(Form, { onSubmit: handleFormSubmit, render: function (_a) {\n                    var handleSubmit = _a.handleSubmit;\n                    return (React.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit },\n                        React.createElement(ResourceInput, { onChange: handleChange, eventResource: eventResource, className: classes.input, initialValue: get(filterValues, 'resource') })));\n                } }))));\n};\nvar useStyles = makeStyles({\n    listItem: {\n        paddingRight: 0,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n    },\n    input: {\n        width: '100%',\n    },\n}, {\n    name: 'RaResourceFilterList',\n});\n","import * as React from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterLiveSearch } from 'react-admin';\nimport classnames from 'classnames';\nimport { AuthorFilterList } from './AuthorFilterList';\nimport { EventDateFilterList } from './EventDateFilterList';\nimport { ResourceFilterList } from './ResourceFilterList';\n/**\n * Includes all the default filters for the EventList in a component usable in an aside sidebar.\n * @param props The component props\n * @param {string} props.authorResource Optional. The name of the resource for authors.\n * @param {string} props.className Optional. A css class name.\n * @param {object} props.classes Optional. An object of styles from material-ui hook built with makeStyles\n * @param {object} props.dateFilters Optional. A map of date filters where the key is the label (which can be a translation key) and the value a function returning a date.\n * @param {string} props.eventsResource Optional. The name of the resource for events. Defaults to `events`\n */\nexport var EventFilterAside = function (props) {\n    var authorResource = props.authorResource, className = props.className, dateFilters = props.dateFilters, eventResource = props.eventResource;\n    var classes = useStyles(props);\n    return (React.createElement(Card, { className: classnames(classes.root, className) },\n        React.createElement(CardContent, { className: classes.cardContent },\n            React.createElement(FilterLiveSearch, { source: \"q\" }),\n            React.createElement(EventDateFilterList, { dateFilters: dateFilters }),\n            React.createElement(ResourceFilterList, { eventResource: eventResource }),\n            React.createElement(AuthorFilterList, { authorResource: authorResource }))));\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                order: -1,\n                width: '19em',\n                marginRight: '1em',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                display: 'none',\n            },\n            _a),\n        cardContent: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n    });\n}, {\n    name: 'RaEventFilterAside',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { ListContextProvider, ListView, useListController, } from 'react-admin';\nimport { useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TimelineList } from '../Timeline';\nimport { EventListFilter } from './EventListFilter';\nimport { EventFilterAside } from './EventFilterAside';\nimport { EventDatagrid } from './EventDatagrid';\n/**\n * A pre-configured List for event logs. Provides adequate views and filters.\n * @param props\n */\nexport var EventList = function (props) {\n    var authorResource = props.authorResource, dateFilters = props.dateFilters, eventResource = props.eventResource, rest = __rest(props, [\"authorResource\", \"dateFilters\", \"eventResource\"]);\n    var controllerProps = useListController(__assign({ sort: { field: 'date', order: 'desc' } }, props));\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListView, __assign({ component: isSmall ? EventListSmallContent : undefined, bulkActionButtons: false, aside: isSmall ? undefined : (React.createElement(EventFilterAside, { authorResource: authorResource, dateFilters: dateFilters, eventResource: eventResource })), filters: isSmall ? (React.createElement(EventListFilter, { authorResource: authorResource, dateFilters: dateFilters, eventResource: eventResource })) : undefined }, rest, controllerProps), isSmall ? (React.createElement(TimelineList, null)) : (React.createElement(EventDatagrid, { authorResource: authorResource })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        paddingLeft: theme.spacing(0.5),\n        paddingRight: theme.spacing(0.5),\n        width: '100%',\n    },\n}); });\nexport var EventListSmallContent = function (props) {\n    var classes = useStyles();\n    return React.createElement(\"div\", __assign({}, props, { className: classes.root }));\n};\n","import * as React from 'react';\nimport { cloneElement, isValidElement, } from 'react';\nimport { DialogTitle, IconButton, makeStyles, } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate } from 'react-admin';\nvar FormDialogTitle = function (props) {\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var defaultTitle = props.defaultTitle, onClose = props.onClose, record = props.record, title = props.title;\n    return (React.createElement(DialogTitle, { id: \"edit-dialog-title\" },\n        isValidElement(title)\n            ? cloneElement(title, { record: record })\n            : title\n                ? translate(title, { _: title })\n                : defaultTitle,\n        React.createElement(IconButton, { \"aria-label\": translate('ra.action.close'), className: classes.closeButton, onClick: onClose },\n            React.createElement(CloseIcon, null))));\n};\nexport default FormDialogTitle;\nvar useStyles = makeStyles(function (theme) { return ({\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n}); }, {\n    name: 'RaFormDialogTitle',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, Fragment, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from 'react-admin';\n/**\n * The Toolbar displayed at the bottom of AccordionForm.\n *\n * @example Always enable the <SaveButton />\n *\n * import * as React from 'react';\n * import { Edit } from 'react-admin';\n * import { AccordionForm, AccordionFormToolbar } from '@react-admin/ra-form-layout';\n *\n * const CommentEdit = props => (\n *     <Edit {...props}>\n *         <AccordionForm toolbar={<AccordionFormToolbar alwaysEnableSaveButton={true} />}>\n *             ....\n *         </AccordionForm>\n *     </Edit>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\n * @prop {boolean} alwaysEnableSaveButton Force enabling the <SaveButton>. It it's not defined, the <SaveButton> will be enabled using the `pristine` prop (disabled if pristine, enabled otherwise).\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\n * @prop {string} width Apply the mobile or the desktop classes depending on the width. Pass \"xs\" to display the mobile version.\n *\n */\nvar AccordionFormToolbar = function (props) {\n    var _a;\n    var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n    var classes = useStyles(props);\n    // Use form pristine to enable or disable the save button\n    // if alwaysEnableSaveButton is undefined\n    var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine);\n    return (React.createElement(Fragment, null,\n        React.createElement(Toolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: basePath,\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: record,\n                    resource: resource,\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nAccordionFormToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    width: PropTypes.string,\n};\nAccordionFormToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {},\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaAccordionFormToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\nexport default withWidth({ initialWidth: 'xs' })(AccordionFormToolbar);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport classnames from 'classnames';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormInput, useTranslate } from 'react-admin';\nimport { useForm } from 'react-final-form';\nimport get from 'lodash/get';\nimport { Accordion as MuiAccordion, AccordionDetails as MuiAccordionDetails, AccordionSummary as MuiAccordionSummary, Typography, } from '@material-ui/core';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nvar DefaultAccordion = withStyles(function (theme) { return ({\n    root: {\n        width: theme.spacing(55),\n        border: '1px solid rgba(0, 0, 0, .125)',\n        boxShadow: 'none',\n        '&:not(:last-child)': {\n            borderBottom: 0,\n        },\n        '&:before': {\n            display: 'none',\n        },\n        '&$expanded:last-child': {\n            marginBottom: theme.spacing(2),\n        },\n    },\n    expanded: {},\n}); })(MuiAccordion);\nvar DefaultAccordionSummary = withStyles({\n    root: {\n        backgroundColor: 'rgba(0, 0, 0, .03)',\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\n        marginBottom: -1,\n        minHeight: 56,\n        '&$expanded': {\n            minHeight: 56,\n        },\n    },\n    content: {\n        '&$expanded': {\n            margin: '12px 0',\n        },\n    },\n    expanded: {},\n})(MuiAccordionSummary);\nvar DefaultAccordionDetails = withStyles(function (theme) { return ({\n    root: {\n        padding: theme.spacing(2),\n    },\n}); })(MuiAccordionDetails);\n/**\n * Renders children (Inputs) inside a material-ui <Accordion> element without a Card style.\n *\n * To be used as child of a <SimpleForm> or a <TabbedForm> element.\n *\n * @param {string} label The main label used as the accordion summary. Appears in red when the accordion has errors\n * @param {string} secondary Optional. The secondary label used as the accordion summary\n * @param {boolean} fullWidth Optional. If true, the Accordion take sthe entire form width.\n * @param {string} className Optional. A class name to style the underlying <Accordion>.\n * @param {object} classes Optional. Override styles of the <Accordion>, the <AccordionSummary> and the <AccordionDetails> internal components.\n * @param {boolean} defaultExpanded Optional. Set to true to have the accordion expanded by default.\n * @param {boolean} disabled Optional. If true, the accordion will be displayed in a disabled state.\n * @param {boolean} square Optional. If true, rounded corners are disabled.\n * @param {elementType} TransitionComponent Optional. If true, rounded corners are disabled.\n * @param {object} TransitionProps Optional. If true, rounded corners are disabled.\n *\n * @example\n *\n * import { Edit, TextField, TextInput, DateInput, SelectInput, ArrayInput, SimpleForm, SimpleFormIterator, BooleanInput } from 'react-admin';\n * import { AccordionSection } from '@react-admin/ra-form-layout';\n *\n * const CustomerEdit: FC = props => (\n *     <Edit {...props} component=\"div\">\n *         <SimpleForm>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"first_name\" validate={required()} />\n *             <TextInput source=\"last_name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput source=\"sex\" choices={sexChoices} />\n *             <AccordionSection label=\"Occupations\">\n *                 <ArrayInput source=\"occupations\" label=\"\">\n *                     <SimpleFormIterator>\n *                         <TextInput source=\"name\" validate={required()} />\n *                         <DateInput source=\"from\" validate={required()} />\n *                         <DateInput source=\"to\" />\n *                     </SimpleFormIterator>\n *                 </ArrayInput>\n *             </AccordionSection>\n *             <AccordionSection label=\"Preferences\">\n *                 <SelectInput\n *                     source=\"language\"\n *                     choices={languageChoices}\n *                     defaultValue=\"en\"\n *                 />\n *                 <BooleanInput source=\"dark_theme\" />\n *                 <BooleanInput source=\"accepts_emails_from_partners\" />\n *             </AccordionSection>\n *         </SimpleFormForm>\n *     </Edit>\n * );\n *\n */\nvar AccordionSection = function (props) {\n    var _a;\n    var _b = props.Accordion, Accordion = _b === void 0 ? DefaultAccordion : _b, _c = props.AccordionDetails, AccordionDetails = _c === void 0 ? DefaultAccordionDetails : _c, _d = props.AccordionSummary, AccordionSummary = _d === void 0 ? DefaultAccordionSummary : _d, children = props.children, className = props.className, _e = props.defaultExpanded, defaultExpanded = _e === void 0 ? false : _e, _f = props.disabled, disabled = _f === void 0 ? false : _f, _g = props.fullWidth, fullWidth = _g === void 0 ? false : _g, label = props.label, secondary = props.secondary, square = props.square, TransitionComponent = props.TransitionComponent, TransitionProps = props.TransitionProps, \n    // injected by the parent\n    basePath = props.basePath, margin = props.margin, record = props.record, resource = props.resource, variant = props.variant, rest = __rest(props, [\"Accordion\", \"AccordionDetails\", \"AccordionSummary\", \"children\", \"className\", \"defaultExpanded\", \"disabled\", \"fullWidth\", \"label\", \"secondary\", \"square\", \"TransitionComponent\", \"TransitionProps\", \"basePath\", \"margin\", \"record\", \"resource\", \"variant\"]);\n    var classes = useStyles(props);\n    var _h = useState(defaultExpanded), expanded = _h[0], setExpanded = _h[1];\n    var translate = useTranslate();\n    var form = useForm();\n    var handleChange = function () {\n        setExpanded(function (expanded) { return !expanded; });\n    };\n    var hasErrors = hasInputsWithError(children, form.getState().errors);\n    return (React.createElement(Accordion, __assign({}, rest, { expanded: expanded, onChange: handleChange, disabled: disabled, square: square, className: classnames(className, classes.root, (_a = {},\n            _a[classes.fullWidth] = fullWidth,\n            _a)), TransitionComponent: TransitionComponent, TransitionProps: TransitionProps }),\n        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel-\" + label + \"-content\", id: \"panel-\" + label + \"-header\", className: classes.summary },\n            React.createElement(Typography, { color: hasErrors ? 'error' : 'initial', className: classes.heading }, translate(label, { _: label })),\n            React.createElement(Typography, { className: classes.secondaryHeading }, secondary && translate(secondary, { _: secondary }))),\n        React.createElement(AccordionDetails, { className: classes.detail }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        }))));\n};\nAccordionSection.defaultProps = {\n    classes: {},\n};\nexport var hasInputsWithError = function (children, errors) {\n    return React.Children.toArray(children).some(function (input) { return React.isValidElement(input) && get(errors, input.props.source); });\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    summary: {},\n    detail: {\n        display: 'block',\n    },\n    fullWidth: {\n        width: '100%',\n    },\n}); }, {\n    name: 'RaAccordionSection',\n});\nexport default AccordionSection;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Accordion, AccordionDetails, AccordionSummary, Typography, } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormGroupContextProvider, FormInput, useFormGroup, useTranslate, } from 'react-admin';\nimport { useFormState } from 'react-final-form';\n/**\n * Renders children (Inputs) inside a material-ui <Accordion> element.\n *\n * To be used as child of an <AccordionForm> element.\n *\n * @param {string} label The main label used as the accordion summary. Appears in red when the accordion has errors\n * @param {string} secondary Optional. The secondary label used as the accordion summary\n * @param {boolean} defaultExpanded Optional. Set to true to have the accordion expanded by default (except if autoClose = true on the parent)\n * @param {boolean} disabled Optional. If true, the accordion will be displayed in a disabled state.\n * @param {boolean} square Optional. If true, rounded corners are disabled.\n *\n * @example\n *\n * import { Edit, TextField, TextInput, DateInput, SelectInput, ArrayInput, SimpleFormIterator, BooleanInput } from 'react-admin';\n * import { AccordionForm, AccordionFormPanel } from '@react-admin/ra-form-layout';\n *\n * // don't forget the component=\"div\" prop on the main component to disable the main Card\n * const CustomerEdit: FC = props => (\n *     <Edit {...props} component=\"div\">\n *         <AccordionForm>\n *             <AccordionFormPanel label=\"Identity\" defaultExpanded>\n *                 <TextField source=\"id\" />\n *                 <TextInput source=\"first_name\" validate={required()} />\n *                 <TextInput source=\"last_name\" validate={required()} />\n *                 <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *                 <SelectInput source=\"sex\" choices={sexChoices} />\n *             </AccordionFormPanel>\n *             <AccordionFormPanel label=\"Occupations\">\n *                 <ArrayInput source=\"occupations\" label=\"\">\n *                     <SimpleFormIterator>\n *                         <TextInput source=\"name\" validate={required()} />\n *                         <DateInput source=\"from\" validate={required()} />\n *                         <DateInput source=\"to\" />\n *                     </SimpleFormIterator>\n *                 </ArrayInput>\n *             </AccordionFormPanel>\n *             <AccordionFormPanel label=\"Preferences\">\n *                 <SelectInput\n *                     source=\"language\"\n *                     choices={languageChoices}\n *                     defaultValue=\"en\"\n *                 />\n *                 <BooleanInput source=\"dark_theme\" />\n *                 <BooleanInput source=\"accepts_emails_from_partners\" />\n *             </AccordionFormPanel>\n *         </AccordionForm>\n *     </Edit>\n * );\n */\nvar AccordionFormPanel = function (props) {\n    return (React.createElement(FormGroupContextProvider, { name: props.label },\n        React.createElement(AccordionFormPanelView, __assign({}, props))));\n};\nvar AccordionFormPanelView = function (props) {\n    var children = props.children, _a = props.defaultExpanded, defaultExpanded = _a === void 0 ? false : _a, _b = props.disabled, disabled = _b === void 0 ? false : _b, label = props.label, secondary = props.secondary, square = props.square, \n    // injected by the parent\n    _c = props.autoClose, \n    // injected by the parent\n    autoClose = _c === void 0 ? false : _c, basePath = props.basePath, margin = props.margin, onChange = props.onChange, record = props.record, resource = props.resource, expanded = props.expanded, variant = props.variant;\n    var classes = useStyles();\n    var _d = useState(defaultExpanded), innerExpanded = _d[0], setExpanded = _d[1];\n    var handleChange = function () {\n        setExpanded(function (expanded) { return !expanded; });\n    };\n    var accordionParams = autoClose\n        ? {\n            expanded: expanded,\n            onChange: onChange,\n        }\n        : {\n            expanded: innerExpanded,\n            onChange: handleChange,\n        };\n    var translate = useTranslate();\n    var formGroup = useFormGroup(label);\n    var submitFailed = useFormState(UseFormStateOptions).submitFailed;\n    var hasErrors = formGroup.invalid && (formGroup.touched || submitFailed);\n    return (React.createElement(Accordion, __assign({}, accordionParams, { disabled: disabled, square: square }),\n        React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null), \"aria-controls\": \"panel-\" + label + \"-content\", id: \"panel-\" + label + \"-header\" },\n            React.createElement(Typography, { color: hasErrors ? 'error' : 'initial', className: classes.heading }, translate(label, { _: label })),\n            React.createElement(Typography, { className: classes.secondaryHeading }, secondary && translate(secondary, { _: secondary }))),\n        React.createElement(AccordionDetails, { className: classes.detail }, React.Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        }))));\n};\nvar UseFormStateOptions = {\n    subscription: {\n        submitFailed: true,\n    },\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    detail: {\n        display: 'block',\n    },\n}); }, {\n    name: 'RaAccordionFormPanel',\n});\nexport default AccordionFormPanel;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Stepper, StepButton, StepLabel, Step, } from '@material-ui/core';\n/**\n * Progress component rendering a stepper on top of the wizard\n *\n * @prop {number} currentStep Current selected step index\n * @prop {Function} onStepClick Action called when a step is clicked\n * @prop {React.ReactElement[]} steps Array of step elements\n */\nexport var WizardProgress = function (_a) {\n    var currentStep = _a.currentStep, onStepClick = _a.onStepClick, steps = _a.steps, rest = __rest(_a, [\"currentStep\", \"onStepClick\", \"steps\"]);\n    var handleStepClick = function (index) { return function () { return onStepClick(index); }; };\n    return (React.createElement(Stepper, __assign({ activeStep: currentStep }, rest), steps.map(function (step, index) {\n        var label = React.cloneElement(step, { intent: 'label' });\n        return (React.createElement(Step, { key: \"step_\" + index }, !onStepClick ? (React.createElement(StepLabel, null, label)) : (React.createElement(StepButton, { onClick: handleStepClick(index) }, label))));\n    })));\n};\nWizardProgress.defaultProps = {\n    currentStep: 0,\n    steps: [],\n};\n","var raFormLayoutLanguageEnglish = {\n    'ra-form-layout': {\n        action: {\n            next: 'Next',\n            previous: 'Previous',\n        },\n    },\n};\nexport default raFormLayoutLanguageEnglish;\n","import { mergeTranslations, } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nimport englishMessages from 'ra-language-english';\nimport { raRealTimeLanguageEnglish, } from '../../../ra-realtime';\nimport { raRelationshipsLanguageEnglish, } from '../../../ra-relationships';\nimport { raTreeLanguageEnglish, } from '../../../ra-tree';\nimport { raSearchLanguageEnglish, } from '../../../ra-search';\nimport { raAuditLogLanguageEnglish, } from '../../../ra-audit-log';\nimport { raFormLayoutLanguageEnglish, } from '../../../ra-form-layout';\nimport cloneDeep from 'lodash/cloneDeep';\nexport var defaultMessages = {\n    en: mergeTranslations(raRealTimeLanguageEnglish, raRelationshipsLanguageEnglish, raTreeLanguageEnglish, raSearchLanguageEnglish, raAuditLogLanguageEnglish, raFormLayoutLanguageEnglish, englishMessages),\n};\n/**\n * Returns a configured i18n provider for the ra-enterprise modules.\n *\n * This i18n provider is based on polyglot 'polyglotI18nProvider'.\n *\n * What is pre-configured?\n * - English translations for '@react-admin/ra-realtime'\n * - English translations for '@react-admin/ra-relationships'\n * - English  translations for '@react-admin/ra-tree'\n * - English translations for '@react-admin/ra-search'\n * - English translations for '@react-admin/ra-audit-log'\n * - English translations for '@react-admin/ra-form-layout'\n *\n * @param {EnterpriseTranslationMessages} messages Your own translations including overrides of the pre-configured modules.\n * @param {string} defaultLocale The default locale. Default to 'en' for English.\n *\n * @returns An i18n provider configured to work with all the ra-enterprise modules.\n *\n * @example Add a new language (Spanish) and use it as default (es)\n *\n * import spanishMessages from '@blackbox-vision/ra-language-spanish';\n * import { buildI18nProvider } from '@react-admin/ra-enterprise';\n *\n * const messages = {\n *     es: {\n *         ...spanishMessages,\n *         'ra-relationships': {\n *              duallistinput: {\n *                  availableItems: 'Elementos disponibles',\n *                  selectedItems: 'Elementos seleccionados',\n *             },\n *         },\n *         // Configure the other modules here\n *     },\n * };\n *\n * const i18nProvider = buildI18nProvider(messages, 'es');\n *\n */\nexport function buildI18nProvider(messages, defaultLocale) {\n    if (defaultLocale === void 0) { defaultLocale = 'en'; }\n    var mergedMessages = cloneDeep(defaultMessages);\n    if (messages != null) {\n        Object.keys(messages).forEach(function (locale) {\n            mergedMessages[locale] = mergeTranslations(mergedMessages[locale] || {}, messages[locale]);\n        });\n    }\n    return polyglotI18nProvider(function (locale) { return mergedMessages[locale]; }, defaultLocale);\n}\n","export var raRelationshipsLanguageEnglish = {\n    'ra-relationships': {\n        duallistinput: {\n            select: 'Select',\n            unselect: 'Unselect',\n            availableItems: 'Available items',\n            selectedItems: 'Selected items',\n        },\n    },\n};\n","export var raAuditLogLanguageEnglish = {\n    'ra-audit-log': {\n        event: {\n            create: 'Created %{resource} %{name}',\n            delete: 'Deleted %{resource} %{name}',\n            deleteMany: 'Deleted %{resource} %{ids}',\n            update: 'Updated %{resource} %{name}',\n            updateMany: 'Updated %{resource} %{ids}',\n        },\n        inline_event: {\n            create: 'created %{resource} %{name}',\n            delete: 'deleted %{resource} %{name}',\n            deleteMany: 'deleted %{resource} %{ids}',\n            update: 'updated %{resource} %{name}',\n            updateMany: 'updated %{resource} %{ids}',\n        },\n        record_event: {\n            create: 'Created this resource',\n            delete: 'Deleted this resource',\n            update: 'Updated field %{fields} |||| Updated fields %{fields}',\n        },\n        record_many_fields_events: {\n            create: 'Created this resource',\n            delete: 'Deleted this resource',\n            update: 'Updated field %{fields} and 1 other |||| Updated fields %{fields} and %{smart_count} others',\n        },\n        author: '{fullName}',\n        period_filters: {\n            today: 'Today',\n            this_week: 'This week',\n            this_month: 'This month',\n            this_quarter: 'This quarter',\n        },\n        filter: {\n            author: 'By author',\n            date: 'By date',\n            resource: 'By resource',\n        },\n        fields: {\n            author: 'Author',\n            action: 'Action',\n            date: 'Date',\n            resource: 'Resource',\n        },\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { AppBar as DefaultAppBar } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LanguageSwitcher, ToggleThemeButton, } from '../../../../ra-preferences';\n/**\n * An <AppBar> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A theme button to switch between light and dark mode (from @react-admin/ra-preferences)\n * - A language button to switch between the locales (from @react-admin/ra-preferences)\n *\n * It uses the same API as the <AppBar> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {Array<Languages>} languages A list of languages.\n * @param {Languages} languages[] A object describing the language.\n * @param {string} languages[].locale The locale. It should match those passed to the i18nProvider.\n * @param {string} languages[].name The language name.\n * @param {string} defaultLanguage The default language name. It should correspond to one of the passed languages name. Default to the first language name in the languages props.\n *\n * @example Enable the theme switcher for light and dark mode\n *\n * // Nothing to do, the <AppBar> is used in the default <Admin>\n * // and the theme switcher is enabled by default\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Enable the languages switcher\n *\n * import { Admin, AppBar, Layout } from '@react-admin/ra-enterprise';\n * import polyglotI18nProvider from 'ra-i18n-polyglot';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const languages = [\n *     { locale: 'en', name: 'English' },\n *     { locale: 'fr', name: 'Français' },\n * ];\n *\n * const messages = {\n *     en: [englishMessages],\n *     fr: [frenchMessages],\n * };\n *\n * const i18nProvider = polyglotI18nProvider(\n *     locale => mergeTranslations(...messages[locale]),\n *     'en'\n * );\n *\n * function CustomAppBar(props) {\n *     return <AppBar languages={languages} {...props} />;\n * };\n *\n * function CustomLayout(props) {\n *     return <Layout appBar={CustomAppBar} {...props} />;\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin\n *             dataProvider={dataProvider}\n *             i18nProvider={i18nProvider}\n *             layout={CustomLayout}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var AppBar = function (props) {\n    var languages = props.languages, defaultLanguage = props.defaultLanguage, rest = __rest(props, [\"languages\", \"defaultLanguage\"]);\n    var classes = useStyles(rest);\n    return (React.createElement(DefaultAppBar, __assign({}, props, { elevation: 1 }),\n        React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" }),\n        React.createElement(ToggleThemeButton, null),\n        languages && languages.length > 0 ? (React.createElement(LanguageSwitcher, { languages: languages, defaultLanguage: defaultLanguage || languages[0].name })) : null,\n        props.children));\n};\nAppBar.defaultProps = {\n    languages: [],\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n}); }, {\n    name: 'RaEnterpriseAppBar',\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Breadcrumb as DefaultBreadcrumb, ResourceBreadcrumbItems, } from '../../../../ra-navigation';\n/**\n * A <Breadcrumb> component for ra-enterprise\n *\n */\nexport var Breadcrumb = function (props) {\n    return (React.createElement(DefaultBreadcrumb, __assign({}, props),\n        React.createElement(ResourceBreadcrumbItems, null)));\n};\nBreadcrumb.defaultProps = {};\n","import { useContext } from 'react';\nimport { StateContext, DispatchContext } from './TourProvider';\n/**\n * Hook that handles the tour\n *\n * @returns {[StateType, DispatchStateType]} Current tour state, Tour control functions\n *\n * @example // Accessing tour state\n *\n * import { useTour } from '@react-admin/ra-tour';\n * import tours from './tours';\n *\n * const StepIndicator = () => {\n *     const [{ running, stepIndex, activeTour }] = useTour();\n *     return (\n *         <span>Step ${stepIndex} / ${tours[activeTour].steps.length}</span>\n *     );\n * };\n *\n * @example // Controlling tour\n *\n * import { useTour } from '@react-admin/ra-tour';\n *\n * const StartTourButton = ({ tourName }) => {\n *     const [_, { start, stop, next, previous }] = useTour();\n *     return (\n *         <button onClick={() => start(tourName)}>HELP</button>\n *     );\n * };\n */\nvar useTour = function () {\n    var stateContextHook = useContext(StateContext);\n    var dispatchContextHook = useContext(DispatchContext);\n    if (dispatchContextHook === undefined || stateContextHook === undefined) {\n        throw new Error('useTour must be used within a TourProvider');\n    }\n    return [stateContextHook, dispatchContextHook];\n};\nexport default useTour;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport useTour from '../useTour';\n/**\n * Tooltip UI Component that displays one step of a tour\n *\n * @param {Step} step The step to display\n * @param {number} index The index of the step within its tour\n * @param {boolean} isLastStep True if the current step is the last step of its tour\n * @param {boolean} continuous If true, clicking next on last step brings back to first step\n * @param {Object} tooltipProps Props passed down to the tooltip container\n * @param {Object} backProps Props passed down to the back button container\n * @param {Object} closeProps Props passed down to the close button container\n * @param {Object} primaryProps Props passed down to the primary button (next/last) container\n * @param {Object} skipProps Props passed down to the skip button container\n */\nvar Tooltip = function (_a) {\n    var tooltipProps = _a.tooltipProps, continuous = _a.continuous, backProps = _a.backProps, closeProps = _a.closeProps, primaryProps = _a.primaryProps, skipProps = _a.skipProps, index = _a.index, isLastStep = _a.isLastStep, step = _a.step;\n    var _b = useTour(), _ = _b[0], _c = _b[1], cancel = _c.cancel, stop = _c.stop, next = _c.next, previous = _c.previous;\n    var content = step.content, hideBackButton = step.hideBackButton, locale = step.locale, showSkipButton = step.showSkipButton, title = step.title, styles = step.styles;\n    var output = {\n        primary: locale.close,\n        back: null,\n        skip: null,\n        close: null,\n    };\n    if (continuous) {\n        if (isLastStep) {\n            output.primary = locale.last;\n        }\n        else {\n            output.primary = locale.next;\n        }\n    }\n    if (showSkipButton && !isLastStep) {\n        output.skip = (React.createElement(Button, __assign({}, skipProps, { onClick: function () {\n                cancel();\n            }, \"data-testid\": \"tour-tooltip-skip-button\" }), locale.skip));\n    }\n    if (!hideBackButton && index > 0) {\n        output.back = (React.createElement(Button, __assign({}, backProps, { onClick: function () {\n                previous();\n            }, \"data-testid\": \"tour-tooltip-back-button\" }), locale.back));\n    }\n    output.close = (React.createElement(IconButton, __assign({}, closeProps, { title: locale.close, \"aria-label\": locale.close, onClick: function () {\n            cancel();\n        }, size: \"small\", style: { position: 'absolute', top: 10, right: 10 } }),\n        React.createElement(CloseIcon, null)));\n    return (React.createElement(\"div\", __assign({ key: \"JoyrideTooltip\", style: styles.tooltip }, tooltipProps),\n        React.createElement(\"div\", { style: styles.tooltipContainer },\n            output.close,\n            title && React.createElement(\"h4\", { style: styles.tooltipTitle }, title),\n            content && React.createElement(\"div\", { style: styles.tooltipContent }, content)),\n        React.createElement(\"div\", { style: styles.tooltipFooter },\n            output.skip,\n            output.back,\n            React.createElement(Button, __assign({ variant: \"contained\", color: \"primary\" }, primaryProps, { \"data-testid\": \"tour-tooltip-primary-button\", onClick: function () {\n                    if (isLastStep) {\n                        stop();\n                        return;\n                    }\n                    next();\n                } }), output.primary))));\n};\nexport default Tooltip;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport Joyride from 'react-joyride';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport useTour from './useTour';\nimport Tooltip from './ui/Tooltip';\nimport { useTranslate } from 'react-admin';\nvar ErrorFallback = function (_a) {\n    var error = _a.error, componentStack = _a.componentStack, resetErrorBoundary = _a.resetErrorBoundary;\n    process.env.NODE_ENV !== 'production' &&\n        console.warn('Joyride error', {\n            error: error,\n            componentStack: componentStack,\n            resetErrorBoundary: resetErrorBoundary,\n        });\n    return null;\n};\n/**\n * Component that handles the UI part of the tour.\n *\n * Uses react-joyride\n *\n * @param {TourType} tours List of supported tours\n * @param {any} joyrideProps Props passed down to react-joyride\n */\nvar Tour = function (_a) {\n    var tours = _a.tours, joyrideProps = _a.joyrideProps;\n    var _b = useTour(), _c = _b[0], running = _c.running, stepIndex = _c.stepIndex, activeTour = _c.activeTour, stop = _b[1].stop;\n    var translate = useTranslate();\n    var defaultJoyRideProps = {\n        locale: {\n            back: translate('ra.action.back', { _: 'Back' }),\n            close: translate('ra.action.close', { _: 'Close' }),\n            last: translate('ra-tour.action.last', { _: 'Last' }),\n            next: translate('ra-tour.action.next', { _: 'Next' }),\n            open: translate('ra-tour.action.open', { _: 'Open the dialog' }),\n            skip: translate('ra-tour.action.skip', { _: 'Skip' }),\n        },\n    };\n    if (!activeTour) {\n        return null;\n    }\n    var steps = tours[activeTour].steps;\n    if (!running) {\n        return null;\n    }\n    var stepJoyrideProps = steps[stepIndex]\n        ? steps[stepIndex].joyrideProps\n        : {};\n    return (React.createElement(ErrorBoundary, { FallbackComponent: ErrorFallback, onError: function (error, componentStack) {\n            process.env.NODE_ENV !== 'production' &&\n                console.warn('Joyride error', { error: error, componentStack: componentStack });\n        }, onReset: function () {\n            stop();\n        } },\n        React.createElement(Joyride, __assign({ showProgress: true, showSkipButton: true, disableCloseOnEsc: true, disableOverlayClose: true, spotlightClicks: true, tooltipComponent: Tooltip }, defaultJoyRideProps, joyrideProps, stepJoyrideProps, { steps: steps.map(function (step) { return (__assign(__assign({}, step), { content: typeof step.content === 'string'\n                    ? translate(step.content, {\n                        _: step.content,\n                    })\n                    : step.content })); }), run: true, stepIndex: stepIndex, continuous: true }))));\n};\nexport default Tour;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar reducer = function (state, action) {\n    switch (action.type) {\n        case 'start': {\n            return __assign(__assign({}, state), { running: true, stepIndex: 0, activeTour: action.payload.tour });\n        }\n        case 'pause': {\n            return __assign(__assign({}, state), { running: false });\n        }\n        case 'stop': {\n            return __assign(__assign({}, state), { running: false, stepIndex: 0, activeTour: null });\n        }\n        case 'next': {\n            if (!state.activeTour) {\n                return state;\n            }\n            return __assign(__assign({}, state), { running: true, stepIndex: state.stepIndex + 1 });\n        }\n        case 'previous': {\n            if (!state.activeTour) {\n                return state;\n            }\n            if (state.stepIndex - 1 < 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { running: true, stepIndex: state.stepIndex - 1 });\n        }\n        default: {\n            throw new Error(\"Unhandled action type: \" + action.type);\n        }\n    }\n};\nexport default reducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { useReducer, createContext } from 'react';\nimport Tour from './Tour';\nimport reducer from './reducer';\nexport var StateContext = createContext({\n    running: false,\n    stepIndex: 0,\n    activeTour: null,\n});\nexport var DispatchContext = createContext({});\n/**\n * Wait until getter returns something not null, tries every {interval}ms for {maxTries} times.\n *\n * @param {() => any} getter Function to call repetively\n * @param {number} interval Time between each function call in ms. Defaults to 100.\n * @param {number} maxTries Maximum number of function call before failing. Defaults to 10.\n *\n * @returns {any} What getter returns\n */\nvar waitAndReturn = function (getter, interval, maxTries) {\n    if (interval === void 0) { interval = 100; }\n    if (maxTries === void 0) { maxTries = 10; }\n    return new Promise(function (resolve, reject) {\n        var iterations;\n        iterations = 0;\n        var getterInterval = setInterval(function () {\n            var result = getter();\n            iterations++;\n            if (result) {\n                clearInterval(getterInterval);\n                resolve(result);\n            }\n            if (iterations > maxTries) {\n                reject();\n            }\n        }, interval);\n    });\n};\n/**\n * A provider that handles tour logic and injects UI\n *\n * @example\n *   import tours from './tours';\n *\n *   const MyLayout: FC = props => (\n *       <TourProvider\n *           tours={tours}\n *       >\n *           <Layout {...props} />\n *       </TourProvider>\n *   );\n *\n * @param {{ [id: string]: TourType }} tours List of supported tours\n * @param {Object} tools Tools to be injected into before and after functions\n * @param {StateType} initialState State the tour should be initialized to\n * @param {any} joyrideProps Props passed down to react-joyride\n */\nvar TourProvider = function (_a) {\n    var _b = _a.tours, tours = _b === void 0 ? {} : _b, _c = _a.tools, tools = _c === void 0 ? {} : _c, _d = _a.joyrideProps, joyrideProps = _d === void 0 ? {} : _d, initialState = _a.initialState, children = _a.children;\n    var _e = useReducer(reducer, initialState || {\n        running: false,\n        stepIndex: 0,\n        activeTour: null,\n    }), state = _e[0], dispatch = _e[1];\n    var actions = {\n        start: function (tour) { return __awaiter(void 0, void 0, void 0, function () {\n            var before, step, stepBefore, target;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        before = tours[tour].before;\n                        if (!before) return [3 /*break*/, 2];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        step = tours[tour].steps[0];\n                        stepBefore = step.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 3:\n                        target = _a.sent();\n                        if (!stepBefore) return [3 /*break*/, 5];\n                        return [4 /*yield*/, stepBefore(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        dispatch({ type: 'start', payload: { tour: tour } });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        stop: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, stepAfter, target, globalAfter;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        stepAfter = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!stepAfter) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, stepAfter(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        globalAfter = tours[state.activeTour].after;\n                        if (!globalAfter) return [3 /*break*/, 5];\n                        return [4 /*yield*/, globalAfter(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        dispatch({ type: 'stop' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        cancel: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var globalAfter;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        globalAfter = tours[state.activeTour].after;\n                        if (!globalAfter) return [3 /*break*/, 2];\n                        return [4 /*yield*/, globalAfter(__assign(__assign({}, tools), { state: __assign({}, state) }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        dispatch({ type: 'stop' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        next: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, after, target, nextStep_1, before, nextTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        after = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!after) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, after(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        if (!(tours[state.activeTour].steps.length > state.stepIndex + 1)) return [3 /*break*/, 6];\n                        dispatch({ type: 'pause' });\n                        nextStep_1 = tours[state.activeTour].steps[state.stepIndex + 1];\n                        before = nextStep_1.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(nextStep_1.target);\n                            })];\n                    case 4:\n                        nextTarget = _a.sent();\n                        if (!before) return [3 /*break*/, 6];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign(__assign({}, state), { stepIndex: state.stepIndex + 1 }), target: nextTarget }))];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'next' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        previous: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var step, after, target, previousStep_1, before, previousTarget;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        step = tours[state.activeTour].steps[state.stepIndex];\n                        after = step.after;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(step.target);\n                            })];\n                    case 1:\n                        target = _a.sent();\n                        if (!after) return [3 /*break*/, 3];\n                        dispatch({ type: 'pause' });\n                        return [4 /*yield*/, after(__assign(__assign({}, tools), { state: __assign({}, state), target: target }))];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        if (!(state.stepIndex - 1 >= 0)) return [3 /*break*/, 6];\n                        dispatch({ type: 'pause' });\n                        previousStep_1 = tours[state.activeTour].steps[state.stepIndex - 1];\n                        before = previousStep_1.before;\n                        return [4 /*yield*/, waitAndReturn(function () {\n                                return document.querySelector(previousStep_1.target);\n                            })];\n                    case 4:\n                        previousTarget = _a.sent();\n                        if (!before) return [3 /*break*/, 6];\n                        return [4 /*yield*/, before(__assign(__assign({}, tools), { state: __assign(__assign({}, state), { stepIndex: state.stepIndex - 1 }), target: previousTarget }))];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        dispatch({ type: 'previous' });\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n    };\n    return (React.createElement(StateContext.Provider, { value: state },\n        React.createElement(DispatchContext.Provider, { value: actions },\n            React.createElement(Tour, { joyrideProps: joyrideProps, tours: tours }),\n            children)));\n};\nexport default TourProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport inflection from 'inflection';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport { getResources, useTranslate } from 'react-admin';\nimport { MenuItemCategory, MultiLevelMenu, } from '../../../../ra-navigation';\nexport var Menu = function (_a) {\n    var hasDashboard = _a.hasDashboard, props = __rest(_a, [\"hasDashboard\"]);\n    var translate = useTranslate();\n    var resources = useSelector(getResources, shallowEqual);\n    return (React.createElement(MultiLevelMenu, __assign({ variant: \"categories\" }, props),\n        hasDashboard && (React.createElement(MenuItemCategory, { name: \"dashboard\", to: \"/\", exact: true, label: \"Dashboard\", icon: React.createElement(DashboardIcon, null) })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemCategory, { key: resource.name, name: resource.name, to: \"/\" + resource.name, exact: true, label: translatedResourceName(resource, translate), icon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null) })); })));\n};\nMenu.propTypes = {\n    hasDashboard: PropTypes.bool,\n};\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Layout as DefaultLayout, useNotify, useRedirect, useRefresh, useDataProvider, } from 'react-admin';\nimport { useDispatch } from 'react-redux';\nimport { SidebarOpenPreferenceSync, usePreferences, } from '../../../../ra-preferences';\nimport { AppLocationContext } from '../../../../ra-navigation';\nimport { TourProvider } from '../../../../ra-tour';\nimport { AppBar } from './AppBar';\nimport { Menu } from './Menu';\n/**\n * A <Layout> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A breadcrumb on every pages based on the resources (from @react-admin/ra-navigation)\n * - A synchronized sidebar which saves its open/close state in the preferences (from @react-admin/ra-preferences)\n *\n * It uses the same API as the <Layout> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {object} appBar The customized <AppBar>. Default to the @react-admin/ra-enterprise <AppBar>.\n * @param {object} breadcrumb The customized <Breadcrumb>. Default to the @react-admin/ra-enterprise <Breadcrumb>.\n * @param {object} sidebar The customized <Sidebar>. Default to the @react-admin/ra-enterprise <Sidebar>.\n * @param {object} tours An object describing the tours. Default to an empty object.\n *\n * @example Customize the <Layout> main elements (the <AppBar>, the <Breadcrumb> and the <Sidebar>)\n *\n * import {\n *     Admin,\n *     AppBar,\n *     Breadcrumb,\n *     Layout,\n *     Sidebar\n * } from '@react-admin/ra-enterprise';\n *\n * function CustomAppBar(props) {\n *     return <AppBar {...props} />;\n * };\n *\n * function CustomBreadcrumb(props) {\n *     return (\n *         <Breadcrumb {...props}>\n *             // You custom beadcrumb.\n *             // See @react-admin/ra-navigation for more details about breadcrumbs.\n *         </Breadcrumb>\n *     );\n * };\n *\n * function CustomSidebar(props) {\n *     return <Sidebar {...props} />;\n * };\n *\n * function CustomLayout(props) {\n *     return (\n *         <Layout\n *             appBar={CustomAppBar}\n *             breadcrumb={CustomBreadcrumb}\n *             sidebar={CustomSidebar}\n *             {...props}\n *         />\n *     );\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin\n *              dataProvider={dataProvider}\n *              layout={CustomLayout}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Activate the tour (from @react-admin/ra-tour)\n *\n * import { Admin, Layout } from '@react-admin/ra-enterprise';\n *\n * const tours = {\n *     example: {\n *         steps: [\n *             // Put your tour steps here\n *         ]\n *     }\n * };\n *\n * function CustomLayout(props) {\n *     return (\n *         <Layout tours={tours} {...props} />\n *     );\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var Layout = function (props) {\n    var appBar = props.appBar, dashboard = props.dashboard, sidebar = props.sidebar, menu = props.menu, tours = props.tours, rest = __rest(props, [\"appBar\", \"dashboard\", \"sidebar\", \"menu\", \"tours\"]);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var dataProvider = useDataProvider();\n    var dispatch = useDispatch();\n    var _a = usePreferences(RA_TOUR_PREFERENCE_KEY), tourPreferences = _a[0], setTourPreferences = _a[1];\n    return (React.createElement(AppLocationContext, { hasDashboard: !!dashboard },\n        React.createElement(TourProvider, { initialState: tourPreferences, tours: tours, tools: {\n                notify: notify,\n                redirect: redirect,\n                refresh: refresh,\n                dataProvider: dataProvider,\n                setTourPreferences: setTourPreferences,\n                dispatch: dispatch,\n            } },\n            React.createElement(React.Fragment, null,\n                React.createElement(SidebarOpenPreferenceSync, null),\n                React.createElement(DefaultLayout, __assign({ appBar: appBar, sidebar: sidebar, menu: menu }, rest), props.children)))));\n};\nLayout.defaultProps = {\n    appBar: AppBar,\n    menu: Menu,\n    tours: {},\n};\nvar RA_TOUR_PREFERENCE_KEY = '@react-admin/ra-tour';\n","import merge from 'lodash/merge';\n/**\n * Returns a configured theme from type method that builds a theme from a palette type (\"light\" or \"dark\").\n *\n * It should be used for example to build the method \"themeFromType\"\n * required by the <PreferencesBasedThemeProvider> of '@react-admin/ra-preferences'.\n *\n * @param {ThemeOptions} theme The base theme\n * @param {ThemeOptions} lightTheme A special theme for the light mode\n * @param {ThemeOptions} darkTheme A special theme for the dark mode\n *\n * @returns A function that builds the theme from a palette type (\"light\" or \"dark\").\n *\n */\nexport var buildThemeFromTypeMethod = function (theme, lightTheme, darkTheme) {\n    return function (type) {\n        return merge({}, theme, type === 'dark' ? defaultDarkTheme : defaultLightTheme, type === 'dark' ? darkTheme || {} : lightTheme || {});\n    };\n};\nvar overrides = {\n    RaTopToolbar: {\n        root: {\n            alignItems: 'center',\n            minHeight: 'auto',\n            paddingTop: 0,\n            width: '100%',\n        },\n    },\n    RaListToolbar: {\n        root: {\n            alignItems: 'center',\n            paddingTop: 0,\n            width: '100%',\n        },\n        actions: {\n            alignItems: 'center',\n            minHeight: 'auto',\n            paddingTop: 0,\n            width: '100%',\n        },\n        toolbar: {\n            minHeight: 'auto',\n            width: '100%',\n        },\n    },\n    RaSidebar: {\n        drawerPaper: {\n            width: 96,\n        },\n        fixed: {\n            zIndex: 1200,\n        },\n    },\n};\nexport var defaultDarkTheme = {\n    palette: {\n        type: 'dark',\n        primary: {\n            main: '#90caf9',\n        },\n        background: {\n            default: '#313131',\n        },\n    },\n    overrides: overrides,\n};\nexport var defaultLightTheme = {\n    palette: {\n        type: 'light',\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            main: '#283593',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n    },\n    overrides: overrides,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport merge from 'lodash/merge';\nimport { PreferencesBasedThemeProvider } from '../../../ra-preferences';\nimport { reducer as tree } from '../../../ra-tree';\nimport { reducer as locks } from '../../../ra-realtime';\nimport { theme as navigationTheme } from '../../../ra-navigation';\nimport { Admin as DefaultAdmin, } from 'react-admin';\nimport { buildI18nProvider } from './i18nProvider';\nimport { Layout } from './layout';\nimport { buildThemeFromTypeMethod } from './themes';\n/**\n * An <Admin> component for ra-enterprise which pre-configures the enterprise modules.\n *\n * What is pre-configured?\n * - A Breadcrumb based on resources (from @react-admin/ra-navigation)\n * - A light and dark mode for the theme (from @react-admin/ra-preferences)\n * - A preference based sidebar state (from @react-admin/ra-preferences)\n * - The possibility to lock a resource (from @react-admin/ra-realtime)\n *\n * It uses the same API as the <Admin> component from react-admin,\n * and add new props based on the enterprise edition.\n *\n * @param {object} customReducers Augment the data provider with your own reducers (optional). The tree and the locks reducers are added by default.\n * @param {object} i18nProvider Replace the ra-enterprise i18nProvider (optional). The default one enables the translations from ra-enterprise.\n * @param {ThemeOptions} theme The main theme. It will be merged with the light or the dark theme.\n * @param {ThemeOptions} lightTheme Override the light mode with your own light theme (optional).\n * @param {ThemeOptions} darkTheme Override the dark mode with your own dark theme (optional).\n *\n * @example Basic usage\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Override the dark theme\n *\n * import { Admin } from '@react-admin/ra-enterprise';\n *\n * const darkTheme = {\n *     palette: {\n *         type: 'dark', // Don't forget to specify the palette type\n *         primary: {\n *             main: '#90caf9',\n *         },\n *         secondary: {\n *             main: '#ffff00',\n *         },\n *     },\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * function App(props) {\n *     return (\n *         <Admin dataProvider={dataProvider} darkTheme={darkTheme}>\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n * @example Pass your own translations\n *\n * import { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\n *\n * const messages = {\n *     en: {\n *         // Put your english translations here\n *     },\n *     fr: {\n *         // Put your french translations here\n *     },\n * };\n *\n * const dataProvider = {\n *     // Connect to your API\n * };\n *\n * const i18nProvider = buildI18nProvider(messages)\n *\n * function App(props) {\n *     return (\n *         <Admin\n *             dataProvider={dataProvider}\n *             i18nProvider={i18nProvider}\n *         >\n *             // Put your resources here\n *         </Admin>\n *     );\n * }\n *\n */\nexport var Admin = function (props) {\n    var customReducers = props.customReducers, darkTheme = props.darkTheme, i18nProvider = props.i18nProvider, lightTheme = props.lightTheme, theme = props.theme, rest = __rest(props, [\"customReducers\", \"darkTheme\", \"i18nProvider\", \"lightTheme\", \"theme\"]);\n    var mergedCustomReducers = merge({}, {\n        tree: tree,\n        locks: locks,\n    }, customReducers);\n    return (React.createElement(PreferencesBasedThemeProvider, { themeFromType: buildThemeFromTypeMethod(merge({}, navigationTheme, theme), lightTheme, darkTheme) },\n        React.createElement(DefaultAdmin, __assign({ i18nProvider: i18nProvider || buildI18nProvider(), customReducers: mergedCustomReducers }, rest))));\n};\nAdmin.defaultProps = {\n    layout: Layout,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { FilterContext, FilterForm as RaFilterForm, useListContext, } from 'react-admin';\nimport get from 'lodash/get';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core';\n/**\n * A customized version of react-admin FilterForm component which takes less\n * space when there are no filters.\n */\nexport var FilterForm = function (props) {\n    var _a;\n    var filtersProps = props.filters, initialValues = props.initialValues;\n    var _b = useListContext(props).displayedFilters, displayedFilters = _b === void 0 ? {} : _b;\n    var classes = useStyles();\n    var filters = useContext(FilterContext) || filtersProps;\n    var shownFilters = filters.filter(function (filterElement) {\n        return filterElement.props.alwaysOn ||\n            displayedFilters[filterElement.props.source] ||\n            typeof get(initialValues, filterElement.props.source) !==\n                'undefined';\n    });\n    return (React.createElement(RaFilterForm, __assign({}, props, { className: classnames((_a = {},\n            _a[classes.emptyForm] = shownFilters.length === 0,\n            _a)) })));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    emptyForm: {\n        minHeight: theme.spacing(2),\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterContext, ListToolbar as RaListToolbar, } from 'react-admin';\nimport { FilterForm } from './FilterForm';\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, [\"classes\", \"filters\", \"actions\"]);\n    var classes = useStyles(props);\n    return Array.isArray(filters) ? (React.createElement(FilterContext.Provider, { value: filters },\n        React.createElement(Toolbar, { className: classes.toolbar },\n            React.createElement(\"span\", null),\n            actions &&\n                React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions }), actions.props))),\n        React.createElement(FilterForm, null))) : (React.createElement(React.Fragment, null,\n        React.createElement(Toolbar, { className: classes.toolbar }, actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))),\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' }))));\n};\nListToolbar.propTypes = __assign(__assign({}, RaListToolbar.propTypes), { breadcrumb: PropTypes.element });\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a.width = '100%',\n            _a),\n        actions: (_b = {\n                alignItems: 'center',\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b.width = '100%',\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nexport default React.memo(ListToolbar);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, useResourceDefinition, CreateButton, ExportButton, ListActions as RaListActions, TopToolbar, FilterContext, FilterButton, } from 'react-admin';\nimport { Breadcrumb } from '../layout';\nexport var ListActions = function (props) {\n    var breadcrumb = props.breadcrumb, className = props.className, exporter = props.exporter, filtersProp = props.filters, rest = __rest(props, [\"breadcrumb\", \"className\", \"exporter\", \"filters\"]);\n    var _a = useListContext(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;\n    var resource = useResourceContext(rest);\n    var filters = useContext(FilterContext) || filtersProp;\n    var hasCreate = useResourceDefinition(rest).hasCreate;\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        breadcrumb,\n        filtersProp\n            ? cloneElement(filtersProp, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            })\n            : filters && React.createElement(FilterButton, null),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = __assign(__assign({}, RaListActions.propTypes), { breadcrumb: PropTypes.element });\nListActions.defaultProps = {\n    breadcrumb: React.createElement(Breadcrumb, { variant: \"actions\" }),\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { defaultExporter, useListContext, getListControllerProps, useVersion, sanitizeListRestProps, Empty, ListView as RaListView, Title, Pagination as DefaultPagination, BulkDeleteButton, BulkActionsToolbar, } from 'react-admin';\nimport { ListActions } from './ListActions';\nimport ListToolbar from './ListToolbar';\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, bulkActionButtons = props.bulkActionButtons, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, empty = props.empty, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, filters = props.filters, pagination = props.pagination, title = props.title, hasList = props.hasList, hasEdit = props.hasEdit, hasShow = props.hasShow, hasCreate = props.hasCreate, syncWithLocation = props.syncWithLocation, rest = __rest(props, [\"actions\", \"aside\", \"bulkActionButtons\", \"children\", \"classes\", \"className\", \"component\", \"empty\", \"exporter\", \"filters\", \"pagination\", \"title\", \"hasList\", \"hasEdit\", \"hasShow\", \"hasCreate\", \"syncWithLocation\"]);\n    var controllerProps = getListControllerProps(props); // deprecated, to be removed in v4\n    var listContext = useListContext(props);\n    var classes = useStyles(props);\n    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;\n    var version = useVersion();\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, listContext)),\n                aside && cloneElement(aside, listContext))));\n    };\n    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;\n    return (React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeListRestProps(rest)),\n        React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n        shouldRenderEmptyPage && empty !== false\n            ? cloneElement(empty, listContext)\n            : renderList()));\n};\nListView.propTypes = RaListView.propTypes;\nvar DefaultBulkActionButtons = function (props) { return (React.createElement(BulkDeleteButton, __assign({}, props))); };\nListView.defaultProps = {\n    actions: React.createElement(ListActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps, useListContext, FilterButton, } from 'react-admin';\nimport { FilterForm } from './FilterForm';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\n/**\n * A customized version of the Filter button/form combo from react-admin which\n * uses our custom FilterForm. This fixes the issue where the filter form is taking\n * too much vertical space even though there are no filters.\n *\n * @example\n *\n * const PostFilter = (props) => (\n *     <Filter {...props}>\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *         <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\n *     </Filter>\n * );\n *\n * export const PostList = (props) => (\n *     <List {...props} filters={<PostFilter />}>\n *         ...\n *     </List>\n * );\n *\n */\nexport var Filter = function (props) {\n    var classes = useStyles(props);\n    var _a = useListContext(props), resource = _a.resource, showFilter = _a.showFilter, hideFilter = _a.hideFilter, setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"children\", \"variant\"]);\n        return (React.createElement(FilterButton, __assign({ className: classes.button, resource: resource, filters: React.Children.toArray(children), showFilter: showFilter, displayedFilters: displayedFilters, filterValues: filterValues }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, children = props.children, rest = __rest(props, [\"classes\", \"context\", \"children\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilter.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n};\n","export const CHANGE_THEME = 'change-theme'\nexport const UPDATE_DASHBOARD = 'dashboard/update'\n","import { Action } from 'redux'\nimport { CHANGE_THEME } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\n\nexport type ThemeState = {\n  theme: {\n    darkMode: 'light' | 'dark'\n  }\n}\n\nconst initialState = {\n  darkMode:\n    localStorage.getItem(`${identity}.darkMode`) === 'dark' ? 'dark' : 'light',\n}\n\nfunction themeReducer(state = initialState, action: Action<any>) {\n  if (action.type === CHANGE_THEME) {\n    if (state.darkMode === 'dark')\n      localStorage.setItem(`${identity}.darkMode`, 'light')\n    else localStorage.setItem(`${identity}.darkMode`, 'dark')\n    return {\n      ...state,\n      darkMode: state.darkMode === 'dark' ? 'light' : 'dark',\n    }\n  }\n  return state\n}\n\nexport default themeReducer\n","export enum ResourceName {\n  ACCESS_DATES = 'access-dates',\n  ACCESSES = 'accesses',\n  ACCESS_USINGS = 'access-usings',\n  BOOKINGS = 'bookings',\n  ENGINES = 'engines',\n  ENTRANCES = 'entrances',\n  EVENTS = 'events',\n  COMPANIES = 'companies',\n  CUSTOMERS = 'customers',\n  LOGS = 'logs',\n  OBJECTS = 'objects',\n  PALMS = 'palms',\n  ROLES = 'roles',\n  PERMISSIONS = 'permissions',\n  PASSAGES = 'passages',\n  STATS_OVERALL_VIEW_LIST = 'stats-overall-view-list',\n  STATS_OVERALL_VIEW = 'stats-overall-view',\n  TICKETS = 'tickets',\n  TICKET_LOGS = 'ticket-logs',\n  TRIBUNES = 'tribunes',\n  BLOCKS = 'blocks',\n  SEATS = 'seats',\n  USERS = 'users',\n  VARIANTS = 'variants',\n  DEVICE_CATEGORIES = 'device-categories',\n  DETECTORS = 'detectors',\n  CAMERAS = 'cameras',\n  CAMERA_SERVERS = 'camera-servers',\n  JOBS = 'jobs',\n}\n","import { DataProvider } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) => Promise.resolve({ data: {}, total: 0 }),\n} as DataProvider\n\nexport default provider\n","export enum AccessActivePeriodStartingOptions {\n  NO_LIMIT = 'NO_LIMIT',\n  PURCHASE_DATE = 'PURCHASE_DATE',\n  FIRST_USE = 'FIRST_USE',\n}\n","export enum AccessBonuses {\n  N = 'N',\n  Y = 'Y',\n  Z = 'Z',\n  D = 'D',\n}\n","export enum DayOfWeek {\n  Sunday = 'Sunday',\n  Monday = 'Monday',\n  Tuesday = 'Tuesday',\n  Wednesday = 'Wednesday',\n  Thursday = 'Thursday',\n  Friday = 'Friday',\n  Saturday = 'Saturday',\n}\n","import { CreateResult, DataProvider, UpdateManyResult } from 'react-admin'\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateMany: async (resource, params): Promise<UpdateManyResult> =>\n    Promise.resolve({\n      data: [1],\n    }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create: async (resource, params): Promise<CreateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { AccessDto } from '../../dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../enum/AccessBonuses'\nimport { DayOfWeek } from '../../enum/DayOfWeek'\n\nconst fakeAccesses: AccessDto[] = [\n  {\n    id: 1,\n    name: 'access1',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    name: 'access2',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    name: 'access3',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    name: 'access4',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    name: 'access5',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    name: 'access6',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    name: 'access7',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    name: 'access8',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    name: 'access9',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    name: 'access10',\n    bonus: AccessBonuses.N,\n    entranceId: 0,\n    allowReenter: false,\n    multipleEntry: false,\n    multiple: 0,\n    usePriority: 0,\n    isTicketUnlockedWithNextDay: false,\n    releaseTime: '2021-07-15T08:50:27.2054',\n    releaseDayOfWeek: DayOfWeek.Friday,\n    releaseDayOfMonth: 1,\n    delay: '',\n    activePeriod: '',\n    activePeriodStartingFrom: AccessActivePeriodStartingOptions.FIRST_USE,\n    variantsIds: [],\n    accessDatesIds: [],\n    createdById: 0,\n    modifiedById: 0,\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeAccesses, total: fakeAccesses.length }),\n} as DataProvider\n\nexport default provider\n","export enum BlockType {\n  NUMBERED = 'NUMBERED',\n  NOT_NUMBERED = 'NOT_NUMBERED',\n  DYNAMIC = 'DYNAMIC',\n}\n","import { DataProvider } from 'react-admin'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BlockType } from '../../enum/BlockType'\n\nconst fakeBlocks: BlockDto[] = [\n  {\n    id: 0,\n    name: 'Sektor 1',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 1,\n    name: 'Sektor 2',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 2,\n    name: 'Sektor 3',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 3,\n    name: 'Sektor 4',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 4,\n    name: 'Sektor 5',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 5,\n    name: 'Sektor 6',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 6,\n    name: 'Sektor 7',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 1,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 7,\n    name: 'Sektor 8',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 2,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 8,\n    name: 'Sektor 9',\n    type: BlockType.NUMBERED,\n    code: '1234',\n    tribuneId: 2,\n    bookingsIds: [12, 13],\n    seatsIds: [1, 2, 3, 4, 5],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeBlocks, total: fakeBlocks.length }),\n} as DataProvider\n\nexport default provider\n","export enum BookingDisabledOption {\n  ADMIN = 'ADMIN',\n  BAN = 'BAN',\n  STORNO = 'STORNO',\n  MISTAKE = 'MISTAKE',\n}\n","export enum BookingType {\n  NORMAL = 'NORMAL',\n  ABO = 'ABO',\n  INFIX = 'INFIX',\n  SERVICE = 'SERVICE',\n  POINTS = 'POINTS',\n}\n","import { DataProvider, UpdateResult } from 'react-admin'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { BookingDisabledOption } from '../../enum/BookingDisabledOption'\nimport { BookingType } from '../../enum/BookingType'\n\nconst fakeBookingsList: BookingDto[] = [\n  {\n    id: 1,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    type: BookingType.NORMAL,\n    disabled: BookingDisabledOption.STORNO,\n    activeFrom: '2021-07-15T08:50:27.2054',\n    activeTo: '2021-07-15T08:50:27.2054',\n    eventId: 0,\n    seatId: 0,\n    blockId: null,\n    customerId: 0,\n    variantId: 0,\n    ticketsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeBookingsList, total: fakeBookingsList.length }),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update: async (resource, params): Promise<UpdateResult<unknown>> =>\n    Promise.resolve({\n      data: { id: 1 },\n    }),\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeBookingsList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum CustomerDocumentType {\n  OTHER = 'OTHER',\n  ID_CARD = 'ID_CARD',\n  PASSPORT = 'PASSPORT',\n  STUDENT_CARD = 'STUDENT_CARD',\n  SCHOOL_ID = 'SCHOOL_ID',\n  DRIVING_LICENSE = 'DRIVING_LICENSE',\n}\n","export enum Gender {\n  MALE = 'MALE',\n  FEMALE = 'FEMALE',\n}\n","import { DataProvider } from 'react-admin'\nimport { CompanyDto } from '../../dto/company.dto'\n\nconst fakeCompanies: CompanyDto[] = [\n  {\n    id: 0,\n    name: '0',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 1,\n    name: '1',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 2,\n    name: '2',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 3,\n    name: '3',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 4,\n    name: '4',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 5,\n    name: '5',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 6,\n    name: '6',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 7,\n    name: '7',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 8,\n    name: '8',\n    usersIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 9,\n    name: '9',\n    usersIds: [],\n    eventsIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeCompanies, total: fakeCompanies.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { CustomerDto } from '../../dto/customer.dto'\nimport { CustomerDocumentType } from '../../enum/CustomerDocumentType'\nimport { Gender } from '../../enum/Gender'\n\nconst fakeCustomers: CustomerDto[] = [\n  {\n    id: 1,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 2,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 3,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 4,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 5,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 6,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 7,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 8,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 9,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n  {\n    id: 10,\n    type: 'MANUAL',\n    firstname: 'Jan',\n    lastname: 'Kowalski',\n    company: 'ABC',\n    birthdate: '2021-07-15T08:50:27.2054',\n    documentType: CustomerDocumentType.ID_CARD,\n    pesel: '12345678901',\n    documentNumber: '',\n    nationality: 'PL',\n    gender: Gender.MALE,\n    bookingsIds: [],\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeCustomers.find((c) => `${c.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","export enum EventStatus {\n  INACTIVE = 'INACTIVE',\n  ACTIVE = 'ACTIVE',\n  IN_TRANSITION = 'IN_TRANSITION',\n}\n","import { DataProvider } from 'react-admin'\nimport { DetectorDto } from '../../dto/device/detector/detector.dto'\n\nconst fakeDetectors: DetectorDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeDetectors, total: fakeDetectors.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { DeviceCategoryDto } from '../../dto/device-category/device-category.dto'\n\nconst fakeDeviceCategories: DeviceCategoryDto[] = [\n  {\n    id: 1,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 2,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 3,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 4,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 5,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 6,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 7,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 8,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 9,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n  {\n    id: 10,\n    name: 'device category fake name',\n    parentId: 1,\n    devicesIds: [1, 2, 3, 4, 5],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeDeviceCategories,\n      total: fakeDeviceCategories.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\n\nconst fakeEngines: EngineDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEngines, total: fakeEngines.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EntranceDto } from '../../dto/entrance.dto'\n\nconst fakeEntrances: EntranceDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEntrances, total: fakeEntrances.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { EventStatus } from '../../enum/EventStatus'\n\nconst fakeEvents: EventDto[] = [\n  {\n    id: 1,\n    name: 'Event1',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 2,\n    name: 'Event2',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 3,\n    name: 'Event3',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 4,\n    name: 'Event4',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 5,\n    name: 'Event5',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 6,\n    name: 'Event6',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 7,\n    name: 'Event7',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 8,\n    name: 'Event8',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 9,\n    name: 'Event9',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n  {\n    id: 10,\n    name: 'Event10',\n    dateStart: '2021-07-15T08:50:27.2054',\n    dateEnd: '2021-07-15T08:50:27.2054',\n    status: EventStatus.INACTIVE,\n    externalId: '1',\n    infix: 'abc123',\n    objectsIds: [1, 2, 3],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeEvents, total: fakeEvents.length }),\n} as DataProvider\n\nexport default provider\n","export enum TicketType {\n  K = 'K',\n  M = 'M',\n  Z = 'Z',\n  N = 'N',\n  P = 'P',\n  U = 'U',\n  R = 'R',\n  GENERATE = 'GENERATE',\n}\n","import { DataProvider } from 'react-admin'\nimport { ExtendedLog } from '../../dto/extended-log'\n\nconst fakeLogs: ExtendedLog[] = [\n  {\n    id: 1,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52815,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 2,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 52816,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 3,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 1111,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 4,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 11112,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 5,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 16612,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 6,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 167782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 7,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 122782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 8,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 189782,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 9,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 183332,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n  {\n    id: 10,\n    date: '2021-07-15T08:50:27.2054',\n    ticketCode: 'A',\n    bookingId: 656565,\n    deviceName: 'Device name',\n    text: 'MF',\n    color: 'transparent',\n    cameraId: 1,\n    cameraDescription: 'Camera name',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeLogs, total: fakeLogs.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { ObjectDto } from '../../dto/object.dto'\n\nconst fakeObjects: ObjectDto[] = [\n  {\n    id: 0,\n    name: 'Stadion 0',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 1,\n    name: 'Stadion 1',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 2,\n    name: 'Stadion 2',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 3,\n    name: 'Stadion 3',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 4,\n    name: 'Stadion 4',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 5,\n    name: 'Stadion 5',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 6,\n    name: 'Stadion 6',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 7,\n    name: 'Stadion 7',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 8,\n    name: 'Stadion 8',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n  {\n    id: 9,\n    name: 'Stadion 9',\n    tribunesIds: [],\n    eventsIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeObjects, total: fakeObjects.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\n\nconst fakePalms: PalmDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePalms, total: fakePalms.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\n\nconst fakePassages: PassageDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePassages, total: fakePassages.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { PermissionDto } from '../../dto/permission.dto'\n\nconst fakePermissions: PermissionDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakePermissions, total: fakePermissions.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { RoleDto } from '../../dto/role/role.dto'\n\nconst fakeRoles: RoleDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeRoles, total: fakeRoles.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { SeatDto } from '../../dto/seat.dto'\n\nconst fakeSeats: SeatDto[] = [\n  {\n    id: 1,\n    rowAlias: 'Rząd 1',\n    numberAlias: '1',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 2,\n    rowAlias: 'Rząd 1',\n    numberAlias: '2',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 3,\n    rowAlias: 'Rząd 1',\n    numberAlias: '3',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 4,\n    rowAlias: 'Rząd 1',\n    numberAlias: '4',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 5,\n    rowAlias: 'Rząd 1',\n    numberAlias: '5',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 6,\n    rowAlias: 'Rząd 1',\n    numberAlias: '6',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 7,\n    rowAlias: 'Rząd 1',\n    numberAlias: '7',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n  {\n    id: 8,\n    rowAlias: 'Rząd 1',\n    numberAlias: '8',\n    blockId: 0,\n    bookingsIds: [12, 13],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeSeats, total: fakeSeats.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { EventOverallView } from '../../stats/overall-view/list/event-overall-view'\n\nconst fakeStatsOverallViewList: EventOverallView[] = [\n  {\n    id: 1,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 2,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 3,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 4,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n  {\n    id: 5,\n    name: '',\n    dateStart: '2021-07-13T15:11:06.771267',\n    dateEnd: '2021-07-13T15:11:06.771267',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({\n      data: fakeStatsOverallViewList,\n      total: fakeStatsOverallViewList.length,\n    }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { DateTime } from '../../common/date-time'\nimport { OverallView } from '../../stats/overall-view/overall-view'\n\nconst fakeStatsOverallViewList: OverallView[] = [\n  {\n    id: 1,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 2,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 3,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 4,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n  {\n    id: 5,\n    eventName: '',\n    capacity: 0,\n    sold: 0,\n    entered: 0,\n    objects: [],\n    date: '01-01-2021T00:00.00' as DateTime,\n  },\n]\n\nconst provider = {\n  getOne: (resource, { id }: { id: string }) => {\n    const found = fakeStatsOverallViewList.find((v) => `${v.id}` === id)\n    if (found) {\n      return Promise.resolve({\n        data: found,\n      })\n    }\n    return Promise.reject(new Error())\n  },\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { TicketDto } from '../../dto/ticket.dto'\nimport { TicketType } from '../../enum/TicketType'\n\nconst fakeTickets: TicketDto[] = [\n  {\n    id: 1,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52815,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 2,\n    ticketCode: 'A',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52816,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 3,\n    ticketCode: '010000011492',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52817,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 4,\n    ticketCode: '411000006572',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52818,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 5,\n    ticketCode: '871000006824',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52819,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 6,\n    ticketCode: '370000011495',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52820,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 7,\n    ticketCode: '450000011501',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52821,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 8,\n    ticketCode: '630000011502',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52822,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 9,\n    ticketCode: '020000011503',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52823,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n  {\n    id: 10,\n    ticketCode: '310000011504',\n    ticketType: TicketType.K,\n    active: true,\n    bookingId: 52824,\n    accessUsingsIds: [],\n    createdAt: '2021-07-15T08:50:27.2054',\n    modifiedAt: '2021-07-15T08:50:27.2054',\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTickets, total: fakeTickets.length }),\n} as DataProvider\n\nexport default provider\n","export enum TribuneType {\n  MANUAL = 'MANUAL',\n  VIRTUAL = 'VIRTUAL',\n}\n","import { DataProvider } from 'react-admin'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { TribuneType } from '../../enum/TribuneType'\n\nconst fakeTribunes: TribuneDto[] = [\n  {\n    id: 0,\n    name: 'Trybuna A',\n    code: 'AB999',\n    type: TribuneType.VIRTUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 1,\n    name: 'Trybuna A',\n    code: 'AB000',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 2,\n    name: 'Trybuna B',\n    code: 'AB890',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 3,\n    name: 'Trybuna B',\n    code: 'AB777',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 4,\n    name: 'Trybuna A',\n    code: 'AB456',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 5,\n    name: 'Trybuna A',\n    code: 'AB333',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 6,\n    name: 'Trybuna C',\n    code: 'AB225',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 7,\n    name: 'Trybuna C',\n    code: 'AB222',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n  {\n    id: 8,\n    name: 'Trybuna D',\n    code: 'AB333',\n    type: TribuneType.MANUAL,\n    objectId: 4,\n    blocksIds: [],\n  },\n  {\n    id: 9,\n    name: 'Trybuna D',\n    code: 'AB555',\n    type: TribuneType.MANUAL,\n    objectId: 2,\n    blocksIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeTribunes, total: fakeTribunes.length }),\n} as DataProvider\n\nexport default provider\n","export enum DeviceDirection {\n  IN = 'IN',\n  OUT = 'OUT',\n  INFO = 'INFO',\n}\n","import { DataProvider } from 'react-admin'\nimport { UserDto } from '../../dto/user.dto'\n\nconst fakeUsers: UserDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeUsers, total: fakeUsers.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { VariantDto } from '../../dto/variant.dto'\n\nconst fakeVariants: VariantDto[] = [\n  {\n    id: 1,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 2,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 3,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 4,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 5,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 6,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 7,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 8,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 9,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n  {\n    id: 10,\n    name: '',\n    active: false,\n    bookingsIds: [],\n    accessesIds: [],\n  },\n]\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeVariants, total: fakeVariants.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { CameraDto } from '../../dto/device/camera/cameras/camera.dto'\n\nconst fakeCameras: CameraDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeCameras, total: fakeCameras.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { CameraServerDto } from '../../dto/device/camera/camera-servers/camera-server.dto'\n\nconst fakeServers: CameraServerDto[] = []\n\nconst provider = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getList: (resource, params) =>\n    Promise.resolve({ data: fakeServers, total: fakeServers.length }),\n} as DataProvider\n\nexport default provider\n","import { DataProvider } from 'react-admin'\n\nconst provider = {} as DataProvider\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport fakeAccessDatesProvider from './providers/fake-access-dates.provider'\nimport fakeAccessUsingsProvider from './providers/fake-access-usings.provider'\nimport fakeAccessesProvider from './providers/fake-accesses.provider'\nimport fakeBlocksProvider from './providers/fake-blocks.provider'\nimport fakeBookingsProvider from './providers/fake-bookings.provider'\nimport fakeCompaniesProvider from './providers/fake-companies.provider'\nimport fakeCustomersProvider from './providers/fake-customers.provider'\nimport fakeDetectorsProvider from './providers/fake-detectors.provider'\nimport fakeDeviceCategoriesProvider from './providers/fake-device-categories.provider'\nimport fakeEnginesProvider from './providers/fake-engines.provider'\nimport fakeEntrancesProvider from './providers/fake-entrances.provider'\nimport fakeEventsProvider from './providers/fake-events.provider'\nimport fakeLogsProvider from './providers/fake-logs.provider'\nimport fakeObjectsProvider from './providers/fake-objects.provider'\nimport fakePalmsProvider from './providers/fake-palms.provider'\nimport fakePassagesProvider from './providers/fake-passages.provider'\nimport fakePermissionsProvider from './providers/fake-permissions.provider'\nimport fakeRolesProvider from './providers/fake-roles.provider'\nimport fakeSeatsProvider from './providers/fake-seats.provider'\nimport fakeStatsOverallViewListProvider from './providers/fake-stats-overall-view-list.provider'\nimport fakeStatsOverallViewProvider from './providers/fake-stats-overall-view.provider'\nimport fakeTicketsProvider from './providers/fake-tickets.provider'\nimport fakeTribunesProvider from './providers/fake-tribunes.provider'\nimport fakeUsersProvider from './providers/fake-user.provider'\nimport fakeVariantsProvider from './providers/fake-variants.provider'\nimport fakeCamerasProvider from './providers/fake-cameras.provider'\nimport fakeCameraServersProvider from './providers/fake-camera-servers.provider'\nimport fakeJobsProvider from './providers/fake-jobs.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: fakeAccessDatesProvider,\n  [ResourceName.ACCESSES]: fakeAccessesProvider,\n  [ResourceName.ACCESS_USINGS]: fakeAccessUsingsProvider,\n  [ResourceName.BOOKINGS]: fakeBookingsProvider,\n  [ResourceName.CAMERAS]: fakeCamerasProvider,\n  [ResourceName.CAMERA_SERVERS]: fakeCameraServersProvider,\n  [ResourceName.COMPANIES]: fakeCompaniesProvider,\n  [ResourceName.CUSTOMERS]: fakeCustomersProvider,\n  [ResourceName.DETECTORS]: fakeDetectorsProvider,\n  [ResourceName.DEVICE_CATEGORIES]: fakeDeviceCategoriesProvider,\n  [ResourceName.ENGINES]: fakeEnginesProvider,\n  [ResourceName.ENTRANCES]: fakeEntrancesProvider,\n  [ResourceName.EVENTS]: fakeEventsProvider,\n  [ResourceName.LOGS]: fakeLogsProvider,\n  [ResourceName.OBJECTS]: fakeObjectsProvider,\n  [ResourceName.PALMS]: fakePalmsProvider,\n  [ResourceName.ROLES]: fakeRolesProvider,\n  [ResourceName.PERMISSIONS]: fakePermissionsProvider,\n  [ResourceName.PASSAGES]: fakePassagesProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: fakeStatsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: fakeStatsOverallViewListProvider,\n  [ResourceName.TRIBUNES]: fakeTribunesProvider,\n  [ResourceName.BLOCKS]: fakeBlocksProvider,\n  [ResourceName.SEATS]: fakeSeatsProvider,\n  [ResourceName.TICKETS]: fakeTicketsProvider,\n  [ResourceName.TICKET_LOGS]: fakeLogsProvider,\n  [ResourceName.TRIBUNES]: fakeTribunesProvider,\n  [ResourceName.BLOCKS]: fakeBlocksProvider,\n  [ResourceName.SEATS]: fakeSeatsProvider,\n  [ResourceName.USERS]: fakeUsersProvider,\n  [ResourceName.VARIANTS]: fakeVariantsProvider,\n  [ResourceName.JOBS]: fakeJobsProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import { AuthProvider } from 'react-admin'\n\nconst authProvider: AuthProvider = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(new Set([])),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 'no-auth',\n      fullName: 'no-auth',\n    }),\n}\n\nexport default authProvider\n","export type ContentRangeHeaderValue = `bytes ${number}-${number}/${number}`\n\nexport const contentRangeParser = (headerValue: ContentRangeHeaderValue) => {\n  if (!headerValue) {\n    // 'content-range' header should exist otherwise pagination doesn't work\n    return {\n      total: 0,\n    }\n  }\n  const summary = headerValue.split(' ')[1]\n  const split = summary.split('-')\n  const rangeFrom = split[0]\n  const summarySecondPartSplit = split[1].split('/')\n  const rangeTo = summarySecondPartSplit[0]\n  const total = summarySecondPartSplit[1]\n  return {\n    rangeFrom: parseInt(rangeFrom, 10),\n    rangeTo: parseInt(rangeTo, 10),\n    total: parseInt(total, 10),\n  }\n}\n","import { fetchUtils } from 'react-admin'\nimport { ContentRangeHeaderValue, contentRangeParser } from './header.parser'\n\nconst getToken = () => localStorage.getItem('token') as string\n\nconst baseHeaders: HeadersInit = {\n  'Content-Type': 'application/json',\n}\n\nconst authHeaders = (token = getToken()): HeadersInit => ({\n  ...baseHeaders,\n  Authorization: `Bearer ${token}`,\n})\n\nconst getWithHeaders = <T>(url: string, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'GET',\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<T>)\n\nconst postWithHeaders = <T, K>(url: string, body: T, headers: HeadersInit) =>\n  fetchUtils\n    .fetchJson(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: new Headers(headers),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const get = <T>(baseUrl: string, path?: string) =>\n  getWithHeaders<T>(`${baseUrl}${path || ''}`, authHeaders())\n\nexport const getWithToken = <T>(url: string, token: string) =>\n  getWithHeaders<T>(url, authHeaders(token))\n\nexport const getByConditions = <T>(\n  baseUrl: string,\n  path: string,\n): Promise<T[]> =>\n  getWithHeaders<T[]>(`${baseUrl}/GetByConditions/${path}`, authHeaders())\n\nexport const getWithPagination = <T>(baseUrl: string, path: string) =>\n  fetchUtils\n    .fetchJson(`${baseUrl}${path}`, {\n      method: 'GET',\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json, headers }) =>\n      Promise.resolve({\n        data: json as T,\n        range: contentRangeParser(\n          headers.get('content-range') as ContentRangeHeaderValue,\n        ),\n      }),\n    )\n\nexport const authPost = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, baseHeaders)\n\nexport const post = <T, K>(url: string, body: T) =>\n  postWithHeaders<T, K>(url, body, authHeaders())\n\nexport const patch = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PATCH',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n\nexport const put = <T, K>(baseUrl: string, body: T) =>\n  fetchUtils\n    .fetchJson(baseUrl, {\n      method: 'PUT',\n      body: JSON.stringify(body),\n      headers: new Headers(authHeaders()),\n    })\n    .then(({ json }) => json as Promise<K>)\n","const API_V1 = `${process.env.REACT_APP_API_BASE_URL}/api/v1`\nexport const AUTH_URL = `${API_V1}/Authorization/Authenticate`\nexport const ROLES_URL = `${API_V1}/User/GetRoles`\nexport const ACCESS_USINGS = `${API_V1}/ticketManagement/AccessUsings`\nexport const ACCESSES_URL = `${API_V1}/ticketManagement/Accesses`\nexport const ACCESS_DATES_URL = `${API_V1}/ticketManagement/AccessDates`\nexport const BOOKINGS_URL = `${API_V1}/ticketManagement/Bookings`\nexport const CUSTOMERS_URL = `${API_V1}/ticketManagement/Customers`\nexport const EVENTS_URL = `${API_V1}/ticketManagement/Events`\nexport const EXTENDED_LOGS_URL = `${API_V1}/ticketManagement/Logs/GetExtendedLogByConditions`\nexport const TICKETS_URL = `${API_V1}/ticketManagement/Tickets`\nexport const VARIANTS_URL = `${API_V1}/ticketManagement/Variants`\nexport const SEATS_URL = `${API_V1}/ticketManagement/Seats`\nexport const BLOCKS_URL = `${API_V1}/ticketManagement/Blocks`\nexport const TRIBUNES_URL = `${API_V1}/ticketManagement/Tribunes`\nexport const OBJECTS_URL = `${API_V1}/ticketManagement/Objects`\nexport const ENGINES_URL = `${API_V1}/deviceManagement/Engines`\nexport const PALMS_URL = `${API_V1}/deviceManagement/Palms`\nexport const ADMINISTRATOR_URL = `${API_V1}/Administrator`\nexport const ENTRANCES_URL = `${API_V1}/deviceManagement/Entrances`\nexport const DEVICE_CATEGORIES_URL = `${API_V1}/deviceManagement/DeviceCategories`\nexport const PASSAGES_URL = `${API_V1}/deviceManagement/Passages`\nexport const DETECTORS_URL = `${API_V1}/deviceManagement/Detectors`\nexport const CAMERAS_URL = `${API_V1}/deviceManagement/Cameras`\nexport const CAMERA_SERVERS_URL = `${API_V1}/deviceManagement/CameraServers`\nexport const JOBS_URL = `${API_V1}/Jobs`\n","import { AuthProvider } from 'react-admin'\nimport { authPost, getWithToken } from '../common/fetch.utils'\nimport { AuthDto } from '../dto/auth.dto'\nimport { AUTH_URL, ROLES_URL } from '../api-urls'\nimport { AuthRequest } from './auth.request'\nimport { RoleDto } from '../dto/role/role.dto'\n\nconst authProvider: AuthProvider = {\n  login: async ({ username, password }) => {\n    const { token } = await authPost<AuthRequest, AuthDto>(AUTH_URL, {\n      login: username,\n      password,\n    })\n    const roleDtos = await getWithToken<RoleDto[]>(ROLES_URL, token)\n    const roles = roleDtos.map((r) => r.name)\n    localStorage.setItem('username', username)\n    localStorage.setItem('token', token)\n    localStorage.setItem('roles', roles.join())\n  },\n  logout: () => {\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    localStorage.removeItem('roles')\n    return Promise.resolve()\n  },\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('username')\n      localStorage.removeItem('token')\n      localStorage.removeItem('roles')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: (): Promise<Set<string>> => {\n    const roles = localStorage.getItem('roles') as string\n    return Promise.resolve(new Set(roles?.split(',') || []))\n  },\n  getIdentity: () =>\n    Promise.resolve({\n      id: localStorage.getItem('username') as string,\n    }),\n}\n\nexport default authProvider\n","export type DateTime =\n  `${number}-${number}-${number}T${number}:${number}:${number}.${number}` // 2021-07-13T15:11:06.771267\n\nexport const formatDate = (value: string | undefined) => {\n  if (value == null || value === '') {\n    return ''\n  }\n  return value.includes('T') ? value.substring(0, 10) : value\n}\n\nexport const formatTime = (value: string | undefined) => {\n  if (value == null || value === '') {\n    return ''\n  }\n  return value.includes('T') ? value.substring(11, 16) : value\n}\n\nexport const ignoreTimezoneOffset = (value: Date) => {\n  const tzoffset = value.getTimezoneOffset() * 60000 //offset in milliseconds\n  return new Date(value.getTime() - tzoffset)\n}\n","import { PaginationPayload } from 'ra-core'\nimport { TicketAPISortPayload } from './ticket-api-get-list.params'\n\nexport const filterParamsComposer = (\n  lambdaParameter: string,\n  filterValues: any,\n  filterMapper: (\n    key: string,\n  ) => (lambdaParameter: string, value: any, otherValues: any) => string,\n): string => {\n  if (Object.keys(filterValues).length) {\n    const filterParams = Object.entries(filterValues)\n      .map(([key, value]) => {\n        const mapper = filterMapper(key)\n        return mapper(lambdaParameter, value as string, filterValues)\n      })\n      .filter((val) => val != null)\n    if (filterParams.length) {\n      return filterParams.reduce((p, c) => `${p}&&${c}`)\n    }\n  }\n  return 'true'\n}\n\nexport const queryParamsComposer = (\n  sort: TicketAPISortPayload,\n  pagination: PaginationPayload,\n  sortMapper: (key: string) => string,\n): string | null => {\n  const queryParams: string[] = []\n  if (sort) {\n    const { field, order } = sort\n    queryParams.push(`sortBy=${sortMapper(field)}`)\n    queryParams.push(`sortOrder=${order}`)\n  }\n  if (pagination) {\n    const { page, perPage } = pagination\n    queryParams.push(`rangeFrom=${page * perPage - perPage}`)\n    queryParams.push(`rangeTo=${page * perPage - 1}`)\n  }\n  return queryParams.length > 0\n    ? queryParams.reduce((p, c) => `${p}&${c}`)\n    : null\n}\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  accessId: (lambdaParameter, value) =>\n    `${lambdaParameter}.AccessId.Equals(${value as number})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'ad=>ad.Id',\n  activeFrom: 'ad=>ad.ActiveFrom',\n  activeTo: 'ad=>ad.ActiveTo',\n  timeFrom: 'ad=>ad.TimeFrom',\n  timeTo: 'ad=>ad.TimeTo',\n  type: 'ad=>ad.Type',\n}\n\nexport const mapSortAccessDatesParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ACCESS_DATES_URL } from '../api-urls'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { AccessDateDto } from '../dto/access-date.dto'\nimport { AccessDateTypes } from '../enum/AccessDateTypes'\nimport { DayOfWeek } from '../enum/DayOfWeek'\nimport filterMapper from './access-dates-filter.mapper'\nimport { mapSortAccessDatesParam } from './access-dates-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessDateDto>> => {\n    const filterParams = `ad=>${filterParamsComposer(\n      'ad',\n      filter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortAccessDatesParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessDateDto[]>(\n      `${ACCESS_DATES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<AccessDateDto>> => {\n    const data = await get<AccessDateDto>(ACCESS_DATES_URL, `/${id}`)\n    return {\n      data,\n    }\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<AccessDateDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessDateRequest, AccessDateDto>(\n      ACCESS_DATES_URL,\n      {\n        id: data.id,\n        activeFrom:\n          data.activeFrom !== previousData.activeFrom\n            ? (ignoreTimezoneOffset(\n                new Date(data.activeFrom),\n              ).toISOString() as DateTime)\n            : undefined,\n        activeTo:\n          data.activeTo !== previousData.activeTo\n            ? (ignoreTimezoneOffset(\n                new Date(data.activeTo),\n              ).toISOString() as DateTime)\n            : undefined,\n        type: data.type !== previousData.type ? data.type : undefined,\n        priority:\n          data.priority !== previousData.priority ? data.priority : undefined,\n        dayOfWeek:\n          data.dayOfWeek !== previousData.dayOfWeek\n            ? data.dayOfWeek\n            : undefined,\n        timeFrom:\n          data.timeFrom !== previousData.timeFrom ? data.timeFrom : undefined,\n        timeTo: data.timeTo !== previousData.timeTo ? data.timeTo : undefined,\n        accessId:\n          data.accessId !== previousData.accessId ? data.accessId : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<AccessDateDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateAccessDateRequest[], AccessDateDto[]>(\n      ACCESS_DATES_URL,\n      [\n        {\n          ...data,\n          activeFrom: ignoreTimezoneOffset(\n            new Date(data.activeFrom),\n          ).toISOString() as DateTime,\n          activeTo: ignoreTimezoneOffset(\n            new Date(data.activeTo),\n          ).toISOString() as DateTime,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n} as DataProvider\n\ninterface CreateAccessDateRequest {\n  readonly activeFrom: DateTime\n  readonly activeTo: DateTime\n  readonly type: AccessDateTypes\n  readonly priority?: number\n  readonly dayOfWeek?: DayOfWeek\n  readonly timeFrom: DateTime\n  readonly timeTo: DateTime\n  readonly accessId: number\n}\n\ninterface UpdateAccessDateRequest {\n  readonly id: Identifier\n  readonly activeFrom?: DateTime\n  readonly activeTo?: DateTime\n  readonly type?: AccessDateTypes\n  readonly priority?: number\n  readonly dayOfWeek?: DayOfWeek\n  readonly timeFrom?: DateTime\n  readonly timeTo?: DateTime\n  readonly accessId?: number\n}\n\nexport default provider\n","const mapping: Record<string, string> = {\n  id: 'au=>au.Id',\n  date: 'au=>au.Date',\n  direction: 'au=>au.Direction',\n  active: 'au=>au.Active',\n  ticketId: 'au=>au.TicketId',\n  accessId: 'au=>au.AccessId',\n}\n\nexport const mapSortAccessUsingsParam = (key: string) => mapping[key]\n","export enum Authority {\n  // User management\n  VIEW_USER_MANAGEMENT,\n\n  // Logs\n  VIEW_LOGS,\n\n  // Stats\n  VIEW_STATS_OVERALL_VIEW,\n\n  // Companies\n  VIEW_COMPANIES,\n  EDIT_COMPANIES,\n  CREATE_COMPANIES,\n\n  // Users\n  VIEW_USERS,\n  EDIT_USERS,\n  CREATE_USERS,\n\n  // Roles\n  VIEW_ROLES,\n  EDIT_ROLES,\n  CREATE_ROLES,\n\n  // Access dates\n  VIEW_ACCESS_DATES,\n  EDIT_ACCESS_DATES,\n  CREATE_ACCESS_DATES,\n\n  // Accesses\n  VIEW_ACCESSES,\n  EDIT_ACCESSES,\n  CREATE_ACCESSES,\n\n  // Access usings\n  VIEW_ACCESS_USINGS,\n  EDIT_ACCESS_USINGS,\n  CREATE_ACCESS_USINGS,\n\n  // Blocks\n  VIEW_BLOCKS,\n  EDIT_BLOCKS,\n  CREATE_BLOCKS,\n\n  // Bookings\n  VIEW_BOOKINGS,\n  EDIT_BOOKINGS,\n  CREATE_BOOKINGS,\n\n  // Customers\n  VIEW_CUSTOMERS,\n  EDIT_CUSTOMERS,\n  CREATE_CUSTOMERS,\n\n  // Events\n  VIEW_EVENTS,\n  EDIT_EVENTS,\n  CREATE_EVENTS,\n\n  // Objects\n  VIEW_OBJECTS,\n  EDIT_OBJECTS,\n  CREATE_OBJECTS,\n\n  // Schemes\n  VIEW_SCHEMES,\n  EDIT_SCHEMES,\n  CREATE_SCHEMES,\n\n  // Seats\n  VIEW_SEATS,\n  EDIT_SEATS,\n  CREATE_SEATS,\n\n  // Tickets\n  VIEW_TICKETS,\n  EDIT_TICKETS,\n  CREATE_TICKETS,\n\n  // Tribunes\n  VIEW_TRIBUNES,\n  EDIT_TRIBUNES,\n  CREATE_TRIBUNES,\n\n  // Variants\n  VIEW_VARIANTS,\n  EDIT_VARIANTS,\n  CREATE_VARIANTS,\n\n  // Cameras\n  VIEW_CAMERAS,\n  EDIT_CAMERAS,\n  CREATE_CAMERAS,\n\n  // Camera servers\n  VIEW_CAMERA_SERVERS,\n  EDIT_CAMERA_SERVERS,\n  CREATE_CAMERA_SERVERS,\n\n  // Engines\n  VIEW_ENGINES,\n  EDIT_ENGINES,\n  CREATE_ENGINES,\n\n  // Offline servers\n  VIEW_OFFLINE_SERVERS,\n  EDIT_OFFLINE_SERVERS,\n  CREATE_OFFLINE_SERVERS,\n\n  // Palms\n  VIEW_PALMS,\n  EDIT_PALMS,\n  CREATE_PALMS,\n\n  // Palm scheme data\n  VIEW_PALM_SCHEME_DATA,\n  EDIT_PALM_SCHEME_DATA,\n  CREATE_PALM_SCHEME_DATA,\n\n  // Passages\n  VIEW_PASSAGES,\n  EDIT_PASSAGES,\n  CREATE_PASSAGES,\n\n  // Detectors\n  VIEW_DETECTORS,\n  EDIT_DETECTORS,\n  CREATE_DETECTORS,\n\n  // Device categories\n  VIEW_DEVICE_CATEGORIES,\n  EDIT_DEVICE_CATEGORIES,\n  CREATE_DEVICE_CATEGORIES,\n\n  // Entrances\n  VIEW_ENTRANCES,\n  EDIT_ENTRANCES,\n  CREATE_ENTRANCES,\n}\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id.Equals(${value})`,\n  ticketsIds: (lambdaParameter, value) => {\n    if (!value) {\n      return null\n    }\n    return `new int[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.TicketId)`\n  },\n  accessId: (lambdaParameter, value) =>\n    `${lambdaParameter}.AccessId.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  UpdateManyParams,\n  UpdateManyResult,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { AccessUsingsCreateParams } from './access-usings-create.params'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { DeviceDirection } from '../enum/DeviceDirection'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { ACCESS_USINGS } from '../api-urls'\nimport { mapSortAccessUsingsParam } from './access-usings-sort.mapper'\nimport filterMapper from './access-usings-filter.mapper'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessUsingDto>> => {\n    const filterParams = `au=>${filterParamsComposer(\n      'au',\n      filter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortAccessUsingsParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessUsingDto[]>(\n      `${ACCESS_USINGS}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  update: async (\n    resource: string,\n    { data }: UpdateParams<AccessUsingDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessUsingRequest, AccessUsingDto>(\n      ACCESS_USINGS,\n      {\n        id: data.id,\n        active: data.active,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  updateMany: async (\n    resource,\n    { ids, data: { active = false } }: UpdateManyParams,\n  ): Promise<UpdateManyResult> => {\n    const pendingUpdates = ids\n      .map((auId) => ({ id: auId, active } as UpdateAccessUsingRequest))\n      .map((req) =>\n        patch<UpdateAccessUsingRequest, AccessUsingDto>(ACCESS_USINGS, req),\n      )\n    const accessUsings = await Promise.all(pendingUpdates)\n    return Promise.resolve({\n      data: accessUsings.map((au) => au.id),\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<AccessUsingsCreateParams>,\n  ): Promise<CreateResult> => {\n    const { ticketIds, accessIds } = data\n    const request: CreateAccessUsingRequest[] = accessIds.flatMap((accessId) =>\n      ticketIds.map((ticketId) => ({\n        date: ignoreTimezoneOffset(new Date()).toISOString() as DateTime,\n        direction: DeviceDirection.IN,\n        active: true,\n        accessId,\n        ticketId,\n        verifierDeviceId: null,\n      })),\n    )\n    await post<CreateAccessUsingRequest[], AccessUsingDto[]>(\n      ACCESS_USINGS,\n      request,\n    )\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<AccessUsingDto>> => {\n    const data = await get<AccessUsingDto[]>(\n      `${ACCESS_USINGS}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n} as DataProvider\n\ninterface CreateAccessUsingRequest {\n  readonly date: DateTime\n  readonly direction: DeviceDirection\n  readonly active: boolean\n  readonly ticketId: number\n  readonly accessId: number\n}\n\ninterface UpdateAccessUsingRequest {\n  readonly id: Identifier\n  readonly active: boolean | undefined\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  bonus: (lambdaParameter, value) =>\n    `${lambdaParameter}.Bonus.Equals(TicketAPI.Models.Enums.TicketManagement.AccessBonuses.${value})`,\n  entranceId: (lambdaParameter, value) =>\n    `${lambdaParameter}.EntranceId.Equals(${value})`,\n  allowReenter: (lambdaParameter) => `${lambdaParameter}.AllowReenter`,\n  multipleEntry: (lambdaParameter) => `${lambdaParameter}.MultipleEntry`,\n  isTicketUnlockedWithNextDay: (lambdaParameter) =>\n    `${lambdaParameter}.IsTicketUnlockedWithNextDay`,\n  filterVariantId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Variants.Any(v=>v.Id.Equals(${otherValues?.variantId}))`\n      : null,\n  variantId: () => null,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'a=>a.Id',\n  name: 'a=>a.Name',\n  bonus: 'a=>a.Bonus',\n  entranceId: 'a=>a.EntranceId',\n  modifiedAt: 'a=>a.ModifiedAt',\n  createdAt: 'a=>a.CreatedAt',\n}\n\nexport const mapSortAccessParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ACCESSES_URL } from '../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\nimport { DateTime } from '../common/date-time'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { AccessVariantsDto } from '../dto/access-variants.dto'\nimport { AccessDto } from '../dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../enum/AccessBonuses'\nimport { DayOfWeek } from '../enum/DayOfWeek'\nimport filterMapper from './access-filter.mapper'\nimport { mapSortAccessParam } from './access-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<AccessDto>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortAccessParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<AccessDto>> => {\n    const data = await get<AccessDto>(ACCESSES_URL, `/${id}`)\n    return {\n      data,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<AccessDto>> => {\n    const data = await get<AccessDto[]>(\n      `${ACCESSES_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<AccessDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateAccessRequest, AccessDto>(ACCESSES_URL, {\n      id: data.id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      bonus: data.bonus !== previousData.bonus ? data.bonus : undefined,\n      entranceId:\n        data.entranceId !== previousData.entranceId\n          ? data.entranceId\n          : undefined,\n      allowReenter:\n        data.allowReenter !== previousData.allowReenter\n          ? data.allowReenter\n          : undefined,\n      multipleEntry:\n        data.multipleEntry !== previousData.multipleEntry\n          ? data.multipleEntry\n          : undefined,\n      multiple:\n        data.multiple !== previousData.multiple ? data.multiple : undefined,\n      usePriority:\n        data.usePriority !== previousData.usePriority\n          ? data.usePriority\n          : undefined,\n      isTicketUnlockedWithNextDay:\n        data.isTicketUnlockedWithNextDay !==\n        previousData.isTicketUnlockedWithNextDay\n          ? data.isTicketUnlockedWithNextDay\n          : undefined,\n      releaseTime:\n        data.releaseTime !== previousData.releaseTime\n          ? data.releaseTime\n          : undefined,\n      releaseDayOfWeek:\n        data.releaseDayOfWeek !== previousData.releaseDayOfWeek\n          ? data.releaseDayOfWeek\n          : undefined,\n      releaseDayOfMonth:\n        data.releaseDayOfMonth !== previousData.releaseDayOfMonth\n          ? data.releaseDayOfMonth\n          : undefined,\n      delay: data.delay !== previousData.delay ? data.delay : undefined,\n      activePeriod:\n        data.activePeriod !== previousData.activePeriod\n          ? data.activePeriod\n          : undefined,\n      activePeriodStartingFrom:\n        data.activePeriodStartingFrom !== previousData.activePeriodStartingFrom\n          ? data.activePeriodStartingFrom\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<AccessDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateAccessRequest[], AccessDto[]>(\n      ACCESSES_URL,\n      [\n        {\n          name: data.name,\n          bonus: data.bonus ? data.bonus : undefined,\n          entranceId: data.entranceId || undefined,\n          allowReenter: data.allowReenter || undefined,\n          multipleEntry: data.multipleEntry || undefined,\n          multiple: data.multiple || undefined,\n          usePriority: data.usePriority || undefined,\n          isTicketUnlockedWithNextDay:\n            data.isTicketUnlockedWithNextDay || undefined,\n          releaseTime: data.releaseTime || undefined,\n          releaseDayOfWeek: data.releaseDayOfWeek || undefined,\n          releaseDayOfMonth: data.releaseDayOfMonth || undefined,\n          delay: data.delay || undefined,\n          activePeriod: data.activePeriod || undefined,\n          activePeriodStartingFrom: data.activePeriodStartingFrom || undefined,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  attachVariants: async (\n    resource: string,\n    params: AccessVariantsDto,\n  ): Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>> => {\n    const accessVariants = await put<AccessVariantsDto, AccessVariantsDto>(\n      `${ACCESSES_URL}/AttachVariants`,\n      params,\n    )\n    return {\n      data: accessVariants,\n    }\n  },\n  detachVariants: async (\n    resource: string,\n    params: AccessVariantsDto,\n  ): Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>> => {\n    const accessVariants = await put<AccessVariantsDto, AccessVariantsDto>(\n      `${ACCESSES_URL}/DetachVariants`,\n      params,\n    )\n    return {\n      data: accessVariants,\n    }\n  },\n} as AccessDataProvider\n\ninterface AccessDataProvider extends DataProvider {\n  attachVariants: (\n    resource: string,\n    params: AccessVariantsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>>\n\n  detachVariants: (\n    resource: string,\n    params: AccessVariantsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<AccessVariantsDto>>\n}\n\ninterface CreateAccessRequest {\n  readonly name: string\n  readonly bonus?: AccessBonuses\n  readonly entranceId?: number\n  readonly allowReenter?: boolean\n  readonly multipleEntry?: boolean\n  readonly multiple?: number\n  readonly usePriority?: number\n  readonly isTicketUnlockedWithNextDay?: boolean\n  readonly releaseTime?: DateTime\n  readonly releaseDayOfWeek?: DayOfWeek\n  readonly releaseDayOfMonth?: number\n  readonly delay?: string\n  readonly activePeriod?: string\n  readonly activePeriodStartingFrom?: AccessActivePeriodStartingOptions\n}\n\ninterface UpdateAccessRequest {\n  readonly id: Identifier\n  readonly name?: string\n  readonly bonus?: AccessBonuses\n  readonly entranceId?: number\n  readonly allowReenter?: boolean\n  readonly multipleEntry?: boolean\n  readonly multiple?: number\n  readonly usePriority?: number\n  readonly isTicketUnlockedWithNextDay?: boolean\n  readonly releaseTime?: DateTime\n  readonly releaseDayOfWeek?: DayOfWeek\n  readonly releaseDayOfMonth?: number\n  readonly delay?: string\n  readonly activePeriod?: string\n  readonly activePeriodStartingFrom?: AccessActivePeriodStartingOptions\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  name: 'c=>c.Name',\n}\n\nexport const mapSortCompanyParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyResult,\n  GetManyParams,\n  CreateParams,\n  CreateResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport { get, getWithPagination, patch, post } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { CompanyDto } from '../../dto/company.dto'\nimport filterMapper from './company-filter.mapper'\nimport { mapSortCompanyParam } from './company-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CompanyDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCompanyParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CompanyDto[]>(\n      `${ADMINISTRATOR_URL}/GetCompaniesByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<CompanyDto>> => {\n    const data = await get<CompanyDto>(\n      `${ADMINISTRATOR_URL}/GetCompanyById/`,\n      id as string,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CompanyDto>> => {\n    const data = await get<CompanyDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetCompaniesByConditions/c=>new int[] {${ids.toString()}}.Contains(c.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CompanyDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateCompanyRequest, CompanyDto>(\n      `${ADMINISTRATOR_URL}/PostCompany`,\n      data,\n    )\n    return Promise.resolve({ data: created })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<CompanyDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      CompanyDto\n    >(`${ADMINISTRATOR_URL}/PatchCompany`, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n} as DataProvider\n\nexport interface CreateCompanyRequest {\n  readonly name: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterRoleId: () => null,\n  roleId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterRoleId === false\n      ? null\n      : `${lambdaParameter}.Roles.Any(u=>u.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  name: 'p=>p.Name',\n}\n\nexport const mapSortRoleParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport { get, getWithPagination } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PermissionDto } from '../../dto/permission.dto'\nimport filterMapper from './permissions-filter.mapper'\nimport { mapSortRoleParam } from './permissions-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PermissionDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortRoleParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PermissionDto[]>(\n      `${ADMINISTRATOR_URL}/GetPermissionsByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  // getOne: async (\n  //   resource: string,\n  //   { id }: GetOneParams,\n  // ): Promise<GetOneResult<RoleDto>> => {\n  //   const data = await get<RoleDto>(\n  //     `${ADMINISTRATOR_URL}/GetRoleById/`,\n  //     id as string,\n  //   )\n  //   return Promise.resolve({\n  //     data,\n  //   })\n  // },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PermissionDto>> => {\n    const data = await get<PermissionDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetPermissionsByConditions/p=>new int[] {${ids.toString()}}.Contains(p.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterUserId: () => null,\n  userId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterUserId === false\n      ? null\n      : `${lambdaParameter}.Users.Any(u=>u.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  name: 'c=>c.Name',\n}\n\nexport const mapSortRoleParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { RolePermissionsDto } from '../../dto/role/role-permissions.dto'\nimport { RoleDto } from '../../dto/role/role.dto'\nimport filterMapper from './role-filter.mapper'\nimport { mapSortRoleParam } from './role-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<RoleDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortRoleParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<RoleDto[]>(\n      `${ADMINISTRATOR_URL}/GetRolesByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<RoleDto>> => {\n    const data = await get<RoleDto>(\n      `${ADMINISTRATOR_URL}/GetRoleById/`,\n      id as string,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<RoleDto>> => {\n    const data = await get<RoleDto[]>(\n      ADMINISTRATOR_URL,\n      `/GetRolesByConditions/r=>new int[] {${ids.toString()}}.Contains(r.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<RoleDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateRoleRequest[], RoleDto[]>(\n      `${ADMINISTRATOR_URL}/PostCompany`,\n      [data],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<RoleDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, RoleDto>(\n      `${ADMINISTRATOR_URL}/PatchRole`,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  attachPermissions: async (\n    resource: string,\n    params: RolePermissionsDto,\n  ): Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>> => {\n    const engineEntrances = await put<RolePermissionsDto, RolePermissionsDto>(\n      `${ADMINISTRATOR_URL}/AttachPermissionsToRole`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  detachPermissions: async (\n    resource: string,\n    params: RolePermissionsDto,\n  ): Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>> => {\n    const engineEntrances = await put<RolePermissionsDto, RolePermissionsDto>(\n      `${ADMINISTRATOR_URL}/DetachPermissionsFromRole`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n} as RoleDataProvider\n\ninterface RoleDataProvider extends DataProvider {\n  attachPermissions: (\n    resource: string,\n    params: RolePermissionsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>>\n\n  detachPermissions: (\n    resource: string,\n    params: RolePermissionsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<RolePermissionsDto>>\n}\n\nexport interface CreateRoleRequest {\n  readonly name: string\n  readonly permissionsIds: number[]\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  userName: (lambdaParameter, value) =>\n    `${lambdaParameter}.UserName.Contains(\"${value}\")`,\n  companyId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Company.Id.Equals(${value})`,\n  roleId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Roles.Any(r=>r.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  userName: 'c=>c.UserName',\n}\n\nexport const mapSortUserParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n  CreateParams,\n  CreateResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n} from 'react-admin'\nimport { ADMINISTRATOR_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { RoleDto } from '../../dto/role/role.dto'\nimport { UserDto } from '../../dto/user.dto'\nimport filterMapper from './users-filter.mapper'\nimport { mapSortUserParam } from './users-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<UserDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortUserParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<UserDto[]>(\n      `${ADMINISTRATOR_URL}/GetUsersByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<UserDto>> => {\n    const data = await get<UserDto>(\n      `${ADMINISTRATOR_URL}/GetUserById`,\n      `/${id}`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<UserDto>> => {\n    const data = await get<UserDto[]>(\n      `${ADMINISTRATOR_URL}/GetUsersByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateUserRequest>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateUserRequest, UserDto>(\n      `${ADMINISTRATOR_URL}/PostUser`,\n      data,\n    )\n    return Promise.resolve({ data: created })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<UserDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, UserDto>(\n      `${ADMINISTRATOR_URL}/PatchUser`,\n      {\n        id,\n        userName:\n          data.userName !== previousData.userName ? data.userName : undefined,\n        companyId:\n          data.companyId !== previousData.companyId\n            ? data.companyId\n            : undefined,\n        requirePasswordUpdate:\n          data.requirePasswordUpdate !== previousData.requirePasswordUpdate\n            ? data.requirePasswordUpdate\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  changeUserPassword: async (\n    resource: string,\n    params: ChangeUserPasswordRequest,\n  ): Promise<DataProviderExtensionResult<ChangeUserPasswordResponse>> => {\n    const newPassword = await put<\n      ChangeUserPasswordRequest,\n      ChangeUserPasswordResponse\n    >(`${ADMINISTRATOR_URL}/ChangeUserPassword`, params)\n    return {\n      data: newPassword,\n    }\n  },\n  generateResetUserPasswordToken: async (\n    resource: string,\n    params: GenerateResetUserPasswordTokenRequest,\n  ): Promise<\n    DataProviderExtensionResult<GenerateResetUserPasswordTokenResponse>\n  > => {\n    const token = await put<\n      GenerateResetUserPasswordTokenRequest,\n      GenerateResetUserPasswordTokenResponse\n    >(`${ADMINISTRATOR_URL}/GenerateResetUserPasswordToken`, params)\n    return {\n      data: token,\n    }\n  },\n  attachRoles: async (\n    resource: string,\n    params: UserRoles,\n  ): Promise<DataProviderExtensionResult<UserRoles>> => {\n    const token = await put<UserRoles, UserRoles>(\n      `${ADMINISTRATOR_URL}/AttachRolesToUser`,\n      params,\n    )\n    return {\n      data: token,\n    }\n  },\n  detachRoles: async (\n    resource: string,\n    params: UserRoles,\n  ): Promise<DataProviderExtensionResult<UserRoles>> => {\n    const token = await put<UserRoles, UserRoles>(\n      `${ADMINISTRATOR_URL}/DetachRolesFromUser`,\n      params,\n    )\n    return {\n      data: token,\n    }\n  },\n  getRoles: async (\n    resource: string,\n    { userId }: GetRolesParams,\n  ): Promise<DataProviderExtensionResult<RoleDto[]>> => {\n    const token = await get<RoleDto[]>(\n      `${ADMINISTRATOR_URL}/GetUserRoles/`,\n      userId as string,\n    )\n    return {\n      data: token,\n    }\n  },\n} as UserDataProvider\n\ninterface UserDataProvider extends DataProvider {\n  changeUserPassword: (\n    resource: string,\n    params: ChangeUserPasswordRequest,\n  ) => Promise<CacheableDataProviderExtensionResult<ChangeUserPasswordResponse>>\n\n  generateResetUserPasswordToken: (\n    resource: string,\n    params: GenerateResetUserPasswordTokenRequest,\n  ) => Promise<\n    CacheableDataProviderExtensionResult<GenerateResetUserPasswordTokenResponse>\n  >\n\n  attachRoles: (\n    resource: string,\n    params: UserRoles,\n  ) => Promise<CacheableDataProviderExtensionResult<UserRoles>>\n\n  detachRoles: (\n    resource: string,\n    params: UserRoles,\n  ) => Promise<CacheableDataProviderExtensionResult<UserRoles>>\n\n  getRoles: (\n    resource: string,\n    params: GetRolesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<RoleDto[]>>\n}\n\nexport interface CreateUserRequest {\n  readonly userName: string\n  readonly password: string\n  readonly companyId: number\n  readonly requirePasswordUpdate: boolean\n}\n\ninterface ChangeUserPasswordRequest {\n  readonly userId: number\n  readonly newPassword: string\n}\n\ninterface ChangeUserPasswordResponse {\n  readonly password: string\n  readonly id: number\n  readonly userName: string\n}\n\ninterface GenerateResetUserPasswordTokenRequest {\n  readonly userId: number\n}\n\ninterface GenerateResetUserPasswordTokenResponse {\n  readonly userId: number\n  readonly token: string\n}\n\ninterface UserRoles {\n  readonly userId: number\n  readonly rolesIds: number[]\n}\n\ninterface GetRolesParams {\n  userId: Identifier\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id==${value}`,\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Tribune.ObjectId.Equals(${value})`,\n  tribuneId: (lambdaParameter, value) =>\n    `${lambdaParameter}.TribuneId==${value}`,\n  code: (lambdaParameter, value) => `${lambdaParameter}.Code==${value}`,\n  type: (lambdaParameter, value) =>\n    `${lambdaParameter}.Type.Equals(TicketAPI.Models.Enums.TicketManagement.BlockTypes.${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'b=>b.Id',\n  name: 'b=>b.Name',\n  tribuneId: 'b=>b.TribuneId',\n  type: 'b=>b.Type',\n  code: 'b=>b.Code',\n}\n\nexport const mapSortBlockParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { BLOCKS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { BlockDto } from '../dto/block.dto'\nimport { BlockCreateParams } from './blocks-create.params'\nimport filterMapper from './blocks-filter.mapper'\nimport { mapSortBlockParam } from './blocks-sort.mapper'\n\ntype CreateBlockRequest = Array<BlockCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<BlockDto>> => {\n    const filterParams = `b=>${filterParamsComposer('b', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortBlockParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<BlockDto[]>(\n      `${BLOCKS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<BlockCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateBlockRequest = [data]\n    await post<CreateBlockRequest, BlockDto[]>(BLOCKS_URL, request)\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<BlockDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, BlockDto>(\n      BLOCKS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        tribuneId:\n          data.tribuneId !== previousData.tribuneId\n            ? data.tribuneId\n            : undefined,\n        type: data.type !== previousData.type ? data.type : undefined,\n        code: data.code !== previousData.code ? data.code : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<BlockDto>> => {\n    const data = await get<BlockDto[]>(\n      BLOCKS_URL,\n      `/GetByConditions/b=>new int[] {${ids.toString()}}.Contains(b.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  customerId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Customer.Id.Equals(${value as number})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  variantId: 'l=>l.VariantId',\n  eventId: 'l=>l.EventId',\n}\n\nexport const mapSortBookingParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  UpdateParams,\n  UpdateResult,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { get, getWithPagination, patch } from '../common/fetch.utils'\nimport { BOOKINGS_URL } from '../api-urls'\nimport { BookingUpdateRequest } from './booking-update.request'\nimport { BookingDto } from '../dto/booking.dto'\nimport filterMapper from './booking-filter.mapper'\nimport { mapSortBookingParam } from './booking-sort.mapper'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<BookingDto>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortBookingParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<BookingDto[]>(\n      `${BOOKINGS_URL}/GetByConditions`,\n      path,\n    )\n\n    return {\n      data,\n      total,\n    }\n  },\n  getOne: async (\n    resource: string,\n    { id: bookingId }: GetOneParams,\n  ): Promise<GetOneResult<BookingDto>> => {\n    const booking = await get<BookingDto>(BOOKINGS_URL, `/${bookingId}`)\n\n    return {\n      data: booking,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<BookingDto>> => {\n    const data = await get<BookingDto[]>(\n      `${BOOKINGS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<BookingUpdateRequest>,\n  ): Promise<UpdateResult<BookingDto>> => {\n    const booking = await patch<BookingUpdateRequest, BookingDto>(\n      BOOKINGS_URL,\n      {\n        id: data.id,\n        disabled:\n          data?.disabled !== previousData?.disabled\n            ? data?.disabled\n            : undefined,\n      },\n    )\n    return Promise.resolve({\n      data: { ...booking, ticketsIds: [] },\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  firstname: (lambdaParameter, value) =>\n    `${lambdaParameter}.Firstname.Contains(\"${value}\")`,\n  lastname: (lambdaParameter, value) =>\n    `${lambdaParameter}.Lastname.Contains(\"${value}\")`,\n  pesel: (lambdaParameter, value) =>\n    `${lambdaParameter}.Pesel.Contains(\"${value}\")`,\n  documentNumber: (lambdaParameter, value) =>\n    `${lambdaParameter}.DocumentNumber.Contains(\"${value}\")`,\n  info: (lambdaParameter, value) =>\n    `${value\n      .toString()\n      .split(' ')\n      .map(\n        (q: string) =>\n          `(${lambdaParameter}.Firstname+${lambdaParameter}.Lastname+${lambdaParameter}.Pesel+${lambdaParameter}.DocumentNumber).Contains(\"${q}\")`,\n      )\n      .join('&&')}`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'c=>c.Id',\n  firstname: 'c=>c.Firstname',\n  lastname: 'c=>c.Lastname',\n  pesel: 'c=>c.Pesel',\n  documentNumber: 'c=>c.DocumentNumber',\n}\n\nexport const mapSortCustomerParams = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { CustomerDto } from '../dto/customer.dto'\nimport { CUSTOMERS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport filterMapper from './customer-filter.mapper'\nimport { mapSortCustomerParams } from './customer-sort.mapper'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { CustomerDocumentType } from '../enum/CustomerDocumentType'\nimport { Gender } from '../enum/Gender'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CustomerDto>> => {\n    const filterParams = `c=>${filterParamsComposer('c', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCustomerParams,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id: customerId }: GetOneParams,\n  ): Promise<GetOneResult<CustomerDto>> => {\n    const customer = await get<CustomerDto>(CUSTOMERS_URL, `/${customerId}`)\n    return {\n      data: customer as CustomerDto,\n    }\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CustomerDto>> => {\n    const data = await get<CustomerDto[]>(\n      `${CUSTOMERS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { data, previousData }: UpdateParams<CustomerDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateCustomerRequest, CustomerDto>(\n      CUSTOMERS_URL,\n      {\n        id: data.id,\n        firstname:\n          data.firstname !== previousData.firstname\n            ? data.firstname\n            : undefined,\n        lastname:\n          data.lastname !== previousData.lastname ? data.lastname : undefined,\n        company:\n          data.company !== previousData.company ? data.company : undefined,\n        birthdate:\n          data.birthdate !== previousData.birthdate\n            ? (ignoreTimezoneOffset(\n                new Date(data.birthdate),\n              ).toISOString() as DateTime)\n            : undefined,\n        documentType:\n          data.documentType !== previousData.documentType\n            ? data.documentType\n            : undefined,\n        pesel: data.pesel !== previousData.pesel ? data.pesel : undefined,\n        documentNumber:\n          data.documentNumber !== previousData.documentNumber\n            ? data.documentNumber\n            : undefined,\n        nationality:\n          data.nationality !== previousData.nationality\n            ? data.nationality\n            : undefined,\n        gender: data.gender !== previousData.gender ? data.gender : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CustomerDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateCustomerRequest[], CustomerDto[]>(\n      CUSTOMERS_URL,\n      [\n        {\n          ...data,\n          birthdate:\n            data.birthdate &&\n            (ignoreTimezoneOffset(\n              new Date(data.birthdate),\n            ).toISOString() as DateTime),\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n} as DataProvider\n\ninterface CreateCustomerRequest {\n  readonly firstname: string\n  readonly lastname: string\n  readonly company?: string\n  readonly birthdate?: DateTime\n  readonly documentType?: CustomerDocumentType\n  readonly pesel?: string\n  readonly documentNumber?: string\n  readonly nationality?: string\n  readonly gender?: Gender\n}\n\ninterface UpdateCustomerRequest {\n  readonly id: number\n  readonly firstname?: string\n  readonly lastname?: string\n  readonly company?: string\n  readonly birthdate?: DateTime\n  readonly documentType?: CustomerDocumentType\n  readonly pesel?: string\n  readonly documentNumber?: string\n  readonly nationality?: string\n  readonly gender?: Gender\n}\n\nexport default provider\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * If the API does not handle the children of a node when it is deleted, this function\n * augment the existing dataProvider with a deleteBranch implementation which will\n * delete all children first recursivly.\n *\n * @warning Do not use in production.\n *\n * The added Tree methods call the API way too much, sometimes asking for the\n * entire tree. In practice, you should implement an optimized API route for\n * each of the Tree methods.\n *\n * @param dataProvider The dataProvider with tree support\n */\nvar deleteBranchByDeletingAllChildren = function (dataProvider, resource, params) { return __awaiter(void 0, void 0, void 0, function () {\n    var deleteBranch;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                deleteBranch = function (params) { return __awaiter(void 0, void 0, void 0, function () {\n                    var children;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, dataProvider.getChildNodes(resource, {\n                                    parentId: params.id,\n                                })];\n                            case 1:\n                                children = (_a.sent()).data;\n                                if (!(children.length > 0)) return [3 /*break*/, 3];\n                                // Recursivly delete all the node children\n                                return [4 /*yield*/, Promise.all(children.map(function (child) {\n                                        return deleteBranch({\n                                            id: child.id,\n                                            data: child,\n                                        });\n                                    }))];\n                            case 2:\n                                // Recursivly delete all the node children\n                                _a.sent();\n                                _a.label = 3;\n                            case 3: \n                            // Delete the node\n                            return [4 /*yield*/, dataProvider.delete(resource, {\n                                    id: params.id,\n                                    previousData: params.data,\n                                })];\n                            case 4:\n                                // Delete the node\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                }); };\n                return [4 /*yield*/, deleteBranch(params)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, { data: params.data }];\n        }\n    });\n}); };\nexport default deleteBranchByDeletingAllChildren;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * If the API handles children of a node when it is deleted, this function\n * augments the existing dataProvider with a deleteBranch implementation which will\n * just use the default delete method of the dataProvider.\n *\n * @warning Do not use in production.\n *\n * The added Tree methods call the API way too much, sometimes asking for the\n * entire tree. In practice, you should implement an optimized API route for\n * each of the Tree methods.\n *\n * @param dataProvider The dataProvider with tree support\n */\nvar addSimpleDeleteBranch = function (dataProvider, resource, _a) {\n    var data = _a.data;\n    return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, dataProvider.delete(resource, {\n                        id: data.id,\n                        previousData: data,\n                    })];\n                case 1:\n                    _b.sent();\n                    return [2 /*return*/, { data: data }];\n            }\n        });\n    });\n};\nexport default addSimpleDeleteBranch;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport deleteBranchByDeletingAllChildren from './deleteBranchByDeletingAllChildren';\nimport deleteBranchByDeletingNode from './deleteBranchByDeletingNode';\n/**\n * Provided the records contain a parent_id and a position field,\n * augment a dataProvider by adding the Tree methods (getTree, getRootNodes, etc).\n *\n * These methods will call regular dataProvider methods (getList, getOne, update).\n *\n * @warning Do not use in production.\n *\n * The added Tree methods call the API way too much, sometimes asking for the\n * entire tree. In practice, you should implement an optimized API route for\n * each of the Tree methods.\n *\n * @example // Compatible APIs should return records like\n * {\n *     id: 1234,\n *     name: 'hello',\n *     parent_id: 35,\n *     position: 4, // zero-based\n * }\n *\n * @param {DataProvider} dataProvider The dataProvider to augment\n * @param {string} parentIdField The name of the field containing the parent id. Defaults to 'parent_id'\n * @param {string} positionField The name of the field containing the position of a node inside its parent. Defaults to 'position'\n * @param {boolean} apiSupportBranchDeletion Indicates whether the API will handle children deletion when deleting a node as well as the siblings update. If false, the dataProvider will handle it by making multiple requests in the right order. Defaults to `false`.\n */\nvar addTreeMethodsBasedOnParentAndPosition = function (dataProvider, parentIdField, positionField, apiSupportBranchDeletion) {\n    if (parentIdField === void 0) { parentIdField = 'parent_id'; }\n    if (positionField === void 0) { positionField = 'position'; }\n    if (apiSupportBranchDeletion === void 0) { apiSupportBranchDeletion = false; }\n    var deleteBranch = apiSupportBranchDeletion\n        ? deleteBranchByDeletingNode\n        : deleteBranchByDeletingAllChildren;\n    var treeDataProvider = __assign(__assign({}, dataProvider), { getTree: function (resource) { return __awaiter(void 0, void 0, void 0, function () {\n            var data, treeRecords;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, dataProvider.getList(resource, {\n                            filter: {},\n                            sort: { field: positionField, order: 'ASC' },\n                            pagination: { page: 1, perPage: 1000 },\n                        })];\n                    case 1:\n                        data = (_a.sent()).data;\n                        treeRecords = data.map(function (record) { return (__assign(__assign({}, record), { children: data\n                                .filter(function (r) { return r[parentIdField] == record.id; })\n                                .sort(function (a, b) { return a[positionField] - b[positionField]; })\n                                .map(function (child) { return child.id; }) })); });\n                        return [2 /*return*/, {\n                                data: treeRecords,\n                            }];\n                }\n            });\n        }); }, getRootNodes: function (resource) { return __awaiter(void 0, void 0, void 0, function () {\n            var data, treeRecords;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, dataProvider.getList(resource, {\n                            filter: (_a = {}, _a[parentIdField] = null, _a),\n                            sort: { field: positionField, order: 'ASC' },\n                            pagination: { page: 1, perPage: 1000 },\n                        })];\n                    case 1:\n                        data = (_b.sent()).data;\n                        return [4 /*yield*/, Promise.all(data.map(function (record) {\n                                var _a;\n                                return dataProvider\n                                    .getList(resource, {\n                                    filter: (_a = {}, _a[parentIdField] = record.id, _a),\n                                    sort: {\n                                        field: positionField,\n                                        order: 'ASC',\n                                    },\n                                    pagination: { page: 1, perPage: 1000 },\n                                })\n                                    .then(function (_a) {\n                                    var data = _a.data;\n                                    return (__assign(__assign({}, record), { children: data.map(function (_a) {\n                                            var id = _a.id;\n                                            return id;\n                                        }) }));\n                                });\n                            }))];\n                    case 2:\n                        treeRecords = _b.sent();\n                        return [2 /*return*/, {\n                                data: treeRecords,\n                            }];\n                }\n            });\n        }); }, getParentNode: function (resource, _a) {\n            var childId = _a.childId;\n            return __awaiter(void 0, void 0, void 0, function () {\n                var tree, child, parent;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, treeDataProvider.getTree(resource)];\n                        case 1:\n                            tree = (_b.sent()).data;\n                            child = tree.find(function (node) { return node.id === childId; });\n                            if (!child) {\n                                return [2 /*return*/, { data: undefined }];\n                            }\n                            parent = tree.find(function (node) { return node.id === child[parentIdField]; });\n                            return [2 /*return*/, {\n                                    data: parent,\n                                }];\n                    }\n                });\n            });\n        }, getChildNodes: function (resource, _a) {\n            var parentId = _a.parentId;\n            return __awaiter(void 0, void 0, void 0, function () {\n                var data, treeRecords;\n                var _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0: return [4 /*yield*/, dataProvider.getList(resource, {\n                                filter: (_b = {}, _b[parentIdField] = parentId, _b),\n                                sort: { field: positionField, order: 'ASC' },\n                                pagination: { page: 1, perPage: 1000 },\n                            })];\n                        case 1:\n                            data = (_c.sent()).data;\n                            return [4 /*yield*/, Promise.all(data.map(function (record) {\n                                    var _a;\n                                    return dataProvider\n                                        .getList(resource, {\n                                        filter: (_a = {}, _a[parentIdField] = record.id, _a),\n                                        sort: {\n                                            field: positionField,\n                                            order: 'ASC',\n                                        },\n                                        pagination: { page: 1, perPage: 1000 },\n                                    })\n                                        .then(function (_a) {\n                                        var data = _a.data;\n                                        return (__assign(__assign({}, record), { children: data.map(function (_a) {\n                                                var id = _a.id;\n                                                return id;\n                                            }) }));\n                                    });\n                                }))];\n                        case 2:\n                            treeRecords = _c.sent();\n                            return [2 /*return*/, {\n                                    data: treeRecords,\n                                }];\n                    }\n                });\n            });\n        }, moveAsNthChildOf: function (resource, _a) {\n            var source = _a.source, destination = _a.destination, position = _a.position;\n            return __awaiter(void 0, void 0, void 0, function () {\n                var destinationSiblings, sourceSiblings;\n                var _b, _c, _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0: return [4 /*yield*/, dataProvider.getList(resource, {\n                                filter: (_b = {},\n                                    _b[parentIdField] = destination.id,\n                                    _b[positionField + \"_gte\"] = position,\n                                    _b),\n                                sort: {\n                                    field: positionField,\n                                    order: 'ASC',\n                                },\n                                pagination: { page: 1, perPage: 1000 },\n                            })];\n                        case 1:\n                            destinationSiblings = (_e.sent()).data;\n                            if (!(destinationSiblings.length > 0)) return [3 /*break*/, 3];\n                            return [4 /*yield*/, Promise.all(destinationSiblings.map(function (item) {\n                                    var _a;\n                                    return dataProvider.update(resource, {\n                                        id: item.id,\n                                        data: (_a = {}, _a[positionField] = item[positionField] + 1, _a),\n                                        previousData: item,\n                                    });\n                                }))];\n                        case 2:\n                            _e.sent();\n                            _e.label = 3;\n                        case 3: return [4 /*yield*/, dataProvider.getList(resource, {\n                                filter: (_c = {},\n                                    _c[parentIdField] = source[parentIdField],\n                                    _c[positionField + \"_gt\"] = source[positionField],\n                                    _c),\n                                sort: {\n                                    field: positionField,\n                                    order: 'ASC',\n                                },\n                                pagination: { page: 1, perPage: 1000 },\n                            })];\n                        case 4:\n                            sourceSiblings = (_e.sent()).data;\n                            if (!(sourceSiblings.length > 0)) return [3 /*break*/, 6];\n                            return [4 /*yield*/, Promise.all(sourceSiblings.map(function (item) {\n                                    var _a;\n                                    return dataProvider.update(resource, {\n                                        id: item.id,\n                                        data: (_a = {}, _a[positionField] = item[positionField] - 1, _a),\n                                        previousData: item,\n                                    });\n                                }))];\n                        case 5:\n                            _e.sent();\n                            _e.label = 6;\n                        case 6: \n                        // 3. Change the parent and position of the source node\n                        return [4 /*yield*/, dataProvider.update(resource, {\n                                id: source.id,\n                                data: (_d = {},\n                                    _d[parentIdField] = destination.id,\n                                    _d[positionField] = position,\n                                    _d),\n                                previousData: source,\n                            })];\n                        case 7:\n                            // 3. Change the parent and position of the source node\n                            _e.sent();\n                            return [2 /*return*/, { data: null }];\n                    }\n                });\n            });\n        }, moveAsNthSiblingOf: function (resource, _a) {\n            var source = _a.source, destination = _a.destination, position = _a.position;\n            return __awaiter(void 0, void 0, void 0, function () {\n                var destinationSiblingsToUpdateFilter, destinationSiblings, sourceSiblingsToUpdateFilters, sourceSiblings;\n                var _b, _c, _d, _e, _f;\n                return __generator(this, function (_g) {\n                    switch (_g.label) {\n                        case 0:\n                            if ((source[positionField] > destination[positionField] &&\n                                source[parentIdField] === destination[parentIdField]) ||\n                                position === 0) {\n                                destinationSiblingsToUpdateFilter = (_b = {},\n                                    _b[parentIdField] = destination[parentIdField],\n                                    _b[positionField + \"_gte\"] = destination[positionField],\n                                    _b);\n                            }\n                            if (source[parentIdField] !== destination[parentIdField] &&\n                                position > 0) {\n                                destinationSiblingsToUpdateFilter = (_c = {},\n                                    _c[parentIdField] = destination[parentIdField],\n                                    _c[positionField + \"_gt\"] = destination[positionField],\n                                    _c);\n                            }\n                            if (!destinationSiblingsToUpdateFilter) return [3 /*break*/, 3];\n                            return [4 /*yield*/, dataProvider.getList(resource, {\n                                    filter: destinationSiblingsToUpdateFilter,\n                                    sort: {\n                                        field: positionField,\n                                        order: 'ASC',\n                                    },\n                                    pagination: { page: 1, perPage: 1000 },\n                                })];\n                        case 1:\n                            destinationSiblings = (_g.sent()).data;\n                            if (!(destinationSiblings.length > 0)) return [3 /*break*/, 3];\n                            return [4 /*yield*/, Promise.all(destinationSiblings.map(function (item) {\n                                    var _a;\n                                    return item.id === source.id\n                                        ? Promise.resolve(undefined)\n                                        : dataProvider.update(resource, {\n                                            id: item.id,\n                                            data: (_a = {},\n                                                _a[positionField] = item[positionField] + 1,\n                                                _a),\n                                            previousData: item,\n                                        });\n                                }))];\n                        case 2:\n                            _g.sent();\n                            _g.label = 3;\n                        case 3:\n                            if (source[parentIdField] === destination[parentIdField]) {\n                                sourceSiblingsToUpdateFilters = (_d = {},\n                                    _d[parentIdField] = source[parentIdField],\n                                    _d[positionField + \"_gt\"] = source[positionField],\n                                    _d[positionField + \"_lte\"] = destination[positionField],\n                                    _d);\n                            }\n                            else {\n                                sourceSiblingsToUpdateFilters = (_e = {},\n                                    _e[parentIdField] = source[parentIdField],\n                                    _e[positionField + \"_gt\"] = source[positionField],\n                                    _e);\n                            }\n                            return [4 /*yield*/, dataProvider.getList(resource, {\n                                    filter: sourceSiblingsToUpdateFilters,\n                                    sort: {\n                                        field: positionField,\n                                        order: 'ASC',\n                                    },\n                                    pagination: { page: 1, perPage: 1000 },\n                                })];\n                        case 4:\n                            sourceSiblings = (_g.sent()).data;\n                            if (!(sourceSiblings.length > 0)) return [3 /*break*/, 6];\n                            return [4 /*yield*/, Promise.all(sourceSiblings.map(function (item) {\n                                    var _a;\n                                    return item.id === source.id\n                                        ? Promise.resolve(undefined)\n                                        : dataProvider.update(resource, {\n                                            id: item.id,\n                                            data: (_a = {},\n                                                _a[positionField] = item[positionField] - 1,\n                                                _a),\n                                            previousData: item,\n                                        });\n                                }))];\n                        case 5:\n                            _g.sent();\n                            _g.label = 6;\n                        case 6: \n                        // 3. Change the parent and position of the source node\n                        return [4 /*yield*/, dataProvider.update(resource, {\n                                id: source.id,\n                                data: (_f = {},\n                                    _f[parentIdField] = destination[parentIdField],\n                                    _f[positionField] = source[parentIdField] === destination[parentIdField]\n                                        ? destination[positionField]\n                                        : position,\n                                    _f),\n                                previousData: source,\n                            })];\n                        case 7:\n                            // 3. Change the parent and position of the source node\n                            _g.sent();\n                            return [2 /*return*/, { data: null }];\n                    }\n                });\n            });\n        }, addRootNode: function (resource, _a) {\n            var data = _a.data;\n            return __awaiter(void 0, void 0, void 0, function () {\n                var roots, rootPosition, newRoot;\n                var _b, _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0: return [4 /*yield*/, dataProvider.getList(resource, {\n                                filter: (_b = {}, _b[parentIdField] = null, _b),\n                                sort: { field: positionField, order: 'ASC' },\n                                pagination: { page: 1, perPage: 1000 },\n                            })];\n                        case 1:\n                            roots = (_d.sent()).data;\n                            rootPosition = roots.length > 0\n                                ? roots.reduce(function (acc, curr) {\n                                    return curr[positionField] > acc\n                                        ? curr[positionField]\n                                        : acc;\n                                }, -Infinity) + 1\n                                : 0;\n                            return [4 /*yield*/, dataProvider.create(resource, {\n                                    data: __assign(__assign({}, data), (_c = {}, _c[parentIdField] = null, _c[positionField] = rootPosition, _c)),\n                                })];\n                        case 2:\n                            newRoot = (_d.sent()).data;\n                            return [2 /*return*/, { data: __assign(__assign({}, newRoot), { children: [] }) }];\n                    }\n                });\n            });\n        }, addChildNode: function (resource, _a) {\n            var parentId = _a.parentId, data = _a.data;\n            return __awaiter(void 0, void 0, void 0, function () {\n                var siblings, childPosition, newRoot;\n                var _b, _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0: return [4 /*yield*/, dataProvider.getList(resource, {\n                                filter: (_b = {}, _b[parentIdField] = parentId, _b),\n                                sort: { field: positionField, order: 'ASC' },\n                                pagination: { page: 1, perPage: 1000 },\n                            })];\n                        case 1:\n                            siblings = (_d.sent()).data;\n                            childPosition = siblings.length > 0\n                                ? siblings.reduce(function (acc, curr) {\n                                    return curr[positionField] > acc\n                                        ? curr[positionField]\n                                        : acc;\n                                }, -Infinity) + 1\n                                : 0;\n                            return [4 /*yield*/, dataProvider.create(resource, {\n                                    data: __assign(__assign({}, data), (_c = {}, _c[parentIdField] = parentId, _c[positionField] = childPosition, _c)),\n                                })];\n                        case 2:\n                            newRoot = (_d.sent()).data;\n                            return [2 /*return*/, { data: __assign(__assign({}, newRoot), { children: [] }) }];\n                    }\n                });\n            });\n        }, deleteBranch: function (resource, params) { return __awaiter(void 0, void 0, void 0, function () {\n            var id, data, siblings;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        id = params.id, data = params.data;\n                        // Deletion of the record itself must be handled by specialized method.\n                        return [4 /*yield*/, deleteBranch(treeDataProvider, resource, params)];\n                    case 1:\n                        // Deletion of the record itself must be handled by specialized method.\n                        _a.sent();\n                        return [4 /*yield*/, treeDataProvider.getChildNodes(resource, {\n                                parentId: data[parentIdField],\n                            })];\n                    case 2:\n                        siblings = (_a.sent()).data;\n                        // update the siblings position\n                        return [4 /*yield*/, Promise.all(siblings\n                                .filter(function (node) {\n                                return node[positionField] > data[positionField] &&\n                                    node.id !== id;\n                            })\n                                .map(function (node) {\n                                var _a;\n                                return dataProvider.update(resource, {\n                                    id: node.id,\n                                    data: __assign(__assign({}, node), (_a = {}, _a[positionField] = node[positionField] - 1, _a)),\n                                    previousData: node,\n                                });\n                            }))];\n                    case 3:\n                        // update the siblings position\n                        _a.sent();\n                        return [2 /*return*/, { data: data }];\n                }\n            });\n        }); } });\n    return treeDataProvider;\n};\nexport default addTreeMethodsBasedOnParentAndPosition;\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  parentId: (lambdaParameter, value) => `${lambdaParameter}.ParentId==${value}`,\n  parentIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.ParentId)`,\n  notId: (lambdaParameter, value) => `!${lambdaParameter}.Id.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'dc=>dc.Id',\n  name: 'dc=>dc.Name',\n  parentId: 'dc=>dc.ParentId',\n}\n\nexport const mapSortDeviceCategoryParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { addTreeMethodsBasedOnParentAndPosition } from '../../lib/@react-admin/ra-tree/esm/src'\nimport { DEVICE_CATEGORIES_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { DeviceCategoryDto } from '../dto/device-category/device-category.dto'\nimport filterMapper from './device-category-filter.mapper'\nimport { mapSortDeviceCategoryParam } from './device-category-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<DeviceCategoryDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortDeviceCategoryParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<DeviceCategoryDto[]>(\n      `${DEVICE_CATEGORIES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<DeviceCategoryDto>> => {\n    const data = await get<DeviceCategoryDto>(DEVICE_CATEGORIES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<DeviceCategoryDto>> => {\n    const data = await get<DeviceCategoryDto[]>(\n      DEVICE_CATEGORIES_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateDeviceCategoryRequest>,\n  ): Promise<CreateResult<DeviceCategoryDto>> => {\n    const deviceCategory = await post<\n      CreateDeviceCategoryRequest[],\n      DeviceCategoryDto[]\n    >(DEVICE_CATEGORIES_URL, [data])\n\n    return {\n      data: deviceCategory[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<DeviceCategoryDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      DeviceCategoryDto\n    >(DEVICE_CATEGORIES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      parentId:\n        data.parentId !== previousData.parentId ? data.parentId : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n} as DataProvider\n\n// interface DeviceCategoryDataProvider extends DataProvider {\n// }\n\nexport interface CreateDeviceCategoryRequest {\n  readonly name: string\n  readonly parentId?: number\n}\n\nexport default addTreeMethodsBasedOnParentAndPosition(\n  provider,\n  'parentId',\n  'id',\n  false,\n)\n","import { DEVICE_CATEGORIES_URL } from '../api-urls'\nimport { get, getByConditions } from '../common/fetch.utils'\nimport { filterParamsComposer } from '../common/get-by-conditions.utils'\nimport deviceCategoryfilterMapper from '../device-categories/device-category-filter.mapper'\nimport { DeviceCategoryDto } from '../dto/device-category/device-category.dto'\n\n// Tree type filter for device categories\nconst getDeviceCategories = async (categoryId: number) => {\n  let categoriesIds: number[] = []\n  // eslint-disable-next-line no-await-in-loop\n  const selectedCategory = await get<DeviceCategoryDto>(\n    DEVICE_CATEGORIES_URL,\n    `/${categoryId}`,\n  )\n  categoriesIds.push(selectedCategory?.id)\n  let resolveParents = true\n  while (resolveParents) {\n    const parentCategoriesfilters = { parentIds: categoriesIds }\n    // eslint-disable-next-line no-await-in-loop\n    const childrenCategories = await getByConditions<DeviceCategoryDto>(\n      `${DEVICE_CATEGORIES_URL}`,\n      `o=>${filterParamsComposer(\n        'o',\n        parentCategoriesfilters,\n        deviceCategoryfilterMapper,\n      )}`,\n    )\n    const newChildren = childrenCategories\n      .map((cc) => cc.id)\n      // eslint-disable-next-line no-loop-func\n      .filter((cc) => !categoriesIds.includes(cc))\n    if (newChildren.length === 0) {\n      resolveParents = false\n    } else {\n      categoriesIds = categoriesIds.concat(newChildren)\n    }\n  }\n  return categoriesIds\n}\n\nexport { getDeviceCategories }\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortDetectorParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  CreateParams,\n  CreateResult,\n} from 'react-admin'\nimport { DETECTORS_URL } from '../../api-urls'\nimport { get, getWithPagination, patch, post } from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { DetectorDto } from '../../dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './detector-filter.mapper'\nimport { mapSortDetectorParam } from './detector-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<DetectorDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortDetectorParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<DetectorDto[]>(\n      `${DETECTORS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<DetectorDto>> => {\n    const data = await get<DetectorDto>(DETECTORS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<DetectorDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      DetectorDto\n    >(DETECTORS_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      isWatched:\n        data.isWatched !== previousData.isWatched ? data.isWatched : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      categoryId:\n        data.categoryId !== previousData.categoryId\n          ? data.categoryId\n          : undefined,\n      cameraId:\n        data.cameraId !== previousData.cameraId ? data.cameraId : undefined,\n      hardwareVersion:\n        data.hardwareVersion !== previousData.hardwareVersion\n          ? data.hardwareVersion\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateDetectorRequest>,\n  ): Promise<CreateResult<DetectorDto>> => {\n    const engine = await post<CreateDetectorRequest[], DetectorDto[]>(\n      DETECTORS_URL,\n      [data],\n    )\n    return {\n      data: engine[0],\n    }\n  },\n} as DataProvider\n\nexport interface CreateDetectorRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly address: string\n  readonly categoryId: number\n  readonly jsonStatus: string\n  readonly hardwareVersion: HardwareVersions\n}\n\nexport default provider\n","import { EventStatus } from '../../enum/EventStatus'\n\nconst mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n  eventActive: (lambdaParameter) =>\n    `${lambdaParameter}.Events.Any(ev=>ev.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${EventStatus.ACTIVE}))`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  filterEntranceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Entrances.Any(en=>en.Id==${otherValues?.entranceId})`\n      : null,\n  entranceId: () => null,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortEngineParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { ENGINES_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { EngineEntrancesDto } from '../../dto/device/engine/engine-entrances.dto'\nimport { EngineEventsDto } from '../../dto/device/engine/engine-events.dto'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\nimport { RemoveTSCanCredentialsDto } from '../../dto/device/engine/remove-tscan-credentials.dto'\nimport { SetStandbyModeDto } from '../../dto/device/engine/set-standby-mode.dto'\nimport { SetTSCanCredentialsDto } from '../../dto/device/engine/set-tscan-credentials.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { EngineLockResults } from '../../enum/EngineLockResults'\nimport { EngineUnlockResults } from '../../enum/EngineUnlockResults'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { Multiplicities } from '../../enum/Multiplicities'\nimport { StanbyMode } from '../../enum/StanbyMode'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './engine-filter.mapper'\nimport { mapSortEngineParam } from './engine-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EngineDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortEngineParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EngineDto[]>(\n      `${ENGINES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EngineDto>> => {\n    const data = await get<EngineDto>(ENGINES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EngineDto>> => {\n    const data = await get<EngineDto[]>(\n      ENGINES_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateEngineRequest>,\n  ): Promise<CreateResult<EngineDto>> => {\n    const engine = await post<CreateEngineRequest[], EngineDto[]>(ENGINES_URL, [\n      data,\n    ])\n    return {\n      data: engine[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EngineDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, EngineDto>(\n      ENGINES_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        isWatched:\n          data.isWatched !== previousData.isWatched\n            ? data.isWatched\n            : undefined,\n        address:\n          data.address !== previousData.address ? data.address : undefined,\n        direction:\n          data.direction !== previousData.direction\n            ? data.direction\n            : undefined,\n        categoryId:\n          data.categoryId !== previousData.categoryId\n            ? data.categoryId\n            : undefined,\n        cameraId:\n          data.cameraId !== previousData.cameraId ? data.cameraId : undefined,\n        onlineInfixCeck:\n          data.onlineInfixCeck !== previousData.onlineInfixCeck\n            ? data.onlineInfixCeck\n            : undefined,\n        multiplicity:\n          data.multiplicity !== previousData.multiplicity\n            ? data.multiplicity\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  attachEvents: async (\n    resource: string,\n    params: EngineEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>(\n      `${ENGINES_URL}/AttachEvents`,\n      params,\n    )\n    return {\n      data: engineEvents,\n    }\n  },\n  detachEvents: async (\n    resource: string,\n    params: EngineEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEventsDto>> => {\n    const engineEvents = await put<EngineEventsDto, EngineEventsDto>(\n      `${ENGINES_URL}/DetachEvents`,\n      params,\n    )\n    return {\n      data: engineEvents,\n    }\n  },\n  attachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>(\n      `${ENGINES_URL}/AttachEntrances`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  detachEntrances: async (\n    resource: string,\n    params: EngineEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>> => {\n    const engineEntrances = await put<EngineEntrancesDto, EngineEntrancesDto>(\n      `${ENGINES_URL}/DetachEntrances`,\n      params,\n    )\n    return {\n      data: engineEntrances,\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ): Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const setTSCanCredentials = await put<\n      SetTSCanCredentialsDto,\n      SetTSCanCredentialsDto\n    >(`${ENGINES_URL}/SetTSCanCredentials`, params)\n    return {\n      data: setTSCanCredentials,\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ): Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>> => {\n    const removeTSCanCredentials = await put<\n      RemoveTSCanCredentialsDto,\n      RemoveTSCanCredentialsDto\n    >(`${ENGINES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: removeTSCanCredentials,\n    }\n  },\n  lock: async (\n    resource: string,\n    params: LockParams,\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const lock = await put<LockParams, LockResponse>(\n      `${ENGINES_URL}/Lock`,\n      params,\n    )\n    return {\n      data: lock,\n    }\n  },\n  unlock: async (\n    resource: string,\n    params: UnlockParams,\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const unlock = await put<UnlockParams, UnlockResponse>(\n      `${ENGINES_URL}/Unlock`,\n      params,\n    )\n    return {\n      data: unlock,\n    }\n  },\n  setStandbyMode: async (\n    resource: string,\n    params: SetStandbyModeDto,\n  ): Promise<DataProviderExtensionResult<SetStandbyModeDto>> => {\n    const setStandbyMode = await put<SetStandbyModeDto, SetStandbyModeDto>(\n      `${ENGINES_URL}/SetStandbyMode`,\n      params,\n    )\n    return {\n      data: setStandbyMode,\n    }\n  },\n} as EngineDataProvider\n\ninterface EngineDataProvider extends DataProvider {\n  attachEvents: (\n    resource: string,\n    params: EngineEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>\n\n  detachEvents: (\n    resource: string,\n    params: EngineEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEventsDto>>\n\n  attachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>\n\n  detachEntrances: (\n    resource: string,\n    params: EngineEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EngineEntrancesDto>>\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>\n\n  lock: (\n    resource: string,\n    params: LockParams,\n  ) => Promise<DataProviderExtensionResult<LockResponse>>\n\n  unlock: (\n    resource: string,\n    params: UnlockParams,\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>\n\n  setStandbyMode: (\n    resource: string,\n    params: SetStandbyModeDto,\n  ) => Promise<DataProviderExtensionResult<SetStandbyModeDto>>\n}\n\nexport interface CreateEngineRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly address: string\n  readonly direction: DeviceDirection\n  readonly categoryId: number\n  readonly disabled: string\n  readonly stanbyMode: StanbyMode\n  readonly jsonStatus: string\n  readonly onlineInfixCeck: boolean\n  readonly multiplicity: Multiplicities\n  readonly hardwareVersion: HardwareVersions\n}\n\nexport interface LockParams {\n  engineId: number\n  lockName: string\n}\n\nexport interface LockResponse {\n  engineId: number\n  lockName: string\n  lockResult: EngineLockResults\n}\n\nexport interface UnlockParams {\n  engineId: number\n}\n\nexport interface UnlockResponse {\n  engineId: number\n  unlockResult: EngineUnlockResults\n}\n\nexport default provider\n","import { EventStatus } from '../../enum/EventStatus'\n\nconst mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n  eventActive: (lambdaParameter) =>\n    `${lambdaParameter}.Events.Any(ev=>ev.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${EventStatus.ACTIVE}))`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  filterEntranceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Entrances.Any(e=>e.Id==${otherValues?.entranceId})`\n      : null,\n  entranceId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  name: 'p=>p.Name',\n}\n\nexport const mapSortPalmParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { PALMS_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PalmEntrancesDto } from '../../dto/device/palm/palm-entrances.dto'\nimport { PalmEventsDto } from '../../dto/device/palm/palm-events.dto'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { Multiplicities } from '../../enum/Multiplicities'\nimport { PalmLockResult } from '../../enum/PalmLockResult'\nimport { PalmResetMobileDeviceIdResults } from '../../enum/PalmResetMobileDeviceIdResults'\nimport { PalmSetMobileDeviceIdResults } from '../../enum/PalmSetMobileDeviceIdResults'\nimport { PalmUnlockResult } from '../../enum/PalmUnlockResult'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './palm-filter.mapper'\nimport { mapSortPalmParam } from './palm-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PalmDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortPalmParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PalmDto[]>(`${PALMS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<PalmDto>> => {\n    const data = await get<PalmDto>(PALMS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PalmDto>> => {\n    const data = await get<PalmDto[]>(\n      PALMS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreatePalmRequest>,\n  ): Promise<CreateResult<PalmDto>> => {\n    const palm = await post<CreatePalmRequest[], PalmDto[]>(PALMS_URL, [data])\n    return {\n      data: palm[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<PalmDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, PalmDto>(\n      PALMS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        isWatched:\n          data.isWatched !== previousData.isWatched\n            ? data.isWatched\n            : undefined,\n        direction:\n          data.direction !== previousData.direction\n            ? data.direction\n            : undefined,\n        categoryId:\n          data.categoryId !== previousData.categoryId\n            ? data.categoryId\n            : undefined,\n        cameraId:\n          data.cameraId !== previousData.cameraId ? data.cameraId : undefined,\n        onlineInfixCeck:\n          data.onlineInfixCeck !== previousData.onlineInfixCeck\n            ? data.onlineInfixCeck\n            : undefined,\n        multiplicity:\n          data.multiplicity !== previousData.multiplicity\n            ? data.multiplicity\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  lock: async (\n    resource: string,\n    { palmId, lockName }: LockParams,\n  ): Promise<DataProviderExtensionResult<LockResponse>> => {\n    const data = await put<LockParams, LockResponse>(`${PALMS_URL}/Lock`, {\n      palmId,\n      lockName,\n    })\n    return Promise.resolve({ data })\n  },\n  unlock: async (\n    resource: string,\n    { palmId }: UnlockParams,\n  ): Promise<DataProviderExtensionResult<UnlockResponse>> => {\n    const data = await put<UnlockParams, UnlockResponse>(\n      `${PALMS_URL}/Unlock`,\n      {\n        palmId,\n      },\n    )\n    return Promise.resolve({ data: { ...data, disabled: undefined } })\n  },\n  setMobileDeviceId: async (\n    resource: string,\n    { palmId, mobileDeviceId }: SetMobileDeviceIdParams,\n  ): Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>> => {\n    const data = await put<SetMobileDeviceIdParams, SetMobileDeviceIdResponse>(\n      `${PALMS_URL}/SetMobileDeviceId`,\n      {\n        palmId,\n        mobileDeviceId,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  resetMobileDeviceId: async (\n    resource: string,\n    { palmId }: ResetMobileDeviceIdParams,\n  ): Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>> => {\n    const data = await put<\n      ResetMobileDeviceIdParams,\n      ResetMobileDeviceIdResponse\n    >(`${PALMS_URL}/ResetMobileDeviceId`, {\n      palmId,\n    })\n    return Promise.resolve({ data: { ...data, mobileDeviceId: undefined } })\n  },\n  attachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(\n      `${PALMS_URL}/AttachEvents`,\n      {\n        palmId,\n        eventsIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  detachEvents: async (\n    resource: string,\n    { palmId, eventsIds }: PalmEventsDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEventsDto>> => {\n    const data = await put<PalmEventsDto, PalmEventsDto>(\n      `${PALMS_URL}/DetachEvents`,\n      {\n        palmId,\n        eventsIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  attachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(\n      `${PALMS_URL}/AttachEntrances`,\n      {\n        palmId,\n        entrancesIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n  detachEntrances: async (\n    resource: string,\n    { palmId, entrancesIds }: PalmEntrancesDto,\n  ): Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>> => {\n    const data = await put<PalmEntrancesDto, PalmEntrancesDto>(\n      `${PALMS_URL}/DetachEntrances`,\n      {\n        palmId,\n        entrancesIds,\n      },\n    )\n    return Promise.resolve({ data })\n  },\n} as PalmDataProvider\n\ninterface PalmDataProvider extends DataProvider {\n  lock: (\n    resource: string,\n    params: LockParams,\n  ) => Promise<DataProviderExtensionResult<LockResponse>>\n\n  unlock: (\n    resource: string,\n    params: UnlockParams,\n  ) => Promise<DataProviderExtensionResult<UnlockResponse>>\n\n  setMobileDeviceId: (\n    resource: string,\n    params: SetMobileDeviceIdParams,\n  ) => Promise<DataProviderExtensionResult<SetMobileDeviceIdResponse>>\n\n  resetMobileDeviceId: (\n    resource: string,\n    params: ResetMobileDeviceIdParams,\n  ) => Promise<DataProviderExtensionResult<ResetMobileDeviceIdResponse>>\n\n  attachEvents: (\n    resource: string,\n    params: PalmEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>\n\n  detachEvents: (\n    resource: string,\n    params: PalmEventsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEventsDto>>\n\n  attachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n\n  detachEntrances: (\n    resource: string,\n    params: PalmEntrancesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<PalmEntrancesDto>>\n}\n\nexport interface CreatePalmRequest {\n  readonly name: string\n  readonly isWatched: boolean\n  readonly direction: DeviceDirection\n  readonly categoryId: number\n  readonly disabled: string\n  readonly jsonStatus: string\n  readonly onlineInfixCeck: boolean\n  readonly multiplicity: Multiplicities\n  readonly mobileDeviceId: string\n}\n\nexport interface LockParams {\n  palmId: Identifier\n  lockName: string\n}\n\nexport interface LockResponse {\n  palmId: Identifier\n  lockName: string\n  lockResult: PalmLockResult\n}\n\nexport interface UnlockParams {\n  palmId: Identifier\n}\n\nexport interface UnlockResponse {\n  palmId: Identifier\n  unlockResult: PalmUnlockResult\n}\n\nexport interface SetMobileDeviceIdParams {\n  palmId: Identifier\n  mobileDeviceId: string\n}\n\nexport interface SetMobileDeviceIdResponse {\n  palmId: Identifier\n  mobileDeviceId: string\n  setResult: PalmSetMobileDeviceIdResults\n}\n\nexport interface ResetMobileDeviceIdParams {\n  palmId: Identifier\n}\n\nexport interface ResetMobileDeviceIdResponse {\n  palmId: Identifier\n  resetResult: PalmResetMobileDeviceIdResults\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  categoryIdWithDescendants: () => null,\n  categoriesIds: (lambdaParameter, value) =>\n    `new int%3F[] {${(\n      value as number[]\n    )?.toString()}}.Contains(${lambdaParameter}.CategoryId)`,\n  hardwareVersion: (lambdaParameter, value) =>\n    `${lambdaParameter}.HardwareVersion.Equals(TicketAPI.Models.Enums.DeviceManagement.HardwareVersions.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  address: 'p=>p.Address',\n  hardwareVersion: 'p=>p.hardwareVersion',\n}\n\nexport const mapSortPassageParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { PASSAGES_URL } from '../../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../../common/data-provider'\nimport { DateTime } from '../../common/date-time'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../common/ticket-api-get-list.params'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { RemoveTSCanCredentialsDto } from '../../dto/device/passages/remove-tscan-credentials.dto'\nimport { ResetCountersDto } from '../../dto/device/passages/reset-counters.dto'\nimport { SetTSCanCredentialsDto } from '../../dto/device/passages/set-tscan-credentials.dto'\nimport { DeviceDirection } from '../../enum/DeviceDirection'\nimport { HardwareVersions } from '../../enum/HardwareVersions'\nimport { getDeviceCategories } from '../devices.utils'\nimport filterMapper from './passage-filter.mapper'\nimport { mapSortPassageParam } from './passage-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<PassageDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `o=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortPassageParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<PassageDto[]>(\n      `${PASSAGES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<PassageDto>> => {\n    const data = await get<PassageDto>(PASSAGES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<PassageDto>> => {\n    const { data } = await getWithPagination<PassageDto[]>(\n      `${PASSAGES_URL}/GetByConditions/`,\n      `e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreatePassageRequest>,\n  ): Promise<CreateResult<PassageDto>> => {\n    const passage = await post<CreatePassageRequest[], PassageDto[]>(\n      PASSAGES_URL,\n      [data],\n    )\n    return {\n      data: passage[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<PassageDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      PassageDto\n    >(PASSAGES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      isWatched:\n        data.isWatched !== previousData.isWatched ? data.isWatched : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      categoryId:\n        data.categoryId !== previousData.categoryId\n          ? data.categoryId\n          : undefined,\n      cameraId:\n        data.cameraId !== previousData.cameraId ? data.cameraId : undefined,\n      freeEntrancesCount:\n        data.freeEntrancesCount !== previousData.freeEntrancesCount\n          ? data.freeEntrancesCount\n          : undefined,\n      freeExitsCount:\n        data.freeExitsCount !== previousData.freeExitsCount\n          ? data.freeExitsCount\n          : undefined,\n      ticketEntrancesCount:\n        data.ticketEntrancesCount !== previousData.ticketEntrancesCount\n          ? data.ticketEntrancesCount\n          : undefined,\n      ticketExitsCount:\n        data.ticketExitsCount !== previousData.ticketExitsCount\n          ? data.ticketExitsCount\n          : undefined,\n      unauthorizedEntrancesCount:\n        data.unauthorizedEntrancesCount !==\n        previousData.unauthorizedEntrancesCount\n          ? data.unauthorizedEntrancesCount\n          : undefined,\n      unauthorizedExitsCount:\n        data.unauthorizedExitsCount !== previousData.unauthorizedExitsCount\n          ? data.unauthorizedExitsCount\n          : undefined,\n      hardwareVersion:\n        data.hardwareVersion !== previousData.hardwareVersion\n          ? data.hardwareVersion\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  resetCounters: async (\n    resource: string,\n    params: ResetCountersDto,\n  ): Promise<CacheableDataProviderExtensionResult<ResetCountersDto>> => {\n    const response = await put<ResetCountersDto, ResetCountersDto>(\n      `${PASSAGES_URL}/ResetCounters`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setTSCanCredentials: async (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ): Promise<CacheableDataProviderExtensionResult<SetTSCanCredentialsDto>> => {\n    const response = await put<SetTSCanCredentialsDto, SetTSCanCredentialsDto>(\n      `${PASSAGES_URL}/SetTSCanCredentials`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  removeTSCanCredentials: async (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ): Promise<\n    CacheableDataProviderExtensionResult<RemoveTSCanCredentialsDto>\n  > => {\n    const response = await put<\n      RemoveTSCanCredentialsDto,\n      RemoveTSCanCredentialsDto\n    >(`${PASSAGES_URL}/RemoveTSCanCredentials`, params)\n    return {\n      data: response,\n    }\n  },\n  setLockState: async (\n    resource: string,\n    params: SetLockStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetLockStateResponse>> => {\n    const response = await put<SetLockStateRequest, SetLockStateResponse>(\n      `${PASSAGES_URL}/SetLockState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setPowerState: async (\n    resource: string,\n    params: SetPowerStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetPowerStateResponse>> => {\n    const response = await put<SetPowerStateRequest, SetPowerStateResponse>(\n      `${PASSAGES_URL}/SetPowerState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setPPOZState: async (\n    resource: string,\n    params: SetPPOZStateRequest,\n  ): Promise<CacheableDataProviderExtensionResult<SetPPOZStateResponse>> => {\n    const response = await put<SetPPOZStateRequest, SetPPOZStateResponse>(\n      `${PASSAGES_URL}/SetPPOZState`,\n      params,\n    )\n    return {\n      data: response,\n    }\n  },\n  setFreePassState: async (\n    resource: string,\n    params: SetFreePassStateRequest,\n  ): Promise<\n    CacheableDataProviderExtensionResult<SetFreePassStateResponse>\n  > => {\n    const response = await put<\n      SetFreePassStateRequest,\n      SetFreePassStateResponse\n    >(`${PASSAGES_URL}/SetFreePassState`, params)\n    return {\n      data: response,\n    }\n  },\n} as DetectorDataProvider\n\ninterface DetectorDataProvider extends DataProvider {\n  resetCounters: (\n    resource: string,\n    params: ResetCountersDto,\n  ) => Promise<DataProviderExtensionResult<ResetCountersDto>>\n\n  setTSCanCredentials: (\n    resource: string,\n    params: SetTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetTSCanCredentialsDto>>\n\n  removeTSCanCredentials: (\n    resource: string,\n    params: RemoveTSCanCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveTSCanCredentialsDto>>\n\n  setLockState: (\n    resource: string,\n    params: SetLockStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetLockStateResponse>>\n\n  setPowerState: (\n    resource: string,\n    params: SetPowerStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetPowerStateResponse>>\n\n  setPPOZState: (\n    resource: string,\n    params: SetPPOZStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetPPOZStateResponse>>\n\n  setFreePassState: (\n    resource: string,\n    params: SetFreePassStateRequest,\n  ) => Promise<DataProviderExtensionResult<SetFreePassStateResponse>>\n}\n\nexport interface CreatePassageRequest {\n  readonly name: string\n  readonly isWatched?: boolean\n  readonly lastRefresh?: DateTime\n  readonly address: string\n  readonly direction?: DeviceDirection\n  readonly categoryId?: number\n  readonly jsonStatus?: string\n  readonly freeEntrancesCount?: number\n  readonly freeExitsCount?: number\n  readonly ticketEntrancesCount?: number\n  readonly ticketExitsCount?: number\n  readonly unauthorizedEntrancesCount?: number\n  readonly unauthorizedExitsCount?: number\n  readonly hardwareVersion?: HardwareVersions\n}\n\nexport interface SetFreePassStateRequest {\n  readonly passageId: number\n  readonly freePassState: boolean\n  readonly direction: DeviceDirection\n}\n\nexport interface SetFreePassStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetLockStateRequest {\n  readonly passageId: number\n  readonly lockState: boolean\n}\n\nexport interface SetLockStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetPowerStateRequest {\n  readonly passageId: number\n  readonly powerState: boolean\n}\n\nexport interface SetPowerStateResponse {\n  readonly passageId: number\n}\n\nexport interface SetPPOZStateRequest {\n  readonly passageId: number\n  readonly ppozState: boolean\n}\n\nexport interface SetPPOZStateResponse {\n  readonly passageId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  note: (lambdaParameter, value) =>\n    `${lambdaParameter}.Note.Contains(\"${value}\")`,\n  filterVerifierDeviceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.VerifierDevices.Any(vd=>vd.Id==${otherValues?.verifierDeviceId})`\n      : null,\n  verifierDeviceId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  note: 'e=>e.Note',\n}\n\nexport const mapSortEntranceParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyReferenceResult,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  CreateParams,\n  CreateResult,\n  Identifier,\n} from 'react-admin'\nimport { ENTRANCES_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport {\n  TicketAPIGetListParams,\n  TicketAPIGetManyRefrenceParams,\n} from '../common/ticket-api-get-list.params'\nimport { EntranceDto } from '../dto/entrance.dto'\nimport { EntranceDevicesDto } from '../dto/entrances-devices.dto'\nimport filterMapper from './entrance-filter.mapper'\nimport { mapSortEntranceParam } from './entrance-sort.mapper'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EntranceDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortEntranceParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EntranceDto>> => {\n    const data = await get<EntranceDto>(ENTRANCES_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EntranceDto>> => {\n    const { data } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions/`,\n      `e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  getManyReference: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetManyRefrenceParams,\n  ): Promise<GetManyReferenceResult<EntranceDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortEntranceParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EntranceDto[]>(\n      `${ENTRANCES_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateEntranceRequest>,\n  ): Promise<CreateResult<EntranceDto>> => {\n    const entrance = await post<CreateEntranceRequest[], EntranceDto[]>(\n      ENTRANCES_URL,\n      [data],\n    )\n    return {\n      data: entrance[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EntranceDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      EntranceDto\n    >(ENTRANCES_URL, {\n      id,\n      note: data.note !== previousData.name ? data.note : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  attachDevices: async (\n    resource: string,\n    params: EntranceDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>> => {\n    const entranceDevices = await put<EntranceDevicesDto, EntranceDevicesDto>(\n      `${ENTRANCES_URL}/AttachDevices`,\n      params,\n    )\n    return {\n      data: entranceDevices,\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EntranceDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>> => {\n    const entranceDevices = await put<EntranceDevicesDto, EntranceDevicesDto>(\n      `${ENTRANCES_URL}/DetachDevices`,\n      params,\n    )\n    return {\n      data: entranceDevices,\n    }\n  },\n} as EntranceDataProvider\n\ninterface EntranceDataProvider extends DataProvider {\n  attachDevices: (\n    resource: string,\n    params: EntranceDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>>\n\n  detachDevices: (\n    resource: string,\n    params: EntranceDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EntranceDevicesDto>>\n}\n\nexport interface CreateEntranceRequest {\n  readonly note: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterVerifierDeviceId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.VerifierDevices.Any(vd=>vd.Id==${otherValues?.verifierDeviceId})`\n      : null,\n  verifierDeviceId: () => null,\n  status: (lambdaParameter, value) =>\n    `${lambdaParameter}.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Objects.Any(ob=>ob.Id.Equals(${value}))`,\n  companyId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Companies.Any(c=>c.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n  status: 'e=>e.Status',\n}\n\nexport const mapSortEventParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { EVENTS_URL } from '../api-urls'\nimport {\n  CacheableDataProviderExtensionResult,\n  DataProviderExtensionResult,\n} from '../common/data-provider'\nimport { DateTime, ignoreTimezoneOffset } from '../common/date-time'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { EventCompaniesDto } from '../dto/event/event-companies.dto'\nimport { EventDevicesDto } from '../dto/event/event-devices.dto'\nimport { EventObjectsDto } from '../dto/event/event-objects.dto'\nimport { EventDto } from '../dto/event/event.dto'\nimport { EventStatus } from '../enum/EventStatus'\nimport filterMapper from './event-filter.mapper'\nimport { mapSortEventParam } from './event-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<EventDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortEventParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<EventDto>> => {\n    const event = await get<EventDto>(EVENTS_URL, `/${id}`)\n\n    return {\n      data: event,\n    }\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<EventDto>,\n  ): Promise<CreateResult<EventDto>> => {\n    const event = await post<CreateEventRequest[], EventDto[]>(EVENTS_URL, [\n      {\n        ...data,\n        dateStart: ignoreTimezoneOffset(\n          new Date(data.dateStart),\n        ).toISOString() as DateTime,\n        dateEnd: ignoreTimezoneOffset(\n          new Date(data.dateEnd),\n        ).toISOString() as DateTime,\n      },\n    ])\n\n    return {\n      data: event[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<EventDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, EventDto>(\n      EVENTS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n        dateStart:\n          data.dateStart !== previousData.dateStart\n            ? (ignoreTimezoneOffset(\n                new Date(data.dateStart),\n              ).toISOString() as DateTime)\n            : undefined,\n        dateEnd:\n          data.dateEnd !== previousData.dateEnd\n            ? (ignoreTimezoneOffset(\n                new Date(data.dateEnd),\n              ).toISOString() as DateTime)\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<EventDto>> => {\n    const data = await get<EventDto[]>(\n      EVENTS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  activate: async (\n    resource: string,\n    { eventId }: ChangeStateParams,\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const activate = await put<undefined, ChangeStateResponse>(\n      `${EVENTS_URL}/ActivateAsyncJob/${eventId}`,\n      undefined,\n    )\n    return {\n      data: activate,\n    }\n  },\n  deactivate: async (\n    resource: string,\n    { eventId }: ChangeStateParams,\n  ): Promise<DataProviderExtensionResult<ChangeStateResponse>> => {\n    const deactivate = await put<undefined, ChangeStateResponse>(\n      `${EVENTS_URL}/DeactivateAsyncJob/${eventId}`,\n      undefined,\n    )\n    return {\n      data: deactivate,\n    }\n  },\n  getCompanies: async (\n    resource: string,\n    { eventId }: GetCompaniesParams,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const companies = await get<EventCompaniesDto>(\n      `${EVENTS_URL}`,\n      `/GetCompanies/${eventId}`,\n    )\n    return {\n      data: companies,\n    }\n  },\n  attachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>(\n      `${EVENTS_URL}/AttachCompanies`,\n      params,\n    )\n    return {\n      data: eventCompanies,\n    }\n  },\n  detachCompanies: async (\n    resource: string,\n    params: EventCompaniesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>> => {\n    const eventCompanies = await put<EventCompaniesDto, EventCompaniesDto>(\n      `${EVENTS_URL}/DetachCompanies`,\n      params,\n    )\n    return {\n      data: eventCompanies,\n    }\n  },\n  attachObjects: async (\n    resource: string,\n    params: EventObjectsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>(\n      `${EVENTS_URL}/AttachObjects`,\n      params,\n    )\n    return {\n      data: eventObjects,\n    }\n  },\n  detachObjects: async (\n    resource: string,\n    params: EventObjectsDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventObjectsDto>> => {\n    const eventObjects = await put<EventObjectsDto, EventObjectsDto>(\n      `${EVENTS_URL}/DetachObjects`,\n      params,\n    )\n    return {\n      data: eventObjects,\n    }\n  },\n  getDevices: async (\n    resource: string,\n    { eventId }: GetDevicesParams,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const devices = await get<EventDevicesDto>(\n      `${EVENTS_URL}`,\n      `/GetDevices/${eventId}`,\n    )\n    return {\n      data: devices,\n    }\n  },\n  attachDevices: async (\n    resource: string,\n    params: EventDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>(\n      `${EVENTS_URL}/AttachDevices`,\n      params,\n    )\n    return {\n      data: eventDevices,\n    }\n  },\n  detachDevices: async (\n    resource: string,\n    params: EventDevicesDto,\n  ): Promise<CacheableDataProviderExtensionResult<EventDevicesDto>> => {\n    const eventDevices = await put<EventDevicesDto, EventDevicesDto>(\n      `${EVENTS_URL}/DetachDevices`,\n      params,\n    )\n    return {\n      data: eventDevices,\n    }\n  },\n} as EventDataProvider\n\ninterface EventDataProvider extends DataProvider {\n  activate: (\n    resource: string,\n    params: ChangeStateParams,\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>\n\n  deactivate: (\n    resource: string,\n    params: ChangeStateParams,\n  ) => Promise<DataProviderExtensionResult<ChangeStateResponse>>\n\n  getCompanies: (\n    resource: string,\n    params: GetCompaniesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  attachCompanies: (\n    resource: string,\n    params: EventCompaniesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  detachCompanies: (\n    resource: string,\n    params: EventCompaniesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventCompaniesDto>>\n\n  getObjectsList: (\n    resource: string,\n    params: GetObjectsParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  attachObjects: (\n    resource: string,\n    params: EventObjectsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  detachObjects: (\n    resource: string,\n    params: EventObjectsDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventObjectsDto>>\n\n  getDevices: (\n    resource: string,\n    params: GetDevicesParams,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n\n  attachDevices: (\n    resource: string,\n    params: EventDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n\n  detachDevices: (\n    resource: string,\n    params: EventDevicesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<EventDevicesDto>>\n}\n\nexport interface ChangeStateParams {\n  eventId: Identifier\n}\n\nexport interface ChangeStateResponse {\n  jobId: Identifier\n}\n\nexport interface GetCompaniesParams {\n  eventId: Identifier\n}\n\nexport interface GetObjectsParams {\n  eventId: Identifier\n}\n\nexport interface GetDevicesParams {\n  eventId: Identifier\n}\n\nexport interface CreateEventRequest {\n  readonly name: string\n  readonly status?: EventStatus\n  readonly dateStart: DateTime\n  readonly dateEnd: DateTime\n  readonly externalId?: string\n  readonly infix?: string\n  readonly objectsIds?: number[]\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  ticketCode: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BookingId.Equals(${value})`,\n  customerId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.CustomerId.Equals(${value})`,\n  date: (lambdaParameter, value) =>\n    `${lambdaParameter}.Date > DateTimeOffset.FromUnixTimeMilliseconds(${\n      value.toString().split(';')[0]\n    }).DateTime && ${lambdaParameter}.Date < DateTimeOffset.FromUnixTimeMilliseconds(${\n      value.toString().split(';')[1]\n    }).DateTime`,\n  deviceName: (lambdaParameter, value) =>\n    `${lambdaParameter}.Device.Name.Contains(\"${value}\")`,\n  text: (lambdaParameter, value) =>\n    `${lambdaParameter}.Data.Text.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Objects.Any(o=>o.Id.Equals(${value}))`,\n  eventId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Id.Equals(${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  date: 'l=>l.Date',\n  deviceName: 'l=>l.Device.Name',\n  ticketCode: 'l=>l.TicketCode',\n  bookingId: 'l=>l.BookingId',\n}\n\nexport const mapSortLogParam = (key: string) => mapping[key]\n","import { ExtendedLog } from '../dto/extended-log'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\n\nexport const mapToExtendedLog = (\n  {\n    id,\n    date,\n    ticketCode,\n    bookingId,\n    scheme,\n    device: { name: deviceName, camera },\n    data,\n  }: ExtendedLogDto,\n  locale: string,\n): ExtendedLog => {\n  const logEntry = data.filter(({ language }) => language.includes(locale))[0]\n  return {\n    id,\n    date,\n    deviceName,\n    ticketCode,\n    text: logEntry?.text || scheme,\n    color: data[0].color || 'transparent',\n    bookingId,\n    cameraId: camera?.id,\n    cameraDescription: camera?.description,\n  }\n}\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EXTENDED_LOGS_URL } from '../api-urls'\nimport { getWithPagination } from '../common/fetch.utils'\nimport { ExtendedLogDto } from '../dto/extended-log.dto'\nimport { ExtendedLog } from '../dto/extended-log'\nimport { filterMapper } from './extended-log-filter.mapper'\nimport { mapSortLogParam } from './extended-log-sort.mapper'\nimport { mapToExtendedLog } from './extended-logs.mapper'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter: { locale, ...filter }, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<ExtendedLog>> => {\n    const filterParams = `a=>${filterParamsComposer('a', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortLogParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ExtendedLogDto[]>(EXTENDED_LOGS_URL, path)\n    const extendedLogs = data.map((dto) => mapToExtendedLog(dto, locale))\n\n    return Promise.resolve({\n      data: extendedLogs,\n      total,\n    })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.id==${value}`,\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterEventId: () => null,\n  eventId: (lambdaParameter, value, otherValues) =>\n    otherValues.filterEventId === false\n      ? null\n      : `${lambdaParameter}.Events.Any(e=>e.Id.Equals(${value}))`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'o=>o.Id',\n  name: 'o=>o.Name',\n}\n\nexport const mapSortObjectParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { OBJECTS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { ObjectDto } from '../dto/object.dto'\nimport filterMapper from './object-filter.mapper'\nimport { mapSortObjectParam } from './object-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<ObjectDto>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortObjectParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<ObjectDto[]>(\n      `${OBJECTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<ObjectDto>> => {\n    const data = await get<ObjectDto>(OBJECTS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<CreateObjectRequest>,\n  ): Promise<CreateResult<ObjectDto>> => {\n    const object = await post<CreateObjectRequest[], ObjectDto[]>(OBJECTS_URL, [\n      data,\n    ])\n    return {\n      data: object[0],\n    }\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, ObjectDto>(\n      OBJECTS_URL,\n      {\n        id,\n        name: data.name !== previousData.name ? data.name : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<ObjectDto>> => {\n    const data = await get<ObjectDto[]>(\n      OBJECTS_URL,\n      `/GetByConditions/o=>new int[] {${ids.toString()}}.Contains(o.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport interface CreateObjectRequest {\n  readonly name: string\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  id: (lambdaParameter, value) => `${lambdaParameter}.Id==${value}`,\n  numberAlias: (lambdaParameter, value) =>\n    `${lambdaParameter}.NumberAlias.Contains(\"${value}\")`,\n  rowAlias: (lambdaParameter, value) =>\n    `${lambdaParameter}.RowAlias.Contains(\"${value}\")`,\n  blockId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BlockId.Equals(${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Block.Tribune.ObjectId.Equals(${value})`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 's=>s.Id',\n  rowAlias: 's=>s.RowAlias',\n  numberAlias: 's=>s.numberAlias',\n  blockId: 's=>s.blockId',\n}\n\nexport const mapSortSeatParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { SEATS_URL } from '../api-urls'\nimport { get, getWithPagination, post, patch } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { SeatDto } from '../dto/seat.dto'\nimport { SeatCreateParams } from './seats-create.params'\nimport filterMapper from './seats-filter.mapper'\nimport { mapSortSeatParam } from './seats-sort.mapper'\n\ntype CreateSeatRequest = Array<SeatCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<SeatDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortSeatParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<SeatDto[]>(`${SEATS_URL}/GetByConditions`, path)\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<SeatCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateSeatRequest = [data]\n    await post<CreateSeatRequest, SeatDto[]>(SEATS_URL, request)\n    return Promise.resolve({\n      data: { id: 0 }, // need to return something\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<SeatDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, SeatDto>(\n      SEATS_URL,\n      {\n        id,\n        rowAlias:\n          data.rowAlias !== previousData.rowAlias ? data.rowAlias : undefined,\n        numberAlias:\n          data.numberAlias !== previousData.numberAlias\n            ? data.numberAlias\n            : undefined,\n        blockId:\n          data.blockId !== previousData.blockId ? data.blockId : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<SeatDto>> => {\n    const data = await get<SeatDto[]>(\n      SEATS_URL,\n      `/GetByConditions/s=>new int[] {${ids.toString()}}.Contains(s.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  status: (lambdaParameter, value) =>\n    `${lambdaParameter}.Status.Equals(TicketAPI.Models.Enums.TicketManagement.EventStatuses.${value})`,\n  hasObjects: (lambdaParameter) => `${lambdaParameter}.Objects.Count>0`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'e=>e.Id',\n  name: 'e=>e.Name',\n  dateStart: 'e=>e.DateStart',\n  dateEnd: 'e=>e.DateEnd',\n}\n\nexport const mapSortOverallViewParam = (key: string) => mapping[key]\n","import { EventDto } from '../../../dto/event/event.dto'\nimport { EventOverallView } from './event-overall-view'\n\nexport const mapToEventOverallView = (event: EventDto): EventOverallView => ({\n  id: event.id,\n  name: event.name,\n  dateStart: event.dateStart,\n  dateEnd: event.dateEnd,\n})\n","import { DataProvider, GetListResult } from 'react-admin'\nimport { EVENTS_URL } from '../../../api-urls'\nimport { getWithPagination } from '../../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../../common/get-by-conditions.utils'\nimport { NameFilter } from '../../../common/name.filter'\nimport { EventDto } from '../../../dto/event/event.dto'\nimport { EventOverallView } from './event-overall-view'\nimport filterMapper from './overall-view-list-filter.mapper'\nimport { mapSortOverallViewParam } from './overall-view-list-sort.mapper'\nimport { mapToEventOverallView } from './overall-view-list.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: NameFilter,\n  ): Promise<GetListResult<EventOverallView>> => {\n    const filterParams = `o=>${filterParamsComposer('o', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortOverallViewParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<EventDto[]>(\n      `${EVENTS_URL}/GetByConditions`,\n      path,\n    )\n\n    const overallViewList = data.map((event) => mapToEventOverallView(event))\n\n    return {\n      data: overallViewList,\n      total,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","import { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { BookingType } from '../../enum/BookingType'\nimport {\n  BlockOverallView,\n  ObjectOverallView,\n  OverallView,\n  TribuneOverallView,\n} from './overall-view'\n\nconst calculateCapacity = (seats: SeatDto[], bookings: BookingDto[]) =>\n  seats.length + bookings.filter((b) => b.seatId == null).length\n\nconst mapToBlockOverallView = (\n  block: BlockDto,\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): BlockOverallView => ({\n  id: block.id,\n  name: block.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookings.length,\n  soldNormal: bookings.filter((b) => b.type === BookingType.NORMAL).length,\n  enteredNormal: enteredBookings.filter((b) => b.type === BookingType.NORMAL)\n    .length,\n  soldAbo: bookings.filter((b) => b.type === BookingType.ABO).length,\n  enteredAbo: enteredBookings.filter((b) => b.type === BookingType.ABO).length,\n  soldInfix: bookings.filter((b) => b.type === BookingType.INFIX).length,\n  enteredInfix: enteredBookings.filter((b) => b.type === BookingType.INFIX)\n    .length,\n  soldService: bookings.filter((b) => b.type === BookingType.SERVICE).length,\n  enteredService: enteredBookings.filter((b) => b.type === BookingType.SERVICE)\n    .length,\n  soldPoints: bookings.filter((b) => b.type === BookingType.POINTS).length,\n  enteredPoints: enteredBookings.filter((b) => b.type === BookingType.POINTS)\n    .length,\n})\n\nconst mapToTribuneOverallView = (\n  tribune: TribuneDto,\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): TribuneOverallView => ({\n  id: tribune.id,\n  name: tribune.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  blocks: blocks\n    .filter((b) => tribune.blocksIds.includes(b.id))\n    .map((block) => {\n      const filteredSeats = seats.filter((s) => s.blockId === block.id)\n      const filteredBookingIds = block.bookingsIds.concat(\n        filteredSeats.flatMap((s) => s.bookingsIds),\n      )\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      const filteredEnteredBookings = bookings.filter((book) =>\n        filteredEnteredBookingIds.includes(book.id),\n      )\n      return mapToBlockOverallView(\n        block,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookings,\n      )\n    }),\n})\n\nconst mapToObjectOverallView = (\n  object: ObjectDto,\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookingIds: number[],\n): ObjectOverallView => ({\n  id: object.id,\n  name: object.name,\n  capacity: calculateCapacity(seats, bookings),\n  sold: bookings.length,\n  entered: enteredBookingIds.length,\n  tribunes: tribunes\n    .filter((t) => object.tribunesIds.includes(t.id))\n    .map((tribune) => {\n      const filteredBlocks = blocks.filter((b) => b.tribuneId === tribune.id)\n      const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n      const filteredSeats = seats.filter((s) => filteredSeatIds.includes(s.id))\n      const filteredBookingIds = filteredBlocks\n        .flatMap((b) => b.bookingsIds)\n        .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n      const filteredBookings = bookings.filter((book) =>\n        filteredBookingIds.includes(book.id),\n      )\n      const filteredEnteredBookingIds = enteredBookingIds.filter(\n        (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n      )\n      return mapToTribuneOverallView(\n        tribune,\n        filteredBlocks,\n        filteredSeats,\n        filteredBookings,\n        filteredEnteredBookingIds,\n      )\n    }),\n})\n\nexport const mapToOverallView = (\n  selectedEvent: EventDto,\n  objects: ObjectDto[],\n  tribunes: TribuneDto[],\n  blocks: BlockDto[],\n  seats: SeatDto[],\n  bookings: BookingDto[],\n  enteredBookings: BookingDto[],\n): OverallView => {\n  const enteredBookingIds = enteredBookings.map((book) => book.id)\n  return {\n    id: selectedEvent.id,\n    eventName: selectedEvent.name,\n    capacity: calculateCapacity(seats, bookings),\n    sold: bookings.length,\n    entered: enteredBookings.length,\n    date: selectedEvent.dateStart,\n    objects: objects\n      .filter((o) => selectedEvent.objectsIds.includes(o.id))\n      .map((object) => {\n        const filteredTribunes = tribunes.filter(\n          (t) => t.objectId === object.id,\n        )\n        const filteredBlocks = blocks.filter((b) =>\n          filteredTribunes.flatMap((t) => t.blocksIds).includes(b.id),\n        )\n        const filteredSeatIds = filteredBlocks.flatMap((b) => b.seatsIds)\n        const filteredSeats = seats.filter((s) =>\n          filteredSeatIds.includes(s.id),\n        )\n        const filteredBookingIds = filteredBlocks\n          .flatMap((b) => b.bookingsIds)\n          .concat(filteredSeats.flatMap((s) => s.bookingsIds))\n        const filteredBookings = bookings.filter((book) =>\n          filteredBookingIds.includes(book.id),\n        )\n        const filteredEnteredBookingIds = enteredBookingIds.filter(\n          (enteredBookingId) => filteredBookingIds.includes(enteredBookingId),\n        )\n        return mapToObjectOverallView(\n          object,\n          filteredTribunes,\n          filteredBlocks,\n          filteredSeats,\n          filteredBookings,\n          filteredEnteredBookingIds,\n        )\n      }),\n  }\n}\n","import { DataProvider, GetOneParams, GetOneResult } from 'react-admin'\nimport {\n  BLOCKS_URL,\n  BOOKINGS_URL,\n  EVENTS_URL,\n  OBJECTS_URL,\n  SEATS_URL,\n  TRIBUNES_URL,\n} from '../../api-urls'\nimport { get, getByConditions } from '../../common/fetch.utils'\nimport { BlockDto } from '../../dto/block.dto'\nimport { BookingDto } from '../../dto/booking.dto'\nimport { EventDto } from '../../dto/event/event.dto'\nimport { ObjectDto } from '../../dto/object.dto'\nimport { SeatDto } from '../../dto/seat.dto'\nimport { TribuneDto } from '../../dto/tribune.dto'\nimport { OverallView } from './overall-view'\nimport { mapToOverallView } from './overall-view.mapper'\n\nconst provider = {\n  getOne: async (\n    resource: string,\n    { id: eventId }: GetOneParams,\n  ): Promise<GetOneResult<OverallView>> => {\n    const pendingSelectedEvent = get<EventDto>(EVENTS_URL, `/${eventId}`)\n    const pendingObjects = getByConditions<ObjectDto>(\n      OBJECTS_URL,\n      `o=>o.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=o=>o.Name&sortOrder=ASC`,\n    )\n    const pendingTribunes = getByConditions<TribuneDto>(\n      TRIBUNES_URL,\n      `t=>t.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=t=>t.Name&sortOrder=ASC`,\n    )\n    const pendingBlocks = getByConditions<BlockDto>(\n      BLOCKS_URL,\n      `b=>b.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))?sortBy=b=>b.Name&sortOrder=ASC`,\n    )\n    const pendingSeats = getByConditions<SeatDto>(\n      SEATS_URL,\n      `s=>s.Block.Tribune.Object.Events.Any(e => e.Id.Equals(${eventId}))`,\n    )\n    const bookingsCondition = `b=>b.EventId.Equals(${eventId}) && b.Disabled != TicketAPI.Models.Enums.TicketManagement.BookingDisabledOptions.STORNO`\n    const pendingBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      bookingsCondition,\n    )\n    const pendingEnteredBookings = getByConditions<BookingDto>(\n      BOOKINGS_URL,\n      `${bookingsCondition} && b.Tickets.SelectMany(t => t.AccessUsings).Any(au => au.Active == true && au.Direction.Equals(TicketAPI.Models.Enums.DeviceManagement.DeviceDirections.IN))`,\n    )\n\n    const [\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    ] = await Promise.all([\n      pendingSelectedEvent,\n      pendingObjects,\n      pendingTribunes,\n      pendingBlocks,\n      pendingSeats,\n      pendingBookings,\n      pendingEnteredBookings,\n    ])\n\n    const overallViewData = mapToOverallView(\n      selectedEvent,\n      objects,\n      tribunes,\n      blocks,\n      seats,\n      bookings,\n      enteredBookings,\n    )\n\n    return {\n      data: overallViewData,\n    }\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  ids: (lambdaParameter, value) =>\n    `new int[] {${value}}.Contains(${lambdaParameter}.Id)`,\n  ticketCode: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketCode.Contains(\"${value}\")`,\n  bookingId: (lambdaParameter, value) =>\n    `${lambdaParameter}.BookingId.Equals(${value})`,\n  eventId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.EventId.Equals(${value})`,\n  bookingType: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Type.Equals(TicketAPI.Models.Enums.TicketManagement.BookingTypes.${value})`,\n  objectId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.Event.Objects.Any(o=>o.Id.Equals(${value}))`,\n  variantId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Booking.VariantId.Equals(${value})`,\n  ticketType: (lambdaParameter, value) =>\n    `${lambdaParameter}.TicketType.Equals(TicketAPI.Models.Enums.TicketManagement.TicketTypes.${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'p=>p.Id',\n  ticketCode: 'p=>p.TicketCode',\n  bookingId: 't=>t.BookingId',\n  customerFirstname: 't=>t.Booking.Customer.Firstname',\n  customerLastname: 't=>t.Booking.Customer.Lastname',\n  customerPesel: 't=>t.Booking.Customer.Pesel',\n  eventName: 't=>t.Booking.Event.Name',\n}\n\nexport const mapSortTicketParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { TICKETS_URL } from '../api-urls'\nimport { get, getWithPagination, patch, post } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { TicketDto } from '../dto/ticket.dto'\nimport { TicketType } from '../enum/TicketType'\nimport filterMapper from './ticket-filter.mapper'\nimport { mapSortTicketParam } from './ticket-sort.mapper'\nimport { CreateManyParams, ImportCsvDataProvider } from '../csv'\nimport { BookingType } from '../enum/BookingType'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, pagination, sort }: TicketAPIGetListParams,\n  ): Promise<GetListResult<TicketDto>> => {\n    const filterParams = `t=>${filterParamsComposer('t', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortTicketParam)\n    const path = `/${filterParams}${pathParams ? `?${pathParams}` : ''}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<TicketDto>> => {\n    const filterParams = `t=>${filterParamsComposer(\n      't',\n      { ids },\n      filterMapper,\n    )}`\n    const data = await get<TicketDto[]>(\n      `${TICKETS_URL}/GetByConditions/`,\n      filterParams,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<TicketDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, TicketDto>(\n      TICKETS_URL,\n      {\n        id,\n        ticketCode:\n          data.ticketCode !== previousData.ticketCode\n            ? data.ticketCode\n            : undefined,\n        ticketType:\n          data.ticketType !== previousData.ticketType\n            ? data.ticketType\n            : undefined,\n        active: data.active !== previousData.active ? data.active : undefined,\n        bookingId:\n          data.bookingId !== previousData.bookingId\n            ? data.bookingId\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<CreateTicketRequest>,\n  ): Promise<CreateResult> => {\n    const ticket = await post<CreateTicketRequest[], TicketDto[]>(TICKETS_URL, [\n      data,\n    ])\n    return Promise.resolve({\n      data: ticket[0],\n    })\n  },\n  createMany: async (\n    resource,\n    { data }: CreateManyParams<ImportTicketRequest>,\n  ): Promise<any> => {\n    const tickets = await post<ImportTicketRequest[], TicketDto[]>(\n      `${TICKETS_URL}/Import`,\n      data,\n    )\n    return { data: tickets[0] }\n  },\n} as ImportCsvDataProvider\n\ninterface CreateTicketRequest {\n  readonly ticketCode: string\n  readonly ticketType: TicketType\n  readonly active: boolean\n  readonly bookingId: number\n}\n\ninterface ImportTicketRequest {\n  readonly customerFirstName: string\n  readonly customerLastname: string\n  readonly customerPesel: string\n  readonly customerDocumentNumber: string\n  readonly ticketCode: string\n  readonly ticketType: TicketType\n  readonly bookingType: BookingType\n  readonly disabled: BookingDisabledOption\n  readonly blockId: number\n  readonly variantId: number\n  readonly eventId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  objectId: (lambdaParameter, value) => `${lambdaParameter}.ObjectId==${value}`,\n}\n\nexport const filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 't=>t.Id',\n  name: 't=>t.Name',\n}\nexport const mapSortTribuneParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { TRIBUNES_URL } from '../api-urls'\nimport { get, getWithPagination, post, patch } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { TribuneDto } from '../dto/tribune.dto'\nimport { TribuneCreateParams } from './tribunes-create.params'\nimport filterMapper from './tribunes-filter.mapper'\nimport { mapSortTribuneParam } from './tribunes-sort.mapper'\n\ntype CreateTribuneRequest = Array<TribuneCreateParams>\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<TribuneDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortTribuneParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<TribuneDto[]>(\n      `${TRIBUNES_URL}/GetByConditions`,\n      path,\n    )\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  create: async (\n    resource,\n    { data }: CreateParams<TribuneCreateParams>,\n  ): Promise<CreateResult> => {\n    const request: CreateTribuneRequest = [data]\n    await post<CreateTribuneRequest, TribuneDto[]>(TRIBUNES_URL, request)\n    return Promise.resolve({\n      data: { id: 0 },\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      TribuneDto\n    >(TRIBUNES_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<TribuneDto>> => {\n    const data = await get<TribuneDto[]>(\n      TRIBUNES_URL,\n      `/GetByConditions/t=>new int[] {${ids.toString()}}.Contains(t.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n} as DataProvider\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  filterAccessId: (lambdaParameter, value, otherValues) =>\n    value\n      ? `${lambdaParameter}.Accesses.Any(a=>a.Id==${otherValues?.accessId})`\n      : null,\n  accessId: () => null,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  active: 'p=>p.Active',\n}\n\nexport const mapSortVariantParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  CreateParams,\n  CreateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { VARIANTS_URL } from '../api-urls'\nimport { CacheableDataProviderExtensionResult } from '../common/data-provider'\nimport { get, getWithPagination, patch, post, put } from '../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../common/ticket-api-get-list.params'\nimport { VariantAccessesDto } from '../dto/variant-accesses.dto'\nimport { VariantDto } from '../dto/variant.dto'\nimport filterMapper from './variants-filter.mapper'\nimport { mapSortVariantParam } from './variants-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<VariantDto>> => {\n    const filterParams = `v=>${filterParamsComposer('v', filter, filterMapper)}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortVariantParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<VariantDto[]>(\n      `${VARIANTS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<VariantDto>> => {\n    const data = await get<VariantDto>(VARIANTS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<VariantDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<UpdateVariantRequest, VariantDto>(VARIANTS_URL, {\n      id: id as number,\n      name: data.name !== previousData.name ? data.name : undefined,\n      active: data.active !== previousData.active ? data.active : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<VariantDto>,\n  ): Promise<CreateResult> => {\n    const created = await post<CreateVariantRequest[], VariantDto[]>(\n      VARIANTS_URL,\n      [\n        {\n          name: data?.name,\n          active: data?.active || false,\n        },\n      ],\n    )\n    return Promise.resolve({ data: created[0] })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<VariantDto>> => {\n    const data = await get<VariantDto[]>(\n      VARIANTS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  attachAccesses: async (\n    resource: string,\n    params: VariantAccessesDto,\n  ): Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>> => {\n    const variantAccesses = await put<VariantAccessesDto, VariantAccessesDto>(\n      `${VARIANTS_URL}/AttachAccesses`,\n      params,\n    )\n    return {\n      data: variantAccesses,\n    }\n  },\n  detachAccesses: async (\n    resource: string,\n    params: VariantAccessesDto,\n  ): Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>> => {\n    const variantAccesses = await put<VariantAccessesDto, VariantAccessesDto>(\n      `${VARIANTS_URL}/DetachAccesses`,\n      params,\n    )\n    return {\n      data: variantAccesses,\n    }\n  },\n} as VariantDataProvider\n\ninterface VariantDataProvider extends DataProvider {\n  attachAccesses: (\n    resource: string,\n    params: VariantAccessesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>>\n\n  detachAccesses: (\n    resource: string,\n    params: VariantAccessesDto,\n  ) => Promise<CacheableDataProviderExtensionResult<VariantAccessesDto>>\n}\n\ntype CreateVariantRequest = Pick<VariantDto, 'name'> &\n  Partial<Pick<VariantDto, 'active'>>\n\ntype UpdateVariantRequest = Pick<VariantDto, 'id'> &\n  Partial<Pick<VariantDto, 'name' | 'active'>>\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  description: (lambdaParameter, value) =>\n    `${lambdaParameter}.Description.Contains(\"${value}\")`,\n  serverId: (lambdaParameter, value) =>\n    `${lambdaParameter}.Server.Id.Equals(${value})`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  description: 'p=>p.Description',\n  serverId: 'p=>p.ServerId',\n}\n\nexport const mapSortCameraParam = (key: string) => mapping[key]\n","import {\n  CreateParams,\n  CreateResult,\n  DataProvider,\n  GetListResult,\n  GetManyParams,\n  GetManyResult,\n  GetOneParams,\n  GetOneResult,\n  Identifier,\n  UpdateParams,\n  UpdateResult,\n} from 'react-admin'\nimport { CAMERAS_URL } from '../../../api-urls'\nimport { DataProviderExtensionResult } from '../../../common/data-provider'\nimport { DateTime } from '../../../common/date-time'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n} from '../../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../../common/ticket-api-get-list.params'\nimport { CameraDto } from '../../../dto/device/camera/cameras/camera.dto'\nimport { CameraTypes } from '../../../enum/CameraTypes'\nimport { getDeviceCategories } from '../../devices.utils'\nimport filterMapper from './camera-filter.mapper'\nimport { mapSortCameraParam } from './camera-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CameraDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `c=>${filterParamsComposer(\n      'c',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(sort, pagination, mapSortCameraParam)\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CameraDto[]>(\n      `${CAMERAS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<CameraDto>> => {\n    const data = await get<CameraDto>(CAMERAS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CameraDto>> => {\n    const data = await get<CameraDto[]>(\n      `${CAMERAS_URL}/GetByConditions`,\n      `/u=>new int[] {${ids.toString()}}.Contains(u.Id)`,\n    )\n    return Promise.resolve({\n      data,\n    })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<CameraDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<{ id: Identifier; [n: string]: any }, CameraDto>(\n      CAMERAS_URL,\n      {\n        id,\n        description:\n          data.description !== previousData.description\n            ? data.description\n            : undefined,\n        serverSideName:\n          data.serverSideName !== previousData.serverSideName\n            ? data.serverSideName\n            : undefined,\n        type: data.type !== previousData.address ? data.type : undefined,\n        serverId:\n          data.serverId !== previousData.serverId ? data.serverId : undefined,\n        devicesIds:\n          data.devicesIds !== previousData.devicesIds\n            ? data.devicesIds\n            : undefined,\n      },\n    )\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateCameraRequest>,\n  ): Promise<CreateResult<CameraDto>> => {\n    const camera = await post<CreateCameraRequest[], CameraDto[]>(CAMERAS_URL, [\n      data,\n    ])\n    return {\n      data: camera[0],\n    }\n  },\n  openStream: async (\n    resource: string,\n    { cameraId, streamStart }: OpenStreamParams,\n  ): Promise<DataProviderExtensionResult<OpenStreamResponse>> => {\n    const openStream = await get<OpenStreamResponse>(\n      `${CAMERAS_URL}/OpenStream`,\n      `/${cameraId}${\n        streamStart !== undefined ? '?streamStart='.concat(streamStart) : ''\n      }`,\n    )\n    return {\n      data: openStream,\n    }\n  },\n} as CameraDataProvider\n\ninterface CameraDataProvider extends DataProvider {\n  openStream: (\n    resource: string,\n    params: OpenStreamParams,\n  ) => Promise<DataProviderExtensionResult<OpenStreamResponse>>\n}\n\nexport interface OpenStreamParams {\n  cameraId: number\n  streamStart?: DateTime\n}\n\nexport interface OpenStreamResponse {\n  cameraId: number\n  jobId: string\n  streamFile: string\n}\n\nexport interface CreateCameraRequest {\n  readonly description: string\n  readonly serverSideName: string\n  readonly type: CameraTypes\n  readonly serverId: number\n}\n\nexport default provider\n","const mapping: Record<\n  string,\n  (lambdaParameter: string, value: any, otherValues: any) => string | null\n> = {\n  name: (lambdaParameter, value) =>\n    `${lambdaParameter}.Name.Contains(\"${value}\")`,\n  serverId: (lambdaParameter, value) =>\n    `${lambdaParameter}.ServerId.Equals(\"${value}\")`,\n}\n\nconst filterMapper = (key: string) =>\n  mapping[key] as (\n    lambdaParameter: string,\n    value: any,\n    otherValues: any,\n  ) => string\n\nexport default filterMapper\n","const mapping: Record<string, string> = {\n  id: 'l=>l.Id',\n  name: 'p=>p.Name',\n  serverId: 'p=>p.ServerId',\n}\n\nexport const mapSortCameraServerParam = (key: string) => mapping[key]\n","import {\n  DataProvider,\n  GetListResult,\n  GetOneParams,\n  GetOneResult,\n  UpdateParams,\n  UpdateResult,\n  Identifier,\n  CreateParams,\n  CreateResult,\n  GetManyParams,\n  GetManyResult,\n} from 'react-admin'\nimport { CAMERA_SERVERS_URL } from '../../../api-urls'\nimport { DataProviderExtensionResult } from '../../../common/data-provider'\nimport {\n  get,\n  getWithPagination,\n  patch,\n  post,\n  put,\n} from '../../../common/fetch.utils'\nimport {\n  filterParamsComposer,\n  queryParamsComposer,\n} from '../../../common/get-by-conditions.utils'\nimport { TicketAPIGetListParams } from '../../../common/ticket-api-get-list.params'\nimport { CameraServerDto } from '../../../dto/device/camera/camera-servers/camera-server.dto'\nimport { RemoveCameraServerCredentialsDto } from '../../../dto/device/camera/camera-servers/remove-camera-server-credentials.dto'\nimport { SetCameraServerCredentialsDto } from '../../../dto/device/camera/camera-servers/set-camera-server-credentials.dto'\nimport { getDeviceCategories } from '../../devices.utils'\nimport filterMapper from './camera-server-filter.mapper'\nimport { mapSortCameraServerParam } from './camera-server-sort.mapper'\n\nconst provider = {\n  getList: async (\n    resource: string,\n    { filter, sort, pagination }: TicketAPIGetListParams,\n  ): Promise<GetListResult<CameraServerDto>> => {\n    let extendedFilter = filter\n    // Tree type filter for device categories\n    if (extendedFilter?.categoryIdWithDescendants) {\n      const categoriesIds = await getDeviceCategories(\n        extendedFilter.categoryIdWithDescendants,\n      )\n      extendedFilter = { ...extendedFilter, categoriesIds }\n    }\n    const filterParams = `c=>${filterParamsComposer(\n      'o',\n      extendedFilter,\n      filterMapper,\n    )}`\n    const pathParams = queryParamsComposer(\n      sort,\n      pagination,\n      mapSortCameraServerParam,\n    )\n    const path = `/${filterParams}?${pathParams ?? pathParams}`\n\n    const {\n      data,\n      range: { total },\n    } = await getWithPagination<CameraServerDto[]>(\n      `${CAMERA_SERVERS_URL}/GetByConditions`,\n      path,\n    )\n\n    return Promise.resolve({\n      data,\n      total,\n    })\n  },\n  getOne: async (\n    resource: string,\n    { id }: GetOneParams,\n  ): Promise<GetOneResult<CameraServerDto>> => {\n    const data = await get<CameraServerDto>(CAMERA_SERVERS_URL, `/${id}`)\n    return Promise.resolve({\n      data,\n    })\n  },\n  getMany: async (\n    resource: string,\n    { ids }: GetManyParams,\n  ): Promise<GetManyResult<CameraServerDto>> => {\n    const data = await get<CameraServerDto[]>(\n      CAMERA_SERVERS_URL,\n      `/GetByConditions/e=>new int[] {${ids.toString()}}.Contains(e.Id)`,\n    )\n    return Promise.resolve({ data })\n  },\n  update: async (\n    resource: string,\n    { id, data, previousData }: UpdateParams<CameraServerDto>,\n  ): Promise<UpdateResult> => {\n    const update = await patch<\n      { id: Identifier; [n: string]: any },\n      CameraServerDto\n    >(CAMERA_SERVERS_URL, {\n      id,\n      name: data.name !== previousData.name ? data.name : undefined,\n      address: data.address !== previousData.address ? data.address : undefined,\n      serverId:\n        data.serverId !== previousData.address ? data.serverId : undefined,\n      delay: data.delay !== previousData.delay ? data.delay : undefined,\n      camerasIds:\n        data.camerasIds !== previousData.camerasIds\n          ? data.camerasIds\n          : undefined,\n    })\n    return Promise.resolve({ data: update })\n  },\n  create: async (\n    resource: string,\n    { data }: CreateParams<CreateCameraServerRequest>,\n  ): Promise<CreateResult<CameraServerDto>> => {\n    const camera = await post<CreateCameraServerRequest[], CameraServerDto[]>(\n      CAMERA_SERVERS_URL,\n      [data],\n    )\n    return {\n      data: camera[0],\n    }\n  },\n  setCredentials: async (\n    resource: string,\n    params: SetCameraServerCredentialsDto,\n  ): Promise<DataProviderExtensionResult<SetCameraServerCredentialsDto>> => {\n    const setCredentials = await put<\n      SetCameraServerCredentialsDto,\n      SetCameraServerCredentialsDto\n    >(`${CAMERA_SERVERS_URL}/SetCredentials`, params)\n    return {\n      data: setCredentials,\n    }\n  },\n  removeCredentials: async (\n    resource: string,\n    params: RemoveCameraServerCredentialsDto,\n  ): Promise<DataProviderExtensionResult<RemoveCameraServerCredentialsDto>> => {\n    const removeCredentials = await put<\n      RemoveCameraServerCredentialsDto,\n      RemoveCameraServerCredentialsDto\n    >(`${CAMERA_SERVERS_URL}/RemoveCredentials`, params)\n    return {\n      data: removeCredentials,\n    }\n  },\n} as CameraServerDataProvider\n\ninterface CameraServerDataProvider extends DataProvider {\n  setCredentials: (\n    resource: string,\n    params: SetCameraServerCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<SetCameraServerCredentialsDto>>\n\n  removeCredentials: (\n    resource: string,\n    params: RemoveCameraServerCredentialsDto,\n  ) => Promise<DataProviderExtensionResult<RemoveCameraServerCredentialsDto>>\n}\n\nexport interface CreateCameraServerRequest {\n  readonly name: string\n  readonly address: string\n  readonly serverId: string\n  readonly delay: string\n}\n\nexport default provider\n","import { DataProvider } from 'react-admin'\nimport { JOBS_URL } from '../api-urls'\nimport { DataProviderExtensionResult } from '../common/data-provider'\nimport { get } from '../common/fetch.utils'\n\nconst provider = {\n  deleteJob: async (\n    resource: string,\n    { jobId }: DeleteJobRequest,\n  ): Promise<DataProviderExtensionResult<DeleteJobResponse>> => {\n    const openStream = await get<DeleteJobResponse>(\n      `${JOBS_URL}/DeleteJob`,\n      `/${jobId}`,\n    )\n    return {\n      data: openStream,\n    }\n  },\n} as JobsDataProvider\n\ninterface JobsDataProvider extends DataProvider {\n  deleteJob: (\n    resource: string,\n    params: DeleteJobRequest,\n  ) => Promise<DataProviderExtensionResult<DeleteJobResponse>>\n}\n\nexport interface DeleteJobRequest {\n  readonly jobId: number\n}\n\nexport interface DeleteJobResponse {\n  readonly jobId: number\n}\n\nexport default provider\n","import { DataProvider, sanitizeFetchType } from 'react-admin'\nimport accessDatesProvider from './access-dates/access-dates.provider'\nimport accessUsingsProvider from './access-usings/access-usings.provider'\nimport accessesProvider from './accesses/access.provider'\nimport companiesProvider from './administration/companies/companies.provider'\nimport permissionsProvider from './administration/permissions/permissions.provider'\nimport rolesProvider from './administration/roles/roles.provider'\nimport usersProvider from './administration/users/users.provider'\nimport blocksProvider from './blocks/blocks.provider'\nimport bookingsProvider from './bookings/bookings.provider'\nimport customersProvider from './customers/customers.provider'\nimport deviceCategoriesProvider from './device-categories/device-categories.provider'\nimport detectorsProvider from './devices/detectors/detectors.provider'\nimport engineProvider from './devices/engines/engines.provider'\nimport palmProvider from './devices/palms/palms.provider'\nimport passagesProvider from './devices/passages/passages.provider'\nimport entrancesProvider from './entrances/entrance.provider'\nimport eventsProvider from './events/event.provider'\nimport logsProvider from './extended-logs/extended-logs.provider'\nimport objectsProvider from './objects/objects.provider'\nimport { ResourceName } from './ResourceName'\nimport seatsProvider from './seats/seats.provider'\nimport statsOverallViewListProvider from './stats/overall-view/list/overall-view-list.provider'\nimport statsOverallViewProvider from './stats/overall-view/overall-view.provider'\nimport ticketsProvider from './tickets/tickets.provider'\nimport tribunesProvider from './tribunes/tribunes.provider'\nimport variantsProvider from './variants/variants.provider'\nimport camerasProvider from './devices/camera/cameras/cameras.provider'\nimport cameraServersProvider from './devices/camera/camera-servers/camera-servers.provider'\nimport jobsProvider from './jobs/jobs.provider'\n\nconst dataProviders: Record<ResourceName, DataProvider> = {\n  [ResourceName.ACCESS_DATES]: accessDatesProvider,\n  [ResourceName.ACCESSES]: accessesProvider,\n  [ResourceName.ACCESS_USINGS]: accessUsingsProvider,\n  [ResourceName.BOOKINGS]: bookingsProvider,\n  [ResourceName.CAMERAS]: camerasProvider,\n  [ResourceName.CAMERA_SERVERS]: cameraServersProvider,\n  [ResourceName.COMPANIES]: companiesProvider,\n  [ResourceName.CUSTOMERS]: customersProvider,\n  [ResourceName.DETECTORS]: detectorsProvider,\n  [ResourceName.ENGINES]: engineProvider,\n  [ResourceName.ENTRANCES]: entrancesProvider,\n  [ResourceName.EVENTS]: eventsProvider,\n  [ResourceName.LOGS]: logsProvider,\n  [ResourceName.OBJECTS]: objectsProvider,\n  [ResourceName.PALMS]: palmProvider,\n  [ResourceName.ROLES]: rolesProvider,\n  [ResourceName.PERMISSIONS]: permissionsProvider,\n  [ResourceName.PASSAGES]: passagesProvider,\n  [ResourceName.STATS_OVERALL_VIEW]: statsOverallViewProvider,\n  [ResourceName.STATS_OVERALL_VIEW_LIST]: statsOverallViewListProvider,\n  [ResourceName.TICKETS]: ticketsProvider,\n  [ResourceName.TICKET_LOGS]: logsProvider,\n  [ResourceName.TRIBUNES]: tribunesProvider,\n  [ResourceName.BLOCKS]: blocksProvider,\n  [ResourceName.SEATS]: seatsProvider,\n  [ResourceName.USERS]: usersProvider,\n  [ResourceName.VARIANTS]: variantsProvider,\n  [ResourceName.DEVICE_CATEGORIES]: deviceCategoriesProvider,\n  [ResourceName.JOBS]: jobsProvider,\n}\n\nexport default (\n  fetchType: string,\n  resource: string,\n  params: unknown,\n): Promise<unknown> => {\n  const selectedProvider = dataProviders[resource as ResourceName]\n  const type = sanitizeFetchType(fetchType)\n  return selectedProvider[type](resource, params)\n}\n","import i18n from 'i18next'\n\nconst provider = {\n  translate: (key: string, options: any): string => i18n.t(key, options),\n  changeLocale: async (locale: string): Promise<void> => {\n    const identity = localStorage.getItem('username') as string\n    localStorage.setItem(`${identity}.lng`, locale)\n    await i18n.changeLanguage(locale)\n  },\n  getLocale: (): string => i18n.language,\n}\n\nexport default provider\n","import { AuthProvider } from 'react-admin'\nimport { get } from '../common/fetch.utils'\nimport { RoleDto } from '../dto/role/role.dto'\nimport { ROLES_URL } from '../api-urls'\n\nconst areRolesOutOfSync = (local: Set<string>, remote: string[]) =>\n  local.size !== remote.length || !remote.every((value) => local.has(value))\n\nconst validateRoles = async (\n  dataProvider: AuthProvider,\n  params: any,\n  rolesFromRemote: string[],\n): Promise<Set<string>> => {\n  const rolesFromLocalStorage = (await dataProvider.getPermissions(\n    params,\n  )) as Set<string>\n  if (areRolesOutOfSync(rolesFromLocalStorage, rolesFromRemote)) {\n    // eslint-disable-next-line no-console\n    console.error('Corrupted permissions')\n    await dataProvider.logout('')\n    return Promise.resolve(new Set([]))\n  }\n  return Promise.resolve(rolesFromLocalStorage)\n}\n\nexport const withSynchronizedPermissions = (dataProvider: AuthProvider) => {\n  // this is set once on app initialization\n  let rolesFromRemote: string[] | null = null\n\n  return new Proxy<AuthProvider>(dataProvider, {\n    get:\n      (target, name: string) =>\n      async (params: any): Promise<any> => {\n        switch (name as keyof AuthProvider) {\n          // avoid re-executing getRoles call\n          case 'login': {\n            await dataProvider.login(params)\n            const rolesFromLocalStorage = (await dataProvider.getPermissions(\n              params,\n            )) as Set<string>\n            rolesFromRemote = Array.from(rolesFromLocalStorage)\n            return Promise.resolve()\n          }\n          case 'getPermissions': {\n            if (rolesFromRemote) {\n              // compares the status of local and remote roles each time it checks for permissions\n              return validateRoles(dataProvider, params, rolesFromRemote)\n            }\n            // after reloading the page it needs to fetch roles from remote\n            const roleDtos = await get<RoleDto[]>(ROLES_URL)\n            const roles = roleDtos.map((v) => v.name)\n            rolesFromRemote = roles\n            localStorage.setItem('roles', roles.join())\n            return Promise.resolve(new Set(roles))\n          }\n          default: {\n            return dataProvider[name](params)\n          }\n        }\n      },\n  })\n}\n","import { defaultTheme, RaThemeOptions } from 'react-admin'\nimport { deepPurple, green } from '@material-ui/core/colors'\n\nconst overriddenTheme: RaThemeOptions = {\n  ...defaultTheme,\n  typography: {\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    body1: {\n      fontWeight: 300,\n    },\n    body2: {\n      fontWeight: 300,\n    },\n    h5: {\n      fontWeight: 200,\n    },\n  },\n  overrides: {\n    RaFilter: {\n      form: {\n        margin: 0,\n      },\n    },\n  },\n  sidebar: {\n    width: 240,\n    closedWidth: 55,\n  },\n}\n\nexport const LightTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: deepPurple,\n    secondary: green,\n    type: 'light',\n  },\n}\n\nexport const DarkTheme: RaThemeOptions = {\n  ...overriddenTheme,\n  palette: {\n    primary: {\n      light: deepPurple[100],\n      main: deepPurple[200],\n      dark: deepPurple[300],\n      contrastText: '#F1F1F1',\n    },\n    secondary: green,\n    type: 'dark',\n  },\n}\n","import {\n  MenuItem,\n  Collapse,\n  Tooltip,\n  ListItemIcon,\n  Typography,\n  List,\n  Slide,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ExpandMore } from '@material-ui/icons'\nimport React, { ReactElement, ReactNode, useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ReduxState } from 'react-admin'\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    minWidth: theme.spacing(5),\n  },\n  sidebarIsOpen: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(4),\n    },\n  },\n  sidebarIsClosed: {\n    '& a': {\n      transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n      paddingLeft: theme.spacing(2),\n    },\n  },\n  slideIn: {\n    transitionDelay: '200ms',\n  },\n}))\n\ninterface SubMenuProps {\n  handleToggle: () => void\n  icon: ReactElement\n  isOpen: boolean\n  name: string\n  children: ReactNode\n}\n\nexport const SubMenu = (props: SubMenuProps) => {\n  const { handleToggle, icon, isOpen, name, children } = props\n  const [expandIconVisible, setExpandIconVisible] = useState(true)\n  const sidebarOpen = useSelector(\n    (state: ReduxState) => state?.admin.ui.sidebarOpen,\n  )\n  const classes = useStyles()\n  const containerRef = useRef(null)\n\n  const handleIconChange = () => {\n    handleToggle()\n    setTimeout(() => {\n      setExpandIconVisible(!expandIconVisible)\n    }, 100)\n  }\n\n  const header = (\n    <MenuItem button onClick={handleIconChange}>\n      <ListItemIcon className={classes.icon}>\n        {expandIconVisible ? (\n          <Slide direction=\"down\" in={isOpen} ref={containerRef.current}>\n            <ExpandMore />\n          </Slide>\n        ) : (\n          <Slide direction=\"up\" in={!isOpen} ref={containerRef.current}>\n            {icon}\n          </Slide>\n        )}\n      </ListItemIcon>\n      <Typography variant=\"inherit\" color=\"textSecondary\">\n        {name}\n      </Typography>\n    </MenuItem>\n  )\n\n  return (\n    <>\n      {sidebarOpen || isOpen ? (\n        header\n      ) : (\n        <Tooltip title={name} placement=\"right\">\n          {header}\n        </Tooltip>\n      )}\n      <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n        <List\n          component=\"div\"\n          disablePadding\n          className={\n            sidebarOpen ? classes.sidebarIsOpen : classes.sidebarIsClosed\n          }\n        >\n          {children}\n        </List>\n      </Collapse>\n    </>\n  )\n}\n","import React, { ReactElement } from 'react'\nimport {\n  useTranslate,\n  MenuItemLink,\n  ReduxState,\n  ResourceDefinition,\n  getResources,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { ResourceName } from '../../core/ResourceName'\n\ninterface MenuItemProps {\n  resource: ResourceName\n  icon: ReactElement\n}\n\nconst MenuItem = (props: MenuItemProps) => {\n  const { resource, icon } = props\n  const translate = useTranslate()\n\n  const availableResources = new Set(\n    useSelector<ReduxState, ResourceDefinition[]>(getResources).map(\n      (r) => r.name as ResourceName,\n    ),\n  )\n\n  return (\n    <>\n      {availableResources.has(resource) && (\n        <MenuItemLink\n          to={`/${resource}`}\n          primaryText={translate(`resources.${resource}.name`)}\n          leftIcon={icon}\n        />\n      )}\n    </>\n  )\n}\n\nexport default MenuItem\n","import { makeStyles, Theme } from '@material-ui/core'\nimport {\n  AccountBalance,\n  Assessment,\n  DirectionsWalk,\n  CenterFocusStrong,\n  Category,\n  Event,\n  ExitToApp,\n  List,\n  Person,\n  PhoneAndroid,\n  Receipt,\n  SettingsApplications,\n  Sort,\n  VideoLabel,\n  ViewComfy,\n  AccountBalanceWallet,\n  SupervisorAccount,\n  Apartment,\n  Group,\n  VerifiedUser,\n  ArrowForward,\n  Storage,\n  Videocam,\n} from '@material-ui/icons'\nimport classNames from 'classnames'\nimport React, { useState } from 'react'\nimport {\n  DashboardMenuItem,\n  ReduxState,\n  useTranslate,\n  RaThemeOverrides,\n  getResources,\n  ResourceDefinition,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SubMenu } from './AppSubmenu'\nimport MenuItem from './MenuItem'\n\ninterface AdminTheme extends Theme {\n  sidebar?: {\n    width?: number\n    closedWidth?: number\n  }\n  overrides?: RaThemeOverrides\n}\n\nconst useStyles = makeStyles((theme: AdminTheme) => ({\n  root: {\n    marginTop: theme.spacing(1) || 0,\n    marginBottom: theme.spacing(1),\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  open: {\n    width: theme.sidebar?.width,\n  },\n  closed: {\n    width: theme.sidebar?.closedWidth,\n  },\n}))\n\nexport const AppMenu = () => {\n  const open = useSelector((state: ReduxState) => state.admin.ui.sidebarOpen)\n  const classes = useStyles()\n  const [menuState, setMenuState] = useState({\n    menuStats: true,\n    menuDevices: true,\n    menuConfiguration: true,\n    menuAdministration: true,\n  })\n\n  const availableResources = new Set(\n    useSelector<ReduxState, ResourceDefinition[]>(getResources).map(\n      (r) => r.name as ResourceName,\n    ),\n  )\n  const translate = useTranslate()\n\n  const handleToggle = (\n    menu:\n      | 'menuStats'\n      | 'menuDevices'\n      | 'menuConfiguration'\n      | 'menuAdministration',\n  ) => setMenuState((state) => ({ ...state, [menu]: !state[menu] }))\n\n  const anyStatsResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.STATS_OVERALL_VIEW_LIST)\n\n  const anyDeviceResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.PALMS) ||\n    avRes.has(ResourceName.ENGINES) ||\n    avRes.has(ResourceName.DETECTORS) ||\n    avRes.has(ResourceName.DEVICE_CATEGORIES) ||\n    avRes.has(ResourceName.PASSAGES) ||\n    avRes.has(ResourceName.CAMERAS) ||\n    avRes.has(ResourceName.CAMERA_SERVERS)\n\n  const anyConfigurationResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.ACCESSES) ||\n    avRes.has(ResourceName.VARIANTS) ||\n    avRes.has(ResourceName.ENTRANCES)\n  const anyAdministrationResourcesAvailable = (avRes: Set<ResourceName>) =>\n    avRes.has(ResourceName.COMPANIES) || avRes.has(ResourceName.ROLES)\n\n  return (\n    <div\n      style={{ userSelect: 'none' }}\n      className={classNames(classes.root, {\n        [classes.open]: open,\n        [classes.closed]: !open,\n      })}\n    >\n      <DashboardMenuItem />\n      <MenuItem resource={ResourceName.TICKETS} icon={<Receipt />} />\n      <MenuItem resource={ResourceName.CUSTOMERS} icon={<Person />} />\n      <MenuItem resource={ResourceName.LOGS} icon={<List />} />\n      <MenuItem resource={ResourceName.EVENTS} icon={<Event />} />\n      {anyStatsResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuStats')}\n          isOpen={menuState.menuStats}\n          name={translate('side-menu.stats.name')}\n          icon={<ViewComfy />}\n        >\n          <MenuItem\n            resource={ResourceName.STATS_OVERALL_VIEW_LIST}\n            icon={<Sort style={{ transform: 'scaleX(-1)' }} />}\n          />\n        </SubMenu>\n      )}\n      {anyDeviceResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuDevices')}\n          isOpen={menuState.menuDevices}\n          name={translate('side-menu.devices.name')}\n          icon={<VideoLabel />}\n        >\n          <MenuItem resource={ResourceName.PALMS} icon={<PhoneAndroid />} />\n          <MenuItem\n            resource={ResourceName.ENGINES}\n            icon={<AccountBalanceWallet />}\n          />\n          <MenuItem\n            resource={ResourceName.DETECTORS}\n            icon={<CenterFocusStrong />}\n          />\n          <MenuItem resource={ResourceName.PASSAGES} icon={<ArrowForward />} />\n          <MenuItem resource={ResourceName.CAMERAS} icon={<Videocam />} />\n          <MenuItem resource={ResourceName.CAMERA_SERVERS} icon={<Storage />} />\n          <MenuItem\n            resource={ResourceName.DEVICE_CATEGORIES}\n            icon={<Category />}\n          />\n        </SubMenu>\n      )}\n      {anyConfigurationResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuConfiguration')}\n          isOpen={menuState.menuConfiguration}\n          name={translate('side-menu.configuration.name')}\n          icon={<SettingsApplications />}\n        >\n          <MenuItem resource={ResourceName.ACCESSES} icon={<ExitToApp />} />\n          <MenuItem resource={ResourceName.VARIANTS} icon={<Assessment />} />\n          <MenuItem\n            resource={ResourceName.ENTRANCES}\n            icon={<DirectionsWalk />}\n          />\n        </SubMenu>\n      )}\n      {anyAdministrationResourcesAvailable(availableResources) && (\n        <SubMenu\n          handleToggle={() => handleToggle('menuAdministration')}\n          isOpen={menuState.menuAdministration}\n          name={translate('side-menu.administration.name')}\n          icon={<SupervisorAccount />}\n        >\n          <MenuItem resource={ResourceName.COMPANIES} icon={<Apartment />} />\n          <MenuItem resource={ResourceName.ROLES} icon={<VerifiedUser />} />\n          <MenuItem resource={ResourceName.USERS} icon={<Group />} />\n        </SubMenu>\n      )}\n      <MenuItem resource={ResourceName.OBJECTS} icon={<AccountBalance />} />\n    </div>\n  )\n}\n","import { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Settings } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  AppBar,\n  AppBarProps,\n  CoreLayoutProps,\n  UserMenu,\n  UserMenuProps,\n  MenuItemLink,\n  useTranslate,\n} from 'react-admin'\nimport { useSelector } from 'react-redux'\nimport { DarkTheme, LightTheme } from './app.theme'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport { AppMenu } from './AppMenu'\nimport { Layout } from '../../lib/@react-admin/ra-enterprise/esm/src'\n\nconst useStyles = makeStyles({\n  title: {\n    flex: 1,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n})\n\nconst AppUserMenu = (props: UserMenuProps) => {\n  const translate = useTranslate()\n  return (\n    <UserMenu {...props}>\n      <MenuItemLink\n        to=\"/configuration\"\n        primaryText={translate('settings.name')}\n        leftIcon={<Settings />}\n      />\n    </UserMenu>\n  )\n}\n\nconst AppTopBar = (props: AppBarProps) => {\n  const classes = useStyles()\n  return (\n    <AppBar {...props} userMenu={<AppUserMenu />}>\n      <Typography\n        variant=\"h6\"\n        className={classes.title}\n        id=\"react-admin-title\"\n      />\n    </AppBar>\n  )\n}\n\nexport const AppLayout = (props: CoreLayoutProps) => {\n  const theme = useSelector((state: ThemeState) =>\n    state.theme.darkMode === 'dark' ? DarkTheme : LightTheme,\n  )\n\n  return <Layout {...props} menu={AppMenu} appBar={AppTopBar} theme={theme} />\n}\n","import React, { ChangeEvent, FC, useState } from 'react'\nimport {\n  Box,\n  Button,\n  FormControl,\n  FormHelperText,\n  Input,\n  withStyles,\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { useTranslate } from 'react-admin'\n\nconst RoundInputBox = withStyles(({ palette }) => ({\n  root: {\n    borderRadius: 16,\n    width: '90%',\n    marginLeft: '5%',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n    border: 'solid',\n    borderColor: palette.primary.dark,\n  },\n}))(Box)\n\nconst RoundInputBoxBtn = withStyles(({ palette }) => ({\n  root: {\n    background: palette.primary.dark,\n    variant: 'contained',\n    borderRadius: 11,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    margin: 0,\n    fontWeight: 'bold',\n    '&:hover': {\n      background: palette.primary.main,\n    },\n  },\n}))(Button)\n\nconst RoundInputBoxFC = withStyles({\n  root: {\n    width: '100%',\n    marginLeft: 13,\n    marginTop: 2,\n  },\n})(FormControl)\n\nexport type SearchInputProps = {\n  label: string\n  onValue: (value: string) => void\n  disabled: boolean\n  error: string\n}\n\nconst SearchInput: FC<Readonly<SearchInputProps>> = ({\n  label,\n  onValue,\n  disabled,\n  error,\n}) => {\n  const [inputError, setInputError] = useState(false)\n  const [inputValue, setInputValue] = useState('')\n  const t = useTranslate()\n\n  const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value)\n  }\n\n  const handleClick = () => {\n    if (inputValue) {\n      setInputError(false)\n      onValue(inputValue)\n    } else {\n      setInputError(true)\n    }\n  }\n\n  return (\n    <RoundInputBox>\n      <RoundInputBoxBtn onClick={handleClick} disabled={disabled}>\n        <SearchIcon style={{ color: 'white' }} />\n      </RoundInputBoxBtn>\n      <RoundInputBoxFC disabled={disabled}>\n        <Input\n          disableUnderline\n          placeholder={t(label)}\n          onInput={handleInput}\n          onKeyDown={(ev) => ev.key === 'Enter' && handleClick()}\n          error={inputError || !!error}\n        />\n        {inputError && (\n          <FormHelperText error>{t('ra.validation.required')}</FormHelperText>\n        )}\n        {!!error && <FormHelperText error>{t(error)}</FormHelperText>}\n      </RoundInputBoxFC>\n    </RoundInputBox>\n  )\n}\n\nexport default SearchInput\n","import React, { useCallback, useState } from 'react'\nimport {\n  useNotify,\n  useMutation,\n  useTranslate,\n  sanitizeFetchType,\n  GetListResult,\n  GET_LIST,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { stringify } from 'querystring'\nimport { CardContent, CardHeader } from '@material-ui/core'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\nimport { CustomerDto } from '../../core/dto/customer.dto'\n\nexport const FindCustomerByInfo = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchCustomers = useCallback(\n    (info: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.CUSTOMERS,\n          payload: { filter: { info } },\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<CustomerDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (info: string) => {\n      if (info.replace(/\\s/g, '').length === 0) {\n        setError('common.find-customer-by-info.invalidQuery')\n      } else if (info.length < 2) {\n        setError('common.find-customer-by-info.tooShort')\n      } else {\n        setError('')\n        try {\n          const {\n            total,\n            data: [onlyCustomer],\n          } = await fetchCustomers(info)\n          if (!total) {\n            setError('common.find-customer-by-info.error')\n          } else if (total === 1) {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMERS}/${onlyCustomer.id}/show`,\n            })\n          } else {\n            history.push({\n              pathname: `/${ResourceName.CUSTOMERS}`,\n              search: stringify({\n                filter: JSON.stringify({\n                  info,\n                }),\n              }),\n            })\n          }\n        } catch (err) {\n          notify((err as Error)?.message, 'error')\n        }\n      }\n    },\n    [fetchCustomers, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-customer-by-info.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-customer-by-info.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { CardContent, CardHeader } from '@material-ui/core'\nimport { stringify } from 'querystring'\nimport * as React from 'react'\nimport { useCallback, useState } from 'react'\nimport {\n  GetListResult,\n  GET_LIST,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport SearchInput from './SearchInput'\n\nexport const FindUserByTicket = () => {\n  const history = useHistory()\n  const notify = useNotify()\n  const [error, setError] = useState('')\n  const [mutate, { loading }] = useMutation()\n  const t = useTranslate()\n\n  const fetchTickets = useCallback(\n    (ticketCode: string) =>\n      mutate(\n        {\n          type: sanitizeFetchType(GET_LIST),\n          resource: ResourceName.TICKETS,\n          payload: {\n            filter: { ticketCode },\n          },\n        },\n        { returnPromise: true },\n      ) as Promise<GetListResult<TicketDto>>,\n    [mutate],\n  )\n\n  const onValue = useCallback(\n    async (ticketCode: string) => {\n      setError('')\n      try {\n        const {\n          total,\n          data: [onlyTicket],\n        } = await fetchTickets(ticketCode)\n        if (!total) {\n          setError('common.find-user-by-ticket.error')\n        } else if (total === 1) {\n          history.push({\n            pathname: `/${ResourceName.BOOKINGS}/${onlyTicket.bookingId}/show`,\n          })\n        } else {\n          history.push({\n            pathname: `/${ResourceName.TICKETS}`,\n            search: stringify({\n              filter: JSON.stringify({\n                ticketCode,\n              }),\n            }),\n          })\n        }\n      } catch (err) {\n        notify((err as Error)?.message, 'error')\n      }\n    },\n    [fetchTickets, history, notify],\n  )\n\n  return (\n    <>\n      <CardHeader title={t('common.find-user-by-ticket.title')} />\n      <CardContent>\n        <SearchInput\n          label=\"common.find-user-by-ticket.input-label\"\n          onValue={onValue}\n          disabled={loading}\n          error={error}\n        />\n      </CardContent>\n    </>\n  )\n}\n","import { Authority } from './Authority'\n\nconst mapping: Record<Authority, string[]> = {\n  // User management\n  [Authority.VIEW_USER_MANAGEMENT]: ['ViewItems_Variants_Show'],\n\n  // Logs\n  [Authority.VIEW_LOGS]: ['ViewItems_Logs'],\n\n  // Stats\n  [Authority.VIEW_STATS_OVERALL_VIEW]: ['ViewItems_Stats_OverallView'],\n\n  // Companies\n  [Authority.VIEW_COMPANIES]: [\n    'ViewItems_Companies_Show',\n    'ViewItems_Companies_Edit',\n    'ViewItems_Companies_Add',\n  ],\n  [Authority.EDIT_COMPANIES]: ['ViewItems_Companies_Edit'],\n  [Authority.CREATE_COMPANIES]: ['ViewItems_Companies_Add'],\n\n  // Users\n  [Authority.VIEW_USERS]: [\n    'ViewItems_Users_Show',\n    'ViewItems_Users_Edit',\n    'ViewItems_Users_Add',\n  ],\n  [Authority.EDIT_USERS]: ['ViewItems_Users_Edit'],\n  [Authority.CREATE_USERS]: ['ViewItems_Users_Add'],\n\n  // Roles\n  [Authority.VIEW_ROLES]: [\n    'ViewItems_Roles_Show',\n    'ViewItems_Roles_Edit',\n    'ViewItems_Roles_Add',\n  ],\n  [Authority.EDIT_ROLES]: ['ViewItems_Roles_Edit'],\n  [Authority.CREATE_ROLES]: ['ViewItems_Roles_Add'],\n\n  // Access dates\n  [Authority.VIEW_ACCESS_DATES]: [\n    'ViewItems_AccessDates_Show',\n    'ViewItems_AccessDates_Edit',\n    'ViewItems_AccessDates_Add',\n  ],\n  [Authority.EDIT_ACCESS_DATES]: ['ViewItems_AccessDates_Edit'],\n  [Authority.CREATE_ACCESS_DATES]: ['ViewItems_AccessDates_Add'],\n\n  // Accesses\n  [Authority.VIEW_ACCESSES]: [\n    'ViewItems_Accesses_Show',\n    'ViewItems_Accesses_Edit',\n    'ViewItems_Accesses_Add',\n  ],\n  [Authority.EDIT_ACCESSES]: ['ViewItems_Accesses_Edit'],\n  [Authority.CREATE_ACCESSES]: ['ViewItems_Accesses_Add'],\n\n  // Access usings\n  [Authority.VIEW_ACCESS_USINGS]: [\n    'ViewItems_AccessUsings_Show',\n    'ViewItems_AccessUsings_Edit',\n    'ViewItems_AccessUsings_Add',\n  ],\n  [Authority.EDIT_ACCESS_USINGS]: ['ViewItems_AccessUsings_Edit'],\n  [Authority.CREATE_ACCESS_USINGS]: ['ViewItems_AccessUsings_Add'],\n\n  // Blocks\n  [Authority.VIEW_BLOCKS]: [\n    'ViewItems_Blocks_Show',\n    'ViewItems_Blocks_Edit',\n    'ViewItems_Blocks_Add',\n  ],\n  [Authority.EDIT_BLOCKS]: ['ViewItems_Blocks_Edit'],\n  [Authority.CREATE_BLOCKS]: ['ViewItems_Blocks_Add'],\n\n  // Bookings\n  [Authority.VIEW_BOOKINGS]: [\n    'ViewItems_Bookings_Show',\n    'ViewItems_Bookings_Edit',\n    'ViewItems_Bookings_Add',\n  ],\n  [Authority.EDIT_BOOKINGS]: ['ViewItems_Bookings_Edit'],\n  [Authority.CREATE_BOOKINGS]: ['ViewItems_Bookings_Add'],\n\n  // Customers\n  [Authority.VIEW_CUSTOMERS]: [\n    'ViewItems_Customers_Show',\n    'ViewItems_Customers_Edit',\n    'ViewItems_Customers_Add',\n  ],\n  [Authority.EDIT_CUSTOMERS]: ['ViewItems_Customers_Edit'],\n  [Authority.CREATE_CUSTOMERS]: ['ViewItems_Customers_Add'],\n\n  // Events\n  [Authority.VIEW_EVENTS]: [\n    'ViewItems_Events_Show',\n    'ViewItems_Events_Edit',\n    'ViewItems_Events_Add',\n  ],\n  [Authority.EDIT_EVENTS]: ['ViewItems_Events_Edit'],\n  [Authority.CREATE_EVENTS]: ['ViewItems_Events_Add'],\n\n  // Objects\n  [Authority.VIEW_OBJECTS]: [\n    'ViewItems_Objects_Show',\n    'ViewItems_Objects_Edit',\n    'ViewItems_Objects_Add',\n  ],\n  [Authority.EDIT_OBJECTS]: ['ViewItems_Objects_Edit'],\n  [Authority.CREATE_OBJECTS]: ['ViewItems_Objects_Add'],\n\n  // Schemes\n  [Authority.VIEW_SCHEMES]: [\n    'ViewItems_Schemes_Show',\n    'ViewItems_Schemes_Edit',\n    'ViewItems_Schemes_Add',\n  ],\n  [Authority.EDIT_SCHEMES]: ['ViewItems_Schemes_Edit'],\n  [Authority.CREATE_SCHEMES]: ['ViewItems_Schemes_Add'],\n\n  // Seats\n  [Authority.VIEW_SEATS]: [\n    'ViewItems_Seats_Show',\n    'ViewItems_Seats_Edit',\n    'ViewItems_Seats_Add',\n  ],\n  [Authority.EDIT_SEATS]: ['ViewItems_Seats_Edit'],\n  [Authority.CREATE_SEATS]: ['ViewItems_Seats_Add'],\n\n  // Tickets\n  [Authority.VIEW_TICKETS]: [\n    'ViewItems_Tickets_Show',\n    'ViewItems_Tickets_Edit',\n    'ViewItems_Tickets_Add',\n  ],\n  [Authority.EDIT_TICKETS]: ['ViewItems_Tickets_Edit'],\n  [Authority.CREATE_TICKETS]: ['ViewItems_Tickets_Add'],\n\n  // Tribunes\n  [Authority.VIEW_TRIBUNES]: [\n    'ViewItems_Tribunes_Show',\n    'ViewItems_Tribunes_Edit',\n    'ViewItems_Tribunes_Add',\n  ],\n  [Authority.EDIT_TRIBUNES]: ['ViewItems_Tribunes_Edit'],\n  [Authority.CREATE_TRIBUNES]: ['ViewItems_Tribunes_Add'],\n\n  // Variants\n  [Authority.VIEW_VARIANTS]: [\n    'ViewItems_Variants_Show',\n    'ViewItems_Variants_Edit',\n    'ViewItems_Variants_Add',\n  ],\n  [Authority.EDIT_VARIANTS]: ['ViewItems_Variants_Edit'],\n  [Authority.CREATE_VARIANTS]: ['ViewItems_Variants_Add'],\n\n  // Cameras\n  [Authority.VIEW_CAMERAS]: [\n    'ViewItems_Cameras_Show',\n    'ViewItems_Cameras_Edit',\n    'ViewItems_Cameras_Add',\n  ],\n  [Authority.EDIT_CAMERAS]: ['ViewItems_Cameras_Edit'],\n  [Authority.CREATE_CAMERAS]: ['ViewItems_Cameras_Add'],\n\n  // Camera servers\n  [Authority.VIEW_CAMERA_SERVERS]: [\n    'ViewItems_CameraServers_Show',\n    'ViewItems_CameraServers_Edit',\n    'ViewItems_CameraServers_Add',\n  ],\n  [Authority.EDIT_CAMERA_SERVERS]: ['ViewItems_CameraServers_Edit'],\n  [Authority.CREATE_CAMERA_SERVERS]: ['ViewItems_CameraServers_Add'],\n\n  // Engines\n  [Authority.VIEW_ENGINES]: [\n    'ViewItems_Engines_Show',\n    'ViewItems_Engines_Edit',\n    'ViewItems_Engines_Add',\n  ],\n  [Authority.EDIT_ENGINES]: ['ViewItems_Engines_Edit'],\n  [Authority.CREATE_ENGINES]: ['ViewItems_Engines_Add'],\n\n  // Offline servers\n  [Authority.VIEW_OFFLINE_SERVERS]: [\n    'ViewItems_OfflineServers_Show',\n    'ViewItems_OfflineServers_Edit',\n    'ViewItems_OfflineServers_Add',\n  ],\n  [Authority.EDIT_OFFLINE_SERVERS]: ['ViewItems_OfflineServers_Edit'],\n  [Authority.CREATE_OFFLINE_SERVERS]: ['ViewItems_OfflineServers_Add'],\n\n  // Palms\n  [Authority.VIEW_PALMS]: [\n    'ViewItems_Palms_Show',\n    'ViewItems_Palms_Edit',\n    'ViewItems_Palms_Add',\n  ],\n  [Authority.EDIT_PALMS]: ['ViewItems_Palms_Edit'],\n  [Authority.CREATE_PALMS]: ['ViewItems_Palms_Add'],\n\n  // Palm scheme data\n  [Authority.VIEW_PALM_SCHEME_DATA]: [\n    'ViewItems_PalmSchemeData_Show',\n    'ViewItems_PalmSchemeData_Edit',\n    'ViewItems_PalmSchemeData_Add',\n  ],\n  [Authority.EDIT_PALM_SCHEME_DATA]: ['ViewItems_PalmSchemeData_Edit'],\n  [Authority.CREATE_PALM_SCHEME_DATA]: ['ViewItems_PalmSchemeData_Add'],\n\n  // Passages\n  [Authority.VIEW_PASSAGES]: [\n    'ViewItems_Passages_Show',\n    'ViewItems_Passages_Edit',\n    'ViewItems_Passages_Add',\n  ],\n  [Authority.EDIT_PASSAGES]: ['ViewItems_Passages_Edit'],\n  [Authority.CREATE_PASSAGES]: ['ViewItems_Passages_Add'],\n\n  // Detectors\n  [Authority.VIEW_DETECTORS]: [\n    'ViewItems_Detectors_Show',\n    'ViewItems_Detectors_Edit',\n    'ViewItems_Detectors_Add',\n  ],\n  [Authority.EDIT_DETECTORS]: ['ViewItems_Detectors_Edit'],\n  [Authority.CREATE_DETECTORS]: ['ViewItems_Detectors_Add'],\n\n  // Device categories\n  [Authority.VIEW_DEVICE_CATEGORIES]: [\n    'ViewItems_DeviceCategories_Show',\n    'ViewItems_DeviceCategories_Edit',\n    'ViewItems_DeviceCategories_Add',\n  ],\n  [Authority.EDIT_DEVICE_CATEGORIES]: ['ViewItems_DeviceCategories_Edit'],\n  [Authority.CREATE_DEVICE_CATEGORIES]: ['ViewItems_DeviceCategories_Add'],\n\n  // Entrances\n  [Authority.VIEW_ENTRANCES]: [\n    'ViewItems_Entrances_Show',\n    'ViewItems_Entrances_Edit',\n    'ViewItems_Entrances_Add',\n  ],\n  [Authority.EDIT_ENTRANCES]: ['ViewItems_Entrances_Edit'],\n  [Authority.CREATE_ENTRANCES]: ['ViewItems_Entrances_Add'],\n}\n\nexport const mapAuthorityToRequiredPermissions = (authority: Authority) =>\n  mapping[authority]\n","import { usePermissions } from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { mapAuthorityToRequiredPermissions } from '../../core/auth/authority.mapper'\n\nexport const hasAuthorityWithGivenPermissions = (\n  authority: Authority,\n  permissions: Set<string>,\n) => {\n  const permissionSet = new Set(permissions)\n  const requiredPerms = mapAuthorityToRequiredPermissions(authority)\n  return requiredPerms.some((reqPerms) => permissionSet.has(reqPerms))\n}\n\nexport const useHasAuthority = () => {\n  const { permissions, loaded } = usePermissions<Set<string>>()\n  return (authority: Authority) => {\n    if (loaded && !permissions) {\n      // eslint-disable-next-line no-console\n      console.error(\n        '\"useHasAuthority\" - No permissions or hook was used outside the react admin context',\n      )\n      return false\n    }\n    return hasAuthorityWithGivenPermissions(\n      authority,\n      permissions as Set<string>,\n    )\n  }\n}\n","import { makeStyles } from '@material-ui/core'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport PropTypes from 'prop-types'\nimport {\n  FieldTitle,\n  useChoices,\n  useInput,\n  useTranslate,\n  warning,\n} from 'ra-core'\nimport * as React from 'react'\nimport { useCallback } from 'react'\nimport {\n  ClassesOverride,\n  InputHelperText,\n  Pagination,\n  PaginationProps,\n  ResettableTextField,\n  SelectInputProps,\n  useSupportCreateSuggestion,\n} from 'react-admin'\n\n// import ResettableTextField, { resettableStyles } from './ResettableTextField';\n// import InputHelperText from './InputHelperText';\n// import sanitizeInputRestProps from './sanitizeInputRestProps';\n// import Labeled from './Labeled';\n// import { LinearProgress } from '../layout';\n// import {\n//     useSupportCreateSuggestion,\n//     SupportCreateSuggestionOptions,\n// } from './useSupportCreateSuggestion';\n// import { ClassesOverride } from '../types';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    // ...resettableStyles,\n    input: {\n      minWidth: theme.spacing(20),\n    },\n  }),\n  { name: 'RaSelectInput' },\n)\n\nexport interface SelectWithPaginationInputProps extends SelectInputProps {\n  classes?: ClassesOverride<typeof useStyles>\n  paginationProps?: PaginationProps\n}\n\nexport const SelectWithPaginationInput = (\n  props: SelectWithPaginationInputProps,\n) => {\n  const {\n    allowEmpty,\n    choices = [],\n    // classes: classesOverride,\n    className,\n    create,\n    createLabel,\n    createValue,\n    // disableValue,\n    emptyText,\n    emptyValue,\n    format,\n    helperText,\n    label,\n    // loaded,\n    loading,\n    margin = 'dense',\n    onBlur,\n    onChange,\n    onCreate,\n    onFocus,\n    options,\n    optionText,\n    optionValue,\n    parse,\n    paginationProps,\n    resource,\n    source,\n    translateChoice,\n    validate,\n    ...rest\n  } = props\n  const translate = useTranslate()\n  const classes = useStyles(props)\n\n  warning(\n    source === undefined,\n    `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop`,\n  )\n\n  warning(\n    choices === undefined,\n    `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop`,\n  )\n\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText,\n    optionValue,\n    translateChoice,\n  })\n\n  const { id, input, isRequired, meta } = useInput({\n    format,\n    onBlur,\n    onChange,\n    onFocus,\n    parse,\n    resource,\n    source: source as string,\n    validate,\n    ...rest,\n  })\n\n  const { touched, error, submitError } = meta\n\n  const renderEmptyItemOption = useCallback(\n    () =>\n      React.isValidElement(emptyText) // eslint-disable-line no-nested-ternary\n        ? React.cloneElement(emptyText)\n        : emptyText === ''\n        ? ' ' // em space, forces the display of an empty line of normal height\n        : translate(emptyText, { _: emptyText }),\n    [emptyText, translate],\n  )\n\n  const renderMenuItemOption = useCallback(\n    (choice) => getChoiceText(choice),\n    [getChoiceText],\n  )\n\n  const handleChange = useCallback(\n    async (event: React.ChangeEvent<HTMLSelectElement>, newItem) => {\n      if (newItem) {\n        const value = getChoiceValue(newItem)\n        input.onChange(value)\n        return\n      }\n\n      input.onChange(event)\n    },\n    [input, getChoiceValue],\n  )\n\n  const {\n    getCreateItem,\n    handleChange: handleChangeWithCreateSupport,\n    createElement,\n  } = useSupportCreateSuggestion({\n    create,\n    createLabel,\n    createValue,\n    handleChange,\n    onCreate,\n    optionText,\n  })\n  // if (loading) {\n  //     return (\n  //         <Labeled\n  //             id={id}\n  //             label={label}\n  //             source={source}\n  //             resource={resource}\n  //             className={className}\n  //             isRequired={isRequired}\n  //             meta={meta}\n  //             input={input}\n  //             margin={margin}\n  //         >\n  //             <LinearProgress />\n  //         </Labeled>\n  //     );\n  // }\n\n  const renderCreateItem = () => {\n    if (onCreate || create) {\n      const createItem = getCreateItem()\n      return (\n        <MenuItem value={createItem.id} key={createItem.id}>\n          {createItem.name}\n        </MenuItem>\n      )\n    }\n    return null\n  }\n\n  return (\n    <>\n      <ResettableTextField\n        id={id}\n        {...input}\n        onChange={handleChangeWithCreateSupport}\n        select\n        label={\n          label !== '' &&\n          label !== false && (\n            <FieldTitle\n              label={label}\n              source={source}\n              resource={resource}\n              isRequired={isRequired}\n            />\n          )\n        }\n        className={`${classes.input} ${className}`}\n        clearAlwaysVisible\n        error={!!(touched && (error || submitError))}\n        helperText={\n          <InputHelperText\n            touched={touched === true}\n            error={error || submitError}\n            helperText={helperText}\n          />\n        }\n        margin={margin}\n        {...options}\n        // {...sanitizeRestProps(rest)}\n      >\n        {allowEmpty ? (\n          <MenuItem\n            value={emptyValue}\n            key=\"null\"\n            aria-label={translate('ra.action.clear_input_value')}\n            title={translate('ra.action.clear_input_value')}\n          >\n            {renderEmptyItemOption()}\n          </MenuItem>\n        ) : null}\n        {!loading &&\n          choices.map((choice) => (\n            <MenuItem\n              key={getChoiceValue(choice)}\n              value={getChoiceValue(choice)}\n              // disabled={get(choice, disableValue)}\n            >\n              {renderMenuItemOption(choice)}\n            </MenuItem>\n          ))}\n        {renderCreateItem()}\n        {!loading && <Pagination {...paginationProps} />}\n      </ResettableTextField>\n      {createElement}\n    </>\n  )\n}\n\nSelectWithPaginationInput.propTypes = {\n  allowEmpty: PropTypes.bool,\n  emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  emptyValue: PropTypes.any, // eslint-disable-line react/forbid-prop-types\n  choices: PropTypes.arrayOf(PropTypes.object),\n  classes: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  className: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  options: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  optionText: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.element,\n  ]).isRequired,\n  optionValue: PropTypes.string.isRequired,\n  disableValue: PropTypes.string,\n  resettable: PropTypes.bool,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  translateChoice: PropTypes.bool,\n}\n\nSelectWithPaginationInput.defaultProps = {\n  emptyText: '',\n  emptyValue: '',\n  options: {},\n  optionText: 'name', // eslint-disable-line react/default-props-match-prop-types\n  optionValue: 'id', // eslint-disable-line react/default-props-match-prop-types\n  translateChoice: true,\n  disableValue: 'disabled',\n}\n\n// const sanitizeRestProps = ({\n//     addLabel,\n//     afterSubmit,\n//     allowNull,\n//     beforeSubmit,\n//     choices,\n//     className,\n//     crudGetMatching,\n//     crudGetOne,\n//     data,\n//     filter,\n//     filterToQuery,\n//     formatOnBlur,\n//     isEqual,\n//     limitChoicesToValue,\n//     multiple,\n//     name,\n//     pagination,\n//     perPage,\n//     ref,\n//     reference,\n//     refetch,\n//     render,\n//     setFilter,\n//     setPagination,\n//     setSort,\n//     sort,\n//     subscription,\n//     type,\n//     validateFields,\n//     validation,\n//     value,\n//     ...rest\n// }: any) => sanitizeInputRestProps(rest);\n","import {\n  Datagrid,\n  DateField,\n  Filter,\n  FunctionField,\n  Link,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useTranslate,\n  SelectInput,\n  ReferenceInput,\n  useListContext,\n} from 'react-admin'\nimport React from 'react'\nimport {\n  IconButton,\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Event as EventIcon, Sort } from '@material-ui/icons'\nimport { ResourceName } from '../../core/ResourceName'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\nimport { DateTime } from '../../core/common/date-time'\nimport FilterProps from '../common/FilterProps'\nimport { EventStatus } from '../../core/enum/EventStatus'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\n\nconst useStyles = makeStyles((theme) => ({\n  actionColumnsWithoutPadding: {\n    // applies always for last column\n    '& tr > td:last-child': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n    // only applies when there are four columns and targets the penultimate column\n    '& tr > td:first-child:nth-last-child(4) ~ td:nth-last-child(2)': {\n      padding: 0,\n      width: theme.spacing(6),\n    },\n  },\n}))\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Datagrid className={classes.actionColumnsWithoutPadding}>\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.name')}\n        render={(record?: EventDto) => {\n          const { id, name } = record as EventDto\n          return `${id}. ${name}`\n        }}\n      />\n      <FunctionField<EventDto>\n        label={t('resources.events.fields.status')}\n        render={(record?: EventDto) => {\n          const { status } = record as EventDto\n          return t(`resources.enums.eventStatus.${status.toLowerCase()}`)\n        }}\n      />\n      <FunctionField<EventDto>\n        render={(event?: EventDto) => (\n          <Link to={`/${ResourceName.EVENTS}/${event?.id}/show`}>\n            <IconButton>\n              <EventIcon />\n            </IconButton>\n          </Link>\n        )}\n      />\n      {hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW) && (\n        <FunctionField<EventDto>\n          render={(event?: EventDto) =>\n            event?.objectsIds &&\n            event.objectsIds.length > 0 && (\n              <Link\n                to={`/${ResourceName.STATS_OVERALL_VIEW}/${event?.id}/show`}\n              >\n                <IconButton>\n                  <Sort style={{ transform: 'scaleX(-1)' }} />\n                </IconButton>\n              </Link>\n            )\n          }\n        />\n      )}\n    </Datagrid>\n  )\n}\n\nconst EventDateField = ({\n  source,\n  label,\n}: {\n  source: string\n  label?: string\n}) => (\n  <FunctionField<EventDto>\n    source={source}\n    label={label}\n    render={(record?: EventDto) => {\n      const { dateStart, dateEnd } = {\n        dateStart: new Date(record?.dateStart as DateTime),\n        dateEnd: new Date(record?.dateEnd as DateTime),\n      }\n      if (dateStart.toDateString() === dateEnd.toDateString())\n        return (\n          <>\n            <DateField source=\"dateStart\" />\n            <span>\n              {' '}\n              {dateStart.getHours() < 10 && 0}\n              {dateStart.getHours()}:\n            </span>\n            <span>\n              {dateStart.getMinutes() < 10 && 0}\n              {dateStart.getMinutes()} -{' '}\n            </span>\n            <span>\n              {dateEnd.getHours() < 10 && 0}\n              {dateEnd.getHours()}:\n            </span>\n            <span>\n              {dateEnd.getMinutes() < 10 && 0}\n              {dateEnd.getMinutes()}\n            </span>\n          </>\n        )\n      return (\n        <>\n          <span>\n            <DateField source=\"dateStart\" showTime />\n          </span>\n          <span> - </span>\n          <span>\n            <DateField source=\"dateEnd\" showTime />\n          </span>\n        </>\n      )\n    }}\n  />\n)\n\nconst EventGrid = ({ compactMode }: { compactMode?: boolean }) => {\n  const { loading } = useListContext()\n  const t = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <>\n      {compactMode ? (\n        <LastEvents />\n      ) : (\n        <Datagrid\n          size=\"small\"\n          loaded={!loading}\n          rowClick={(id) => `/${ResourceName.EVENTS}/${id}/show`}\n        >\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          {!smallScreen && <DateField source=\"dateStart\" showTime />}\n          {!smallScreen && <DateField source=\"dateEnd\" showTime />}\n          {smallScreen && (\n            <EventDateField\n              source=\"dateStart\"\n              label=\"resources.events.fields.date\"\n            />\n          )}\n          <FunctionField<EventDto>\n            source=\"status\"\n            render={(r?: EventDto) =>\n              t(`resources.enums.eventStatus.${r?.status.toLowerCase()}`)\n            }\n          />\n        </Datagrid>\n      )}\n    </>\n  )\n}\n\ninterface EventListProps extends ListProps {\n  compactMode?: boolean\n}\n\nconst EventFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      <SelectInput\n        source=\"status\"\n        choices={Object.entries(EventStatus).map(([value]) => ({\n          id: value,\n          name: `resources.enums.eventStatus.${value.toLowerCase()}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_COMPANIES) && (\n        <ReferenceInput\n          source=\"companyId\"\n          reference={ResourceName.COMPANIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const EventList = ({ compactMode = false, ...props }: EventListProps) =>\n  compactMode ? (\n    <List\n      {...props}\n      actions={false}\n      filters={undefined}\n      perPage={10}\n      pagination={false}\n    >\n      <EventGrid compactMode />\n    </List>\n  ) : (\n    <List\n      {...props}\n      exporter={false}\n      filters={<EventFilters />}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    >\n      <EventGrid />\n    </List>\n  )\n","export const getContrastColor = (hexcolor: string) => {\n  const convertedColor = hexcolor.replace('#', '')\n  const r = parseInt(convertedColor.substring(1, 2), 16)\n  const g = parseInt(convertedColor.substring(3, 2), 16)\n  const b = parseInt(convertedColor.substring(5, 2), 16)\n  const yiq = (r * 299 + g * 587 + b * 114) / 1000\n  return yiq >= 128 ? 'black' : 'white'\n}\n","import React, { useEffect } from 'react'\nimport {\n  TextField,\n  makeStyles,\n  Theme,\n  createStyles,\n  useTheme,\n  useMediaQuery,\n} from '@material-ui/core'\nimport { useField } from 'react-final-form'\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      verticalAlign: 'center',\n      marginBottom: theme.spacing(1),\n    },\n    mobileContainer: {\n      display: 'flex',\n      justifyContent: 'center',\n      verticalAlign: 'center',\n      marginBottom: theme.spacing(1),\n      flexDirection: 'column',\n    },\n    input: {\n      alignSelf: 'center',\n    },\n    icon: {\n      marginTop: '4%',\n    },\n    mobileIcon: {\n      alignSelf: 'center',\n      transform: 'rotate(90deg)',\n    },\n  }),\n)\n\nexport const DateFilterInput = ({ source }: { source: string }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n\n  const defaultFromDate = React.useMemo(\n    () => new Date(Date.now() - 2678400000),\n    [],\n  )\n  defaultFromDate.setHours(0, 0, 0, 0)\n  const defaultToDate = new Date(Date.now())\n  defaultToDate.setHours(23, 59, 0, 0)\n  const [dateFrom, setDateFrom] = React.useState(\n    defaultFromDate.getTime().toString(),\n  )\n  const [dateTo, setDateTo] = React.useState(defaultToDate.getTime().toString())\n  const {\n    input: { onChange },\n    meta: { touched, error },\n  } = useField(source)\n\n  useEffect(() => {\n    onChange(\n      [\n        (\n          parseInt(dateFrom, 10) -\n          defaultFromDate.getTimezoneOffset() * 60000\n        ).toString(),\n        (\n          parseInt(dateTo, 10) -\n          defaultFromDate.getTimezoneOffset() * 60000\n        ).toString(),\n      ].join(';'),\n    )\n  }, [dateFrom, dateTo, onChange, defaultFromDate])\n\n  const convertedDate = (date: Date) =>\n    new Date(date.getTime() - defaultFromDate.getTimezoneOffset() * 60000)\n      .toJSON()\n      .substring(0, 16)\n\n  return (\n    <span\n      key=\"date\"\n      className={xSmallScreen ? classes.mobileContainer : classes.container}\n    >\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultFromDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateFrom(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        className={classes.input}\n        size=\"small\"\n      />\n      <ArrowRightAltIcon\n        className={xSmallScreen ? classes.mobileIcon : classes.icon}\n      />\n      <TextField\n        variant=\"filled\"\n        defaultValue={convertedDate(defaultToDate)}\n        name={source}\n        type=\"datetime-local\"\n        onChange={(e) => setDateTo(Date.parse(e.target.value).toString())}\n        error={!!(touched && error)}\n        helperText={touched && error}\n        size=\"small\"\n      />\n    </span>\n  )\n}\n","import { Grid, withStyles } from '@material-ui/core'\n\nexport const VCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n})(Grid)\n\nexport const VHCenterGrid = withStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n})(Grid)\n","import {\n  Button as MuiButton,\n  IconButton,\n  PropTypes as MuiPropTypes,\n  Theme,\n  Tooltip,\n  useMediaQuery,\n} from '@material-ui/core'\nimport { ButtonProps as MuiButtonProps } from '@material-ui/core/Button'\nimport { makeStyles } from '@material-ui/core/styles'\nimport classnames from 'classnames'\nimport { LocationDescriptor } from 'history'\nimport PropTypes from 'prop-types'\nimport { Record, RedirectionSideEffect, useTranslate } from 'ra-core'\nimport * as React from 'react'\nimport { ReactElement, ReactNode, SyntheticEvent } from 'react'\n\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\n\nconst useStyles = makeStyles(\n  {\n    button: {\n      display: 'inline-flex',\n      alignItems: 'center',\n    },\n    label: {\n      paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n      paddingRight: '0.5em',\n    },\n    smallIcon: {\n      fontSize: 20,\n    },\n    mediumIcon: {\n      fontSize: 22,\n    },\n    largeIcon: {\n      fontSize: 24,\n    },\n  },\n  { name: 'RaButton' },\n)\n\nexport const sanitizeButtonRestProps = ({\n  // The next props are injected by Toolbar\n  basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n  handleSubmit, // eslint-disable-line @typescript-eslint/no-unused-vars\n  handleSubmitWithRedirect, // eslint-disable-line @typescript-eslint/no-unused-vars\n  invalid, // eslint-disable-line @typescript-eslint/no-unused-vars\n  onSave, // eslint-disable-line @typescript-eslint/no-unused-vars\n  pristine, // eslint-disable-line @typescript-eslint/no-unused-vars\n  record, // eslint-disable-line @typescript-eslint/no-unused-vars\n  redirect, // eslint-disable-line @typescript-eslint/no-unused-vars\n  resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n  saving, // eslint-disable-line @typescript-eslint/no-unused-vars\n  submitOnEnter, // eslint-disable-line @typescript-eslint/no-unused-vars\n  undoable, // eslint-disable-line @typescript-eslint/no-unused-vars\n  ...rest\n}: any) => rest\n\nconst Button = (props: ButtonProps) => {\n  const {\n    alignIcon = 'left',\n    children,\n    classes: classesOverride, // eslint-disable-line @typescript-eslint/no-unused-vars\n    className,\n    color,\n    disabled,\n    label,\n    size = 'small',\n    useSmallVersionBreakpoint: useSmallVersion,\n    ...rest\n  } = props\n  const translate = useTranslate()\n  const classes = useStyles(props)\n  const isXSmall = useMediaQuery((theme: Theme) => theme.breakpoints.down('xs'))\n  const restProps = sanitizeButtonRestProps(rest)\n  // eslint-disable-next-line no-nested-ternary\n  return isXSmall && useSmallVersion ? (\n    label && !disabled ? (\n      <Tooltip title={translate(label, { _: label })}>\n        <IconButton\n          aria-label={translate(label, { _: label })}\n          className={className}\n          color={color}\n          {...restProps}\n        >\n          {children}\n        </IconButton>\n      </Tooltip>\n    ) : (\n      <IconButton\n        className={className}\n        color={color}\n        disabled={disabled}\n        {...restProps}\n      >\n        {children}\n      </IconButton>\n    )\n  ) : (\n    <MuiButton\n      className={classnames(classes.button, className)}\n      color={color}\n      size={size}\n      aria-label={label ? translate(label, { _: label }) : undefined}\n      disabled={disabled}\n      {...restProps}\n    >\n      {alignIcon === 'left' &&\n        children &&\n        React.cloneElement(children, {\n          className: classes[`${size}Icon`],\n        })}\n      {label && (\n        <span\n          className={classnames({\n            [classes.label]: alignIcon === 'left',\n            [classes.labelRightIcon]: alignIcon !== 'left',\n          })}\n        >\n          {translate(label, { _: label })}\n        </span>\n      )}\n      {alignIcon === 'right' &&\n        children &&\n        React.cloneElement(children, {\n          className: classes[`${size}Icon`],\n        })}\n    </MuiButton>\n  )\n}\n\ninterface Props {\n  alignIcon?: 'left' | 'right'\n  children?: ReactElement\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  classes?: object\n  className?: string\n  color?: MuiPropTypes.Color\n  component?: ReactNode\n  to?: string | LocationDescriptor\n  disabled?: boolean\n  label?: string\n  size?: 'small' | 'medium' | 'large'\n  icon?: ReactElement\n  redirect?: RedirectionSideEffect\n  variant?: string\n  // May be injected by Toolbar\n  basePath?: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  handleSubmit?: (event?: SyntheticEvent<HTMLFormElement>) => Promise<Object>\n  handleSubmitWithRedirect?: (redirect?: RedirectionSideEffect) => void\n  invalid?: boolean\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  onSave?: (values: object, redirect: RedirectionSideEffect) => void\n  saving?: boolean\n  submitOnEnter?: boolean\n  pristine?: boolean\n  record?: Record\n  resource?: string\n  undoable?: boolean\n  useSmallVersionBreakpoint?: boolean\n}\n\nexport type ButtonProps = Props & MuiButtonProps\n\nButton.propTypes = {\n  alignIcon: PropTypes.oneOf(['left', 'right']),\n  children: PropTypes.element,\n  // eslint-disable-next-line react/forbid-prop-types\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  useSmallVersionBreakpoint: PropTypes.bool,\n}\n\nButton.defaultProps = {\n  color: 'primary',\n  size: 'small',\n  useSmallVersionBreakpoint: true,\n}\n\nexport default Button\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  IconButton,\n  makeStyles,\n  Paper,\n  Typography,\n} from '@material-ui/core'\nimport { Close, Videocam } from '@material-ui/icons'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useMutation, useNotify, useShowContext } from 'react-admin'\nimport Draggable from 'react-draggable'\nimport ReactHlsPlayer from 'react-hls-player/dist'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { DateTime } from '../../../../core/common/date-time'\nimport { CameraDto } from '../../../../core/dto/device/camera/cameras/camera.dto'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport Button, {\n  ButtonProps,\n} from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    actions: {\n      padding: 0,\n      background: 'rgba(0,0,0,0.2)',\n    },\n    title: {\n      marginLeft: '10px',\n      marginRight: 'auto',\n    },\n    button: {\n      margin: '2px',\n    },\n    video: {\n      maxWidth: '-webkit-fill-available',\n      maxHeight: '500px',\n    },\n    dialogContent: {\n      padding: 0,\n    },\n  }),\n)\n\nfunction DraggableComponent({ ...props }) {\n  const nodeRef = React.useRef(null)\n  return (\n    <Draggable\n      nodeRef={nodeRef}\n      handle=\"#draggable-dialog-title\"\n      cancel={'[class*=\"MuiDialogContent-root\"]'}\n    >\n      <Paper ref={nodeRef} {...props} />\n    </Draggable>\n  )\n}\n\nexport const CameraPreviewDialog = ({\n  open,\n  close,\n  startDate,\n  cameraData,\n}: {\n  open: boolean\n  close: () => void\n  startDate?: DateTime\n  cameraData?: CameraPreviewData\n}) => {\n  let camera: CameraDto | CameraPreviewData | undefined\n  const { record } = useShowContext<CameraDto>()\n  if (cameraData) camera = cameraData\n  else camera = record\n  const [mutate] = useMutation()\n  const playerRef = React.useRef<HTMLVideoElement>(null)\n  const [jobId, setJobId] = useState(undefined)\n  const [streamName, setStreamName] = useState('')\n  const [showPlayer, setShowPlayer] = useState(true)\n  const [streamLoaded, setStreamLoaded] = useState(false)\n  const [maxRetriesLeft, setMaxRetriesLeft] = useState(15)\n  const classes = useStyles()\n  const notify = useNotify()\n\n  const openStream = useCallback(async () => {\n    const streamInfo = await mutate(\n      {\n        type: 'openStream',\n        resource: ResourceName.CAMERAS,\n        payload: {\n          cameraId: camera?.id,\n          streamStart: startDate,\n        },\n      },\n      { returnPromise: true },\n    )\n    setStreamName(streamInfo.data.streamFile)\n    setJobId(streamInfo.data.jobId)\n  }, [mutate, camera, startDate, setStreamName, setJobId])\n\n  const closeStream = useCallback(async () => {\n    if (jobId)\n      await mutate(\n        {\n          type: 'deleteJob',\n          resource: ResourceName.JOBS,\n          payload: {\n            jobId,\n          },\n        },\n        { returnPromise: true },\n      )\n  }, [mutate, jobId])\n\n  const handleClose = useCallback(() => {\n    close()\n  }, [close])\n\n  const reload = () => {\n    setShowPlayer(false)\n  }\n\n  const onHlsDataLoaded = () => {\n    setStreamLoaded(true)\n  }\n\n  const handleTimeout = useCallback(() => {\n    handleClose()\n    notify('resources.cameras.dialogs.preview.streamTimeout')\n  }, [handleClose, notify])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      reload()\n      setMaxRetriesLeft(maxRetriesLeft - 1)\n    }, 2000)\n    if (streamLoaded || !open) {\n      clearInterval(interval)\n    } else if (maxRetriesLeft <= 0) {\n      handleTimeout()\n    }\n    return () => clearInterval(interval)\n  }, [streamLoaded, open, maxRetriesLeft, handleTimeout])\n\n  useEffect(() => {\n    if (!showPlayer) setShowPlayer(true)\n  }, [showPlayer])\n\n  useEffect(() => {\n    playerRef.current?.addEventListener('loadeddata', onHlsDataLoaded)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [playerRef.current])\n\n  useEffect(() => {\n    if (open) {\n      openStream()\n    }\n  }, [open, openStream])\n\n  useEffect(() => {\n    if (!open) {\n      setStreamLoaded(false)\n      setStreamName('')\n      closeStream()\n      setJobId(undefined)\n      setMaxRetriesLeft(15)\n    }\n  }, [open, closeStream])\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      PaperComponent={DraggableComponent}\n      aria-labelledby=\"draggable-dialog-title\"\n      maxWidth=\"md\"\n    >\n      <DialogActions\n        className={classes.actions}\n        style={{ cursor: 'move' }}\n        id=\"draggable-dialog-title\"\n      >\n        <Typography className={classes.title}>{camera?.description}</Typography>\n        <IconButton\n          size=\"small\"\n          className={classes.button}\n          onClick={handleClose}\n        >\n          <Close fontSize=\"small\" />\n        </IconButton>\n      </DialogActions>\n      <DialogContent className={classes.dialogContent}>\n        {showPlayer && (\n          <ReactHlsPlayer\n            className={classes.video}\n            playerRef={playerRef}\n            src={`streams/${streamName}`}\n            autoPlay\n            muted\n            controls\n            width=\"auto\"\n            height=\"auto\"\n          />\n        )}\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport const OpenCameraPreviewDialogButton = ({\n  label,\n  startDate,\n  cameraData,\n  props,\n}: {\n  label?: string\n  startDate?: DateTime\n  cameraData?: CameraPreviewData\n  props?: ButtonProps\n}) => {\n  const classes = useStyles()\n  const [dialogOpen, setDialogOpen] = useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const onClose = () => {\n    setDialogOpen(false)\n  }\n\n  const openDialog = () => {\n    setDialogOpen(true)\n  }\n\n  return (\n    <>\n      <CameraPreviewDialog\n        open={dialogOpen}\n        close={onClose}\n        startDate={startDate}\n        cameraData={cameraData}\n      />\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.button}\n        label={\n          label == null ? 'resources.cameras.actions.openCameraPreview' : label\n        }\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.VIEW_CAMERAS)}\n        {...props}\n        onClick={openDialog}\n      >\n        <Videocam />\n      </Button>\n    </>\n  )\n}\n\nexport interface CameraPreviewData {\n  readonly id: number\n  readonly description: string\n}\n","import { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst identity = localStorage.getItem('username')\nexport const INACTIVE_COMPONENTS_KEY = `${identity}.inactiveComponents`\n\nexport enum DashboardItem {\n  TICKET_FINDER = 'ticket_finder',\n  LAST_LOGS = 'last_logs',\n  LAST_EVENTS = 'last_events',\n  CUSTOMER_FINDER = 'customer_finder',\n}\n\nexport type DashboardState = {\n  dashboard: {\n    inactiveComponents: DashboardItem[]\n  }\n}\n\nexport type DashboardAction = {\n  type: typeof UPDATE_DASHBOARD\n  payload: DashboardItem\n}\n","import {\n  useMediaQuery,\n  useTheme,\n  Grid,\n  Divider,\n  TableBody,\n  Box,\n  Typography,\n} from '@material-ui/core'\nimport { Receipt } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Pagination,\n  SelectInput,\n  TextInput,\n  useTranslate,\n  Datagrid,\n  TextField,\n  DateField,\n  Record,\n  FunctionField,\n  useLocale,\n  DatagridBodyProps,\n  DatagridRow,\n  DatagridHeader,\n  DatagridHeaderProps,\n  ShowButton,\n  Filter,\n  ReferenceInput,\n} from 'react-admin'\nimport { useHistory } from 'react-router'\nimport { getContrastColor } from '../../core/common/visual.utils'\nimport { ExtendedLog } from '../../core/dto/extended-log'\nimport { DateFilterInput } from './DateFilterInput'\nimport { VCenterGrid, VHCenterGrid } from './LogsComponents'\nimport FilterProps from '../common/FilterProps'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { ResourceName } from '../../core/ResourceName'\nimport { OpenCameraPreviewDialogButton } from '../devices/camera/cameras/CameraPreviewDialog'\n\ninterface LogExpandProps {\n  readonly noBooking?: boolean\n  readonly noCamera?: boolean\n  readonly record?: ExtendedLog\n}\n\ninterface LogBodyProps extends DatagridBodyProps {\n  readonly noBooking?: boolean\n  readonly noCamera?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogHeaderProps extends DatagridHeaderProps {\n  readonly noBooking?: boolean\n  readonly noCamera?: boolean\n  readonly compactMode?: boolean\n}\n\ninterface LogListProps extends ListProps {\n  readonly compactMode?: boolean\n  readonly noBooking?: boolean\n  readonly noCamera?: boolean\n}\n\nconst BookingButton = ({ style }: { style?: any }) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const history = useHistory()\n  return (\n    <FunctionField\n      source=\"bookingId\"\n      render={(record: Record | undefined) =>\n        record?.bookingId && (\n          <>\n            <ShowButton\n              basePath=\"/bookings\"\n              label={record.bookingId.toString()}\n              record={{ id: record.bookingId }}\n              icon={<Receipt />}\n              style={style}\n            />\n            {xSmallScreen && (\n              <Typography\n                color=\"primary\"\n                onClick={() =>\n                  history.push(`/bookings/${record.bookingId}/show`)\n                }\n              >\n                {record.bookingId}\n              </Typography>\n            )}\n          </>\n        )\n      }\n    />\n  )\n}\n\nconst LogExpand = ({ noBooking, noCamera, record }: LogExpandProps) => {\n  const translate = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <VCenterGrid item xs={4}>\n          {translate('resources.logs.fields.description')}:\n        </VCenterGrid>\n        <VCenterGrid item xs={8}>\n          <TextField source=\"text\" />\n        </VCenterGrid>\n        {!noBooking && record?.bookingId && (\n          <>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n            <VCenterGrid item xs={4}>\n              {translate('resources.logs.fields.bookingId')}:\n            </VCenterGrid>\n            <VHCenterGrid item xs={8}>\n              <BookingButton />\n            </VHCenterGrid>\n          </>\n        )}\n        {!noCamera &&\n          record?.cameraId !== null &&\n          record?.cameraId !== undefined && (\n            <>\n              <Grid item xs={12}>\n                <Divider />\n              </Grid>\n              <VCenterGrid item xs={4}>\n                {translate('resources.logs.fields.cameraId')}:\n              </VCenterGrid>\n              <VHCenterGrid item xs={8}>\n                <OpenCameraPreviewDialogButton\n                  startDate={record.date}\n                  cameraData={{\n                    id: record?.cameraId,\n                    description:\n                      record?.cameraDescription !== null\n                        ? record?.cameraDescription\n                        : '',\n                  }}\n                  label=\"\"\n                  props={{ variant: undefined }}\n                />\n              </VHCenterGrid>\n            </>\n          )}\n      </Grid>\n    </Box>\n  )\n}\n\nconst LogBody = ({\n  noBooking,\n  noCamera,\n  compactMode,\n  data,\n  ids,\n  rowStyle,\n  expand,\n}: LogBodyProps) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <TableBody>\n      {data &&\n        rowStyle &&\n        ids?.map((id) => {\n          const style = rowStyle(data[id], id as number)\n          return (\n            <DatagridRow\n              key={id}\n              id={id}\n              record={data[id]}\n              resource=\"logs\"\n              expand={expand}\n              style={style}\n            >\n              <DateField\n                source=\"date\"\n                style={style}\n                options={{\n                  hour: '2-digit',\n                  minute: '2-digit',\n                  second: '2-digit',\n                }}\n              />\n              <TextField source=\"deviceName\" style={style} />\n              <TextField source=\"ticketCode\" style={style} />\n              {!compactMode && <TextField source=\"text\" style={style} />}\n              {!compactMode &&\n                !noBooking &&\n                (hasAuthority(Authority.VIEW_BOOKINGS) ? (\n                  <BookingButton style={style} />\n                ) : (\n                  <TextField source=\"bookingId\" />\n                ))}\n              {!compactMode &&\n                !noCamera &&\n                (hasAuthority(Authority.VIEW_CAMERAS) ? (\n                  <FunctionField<ExtendedLog>\n                    source=\"cameraId\"\n                    render={(record?: ExtendedLog) =>\n                      record?.cameraId !== null &&\n                      record?.cameraId !== undefined && (\n                        <OpenCameraPreviewDialogButton\n                          startDate={record.date}\n                          cameraData={{\n                            id: record?.cameraId,\n                            description:\n                              record?.cameraDescription !== null\n                                ? record?.cameraDescription\n                                : '',\n                          }}\n                          label=\"\"\n                          props={{ variant: undefined, style }}\n                        />\n                      )\n                    }\n                  />\n                ) : (\n                  <TextField source=\"cameraId\" />\n                ))}\n            </DatagridRow>\n          )\n        })}\n    </TableBody>\n  )\n}\n\nconst LogHeader = ({\n  noBooking,\n  noCamera,\n  compactMode,\n  ...props\n}: LogHeaderProps) => (\n  <DatagridHeader {...props}>\n    <DateField source=\"date\" label=\"resources.logs.fields.date\" />\n    <TextField source=\"deviceName\" label=\"resources.logs.fields.deviceName\" />\n    <TextField source=\"ticketCode\" label=\"resources.logs.fields.ticketCode\" />\n    {!compactMode && (\n      <TextField\n        source=\"text\"\n        sortable={false}\n        label=\"resources.logs.fields.description\"\n      />\n    )}\n    {!noBooking && !compactMode && (\n      <TextField source=\"bookingId\" label=\"resources.logs.fields.bookingId\" />\n    )}\n    {!noCamera && !compactMode && (\n      <TextField source=\"cameraId\" label=\"resources.logs.fields.cameraId\" />\n    )}\n  </DatagridHeader>\n)\n\nconst LogFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput key=\"ticketCode\" source=\"ticketCode\" alwaysOn />\n      <SelectInput\n        key=\"deviceName\"\n        source=\"deviceName\"\n        choices={[\n          {\n            id: 'Czytnik',\n            name: 'resources.logs.fields.deviceNameChoices.reader',\n          },\n          {\n            id: 'Przej\\u015Bcie',\n            name: 'resources.logs.fields.deviceNameChoices.gateway',\n          },\n        ]}\n      />\n      <DateFilterInput source=\"date\" key=\"date\" />\n      <TextInput source=\"bookingId\" key=\"bookingId\" />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput\n          label=\"resources.logs.fields.event\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          sort={{ field: 'dateStart', order: 'DESC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const LogList = ({\n  compactMode = false,\n  noBooking = false,\n  noCamera = false,\n  ...props\n}: LogListProps) => {\n  const { filter, ...listProps } = props\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const locale = useLocale()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      filters={<LogFilters />}\n      filter={{ ...filter, locale }}\n      sort={{ field: 'date', order: 'DESC' }}\n      {...listProps}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        header={\n          <LogHeader\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n            noCamera={noCamera}\n          />\n        }\n        body={\n          <LogBody\n            compactMode={smallScreen ? true : compactMode}\n            noBooking={noBooking}\n            noCamera={noCamera}\n          />\n        }\n        isRowExpandable={() => smallScreen || compactMode}\n        expand={<LogExpand noBooking={noBooking} noCamera={noCamera} />}\n        rowStyle={(record: Record) => ({\n          background: record && record.color,\n          color:\n            record && record.color !== 'transparent'\n              ? getContrastColor(record.color)\n              : 'inherit',\n        })}\n        padding={xSmallScreen ? 'none' : 'default'}\n      >\n        <div />\n      </Datagrid>\n    </List>\n  )\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ResourceContextProvider, useTranslate } from 'react-admin'\nimport { ResourceName } from '../core/ResourceName'\nimport { FindCustomerByInfo } from './common/FindCustomerByInfo'\nimport { FindUserByTicket } from './common/FindUserByTicket'\nimport { EventList } from './events/EventList'\nimport { LogList } from './logs/LogList'\nimport { DashboardItem, DashboardState } from '../core/common/dashboard'\nimport { useHasAuthority } from './hooks/useHasAuthority'\nimport { Authority } from '../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      textAlign: 'center',\n      letterSpacing: theme.spacing(0.2),\n    },\n    lastLogs: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-end',\n      width: '10%',\n    },\n  }),\n)\n\nconst TicketFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindUserByTicket />\n  </Card>\n)\n\nconst CustomerFinder = () => (\n  <Card style={{ width: '100%', marginBottom: '5px' }}>\n    <FindCustomerByInfo />\n  </Card>\n)\n\nconst LastLogs = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-logs.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.LOGS}>\n          <LogList\n            basePath=\"/\"\n            title=\" \"\n            compactMode\n            pagination={false}\n            perPage={10}\n            actions={false}\n            filters={undefined}\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nconst LastEvents = () => {\n  const t = useTranslate()\n  return (\n    <Card style={{ width: '100%', marginBottom: '5px' }}>\n      <CardHeader title={t('dashboard.cards.last-events.title')} />\n      <CardContent>\n        <ResourceContextProvider value={ResourceName.EVENTS}>\n          <EventList\n            sort={{ field: 'status', order: 'DESC' }}\n            compactMode\n            basePath=\"/\"\n            title=\" \"\n          />\n        </ResourceContextProvider>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n  const t = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const isItemActive = (item: DashboardItem, inactiveItems: DashboardItem[]) =>\n    !inactiveItems.includes(item)\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Card>\n          <CardHeader\n            className={classes.header}\n            title={t('dashboard.welcome')}\n            titleTypographyProps={{ variant: 'h4' }}\n          />\n        </Card>\n      </Grid>\n      <Grid item sm={6} xs={12}>\n        {hasAuthority(Authority.VIEW_TICKETS) &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          isItemActive(DashboardItem.TICKET_FINDER, inactiveComponents) && (\n            <TicketFinder />\n          )}\n        {hasAuthority(Authority.VIEW_EVENTS) &&\n          isItemActive(DashboardItem.LAST_EVENTS, inactiveComponents) && (\n            <LastEvents />\n          )}\n      </Grid>\n      <Grid className={classes.lastLogs} item sm={6} xs={12}>\n        {hasAuthority(Authority.VIEW_CUSTOMERS) &&\n          isItemActive(DashboardItem.CUSTOMER_FINDER, inactiveComponents) && (\n            <CustomerFinder />\n          )}\n        {hasAuthority(Authority.VIEW_LOGS) &&\n          isItemActive(DashboardItem.LAST_LOGS, inactiveComponents) && (\n            <LastLogs />\n          )}\n      </Grid>\n    </Grid>\n  )\n}\n","import {\n  Button,\n  ButtonGroup,\n  Card,\n  CardContent,\n  createStyles,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { Dispatch, ReactElement } from 'react'\nimport { Title, useLocale, useSetLocale, useTranslate } from 'react-admin'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Event, List, Search, Person } from '@material-ui/icons'\nimport { ThemeState } from '../../core/common/theme.reducer'\nimport {\n  CHANGE_THEME,\n  UPDATE_DASHBOARD,\n} from '../../core/constants/reducer.actions'\nimport {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n} from '../../core/common/dashboard'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { Authority } from '../../core/auth/Authority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    label: { width: '15vw', display: 'inline-block' },\n    button: { margin: theme.spacing(2) },\n    select: { width: '40vw', margin: theme.spacing(2) },\n    compsContainer: {\n      width: '40vw',\n      display: 'inline-block',\n      margin: theme.spacing(2),\n    },\n  }),\n)\n\ntype DashboardItemSwitchProps = {\n  dashboardItem: DashboardItem\n  label: string\n  icon: ReactElement\n}\n\nconst DashboardItemSwitch = ({\n  dashboardItem,\n  label,\n  icon,\n}: DashboardItemSwitchProps) => {\n  const t = useTranslate()\n  const dispatch = useDispatch<Dispatch<DashboardAction>>()\n  const inactiveComponents = useSelector(\n    (state: DashboardState) => state.dashboard.inactiveComponents,\n  )\n  const onSwitch = ({\n    target: { name },\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({ type: UPDATE_DASHBOARD, payload: name as DashboardItem })\n  }\n  return (\n    <Grid item xs={6}>\n      <Paper>\n        {icon}\n        <FormControlLabel\n          control={\n            <Switch\n              checked={!inactiveComponents.includes(dashboardItem)}\n              name={dashboardItem}\n              onChange={onSwitch}\n            />\n          }\n          label={t(label)}\n          labelPlacement=\"top\"\n          style={{ margin: '5%', textAlign: 'center', width: '90%' }}\n        />\n      </Paper>\n    </Grid>\n  )\n}\n\nconst DashboardCustomization = () => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <Grid container spacing={1}>\n      {hasAuthority(Authority.VIEW_TICKETS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.TICKET_FINDER}\n          label=\"dashboard.settings.ticket-finder-label\"\n          icon={<Search />}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_LOGS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.LAST_LOGS}\n          label=\"dashboard.settings.last-logs-label\"\n          icon={<List />}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.LAST_EVENTS}\n          label=\"dashboard.settings.last-events-label\"\n          icon={<Event />}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_CUSTOMERS) && (\n        <DashboardItemSwitch\n          dashboardItem={DashboardItem.CUSTOMER_FINDER}\n          label=\"dashboard.settings.customer-finder-label\"\n          icon={<Person />}\n        />\n      )}\n    </Grid>\n  )\n}\n\nexport const Configuration = () => {\n  const dispatch = useDispatch()\n  const theme = useSelector(\n    (state: ThemeState) => state.theme.darkMode === 'dark',\n  )\n  const classes = useStyles()\n  const locale = useLocale()\n  const setLocale = useSetLocale()\n  const t = useTranslate()\n\n  return (\n    <Card>\n      <Title title={t('settings.name')} />\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.darkMode.name')}\n        </Typography>\n        <ButtonGroup className={classes.button}>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={!theme ? 'primary' : 'default'}\n            onClick={() => theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.light')}\n          </Button>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color={theme ? 'primary' : 'default'}\n            onClick={() => !theme && dispatch({ type: CHANGE_THEME })}\n          >\n            {t('settings.darkMode.dark')}\n          </Button>\n        </ButtonGroup>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('settings.language.name')}\n        </Typography>\n        <Select\n          value={locale}\n          onChange={(e) => setLocale(e.target.value as string)}\n          className={classes.select}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pl\">{t('settings.language.pl')}</MenuItem>\n          <MenuItem value=\"en\">{t('settings.language.en')}</MenuItem>\n        </Select>\n      </CardContent>\n      <CardContent>\n        <Typography className={classes.label}>\n          {t('dashboard.settings.title')}\n        </Typography>\n        <div className={classes.compsContainer}>\n          <DashboardCustomization />\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","import * as React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Configuration } from './Configuration'\n\nexport default [\n  <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n]\n","import { createContext } from 'react';\n/**\n * We need this context to communicate the callback to enable edit mode on a\n * row between the <EditableDatagridRow> and the <EditRowButton> and through\n * <DatagridRow> (which does not expect this prop).\n */\nexport var EditRowContext = createContext(null);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useCallback, useMemo, useState, } from 'react';\nimport { CRUD_UPDATE, DatagridRow, SaveContextProvider, useNotify, useSaveModifiers, useUpdate, useResourceContext, useRecordContext, } from 'react-admin';\nimport { makeStyles } from '@material-ui/core';\nimport { EditRowContext } from './EditRowContext';\nvar EditableRow = function (props) {\n    var form = props.form, resourceOverride = props.resource, id = props.id, recordOverride = props.record, basePath = props.basePath, children = props.children, rowClick = props.rowClick, mutationMode = props.mutationMode, undoable = props.undoable, rest = __rest(props, [\"form\", \"resource\", \"id\", \"record\", \"basePath\", \"children\", \"rowClick\", \"mutationMode\", \"undoable\"]);\n    var resource = useResourceContext(props);\n    var record = useRecordContext(props);\n    var _a = useState(false), isEdit = _a[0], setEdit = _a[1];\n    var classes = useStyles(emptyObject);\n    var openEditMode = useCallback(function () {\n        setEdit(true);\n    }, []);\n    var closeEditMode = useCallback(function () {\n        setEdit(false);\n    }, []);\n    var notify = useNotify();\n    var _b = useUpdate(resource, id, {}, // set by the caller\n    record), update = _b[0], saving = _b[1].loading;\n    var defaultOnSuccess = useCallback(function () {\n        notify('ra.notification.updated', 'info', {\n            smart_count: 1,\n        }, undoable);\n        closeEditMode();\n    }, [notify, undoable, closeEditMode]);\n    var defaultOnFailure = useCallback(function (error) {\n        notify(typeof error === 'string'\n            ? error\n            : error.message || 'ra.notification.http_error', 'warning');\n    }, [notify]);\n    var _c = useSaveModifiers({\n        onFailure: defaultOnFailure,\n        onSuccess: defaultOnSuccess,\n    }), onSuccessRef = _c.onSuccessRef, setOnSuccess = _c.setOnSuccess, onFailureRef = _c.onFailureRef, setOnFailure = _c.setOnFailure, transformRef = _c.transformRef, setTransform = _c.setTransform;\n    var handleClick = useCallback(function (event) {\n        var _a = getTableClickEventPosition(event), tbody = _a.tbody, row = _a.row, column = _a.column;\n        openEditMode();\n        // once the row is replaced by a form, focus the input inside the cell clicked\n        setTimeout(function () {\n            // No way to know the markup of the form in advance, as developers\n            // can inject a form element of their own. The only valid assumption\n            // is that the form should have the same number of columns as the row.\n            // So we select the input based on the column it's in.\n            var input = tbody.querySelector(\"tr:nth-child(\" + row + \") td:nth-child(\" + column + \") input\");\n            input && input.focus && input.focus();\n        }, 100); // FIXME not super robust\n    }, [openEditMode]);\n    var save = useCallback(function (data, _, // unused redirectTo\n    _a) {\n        var // unused redirectTo\n        _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : !!transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return update({ payload: { data: data } }, {\n                action: CRUD_UPDATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : !!onSuccessRef.current\n                        ? onSuccessRef.current\n                        : defaultOnSuccess,\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : !!onFailureRef.current\n                        ? onFailureRef.current\n                        : defaultOnFailure,\n                undoable: undoable,\n            });\n        });\n    }, [\n        defaultOnFailure,\n        defaultOnSuccess,\n        update,\n        undoable,\n        onFailureRef,\n        onSuccessRef,\n        transformRef,\n    ]);\n    var saveContext = {\n        save: save,\n        saving: saving,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n    };\n    var rowContext = useMemo(function () { return ({\n        open: openEditMode,\n        close: closeEditMode,\n    }); }, [openEditMode, closeEditMode]);\n    return (React.createElement(EditRowContext.Provider, { value: rowContext }, isEdit ? (React.createElement(SaveContextProvider, { value: saveContext }, cloneElement(form, __assign({ id: id, quitEditMode: closeEditMode, resource: resource, record: record, basePath: basePath, save: save, saving: saving, mutationMode: mutationMode, undoable: undoable }, rest)))) : (React.createElement(DatagridRow, __assign({ resource: resource, id: id, record: record, basePath: basePath }, rest, { className: classes.td, onClick: rowClick === 'edit'\n            ? handleClick\n            : function () { return undefined; } }), children))));\n};\n/**\n * Based on a MouseEvent triggered by a click on a table row,\n * get the tbody element, the row and column number of the cell clicked.\n *\n * @param {MouseEvent} event\n */\nvar getTableClickEventPosition = function (event) {\n    var target = event.target;\n    var td = target.closest('td');\n    var tr = td.parentNode;\n    var columns = tr.children;\n    var column;\n    for (var index = 0; index < columns.length; index++) {\n        if (columns.item(index) === td) {\n            column = index + 1;\n        }\n    }\n    var tbody = tr.parentNode;\n    var rows = tbody.children;\n    var row;\n    for (var index = 0; index < rows.length; index++) {\n        if (rows.item(index) === tr) {\n            row = index + 1;\n        }\n    }\n    return { tbody: tbody, row: row, column: column };\n};\nvar useStyles = makeStyles({\n    td: {\n        '& td:last-of-type > *': {\n            visibility: 'hidden',\n        },\n        '&:hover td:last-of-type > *': {\n            visibility: 'visible',\n        },\n    },\n}, {\n    name: 'RaEditableDatagridRow',\n});\nvar emptyObject = {};\nexport default EditableRow;\n","import { createContext } from 'react';\n/**\n * We need this context to communicate the callback to exit the create mode on a\n * row between the <EditableDatagrid> and the <CreateRowButton> and through\n * <DatagridRow> (which does not expect this prop).\n */\nexport var CreateRowContext = createContext(null);\n","import React, { cloneElement, useCallback, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useCreate, useNotify, useRefresh, CRUD_CREATE, useSaveModifiers, SaveContextProvider, useResourceContext, } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { CreateRowContext } from './CreateRowContext';\nvar EditableDatagridCreateForm = function (props) {\n    var basePath = props.basePath, classes = props.classes, expand = props.expand, hasBulkActions = props.hasBulkActions, createForm = props.createForm, hasStandaloneCreateForm = props.hasStandaloneCreateForm, isStandaloneCreateFormVisible = props.isStandaloneCreateFormVisible, closeStandaloneCreateForm = props.closeStandaloneCreateForm;\n    var history = useHistory();\n    var notify = useNotify();\n    var refresh = useRefresh();\n    var resource = useResourceContext(props);\n    var _a = useCreate(resource, {}), create = _a[0], saving = _a[1].loading;\n    var hideCreateForm = useCallback(function () {\n        if (hasStandaloneCreateForm) {\n            closeStandaloneCreateForm();\n        }\n        else {\n            history.push(basePath);\n        }\n    }, [basePath, closeStandaloneCreateForm, hasStandaloneCreateForm, history]);\n    var defaultOnSuccess = useCallback(function () {\n        notify('ra.notification.created', 'info', {\n            smart_count: 1,\n        });\n        refresh();\n        hideCreateForm();\n    }, [hideCreateForm, notify, refresh]);\n    var defaultOnFailure = useCallback(function (error) {\n        notify(typeof error === 'string'\n            ? error\n            : error.message || 'ra.notification.http_error', 'warning');\n    }, [notify]);\n    var _b = useSaveModifiers({\n        onFailure: defaultOnFailure,\n        onSuccess: defaultOnSuccess,\n    }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var save = useCallback(function (data, _, // unused redirectTo\n    _a) {\n        var // unused redirectTo\n        _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return create({ payload: { data: data } }, {\n                action: CRUD_CREATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : !!onSuccessRef.current\n                        ? onSuccessRef.current\n                        : defaultOnSuccess,\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : !!onFailureRef.current\n                        ? onFailureRef.current\n                        : defaultOnFailure,\n            });\n        });\n    }, [\n        create,\n        defaultOnFailure,\n        defaultOnSuccess,\n        onFailureRef,\n        onSuccessRef,\n        transformRef,\n    ]);\n    var saveContext = {\n        save: save,\n        saving: saving,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n    };\n    var createContext = useMemo(function () { return ({\n        close: hideCreateForm,\n    }); }, [hideCreateForm]);\n    var createFormElement = (React.createElement(SaveContextProvider, { value: saveContext },\n        React.createElement(CreateRowContext.Provider, { value: createContext }, cloneElement(createForm, {\n            classes: classes,\n            expand: expand,\n            hasBulkActions: hasBulkActions,\n            id: 'new_record',\n            quitEditMode: hideCreateForm,\n            record: {},\n            resource: resource,\n            basePath: basePath,\n            save: save,\n            saving: saving,\n            selectable: false,\n        }))));\n    if (hasStandaloneCreateForm) {\n        // create form triggered by state\n        return isStandaloneCreateFormVisible && createFormElement;\n    }\n    // create form in a route\n    return React.createElement(Route, { path: basePath + \"/create\" }, createFormElement);\n};\nEditableDatagridCreateForm.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    resource: PropTypes.string,\n    createForm: PropTypes.element,\n    hasStandaloneCreateForm: PropTypes.bool,\n    isStandaloneCreateFormVisible: PropTypes.bool.isRequired,\n    closeStandaloneCreateForm: PropTypes.func.isRequired,\n};\nexport default EditableDatagridCreateForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableBody } from '@material-ui/core';\nimport EditableDatagridRow from './EditableDatagridRow';\nimport EditableDatagridCreateForm from './EditableDatagridCreateForm';\nvar EditableDatagridBody = function (_a) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    version = _a.version, isRowSelectable = _a.isRowSelectable, editForm = _a.editForm, createForm = _a.createForm, undoable = _a.undoable, _b = _a.hasStandaloneCreateForm, hasStandaloneCreateForm = _b === void 0 ? false : _b, isStandaloneCreateFormVisible = _a.isStandaloneCreateFormVisible, closeStandaloneCreateForm = _a.closeStandaloneCreateForm, mutationMode = _a.mutationMode, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"version\", \"isRowSelectable\", \"editForm\", \"createForm\", \"undoable\", \"hasStandaloneCreateForm\", \"isStandaloneCreateFormVisible\", \"closeStandaloneCreateForm\", \"mutationMode\"]);\n    return (React.createElement(TableBody, __assign({ className: classnames('datagrid-body', className) }, rest),\n        createForm && (React.createElement(EditableDatagridCreateForm, { basePath: basePath, classes: classes, closeStandaloneCreateForm: closeStandaloneCreateForm, createForm: createForm, expand: expand, hasBulkActions: hasBulkActions, hasStandaloneCreateForm: hasStandaloneCreateForm, isStandaloneCreateFormVisible: isStandaloneCreateFormVisible, resource: resource })),\n        ids.map(function (id, rowIndex) {\n            var _a;\n            return (React.createElement(EditableDatagridRow, { basePath: basePath, classes: classes, className: classnames(classes.row, (_a = {},\n                    _a[classes.rowEven] = rowIndex % 2 === 0,\n                    _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                    _a[classes.clickableRow] = rowClick,\n                    _a)), expand: expand, form: editForm, hasBulkActions: hasBulkActions, hover: hover, id: id, key: id, onToggleItem: onToggleItem, record: data[id], resource: resource, rowClick: rowClick, selectable: !isRowSelectable || isRowSelectable(data[id]), selected: selectedIds.includes(id), style: rowStyle ? rowStyle(data[id], rowIndex) : null, undoable: undoable, mutationMode: mutationMode }, children));\n        })));\n};\nEditableDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    data: PropTypes.object.isRequired,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.string,\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    isRowSelectable: PropTypes.func,\n    version: PropTypes.number,\n};\nEditableDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n};\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nEditableDatagridBody.muiName = 'TableBody';\nexport default EditableDatagridBody;\n","export enum AccessDateTypes {\n  GRANT = 'GRANT',\n  REVOKE = 'REVOKE',\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useTranslate } from 'react-admin';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nexport var CancelEditButton = function (_a) {\n    var cancel = _a.cancel, props = __rest(_a, [\"cancel\"]);\n    var translate = useTranslate();\n    return (React.createElement(Tooltip, { title: translate('ra.action.cancel', {\n            _: 'ra.action.cancel',\n        }) },\n        React.createElement(IconButton, __assign({ onClick: cancel, size: \"small\" }, props),\n            React.createElement(CancelIcon, null))));\n};\nexport default CancelEditButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { useGetResourceLabel, useResourceContext, useTranslate, } from 'react-admin';\nimport { Tooltip, Button } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nexport var CreateButton = function (props) {\n    var resourceOverride = props.resource, rest = __rest(props, [\"resource\"]);\n    var translate = useTranslate();\n    var resource = useResourceContext(props);\n    var getResourceLabel = useGetResourceLabel();\n    var singularResourceName = getResourceLabel(resource, 1);\n    var label = translate('ra.page.create', { name: singularResourceName });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(Button, __assign({ size: \"small\", color: \"primary\", \"aria-label\": label }, rest),\n            React.createElement(AddIcon, null),\n            label)));\n};\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { Confirm, getMutationMode, useDeleteWithConfirmController, useRecordContext, useResourceContext, useTranslate, } from 'react-admin';\nexport var DeleteWithConfirmIconButton = function (props) {\n    var basePath = props.basePath, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.label, label = _c === void 0 ? 'ra.action.delete' : _c, mutationMode = props.mutationMode, _d = props.redirect, redirectTo = _d === void 0 ? 'list' : _d, undoable = props.undoable;\n    var mode = getMutationMode(mutationMode, undoable);\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _e = useDeleteWithConfirmController({\n        mutationMode: mutationMode || mode,\n        resource: resource,\n        record: record,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), open = _e.open, loading = _e.loading, handleDialogOpen = _e.handleDialogOpen, handleDialogClose = _e.handleDialogClose, handleDelete = _e.handleDelete;\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Fragment, null,\n        React.createElement(Tooltip, { title: translatedLabel },\n            React.createElement(IconButton, { \"aria-label\": translatedLabel, onClick: handleDialogOpen, className: classnames('ra-delete-button', className), key: \"button\", size: \"small\" },\n                React.createElement(ActionDelete, { color: \"error\" }))),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                    smart_count: 1,\n                    _: inflection.singularize(resource),\n                }), true),\n                id: record ? record.id : undefined,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nDeleteWithConfirmIconButton.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useTranslate, useDeleteWithUndoController, useRecordContext, useResourceContext, } from 'react-admin';\nexport var DeleteWithUndoIconButton = function (props) {\n    var basePath = props.basePath, className = props.className, _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, _b = props.redirect, redirectTo = _b === void 0 ? 'list' : _b;\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _c = useDeleteWithUndoController({\n        resource: resource,\n        record: record,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), loading = _c.loading, handleDelete = _c.handleDelete;\n    var translate = useTranslate();\n    var translatedLabel = translate(label, { _: label });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, { \"aria-label\": translatedLabel, disabled: loading, onClick: handleDelete, className: classnames('ra-delete-button', className), key: \"button\", size: \"small\" },\n            React.createElement(ActionDelete, { color: \"error\" }))));\n};\nDeleteWithUndoIconButton.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { getMutationMode } from 'react-admin';\nimport { DeleteWithConfirmIconButton } from './DeleteWithConfirmIconButton';\nimport { DeleteWithUndoIconButton } from './DeleteWithUndoIconButton';\nexport var DeleteRowButton = function (_a) {\n    var mutationMode = _a.mutationMode, undoable = _a.undoable, rest = __rest(_a, [\"mutationMode\", \"undoable\"]);\n    var mode = getMutationMode(mutationMode, undoable);\n    return mode === 'undoable' ? (React.createElement(DeleteWithUndoIconButton, __assign({}, rest))) : (React.createElement(DeleteWithConfirmIconButton, __assign({ mutationMode: mode, undoable: undoable }, rest)));\n};\nexport default DeleteRowButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { useTranslate } from 'react-admin';\nimport { useEditRowContext } from '../useEditRowContext';\nexport var EditRowButton = function (props) {\n    var open = useEditRowContext().open;\n    var translate = useTranslate();\n    var _a = props.label, label = _a === void 0 ? 'ra.action.edit' : _a;\n    var translatedLabel = translate(label, { _: 'Edit' });\n    return (React.createElement(Tooltip, { title: translatedLabel },\n        React.createElement(IconButton, __assign({ onClick: open, size: \"small\", color: \"primary\", \"aria-label\": translatedLabel }, props),\n            React.createElement(ContentCreate, null))));\n};\n","import { useContext } from 'react';\nimport { EditRowContext } from './EditRowContext';\n/**\n * A hook which returns a function to open or quit the edit mode of a row from the sideEffect of a custom form inside the <EditableDatagrid>.\n *\n * @example\n *     const ArtistList = props => (\n *         <List {...props} hasCreate>\n *             <EditableDatagrid\n *                 undoable\n *                 editForm={<ArtistForm />}\n *             >\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"firstname\" />\n *                 <TextField source=\"name\" />\n *                 <DateField source=\"dob\" label=\"born\" />\n *                 <SelectField\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </EditableDatagrid>\n *         </List>\n *     );\n *\n *     const ArtistForm: FC = props => {\n *         const { close } = useEditRowContext();\n *\n *         return (\n *             <RowForm onSuccess={() => close()} {...props}>\n *                 <TextField source=\"id\" />\n *                 <TextInput source=\"firstname\" validate={required()} />\n *                 <TextInput source=\"name\" validate={required()} />\n *                 <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *                 <SelectInput\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </RowForm>\n *         );\n *     };\n */\nexport var useEditRowContext = function () {\n    var context = useContext(EditRowContext);\n    if (!context && process.env.NODE_ENV === 'development') {\n        console.error('useEditRowContext cannot be called outside of the RowForm passed as the `editForm` of the <EditableDatagrid> row.');\n    }\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useTranslate } from 'react-admin';\nexport var InlineCreateButton = function (props) {\n    var translate = useTranslate();\n    var label = translate('ra.action.create', { _: 'ra.action.create' });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(IconButton, __assign({ \"aria-label\": label, size: \"small\", color: \"primary\" }, props),\n            React.createElement(AddIcon, null),\n            props.children)));\n};\n","import React from 'react';\nimport { getMutationMode, useTranslate } from 'react-admin';\nimport { Tooltip, IconButton } from '@material-ui/core';\nimport ContentSave from '@material-ui/icons/Save';\nexport var SaveRowButton = function (_a) {\n    var dirty = _a.dirty, handleSubmit = _a.handleSubmit, invalid = _a.invalid, mutationMode = _a.mutationMode, quitEditMode = _a.quitEditMode, saving = _a.saving, undoable = _a.undoable;\n    var translate = useTranslate();\n    var onClick = function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        if (dirty && invalid) {\n            return;\n        }\n        handleSubmit();\n        var mode = getMutationMode(mutationMode, undoable);\n        if (mode === 'undoable') {\n            quitEditMode();\n        }\n    };\n    var label = translate('ra.action.save', {\n        _: 'ra.action.save',\n    });\n    return (React.createElement(Tooltip, { title: label },\n        React.createElement(IconButton, { \"aria-label\": label, disabled: saving, onClick: onClick, size: \"small\", color: \"primary\" },\n            React.createElement(ContentSave, null))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { EditRowButton, DeleteRowButton } from './buttons';\nexport var ActionsColumn = function (_a) {\n    var mutationMode = _a.mutationMode, noDelete = _a.noDelete, undoable = _a.undoable, label = _a.label, props = __rest(_a, [\"mutationMode\", \"noDelete\", \"undoable\", \"label\"]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(EditRowButton, null),\n        !noDelete && (React.createElement(DeleteRowButton, __assign({ mutationMode: mutationMode, undoable: undoable }, props)))));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { Datagrid, useResourceContext, useDatagridStyles, } from 'react-admin';\nimport EditableDatagridBody from './EditableDatagridBody';\nimport { CreateButton, InlineCreateButton } from './buttons';\nimport { ActionsColumn } from './ActionsColumn';\n/**\n * Component to display and edit tabular data.\n *\n * To be used as child of <List> or <ReferenceManyField>.\n * The <EditableDatagrid> expects the same props as <Datagrid>, plus 4 more props:\n *\n * - editForm: a component to display instead of a row when the users edits a record\n * - createForm: a component to display as the first row when the user creates a record\n * - undoable: whether the edit and delete actions are undoable. Defaults to false.\n * - noDelete: disable the inline Delete button\n *\n * The component renders the editForm and createForm elements in a <table>, so they\n * should render a <tr>. We advise you to use <RowForm> for editForm and createForm.\n *\n * Note: No need to include an <EditButton> as child, the <EditableDatagrid>\n * component adds a column with edit/delete/save/cancel buttons itself.\n *\n * Note: To enable the create form in a <List>, you should add the `hasCreate`\n * prop to the <List> component.\n *\n * @example\n *\n *     const ArtistList = props => (\n *         <List {...props} hasCreate>\n *             <EditableDatagrid\n *                 undoable\n *                 createForm={<ArtistForm />}\n *                 editForm={<ArtistForm />}\n *             >\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"firstname\" />\n *                 <TextField source=\"name\" />\n *                 <DateField source=\"dob\" label=\"born\" />\n *                 <SelectField\n *                     source=\"prof\"\n *                     label=\"Profession\"\n *                     choices={professionChoices}\n *                 />\n *             </EditableDatagrid>\n *         </List>\n *     );\n *\n *     const ArtistForm: FC = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"firstname\" validate={required()} />\n *             <TextInput source=\"name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput\n *                 source=\"prof\"\n *                 label=\"Profession\"\n *                 choices={professionChoices}\n *             />\n *         </RowForm>\n *     );\n *\n * @example // inside a <ReferenceManyField> - remember to set the foreign ket in the createForm using initialValues\n *\n *     const OrderEdit = ({ id, ...props }) => (\n *         <Edit {...props} id={id}>\n *             <SimpleForm>\n *                 <ReferenceManyField\n *                     fullWidth\n *                     label=\"Products\"\n *                     reference=\"products\"\n *                     target=\"order_id\"\n *                 >\n *                     <EditableDatagrid\n *                         undoable\n *                         createForm={<ProductForm initialValues={{ order_id: id }} />}\n *                         editForm={<ProductForm />}\n *                     >\n *                         <TextField source=\"id\" />\n *                         <TextField source=\"name\" />\n *                         <NumberField source=\"price\" label=\"Default Price\" />\n *                         <DateField source=\"available_since\" />\n *                     </EditableDatagrid>\n *                 </ReferenceManyField>\n *                 <DateInput source=\"purchase_date\" />\n *             </SimpleForm>\n *         </Edit>\n *     );\n *\n *     const ProductForm = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" disabled />\n *             <TextInput source=\"name\" validate={required()} />\n *             <NumberInput\n *                 source=\"price\"\n *                 label=\"Default Price\"\n *                 validate={required()}\n *             />\n *             <DateInput source=\"available_since\" validate={required()} />\n *         </RowForm>\n *     );\n *\n * @see Datagrid for the other props\n * @see RowForm for the create and edit form\n */\nvar EditableDatagrid = function (props) {\n    var actions = props.actions, children = props.children, createForm = props.createForm, editForm = props.editForm, mutationMode = props.mutationMode, noDelete = props.noDelete, undoable = props.undoable, rest = __rest(props, [\"actions\", \"children\", \"createForm\", \"editForm\", \"mutationMode\", \"noDelete\", \"undoable\"]);\n    var resource = useResourceContext(props);\n    var classes = useDatagridStyles(props);\n    var _a = useState(false), isStandaloneCreateFormVisible = _a[0], setShowStandaloneCreateForm = _a[1];\n    var openStandaloneCreateForm = function () {\n        setShowStandaloneCreateForm(true);\n        // once the row is replaced by a form, focus the first input\n        setTimeout(function () {\n            var input = document.querySelectorAll('#new_record input')[0];\n            input && input.focus && input.focus();\n        }, 100); // FIXME not super robust\n    };\n    var closeStandaloneCreateForm = function () {\n        setShowStandaloneCreateForm(false);\n    };\n    // If EditableDatagrid is in a List view, the create form is displayed based on the route\n    // If not, the create form is displayed based on an internal state (see EditableDatagridBody)\n    // In order to detect if we are in a List view, we check the props that are passed\n    // We choose 'defaultTitle' since it's very unlikely to have this prop in a Reference field\n    // Also, we don't want to have 'defaultTitle' in the Props type, to not confuse users\n    var isInListView = rest.defaultTitle !== null;\n    var hasStandaloneCreateForm = !isInListView && Boolean(createForm);\n    var datagridBody = (React.createElement(EditableDatagridBody, { className: rest.className, classes: classes, closeStandaloneCreateForm: closeStandaloneCreateForm, createForm: createForm, editForm: editForm, expand: rest.expand, hasBulkActions: rest.hasBulkActions, hasStandaloneCreateForm: hasStandaloneCreateForm, isStandaloneCreateFormVisible: isStandaloneCreateFormVisible, mutationMode: mutationMode, undoable: undoable, basePath: rest.basePath, resource: resource }));\n    // Since <Datagrid /> returns null when there's no data\n    // We need to bypass it and display our datagrid by ourself\n    if (rest.loaded && (rest.ids.length === 0 || rest.total === 0)) {\n        return hasStandaloneCreateForm ? (React.createElement(React.Fragment, null,\n            React.createElement(CreateButton, { onClick: openStandaloneCreateForm, resource: resource }),\n            React.createElement(\"table\", null, datagridBody))) : (React.createElement(\"table\", null, datagridBody));\n    }\n    return (React.createElement(Datagrid, __assign({ body: datagridBody, resource: resource }, rest),\n        children,\n        actions !== false\n            ? actions || (React.createElement(ActionsColumn\n            // Datagrid cells supports the label prop which accept a React element.\n            , { \n                // Datagrid cells supports the label prop which accept a React element.\n                label: hasStandaloneCreateForm ? (React.createElement(InlineCreateButton, { onClick: openStandaloneCreateForm })) : (''), mutationMode: mutationMode, undoable: undoable, noDelete: noDelete, redirect: isInListView ? 'list' : false }))\n            : null));\n};\nexport default EditableDatagrid;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, cloneElement, useEffect, } from 'react';\nimport { Form } from 'react-final-form';\nimport { ExpandRowButton, useSaveContext, } from 'react-admin';\nimport { TableRow, TableCell, Checkbox, makeStyles } from '@material-ui/core';\nimport { CancelEditButton, SaveRowButton } from './buttons';\n/**\n * A form to be rendered as a table row in an <EditableDatagrid>.\n *\n * All the props it expects are injected by <EditableDatagrid>. You should only\n * provide children to be rendered in each table cell.\n *\n * The children should be Input components, just like in a <SimpleForm>. You\n * can also pass a <Field> component as child.\n *\n * <RowForm> should have as many children as the <EditableDatagrid> that calls\n * it, or there will be a colSpan issue.\n *\n * @example\n *\n *     const ArtistForm: FC = props => (\n *         <RowForm {...props}>\n *             <TextField source=\"id\" />\n *             <TextInput source=\"firstname\" validate={required()} />\n *             <TextInput source=\"name\" validate={required()} />\n *             <DateInput source=\"dob\" label=\"born\" validate={required()} />\n *             <SelectInput\n *                 source=\"prof\"\n *                 label=\"Profession\"\n *                 choices={professionChoices}\n *             />\n *         </RowForm>\n *     );\n *\n * @see EditableDatagrid\n */\nvar RowForm = function (props) {\n    var children = props.children, record = props.record, id = props.id, className = props.className, quitEditMode = props.quitEditMode, expand = props.expand, hasBulkActions = props.hasBulkActions, initialValues = props.initialValues, selectable = props.selectable, basePath = props.basePath, resource = props.resource, save = props.save, saving = props.saving, selected = props.selected, _a = props.submitOnEnter, submitOnEnter = _a === void 0 ? true : _a, undoable = props.undoable, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform, mutationMode = props.mutationMode, rest = __rest(props, [\"children\", \"record\", \"id\", \"className\", \"quitEditMode\", \"expand\", \"hasBulkActions\", \"initialValues\", \"selectable\", \"basePath\", \"resource\", \"save\", \"saving\", \"selected\", \"submitOnEnter\", \"undoable\", \"onSuccess\", \"onFailure\", \"transform\", \"mutationMode\"]);\n    var classes = useStyles();\n    // handle submit by enter\n    var onKeyDown = function (handleSubmit) {\n        return function (event) {\n            if (event.key === 'Enter' && submitOnEnter) {\n                event.preventDefault();\n                event.stopPropagation();\n                handleSubmit();\n            }\n        };\n    };\n    var saveContext = useSaveContext();\n    useEffect(function () {\n        if (onFailure) {\n            saveContext.setOnFailure(onFailure);\n        }\n        if (onSuccess) {\n            saveContext.setOnSuccess(onSuccess);\n        }\n        if (transform) {\n            saveContext.setTransform(transform);\n        }\n    }, [saveContext, onFailure, onSuccess, transform]);\n    return (React.createElement(Form, __assign({ initialValues: __assign(__assign({}, initialValues), record), onSubmit: save }, rest), function (_a) {\n        var handleSubmit = _a.handleSubmit, invalid = _a.invalid, dirty = _a.dirty;\n        return (React.createElement(TableRow, { className: className, key: id, onKeyDown: onKeyDown(handleSubmit) },\n            expand && (React.createElement(TableCell, { padding: \"none\" },\n                React.createElement(ExpandRowButton, { classes: rest.classes, expanded: false, disabled: true }))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { color: \"primary\", checked: selected, disabled: true })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(TableCell, { key: index, className: field.props.cellClassName, align: field.props.textAlign }, cloneElement(field, {\n                    record: record,\n                    basePath: field.props.basePath || basePath,\n                    resource: resource,\n                }))) : null;\n            }),\n            React.createElement(TableCell, { className: classes.actionColumn },\n                React.createElement(SaveRowButton, { dirty: dirty, handleSubmit: handleSubmit, invalid: invalid, quitEditMode: quitEditMode, saving: saving, undoable: undoable, mutationMode: mutationMode }),\n                React.createElement(CancelEditButton, { cancel: quitEditMode }))));\n    }));\n};\nvar useStyles = makeStyles({\n    actionColumn: {\n        whiteSpace: 'nowrap',\n        width: '5em',\n    },\n}, {\n    name: 'RaRowForm',\n});\nexport default RowForm;\n","import { Chip } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Labeled,\n  LabeledProps,\n  useRecordContext,\n  useTranslate,\n} from 'react-admin'\n\nexport const MappedChipField = <T extends unknown>({\n  mapper,\n  source,\n  ...props\n}: Omit<LabeledProps, 'children'> & { mapper: (value: T) => string }) => {\n  const record = useRecordContext()\n  const t = useTranslate()\n  const mappedValue = mapper(record[source as string])\n  return (\n    <Labeled {...props} source={source}>\n      <>\n        <Chip label={t(mappedValue)} />\n      </>\n    </Labeled>\n  )\n}\n","import * as React from 'react'\nimport { useListContext } from 'react-admin'\nimport {\n  Button,\n  Toolbar,\n  Grid,\n  Paper,\n  ButtonGroup,\n  Select,\n  MenuItem,\n} from '@material-ui/core'\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\nimport ChevronRight from '@material-ui/icons/ChevronRight'\n\nexport const MobilePostPagination = () => {\n  const { page, perPage, total, setPage, setPerPage } = useListContext()\n  const nbPages = Math.ceil(total / perPage) || 1\n  return nbPages > 1 ? (\n    <Toolbar>\n      <Grid container>\n        <Grid item xs={3}>\n          <Paper\n            elevation={0}\n            style={{\n              height: '100%',\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n              alignItems: 'center',\n            }}\n          >\n            <Select\n              value={perPage}\n              style={{ width: '100%', height: '70%', textAlign: 'center' }}\n              variant=\"outlined\"\n              onChange={(e) =>\n                setPerPage(parseInt(e.target.value as string, 10))\n              }\n            >\n              <MenuItem value={20}> 20 </MenuItem>\n              <MenuItem value={50}> 50 </MenuItem>\n              <MenuItem value={100}> 100 </MenuItem>\n            </Select>\n          </Paper>\n        </Grid>\n        <Grid item xs={4} />\n        <Grid item xs={5}>\n          <Paper\n            elevation={0}\n            style={{\n              height: '100%',\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n              alignItems: 'center',\n            }}\n          >\n            <ButtonGroup style={{ height: '70%' }}>\n              {page > 1 ? (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  key=\"prev\"\n                  onClick={() => setPage(page - 1)}\n                >\n                  <ChevronLeft />\n                </Button>\n              ) : (\n                <Button variant=\"outlined\" color=\"primary\" disabled>\n                  <ChevronLeft />\n                </Button>\n              )}\n              <Button disabled variant=\"contained\">\n                {' '}\n                {page}{' '}\n              </Button>\n              {page !== nbPages ? (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  key=\"next\"\n                  onClick={() => setPage(page + 1)}\n                >\n                  <ChevronRight />\n                </Button>\n              ) : (\n                <Button variant=\"outlined\" color=\"primary\" disabled>\n                  <ChevronRight />\n                </Button>\n              )}\n            </ButtonGroup>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Toolbar>\n  ) : (\n    <div />\n  )\n}\n","import React from 'react'\nimport { useMediaQuery, useTheme } from '@material-ui/core'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  Datagrid,\n  TextField,\n  Identifier,\n} from 'react-admin'\nimport { MobilePostPagination } from '../../common/Pagination'\n\nexport const AccessList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      {...props}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        rowClick={(id: Identifier) =>\n          `?${new URLSearchParams({ id } as any).toString()}`\n        }\n      >\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <TextField source=\"entranceId\" />\n      </Datagrid>\n    </List>\n  )\n}\n","import * as React from 'react'\nimport {\n  CreateButton,\n  CreateButtonProps,\n  useResourceContext,\n} from 'react-admin'\nimport { useHistory } from 'react-router-dom'\n\ninterface ParameterizedCreateButtonProps extends CreateButtonProps {\n  searchParams?: any\n}\n\nconst ParameterizedCreateButton = ({\n  ...props\n}: ParameterizedCreateButtonProps) => {\n  const history = useHistory()\n  const resource = useResourceContext()\n\n  const onClick = (e: any) => {\n    if (props.searchParams) {\n      e.preventDefault()\n      history.push({\n        pathname: props.basePath\n          ? `${props.basePath}/create`\n          : `/${resource}/create`,\n        state: { _scrollToTop: props.scrollToTop },\n        search: new URLSearchParams(props.searchParams).toString(),\n      })\n    }\n  }\n\n  return <CreateButton onClick={onClick} />\n}\n\nexport default ParameterizedCreateButton\n","export enum ToggleType {\n  ACTIVE = 'ACTIVE',\n  INACTIVE = 'INACTIVE',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { Checkbox, CheckboxProps, Typography } from '@material-ui/core'\nimport { SwitchBaseProps } from '@material-ui/core/internal/SwitchBase'\nimport React, { MouseEventHandler } from 'react'\nimport { useRecordContext } from 'react-admin'\n\nexport interface CheckboxFieldProps extends CheckboxProps {\n  sortable?: boolean\n  label?: string\n  source: string\n  checkBySource?: (sourceValue: any) => SwitchBaseProps['checked']\n  onClick?: (sourceValue: any) => MouseEventHandler | undefined\n}\n\nconst sanitizeFieldRestProps: (props: any) => any = ({\n  addLabel, // eslint-disable-line @typescript-eslint/no-unused-vars\n  allowEmpty, // eslint-disable-line @typescript-eslint/no-unused-vars\n  basePath, // eslint-disable-line @typescript-eslint/no-unused-vars\n  cellClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  className, // eslint-disable-line @typescript-eslint/no-unused-vars\n  emptyText, // eslint-disable-line @typescript-eslint/no-unused-vars\n  formClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  fullWidth, // eslint-disable-line @typescript-eslint/no-unused-vars\n  headerClassName, // eslint-disable-line @typescript-eslint/no-unused-vars\n  label, // eslint-disable-line @typescript-eslint/no-unused-vars\n  linkType, // eslint-disable-line @typescript-eslint/no-unused-vars\n  link, // eslint-disable-line @typescript-eslint/no-unused-vars\n  locale, // eslint-disable-line @typescript-eslint/no-unused-vars\n  record, // eslint-disable-line @typescript-eslint/no-unused-vars\n  refetch, // eslint-disable-line @typescript-eslint/no-unused-vars\n  resource, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortable, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortBy, // eslint-disable-line @typescript-eslint/no-unused-vars\n  sortByOrder, // eslint-disable-line @typescript-eslint/no-unused-vars\n  source, // eslint-disable-line @typescript-eslint/no-unused-vars\n  textAlign, // eslint-disable-line @typescript-eslint/no-unused-vars\n  translateChoice, // eslint-disable-line @typescript-eslint/no-unused-vars\n  ...props\n}) => props\n\nexport const CheckboxField = ({\n  sortable,\n  label,\n  source,\n  checkBySource,\n  onClick,\n  className,\n  style,\n  ...props\n}: CheckboxFieldProps): JSX.Element => {\n  const record = useRecordContext()\n  const value = record[source as string]\n  return (\n    <Typography aria-label={label} className={className} style={style}>\n      <Checkbox\n        aria-sort={sortable ? undefined : 'none'}\n        {...(sanitizeFieldRestProps(props) as CheckboxProps)}\n        checked={checkBySource && checkBySource(value)}\n        onClick={onClick && onClick(value)}\n      />\n    </Typography>\n  )\n}\n","import { ButtonGroup } from '@material-ui/core'\nimport React, { ReactElement, ReactNode } from 'react'\nimport {\n  Datagrid,\n  GET_LIST,\n  List,\n  Pagination,\n  Record,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  TextField,\n  TopToolbar,\n  useListContext,\n  useMutation,\n  useQuery,\n  useShowContext,\n} from 'react-admin'\nimport { TicketAPISortPayload } from '../../core/common/ticket-api-get-list.params'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CheckboxField } from './CheckboxField'\nimport Button from './customized-mui-components/Button'\n\nconst RelationTab = <RecordType extends Record = Record>({\n  resource,\n  source,\n  mode,\n  attachMethod,\n  detachMethod,\n  attachRequestPayload,\n  detachRequestPayload,\n  refetchListAfterChange = () => true,\n  relationsRequestMethod,\n  relationsRequestPayload,\n  relationsMapper,\n  filters,\n  filterDefaultValues,\n  sort,\n  children,\n}: {\n  resource: ResourceName\n  source: string\n  mode: 'show' | 'edit'\n  attachMethod: string\n  detachMethod: string\n  attachRequestPayload: (record: RecordType, idsToAttach: number[]) => any\n  detachRequestPayload: (record: RecordType, idsToDetach: number[]) => any\n  refetchListAfterChange?: (filterValues: any) => boolean\n  relationsRequestMethod?: string\n  relationsRequestPayload?: (record: RecordType) => any\n  relationsMapper?: (records: Record[], source: string) => any\n  filters?: ReactElement | ReactElement[]\n  filterDefaultValues?: any\n  sort?: TicketAPISortPayload\n  children?: ReactNode[]\n}) => {\n  const [mutate] = useMutation()\n  const {\n    record,\n    basePath,\n    refetch,\n    resource: recordResource,\n  } = useShowContext<RecordType>()\n\n  const { data: relationsDto, refetch: refetchRelationsIds } = useQuery(\n    {\n      type: sanitizeFetchType(relationsRequestMethod as string),\n      resource: recordResource as string,\n      payload:\n        record && relationsRequestPayload && relationsRequestPayload(record),\n    },\n    {\n      enabled: !!relationsRequestMethod && !!relationsRequestPayload,\n    },\n  )\n\n  const relations =\n    relationsDto &&\n    (relationsMapper ? relationsMapper(relationsDto, source) : relationsDto)\n\n  const handleAttach = async (idsToAttach: number[]) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(attachMethod),\n        resource: recordResource as string,\n        payload:\n          record &&\n          attachRequestPayload &&\n          attachRequestPayload(record, idsToAttach),\n      },\n      { returnPromise: true },\n    )\n    if (refetch) {\n      refetch()\n    }\n    refetchRelationsIds()\n  }\n\n  const handleDetach = async (idsToDetach: number[]) => {\n    await mutate(\n      {\n        type: sanitizeFetchType(detachMethod),\n        resource: recordResource as string,\n        payload:\n          record &&\n          detachRequestPayload &&\n          detachRequestPayload(record, idsToDetach),\n      },\n      { returnPromise: true },\n    )\n    if (refetch) {\n      refetch()\n    }\n    refetchRelationsIds()\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    if (!!relationsRequestMethod && !!relationsRequestPayload && relations)\n      return relations[source].includes(relatedRecordId)\n    if (record && !relationsRequestMethod && !relationsRequestPayload)\n      return record[source].includes(relatedRecordId)\n    return false\n  }\n\n  const Actions = () => {\n    const { filterValues, refetch: refetchList } = useListContext()\n    const getFilteredRelatedRecordsIds = async () =>\n      (\n        await mutate(\n          {\n            type: sanitizeFetchType(GET_LIST),\n            resource,\n            payload: {\n              filter: {\n                ...filterValues,\n              },\n            },\n          },\n          { returnPromise: true },\n        )\n      )?.data?.map((r: any) => r?.id)\n\n    const handleAttachAll = async () => {\n      await handleAttach(await getFilteredRelatedRecordsIds())\n      refetchList()\n    }\n\n    const handleDetachAll = async () => {\n      await handleDetach(await getFilteredRelatedRecordsIds())\n      refetchList()\n    }\n\n    return (\n      <TopToolbar>\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            onClick={() => handleAttachAll()}\n            label=\"common.related-records.actions.attach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleDetachAll()}\n            label=\"common.related-records.actions.detach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  const AttachedCheckbox = ({ ...props }) => {\n    const { filterValues, refetch: refetchList } = useListContext()\n\n    return (\n      <CheckboxField\n        {...props}\n        disabled={mode !== 'edit'}\n        sortable={false}\n        checkBySource={(id: number) => isAttached(id)}\n        source=\"id\"\n        onClick={(id: number) =>\n          isAttached(id as number)\n            ? async () => {\n                await handleDetach([id as number])\n                if (refetchListAfterChange(filterValues)) {\n                  refetchList()\n                }\n              }\n            : async () => {\n                await handleAttach([id as number])\n                if (refetchListAfterChange(filterValues)) {\n                  refetchList()\n                }\n              }\n        }\n      />\n    )\n  }\n\n  return (\n    <ResourceContextProvider value={resource}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        filters={filters}\n        filterDefaultValues={filterDefaultValues}\n        sort={sort}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={mode === 'edit' ? <Actions /> : <></>}\n      >\n        <>\n          <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }}>\n            {children || <TextField source=\"id\" />}\n            <AttachedCheckbox label=\"common.related-records.fields.is-attached\" />\n          </Datagrid>\n        </>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nexport default RelationTab\n","import { ResourceName } from '../ResourceName'\n\nconst mapping: Record<string, string> = {\n  [ResourceName.ACCESSES]: 'filterAccessId',\n  [ResourceName.ENGINES]: 'filterVerifierDeviceId',\n  [ResourceName.ENTRANCES]: 'filterEntranceId',\n  [ResourceName.EVENTS]: 'filterEventId',\n  [ResourceName.PALMS]: 'filterVerifierDeviceId',\n  [ResourceName.VARIANTS]: 'filterVariantId',\n  [ResourceName.ROLES]: 'filterRoleId',\n  [ResourceName.USERS]: 'filterUserId',\n}\n\nconst filterMapper = (key: ResourceName) => mapping[key]\n\nexport default filterMapper\n","import React, { ReactNode } from 'react'\nimport { BooleanInput, Filter, useShowContext } from 'react-admin'\nimport filterMapper from '../../core/common/relation-tab-filter.mapper'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from './FilterProps'\n\nexport interface RelationTabFilterProps extends FilterProps {\n  readonly children?: ReactNode | ReactNode[]\n}\n\nconst RelationTabFilter = (props: RelationTabFilterProps) => {\n  const { children, ...filterProps } = props\n  const { resource } = useShowContext()\n\n  return (\n    <Filter {...filterProps}>\n      {children}\n      <BooleanInput\n        label=\"common.related-records.actions.attached-only\"\n        source={filterMapper(resource as ResourceName)}\n        alwaysOn\n      />\n    </Filter>\n  )\n}\n\nexport default RelationTabFilter\n","import { sanitizeFetchType, UPDATE } from 'react-admin'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { ResourceName } from '../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './access-using-activation-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst deactivateMutation = ({ id }: AccessUsingDto): Mutation => ({\n  type: sanitizeFetchType(UPDATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      id,\n      active: false,\n    },\n  },\n})\n\nconst activateMutation = ({ id }: AccessUsingDto): Mutation => ({\n  type: sanitizeFetchType(UPDATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      id,\n      active: true,\n    },\n  },\n})\n\ntype State = {\n  mutateQuery?: (event: AccessUsingDto) => Mutation\n} & ToggleButtonState\n\nexport const activationButtonInitialState = {\n  type: ToggleType.INACTIVE,\n  text: 'resources.access-usings.actions.activate',\n}\n\nexport const toggleActivationButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.ACTIVE: {\n      return {\n        type,\n        text: 'resources.access-usings.actions.deactivate',\n        mutateQuery: deactivateMutation,\n      }\n    }\n    case ToggleType.INACTIVE: {\n      return {\n        type,\n        text: 'resources.access-usings.actions.activate',\n        mutateQuery: activateMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum ToggleType {\n  BLOCK = 'BLOCK',\n  UNBLOCK = 'UNBLOCK',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import {\n  createStyles,\n  IconButton,\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Power, PowerOff } from '@material-ui/icons'\nimport React, { useReducer, useEffect } from 'react'\nimport { useMutation, useNotify, useRefresh, useShowContext } from 'react-admin'\nimport {\n  activationButtonInitialState,\n  toggleActivationButtonReducer,\n} from '../../../core/access-usings/access-using-activation-button.reducer'\nimport { ToggleType } from '../../../core/access-usings/access-using-activation-button'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n      width: '100%',\n    },\n  }),\n)\n\nexport const AccessUsingActivationButton = ({ ...props }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleActivationButtonReducer,\n    activationButtonInitialState,\n  )\n  const { record: accessUsing } = props\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (accessUsing.active) {\n      dispatch({ type: ToggleType.ACTIVE })\n    } else {\n      dispatch({ type: ToggleType.INACTIVE })\n    }\n  }, [accessUsing])\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(accessUsing)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return !xSmallScreen ? (\n    <Button\n      disabled={\n        !hasAuthority(Authority.EDIT_ACCESS_USINGS) ||\n        loading ||\n        mutationLoading\n      }\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  ) : (\n    <IconButton\n      color=\"primary\"\n      onClick={onClick}\n      disabled={\n        !hasAuthority(Authority.EDIT_ACCESS_USINGS) ||\n        loading ||\n        mutationLoading\n      }\n    >\n      {type === ToggleType.ACTIVE ? <PowerOff /> : <Power />}\n    </IconButton>\n  )\n}\n","import { Box, Divider, Grid, useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  DatagridProps,\n  DateField,\n  DateTimeInput,\n  EditButton,\n  FunctionField,\n  Identifier,\n  Labeled,\n  List,\n  ListProps,\n  NumberField,\n  NumberInput,\n  Pagination,\n  ReferenceField,\n  ResourceContextProvider,\n  SelectInput,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TabbedShowLayoutProps,\n  TextField,\n  TextInput,\n  TitleProps,\n  TopToolbar,\n  useListContext,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { formatDate, formatTime } from '../../../core/common/date-time'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessDateTypes } from '../../../core/enum/AccessDateTypes'\nimport { ResourceName } from '../../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid/esm/src'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { AccessUsingActivationButton } from '../access-usings/AccessUsingActivationButton'\n\nconst ShowTitle = (data: AccessTitleProps) => {\n  const { record: variant } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.accesses.titles.show')}: {variant?.id}.{' '}\n      {variant?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: access } = useShowContext<AccessDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.ACCESSES}`}\n          record={access}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ACCESSES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const AccessDetailsTab = ({\n  displayActions = true,\n  ...props\n}: AccessDetailsTabProps) => {\n  const { record: access } = useShowContext<AccessDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <FunctionField<AccessDto>\n        source=\"bonus\"\n        render={(r?: AccessDto) => (\n          <div>{translate(`resources.enums.bonus.${r?.bonus}`)}</div>\n        )}\n      />\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <ReferenceField\n          source=\"entranceId\"\n          reference={ResourceName.ENTRANCES}\n          link=\"show\"\n        >\n          <FunctionField<EntranceDto>\n            render={(record?: EntranceDto) => (\n              <div>\n                {record?.id} ({record?.note})\n              </div>\n            )}\n          />\n        </ReferenceField>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <ReferenceField\n          source=\"modifiedById\"\n          reference={ResourceName.USERS}\n          link=\"show\"\n        >\n          <TextField source=\"userName\" />\n        </ReferenceField>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <ReferenceField\n          source=\"createdById\"\n          reference={ResourceName.USERS}\n          link=\"show\"\n        >\n          <TextField source=\"userName\" />\n        </ReferenceField>\n      )}\n      <FunctionField<AccessDto>\n        source=\"allowReenter\"\n        render={(r?: AccessDto) => (\n          <div>\n            {r?.allowReenter ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <FunctionField<AccessDto>\n        source=\"multipleEntry\"\n        render={(r?: AccessDto) => (\n          <div>\n            {r?.multipleEntry ? translate('const.yes') : translate('const.no')}\n          </div>\n        )}\n      />\n      <TextField source=\"multiple\" />\n      <TextField source=\"usePriority\" />\n      <TextField source=\"delay\" />\n      {access?.releaseTime && (\n        <FunctionField<AccessDto>\n          source=\"releaseTime\"\n          render={(record?: AccessDto) => (\n            <div>{formatTime(record?.releaseTime)}</div>\n          )}\n        />\n      )}\n      {access?.releaseDayOfMonth && <TextField source=\"releaseDayOfMonth\" />}\n      {access?.releaseDayOfWeek && (\n        <FunctionField<AccessDto>\n          source=\"releaseDayOfWeek\"\n          render={(r?: AccessDto) => (\n            <div>\n              {translate(`resources.enums.dayOfWeek.${r?.releaseDayOfWeek}`)}\n            </div>\n          )}\n        />\n      )}\n      <DateField source=\"createdAt\" showTime />\n      <DateField source=\"modifiedAt\" showTime />\n      {access?.activePeriodStartingFrom !==\n        AccessActivePeriodStartingOptions.NO_LIMIT && (\n        <TextField source=\"activePeriod\" />\n      )}\n      <FunctionField<AccessDto>\n        source=\"activePeriodStartingFrom\"\n        render={(r?: AccessDto) => (\n          <div>\n            {translate(\n              `resources.enums.activePeriodStartingFrom.${r?.activePeriodStartingFrom}`,\n            )}\n          </div>\n        )}\n      />\n      {displayActions && <GeneralActions />}\n    </SimpleShowLayout>\n  )\n}\n\nconst AccessDateExpand = ({ ...props }) => {\n  const { record: accessDate } = useShowContext<AccessDateDto>()\n\n  return (\n    <Grid container justify=\"space-around\">\n      <Grid item>\n        <Labeled {...props} source=\"timeFrom\">\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeFrom)}</div>\n            )}\n          />\n        </Labeled>\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"timeTo\">\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeTo)}</div>\n            )}\n          />\n        </Labeled>\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"priority\">\n          <NumberField source=\"priority\" />\n        </Labeled>\n      </Grid>\n      {accessDate?.dayOfWeek && (\n        <Grid item>\n          <Labeled {...props} source=\"dayOfWeek\">\n            <TextField source=\"dayOfWeek\" />\n          </Labeled>\n        </Grid>\n      )}\n    </Grid>\n  )\n}\n\nconst AccessDatesList = ({\n  displayActions,\n  predefinedAccessId: accessId,\n  ...props\n}: AccessDatesListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const { basePath } = useListContext()\n\n  const ListActions = () => (\n    <TopToolbar>\n      {hasAuthority(Authority.CREATE_ACCESS_DATES) && (\n        <ParameterizedCreateButton searchParams={{ accessId }} />\n      )}\n    </TopToolbar>\n  )\n\n  const EditForm = ({ ...editProps }) => (\n    <RowForm {...editProps}>\n      <DateTimeInput\n        source=\"activeFrom\"\n        type=\"date\"\n        format={formatDate}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"activeTo\"\n        type=\"date\"\n        format={formatDate}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"timeFrom\"\n        type=\"time\"\n        format={formatTime}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <DateTimeInput\n        source=\"timeTo\"\n        type=\"time\"\n        format={formatTime}\n        parse={(value: string) => (value === '' ? null : value)}\n      />\n      <SelectInput\n        source=\"type\"\n        choices={Object.entries(AccessDateTypes).map(([value]) => ({\n          id: value,\n          name: `resources.enums.accessDateTypes.${value}`,\n        }))}\n      />\n      <NumberInput source=\"priority\" />\n    </RowForm>\n  )\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      perPage={20}\n      sort={{ field: 'id', order: 'DESC' }}\n      bulkActionButtons={false}\n      actions={displayActions === undefined && <ListActions />}\n      hasCreate={hasAuthority(Authority.CREATE_ACCESS_DATES)}\n      empty={false}\n    >\n      <EditableDatagrid\n        isRowExpandable={() => smallScreen}\n        expand={<AccessDateExpand />}\n        padding={xSmallScreen ? 'checkbox' : 'default'}\n        editForm={<EditForm />}\n        noDelete\n        actions={\n          displayActions === undefined &&\n          hasAuthority(Authority.EDIT_ACCESS_DATES)\n            ? undefined\n            : false\n        }\n      >\n        <DateField source=\"activeFrom\" />\n        <DateField source=\"activeTo\" />\n        {!smallScreen && (\n          <FunctionField<AccessDateDto>\n            source=\"timeFrom\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeFrom)}</div>\n            )}\n          />\n        )}\n        {!smallScreen && (\n          <FunctionField<AccessDateDto>\n            source=\"timeTo\"\n            render={(record?: AccessDateDto) => (\n              <div>{formatTime(record?.timeTo)}</div>\n            )}\n          />\n        )}\n        <FunctionField<AccessDateDto>\n          source=\"type\"\n          render={(r?: AccessDateDto) =>\n            translate(`resources.enums.accessDateTypes.${r?.type}`)\n          }\n        />\n        {!smallScreen && <NumberField source=\"priority\" />}\n      </EditableDatagrid>\n    </List>\n  )\n}\n\nexport const AccessDatesTab = ({\n  displayActions,\n  predefinedAccessId,\n}: AccessDatesTabProps) => {\n  const { basePath, record } = useShowContext<AccessDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.ACCESS_DATES}>\n      <AccessDatesList\n        displayActions={displayActions}\n        predefinedAccessId={predefinedAccessId}\n        title=\" \"\n        basePath={basePath}\n        filter={{\n          accessId: record?.id,\n        }}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst AccessUsingsExpand = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <Grid container justify=\"space-around\">\n      <Grid item>\n        {hasAuthority(Authority.VIEW_TICKETS) && (\n          <Labeled {...props} source=\"ticketCode\">\n            <ReferenceField\n              reference={ResourceName.TICKETS}\n              source=\"ticketId\"\n              link={false}\n            >\n              <TextField source=\"ticketCode\" />\n            </ReferenceField>\n          </Labeled>\n        )}\n      </Grid>\n      <Grid item>\n        <Labeled {...props} source=\"active\">\n          <FunctionField<AccessUsingDto>\n            source=\"active\"\n            render={(record?: AccessUsingDto) =>\n              record?.active ? translate('const.yes') : translate('const.no')\n            }\n          />\n        </Labeled>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst AccessUsingsGrid = (props: DatagridProps) => {\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Datagrid\n      {...props}\n      padding={xSmallScreen ? 'checkbox' : 'default'}\n      isRowExpandable={() => xSmallScreen}\n      expand={<AccessUsingsExpand />}\n    >\n      <DateField source=\"date\" showTime />\n      <FunctionField<AccessUsingDto>\n        source=\"direction\"\n        render={(record?: AccessUsingDto) =>\n          translate(`resources.enums.deviceDirection.${record?.direction}`)\n        }\n      />\n      {!xSmallScreen && hasAuthority(Authority.VIEW_TICKETS) && (\n        <ReferenceField\n          label=\"resources.access-usings.fields.ticketCode\"\n          reference={ResourceName.TICKETS}\n          source=\"ticketId\"\n          link={false}\n        >\n          <TextField source=\"ticketCode\" />\n        </ReferenceField>\n      )}\n      {!xSmallScreen && (\n        <FunctionField<AccessUsingDto>\n          source=\"active\"\n          render={(record?: AccessUsingDto) =>\n            record?.active ? translate('const.yes') : translate('const.no')\n          }\n        />\n      )}\n      <FunctionField<AccessUsingDto>\n        render={(record?: AccessUsingDto) => (\n          <AccessUsingActivationButton record={record} />\n        )}\n      />\n    </Datagrid>\n  )\n}\n\nconst AccessUsingsList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    perPage={20}\n    sort={{ field: 'date', order: 'DESC' }}\n    bulkActionButtons={false}\n  >\n    <AccessUsingsGrid />\n  </List>\n)\n\nexport const AccessUsingsTab = ({\n  accessUsingsTicketsIdsFilter = null,\n}: {\n  accessUsingsTicketsIdsFilter?: number[] | null | undefined\n}) => {\n  const { basePath, record: selectedAccess } = useShowContext<AccessDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.ACCESS_USINGS}>\n      <AccessUsingsList\n        title=\" \"\n        basePath={basePath}\n        filter={{\n          accessId: selectedAccess?.id,\n          ticketsIds: accessUsingsTicketsIdsFilter,\n        }}\n        actions={false}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst AccessTabs = ({ ...props }: Omit<TabbedShowLayoutProps, 'children'>) => {\n  const { record: access } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const RelationFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.accesses.tabs.details\">\n        <AccessDetailsTab displayActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_VARIANTS) && (\n        <Tab path=\"variants\" label=\"resources.accesses.tabs.variants\">\n          <>\n            <RelationTab<AccessDto>\n              resource={ResourceName.VARIANTS}\n              source=\"variantsIds\"\n              mode={hasAuthority(Authority.EDIT_VARIANTS) ? 'edit' : 'show'}\n              attachMethod=\"attachVariants\"\n              detachMethod=\"detachVariants\"\n              attachRequestPayload={(r, ids) => ({\n                accessId: r.id,\n                variantsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                accessId: r.id,\n                variantsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterAccessId === true\n              }\n              filters={<RelationFilters />}\n              filterDefaultValues={{\n                accessId: access?.id,\n                filterAccessId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n              <FunctionField<VariantDto>\n                source=\"active\"\n                key=\"active\"\n                render={(r?: VariantDto) =>\n                  r?.active ? translate('const.yes') : translate('const.no')\n                }\n              />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ACCESS_DATES) && (\n        <Tab path=\"dates\" label=\"resources.accesses.tabs.dates\">\n          <AccessDatesTab predefinedAccessId={access?.id} />\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ACCESS_USINGS) && (\n        <Tab path=\"uses\" label=\"resources.accesses.tabs.uses\">\n          <AccessUsingsTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const AccessShow = ({ ...props }: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <AccessTabs />\n  </Show>\n)\n\nexport interface AccessDetailsTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions?: boolean\n}\n\nexport interface AccessDatesTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions?: false\n  predefinedAccessId?: Identifier\n}\n\nexport interface AccessDatesListProps extends ListProps {\n  displayActions?: false\n  predefinedAccessId?: Identifier\n}\n\ninterface AccessTitleProps extends TitleProps {\n  record?: AccessDto\n}\n","import React from 'react'\nimport { Show, ShowProps, Tab, TabbedShowLayout } from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport {\n  AccessDatesTab,\n  AccessDetailsTab,\n  AccessUsingsTab,\n} from '../../configuration/accesses/AccessShow'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nexport const AccessShow = ({\n  accessUsingsTicketsIdsFilter,\n  ...props\n}: AccessShowProps) => {\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Show {...props} actions={false}>\n      <TabbedShowLayout syncWithLocation={false}>\n        {hasAuthority(Authority.VIEW_ACCESSES) && (\n          <Tab path=\"details\" label=\"resources.bookings.accesses.tabs.details\">\n            <AccessDetailsTab displayActions={false} />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESS_DATES) && (\n          <Tab path=\"dates\" label=\"resources.bookings.accesses.tabs.dates\">\n            <AccessDatesTab displayActions={false} />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESS_USINGS) && (\n          <Tab path=\"uses\" label=\"resources.bookings.accesses.tabs.uses\">\n            <AccessUsingsTab\n              accessUsingsTicketsIdsFilter={accessUsingsTicketsIdsFilter}\n            />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n\nexport interface AccessShowProps extends ShowProps {\n  accessUsingsTicketsIdsFilter: number[] | null | undefined\n}\n","import {\n  CREATE,\n  CreateParams,\n  sanitizeFetchType,\n  UPDATE_MANY,\n  UpdateManyParams,\n} from 'react-admin'\nimport { ResourceName } from '../ResourceName'\nimport { AccessUsingsCreateParams } from '../access-usings/access-usings-create.params'\nimport {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-booking-blockade-button'\nimport { VariantDto } from '../dto/variant.dto'\nimport { AccessUsingDto } from '../dto/access-using.dto'\nimport { BookingDto } from '../dto/booking.dto'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst blockMutation = (\n  ticketDetails?: BookingDto,\n  variant?: VariantDto,\n): Mutation => ({\n  type: sanitizeFetchType(CREATE),\n  resource: ResourceName.ACCESS_USINGS,\n  payload: {\n    data: {\n      ticketIds: ticketDetails?.ticketsIds,\n      accessIds: variant?.accessesIds,\n    },\n  } as CreateParams<AccessUsingsCreateParams>,\n})\n\nconst unblockMutation = (\n  ticketDetails?: BookingDto,\n  variant?: VariantDto,\n  accessUsings?: AccessUsingDto[],\n): Mutation => {\n  const activeAccessUsingIds = accessUsings\n    ?.filter((au) => au.active)\n    .map((au) => au.id)\n\n  return {\n    type: sanitizeFetchType(UPDATE_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: activeAccessUsingIds,\n      data: {\n        active: false,\n      },\n    } as UpdateManyParams,\n  }\n}\n\ntype State = {\n  mutateQuery?: (\n    ticketDetails?: BookingDto,\n    variant?: VariantDto,\n    accessUsings?: AccessUsingDto[],\n  ) => Mutation\n} & ToggleButtonState\n\nexport const blockAccessButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.bookings.actions.blockAccessNA',\n}\n\nexport const toggleAccessButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.blockAccess',\n        mutateQuery: blockMutation,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.unblockAccess',\n        mutateQuery: unblockMutation,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockAccessButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  GET_MANY,\n  GET_ONE,\n  sanitizeFetchType,\n  useMutation,\n  useNotify,\n  useQueryWithStore,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport {\n  blockAccessButtonInitialState,\n  toggleAccessButtonReducer,\n} from '../../../core/bookings/toggle-booking-access-button.reducer'\nimport { ToggleType } from '../../../core/bookings/toggle-booking-blockade-button'\nimport { AccessUsingDto } from '../../../core/dto/access-using.dto'\nimport { BookingDto } from '../../../core/dto/booking.dto'\nimport { TicketDto } from '../../../core/dto/ticket.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleBookingAccessButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleAccessButtonReducer,\n    blockAccessButtonInitialState,\n  )\n  const ticketDetails = useRecordContext<BookingDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const { data: tickets } = useQueryWithStore({\n    type: sanitizeFetchType(GET_MANY),\n    resource: ResourceName.TICKETS,\n    payload: {\n      ids: ticketDetails?.ticketsIds,\n    },\n  })\n\n  const { data: accessUsings } = useQueryWithStore({\n    type: sanitizeFetchType(GET_MANY),\n    resource: ResourceName.ACCESS_USINGS,\n    payload: {\n      ids: tickets\n        ? tickets.flatMap((ticket: TicketDto) => ticket.accessUsingsIds)\n        : [],\n    },\n  })\n\n  const isActive = (au?: AccessUsingDto[]) => au && au.some((a) => a.active)\n\n  useEffect(() => {\n    if (isActive(accessUsings)) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.BLOCK })\n    }\n  }, [accessUsings])\n\n  const onClick = async () => {\n    try {\n      const { data: variant } =\n        type === ToggleType.BLOCK\n          ? await mutate(\n              {\n                type: sanitizeFetchType(GET_ONE),\n                resource: ResourceName.VARIANTS,\n                payload: {\n                  id: ticketDetails?.variantId,\n                },\n              },\n              { returnPromise: true },\n            )\n          : { data: null }\n\n      const query = mutateQuery?.(ticketDetails, variant, accessUsings)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={\n        !hasAuthority(Authority.EDIT_BOOKINGS) ||\n        type === ToggleType.DISABLED ||\n        loading ||\n        mutationLoading\n      }\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  )\n}\n","import {\n  ToggleType,\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './toggle-booking-blockade-button'\nimport { BookingDisabledOption } from '../enum/BookingDisabledOption'\nimport { BookingUpdateRequest } from './booking-update.request'\n\ntype State = {\n  mutateParam?: BookingUpdateRequest['disabled']\n} & ToggleButtonState\n\nexport const blockTicketButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.bookings.actions.blockTicketNA',\n}\n\nexport const toggleTicketButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.BLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.blockTicket',\n        mutateParam: BookingDisabledOption.ADMIN,\n      }\n    }\n    case ToggleType.UNBLOCK: {\n      return {\n        type,\n        text: 'resources.bookings.actions.unblockTicket',\n        mutateParam: null,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return blockTicketButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport * as React from 'react'\nimport { useEffect, useReducer } from 'react'\nimport {\n  sanitizeFetchType,\n  UPDATE,\n  UpdateParams,\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { BookingUpdateRequest } from '../../../core/bookings/booking-update.request'\nimport { ToggleType } from '../../../core/bookings/toggle-booking-blockade-button'\nimport {\n  blockTicketButtonInitialState,\n  toggleTicketButtonReducer,\n} from '../../../core/bookings/toggle-booking-blockade-button.reducer'\nimport { BookingDto } from '../../../core/dto/booking.dto'\nimport { BookingDisabledOption } from '../../../core/enum/BookingDisabledOption'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleBookingBlockadeButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateParam }, dispatch] = useReducer(\n    toggleTicketButtonReducer,\n    blockTicketButtonInitialState,\n  )\n  const { id: bookingId, disabled } = useRecordContext<BookingDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (disabled === null) {\n      dispatch({ type: ToggleType.BLOCK })\n    } else if (disabled === BookingDisabledOption.ADMIN) {\n      dispatch({ type: ToggleType.UNBLOCK })\n    } else {\n      dispatch({ type: ToggleType.DISABLED })\n    }\n  }, [disabled])\n\n  const onClick = async () => {\n    try {\n      await mutate(\n        {\n          type: sanitizeFetchType(UPDATE),\n          resource: ResourceName.BOOKINGS,\n          payload: {\n            data: { id: bookingId, disabled: mutateParam },\n          } as UpdateParams<BookingUpdateRequest>,\n        },\n        { returnPromise: true },\n      )\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <Button\n      disabled={\n        !hasAuthority(Authority.EDIT_BOOKINGS) ||\n        type === ToggleType.DISABLED ||\n        loading ||\n        mutationLoading\n      }\n      className={classes.button}\n      variant=\"contained\"\n      onClick={onClick}\n      label={text}\n      useSmallVersionBreakpoint={false}\n    />\n  )\n}\n","import {\n  Box,\n  Chip,\n  createStyles,\n  Divider,\n  Grid,\n  makeStyles,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { ArrowBack } from '@material-ui/icons'\nimport React, { useEffect } from 'react'\nimport {\n  DateField,\n  Filter,\n  FunctionField,\n  GET_ONE,\n  List,\n  Pagination,\n  ReferenceField,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SelectInput,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  useQueryWithStore,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { useHistory, useLocation } from 'react-router'\nimport { Authority } from '../../core/auth/Authority'\nimport { BookingDto } from '../../core/dto/booking.dto'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { BookingType } from '../../core/enum/BookingType'\nimport { TicketType } from '../../core/enum/TicketType'\nimport { ResourceName } from '../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../lib/@react-admin/ra-editable-datagrid'\nimport Button from '../common/customized-mui-components/Button'\nimport { MappedChipField } from '../common/MappedChipField'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { LogList } from '../logs/LogList'\nimport { AccessList } from './booking-show/AccessList'\nimport { AccessShow } from './booking-show/AccessShow'\nimport { ToggleBookingAccessButton } from './booking-show/ToggleBookingAccessButton'\nimport { ToggleBookingBlockadeButton } from './booking-show/ToggleBookingBlockadeButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      letterSpacing: theme.spacing(0.2),\n    },\n    inactiveTicketCode: {\n      color: theme.palette.error.main,\n      textDecoration: 'line-through',\n      textDecorationColor: theme.palette.error.main,\n    },\n  }),\n)\n\nconst BookingTicketCreate = ({ ...props }) => {\n  const { ...rest } = props\n  const { record: booking } = useShowContext()\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const validateTicketCreate = (values: TicketDto) => {\n    const errors: { [n: string]: string } = {}\n    if (!values.ticketCode) {\n      errors.ticketCode = 'ra.validation.required'\n    }\n    return errors\n  }\n\n  return (\n    <RowForm\n      {...rest}\n      initialValues={{\n        bookingId: booking?.id,\n        ticketType: TicketType.K,\n      }}\n      validate={validateTicketCreate}\n    >\n      <TextField source=\"id\" />\n      <TextInput source=\"ticketCode\" label=\" \" variant=\"standard\" />\n      <SelectInput\n        label=\" \"\n        variant=\"standard\"\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n      {!smallScreen && <DateField source=\"createdAt\" />}\n    </RowForm>\n  )\n}\n\nconst BookingTicketEdit = ({ ...props }) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <RowForm {...props}>\n      <TextField source=\"id\" />\n      <TextInput source=\"ticketCode\" label=\" \" variant=\"standard\" />\n      <SelectInput\n        label=\" \"\n        variant=\"standard\"\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n      {!smallScreen && (\n        <DateField\n          source=\"createdAt\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n      )}\n    </RowForm>\n  )\n}\n\nconst BookingTicketsGrid = ({ ...props }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <EditableDatagrid\n      {...props}\n      padding={smallScreen ? 'checkbox' : 'default'}\n      actions={hasAuthority(Authority.EDIT_TICKETS) ? undefined : false}\n      editForm={<BookingTicketEdit />}\n      createForm={\n        hasAuthority(Authority.EDIT_TICKETS) &&\n        hasAuthority(Authority.CREATE_TICKETS) ? (\n          <BookingTicketCreate />\n        ) : undefined\n      }\n      hasBulkActions={false}\n      defaultTitle={null}\n      noDelete\n    >\n      <TextField label=\"ID\" source=\"id\" />\n      <FunctionField<TicketDto>\n        source=\"ticketCode\"\n        render={(record?: TicketDto) =>\n          record?.active === true ? (\n            <TextField source=\"ticketCode\" />\n          ) : (\n            <TextField\n              source=\"ticketCode\"\n              className={classes.inactiveTicketCode}\n            />\n          )\n        }\n      />\n      <FunctionField<TicketDto>\n        source=\"ticketType\"\n        render={(record?: TicketDto) =>\n          smallScreen ? (\n            <div>\n              {translate(`resources.enums.ticketType.${record?.ticketType}`)}\n            </div>\n          ) : (\n            <Chip\n              label={translate(\n                `resources.enums.ticketType.${record?.ticketType}`,\n              )}\n            />\n          )\n        }\n      />\n      {!smallScreen && (\n        <DateField\n          source=\"createdAt\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n      )}\n    </EditableDatagrid>\n  )\n}\n\nconst BookingTickets = () => {\n  const { basePath, record: booking } = useShowContext()\n  const translate = useTranslate()\n\n  const Filters = ({ ...props }) => (\n    <Filter {...props}>\n      <TextInput source=\"ticketCode\" alwaysOn />\n      <SelectInput\n        source=\"ticketType\"\n        choices={Object.keys(TicketType).map((key: string) => ({\n          id: key,\n          name: translate(`resources.enums.ticketType.${key}`),\n        }))}\n      />\n    </Filter>\n  )\n\n  return (\n    <ResourceContextProvider value={ResourceName.TICKETS}>\n      <List\n        exporter={false}\n        perPage={20}\n        sort={{ field: 'id', order: 'DESC' }}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n        bulkActionButtons={false}\n        basePath={basePath}\n        filter={{\n          bookingId: booking?.id,\n        }}\n        filters={<Filters />}\n        title=\" \"\n      >\n        <BookingTicketsGrid />\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst BookingLogsView = () => {\n  const { record, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ bookingId: record?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n        noBooking\n        noCamera\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst ProfileDetailsView = () => {\n  const { record: booking } = useShowContext<BookingDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  const { data: customer } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.CUSTOMERS,\n    payload: {\n      id: booking?.customerId,\n    },\n  })\n\n  return (\n    <>\n      <SimpleShowLayout record={customer} resource={ResourceName.CUSTOMERS}>\n        <ReferenceField\n          label=\"resources.customers.fields.firstname\"\n          source=\"id\"\n          reference={ResourceName.CUSTOMERS}\n          link=\"show\"\n        >\n          <TextField source=\"firstname\" />\n        </ReferenceField>\n        <TextField source=\"lastname\" />\n        {hasAuthority(Authority.VIEW_COMPANIES) && customer?.company && (\n          <ReferenceField\n            source=\"company\"\n            reference={ResourceName.COMPANIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {customer?.birthdate && <DateField source=\"birthdate\" />}\n        {customer?.documentType && <TextField source=\"documentType\" />}\n        {customer?.pesel ? (\n          <TextField source=\"pesel\" />\n        ) : (\n          <TextField source=\"documentNumber\" />\n        )}\n        {customer?.nationality && <TextField source=\"nationality\" />}\n        {customer?.gender && (\n          <FunctionField<CustomerDto>\n            source=\"gender\"\n            render={(r?: CustomerDto) => (\n              <div>{translate(`resources.enums.gender.${r?.gender}`)}</div>\n            )}\n          />\n        )}\n      </SimpleShowLayout>\n    </>\n  )\n}\n\nconst AccessDetailsView = ({ ...props }) => {\n  const { record: booking } = useShowContext<BookingDto>()\n  const translate = useTranslate()\n  const { search } = useLocation()\n  const selectedAccess = new URLSearchParams(search).get('id')\n\n  const history = useHistory()\n  const location = useLocation()\n\n  const { data: variant } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.VARIANTS,\n    payload: {\n      id: booking?.variantId,\n    },\n  })\n\n  useEffect(() => {\n    if (variant?.accessesIds.length === 1)\n      history.push({\n        search: new URLSearchParams({ id: variant?.accessesIds[0] }).toString(),\n      })\n  }, [variant, history])\n\n  return (\n    <SimpleShowLayout\n      {...props}\n      record={variant}\n      resource={ResourceName.VARIANTS}\n    >\n      <TextField source=\"name\" label=\"resources.bookings.fields.variantName\" />\n      {variant?.accessesIds.length !== 1 && !selectedAccess && (\n        <>\n          <Typography variant=\"h5\">\n            {translate('resources.bookings.accesses.name')}\n          </Typography>\n          <ResourceContextProvider value={ResourceName.ACCESSES}>\n            <AccessList\n              basePath={`/${ResourceName.ACCESSES}`}\n              actions={false}\n              filters={undefined}\n              filter={{\n                filterVariantId: variant?.id !== undefined,\n                variantId: variant?.id,\n              }}\n              title=\" \"\n            />\n          </ResourceContextProvider>\n        </>\n      )}\n      {selectedAccess && (\n        <>\n          {variant?.accessesIds.length > 1 && (\n            <Grid container item direction=\"column\" alignItems=\"stretch\">\n              <Button\n                label=\"resources.bookings.accesses.actions.selectAccess\"\n                useSmallVersionBreakpoint={false}\n                variant=\"outlined\"\n                startIcon={<ArrowBack />}\n                onClick={() => {\n                  const newQueryParams = new URLSearchParams(location.search)\n                  newQueryParams.delete('id')\n                  history.replace({\n                    search: newQueryParams.toString(),\n                  })\n                }}\n              />\n            </Grid>\n          )}\n          <ResourceContextProvider value={ResourceName.ACCESSES}>\n            <AccessShow\n              id={selectedAccess}\n              basePath={`/${ResourceName.ACCESSES}`}\n              actions={false}\n              resource={ResourceName.ACCESSES}\n              title=\" \"\n              accessUsingsTicketsIdsFilter={booking?.ticketsIds}\n            />\n          </ResourceContextProvider>\n        </>\n      )}\n    </SimpleShowLayout>\n  )\n}\n\nconst StatusButtons = () => (\n  <>\n    <Divider />\n    <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n      <ToggleBookingAccessButton />\n      <ToggleBookingBlockadeButton />\n    </Box>\n  </>\n)\n\nexport const BookingHeader = () => {\n  const classes = useStyles()\n  const { record: ticketDetails } = useShowContext<BookingDto>()\n  const { data: customer } = useQueryWithStore({\n    type: sanitizeFetchType(GET_ONE),\n    resource: ResourceName.CUSTOMERS,\n    payload: {\n      id: ticketDetails?.customerId,\n    },\n  })\n\n  return (\n    <Box m={2}>\n      <Typography className={classes.header} variant=\"h5\" paragraph>\n        {customer?.firstname} {customer?.lastname}\n      </Typography>\n    </Box>\n  )\n}\n\nconst BookingView = ({ ...props }) => {\n  const { record: ticketDetails } = useShowContext<BookingDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Tab {...props} label=\"resources.bookings.tabs.general\">\n      {ticketDetails?.eventId && hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.eventName\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link=\"show\"\n        >\n          <TextField source=\"id\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.seatNumber\"\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link={false}\n        >\n          <TextField source=\"numberAlias\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId && hasAuthority(Authority.VIEW_SEATS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.rowNumber\"\n          source=\"seatId\"\n          reference={ResourceName.SEATS}\n          link={false}\n        >\n          <TextField source=\"rowAlias\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.blockName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <>\n              <ReferenceField\n                label=\" \"\n                source=\"blockId\"\n                reference={ResourceName.BLOCKS}\n                link=\"show\"\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            </>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId && hasAuthority(Authority.VIEW_BLOCKS) && (\n        <ReferenceField\n          label=\"resources.bookings.fields.blockName\"\n          source=\"blockId\"\n          reference={ResourceName.BLOCKS}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.tribuneName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"blockId\"\n              reference={ResourceName.BLOCKS}\n              link={false}\n            >\n              <>\n                <ReferenceField\n                  source=\"tribuneId\"\n                  reference={ResourceName.TRIBUNES}\n                  link=\"show\"\n                >\n                  <TextField source=\"name\" />\n                </ReferenceField>\n              </>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.tribuneName\"\n            source=\"blockId\"\n            reference={ResourceName.BLOCKS}\n            link={false}\n          >\n            <>\n              <ReferenceField\n                source=\"tribuneId\"\n                reference={ResourceName.TRIBUNES}\n                link=\"show\"\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            </>\n          </ReferenceField>\n        )}\n      {ticketDetails?.seatId &&\n        hasAuthority(Authority.VIEW_SEATS) &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) &&\n        hasAuthority(Authority.VIEW_OBJECTS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.objectName\"\n            source=\"seatId\"\n            reference={ResourceName.SEATS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"blockId\"\n              reference={ResourceName.BLOCKS}\n              link={false}\n            >\n              <ReferenceField\n                source=\"tribuneId\"\n                reference={ResourceName.TRIBUNES}\n                link={false}\n              >\n                <>\n                  <ReferenceField\n                    source=\"objectId\"\n                    reference={ResourceName.OBJECTS}\n                    link=\"show\"\n                  >\n                    <TextField source=\"name\" />\n                  </ReferenceField>\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.blockId &&\n        hasAuthority(Authority.VIEW_BLOCKS) &&\n        hasAuthority(Authority.VIEW_TRIBUNES) &&\n        hasAuthority(Authority.VIEW_OBJECTS) && (\n          <ReferenceField\n            label=\"resources.bookings.fields.objectName\"\n            source=\"blockId\"\n            reference={ResourceName.BLOCKS}\n            link={false}\n          >\n            <ReferenceField\n              source=\"tribuneId\"\n              reference={ResourceName.TRIBUNES}\n              link={false}\n            >\n              <>\n                <ReferenceField\n                  source=\"objectId\"\n                  reference={ResourceName.OBJECTS}\n                  link=\"show\"\n                >\n                  <TextField source=\"name\" />\n                </ReferenceField>\n              </>\n            </ReferenceField>\n          </ReferenceField>\n        )}\n      {ticketDetails?.activeFrom && <DateField source=\"activeFrom\" showTime />}\n      {ticketDetails?.activeTo && <DateField source=\"activeTo\" showTime />}\n      <DateField source=\"createdAt\" showTime />\n      <DateField source=\"modifiedAt\" showTime />\n      <StatusButtons />\n    </Tab>\n  )\n}\n\nconst BookingTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <BookingHeader />\n      <Divider />\n      <TabbedShowLayout {...props}>\n        <BookingView />\n        {hasAuthority(Authority.VIEW_TICKETS) && (\n          <Tab path=\"tickets\" label=\"resources.bookings.tabs.tickets\">\n            <MappedChipField\n              source=\"type\"\n              mapper={(value: BookingType) =>\n                `resources.enums.bookingType.${value}`\n              }\n            />\n            <BookingTickets />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_LOGS) && (\n          <Tab path=\"logs\" label=\"resources.bookings.tabs.logs\">\n            <BookingLogsView />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_CUSTOMERS) && (\n          <Tab path=\"profile\" label=\"resources.bookings.tabs.profile\">\n            <ProfileDetailsView />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_ACCESSES) && (\n          <Tab path=\"accesses\" label=\"resources.bookings.tabs.accesses\">\n            <AccessDetailsView />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </>\n  )\n}\n\nexport const BookingShow = (props: ShowProps) => (\n  <Show {...props} actions={false}>\n    <BookingTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  DateTimeInput,\n  ReferenceInput,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { formatTime } from '../../../core/common/date-time'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { DayOfWeek } from '../../../core/enum/DayOfWeek'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateAccessCreate = (values: AccessDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.entranceId) {\n    errors.entranceId = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.multiple)))\n    errors.multiple = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.usePriority)))\n    errors.usePriority = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.releaseDayOfMonth)))\n    errors.releaseDayOfMonth = 'ra.validation.not_numeric'\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.accesses.titles.create')}</span>\n}\n\nexport const AccessCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateAccessCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        <SelectInput\n          source=\"bonus\"\n          choices={Object.entries(AccessBonuses).map(([value]) => ({\n            id: value,\n            name: `resources.enums.bonus.${value}`,\n          }))}\n        />\n        <ReferenceInput\n          source=\"entranceId\"\n          defaultValue={null}\n          reference={ResourceName.ENTRANCES}\n          sort={{ field: 'note', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"note\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <BooleanInput source=\"allowReenter\" defaultChecked />\n        <BooleanInput source=\"multipleEntry\" />\n        <TextInput source=\"multiple\" defaultValue={1} />\n        <TextInput source=\"usePriority\" />\n        <BooleanInput source=\"isTicketUnlockedWithNextDay\" />\n        <DateTimeInput\n          source=\"releaseTime\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"releaseDayOfWeek\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(DayOfWeek).map(([value]) => ({\n              id: value,\n              name: `resources.enums.dayOfWeek.${value}`,\n            })),\n          ]}\n        />\n        <TextInput source=\"releaseDayOfMonth\" defaultValue={1} />\n        <TextInput source=\"delay\" />\n        <TextInput source=\"activePeriod\" />\n        <SelectInput\n          source=\"activePeriodStartingFrom\"\n          choices={Object.entries(AccessActivePeriodStartingOptions).map(\n            ([value]) => ({\n              id: value,\n              name: `resources.enums.activePeriodStartingFrom.${value}`,\n            }),\n          )}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateTimeInput,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { formatTime } from '../../../core/common/date-time'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessActivePeriodStartingOptions } from '../../../core/enum/AccessActivePeriodStartingOptions'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { DayOfWeek } from '../../../core/enum/DayOfWeek'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateAccessEdit = (values: AccessDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.entranceId) {\n    errors.entranceId = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.multiple)))\n    errors.multiple = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.usePriority)))\n    errors.usePriority = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.releaseDayOfMonth)))\n    errors.releaseDayOfMonth = 'ra.validation.not_numeric'\n  return errors\n}\n\ninterface AccessTitleProps extends TitleProps {\n  record?: AccessDto\n}\n\nconst EditTitle = (data: AccessTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.accesses.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const AccessEdit = (props: EditProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Edit {...props} hasShow={false} title={<EditTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        toolbar={<EditToolbar />}\n        validate={validateAccessEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" isRequired />\n        <SelectInput\n          source=\"bonus\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(AccessBonuses).map(([value]) => ({\n              id: value,\n              name: `resources.enums.bonus.${value}`,\n            })),\n          ]}\n        />\n        <ReferenceInput\n          source=\"entranceId\"\n          reference={ResourceName.ENTRANCES}\n          sort={{ field: 'note', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"note\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <BooleanInput source=\"allowReenter\" />\n        <BooleanInput source=\"multipleEntry\" />\n        <TextInput source=\"multiple\" />\n        <TextInput source=\"usePriority\" />\n        <BooleanInput source=\"isTicketUnlockedWithNextDay\" />\n        <DateTimeInput\n          source=\"releaseTime\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n        />\n        <SelectInput\n          source=\"releaseDayOfWeek\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(DayOfWeek).map(([value]) => ({\n              id: value,\n              name: `resources.enums.dayOfWeek.${value}`,\n            })),\n          ]}\n        />\n        <TextInput source=\"releaseDayOfMonth\" />\n        <TextInput source=\"delay\" />\n        <TextInput source=\"activePeriod\" />\n        <SelectInput\n          source=\"activePeriodStartingFrom\"\n          choices={[\n            { id: null, name: 'N/A' },\n            ...Object.entries(AccessActivePeriodStartingOptions).map(\n              ([value]) => ({\n                id: value,\n                name: `resources.enums.activePeriodStartingFrom.${value}`,\n              }),\n            ),\n          ]}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { Chip } from '@material-ui/core'\nimport React from 'react'\nimport { useTranslate } from 'react-admin'\nimport { ResourceName } from '../../core/ResourceName'\n\ninterface QuickFilterProps {\n  label?: string\n  resource?: keyof ResourceName\n  source: string\n  defaultValue?: any\n}\n\nconst QuickFilter = (props: QuickFilterProps) => {\n  const translate = useTranslate()\n  const { label, resource, source, defaultValue } = props // eslint-disable-line @typescript-eslint/no-unused-vars\n  return (\n    <Chip\n      style={{ marginBottom: '1em' }}\n      label={translate(\n        `resources.${resource as string}.fields.${label || source}`,\n      )}\n    />\n  )\n}\n\nexport default QuickFilter\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  List,\n  ListProps,\n  Datagrid,\n  TextField,\n  Pagination,\n  FunctionField,\n  useTranslate,\n  DateField,\n  TextInput,\n  SelectInput,\n  Filter,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport { AccessBonuses } from '../../../core/enum/AccessBonuses'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst AccessFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n    <SelectInput\n      source=\"bonus\"\n      choices={Object.entries(AccessBonuses).map(([value]) => ({\n        id: value,\n        name: `resources.enums.bonus.${value}`,\n      }))}\n    />\n    <TextInput source=\"entranceId\" />\n    <QuickFilter source=\"allowReenter\" />\n    <QuickFilter source=\"multipleEntry\" />\n    <QuickFilter source=\"isTicketUnlockedWithNextDay\" />\n  </Filter>\n)\n\nexport const AccessList = (props: ListProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<AccessFilters />}\n      hasCreate={hasAuthority(Authority.CREATE_ACCESSES)}\n    >\n      <Datagrid rowClick={(id) => `${ResourceName.ACCESSES}/${id}/show`}>\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<AccessDto>\n          source=\"bonus\"\n          render={(record?: AccessDto) =>\n            translate(`resources.enums.bonus.${record?.bonus}`)\n          }\n        />\n        <TextField source=\"entranceId\" />\n        {!smallScreen && <DateField source=\"modifiedAt\" />}\n        {!smallScreen && <DateField source=\"createdAt\" />}\n      </Datagrid>\n    </List>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport {\n  Create,\n  CreateProps,\n  TextInput,\n  useTranslate,\n  BooleanInput,\n  SimpleForm,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport React from 'react'\nimport { VariantDto } from '../../../core/dto/variant.dto'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateVariantCreate = (values: VariantDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.variants.titles.create')}</span>\n}\n\nexport const VariantCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateVariantCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"active\" />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n  BooleanInput,\n} from 'react-admin'\nimport { VariantDto } from '../../../core/dto/variant.dto'\n\nconst validateVariantEdit = (values: VariantDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface VariantTitleProps extends TitleProps {\n  record?: VariantDto\n}\n\nconst EditTitle = (data: VariantTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.variants.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const VariantEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateVariantEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"active\" />\n    </SimpleForm>\n  </Edit>\n)\n","import React from 'react'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  TextField,\n  FunctionField,\n  Datagrid,\n  useTranslate,\n  Filter,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst VariantsFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const VariantList = (props: ListProps) => {\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  return (\n    <List\n      perPage={20}\n      exporter={false}\n      pagination={<Pagination rowsPerPageOptions={[20, 50, 100]} />}\n      sort={{ field: 'id', order: 'DESC' }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<VariantsFilters />}\n      hasCreate={hasAuthority(Authority.CREATE_VARIANTS)}\n    >\n      <Datagrid rowClick={(id) => `${ResourceName.VARIANTS}/${id}/show`}>\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<VariantDto>\n          source=\"active\"\n          render={(record?: VariantDto) =>\n            record?.active ? translate('const.yes') : translate('const.no')\n          }\n        />\n      </Datagrid>\n    </List>\n  )\n}\n","import { Box, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  ShowProps,\n  Show,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  FunctionField,\n  useTranslate,\n  useShowContext,\n  TabbedShowLayoutProps,\n  TitleProps,\n  EditButton,\n  TextInput,\n} from 'react-admin'\nimport { VariantDto } from '../../../core/dto/variant.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { Authority } from '../../../core/auth/Authority'\nimport RelationTab from '../../common/RelationTab'\nimport { AccessDto } from '../../../core/dto/access.dto'\nimport RelationTabFilter from '../../common/RelationTabFilter'\n\ntype VariantTabsProps = Omit<TabbedShowLayoutProps, 'children'>\n\ninterface VariantTitleProps extends TitleProps {\n  record?: VariantDto\n}\n\nconst ShowTitle = (data: VariantTitleProps) => {\n  const { record: variant } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.variants.titles.show')}: {variant?.id}.{' '}\n      {variant?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: variant } = useShowContext<VariantDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath=\"/variants\"\n          record={variant}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_VARIANTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst VariantTabs = (props: VariantTabsProps) => {\n  const { record: variant } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  const RelationFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.variants.tabs.general\">\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<VariantDto>\n          source=\"active\"\n          render={(r?: VariantDto) => (\n            <div>\n              {r?.active ? translate('const.yes') : translate('const.no')}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_ACCESSES) && (\n        <Tab path=\"accesses\" label=\"resources.variants.tabs.accesses\">\n          <>\n            <RelationTab<VariantDto>\n              resource={ResourceName.ACCESSES}\n              source=\"accessesIds\"\n              mode={hasAuthority(Authority.EDIT_ACCESSES) ? 'edit' : 'show'}\n              attachMethod=\"attachAccesses\"\n              detachMethod=\"detachAccesses\"\n              attachRequestPayload={(r, ids) => ({\n                variantId: r.id,\n                accessesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                variantId: r.id,\n                accessesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVariantId === true\n              }\n              filters={<RelationFilters />}\n              filterDefaultValues={{\n                variantId: variant?.id,\n                filterVariantId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n              {!smallScreen && (\n                <FunctionField<AccessDto>\n                  source=\"bonus\"\n                  key=\"bonus\"\n                  render={(r?: AccessDto) =>\n                    translate(`resources.enums.bonus.${r?.bonus}`)\n                  }\n                />\n              )}\n              {!smallScreen && (\n                <TextField source=\"entranceId\" key=\"entranceId\" />\n              )}\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const VariantShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <VariantTabs />\n  </Show>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  DateTimeInput,\n  ListButton,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { CustomerDocumentType } from '../../core/enum/CustomerDocumentType'\nimport { Gender } from '../../core/enum/Gender'\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst validateCustomerCreate = (values: CustomerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.firstname) {\n    errors.firstname = 'ra.validation.required'\n  }\n  if (!values.lastname) {\n    errors.lastname = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.customers.titles.create')}</span>\n}\n\nexport const CustomersCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCustomerCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"firstname\" isRequired />\n      <TextInput source=\"lastname\" isRequired />\n      <TextInput source=\"company\" />\n      <DateTimeInput source=\"birthdate\" />\n      <SelectInput\n        source=\"documentType\"\n        choices={Object.entries(CustomerDocumentType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.customerDocumentType.${value}`,\n        }))}\n      />\n      <TextInput source=\"pesel\" />\n      <TextInput source=\"documentNumber\" />\n      <TextInput source=\"nationality\" />\n      <SelectInput\n        source=\"gender\"\n        choices={Object.entries(Gender).map(([value]) => ({\n          id: value,\n          name: `resources.enums.gender.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  DateTimeInput,\n  Edit,\n  EditProps,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { CustomerDocumentType } from '../../core/enum/CustomerDocumentType'\nimport { Gender } from '../../core/enum/Gender'\n\nconst validateCustomerEdit = (values: CustomerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.firstname) {\n    errors.firstname = 'ra.validation.required'\n  }\n  if (!values.lastname) {\n    errors.lastname = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface CustomerTitleProps extends TitleProps {\n  record?: CustomerDto\n}\n\nconst EditTitle = (data: CustomerTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.customers.titles.edit')}: {record?.id}.{' '}\n      {record?.firstname} {record?.lastname}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CustomerEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateCustomerEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"firstname\" isRequired />\n      <TextInput source=\"lastname\" isRequired />\n      <TextInput source=\"company\" />\n      <DateTimeInput source=\"birthdate\" />\n      <SelectInput\n        source=\"documentType\"\n        choices={Object.entries(CustomerDocumentType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.customerDocumentType.${value}`,\n        }))}\n      />\n      <TextInput source=\"pesel\" />\n      <TextInput source=\"documentNumber\" />\n      <TextInput source=\"nationality\" />\n      <SelectInput\n        source=\"gender\"\n        choices={Object.entries(Gender).map(([value]) => ({\n          id: value,\n          name: `resources.enums.gender.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  </Edit>\n)\n","import * as React from 'react'\nimport { TextField, TextFieldProps, useRecordContext } from 'react-admin'\nimport { maskMiddlePart } from '../../core/common/mask.utils'\n\nexport const MaskField = ({ source, ...rest }: TextFieldProps) => {\n  const record = useRecordContext()\n  const properRecord = record[source as string]\n    ? {\n        ...record,\n        [source as string]: maskMiddlePart(record[source as string], 2),\n      }\n    : record\n  return <TextField {...rest} record={properRecord} source={source} />\n}\n","/**\n * @example\n * maskMiddlePart('importantValue', 3) === 'imp********lue'\n */\nexport const maskMiddlePart = (word: string, threshold: number) => {\n  const firstChars = word.substring(0, threshold)\n  const lastChars = word.slice(-threshold)\n  const restCharsLength = word.length - firstChars.length - lastChars.length\n  return `${firstChars}${'*'.repeat(\n    restCharsLength > 0 ? restCharsLength : 0,\n  )}${lastChars}`\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FunctionField,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n  SearchInput,\n  Pagination,\n} from 'react-admin'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { MaskField } from '../common/MaskField'\n\nconst CustomerGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallDevice = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Datagrid\n      {...props}\n      rowClick={(id) => `${ResourceName.CUSTOMERS}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"firstname\" />\n      <TextField source=\"lastname\" />\n      {smallDevice && (\n        <FunctionField<CustomerDto>\n          source=\"documentNumber\"\n          render={(record?: CustomerDto) =>\n            record?.pesel ? (\n              <MaskField source=\"pesel\" />\n            ) : (\n              <MaskField source=\"documentNumber\" />\n            )\n          }\n        />\n      )}\n      {!smallDevice && <MaskField source=\"pesel\" />}\n      {!smallDevice && <MaskField source=\"documentNumber\" />}\n    </Datagrid>\n  )\n}\n\nconst CustomerFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <SearchInput source=\"info\" alwaysOn />\n    <TextInput source=\"firstname\" />\n    <TextInput source=\"lastname\" />\n    <TextInput source=\"pesel\" />\n    <TextInput source=\"documentNumber\" />\n  </Filter>\n)\n\nexport const CustomerList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    sort={{ field: 'lastname', order: 'ASC' }}\n    filters={<CustomerFilters />}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n  >\n    <CustomerGrid />\n  </List>\n)\n","import { Box, Divider, useMediaQuery, useTheme } from '@material-ui/core'\nimport React, { useMemo } from 'react'\nimport {\n  Datagrid,\n  DateField,\n  EditButton,\n  FunctionField,\n  List,\n  ListProps,\n  Pagination,\n  Record,\n  ReferenceField,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TabbedShowLayoutProps,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { CustomerDto } from '../../core/dto/customer.dto'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { MobilePostPagination } from '../common/Pagination'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { LogList } from '../logs/LogList'\n\nconst ShowTitle = (data: CustomerTitleProps) => {\n  const { record: customer } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.customers.titles.show')}: {customer?.id}.{' '}\n      {customer?.firstname} {customer?.lastname}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.CUSTOMERS}`}\n          record={customer}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_CUSTOMERS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const CustomerDetailsTab = ({\n  displayActions = true,\n  ...props\n}: CustomerDetailsTabProps) => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const translate = useTranslate()\n\n  return (\n    <SimpleShowLayout {...props}>\n      <TextField source=\"firstname\" />\n      <TextField source=\"lastname\" />\n      {customer?.company && <TextField source=\"company\" />}\n      {customer?.birthdate && (\n        <DateField\n          source=\"birthdate\"\n          options={{ day: '2-digit', month: '2-digit', year: 'numeric' }}\n        />\n      )}\n      {customer?.documentType && (\n        <FunctionField\n          source=\"documentType\"\n          render={(r: Record | undefined) => (\n            <div>\n              {translate(\n                `resources.enums.customerDocumentType.${r?.documentType}`,\n              )}\n            </div>\n          )}\n        />\n      )}\n      {customer?.pesel ? (\n        <TextField source=\"pesel\" />\n      ) : (\n        <TextField source=\"documentNumber\" />\n      )}\n      {customer?.nationality && <TextField source=\"nationality\" />}\n      {customer?.gender && (\n        <FunctionField\n          source=\"gender\"\n          render={(r: Record | undefined) => (\n            <div>{translate(`resources.enums.gender.${r?.gender}`)}</div>\n          )}\n        />\n      )}\n      {displayActions && <GeneralActions />}\n    </SimpleShowLayout>\n  )\n}\n\nconst BookingsList = (props: ListProps) => {\n  const theme = useTheme()\n  return (\n    <List\n      {...props}\n      perPage={20}\n      exporter={false}\n      pagination={\n        useMediaQuery(theme.breakpoints.up('md')) ? (\n          <Pagination rowsPerPageOptions={[20, 50, 100]} />\n        ) : (\n          <MobilePostPagination />\n        )\n      }\n      sort={{ field: 'id', order: 'DESC' }}\n      bulkActionButtons={false}\n    >\n      <Datagrid rowClick={(id) => `/${ResourceName.BOOKINGS}/${id}/show`}>\n        <TextField source=\"id\" />\n        <ReferenceField\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          link={false}\n        >\n          <FunctionField<EventDto>\n            render={() => (\n              <div>\n                {' '}\n                <TextField source=\"id\" />. <TextField source=\"name\" /> (\n                <DateField source=\"dateStart\" />){' '}\n              </div>\n            )}\n          />\n        </ReferenceField>\n        <ReferenceField\n          reference={ResourceName.VARIANTS}\n          source=\"variantId\"\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      </Datagrid>\n    </List>\n  )\n}\n\nexport const BookingsTab = () => {\n  const { record: customer, basePath } = useShowContext<CustomerDto>()\n\n  return (\n    <ResourceContextProvider value={ResourceName.BOOKINGS}>\n      <BookingsList\n        basePath={basePath}\n        filter={{ customerId: customer?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nexport const LogsTab = () => {\n  const { record: customer, basePath } = useShowContext<CustomerDto>()\n  return (\n    <ResourceContextProvider value={ResourceName.TICKET_LOGS}>\n      <LogList\n        basePath={basePath}\n        filter={{ customerId: customer?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst CustomerTabs = ({ ...props }) => {\n  const { record: customer } = useShowContext<CustomerDto>()\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  const bookingPresent = useMemo(\n    () => customer?.bookingsIds && customer.bookingsIds.length > 0,\n    [customer],\n  )\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.customers.tabs.profile')}>\n        <CustomerDetailsTab displayActions />\n      </Tab>\n      {bookingPresent && hasAuthority(Authority.VIEW_BOOKINGS) && (\n        <Tab\n          path=\"bookings\"\n          label={translate('resources.customers.tabs.bookings')}\n        >\n          <BookingsTab />\n        </Tab>\n      )}\n      {bookingPresent && hasAuthority(Authority.VIEW_LOGS) && (\n        <Tab path=\"logs\" label={translate('resources.customers.tabs.logs')}>\n          <LogsTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const CustomerDetailsView = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <CustomerTabs />\n  </Show>\n)\n\nexport interface CustomerDetailsTabProps\n  extends Omit<TabbedShowLayoutProps, 'children'> {\n  displayActions: boolean\n}\n\ninterface CustomerTitleProps extends TitleProps {\n  record?: CustomerDto\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport HourglassEmptyOutlinedIcon from '@material-ui/icons/HourglassEmptyOutlined';\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\nimport IndeterminateCheckBoxOutlinedIcon from '@material-ui/icons/IndeterminateCheckBoxOutlined';\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nvar renderSwitcherIcon = function (className, switcherIcon, showLine, _a) {\n    if (className === void 0) { className = ''; }\n    var isLeaf = _a.isLeaf, expanded = _a.expanded, loading = _a.loading;\n    if (loading) {\n        return (React.createElement(HourglassEmptyOutlinedIcon, { className: \"rc-tree-switcher-loading-icon\" }));\n    }\n    if (isLeaf) {\n        return showLine ? (React.createElement(InsertDriveFileOutlinedIcon, { className: classNames('rc-tree-switcher-line-icon', className) })) : null;\n    }\n    var switcherCls = \"rc-tree-switcher-icon\";\n    if (React.isValidElement(switcherIcon)) {\n        return React.cloneElement(switcherIcon, {\n            className: classNames(switcherIcon.props.className || '', switcherCls),\n        });\n    }\n    if (switcherIcon) {\n        return switcherIcon;\n    }\n    if (showLine) {\n        return expanded ? (React.createElement(IndeterminateCheckBoxOutlinedIcon, { className: classNames('rc-tree-switcher-line-icon', className) })) : (React.createElement(AddBoxOutlinedIcon, { className: classNames('rc-tree-switcher-line-icon', className) }));\n    }\n    return React.createElement(ExpandMoreIcon, { className: switcherCls });\n};\nexport default renderSwitcherIcon;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { makeStyles } from '@material-ui/core/styles';\nvar useRcTreeStyles = makeStyles(function (theme) { return ({\n    '@keyframes checkboxEffect': {\n        '0%': {\n            transform: 'scale(1)',\n            opacity: '0.5',\n        },\n        '100%': {\n            transform: 'scale(1.6)',\n            opacity: '0',\n        },\n    },\n    root: {\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode': {\n            position: 'relative',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode::before': {\n            position: 'absolute',\n            top: '0',\n            right: '0',\n            bottom: '4px',\n            left: '0',\n            transition: 'background-color 0.3s',\n            content: \"''\",\n            pointerEvents: 'none',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode:hover::before': {\n            background: theme.palette.action.hover,\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode > *': { zIndex: '1' },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode .rc-tree-switcher': {\n            transition: 'color 0.3s',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode .rc-tree-node-content-wrapper': {\n            borderRadius: '0',\n            userSelect: 'none',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode .rc-tree-node-content-wrapper:hover': {\n            background: 'transparent',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode .rc-tree-node-content-wrapper.rc-tree-node-selected': {\n            color: theme.palette.background.paper,\n            background: 'transparent',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode-selected:hover::before,& .rc-tree.rc-tree-directory .rc-tree-treenode-selected::before': {\n            background: '#1890ff',\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode-selected .rc-tree-switcher': {\n            color: theme.palette.background.paper,\n        },\n        '& .rc-tree.rc-tree-directory .rc-tree-treenode-selected .rc-tree-node-content-wrapper': {\n            color: theme.palette.background.paper,\n            background: 'transparent',\n        },\n        '& .rc-tree-checkbox': {\n            boxSizing: 'border-box',\n            margin: '0',\n            padding: '0',\n            color: 'rgba(0, 0, 0, 0.65)',\n            fontSize: '14px',\n            fontVariant: 'tabular-nums',\n            lineHeight: ['1.5715', '1'],\n            listStyle: 'none',\n            fontFeatureSettings: \"'tnum'\",\n            position: 'relative',\n            top: '-0.09em',\n            display: 'inline-block',\n            whiteSpace: 'nowrap',\n            verticalAlign: 'middle',\n            outline: 'none',\n            cursor: 'pointer',\n        },\n        '& .rc-tree-checkbox-wrapper:hover .rc-tree-checkbox-inner,& .rc-tree-checkbox:hover .rc-tree-checkbox-inner,& .rc-tree-checkbox-input:focus + .rc-tree-checkbox-inner': {\n            borderColor: theme.palette.type === 'light'\n                ? theme.palette.info.light\n                : theme.palette.info.dark,\n        },\n        '& .rc-tree-checkbox-checked::after': {\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: '100%',\n            height: '100%',\n            border: '1px solid #1890ff',\n            borderRadius: '2px',\n            visibility: 'hidden',\n            animation: '$checkboxEffect 0.36s ease-in-out',\n            animationFillMode: 'backwards',\n            content: \"''\",\n        },\n        '& .rc-tree-checkbox:hover::after,& .rc-tree-checkbox-wrapper:hover .rc-tree-checkbox::after': {\n            visibility: 'visible',\n        },\n        '& .rc-tree-checkbox-inner': {\n            position: 'relative',\n            top: '0',\n            left: '0',\n            display: 'block',\n            width: '16px',\n            height: '16px',\n            direction: 'ltr',\n            backgroundColor: '#fff',\n            border: '1px solid #d9d9d9',\n            borderRadius: '2px',\n            borderCollapse: 'separate',\n            transition: 'all 0.3s',\n        },\n        '& .rc-tree-checkbox-inner::after': {\n            position: 'absolute',\n            top: '50%',\n            left: '22%',\n            display: 'table',\n            width: '5.71428571px',\n            height: '9.14285714px',\n            border: '2px solid #fff',\n            borderTop: '0',\n            borderLeft: '0',\n            transform: 'rotate(45deg) scale(0) translate(-50%, -50%)',\n            opacity: '0',\n            transition: 'all 0.1s cubic-bezier(0.71, -0.46, 0.88, 0.6), opacity 0.1s',\n            content: \"' '\",\n        },\n        '& .rc-tree-checkbox-input': {\n            position: 'absolute',\n            top: '0',\n            right: '0',\n            bottom: '0',\n            left: '0',\n            zIndex: '1',\n            width: '100%',\n            height: '100%',\n            cursor: 'pointer',\n            opacity: '0',\n        },\n        '& .rc-tree-checkbox-checked .rc-tree-checkbox-inner::after': {\n            position: 'absolute',\n            display: 'table',\n            border: \"2px solid \" + theme.palette.background.paper,\n            borderTop: '0',\n            borderLeft: '0',\n            transform: 'rotate(45deg) scale(1) translate(-50%, -50%)',\n            opacity: '1',\n            transition: 'all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s',\n            content: \"' '\",\n        },\n        '& .rc-tree-checkbox-checked .rc-tree-checkbox-inner': {\n            backgroundColor: theme.palette.type === 'light'\n                ? theme.palette.info.light\n                : theme.palette.info.dark,\n            borderColor: theme.palette.type === 'light'\n                ? theme.palette.info.light\n                : theme.palette.info.dark,\n        },\n        '& .rc-tree-checkbox-disabled': { cursor: 'not-allowed' },\n        '& .rc-tree-checkbox-disabled.rc-tree-checkbox-checked .rc-tree-checkbox-inner::after': {\n            borderColor: 'rgba(0, 0, 0, 0.25)',\n            animationName: 'none',\n        },\n        '& .rc-tree-checkbox-disabled .rc-tree-checkbox-input': {\n            cursor: 'not-allowed',\n        },\n        '& .rc-tree-checkbox-disabled .rc-tree-checkbox-inner': {\n            backgroundColor: '#f5f5f5',\n            borderColor: '#d9d9d9 !important',\n        },\n        '& .rc-tree-checkbox-disabled .rc-tree-checkbox-inner::after': {\n            borderColor: '#f5f5f5',\n            borderCollapse: 'separate',\n            animationName: 'none',\n        },\n        '& .rc-tree-checkbox-disabled + span': {\n            color: 'rgba(0, 0, 0, 0.25)',\n            cursor: 'not-allowed',\n        },\n        '& .rc-tree-checkbox-disabled:hover::after,& .rc-tree-checkbox-wrapper:hover .rc-tree-checkbox-disabled::after': {\n            visibility: 'hidden',\n        },\n        '& .rc-tree-checkbox-wrapper': {\n            boxSizing: 'border-box',\n            margin: '0',\n            padding: '0',\n            color: 'rgba(0, 0, 0, 0.65)',\n            fontSize: '14px',\n            fontVariant: 'tabular-nums',\n            lineHeight: ['1.5715', 'unset'],\n            listStyle: 'none',\n            fontFeatureSettings: \"'tnum'\",\n            display: 'inline-block',\n            cursor: 'pointer',\n        },\n        '& .rc-tree-checkbox-wrapper.rc-tree-checkbox-wrapper-disabled': {\n            cursor: 'not-allowed',\n        },\n        '& .rc-tree-checkbox-wrapper + .rc-tree-checkbox-wrapper': {\n            marginLeft: '8px',\n        },\n        '& .rc-tree-checkbox + span': {\n            paddingRight: '8px',\n            paddingLeft: '8px',\n        },\n        '& .rc-tree-checkbox-group': {\n            boxSizing: 'border-box',\n            margin: '0',\n            padding: '0',\n            color: 'rgba(0, 0, 0, 0.65)',\n            fontSize: '14px',\n            fontVariant: 'tabular-nums',\n            lineHeight: '1.5715',\n            listStyle: 'none',\n            fontFeatureSettings: \"'tnum'\",\n            display: 'inline-block',\n        },\n        '& .rc-tree-checkbox-group-item': {\n            display: 'inline-block',\n            marginRight: '8px',\n        },\n        '& .rc-tree-checkbox-group-item:last-child': { marginRight: '0' },\n        '& .rc-tree-checkbox-group-item + .rc-tree-checkbox-group-item': {\n            marginLeft: '0',\n        },\n        '& .rc-tree-checkbox-indeterminate .rc-tree-checkbox-inner': {\n            backgroundColor: '#fff',\n            borderColor: '#d9d9d9',\n        },\n        '& .rc-tree-checkbox-indeterminate .rc-tree-checkbox-inner::after': {\n            top: '50%',\n            left: '50%',\n            width: '8px',\n            height: '8px',\n            backgroundColor: '#1890ff',\n            border: '0',\n            transform: 'translate(-50%, -50%) scale(1)',\n            opacity: '1',\n            content: \"' '\",\n        },\n        '& .rc-tree-checkbox-indeterminate.rc-tree-checkbox-disabled .rc-tree-checkbox-inner::after': {\n            backgroundColor: 'rgba(0, 0, 0, 0.25)',\n            borderColor: 'rgba(0, 0, 0, 0.25)',\n        },\n        '& .rc-tree': {\n            boxSizing: 'border-box',\n            margin: '0',\n            padding: '0',\n            color: theme.palette.text.primary,\n            fontSize: '14px',\n            fontVariant: 'tabular-nums',\n            lineHeight: '1.5715',\n            listStyle: 'none',\n            fontFeatureSettings: \"'tnum'\",\n            // background: '#fff',\n            // borderRadius: '2px',\n            transition: 'background-color 0.3s',\n        },\n        '& .rc-tree-focused:not(:hover):not(.rc-tree-active-focused)': {\n            background: theme.palette.action.hover,\n        },\n        '& .rc-tree-list-holder-inner': {\n            alignItems: 'flex-start',\n        },\n        '& .rc-tree.rc-tree-block-node .rc-tree-list-holder-inner': {\n            alignItems: 'stretch',\n        },\n        '& .rc-tree.rc-tree-block-node .rc-tree-list-holder-inner .rc-tree-node-content-wrapper': {\n            flex: 'auto',\n        },\n        '& .rc-tree .rc-tree-treenode': {\n            display: 'flex',\n            alignItems: 'center',\n            padding: '0 0 4px 0',\n            outline: 'none',\n            overflow: 'hidden',\n        },\n        '& .rc-tree .rc-tree-treenode-disabled .rc-tree-node-content-wrapper': {\n            color: 'rgba(0, 0, 0, 0.25)',\n            cursor: 'not-allowed',\n        },\n        '& .rc-tree .rc-tree-treenode-disabled .rc-tree-node-content-wrapper:hover': {\n            background: 'transparent',\n        },\n        '& .rc-tree .rc-tree-treenode-active .rc-tree-node-content-wrapper': {\n            background: '#f5f5f5',\n        },\n        '& .rc-tree-indent': {\n            alignSelf: 'stretch',\n            whiteSpace: 'nowrap',\n            userSelect: 'none',\n        },\n        '& .rc-tree-indent-unit': { display: 'inline-block', width: '24px' },\n        '& .rc-tree .rc-tree-switcher': {\n            flex: 'none',\n            width: '24px',\n            height: '24px',\n            margin: '0',\n            lineHeight: '24px',\n            textAlign: 'center',\n            cursor: 'pointer',\n        },\n        '& .rc-tree .rc-tree-switcher .rc-tree-switcher-icon,& .rc-tree .rc-tree-switcher .rc-tree-switcher-icon': {\n            fontSize: 24,\n            display: 'inline-block',\n            fontWeight: 'bold',\n        },\n        '& .rc-tree .rc-tree-switcher svg.rc-tree-switcher-icon , & .rc-tree .rc-tree-switcher svg.rc-tree-switcher-icon': {\n            transition: 'transform 0.3s',\n        },\n        '& .rc-tree .rc-tree-switcher-noop': { cursor: 'default' },\n        '& .rc-tree .rc-tree-switcher_close svg.rc-tree-switcher-icon': {\n            transform: 'rotate(-90deg)',\n        },\n        '& .rc-tree .rc-tree-checkbox': {\n            top: 'initial',\n            margin: '4px 8px 0 0',\n        },\n        '& .rc-tree .rc-tree-node-content-wrapper': {\n            minHeight: '24px',\n            margin: '0',\n            padding: '0 4px',\n            color: 'inherit',\n            lineHeight: '24px',\n            background: 'transparent',\n            borderRadius: '2px',\n            cursor: 'pointer',\n            transition: 'all 0.3s',\n            display: 'flex',\n            alignItems: 'center',\n        },\n        '& .rc-tree .rc-tree-node-content-wrapper:hover': {\n            background: theme.palette.action.hover,\n        },\n        '& .rc-tree .rc-tree-node-content-wrapper.rc-tree-node-selected': {\n            backgroundColor: theme.palette.action.selected,\n        },\n        '& .rc-tree .rc-tree-node-content-wrapper .rc-tree-iconEle': {\n            display: 'inline-block',\n            width: '24px',\n            height: '24px',\n            lineHeight: '24px',\n            textAlign: 'center',\n            verticalAlign: 'top',\n        },\n        '& .rc-tree .rc-tree-node-content-wrapper .rc-tree-iconEle:empty': {\n            display: 'none',\n        },\n        '& .rc-tree .rc-tree-treenode-loading .rc-tree-iconEle': {\n            display: 'none',\n        },\n        \"& .rc-tree-node-content-wrapper[draggable='true']\": {\n            lineHeight: '20px',\n            borderTop: '2px transparent solid',\n            borderBottom: '2px transparent solid',\n            userSelect: 'none',\n        },\n        '& .rc-tree .rc-tree-treenode.drag-over > [draggable]': {\n            color: 'white',\n            backgroundColor: '#1890ff',\n            opacity: '0.8',\n        },\n        '& .rc-tree .rc-tree-treenode.drag-over-gap-top > [draggable]': {\n            borderTopColor: '#1890ff',\n        },\n        '& .rc-tree .rc-tree-treenode.drag-over-gap-bottom > [draggable]': {\n            borderBottomColor: '#1890ff',\n        },\n        '& .rc-tree-show-line': {},\n        '& .rc-tree-show-line .rc-tree-indent-unit': {\n            position: 'relative',\n            height: '100%',\n        },\n        '& .rc-tree-show-line .rc-tree-indent-unit::before': {\n            position: 'absolute',\n            top: 'calc(100% - 4px)',\n            right: '-12px',\n            bottom: '-28px',\n            borderRight: '1px solid #d9d9d9',\n            content: \"''\",\n        },\n        '& .rc-tree-show-line .rc-tree-indent-unit-end::before': {\n            display: 'none',\n        },\n        '& .rc-tree-show-line .rc-tree-treenode-motion:not(.ant-motion-collapse-leave):not(.ant-motion-collapse-appear-active) .rc-tree-indent-unit::before': {\n            display: 'none',\n        },\n        '& .rc-tree-show-line .rc-tree-switcher': {\n            zIndex: '1',\n            background: theme.palette.background.paper,\n        },\n        '& .rc-tree-rtl': { direction: 'rtl' },\n        '& .rc-tree .rc-tree-treenode-rtl': { direction: 'rtl' },\n        '& .rc-tree-rtl.rc-tree .rc-tree-switcher_close svg.rc-tree-switcher-icon': {\n            transform: 'rotate(90deg)',\n        },\n        '& .rc-tree-rtl.rc-tree-show-line .rc-tree-indent-unit::before': {\n            right: 'auto',\n            left: '-12px',\n            borderRight: 'none',\n            borderLeft: '1px solid #d9d9d9',\n        },\n        // added by react-admin\n        '& .rc-tree .rc-tree-title': __assign({}, theme.typography.body1),\n        '& .node-motion': {\n            transition: 'height 0.15s, opacity 0.15s',\n            transitionTimingFunction: 'ease-in-out',\n            overflowY: 'hidden',\n        },\n        '& .rc-tree *, & .rc-tree *::before, & .rc-tree *::after': {\n            boxSizing: 'border-box',\n        },\n    },\n    smallIcon: {\n        fontSize: '1.2em',\n        paddingTop: 4,\n    },\n}); });\nexport default useRcTreeStyles;\n","var motion = {\n    motionName: 'node-motion',\n    motionAppear: false,\n    onAppearStart: function () { return ({ height: 0 }); },\n    onAppearActive: function (node) { return ({\n        height: node.scrollHeight,\n    }); },\n    onLeaveStart: function (node) { return ({\n        height: node.offsetHeight,\n    }); },\n    onLeaveActive: function () { return ({ height: 0 }); },\n};\nexport default motion;\n","import * as React from 'react';\nimport { cloneElement, isValidElement } from 'react';\nimport { Typography, makeStyles } from '@material-ui/core';\nvar NodeTitle = function (_a) {\n    var data = _a.data, nodeActions = _a.nodeActions;\n    var classes = useStyles();\n    return (React.createElement(\"div\", { className: classes.root },\n        React.createElement(Typography, { variant: \"body1\" }, data.title),\n        isValidElement(nodeActions) &&\n            cloneElement(nodeActions, {\n                className: classes.menuButton,\n                data: data,\n            })));\n};\nexport default NodeTitle;\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        position: 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        overflowY: 'hidden',\n        '&:hover': {\n            '& $menuButton': {\n                opacity: 1,\n            },\n        },\n    },\n    menuButton: {\n        background: 'transparent',\n        border: 'none',\n        opacity: 0,\n        outline: 'none',\n        marginLeft: theme.spacing(1),\n        '&:focus': {\n            opacity: 1,\n        },\n    },\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport RcTree from 'rc-tree';\nimport renderSwitcherIcon from './renderSwitcherIcon';\nimport useRcTreeStyles from './useRcTreeStyles';\nimport rcTreeMotion from './rcTreeMotion';\nimport NodeTitle from './NodeTitle';\n/**\n * Wrapper for rc-tree <Tree>, with Material Design style.\n *\n * @see https://github.com/react-component/tree#tree-props\n *\n * rc-tree expects a treeData prop containing a tree of nodes with key, title,\n * and children fields.\n *\n * @example // treeData format\n *\n * [\n *   { key: '1', title: 'foo1', children: [\n *     { key: '3', title: 'foo3', children: [\n *       { key: '5', title: 'foo5', children: [] },\n *     ] },\n *     { key: '4', title: 'foo4', children: [] },\n *   ] },\n *   { key: '2', title: 'foo2', children: [] },\n * ]\n *\n * @example // usage\n *\n * import { Tree } from '@react-admin/ra-tree';\n * import treeData from './treeData';\n *\n * export const SimpleTree: FC = () => <Tree treeData={treeData} />;\n */\nexport var Tree = function (_a) {\n    var checkable = _a.checkable, showLine = _a.showLine, switcherIcon = _a.switcherIcon, nodeActions = _a.nodeActions, props = __rest(_a, [\"checkable\", \"showLine\", \"switcherIcon\", \"nodeActions\"]);\n    var classes = useRcTreeStyles();\n    var treeRef = useRef(null);\n    return (React.createElement(\"div\", { className: classes.root },\n        React.createElement(RcTree, __assign({ ref: treeRef, switcherIcon: function (nodeProps) {\n                return renderSwitcherIcon(classes.smallIcon, switcherIcon, showLine, nodeProps);\n            }, checkable: checkable ? (React.createElement(\"span\", { className: \"rc-tree-checkbox-inner\" })) : (checkable), titleRender: function (data) { return (React.createElement(NodeTitle, { data: data, nodeActions: nodeActions })); }, motion: rcTreeMotion, showLine: showLine }, props))));\n};\nTree.propTypes = {\n    showLine: PropTypes.bool,\n    switcherIcon: PropTypes.any,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useQueryWithStore, GET_MANY, FETCH_END, } from 'react-admin';\nimport { useDispatch } from 'react-redux';\nimport { CRUD_GET_TREE, POPULATE_RECORDS_FROM_NODES } from '../actions';\nimport { UNSAVED_NEW_NODE } from '../constants';\n/**\n * Call the dataProvider.getTree() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * The data structure is a flat array of TreeRecords (i.e. Records with a children field containing an array of Identifiers).\n *\n * @example // sample { data }\n * [\n *   { id: 1, title: 'foo1', children: [3, 4] },\n *   { id: 2, title: 'foo2', children: [] },\n *   { id: 3, title: 'foo3', children: [5] },\n *   { id: 4, title: 'foo4', children: [] },\n *   { id: 5, title: 'foo5', children: [] },\n * ]\n *\n * @example // usage in a React component\n *\n * import { useGetTree } from '@react-admin/ra-tree';\n *\n * const Categories = () => {\n *     const { data: tree, loading, error } = useGetTree('categories');\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <Tree tree={data} />;\n * };\n */\nvar useGetTree = function (resource, options) {\n    if (options === void 0) { options = {}; }\n    var dispatch = useDispatch();\n    return useQueryWithStore({\n        type: 'getTree',\n        resource: resource,\n        payload: {},\n    }, __assign(__assign({}, options), { action: CRUD_GET_TREE, onSuccess: function (res) {\n            dispatch({\n                type: POPULATE_RECORDS_FROM_NODES,\n                payload: { data: res.data },\n                meta: {\n                    resource: resource,\n                    fetchResponse: GET_MANY,\n                    fetchStatus: FETCH_END,\n                },\n            });\n            options.onSuccess && options.onSuccess(res);\n        } }), function (state) {\n        if (options.enabled === false)\n            return null;\n        if (!state.tree[resource] || !state.tree[resource].nodes) {\n            // not loaded yet\n            return undefined;\n        }\n        var tree = state.tree[resource].nodes;\n        var data = state.admin.resources[resource].data;\n        var nodes = Object.keys(tree)\n            .filter(function (id) { return id === UNSAVED_NEW_NODE || data[id]; })\n            .map(function (id) { return (__assign(__assign({}, (id === UNSAVED_NEW_NODE\n            ? { id: UNSAVED_NEW_NODE }\n            : data[id])), { children: tree[id] })); });\n        // do not return empty array before the POPULATE_RECORDS_FROM_NODES action is reduced\n        if (nodes.length !== Object.keys(tree).length)\n            return undefined;\n        return nodes;\n    });\n};\nexport default useGetTree;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useQueryWithStore, GET_MANY, FETCH_END, } from 'react-admin';\nimport { useDispatch } from 'react-redux';\nimport { CRUD_GET_ROOT_NODES, POPULATE_RECORDS_FROM_NODES } from '../actions';\nimport { UNSAVED_NEW_NODE } from '../constants';\n/**\n * Call the dataProvider.getRootNodes() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example // usage\n *\n * import { useGetRootNodes } from '@react-admin/ra-tree';\n *\n * const Categories = () => {\n *     const { data: tree, loading, error } = useGetRootNodes('categories');\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <Tree tree={data} />;\n * };\n */\nvar useGetRootNodes = function (resource, options) {\n    if (options === void 0) { options = {}; }\n    var dispatch = useDispatch();\n    return useQueryWithStore({\n        type: 'getRootNodes',\n        resource: resource,\n        payload: {},\n    }, __assign(__assign({}, options), { action: CRUD_GET_ROOT_NODES, onSuccess: function (res) {\n            dispatch({\n                type: POPULATE_RECORDS_FROM_NODES,\n                payload: { data: res.data },\n                meta: {\n                    resource: resource,\n                    fetchResponse: GET_MANY,\n                    fetchStatus: FETCH_END,\n                },\n            });\n            options.onSuccess && options.onSuccess(res);\n        } }), function (state) {\n        if (options.enabled === false)\n            return null;\n        if (!state.tree[resource])\n            return null;\n        var tree = state.tree[resource].nodes;\n        var data = state.admin.resources[resource].data;\n        var nodes = Object.keys(tree)\n            .filter(function (id) { return id === UNSAVED_NEW_NODE || data[id]; })\n            .map(function (id) { return (__assign(__assign({}, (id === UNSAVED_NEW_NODE\n            ? { id: UNSAVED_NEW_NODE }\n            : data[id])), { children: tree[id] })); });\n        return nodes;\n    });\n};\nexport default useGetRootNodes;\n","import { useMutation } from 'react-admin';\nimport { CRUD_MOVE_AS_NTH_CHILD_OF } from '../actions';\nimport { MOVE_AS_NTH_CHILD_OF } from '../fetchTypes';\n/**\n * Get a callback to call the dataProvider.moveAsNthChildOf() method\n *\n * @param {string} resource the resource name, e.g. 'posts'\n *\n * @example // usage\n *\n * import { useNotify } from 'react-admin';\n * import { useMoveAsNthChildOf } from '@react-admin/ra-tree';\n *\n * const MyComponent = () => {\n *     const [moveAsNthChildOf, { loading, data, error }] = useMoveAsNthChildOf(resource);\n *     const notify = useNotify();\n *     const handleClick = () => {\n *         moveAsNthChildOf(\n *             {\n *                 payload: {\n *                     source:      { id: 12, name: 'hello', children: [34, 76] },\n *                     destination: { id: 67, name: 'world', children: [45, 62, 5] },\n *                     position:    2,\n *                 },\n *             },\n *             { onSuccess: () => notify('Success') }\n *         );\n *     };\n *\n *     return (\n *         <button onClick={handleClick}>\n *             Move node 'hello' as 3rd child of 'world'\n *         </button>\n *     );\n * }\n */\nvar useMoveAsNthChildOf = function (resource) {\n    return useMutation({\n        type: MOVE_AS_NTH_CHILD_OF,\n        resource: resource,\n        payload: {},\n    }, { action: CRUD_MOVE_AS_NTH_CHILD_OF });\n};\nexport default useMoveAsNthChildOf;\n","import { useMutation } from 'react-admin';\nimport { CRUD_MOVE_AS_NTH_SIBLING_OF } from '../actions';\nimport { MOVE_AS_NTH_SIBLING_OF } from '../fetchTypes';\n/**\n * Get a callback to call the dataProvider.moveAsNthSiblingOf() method\n *\n * @param {string} resource the resource name, e.g. 'posts'\n *\n * @example // usage\n *\n * import { useNotify } from 'react-admin';\n * import { useMoveAsNthSiblingOf } from '@react-admin/ra-tree';\n *\n * const MyComponent = () => {\n *     const [moveAsNthSiblingOf, { loading, data, error }] = useMoveAsNthSiblingOf(resource);\n *     const notify = useNotify();\n *     const handleClick = () => {\n *         moveAsNthSiblingOf(\n *             {\n *                 payload: {\n *                     source:      { id: 12, name: 'hello', children: [34, 76] },\n *                     destination: { id: 67, name: 'world', children: [45, 62, 5] },\n *                     position:    2,\n *                 },\n *             },\n *             { onSuccess: () => notify('Success') }\n *         );\n *     };\n *\n *     return (\n *         <button onClick={handleClick}>\n *             Move node 'hello' as 3rd child of the 'world' parent\n *         </button>\n *     );\n * }\n */\nvar useMoveAsNthSiblingOf = function (resource) {\n    return useMutation({\n        type: MOVE_AS_NTH_SIBLING_OF,\n        resource: resource,\n        payload: {},\n    }, { action: CRUD_MOVE_AS_NTH_SIBLING_OF });\n};\nexport default useMoveAsNthSiblingOf;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FETCH_END, GET_MANY, useDataProvider, } from 'react-admin';\nimport { CRUD_GET_TREE, POPULATE_RECORDS_FROM_NODES } from '../actions';\n/**\n * Get a callback to call the dataProvider.getTree() method.\n *\n * Useful for refreshing the tree in an event handler.\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * The data structure is a flat array of TreeRecords (i.e. Records with a children field containing an array of Identifiers).\n *\n * @example // sample return value\n * [\n *   { id: 1, title: 'foo1', children: [3, 4] },\n *   { id: 2, title: 'foo2', children: [] },\n *   { id: 3, title: 'foo3', children: [5] },\n *   { id: 4, title: 'foo4', children: [] },\n *   { id: 5, title: 'foo5', children: [] },\n * ]\n *\n * @example // usage\n *\n * import { useNotify } from 'react-admin';\n * import { useGetTreeCallback } from '@react-admin/ra-tree';\n *\n * const MyComponent = () => {\n *     const refreshTree = useGetTreeCallback(resource);\n *\n *     const handleClick = () => {\n *         refreshTree()\n *             .then(tree => {\n *                 notify(`Reloaded ${tree.length} tree nodes`);\n *             });\n *     };\n *\n *     return <button onClick={handleClick}>Refresh tree</button>;\n * }\n */\nvar useGetTreeCallback = function (resource) {\n    var dispatch = useDispatch();\n    var dataProvider = useDataProvider();\n    return useCallback(function (options) {\n        if (options === void 0) { options = {}; }\n        return dataProvider\n            .getTree(resource, {}, {\n            action: CRUD_GET_TREE,\n        })\n            .then(function (res) {\n            dispatch({\n                type: POPULATE_RECORDS_FROM_NODES,\n                payload: { data: res.data },\n                meta: {\n                    resource: resource,\n                    fetchResponse: GET_MANY,\n                    fetchStatus: FETCH_END,\n                },\n            });\n            options.onSuccess && options.onSuccess(res);\n            return res;\n        });\n    }, [resource, dataProvider, dispatch]);\n};\nexport default useGetTreeCallback;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { UNSAVED_NEW_NODE } from '../constants';\n/**\n * Add key and title fields to a TreeRecord.\n *\n * These fields are required by rc-tree.\n *\n * Use the id field as source for the key, and turns it into a string\n * (since keys must be strings in rc-tree).\n *\n * @param {TreeRecord} treeRecord The record to augment\n * @param {string} titleField the name of the field to use for title (defaults to 'title')\n *\n * @returns {RCTreeDatum} A new record object with key and title\n *\n * @example\n *\n * getRCTreeDatum({ id: 1, name: 'hello', children: [] })\n * => {\n *   id: 1,\n *   name: 'hello',\n *   children: [],\n *   key: '1',\n *   title: 'hello',\n * }\n */\nvar getRCTreeDatum = function (treeRecord, titleField, new_node_title) {\n    if (titleField === void 0) { titleField = 'title'; }\n    if (new_node_title === void 0) { new_node_title = 'new node'; }\n    return (__assign(__assign({}, treeRecord), { key: String(treeRecord.id), title: treeRecord.id === UNSAVED_NEW_NODE\n            ? new_node_title\n            : treeRecord[titleField] }));\n};\nexport default getRCTreeDatum;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * Turn a flat array of TreeRecords into a tree structure,\n * where each tree has an array of TreeRecords as children.\n *\n * @example\n *\n * getRecordTree([\n *   { id: 1, title: 'foo1', children: [3, 4] },\n *   { id: 2, title: 'foo2', children: [] },\n *   { id: 3, title: 'foo3', children: [5] },\n *   { id: 4, title: 'foo4', children: [] },\n *   { id: 5, title: 'foo5', children: [] },\n * ]);\n * => [\n *   { id: 1, title: 'foo1', children: [\n *     { id: 3, title: 'foo3', children: [\n *       { id: 5, title: 'foo5', children: [] },\n *     ] },\n *     { id: 4, title: 'foo4', children: [] },\n *   ] },\n *   { id: 2, title: 'foo2', children: [] },\n * ]\n */\nvar getRecordTree = function (treeRecords) {\n    var treeRecordsById = treeRecords.reduce(function (acc, curr) {\n        acc[curr.id] = curr;\n        return acc;\n    }, {});\n    var childRecordIds = Array.from(new Set(treeRecords.flatMap(function (treeRecord) { return treeRecord.children; })));\n    var rootRecords = treeRecords.filter(function (_a) {\n        var id = _a.id;\n        return !childRecordIds.includes(id);\n    });\n    var addChildren = function (record, recordId) { return (__assign(__assign({ \n        // Those two lines ensure we have the minimum props needed for rc-tree\n        // even though we may not have loaded the records yet (lazy mode)\n        id: recordId, key: recordId.toString() }, record), { children: ((record === null || record === void 0 ? void 0 : record.children) || []).map(function (id) {\n            return addChildren(treeRecordsById[id], id);\n        }) })); };\n    return rootRecords.map(function (record) { return addChildren(record, record.id); });\n};\nexport default getRecordTree;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useGetResourceLabel, useNotify, useVersion, useTranslate, useResourceContext, } from 'react-admin';\nimport { useGetRootNodes, useGetTree, useGetTreeCallback, useMoveAsNthChildOf, useMoveAsNthSiblingOf, } from '../dataProvider';\nimport { getRCTree } from '../util';\nimport { changeExpandedNodes } from '../actions';\nexport var useTreeController = function (options) {\n    var version = useVersion();\n    var translate = useTranslate();\n    var resource = useResourceContext(options);\n    var getResourceLabel = useGetResourceLabel();\n    var hideRootNodes = options.hideRootNodes, _a = options.lazy, lazy = _a === void 0 ? false : _a, _b = options.titleField, titleField = _b === void 0 ? 'title' : _b;\n    // load entire tree on mount\n    var treeState = useGetTree(resource, {\n        enabled: !lazy,\n        version: version,\n    });\n    // load only the root nodes on mount if lazy\n    var rootNodesState = useGetRootNodes(resource, {\n        enabled: lazy,\n        version: version,\n    });\n    var _c = lazy ? rootNodesState : treeState, data = _c.data, error = _c.error, loaded = _c.loaded, loading = _c.loading;\n    // prepare data structure for rc-tree\n    // add key and title, and turn to recursive DataNode[] format\n    var tree = data\n        ? getRCTree(data, titleField, translate('ra-tree.new_node'), hideRootNodes)\n        : null;\n    // handle expanded persistence\n    var dispatch = useDispatch();\n    var expandedKeys = useSelector(function (state) {\n        return state.tree[resource] ? state.tree[resource].expanded : [];\n    });\n    // prepare hooks for drag and drop\n    var moveAsNthChildOf = useMoveAsNthChildOf(resource)[0];\n    var moveAsNthSiblingOf = useMoveAsNthSiblingOf(resource)[0];\n    var refreshTree = useGetTreeCallback(resource);\n    var notify = useNotify();\n    /**\n     * Call dataProvider.moveXXX() method on drop.\n     *\n     * Heavily inspired by https://github.com/react-component/tree/blob/master/examples/draggable.jsx\n     *\n     * @see https://github.com/react-component/tree/blob/master/examples/draggable.jsx\n     */\n    var handleDrop = function (info) {\n        var dropKey = info.node.props.eventKey;\n        var dragKey = info.dragNode.props.eventKey;\n        var dropPos = info.node.props.pos.split('-');\n        var dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n        var dataById = data.reduce(function (acc, curr) {\n            acc[curr.id] = curr;\n            return acc;\n        }, {});\n        var dragObject = dataById[dragKey];\n        var targetObject = dataById[dropKey];\n        // refresh tree on success\n        var successSideEffect = function () { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, refreshTree()];\n                    case 1:\n                        _a.sent();\n                        notify('ra-tree.item_moved');\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        if (!info.dropToGap) {\n            // Drop on a node\n            // move dragObject to last child of targetObject\n            moveAsNthChildOf({\n                payload: {\n                    source: dragObject,\n                    destination: targetObject,\n                    position: targetObject.children.length + 1,\n                },\n            }, { onSuccess: successSideEffect });\n        }\n        else if ((info.node.children || []).length > 0 && // Has children\n            info.node.props.expanded && // Is expanded\n            dropPosition === 1 // On the bottom gap\n        ) {\n            // drop on the top gap\n            // move dragObject to first child of targetObject\n            moveAsNthChildOf({\n                payload: {\n                    source: dragObject,\n                    destination: targetObject,\n                    position: 0,\n                },\n            }, { onSuccess: successSideEffect });\n        }\n        else {\n            // drop between nodes\n            // look for the target position\n            var targetPosition_1;\n            var loop_1 = function (nodes, key, callback) {\n                nodes.forEach(function (item, index) {\n                    if (item.key === key) {\n                        callback(index);\n                        return;\n                    }\n                    if (item.children) {\n                        loop_1(item.children, key, callback);\n                    }\n                });\n            };\n            loop_1(tree, dropKey, function (index) {\n                targetPosition_1 = index;\n            });\n            // move dragObject to sibling targetPosition of targetObject\n            moveAsNthSiblingOf({\n                payload: {\n                    source: dragObject,\n                    destination: targetObject,\n                    position: dropPosition === -1 &&\n                        !targetObject.children.includes(dragObject.id)\n                        ? targetPosition_1\n                        : targetPosition_1 + 1,\n                },\n            }, { onSuccess: successSideEffect });\n        }\n    };\n    var handleExpand = function (expandedKeys) {\n        // persist expanded state in Redux to show the tree in previous state when reopening\n        dispatch(changeExpandedNodes(resource, expandedKeys));\n    };\n    var defaultTitle = translate('ra.page.list', {\n        name: getResourceLabel(resource, 2),\n    });\n    return {\n        data: data,\n        defaultTitle: defaultTitle,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        tree: tree,\n        expandedKeys: expandedKeys,\n        handleDrop: handleDrop,\n        handleExpand: handleExpand,\n    };\n};\n","import getRCTreeDatum from './getRCTreeDatum';\nimport getRecordTree from './getRecordTree';\nexport var getRCTree = function (data, titleField, newNodeTitle, hideRootNodes) {\n    if (newNodeTitle === void 0) { newNodeTitle = 'new node'; }\n    if (hideRootNodes === void 0) { hideRootNodes = false; }\n    var rcData = data.map(function (treeRecord) {\n        return getRCTreeDatum(treeRecord, titleField, newNodeTitle);\n    });\n    var recordTree = getRecordTree(rcData);\n    return hideRootNodes\n        ? recordTree.flatMap(function (rootNode) { return rootNode.children; })\n        : recordTree;\n};\n","import { useMutation } from 'react-admin';\n/**\n * Get a callback to call the dataProvider.deleteBranch() method, the result\n * of the call (the deleted records), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param record The record to delete\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDeleteBranch } from '@react-admin/ra-tree';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteBranch, { loading, error }] = useDeleteBranch('categories', record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteBranch}>Delete</div>;\n * };\n */\nvar useDeleteBranch = function (resource, record, options) {\n    return useMutation({ type: 'deleteBranch', resource: resource, payload: { data: record } }, options);\n};\nexport default useDeleteBranch;\n","import { useState, useCallback, } from 'react';\nimport { useNotify, useRedirect, useRefresh, } from 'react-admin';\nimport { useDeleteBranch } from '../dataProvider';\nimport { CRUD_DELETE_BRANCH } from '../actions';\n/**\n * Prepare a set of callbacks for a delete branch button guarded by confirmation dialog\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@material-ui/icons/Delete';\n * import { Button, useDeleteBranchWithConfirmController } from '@react-admin/ra-tree';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         loading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         basePath,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={loading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nvar useDeleteBranchWithConfirmController = function (_a) {\n    var basePath = _a.basePath, onClick = _a.onClick, record = _a.record, redirectTo = _a.redirect, resource = _a.resource;\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _c = useDeleteBranch(resource, null, {\n        action: CRUD_DELETE_BRANCH,\n        onSuccess: function () {\n            setOpen(false);\n            notify('ra.notification.deleted', 'info', { smart_count: 1 });\n            redirect(redirectTo, basePath);\n            refresh();\n        },\n        onFailure: function (error) {\n            setOpen(false);\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n        },\n        undoable: false,\n    }), deleteBranch = _c[0], loading = _c[1].loading;\n    var handleDialogOpen = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function (e) {\n        setOpen(false);\n        e.stopPropagation();\n    };\n    var handleDelete = useCallback(function (event) {\n        deleteBranch({\n            payload: { id: record.id, data: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteBranch, onClick, record]);\n    return { open: open, loading: loading, handleDialogOpen: handleDialogOpen, handleDialogClose: handleDialogClose, handleDelete: handleDelete };\n};\nexport default useDeleteBranchWithConfirmController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { MenuItem } from '@material-ui/core';\nimport inflection from 'inflection';\nimport { useTranslate, Confirm, } from 'react-admin';\nimport { useDeleteBranchWithConfirmController } from './controllers';\nvar DeleteMenuItemWithConfirmation = forwardRef(function (_a, ref) {\n    var basePath = _a.basePath, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    classesOverride = _a.classes, className = _a.className, _b = _a.confirmTitle, confirmTitle = _b === void 0 ? 'ra.message.delete_title' : _b, _c = _a.confirmContent, confirmContent = _c === void 0 ? 'ra.message.delete_content' : _c, _d = _a.label, label = _d === void 0 ? 'ra.action.delete' : _d, record = _a.record, resource = _a.resource, _e = _a.redirect, redirectTo = _e === void 0 ? 'list' : _e, props = __rest(_a, [\"basePath\", \"classes\", \"className\", \"confirmTitle\", \"confirmContent\", \"label\", \"record\", \"resource\", \"redirect\"]);\n    var _f = useDeleteBranchWithConfirmController({\n        record: record,\n        resource: resource,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), open = _f.open, loading = _f.loading, handleDialogOpen = _f.handleDialogOpen, handleDialogClose = _f.handleDialogClose, handleDelete = _f.handleDelete;\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(MenuItem, __assign({ className: className, onClick: handleDialogOpen, ref: ref }, props), translate(label, { _: label })),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                    smart_count: 1,\n                    _: inflection.singularize(resource),\n                }), true),\n                id: record.id,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n});\nDeleteMenuItemWithConfirmation.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n};\nexport default DeleteMenuItemWithConfirmation;\n","import { useCallback } from 'react';\nimport { useRefresh, useNotify, useRedirect, } from 'react-admin';\nimport { useDeleteBranch } from '../dataProvider';\nimport { CRUD_DELETE_BRANCH } from '../actions';\n/**\n * Prepare callback for a delete branch button with undo support\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@material-ui/icons/Delete';\n * import { Button, useDeleteBranchWithUndoController } from '@react-admin/ra-tree';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { loading, handleDelete } = useDeleteBranchWithUndoController({\n *         resource,\n *         record,\n *         basePath,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={loading}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nvar useDeleteBranchWithUndoController = function (_a) {\n    var basePath = _a.basePath, onClick = _a.onClick, record = _a.record, _b = _a.redirect, redirectTo = _b === void 0 ? 'list' : _b, resource = _a.resource;\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _c = useDeleteBranch(resource, null, {\n        action: CRUD_DELETE_BRANCH,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: 1 }, true);\n            redirect(redirectTo, basePath);\n            refresh();\n        },\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n        },\n        undoable: true,\n    }), deleteBranch = _c[0], loading = _c[1].loading;\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteBranch({\n            payload: { id: record.id, data: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteBranch, onClick, record]);\n    return { loading: loading, handleDelete: handleDelete };\n};\nexport default useDeleteBranchWithUndoController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { MenuItem } from '@material-ui/core';\nimport { useTranslate, } from 'react-admin';\nimport { useDeleteBranchWithUndoController } from './controllers';\nvar DeleteMenuItemWithUndo = forwardRef(function (_a, ref) {\n    var basePath = _a.basePath, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    classesOverride = _a.classes, className = _a.className, _b = _a.label, label = _b === void 0 ? 'ra.action.delete' : _b, record = _a.record, resource = _a.resource, _c = _a.redirect, redirectTo = _c === void 0 ? 'list' : _c, props = __rest(_a, [\"basePath\", \"classes\", \"className\", \"label\", \"record\", \"resource\", \"redirect\"]);\n    var _d = useDeleteBranchWithUndoController({\n        record: record,\n        resource: resource,\n        redirect: redirectTo,\n        basePath: basePath,\n    }), loading = _d.loading, handleDelete = _d.handleDelete;\n    var translate = useTranslate();\n    return (React.createElement(MenuItem, __assign({ className: className, disabled: loading, onClick: handleDelete, ref: ref }, props), translate(label, { _: label })));\n});\nDeleteMenuItemWithUndo.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n};\nexport default DeleteMenuItemWithUndo;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport DeleteMenuItemWithConfirmation from './DeleteMenuItemWithConfirmation';\nimport DeleteMenuItemWithUndo from './DeleteMenuItemWithUndo';\n/**\n * MenuItem used to delete a branch. Added by default by the <NodeActions> of the TreeWithDetails component.\n *\n * @typedef {Object} Props The props you can use (other props are injected if you used it in the <NodeActions>)\n * @param {Prop} props\n * @prop {boolean} undoable Confirm the deletion using an undo button in a notification or a confirmation dialog. Defaults to 'false'.\n * @prop {string} className\n * @prop {string} label MenuItem label. Defaults to 'ra.action.delete, translated.\n *\n * @example\n * import { NodeActions, DeleteMenuItem, TreeWithDetails } from '@react-admin/ra-tree';\n *\n * const MyCustomActionMenuItem = ({ record, resource, parentId }) => {\n *     const handleClick = () => {\n *         // Do something with dataProvider ?\n *     }\n *     return (\n *         <MenuItem onClick={handleClick}>\n *             Do something\n *         </MenuItem>\n *     );\n * };\n *\n * const MyActions = (props) => (\n *     <NodeActions {...props}>\n *         <MyCustomActionMenuItem />\n *         <DeleteMenuItem />\n *     </NodeActions>\n * );\n *\n * const CategoriesList: FC<Props> = props => (\n *     <TreeWithDetails\n *         titleField=\"name\"\n *         edit={CategoriesEdit}\n *         draggable\n *         showLine\n *         nodeActions={<MyActions />}\n *         {...props}\n *     />\n * );\n */\nvar DeleteMenuItem = forwardRef(function (_a, ref) {\n    var _b = _a.undoable, undoable = _b === void 0 ? true : _b, rest = __rest(_a, [\"undoable\"]);\n    return undoable ? (React.createElement(DeleteMenuItemWithUndo, __assign({}, rest, { ref: ref }))) : (React.createElement(DeleteMenuItemWithConfirmation, __assign({}, rest, { ref: ref })));\n});\nDeleteMenuItem.displayName = 'DeleteMenuItem';\nexport default DeleteMenuItem;\n","export enum HardwareVersions {\n  MODULO5 = 'MODULO5',\n  SPOM4 = 'SPOM4',\n  OLDER = 'OLDER',\n}\n","import * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState, } from 'react';\nimport { makeStyles, Menu } from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useSelector } from 'react-redux';\nimport classnames from 'classnames';\nimport DeleteMenuItem from './DeleteMenuItem';\n/**\n * Provides a dropdown menu for each node.\n * It accepts children which must return a MaterialUI MenuItem component\n *\n * @example\n * import { NodeActions, DeleteMenuItem, TreeWithDetails } from '@react-admin/ra-tree';\n *\n * const MyCustomActionMenuItem = ({ record, resource, parentId }) => {\n *     const handleClick = () => {\n *         // Do something with dataProvider ?\n *     }\n *     return (\n *         <MenuItem onClick={handleClick}>\n *             Do something\n *         </MenuItem>\n *     );\n * };\n *\n * const MyActions = (props) => (\n *     <NodeActions {...props}>\n *         <MyCustomActionMenuItem />\n *         <DeleteMenuItem />\n *     </NodeActions>\n * );\n *\n * const CategoriesList: FC<Props> = props => (\n *     <TreeWithDetails\n *         titleField=\"name\"\n *         edit={CategoriesEdit}\n *         draggable\n *         showLine\n *         nodeActions={<MyActions />}\n *         {...props}\n *     />\n * );\n */\nvar NodeActions = function (_a) {\n    var basePath = _a.basePath, _b = _a.children, children = _b === void 0 ? React.createElement(DeleteMenuItem, null) : _b, className = _a.className, data = _a.data, resource = _a.resource;\n    var _c = useState(null), anchorEl = _c[0], setAnchorEl = _c[1];\n    var classes = useStyles();\n    var record = useSelector(\n    // @ts-ignore Ignore because we actually merge DataNode with our record\n    function (state) { var _a; return (_a = state.admin.resources[resource]) === null || _a === void 0 ? void 0 : _a.data[data.id]; });\n    var handleClick = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () { return setAnchorEl(null); };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"button\", { className: classnames(classes.menuButton, className), onClick: handleClick },\n            React.createElement(MoreVertIcon, null)),\n        React.createElement(Menu, { anchorEl: anchorEl, open: !!anchorEl, onClose: handleClose }, Children.map(children, function (child) {\n            return isValidElement(child)\n                ? cloneElement(child, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                })\n                : null;\n        }))));\n};\nexport default NodeActions;\nvar useStyles = makeStyles({\n    menuButton: {},\n});\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FETCH_END, GET_MANY, useDataProvider, } from 'react-admin';\nimport { CRUD_GET_CHILD_NODES, POPULATE_RECORDS_FROM_NODES } from '../actions';\nvar useGetChildNodesCallback = function (resource) {\n    var dispatch = useDispatch();\n    var dataProvider = useDataProvider();\n    return useCallback(function (parentId, options) {\n        if (options === void 0) { options = {}; }\n        return dataProvider\n            .getChildNodes(resource, { parentId: parentId }, {\n            action: CRUD_GET_CHILD_NODES,\n        })\n            .then(function (res) {\n            dispatch({\n                type: POPULATE_RECORDS_FROM_NODES,\n                payload: { data: res.data },\n                meta: {\n                    resource: resource,\n                    fetchResponse: GET_MANY,\n                    fetchStatus: FETCH_END,\n                },\n            });\n            options.onSuccess && options.onSuccess(res);\n        });\n    }, [resource, dataProvider, dispatch]);\n};\nexport default useGetChildNodesCallback;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport { linkToRecord, WithPermissions, CreateButton, ComponentPropType, Title, } from 'react-admin';\nimport { useHistory, useLocation, Switch, Route } from 'react-router-dom';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Tree } from './Tree';\nimport { useTreeController } from './controllers';\nimport { UNSAVED_NEW_NODE } from './constants';\nimport DefaultNodeActions from './NodeActions';\nimport { useGetChildNodesCallback } from './dataProvider';\n/**\n * Main Tree component, to be used instead of List in a Resource.\n *\n * You MUST include the tree reducer in the Admin for this component to work. Also,\n * the dataProvider must support tree methods, e.g. getTree, moveAsNthSiblingOf, etc.\n *\n * @example\n *\n * import React, { ComponentProps, FC } from 'react';\n * import { Admin, Resource, List, ListGuesser } from 'react-admin';\n * import { reducer as tree, TreeWithDetails } from '@react-admin/ra-tree';\n *\n * // tree-augmented dataProvider\n * import dataProvider from './dataProvider';\n * import i18nProvider from './i18nProvider';\n *\n * const CategoriesEdit: FC = props => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"name\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const CategoriesList: FC<Props> = props => (\n *     <TreeWithDetails\n *         titleField=\"name\"\n *         edit={CategoriesEdit}\n *         draggable\n *         showLine\n *         {...props}\n *     />\n * );\n *\n * type Props = ComponentProps<typeof List>;\n *\n * export const App: FC = () => (\n *     <Admin\n *         dataProvider={dataProvider}\n *         i18nProvider={i18nProvider}\n *         customReducers={{ tree }}\n *     >\n *         <Resource name=\"categories\" list={CategoriesList} />\n *         <Resource name=\"products\" list={ListGuesser} />\n *     </Admin>\n * );\n */\nexport var TreeWithDetails = function (_a) {\n    var _b = _a.allowMultipleRoots, allowMultipleRoots = _b === void 0 ? false : _b, basePath = _a.basePath, create = _a.create, edit = _a.edit, hideRootNodes = _a.hideRootNodes, _c = _a.lazy, lazy = _c === void 0 ? false : _c, _d = _a.linkTo, linkTo = _d === void 0 ? 'edit' : _d, _e = _a.nodeActions, nodeActions = _e === void 0 ? React.createElement(DefaultNodeActions, null) : _e, resource = _a.resource, show = _a.show, showLine = _a.showLine, title = _a.title, _f = _a.titleField, titleField = _f === void 0 ? 'title' : _f, props = __rest(_a, [\"allowMultipleRoots\", \"basePath\", \"create\", \"edit\", \"hideRootNodes\", \"lazy\", \"linkTo\", \"nodeActions\", \"resource\", \"show\", \"showLine\", \"title\", \"titleField\"]);\n    var classes = useStyles(props);\n    var history = useHistory();\n    var location = useLocation();\n    // find id in location to set it as selected\n    // location can be /posts, /posts/123, or /posts/123/show, or /posts/create\n    var pattern = new RegExp(basePath + \"/([^/]*)/*.*\");\n    var matches = pattern.exec(location.pathname);\n    var idInLocation = matches && matches[1];\n    var defaultSelectedKeys = useMemo(function () {\n        return idInLocation && idInLocation !== 'create'\n            ? [idInLocation]\n            : [UNSAVED_NEW_NODE];\n    }, [idInLocation]);\n    var _g = useTreeController({\n        hideRootNodes: hideRootNodes,\n        lazy: lazy,\n        resource: resource,\n        titleField: titleField,\n    }), defaultTitle = _g.defaultTitle, tree = _g.tree, loaded = _g.loaded, expandedKeys = _g.expandedKeys, handleDrop = _g.handleDrop, handleExpand = _g.handleExpand;\n    var getChildNodes = useGetChildNodesCallback(resource);\n    var handleClick = function (event, treeNode) {\n        history.push(linkToRecord(basePath, treeNode.id, linkTo));\n    };\n    var handleLoadData = function (node) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, getChildNodes(node.id)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    if (!loaded) {\n        return null;\n    }\n    var canCreateNode = !tree || tree.length === 0 || allowMultipleRoots;\n    return (React.createElement(\"div\", { className: classes.container },\n        React.createElement(\"div\", { className: classes.cardTree },\n            React.createElement(Card, null,\n                React.createElement(CardContent, { className: classes.cardContentTree },\n                    React.createElement(Tree, __assign({ treeData: tree, onDrop: handleDrop, onExpand: handleExpand, onClick: handleClick, expandedKeys: expandedKeys, selectedKeys: defaultSelectedKeys, showLine: showLine, nodeActions: cloneElement(nodeActions, __assign({ basePath: basePath, resource: resource }, nodeActions.props)), loadData: lazy ? handleLoadData : undefined }, sanitizeRestProps(props))),\n                    canCreateNode && (React.createElement(CreateButton, { label: \"ra-tree.action.add_root\", basePath: basePath }))))),\n        React.createElement(\"div\", { className: classes.actionCard },\n            React.createElement(Switch, null,\n                create && (React.createElement(Route, { path: basePath + \"/create\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: create, basePath: basePath, resource: resource }, routeProps, props))); } })),\n                show && (React.createElement(Route, { path: basePath + \"/:id/show\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: show, basePath: basePath, resource: resource, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, props))); } })),\n                edit && (React.createElement(Route, { path: basePath + \"/:id\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: edit, basePath: basePath, resource: resource, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, props))); } })),\n                React.createElement(Route, { path: basePath, render: function () {\n                        return title !== false ? (React.createElement(Title, { title: title, defaultTitle: defaultTitle })) : null;\n                    } })))));\n};\nvar sanitizeRestProps = function (_a) {\n    var permission = _a.permission, basePath = _a.basePath, history = _a.history, location = _a.location, match = _a.match, options = _a.options, hasList = _a.hasList, hasEdit = _a.hasEdit, hasShow = _a.hasShow, hasCreate = _a.hasCreate, syncWithLocation = _a.syncWithLocation, rest = __rest(_a, [\"permission\", \"basePath\", \"history\", \"location\", \"match\", \"options\", \"hasList\", \"hasEdit\", \"hasShow\", \"hasCreate\", \"syncWithLocation\"]);\n    return rest;\n};\nTreeWithDetails.propTypes = {\n    basePath: PropTypes.string.isRequired,\n    edit: ComponentPropType,\n    create: ComponentPropType,\n    resource: PropTypes.string.isRequired,\n};\nexport default TreeWithDetails;\nvar useStyles = makeStyles({\n    actionCard: {\n        width: '100%',\n    },\n    cardTree: {\n        minWidth: '300px',\n        marginTop: '1em',\n        marginRight: '1em',\n    },\n    cardContentTree: {},\n    container: {\n        display: 'flex',\n    },\n});\n","import { useMutation } from 'react-admin';\nimport { CRUD_ADD_ROOT_NODE } from '../actions';\nimport { ADD_ROOT_NODE } from '../fetchTypes';\n/**\n * Get a callback to call the dataProvider.addRootNode() method\n *\n * @param {string} resource the resource name, e.g. 'posts'\n *\n * @example // usage\n *\n * import { useNotify } from 'react-admin';\n * import { useAddRootNode } from '@react-admin/ra-tree';\n *\n * const MyComponent = () => {\n *     const [addRootNode, { loading, data, error }] = useAddRootNode(resource);\n *     const notify = useNotify();\n *     const handleClick = () => {\n *         addRootNode(\n *             { payload: { data: { name: 'new node' } } },\n *             { onSuccess: () => notify('Success') }\n *         );\n *     };\n *\n *     return (\n *         <button onClick={handleClick}>\n *             Add Root Node\n *         </button>\n *     );\n * }\n */\nvar useAddRootNode = function (resource) {\n    return useMutation({\n        type: ADD_ROOT_NODE,\n        resource: resource,\n        payload: {},\n    }, { action: CRUD_ADD_ROOT_NODE });\n};\nexport default useAddRootNode;\n","import { useMutation } from 'react-admin';\nimport { CRUD_ADD_CHILD_NODE } from '../actions';\nimport { ADD_CHILD_NODE } from '../fetchTypes';\n/**\n * Get a callback to call the dataProvider.addChildNode() method\n *\n * @param {string} resource the resource name, e.g. 'posts'\n *\n * @example // usage\n *\n * import { useNotify } from 'react-admin';\n * import { useAddChildNode } from '@react-admin/ra-tree';\n *\n * const MyComponent = () => {\n *     const [addChildNode, { loading, data, error }] = useAddChildNode(resource);\n *     const notify = useNotify();\n *     const handleClick = () => {\n *         addChildNode(\n *             { payload: { parentId: 123, data: { name: 'new node' } } },\n *             { onSuccess: () => notify('Success') }\n *         );\n *     };\n *\n *     return (\n *         <button onClick={handleClick}>\n *             Add Child Node For Node 123\n *         </button>\n *     );\n * }\n */\nvar useAddChildNode = function (resource) {\n    return useMutation({\n        type: ADD_CHILD_NODE,\n        resource: resource,\n        payload: {},\n    }, { action: CRUD_ADD_CHILD_NODE });\n};\nexport default useAddChildNode;\n","import { useEffect, useCallback } from 'react';\n// @ts-ignore\nimport inflection from 'inflection';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { useCheckMinimumRequiredProps, useNotify, useRedirect, useSaveModifiers, useTranslate, useVersion, CREATE, FETCH_END, } from 'react-admin';\nimport { useAddRootNode, useAddChildNode } from '../dataProvider';\nimport { CRUD_ADD_ROOT_NODE, CRUD_ADD_CHILD_NODE, CREATE_RECORD_FROM_NODE, ADD_UNSAVED_ROOT_NODE, REMOVE_UNSAVED_ROOT_NODE, ADD_UNSAVED_CHILD_NODE, REMOVE_UNSAVED_CHILD_NODE, } from '../actions';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { CreateView } from 'react-admin';\n * import { useCreateNodeController } from '@react-admin/ra-tree';\n *\n * const MyCreateNode = props => {\n *     const controllerProps = useCreateNodeController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nvar useCreateNodeController = function (props) {\n    useCheckMinimumRequiredProps('Create', ['basePath', 'resource'], props);\n    var basePath = props.basePath, resource = props.resource, _a = props.record, record = _a === void 0 ? {} : _a, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform;\n    var location = useLocation();\n    var parentId = location.state && location.state.parentId;\n    var isChild = typeof parentId !== 'undefined';\n    var recordToUse = (location.state && location.state.record) || record;\n    var _b = useAddRootNode(resource), createRoot = _b[0], savingRoot = _b[1].loading;\n    var _c = useAddChildNode(resource), createChild = _c[0], savingChild = _c[1].loading;\n    var create = isChild ? createChild : createRoot;\n    var saving = isChild ? savingChild : savingRoot;\n    var action = isChild ? CRUD_ADD_CHILD_NODE : CRUD_ADD_ROOT_NODE;\n    var dispatch = useDispatch();\n    // show a local new node in the tree on mount, remove it on unmount\n    useEffect(function () {\n        if (isChild) {\n            dispatch({\n                type: ADD_UNSAVED_CHILD_NODE,\n                payload: { parentId: parentId },\n                meta: { resource: resource },\n            });\n            return function () {\n                dispatch({\n                    type: REMOVE_UNSAVED_CHILD_NODE,\n                    payload: { parentId: parentId },\n                    meta: { resource: resource },\n                });\n            };\n        }\n        else {\n            dispatch({ type: ADD_UNSAVED_ROOT_NODE, meta: { resource: resource } });\n            return function () {\n                dispatch({\n                    type: REMOVE_UNSAVED_ROOT_NODE,\n                    meta: { resource: resource },\n                });\n            };\n        }\n    }, [parentId, isChild, resource, dispatch]);\n    var _d = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _d.onSuccessRef, setOnSuccess = _d.setOnSuccess, onFailureRef = _d.onFailureRef, setOnFailure = _d.setOnFailure, transformRef = _d.transformRef, setTransform = _d.setTransform;\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = 'edit'; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            var payload = isChild ? { data: data, parentId: parentId } : { data: data };\n            return create({ payload: payload }, {\n                action: action,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function (_a) {\n                            var newNode = _a.data;\n                            dispatch({\n                                type: CREATE_RECORD_FROM_NODE,\n                                payload: { data: newNode, parentId: parentId },\n                                meta: {\n                                    resource: resource,\n                                    fetchResponse: CREATE,\n                                    fetchStatus: FETCH_END,\n                                },\n                            });\n                            notify('ra.notification.created', 'info', {\n                                smart_count: 1,\n                            });\n                            redirect(redirectTo, basePath, newNode.id, newNode);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning');\n                        },\n            });\n        });\n    }, [\n        dispatch,\n        create,\n        transformRef,\n        onSuccessRef,\n        onFailureRef,\n        notify,\n        redirect,\n        basePath,\n        parentId,\n        isChild,\n        action,\n        resource,\n    ]);\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.create', {\n        name: \"\" + resourceName,\n    });\n    var version = useVersion();\n    return {\n        loading: false,\n        loaded: true,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        resource: resource,\n        basePath: basePath,\n        record: recordToUse,\n        redirect: 'edit',\n        version: version,\n    };\n};\nexport default useCreateNodeController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CreateView, CreateContextProvider } from 'react-admin';\nimport { useCreateNodeController } from './controllers';\n/**\n * Alternative to <Create> for tree nodes.\n *\n * Upon creation, calls the dataProvider.addRootNode() or dataProvider.addChildNode()\n * (depending on the presence of a parentId in the location state) instead of\n * dataProvider.create().\n */\nvar CreateNode = function (props) {\n    var controllerProps = useCreateNodeController(props);\n    return (React.createElement(CreateContextProvider, { value: controllerProps },\n        React.createElement(CreateView, __assign({}, props, controllerProps))));\n};\nexport default CreateNode;\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  CreateProps,\n  ListButton,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { CreateNode } from '../../lib/@react-admin/ra-tree/esm/src'\n\nconst validateDeviceCategoryCreate = (values: DeviceCategoryDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.device-categories.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\ninterface CreateNodeProps extends CreateProps {\n  syncWithLocation?: boolean\n}\n\nexport const DeviceCategoryCreate = ({\n  //TreeWithDetails' props include syncWithLocation variable, which generates error when we pass it over to EditNode\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  syncWithLocation,\n  ...props\n}: CreateNodeProps) => (\n  <CreateNode {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateDeviceCategoryCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </CreateNode>\n)\n","import * as React from 'react';\nimport { TopToolbar, Button } from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport ContentAdd from '@material-ui/icons/Add';\nvar NodeEditActions = function (_a) {\n    var basePath = _a.basePath, data = _a.data;\n    return (React.createElement(TopToolbar, null,\n        React.createElement(Button, { component: Link, to: {\n                pathname: basePath + \"/create\",\n                state: { parentId: data === null || data === void 0 ? void 0 : data.id },\n            }, label: \"ra-tree.action.add_child\" },\n            React.createElement(ContentAdd, null))));\n};\nexport default NodeEditActions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useEditController, EditView, EditContextProvider, } from 'react-admin';\nimport { expandNode } from './actions';\nimport NodeEditActions from './NodeEditActions';\n/**\n * Alternative to <Edit> for tree nodes.\n *\n * Adds a button to add a child node in view actions.\n */\nvar EditNode = function (props) {\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(expandNode(props.resource, props.id));\n    }, [dispatch, props.resource, props.id]);\n    var controllerProps = useEditController(props);\n    return (React.createElement(EditContextProvider, { value: controllerProps },\n        React.createElement(EditView, __assign({ actions: defaultActions }, props, controllerProps))));\n};\nvar defaultActions = React.createElement(NodeEditActions, null);\nexport default EditNode;\n","import React from 'react'\nimport {\n  EditProps,\n  SaveButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { EditNode } from '../../lib/@react-admin/ra-tree/esm/src'\n\nconst validateDeviceCategoryEdit = (values: DeviceCategoryDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n  </Toolbar>\n)\n\nconst EditTitle = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record } = props\n  return (\n    <span>\n      {translate('resources.device-categories.titles.edit')}: {record?.id}.{' '}\n      {record?.name}\n    </span>\n  )\n}\n\nconst DeviceCategory = ({ ...props }) => (\n  <SimpleForm\n    {...props}\n    validate={validateDeviceCategoryEdit}\n    redirect=\"show\"\n    toolbar={<EditToolbar />}\n  >\n    <TextField source=\"id\" label=\"ID\" />\n    <TextInput source=\"name\" isRequired />\n  </SimpleForm>\n)\n\ninterface EditNodeProps extends EditProps {\n  syncWithLocation?: boolean\n}\n\nexport const DeviceCategoryEdit = ({\n  //TreeWithDetails' props include syncWithLocation variable, which generates error when we pass it over to EditNode\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  syncWithLocation,\n  ...props\n}: EditNodeProps) => (\n  <EditNode {...props} title={<EditTitle />} actions={false}>\n    <DeviceCategory />\n  </EditNode>\n)\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useShowController, ShowView } from 'react-admin';\nimport { expandNode } from './actions';\n/**\n * Alternative to <Show> for tree nodes.\n *\n * Adds a button to add a child node in view actions.\n */\nvar ShowNode = function (props) {\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(expandNode(props.resource, props.id));\n    }, [dispatch, props.resource, props.id]);\n    return React.createElement(ShowView, __assign({}, props, useShowController(props)));\n};\nexport default ShowNode;\n","import { Box, Divider, makeStyles } from '@material-ui/core'\nimport React from 'react'\nimport {\n  CreateButton,\n  EditButton,\n  ShowProps,\n  SimpleShowLayout,\n  TextField,\n  TitleProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { DeviceCategoryDto } from '../../core/dto/device-category/device-category.dto'\nimport { ShowNode } from '../../lib/@react-admin/ra-tree/esm/src'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst useStyles = makeStyles({\n  button: {\n    margin: '2px',\n  },\n})\n\ninterface DeviceCategoryTitleProps extends TitleProps {\n  record?: DeviceCategoryDto\n}\n\nconst ShowTitle = (data: DeviceCategoryTitleProps) => {\n  const { record: deviceCategory } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.device-categories.titles.show')}:{' '}\n      {deviceCategory?.id}. {deviceCategory?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = ({ ...props }) => {\n  const { basePath, record: category } = props\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        {hasAuthority(Authority.CREATE_DEVICE_CATEGORIES) && (\n          <CreateButton\n            {...props}\n            basePath={basePath}\n            className={classes.button}\n            label=\"ra-tree.action.add_child\"\n            to={{\n              pathname: `${basePath}/create`,\n              state: { parentId: category?.id },\n            }}\n            variant=\"contained\"\n          />\n        )}\n        {hasAuthority(Authority.EDIT_DEVICE_CATEGORIES) && (\n          <EditButton\n            {...props}\n            basePath={basePath}\n            className={classes.button}\n            variant=\"contained\"\n          />\n        )}\n      </Box>\n    </>\n  )\n}\n\nconst DeviceCategroy = ({ ...props }) => (\n  <SimpleShowLayout {...props}>\n    <TextField label=\"ID\" source=\"id\" />\n    <TextField source=\"name\" />\n    <GeneralActions />\n  </SimpleShowLayout>\n)\n\ninterface ShowNodeProps extends ShowProps {\n  syncWithLocation?: boolean\n}\n\nexport const DeviceCategoryShow = ({\n  //TreeWithDetails' props include syncWithLocation variable, which generates error when we pass it over to EditNode\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  syncWithLocation,\n  ...props\n}: ShowNodeProps) => (\n  <ShowNode {...props} actions={false} title={<ShowTitle />}>\n    <DeviceCategroy />\n  </ShowNode>\n)\n","import React from 'react'\nimport { ListProps } from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { TreeWithDetails } from '../../lib/@react-admin/ra-tree/esm/src'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { DeviceCategoryCreate } from './DeviceCategoryCreate'\nimport { DeviceCategoryEdit } from './DeviceCategoryEdit'\nimport { DeviceCategoryShow } from './DeviceCategoryShow'\n\nexport const DeviceCategoryList = ({ ...props }: ListProps) => {\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <TreeWithDetails\n      titleField=\"name\"\n      linkTo=\"show\"\n      show={DeviceCategoryShow}\n      edit={\n        hasAuthority(Authority.EDIT_DEVICE_CATEGORIES)\n          ? DeviceCategoryEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_DEVICE_CATEGORIES)\n          ? DeviceCategoryCreate\n          : undefined\n      }\n      {...props}\n      allowMultipleRoots={hasAuthority(Authority.CREATE_DEVICE_CATEGORIES)}\n    />\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  ListButton,\n  Toolbar,\n  ToolbarProps,\n  BooleanInput,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateDetectorCreate = (values: DetectorDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.detectors.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Detector = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateDetectorCreate}\n    >\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <TextInput source=\"address\" isRequired />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        defaultValue={HardwareVersions.MODULO5}\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const DetectorCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <Detector />\n  </Create>\n)\n","export enum DeviceModuleTypes {\n  IO_GP = 4, // IOStatusDto\n  IO_KA = 8, // TurnstileDto\n  IO_GT = 12, // TurnstileDto\n  IO_GA = 16, // TurnstileDto\n  LITE = 20, // LiteDto\n  SCANNER_DS = 24, // ReaderDto\n  LED_19X7 = 44, // PresenterDto\n  LCD_7 = 48, // PresenterDto\n  IO_16 = 52, // IOStatusDto\n  LED_8X8 = 60, // PresenterDto\n  BUZZER = 64, // PresenterDto\n  LCD_TXT = 76, // PresenterDto\n  LITE_MOBILE = 84, // LiteDto\n  SENSOR = 96, // SensorDto\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  useTranslate,\n  TitleProps,\n  SimpleForm,\n  TextField,\n  TextInput,\n  SaveButton,\n  ShowButton,\n  Toolbar,\n  ToolbarProps,\n  BooleanInput,\n  DateField,\n  ReferenceInput,\n  SelectInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateDetectorEdit = (values: DetectorDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EngineTitleProps extends TitleProps {\n  record?: DetectorDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.detectors.titles.edit')}: {record?.id}.{' '}\n      {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Detector = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateDetectorEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <TextInput source=\"address\" isRequired />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_CAMERAS) && (\n        <ReferenceInput\n          source=\"cameraId\"\n          reference={ResourceName.CAMERAS}\n          sort={{ field: 'description', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"description\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const DetectorEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Detector />\n  </Edit>\n)\n","import { Identifier } from 'ra-core'\nimport { IOStatusDto } from '../../../dto/device/common/modules/io-status.dto'\nimport { LiteDto } from '../../../dto/device/common/modules/lite.dto'\nimport { ModuleBaseDto } from '../../../dto/device/common/modules/module-base.dto'\nimport { PresenterDto } from '../../../dto/device/common/modules/presenter.dto'\nimport { ReaderDto } from '../../../dto/device/common/modules/reader.dto'\nimport { SensorDto } from '../../../dto/device/common/modules/sensor.dto'\nimport { TurnstileDto } from '../../../dto/device/common/modules/turnstile.dto'\nimport { DeviceModuleTypes } from '../../../enum/device-modues/DeviceModuleTypes'\n\nconst mapping: Record<DeviceModuleTypes, (moduleObject: any) => ModuleBaseDto> =\n  {\n    '4': (moduleObject) => moduleObject as IOStatusDto,\n    '8': (moduleObject) => moduleObject as TurnstileDto,\n    '12': (moduleObject) => moduleObject as TurnstileDto,\n    '16': (moduleObject) => moduleObject as TurnstileDto,\n    '20': (moduleObject) => moduleObject as LiteDto,\n    '24': (moduleObject) => moduleObject as ReaderDto,\n    '44': (moduleObject) => moduleObject as PresenterDto,\n    '48': (moduleObject) => moduleObject as PresenterDto,\n    '52': (moduleObject) => moduleObject as IOStatusDto,\n    '60': (moduleObject) => moduleObject as PresenterDto,\n    '64': (moduleObject) => moduleObject as PresenterDto,\n    '76': (moduleObject) => moduleObject as PresenterDto,\n    '84': (moduleObject) => moduleObject as LiteDto,\n    '96': (moduleObject) => moduleObject as SensorDto,\n  }\n\nconst moduleMapper = (moduleObject: any, key: Identifier) => {\n  const moduleType = Number(moduleObject?.module?.typeId)\n  const moduleTypeEnum = Object.entries(DeviceModuleTypes).filter(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ([index, value]) => value === moduleType,\n  )?.[0]?.[1] as DeviceModuleTypes\n  if (!moduleTypeEnum) {\n    return null\n  }\n  const moduleObjectWithId = { id: key, ...moduleObject }\n  return mapping[moduleTypeEnum](moduleObjectWithId)\n}\n\nexport default moduleMapper\n","export enum Multiplicities {\n  SINGLE = 'SINGLE',\n  MULTIPLE = 'MULTIPLE',\n  CHECK_ALL = 'CHECK_ALL',\n}\n","import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Box,\n  Checkbox,\n  Divider,\n  Grid,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport camelcaseKeys from 'camelcase-keys'\nimport React, { ReactNode } from 'react'\nimport {\n  BooleanField,\n  DateField,\n  FunctionField,\n  Labeled,\n  RecordContextProvider,\n  SimpleShowLayout,\n  TextField,\n  useTranslate,\n} from 'react-admin'\nimport { DateTime } from '../../../../core/common/date-time'\nimport { getContrastColor } from '../../../../core/common/visual.utils'\nimport moduleMapper from '../../../../core/devices/common/modules/module.mapper'\nimport { IOStatusDto } from '../../../../core/dto/device/common/modules/io-status.dto'\nimport { LiteDto } from '../../../../core/dto/device/common/modules/lite.dto'\nimport { ModuleBaseDto } from '../../../../core/dto/device/common/modules/module-base.dto'\nimport { PresenterDto } from '../../../../core/dto/device/common/modules/presenter.dto'\nimport { ReaderDto } from '../../../../core/dto/device/common/modules/reader.dto'\nimport { SensorDto } from '../../../../core/dto/device/common/modules/sensor.dto'\nimport { TurnstileDto } from '../../../../core/dto/device/common/modules/turnstile.dto'\nimport { PinStates } from '../../../../core/enum/device-modues/PinStates'\n\nconst moduleHeaderBase = {\n  borderTop: 'solid',\n  borderRight: 'solid',\n  borderLeft: 'solid',\n  borderTopRightRadius: 5,\n  borderTopLeftRadius: 5,\n}\n\nconst moduleDetailsBase = {\n  borderBottom: 'solid',\n  borderRight: 'solid',\n  borderLeft: 'solid',\n  borderBottomRightRadius: 5,\n  borderBottomLeftRadius: 5,\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  simpleShowLayoutWithNoVerticalPadding: {\n    paddingBottom: 0,\n    '&:first-child': {\n      paddingTop: 0,\n    },\n    '&:last-child': {\n      paddingBottom: 0,\n      [theme.breakpoints.only('xs')]: {\n        paddingBottom: 0,\n      },\n    },\n  },\n  defaultModuleHeader: {\n    ...moduleHeaderBase,\n    backgroundColor: theme.palette.success.main,\n    borderTopColor: theme.palette.success.main,\n    borderRightColor: theme.palette.success.main,\n    borderLeftColor: theme.palette.success.main,\n  },\n  defaultModuleDetails: {\n    ...moduleDetailsBase,\n    borderBottomColor: theme.palette.success.main,\n    borderRightColor: theme.palette.success.main,\n    borderLeftColor: theme.palette.success.main,\n  },\n  terminatedModuleHeader: {\n    ...moduleHeaderBase,\n    backgroundColor: theme.palette.error.main,\n    borderTopColor: theme.palette.error.main,\n    borderRightColor: theme.palette.error.main,\n    borderLeftColor: theme.palette.error.main,\n  },\n  terminatedModuleDetails: {\n    ...moduleDetailsBase,\n    borderBottomColor: theme.palette.error.main,\n    borderRightColor: theme.palette.error.main,\n    borderLeftColor: theme.palette.error.main,\n  },\n  previewedDeviceOk: {\n    borderRadius: 12,\n    backgroundColor: theme.palette.success.main,\n  },\n  previewedDeviceError: {\n    borderRadius: 12,\n    backgroundColor: theme.palette.error.main,\n  },\n}))\n\nconst LastRefreshError = (lastRefresh: DateTime) =>\n  new Date(lastRefresh).valueOf() < Date.now() - 90000\n\nconst ModuleStatusBase = (props: ModuleBaseStatusProps) => {\n  const translate = useTranslate()\n  const classes = useStyles()\n  const { moduleInfo, disableAliasHeader, children } = props\n  const convertedSerialNumber = Number(\n    moduleInfo.identity.serialNumber,\n  ).toString(16)\n  const originalProductionVersion = Number(\n    moduleInfo.identity.version.productionVersion,\n  )\n  /* eslint-disable no-bitwise */\n  const convertedProductionVersion = `${\n    (originalProductionVersion >> 8) & 0xff\n  }.${originalProductionVersion & 0xff}`\n  const convertedModuleInfo = {\n    ...moduleInfo,\n    identity: {\n      ...moduleInfo.identity,\n      serialNumber: convertedSerialNumber,\n      version: {\n        ...moduleInfo.identity.version,\n        productionVersion: convertedProductionVersion,\n      },\n    },\n  }\n  const Body = ({ ...childrenProps }) => (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"space-around\"\n      alignItems=\"flex-start\"\n    >\n      {children !== undefined &&\n        children.map((child, index) => {\n          if (child !== false) {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <Grid item key={index} md={2} sm={4} xs={12}>\n                <RecordContextProvider value={convertedModuleInfo}>\n                  {child}\n                </RecordContextProvider>\n              </Grid>\n            )\n          }\n          return undefined\n        })}\n      <Grid item key=\"base-module-divider\" xs={12}>\n        <Divider />\n      </Grid>\n      <Grid item key=\"base-module-typeId\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<ModuleBaseDto>\n            source=\"module.typeId\"\n            render={(record?: ModuleBaseDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.deviceModuleTypes.${record?.module?.typeId}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-address\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <TextField source=\"module.address\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-lastRefresh\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <DateField\n            source=\"lastRefresh\"\n            showTime\n            options={{\n              day: '2-digit',\n              month: '2-digit',\n              year: 'numeric',\n              hour: '2-digit',\n              minute: '2-digit',\n              second: '2-digit',\n            }}\n          />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-serialNumber\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <TextField source=\"identity.serialNumber\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-productionVersion\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <TextField source=\"identity.version.productionVersion\" />\n        </SimpleShowLayout>\n      </Grid>\n      <Grid item key=\"base-module-develVersion\" md={2} sm={4} xs={12}>\n        <SimpleShowLayout\n          {...childrenProps}\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <TextField source=\"identity.version.develVersion\" />\n        </SimpleShowLayout>\n      </Grid>\n    </Grid>\n  )\n\n  return (\n    <RecordContextProvider value={convertedModuleInfo}>\n      <SimpleShowLayout resource=\"modules\">\n        {!disableAliasHeader && (\n          <>\n            <Box marginBottom={1}>\n              <TextField variant=\"h6\" source=\"module.alias\" />\n            </Box>\n          </>\n        )}\n        <Body />\n      </SimpleShowLayout>\n    </RecordContextProvider>\n  )\n}\n\nconst ModuleStatus = (props: ModuleStatusProps) => {\n  const { moduleInfo } = props\n  const translate = useTranslate()\n  const classes = useStyles()\n\n  return (\n    <ModuleStatusBase {...props}>\n      {/* IOStatusDto */}\n      {(moduleInfo as IOStatusDto)?.fireAlarms !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <Labeled source=\"fireAlarms.title\">\n            <>\n              <TableContainer component={Paper}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\">\n                        {translate('resources.modules.fields.fireAlarms.zone')}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        {translate('resources.modules.fields.fireAlarms.state')}\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {((moduleInfo as IOStatusDto)?.fireAlarms as boolean[]).map(\n                      (value, index) => (\n                        // eslint-disable-next-line react/no-array-index-key\n                        <TableRow key={index}>\n                          <TableCell align=\"center\">\n                            {(index + 1).toString()}\n                          </TableCell>\n                          <TableCell align=\"center\">\n                            <Checkbox style={{ padding: 0 }} checked={value} />\n                          </TableCell>\n                        </TableRow>\n                      ),\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as IOStatusDto)?.allPortsStates !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <Labeled source=\"allPortsStates.title\">\n            <>\n              <TableContainer component={Paper}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\">\n                        {translate(\n                          'resources.modules.fields.allPortsStates.pin',\n                        )}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        {translate(\n                          'resources.modules.fields.allPortsStates.state',\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {(\n                      (moduleInfo as IOStatusDto)?.allPortsStates as PinStates[]\n                    ).map((value, index) => (\n                      // eslint-disable-next-line react/no-array-index-key\n                      <TableRow key={index}>\n                        <TableCell align=\"center\">\n                          {(index + 1).toString()}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <Typography>\n                            {translate(\n                              `resources.enums.module.pinStates.${value}`,\n                            )}\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n\n      {/* TurnstileDto */}\n      {(moduleInfo as TurnstileDto)?.forwardStatus !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"forwardStatus\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileStatuses.${record?.forwardStatus}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.backwardStatus !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"backwardStatus\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileStatuses.${record?.forwardStatus}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.fireAlarm !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"fireAlarm\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.fireAlarmType !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"fireAlarmType\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.turnstileInputTypes.${record?.fireAlarmType}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.powerTurnedOn !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"powerTurnedOn\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.freePassForward !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"freePassForward\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.freePassBackward !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"freePassBackward\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.keyLock !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<TurnstileDto>\n            source=\"keyLock\"\n            render={(record?: TurnstileDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.keyLockStatuses.${record?.keyLock}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.tamperLock !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"tamperLock\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.directionReversed !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"directionReversed\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as TurnstileDto)?.turnstileControllerError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"turnstileControllerError\" />\n        </SimpleShowLayout>\n      )}\n\n      {/* LiteDto */}\n      {(moduleInfo as LiteDto)?.ledsColor !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <Labeled source=\"ledsColor\">\n            <>\n              <Box\n                p={1}\n                borderRadius={10}\n                color={\n                  (moduleInfo as LiteDto)?.ledsColor &&\n                  Number((moduleInfo as LiteDto).ledsColor) > 0\n                    ? getContrastColor(\n                        `#${(moduleInfo as LiteDto)?.ledsColor?.toString(16)}`,\n                      )\n                    : '#ffffff'\n                }\n                bgcolor={\n                  (moduleInfo as LiteDto)?.ledsColor &&\n                  Number((moduleInfo as LiteDto).ledsColor) > 0\n                    ? `#${(moduleInfo as LiteDto)?.ledsColor?.toString(16)}`\n                    : '#000000'\n                }\n              >\n                <Typography>\n                  #{(moduleInfo as LiteDto).ledsColor?.toString(16)}\n                </Typography>\n              </Box>\n            </>\n          </Labeled>\n        </SimpleShowLayout>\n      )}\n\n      {/* ReaderDto */}\n      {(moduleInfo as ReaderDto)?.isPresenterActive !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"isPresenterActive\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.standbyMode !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<ReaderDto>\n            source=\"standbyMode\"\n            render={(record?: ReaderDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.stanbyModeNumeric.${record?.standbyMode}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.sensorId !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<ReaderDto>\n            source=\"sensorId\"\n            render={(record?: ReaderDto) => (\n              <Typography>{record?.sensorId?.toString(16)}</Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.scannerError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"errors.scannerError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.mifareError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"errors.mifareError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.flashError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"errors.flashError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.sdCardError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"errors.sdCardError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.licenceError !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"errors.licenceError\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as ReaderDto)?.errors?.scannerFirmwareError !==\n        undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <BooleanField source=\"errors.scannerFirmwareError\" />\n        </SimpleShowLayout>\n      )}\n\n      {/* PresenterDto */}\n      {(moduleInfo as PresenterDto)?.contentType !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<PresenterDto>\n            source=\"contentType\"\n            render={(record?: PresenterDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.contentTypes.${record?.contentType}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as PresenterDto)?.contentNumber !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <TextField source=\"contentNumber\" />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as PresenterDto)?.contrast !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<PresenterDto>\n            source=\"contrast\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"contrast\" />\n                <Typography>%</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n\n      {/* SensorDto */}\n      {(moduleInfo as SensorDto)?.temperature !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"temperature\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"temperature\" />\n                <Typography>&deg;C</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.humidity !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"humidity\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"humidity\" />\n                <Typography>%</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.move !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"move\"\n            render={(record?: SensorDto) => (\n              <div>\n                {translate(\n                  `resources.enums.module.moveSensorStatuses.${record?.move}`,\n                )}\n              </div>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.light !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"light\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.lightLevels.${record?.light}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.fan !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"fan\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.fanHeaterStatuses.${record?.fan}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.heater !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"heater\"\n            render={(record?: SensorDto) => (\n              <Typography>\n                {translate(\n                  `resources.enums.module.fanHeaterStatuses.${record?.heater}`,\n                )}\n              </Typography>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n      {(moduleInfo as SensorDto)?.moveSensorTimeout !== undefined && (\n        <SimpleShowLayout\n          resource=\"modules\"\n          className={classes.simpleShowLayoutWithNoVerticalPadding}\n        >\n          <FunctionField<SensorDto>\n            source=\"moveSensorTimeout\"\n            render={() => (\n              <Grid container alignItems=\"baseline\">\n                <TextField source=\"moveSensorTimeout\" />\n                <Typography>s</Typography>\n              </Grid>\n            )}\n          />\n        </SimpleShowLayout>\n      )}\n    </ModuleStatusBase>\n  )\n}\n\nconst MultiModuleStatus = (props: MultiModuleStatusProps) => {\n  const classes = useStyles()\n  const { moduleInfo } = props\n\n  return (\n    <>\n      {moduleInfo.map((record) => (\n        <Accordion key={record.id}>\n          <AccordionSummary\n            expandIcon={<ExpandMoreIcon />}\n            className={\n              LastRefreshError(record.lastRefresh)\n                ? classes.terminatedModuleHeader\n                : classes.defaultModuleHeader\n            }\n          >\n            <RecordContextProvider value={record}>\n              <TextField variant=\"h6\" source=\"module.alias\" />\n            </RecordContextProvider>\n          </AccordionSummary>\n          <AccordionDetails\n            className={\n              LastRefreshError(record.lastRefresh)\n                ? classes.terminatedModuleDetails\n                : classes.defaultModuleDetails\n            }\n          >\n            <ModuleStatus moduleInfo={record} disableAliasHeader />\n          </AccordionDetails>\n        </Accordion>\n      ))}\n    </>\n  )\n}\n\nconst DeviceStatusesTab = (props: StatusTabProps) => {\n  const { jsonStatus: rawJsonStatus } = props\n  let jsonStatus\n  try {\n    jsonStatus = JSON.parse(rawJsonStatus) as Array<any>\n    if (jsonStatus === null || jsonStatus === undefined) jsonStatus = []\n  } catch {\n    jsonStatus = []\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const modules = Object.entries(jsonStatus).map(([key, value]) =>\n    moduleMapper(camelcaseKeys(value, { deep: true }), key),\n  )\n\n  return (\n    <MultiModuleStatus\n      moduleInfo={modules\n        .filter((m) => m != null)\n        .map((m) => m as ModuleBaseDto)}\n    />\n  )\n}\n\nconst DeviceStatusesPreview = (props: StatusTabProps) => {\n  const classes = useStyles()\n  const { jsonStatus: rawJsonStatus } = props\n  let jsonStatus\n  try {\n    jsonStatus = JSON.parse(rawJsonStatus) as Array<any>\n  } catch {\n    jsonStatus = []\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const modules = Object.entries(jsonStatus)\n    .map(([key, value]) =>\n      moduleMapper(camelcaseKeys(value, { deep: true }), key),\n    )\n    .filter((m) => m != null)\n    .map((m) => m as ModuleBaseDto)\n\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"flex-start\"\n    >\n      {modules.map((module, index) => (\n        // eslint-disable-next-line react/no-array-index-key\n        <Grid item key={index} style={{ margin: 3 }}>\n          <Box\n            p={1}\n            className={\n              LastRefreshError(module.lastRefresh)\n                ? classes.previewedDeviceError\n                : classes.previewedDeviceOk\n            }\n          >\n            <TextField source=\"module.alias\" record={module} />\n          </Box>\n        </Grid>\n      ))}\n    </Grid>\n  )\n}\n\nconst CheckIfAnyModuleHasError = (rawJsonStatus: string) => {\n  let jsonStatus\n  try {\n    jsonStatus = JSON.parse(rawJsonStatus) as Array<any>\n  } catch {\n    jsonStatus = []\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const modules = Object.entries(jsonStatus)\n    .map(([key, value]) =>\n      moduleMapper(camelcaseKeys(value, { deep: true }), key),\n    )\n    .filter((m) => m != null)\n    .map((m) => m as ModuleBaseDto)\n\n  return modules.some((module) => LastRefreshError(module.lastRefresh))\n}\n\ninterface ModuleBaseStatusProps {\n  readonly moduleInfo: ModuleBaseDto\n  readonly disableAliasHeader?: boolean\n  readonly children?: ReactNode[]\n}\n\ninterface ModuleStatusProps {\n  readonly moduleInfo: ModuleBaseDto\n  readonly disableAliasHeader?: boolean\n}\n\ninterface MultiModuleStatusProps {\n  readonly moduleInfo: ModuleBaseDto[]\n}\n\ninterface StatusTabProps {\n  readonly jsonStatus: string\n}\n\nexport {\n  LastRefreshError as CheckLastRefresh,\n  ModuleStatus,\n  MultiModuleStatus,\n  DeviceStatusesTab,\n  DeviceStatusesPreview,\n  CheckIfAnyModuleHasError,\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport {\n  CheckIfAnyModuleHasError,\n  CheckLastRefresh,\n  DeviceStatusesPreview,\n} from '../common/modules/ModuleStatus'\n\nconst DetectorFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst DetectorGridExpand = ({ ...props }) => {\n  const { record } = props\n  return <DeviceStatusesPreview jsonStatus={record.jsonStatus} />\n}\n\nexport const DetectorList = ({ ...props }: ListProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const postRowStyle = (record: any) => {\n    const detectorError = CheckLastRefresh(record.lastRefresh)\n    let detectorWarning = false\n    if (!detectorError) {\n      // Check for modules error\n      detectorWarning = CheckIfAnyModuleHasError(record.jsonStatus)\n    }\n    if (detectorError) {\n      return {\n        backgroundColor: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n      }\n    }\n    if (detectorWarning) {\n      return {\n        backgroundColor: theme.palette.warning.main,\n      }\n    }\n    return undefined\n  }\n\n  return (\n    <List\n      {...props}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      exporter={false}\n      filters={<DetectorFilters />}\n      bulkActionButtons={false}\n    >\n      <Datagrid\n        size=\"small\"\n        rowClick={(id) => `${ResourceName.DETECTORS}/${id}/show`}\n        rowStyle={postRowStyle}\n        isRowExpandable={(record) =>\n          record?.jsonStatus !== undefined && record?.jsonStatus !== null\n        }\n        expand={<DetectorGridExpand />}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        {!smallScreen && <TextField source=\"address\" />}\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link={false}\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n      </Datagrid>\n    </List>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { DetectorDto } from '../../../core/dto/device/detector/detector.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: DetectorDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const { record: detector } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.detectors.titles.show')}: {detector?.id}.{' '}\n      {detector?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: detector } = useShowContext<DetectorDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.DETECTORS}`}\n          record={detector}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_DETECTORS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst DetectorTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: detector } = useShowContext<DetectorDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.detectors.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <FunctionField<DetectorDto>\n          source=\"isWatched\"\n          render={(record?: DetectorDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        {detector?.categoryId &&\n          hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n            <ReferenceField\n              source=\"categoryId\"\n              reference={ResourceName.DEVICE_CATEGORIES}\n              link=\"show\"\n            >\n              <TextField source=\"name\" />\n            </ReferenceField>\n          )}\n        {detector?.cameraId && hasAuthority(Authority.VIEW_CAMERAS) && (\n          <ReferenceField\n            source=\"cameraId\"\n            reference={ResourceName.CAMERAS}\n            link=\"show\"\n          >\n            <TextField source=\"description\" />\n          </ReferenceField>\n        )}\n        <TextField source=\"address\" />\n        <FunctionField<DetectorDto>\n          source=\"hardwareVersion\"\n          render={(record?: DetectorDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {detector?.jsonStatus && (\n        <Tab label=\"resources.detectors.tabs.statuses\" path=\"statuses\">\n          <DeviceStatusesTab jsonStatus={detector.jsonStatus} />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const DetectorShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <DetectorTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateEngineCreate = (values: EngineDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.engines.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EngineCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateEngineCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        <BooleanInput source=\"isWatched\" />\n        <TextInput source=\"address\" isRequired />\n        <SelectInput\n          source=\"direction\"\n          defaultValue={DeviceDirection.IN}\n          choices={Object.entries(DeviceDirection).map(([value]) => ({\n            id: value,\n            name: `resources.enums.deviceDirection.${value}`,\n          }))}\n        />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          defaultValue={Multiplicities.SINGLE}\n          choices={Object.entries(Multiplicities).map(([value]) => ({\n            id: value,\n            name: `resources.enums.multiplicities.${value}`,\n          }))}\n        />\n        <SelectInput\n          source=\"hardwareVersion\"\n          defaultValue={HardwareVersions.MODULO5}\n          choices={Object.entries(HardwareVersions).map(([value]) => ({\n            id: value,\n            name: `resources.enums.hardwareVersions.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","export enum ToggleType {\n  LOCK = 'LOCK',\n  UNLOCK = 'UNLOCK',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  FunctionField,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validateEngineEdit = (values: EngineDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst EditTitle = (data: EngineTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Engine = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useEditContext<EngineDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateEngineEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <TextInput source=\"address\" isRequired />\n      <SelectInput\n        source=\"direction\"\n        choices={Object.entries(DeviceDirection).map(([value]) => ({\n          id: value,\n          name: `resources.enums.deviceDirection.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_CAMERAS) && (\n        <ReferenceInput\n          source=\"cameraId\"\n          reference={ResourceName.CAMERAS}\n          sort={{ field: 'description', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"description\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <FunctionField<EngineDto>\n        source=\"stanbyMode\"\n        render={(record?: EngineDto) => (\n          <div>\n            {translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n          </div>\n        )}\n      />\n      {engine?.disabled && <TextField source=\"disabled\" />}\n      <BooleanInput source=\"onlineInfixCeck\" />\n      <SelectInput\n        source=\"multiplicity\"\n        choices={Object.entries(Multiplicities).map(([value]) => ({\n          id: value,\n          name: `resources.enums.multiplicities.${value}`,\n        }))}\n      />\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const EngineEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Engine />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport {\n  CheckIfAnyModuleHasError,\n  CheckLastRefresh,\n  DeviceStatusesPreview,\n} from '../common/modules/ModuleStatus'\n\nconst EngineFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <QuickFilter source=\"eventActive\" defaultValue />\n    </Filter>\n  )\n}\n\nconst EngineGridExpand = ({ ...props }) => {\n  const { record } = props\n  return <DeviceStatusesPreview jsonStatus={record.jsonStatus} />\n}\n\nconst EngineGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const postRowStyle = (record: any) => {\n    const engineError = CheckLastRefresh(record.lastRefresh)\n    let engineWarning = false\n    if (!engineError) {\n      // Check for modules error\n      engineWarning = CheckIfAnyModuleHasError(record.jsonStatus)\n    }\n    if (engineError) {\n      return {\n        backgroundColor: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n      }\n    }\n    if (engineWarning) {\n      return {\n        backgroundColor: theme.palette.warning.main,\n      }\n    }\n    return undefined\n  }\n\n  return (\n    <Datagrid\n      {...props}\n      rowStyle={postRowStyle}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.ENGINES}/${id}/show`}\n      hasBulkActions={false}\n      isRowExpandable={(record) =>\n        record?.jsonStatus !== undefined && record?.jsonStatus !== null\n      }\n      expand={<EngineGridExpand />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {!smallScreen && <TextField source=\"address\" />}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {!smallScreen && <TextField source=\"disabled\" sortable={false} />}\n    </Datagrid>\n  )\n}\n\nexport const EngineList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<EngineFilters />}\n  >\n    <EngineGrid />\n  </List>\n)\n","import { sanitizeFetchType } from 'react-admin'\nimport { EngineDto } from '../../dto/device/engine/engine.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './engine-lock-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst lockMutation = ({ id }: EngineDto, lockName?: string): Mutation => ({\n  type: sanitizeFetchType('lock'),\n  resource: ResourceName.ENGINES,\n  payload: {\n    engineId: id,\n    lockName,\n  },\n})\n\nconst unlockMutation = ({ id }: EngineDto): Mutation => ({\n  type: sanitizeFetchType('unlock'),\n  resource: ResourceName.ENGINES,\n  payload: {\n    engineId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (engine: EngineDto, lockName?: string) => Mutation\n} & ToggleButtonState\n\nexport const engineLockButtonInitialState = {\n  type: ToggleType.UNLOCK,\n  text: 'resources.engines.actions.unlock',\n}\n\nexport const engineLockButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.LOCK: {\n      return {\n        type,\n        text: 'resources.engines.actions.lock',\n        mutateQuery: lockMutation,\n      }\n    }\n    case ToggleType.UNLOCK: {\n      return {\n        type,\n        text: 'resources.engines.actions.unlock',\n        mutateQuery: unlockMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum StanbyMode {\n  SENSOR = 'Sensor',\n  ALWAYS_ON = 'AlwaysOn',\n  ALWAYS_OFF = 'AlwaysOff',\n}\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { StanbyMode } from '../../../core/enum/StanbyMode'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'setStandbyMode' | 'lock' | 'setTSCanCredentials'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.engines.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.engines.dialogs.setTSCanCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.ENGINES,\n          payload: {\n            engineId: engine?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.engines.dialogs.setTSCanCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.engines.dialogs.setTSCanCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetStandbyModeDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: engine } = useShowContext<EngineDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    close()\n  }\n\n  const handleSetStandbyMode = async () => {\n    setConfirmOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('setStandbyMode'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n          stanbyMode: value,\n        },\n      },\n      { returnPromise: true },\n    )\n    setValue('')\n    refresh()\n    close()\n  }\n\n  useEffect(() => {\n    if (open && engine?.stanbyMode) {\n      setValue(engine?.stanbyMode as string)\n    }\n  }, [open, engine?.stanbyMode])\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetStandbyMode}\n        source=\"setStandbyMode\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.setStandbyMode.title')}\n      </DialogTitle>\n      <DialogContent>\n        <Select\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value as string)}\n          fullWidth\n        >\n          <MenuItem value={StanbyMode.ALWAYS_ON}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_ON}`)}\n          </MenuItem>\n          <MenuItem value={StanbyMode.ALWAYS_OFF}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.ALWAYS_OFF}`)}\n          </MenuItem>\n          <MenuItem value={StanbyMode.SENSOR}>\n            {translate(`resources.enums.standbyMode.${StanbyMode.SENSOR}`)}\n          </MenuItem>\n        </Select>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const EngineLockDialog = ({\n  open,\n  close,\n  lockName,\n  setLockName,\n  handleLock,\n}: {\n  open: boolean\n  close: () => void\n  lockName: string\n  setLockName: (value: string) => void\n  handleLock: () => void\n}) => {\n  const classes = useStyles()\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLockName('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.engines.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={lockName}\n          onChange={(e) => setLockName(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","export enum ToggleType {\n  SETID = 'SETID',\n  RESETID = 'RESETID',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport {\n  engineLockButtonInitialState,\n  engineLockButtonReducer,\n} from '../../../../core/devices/engines/engine-lock-button.reducer'\nimport { ToggleType } from '../../../../core/devices/engines/engine-lock-button'\nimport { EngineDto } from '../../../../core/dto/device/engine/engine.dto'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ConfirmDialog, EngineLockDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineLockButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    engineLockButtonReducer,\n    engineLockButtonInitialState,\n  )\n  const [lockDialogOpen, setLockDialogOpen] = useState(false)\n  const [lockName, setLockName] = useState('')\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const engine = useRecordContext<EngineDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (engine.disabled) {\n      dispatch({ type: ToggleType.UNLOCK })\n    } else {\n      dispatch({ type: ToggleType.LOCK })\n    }\n  }, [engine])\n\n  const onClick = async () => {\n    if (type === ToggleType.UNLOCK) setUnlockDialogOpen(true)\n    else setLockDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(engine, lockName)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <EngineLockDialog\n        open={lockDialogOpen}\n        close={() => setLockDialogOpen(false)}\n        lockName={lockName}\n        setLockName={setLockName}\n        handleLock={handleLock}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_ENGINES) || loading || mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ConfirmDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { EngineDto } from '../../../../core/dto/device/engine/engine.dto'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineRemoveTSCanCredentialsButton = () => {\n  const { record: engine, loading } = useShowContext<EngineDto>()\n  const classes = useStyles()\n  const [\n    removeTSCanCredentialsDialogOpen,\n    setRemoveTSCanCredentialsDialogOpen,\n  ] = useState(false)\n  const hasAuthority = useHasAuthority()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.ENGINES,\n        payload: {\n          engineId: engine?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleRemoveTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.engines.actions.removeTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={\n          !hasAuthority(Authority.EDIT_ENGINES) || loading || mutationLoading\n        }\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { SetTSCanCredentialsDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineSetTSCanCredentialsButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] =\n    useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  return (\n    <>\n      <SetTSCanCredentialsDialog\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.engines.actions.setTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_ENGINES) || loading}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { SetStandbyModeDialog } from '../EngineDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const EngineStandbyModeButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [standbyModeDialogOpen, setStandbyModeDialogOpen] = useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetStandbyModeDialog = () => {\n    setStandbyModeDialogOpen(true)\n  }\n\n  return (\n    <>\n      <SetStandbyModeDialog\n        open={standbyModeDialogOpen}\n        close={() => setStandbyModeDialogOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetStandbyModeDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.engines.actions.setStandbyMode\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_ENGINES) || loading}\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EngineDto } from '../../../core/dto/device/engine/engine.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\nimport { EngineLockButton } from './engine-show/EngineLockButton'\nimport { EngineRemoveTSCanCredentialsButton } from './engine-show/EngineRemoveTSCanCredentialsButton'\nimport { EngineSetTSCanCredentialsButton } from './engine-show/EngineSetTSCanCredentialsButton'\nimport { EngineStandbyModeButton } from './engine-show/EngineStandbyModeButton'\n\ninterface EngineTitleProps extends TitleProps {\n  record?: EngineDto\n}\n\nconst ShowTitle = (data: EngineTitleProps) => {\n  const { record: engine } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.engines.titles.show')}: {engine?.id}. {engine?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: engine } = useShowContext<EngineDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EngineSetTSCanCredentialsButton />\n        <EngineRemoveTSCanCredentialsButton />\n        <EngineStandbyModeButton />\n        <EngineLockButton />\n        <EditButton\n          basePath={`/${ResourceName.ENGINES}`}\n          record={engine}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ENGINES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EngineTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: engine } = useShowContext<EngineDto>()\n  const hasAuthority = useHasAuthority()\n\n  const EventsFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  const EntrancesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"note\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.engines.tabs.general\">\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<EngineDto>\n          source=\"isWatched\"\n          render={(record?: EngineDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        <TextField source=\"address\" />\n        <FunctionField<EngineDto>\n          source=\"direction\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.deviceDirection.${record?.direction}`,\n              )}\n            </div>\n          )}\n        />\n        {engine?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {engine?.cameraId && hasAuthority(Authority.VIEW_CAMERAS) && (\n          <ReferenceField\n            source=\"cameraId\"\n            reference={ResourceName.CAMERAS}\n            link=\"show\"\n          >\n            <TextField source=\"description\" />\n          </ReferenceField>\n        )}\n        {engine?.disabled && <TextField source=\"disabled\" />}\n        {engine?.stanbyMode && (\n          <FunctionField<EngineDto>\n            source=\"stanbyMode\"\n            render={(record?: EngineDto) => (\n              <div>\n                {translate(`resources.enums.standbyMode.${record?.stanbyMode}`)}\n              </div>\n            )}\n          />\n        )}\n        <FunctionField<EngineDto>\n          source=\"onlineInfixCeck\"\n          render={(record?: EngineDto) => (\n            <div>\n              {record?.onlineInfixCeck\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <FunctionField<EngineDto>\n          source=\"multiplicity\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.multiplicities.${record?.multiplicity}`,\n              )}\n            </div>\n          )}\n        />\n        <FunctionField<EngineDto>\n          source=\"hardwareVersion\"\n          render={(record?: EngineDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab path=\"events\" label={translate('resources.engines.tabs.events')}>\n          <>\n            <RelationTab<EngineDto>\n              resource={ResourceName.EVENTS}\n              source=\"eventsIds\"\n              mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'}\n              attachMethod=\"attachEvents\"\n              detachMethod=\"detachEvents\"\n              attachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                eventsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                eventsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EventsFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: engine?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <Tab\n          path=\"entrances\"\n          label={translate('resources.engines.tabs.entrances')}\n        >\n          <>\n            <RelationTab<EngineDto>\n              resource={ResourceName.ENTRANCES}\n              source=\"entrancesIds\"\n              mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n              attachMethod=\"attachEntrances\"\n              detachMethod=\"detachEntrances\"\n              attachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                entrancesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                engineId: r.id,\n                entrancesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EntrancesFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: engine?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"note\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {engine?.jsonStatus && (\n        <Tab label=\"resources.engines.tabs.statuses\" path=\"statuses\">\n          <DeviceStatusesTab jsonStatus={engine.jsonStatus} />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const EngineShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EngineTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validatePalmCreate = (values: PalmDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.palms.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PalmCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validatePalmCreate}\n        toolbar={<CreateToolbar />}\n      >\n        <TextInput source=\"name\" isRequired />\n        <BooleanInput source=\"isWatched\" />\n        <SelectInput\n          source=\"direction\"\n          defaultValue={DeviceDirection.IN}\n          choices={Object.entries(DeviceDirection).map(([value]) => ({\n            id: value,\n            name: `resources.enums.deviceDirection.${value}`,\n          }))}\n        />\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"onlineInfixCeck\" />\n        <SelectInput\n          source=\"multiplicity\"\n          defaultValue={Multiplicities.SINGLE}\n          choices={Object.entries(Multiplicities).map(([value]) => ({\n            id: value,\n            name: `resources.enums.multiplicities.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useEditContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { DeviceDirection } from '../../../core/enum/DeviceDirection'\nimport { Multiplicities } from '../../../core/enum/Multiplicities'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst validatePalmEdit = (values: PalmDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst EditTitle = (data: PalmTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.edit')}: {record?.id}. {record?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Palm = ({ ...props }) => {\n  const { record: palm } = useEditContext<PalmDto>()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validatePalmEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      <SelectInput\n        source=\"direction\"\n        choices={Object.entries(DeviceDirection).map(([value]) => ({\n          id: value,\n          name: `resources.enums.deviceDirection.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_CAMERAS) && (\n        <ReferenceInput\n          source=\"cameraId\"\n          reference={ResourceName.CAMERAS}\n          sort={{ field: 'description', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"description\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {palm?.disabled && <TextField source=\"disabled\" />}\n      <BooleanInput source=\"onlineInfixCeck\" />\n      <SelectInput\n        source=\"multiplicity\"\n        choices={Object.entries(Multiplicities).map(([value]) => ({\n          id: value,\n          name: `resources.enums.multiplicities.${value}`,\n        }))}\n      />\n      {palm?.mobileDeviceId && <TextField source=\"mobileDeviceId\" />}\n    </SimpleForm>\n  )\n}\n\nexport const PalmEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Palm />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport QuickFilter from '../../common/QuickFilter'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport {\n  CheckIfAnyModuleHasError,\n  CheckLastRefresh,\n  DeviceStatusesPreview,\n} from '../common/modules/ModuleStatus'\n\nconst PalmFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <QuickFilter source=\"eventActive\" defaultValue />\n    </Filter>\n  )\n}\n\nconst PalmGridExpand = ({ ...props }) => {\n  const { record } = props\n  return <DeviceStatusesPreview jsonStatus={record.jsonStatus} />\n}\n\nconst PalmGrid = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const postRowStyle = (record: any) => {\n    const palmError = CheckLastRefresh(record.lastRefresh)\n    let palmWarning = false\n    if (!palmError) {\n      // Check for modules error\n      palmWarning = CheckIfAnyModuleHasError(record.jsonStatus)\n    }\n    if (palmError) {\n      return {\n        backgroundColor: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n      }\n    }\n    if (palmWarning) {\n      return {\n        backgroundColor: theme.palette.warning.main,\n      }\n    }\n    return undefined\n  }\n\n  return (\n    <Datagrid\n      {...props}\n      rowStyle={postRowStyle}\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.PALMS}/${id}/show`}\n      hasBulkActions={false}\n      isRowExpandable={(record) =>\n        record?.jsonStatus !== undefined && record?.jsonStatus !== null\n      }\n      expand={<PalmGridExpand />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n      {!smallScreen && <TextField source=\"disabled\" sortable={false} />}\n      {!smallScreen && <TextField source=\"mobileDeviceId\" sortable={false} />}\n    </Datagrid>\n  )\n}\n\nexport const PalmList = (props: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<PalmFilters />}\n  >\n    <PalmGrid />\n  </List>\n)\n","import { sanitizeFetchType } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './palm-device-id-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst setIdMutation = ({ id }: PalmDto, mobileDeviceId?: string): Mutation => ({\n  type: sanitizeFetchType('setMobileDeviceId'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n    mobileDeviceId,\n  },\n})\n\nconst resetIdMutation = ({ id }: PalmDto): Mutation => ({\n  type: sanitizeFetchType('resetMobileDeviceId'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (palm: PalmDto, mobileDeviceId?: string) => Mutation\n} & ToggleButtonState\n\nexport const palmDeviceIdButtonInitialState = {\n  type: ToggleType.RESETID,\n  text: 'resources.palms.actions.resetMobileDeviceId',\n}\n\nexport const palmDeviceIdButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.SETID: {\n      return {\n        type,\n        text: 'resources.palms.actions.setMobileDeviceId',\n        mutateQuery: setIdMutation,\n      }\n    }\n    case ToggleType.RESETID: {\n      return {\n        type,\n        text: 'resources.palms.actions.resetMobileDeviceId',\n        mutateQuery: resetIdMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum ToggleType {\n  LOCK = 'LOCK',\n  UNLOCK = 'UNLOCK',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useTranslate } from 'react-admin'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'deviceId' | 'lock'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.palms.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const PalmDeviceIdDialog = ({\n  open,\n  close,\n  deviceId,\n  setDeviceId,\n  handleLock,\n}: {\n  open: boolean\n  close: () => void\n  deviceId: string\n  setDeviceId: (value: string) => void\n  handleLock: () => void\n}) => {\n  const classes = useStyles()\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setDeviceId('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"deviceId\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.deviceId.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={deviceId}\n          onChange={(e) => setDeviceId(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const PalmLockDialog = ({\n  open,\n  close,\n  lockName,\n  setLockName,\n  handleLock,\n}: {\n  open: boolean\n  close: () => void\n  lockName: string\n  setLockName: (value: string) => void\n  handleLock: () => void\n}) => {\n  const classes = useStyles()\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLockName('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleLock}\n        source=\"lock\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.palms.dialogs.lock.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={lockName}\n          onChange={(e) => setLockName(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={errorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ToggleType } from '../../../../core/devices/palms/palm-device-id-button'\nimport {\n  palmDeviceIdButtonInitialState,\n  palmDeviceIdButtonReducer,\n} from '../../../../core/devices/palms/palm-device-id-button.reducer'\nimport { PalmDto } from '../../../../core/dto/device/palm/palm.dto'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { ConfirmDialog, PalmDeviceIdDialog } from '../PalmDialogs'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PalmDeviceIdButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    palmDeviceIdButtonReducer,\n    palmDeviceIdButtonInitialState,\n  )\n  const [setDeviceIdDialogOpen, setSetDeviceIdDialogOpen] = useState(false)\n  const [deviceId, setDeviceId] = useState('')\n  const [resetDeviceIdDialogOpen, setResetDeviceIdDialogOpen] = useState(false)\n  const palm = useRecordContext<PalmDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (palm.mobileDeviceId) {\n      dispatch({ type: ToggleType.RESETID })\n    } else {\n      dispatch({ type: ToggleType.SETID })\n    }\n  }, [palm])\n\n  const onClick = async () => {\n    if (type === ToggleType.RESETID) setResetDeviceIdDialogOpen(true)\n    else setSetDeviceIdDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(palm, deviceId)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={resetDeviceIdDialogOpen}\n        confirm={handleLock}\n        source=\"deviceId\"\n        cancel={() => setResetDeviceIdDialogOpen(false)}\n        action=\"remove\"\n      />\n      <PalmDeviceIdDialog\n        open={setDeviceIdDialogOpen}\n        close={() => setSetDeviceIdDialogOpen(false)}\n        deviceId={deviceId}\n        setDeviceId={setDeviceId}\n        handleLock={handleLock}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PALMS) || loading || mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PalmDto } from '../../dto/device/palm/palm.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './palm-lock-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst lockMutation = ({ id }: PalmDto, lockName?: string): Mutation => ({\n  type: sanitizeFetchType('lock'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n    lockName,\n  },\n})\n\nconst unlockMutation = ({ id }: PalmDto): Mutation => ({\n  type: sanitizeFetchType('unlock'),\n  resource: ResourceName.PALMS,\n  payload: {\n    palmId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (palm: PalmDto, lockName?: string) => Mutation\n} & ToggleButtonState\n\nexport const palmLockButtonInitialState = {\n  type: ToggleType.UNLOCK,\n  text: 'resources.palms.actions.unlock',\n}\n\nexport const palmLockButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.LOCK: {\n      return {\n        type,\n        text: 'resources.palms.actions.lock',\n        mutateQuery: lockMutation,\n      }\n    }\n    case ToggleType.UNLOCK: {\n      return {\n        type,\n        text: 'resources.palms.actions.unlock',\n        mutateQuery: unlockMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum SPOM4Directions {\n  Right = 'Right',\n  Left = 'Left',\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ToggleType } from '../../../../core/devices/palms/palm-lock-button'\nimport {\n  palmLockButtonInitialState,\n  palmLockButtonReducer,\n} from '../../../../core/devices/palms/palm-lock-button.reducer'\nimport { PalmDto } from '../../../../core/dto/device/palm/palm.dto'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { ConfirmDialog, PalmLockDialog } from '../PalmDialogs'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PalmLockButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    palmLockButtonReducer,\n    palmLockButtonInitialState,\n  )\n  const [lockDialogOpen, setLockDialogOpen] = useState(false)\n  const [lockName, setLockName] = useState('')\n  const [unlockDialogOpen, setUnlockDialogOpen] = useState(false)\n  const palm = useRecordContext<PalmDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    if (palm.disabled) {\n      dispatch({ type: ToggleType.UNLOCK })\n    } else {\n      dispatch({ type: ToggleType.LOCK })\n    }\n  }, [palm])\n\n  const onClick = async () => {\n    if (type === ToggleType.UNLOCK) setUnlockDialogOpen(true)\n    else setLockDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(palm, lockName)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={unlockDialogOpen}\n        confirm={handleLock}\n        source=\"lock\"\n        cancel={() => setUnlockDialogOpen(false)}\n        action=\"remove\"\n      />\n      <PalmLockDialog\n        open={lockDialogOpen}\n        close={() => setLockDialogOpen(false)}\n        lockName={lockName}\n        setLockName={setLockName}\n        handleLock={handleLock}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PALMS) || loading || mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PalmDto } from '../../../core/dto/device/palm/palm.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { PalmDeviceIdButton } from './palm-show/PalmDeviceIdButton'\nimport { PalmLockButton } from './palm-show/PalmLockButton'\n\ninterface PalmTitleProps extends TitleProps {\n  record?: PalmDto\n}\n\nconst ShowTitle = (data: PalmTitleProps) => {\n  const { record: palm } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.palms.titles.show')}: {palm?.id}. {palm?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: palm } = useShowContext<PalmDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <PalmDeviceIdButton />\n        <PalmLockButton />\n        <EditButton\n          basePath={`/${ResourceName.PALMS}`}\n          record={palm}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_PALMS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst PalmTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: palm } = useShowContext<PalmDto>()\n  const hasAuthority = useHasAuthority()\n\n  const EventsFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  const EntrancesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"note\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.palms.tabs.general')}>\n        <TextField label=\"ID\" source=\"id\" />\n        <TextField source=\"name\" />\n        <FunctionField<PalmDto>\n          source=\"isWatched\"\n          render={(record?: PalmDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        <FunctionField<PalmDto>\n          source=\"direction\"\n          render={(record?: PalmDto) => (\n            <div>\n              {translate(\n                `resources.enums.deviceDirection.${record?.direction}`,\n              )}\n            </div>\n          )}\n        />\n        {palm?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {palm?.cameraId && hasAuthority(Authority.VIEW_CAMERAS) && (\n          <ReferenceField\n            source=\"cameraId\"\n            reference={ResourceName.CAMERAS}\n            link=\"show\"\n          >\n            <TextField source=\"description\" />\n          </ReferenceField>\n        )}\n        {palm?.disabled && <TextField source=\"disabled\" />}\n        <FunctionField<PalmDto>\n          source=\"onlineInfixCeck\"\n          render={(record?: PalmDto) => (\n            <div>\n              {record?.onlineInfixCeck\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <FunctionField<PalmDto>\n          source=\"multiplicity\"\n          render={(record?: PalmDto) => (\n            <div>\n              {translate(\n                `resources.enums.multiplicities.${record?.multiplicity}`,\n              )}\n            </div>\n          )}\n        />\n        {palm?.mobileDeviceId && <TextField source=\"mobileDeviceId\" />}\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <Tab path=\"events\" label={translate('resources.engines.tabs.events')}>\n          <>\n            <RelationTab<PalmDto>\n              resource={ResourceName.EVENTS}\n              source=\"eventsIds\"\n              mode={hasAuthority(Authority.EDIT_EVENTS) ? 'edit' : 'show'}\n              attachMethod=\"attachEvents\"\n              detachMethod=\"detachEvents\"\n              attachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                eventsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                eventsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EventsFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: palm?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_ENTRANCES) && (\n        <Tab\n          path=\"entrances\"\n          label={translate('resources.engines.tabs.entrances')}\n        >\n          <>\n            <RelationTab<PalmDto>\n              resource={ResourceName.ENTRANCES}\n              source=\"entrancesIds\"\n              mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n              attachMethod=\"attachEntrances\"\n              detachMethod=\"detachEntrances\"\n              attachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                entrancesIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                palmId: r.id,\n                entrancesIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterVerifierDeviceId === true\n              }\n              filters={<EntrancesFilters />}\n              filterDefaultValues={{\n                verifierDeviceId: palm?.id,\n                filterVerifierDeviceId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"note\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const PalmShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PalmTabs />\n  </Show>\n)\n","import { Box, Grid } from '@material-ui/core'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Labeled,\n  SelectInput,\n  TextField,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useField } from 'react-final-form'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { SPOM4Directions } from '../../../core/enum/SPOM4Directions'\nimport { ResourceName } from '../../../core/ResourceName'\n\nexport const SPOM4FullAddressField = ({\n  source,\n  record,\n}: {\n  source: keyof PassageDto\n  record?: PassageDto\n}) => {\n  const translate = useTranslate()\n  const addressParts = (record && (record[source] as string))?.split('&')\n\n  return (\n    <Box>\n      <Grid container direction=\"column\">\n        {addressParts && addressParts[0] && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_ipGate\">\n              <TextField emptyText={addressParts[0]} />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[1] && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_tscanHost\">\n              <TextField emptyText={addressParts[1]} />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[2] && addressParts[2] in SPOM4Directions && (\n          <Grid item>\n            <Labeled resource={ResourceName.PASSAGES} source=\"spom4_direction\">\n              <TextField\n                emptyText={translate(\n                  `resources.enums.spom4Directions.${addressParts[2]}`,\n                )}\n              />\n            </Labeled>\n          </Grid>\n        )}\n        {addressParts && addressParts[3] && (\n          <Grid item>\n            <Labeled\n              resource={ResourceName.PASSAGES}\n              source=\"spom4_rs485Address\"\n            >\n              <TextField emptyText={addressParts[3]} />\n            </Labeled>\n          </Grid>\n        )}\n      </Grid>\n    </Box>\n  )\n}\n\nexport const SPOM4IpGateAddressField = ({\n  source,\n  record,\n}: {\n  source: keyof PassageDto\n  record?: PassageDto\n}) => {\n  const addressParts = (record && (record[source] as string))?.split('&')\n\n  return (\n    <TextField\n      source=\"spom4_ipGate\"\n      emptyText={addressParts && addressParts[0]}\n    />\n  )\n}\n\nexport const SPOM4FullAddressInput = ({\n  ...props\n}: SPOM4FullAddressInputProps) => {\n  const { source, record } = props\n  const {\n    input: { onChange },\n  } = useField(source)\n\n  const initialAddressParts = (record && (record[source] as string))?.split('&')\n  const [ipGate, setIpGate] = useState(\n    initialAddressParts && initialAddressParts[0] ? initialAddressParts[0] : '',\n  )\n  const [tscanHost, setTScanHost] = useState(\n    initialAddressParts && initialAddressParts[1] ? initialAddressParts[1] : '',\n  )\n  const [direction, setDirection] = useState(\n    initialAddressParts && initialAddressParts[2] ? initialAddressParts[2] : '',\n  )\n  const [rs485Address, setRS485Address] = useState(\n    initialAddressParts && initialAddressParts[3] ? initialAddressParts[3] : '',\n  )\n  const getFinalValue = useCallback(\n    () => `${ipGate}&${tscanHost}&${direction}&${rs485Address}`,\n    [ipGate, tscanHost, direction, rs485Address],\n  )\n\n  useEffect(() => {\n    onChange({ target: { value: getFinalValue() } })\n  }, [getFinalValue, onChange])\n\n  return (\n    <Box>\n      <Grid container direction=\"column\">\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_ipGate\"\n            defaultValue={ipGate}\n            value={ipGate}\n            onChange={(e) => {\n              setIpGate(e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_tscanHost\"\n            defaultValue={tscanHost}\n            value={tscanHost}\n            onChange={(e) => {\n              setTScanHost(e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <SelectInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_direction\"\n            defaultValue={direction}\n            value={direction}\n            onChange={(e) => setDirection(e.target.value)}\n            choices={Object.entries(SPOM4Directions).map(([value]) => ({\n              id: value,\n              name: `resources.enums.spom4Directions.${value}`,\n            }))}\n          />\n        </Grid>\n        <Grid item>\n          <TextInput\n            resource={ResourceName.PASSAGES}\n            source=\"spom4_rs485Address\"\n            defaultValue={rs485Address}\n            value={rs485Address}\n            onChange={(e) => {\n              setRS485Address(e.target.value)\n            }}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n}\n\nexport interface SPOM4FullAddressInputProps {\n  source: keyof PassageDto\n  record?: PassageDto\n}\n","export enum ToggleType {\n  RESET = 'RESET',\n  DISABLED = 'DISABLED',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4FullAddressInput } from './SPOM4Address'\n\nconst validatePassageCreate = (values: PassageDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (values.hardwareVersion === HardwareVersions.SPOM4) {\n    const addressParts = values.address?.split('&')\n    if (!addressParts?.[0]) {\n      errors.spom4_ipGate = 'ra.validation.required'\n    }\n    if (!addressParts?.[1]) {\n      errors.spom4_tscanHost = 'ra.validation.required'\n    }\n    if (!addressParts?.[2]) {\n      errors.spom4_direction = 'ra.validation.required'\n    }\n    if (!addressParts?.[3]) {\n      errors.spom4_rs485Address = 'ra.validation.required'\n    }\n  } else if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.freeEntrancesCount)))\n    errors.freeEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.freeExitsCount)))\n    errors.freeExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketEntrancesCount)))\n    errors.ticketEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketExitsCount)))\n    errors.ticketExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedEntrancesCount)))\n    errors.unauthorizedEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedExitsCount)))\n    errors.unauthorizedExitsCount = 'ra.validation.not_numeric'\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.passages.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const PassageCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const { record: passage } = props\n  const [hardwareVersion, setHardwareVersion] = useState(\n    passage?.hardwareVersion\n      ? passage?.hardwareVersion\n      : HardwareVersions.MODULO5,\n  )\n\n  const defaultValues = {\n    hardwareVersion: HardwareVersions.MODULO5,\n  }\n\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validatePassageCreate}\n        toolbar={<CreateToolbar />}\n        initialValues={defaultValues}\n      >\n        <TextInput source=\"name\" isRequired />\n        <BooleanInput source=\"isWatched\" />\n        {hardwareVersion === HardwareVersions.SPOM4 ? (\n          <SPOM4FullAddressInput source=\"address\" />\n        ) : (\n          <TextInput source=\"address\" isRequired />\n        )}\n        {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceInput\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <TextInput source=\"freeEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"freeExitsCount\" defaultValue={0} />\n        <TextInput source=\"ticketEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"ticketExitsCount\" defaultValue={0} />\n        <TextInput source=\"unauthorizedEntrancesCount\" defaultValue={0} />\n        <TextInput source=\"unauthorizedExitsCount\" defaultValue={0} />\n        <SelectInput\n          value={hardwareVersion}\n          onChange={(e) => setHardwareVersion(e.target.value)}\n          source=\"hardwareVersion\"\n          choices={Object.entries(HardwareVersions).map(([value]) => ({\n            id: value,\n            name: `resources.enums.hardwareVersions.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  BooleanInput,\n  DateField,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  SelectInput,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { SPOM4FullAddressInput } from './SPOM4Address'\n\nconst validatePassageEdit = (values: PassageDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (values.hardwareVersion === HardwareVersions.SPOM4) {\n    const addressParts = values.address?.split('&')\n    if (!addressParts?.[0]) {\n      errors.spom4_ipGate = 'ra.validation.required'\n    }\n    if (!addressParts?.[1]) {\n      errors.spom4_tscanHost = 'ra.validation.required'\n    }\n    if (!addressParts?.[2]) {\n      errors.spom4_direction = 'ra.validation.required'\n    }\n    if (!addressParts?.[3]) {\n      errors.spom4_rs485Address = 'ra.validation.required'\n    }\n  } else if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (Number.isNaN(Number(values.freeEntrancesCount)))\n    errors.freeEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.freeExitsCount)))\n    errors.freeExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketEntrancesCount)))\n    errors.ticketEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.ticketExitsCount)))\n    errors.ticketExitsCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedEntrancesCount)))\n    errors.unauthorizedEntrancesCount = 'ra.validation.not_numeric'\n  if (Number.isNaN(Number(values.unauthorizedExitsCount)))\n    errors.unauthorizedExitsCount = 'ra.validation.not_numeric'\n  return errors\n}\n\ninterface PassageTitleProps extends TitleProps {\n  record?: PassageDto\n}\n\nconst EditTitle = (props: PassageTitleProps) => {\n  const { record: passage } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.passages.titles.edit')}: {passage?.id}.{' '}\n      {passage?.name}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Passage = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const { record: passage } = props\n  const [hardwareVersion, setHardwareVersion] = useState(\n    passage.hardwareVersion,\n  )\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validatePassageEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n      <BooleanInput source=\"isWatched\" />\n      <DateField\n        source=\"lastRefresh\"\n        showTime\n        options={{\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        }}\n      />\n      {hardwareVersion === HardwareVersions.SPOM4 ? (\n        <SPOM4FullAddressInput source=\"address\" />\n      ) : (\n        <TextInput source=\"address\" isRequired />\n      )}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_CAMERAS) && (\n        <ReferenceInput\n          source=\"cameraId\"\n          reference={ResourceName.CAMERAS}\n          sort={{ field: 'description', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"description\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <TextInput source=\"freeEntrancesCount\" />\n      <TextInput source=\"freeExitsCount\" />\n      <TextInput source=\"ticketEntrancesCount\" />\n      <TextInput source=\"ticketExitsCount\" />\n      <TextInput source=\"unauthorizedEntrancesCount\" />\n      <TextInput source=\"unauthorizedExitsCount\" />\n      <SelectInput\n        value={hardwareVersion}\n        onChange={(e) => setHardwareVersion(e.target.value)}\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </SimpleForm>\n  )\n}\n\nexport const PassageEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Passage />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FunctionField,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  SelectInput,\n  TextField,\n  TextInput,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport {\n  CheckIfAnyModuleHasError,\n  CheckLastRefresh,\n  DeviceStatusesPreview,\n} from '../common/modules/ModuleStatus'\nimport { SPOM4IpGateAddressField } from './SPOM4Address'\n\nconst PassageFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceInput\n          label=\"resources.palms.fields.categoryId\"\n          source=\"categoryIdWithDescendants\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"hardwareVersion\"\n        choices={Object.entries(HardwareVersions).map(([value]) => ({\n          id: value,\n          name: `resources.enums.hardwareVersions.${value}`,\n        }))}\n      />\n    </Filter>\n  )\n}\n\nconst PassageGridExpand = ({ ...props }) => {\n  const { record } = props\n  return <DeviceStatusesPreview jsonStatus={record.jsonStatus} />\n}\n\nconst PassagesGrid = ({ ...props }) => {\n  const { loading } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n  const postRowStyle = (record: any) => {\n    const passageError = CheckLastRefresh(record.lastRefresh)\n    let passageWarning = false\n    if (!passageError) {\n      // Check for modules error\n      passageWarning = CheckIfAnyModuleHasError(record.jsonStatus)\n    }\n    if (passageError) {\n      return {\n        backgroundColor: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n      }\n    }\n    if (passageWarning) {\n      return {\n        backgroundColor: theme.palette.warning.main,\n      }\n    }\n    return undefined\n  }\n\n  return (\n    <Datagrid\n      {...props}\n      rowStyle={postRowStyle}\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.PASSAGES}/${id}/show`}\n      isRowExpandable={(record) =>\n        record?.jsonStatus !== undefined && record?.jsonStatus !== null\n      }\n      expand={<PassageGridExpand />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n      {!smallScreen && (\n        <FunctionField<PassageDto>\n          source=\"address\"\n          render={(record?: PassageDto) =>\n            record?.hardwareVersion === HardwareVersions.SPOM4 ? (\n              <SPOM4IpGateAddressField source=\"address\" record={record} />\n            ) : (\n              <TextField source=\"address\" />\n            )\n          }\n        />\n      )}\n      {!smallScreen && (\n        <FunctionField<PassageDto>\n          source=\"hardwareVersion\"\n          render={(record?: PassageDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n      )}\n      {hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n        <ReferenceField\n          source=\"categoryId\"\n          reference={ResourceName.DEVICE_CATEGORIES}\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const PassagesList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<PassageFilters />}\n    sort={{\n      field: 'id',\n      order: 'DESC',\n    }}\n    bulkActionButtons={false}\n  >\n    <PassagesGrid />\n  </List>\n)\n","import {\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  makeStyles,\n  Theme,\n  createStyles,\n  DialogContent,\n  TextField,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  useTranslate,\n  useShowContext,\n  useMutation,\n  useRefresh,\n  sanitizeFetchType,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport Button from '../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: string\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.passages.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetTSCanCredentialsDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: passage } = useShowContext<PassageDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetTSCanCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.passages.dialogs.setTSCanCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setTSCanCredentials'),\n          resource: ResourceName.PASSAGES,\n          payload: {\n            passageId: passage?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.passages.dialogs.setTSCanCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.passages.dialogs.setTSCanCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.passages.dialogs.setTSCanCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageRemoveTSCanCredentialsButton = () => {\n  const { record: passage, loading } = useShowContext<PassageDto>()\n  const classes = useStyles()\n  const [\n    removeTSCanCredentialsDialogOpen,\n    setRemoveTSCanCredentialsDialogOpen,\n  ] = useState(false)\n  const hasAuthority = useHasAuthority()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const handleRemoveTSCanCredentials = async () => {\n    setRemoveTSCanCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeTSCanCredentials'),\n        resource: ResourceName.PASSAGES,\n        payload: {\n          passageId: passage?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveTSCanCredentialsDialog = () => {\n    setRemoveTSCanCredentialsDialogOpen(true)\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={removeTSCanCredentialsDialogOpen}\n        confirm={handleRemoveTSCanCredentials}\n        source=\"setTSCanCredentials\"\n        cancel={() => setRemoveTSCanCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleRemoveTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.passages.actions.removeTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) || loading || mutationLoading\n        }\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-reset-counters-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst resetMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('resetCounters'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageResetCountersButtonInitialState = {\n  type: ToggleType.DISABLED,\n  text: 'resources.passages.actions.resetCounters.disabled',\n}\n\nexport const passageResetCountersButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.RESET: {\n      return {\n        type,\n        text: 'resources.passages.actions.resetCounters.reset',\n        mutateQuery: resetMutation,\n      }\n    }\n    case ToggleType.DISABLED: {\n      return passageResetCountersButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum ToggleType {\n  OFF = 'OFF',\n  ON = 'ON',\n}\n\nexport type ToggleButtonState = {\n  type: ToggleType\n  text: string\n}\n\nexport type ToggleButtonAction = { type: ToggleType }\n","export enum PassageDirections {\n  IN = 'IN',\n  OUT = 'OUT',\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect, useMemo } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport {\n  passageResetCountersButtonInitialState,\n  passageResetCountersButtonReducer,\n} from '../../../../core/devices/passages/passage-reset-counters-button.reducer'\nimport { ToggleType } from '../../../../core/devices/passages/passage-reset-counters-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageResetCountersButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageResetCountersButtonReducer,\n    passageResetCountersButtonInitialState,\n  )\n  const [resetDialogOpen, setResetDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const countersEmpty = useMemo(\n    () =>\n      (!passage?.freeEntrancesCount || passage.freeEntrancesCount === 0) &&\n      (!passage?.freeExitsCount || passage.freeExitsCount === 0) &&\n      (!passage?.ticketEntrancesCount || passage.ticketEntrancesCount === 0) &&\n      (!passage?.ticketExitsCount || passage.ticketExitsCount === 0) &&\n      (!passage?.unauthorizedEntrancesCount ||\n        passage.unauthorizedEntrancesCount === 0) &&\n      (!passage?.unauthorizedExitsCount ||\n        passage.unauthorizedExitsCount === 0),\n    [passage],\n  )\n\n  useEffect(() => {\n    if (countersEmpty) {\n      dispatch({ type: ToggleType.DISABLED })\n    } else {\n      dispatch({ type: ToggleType.RESET })\n    }\n  }, [countersEmpty])\n\n  const onClick = async () => {\n    if (type === ToggleType.RESET) setResetDialogOpen(true)\n  }\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={resetDialogOpen}\n        confirm={handleLock}\n        source=\"resetCounters\"\n        cancel={() => setResetDialogOpen(false)}\n        action=\"set\"\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          type === ToggleType.DISABLED ||\n          loading ||\n          mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { PassageDirections } from '../../enum/PassageDirections'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-set-boolean-status-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst turnOffMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setFreePassState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    freePassState: false,\n    direction: PassageDirections.OUT,\n  },\n})\n\nconst turnOnMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setFreePassState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    freePassState: true,\n    direction: PassageDirections.OUT,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageSetFreePassBackwardButtonInitialState = {\n  type: ToggleType.OFF,\n  text: 'resources.passages.actions.setFreePassState.setBackward',\n}\n\nexport const passageSetFreePassBackwardButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.OFF: {\n      return {\n        type,\n        text: 'resources.passages.actions.setFreePassState.setBackward',\n        mutateQuery: turnOnMutation,\n      }\n    }\n    case ToggleType.ON: {\n      return {\n        type,\n        text: 'resources.passages.actions.setFreePassState.resetBackward',\n        mutateQuery: turnOffMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","export enum CameraTypes {\n  RTSP = 'RTSP',\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ToggleType } from '../../../../core/devices/passages/passage-set-boolean-status-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport {\n  passageSetFreePassBackwardButtonInitialState,\n  passageSetFreePassBackwardButtonReducer,\n} from '../../../../core/devices/passages/passage-set-free-pass-backward-button.reducer'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetFreePassBackwardButton = ({ ...props }) => {\n  const { jsonStatus: rawJsonStatus, disabled } = props\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageSetFreePassBackwardButtonReducer,\n    passageSetFreePassBackwardButtonInitialState,\n  )\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    let jsonStatus\n    try {\n      jsonStatus = JSON.parse(rawJsonStatus)\n      if (jsonStatus === null || jsonStatus === undefined) jsonStatus = []\n    } catch {\n      jsonStatus = []\n    }\n    if (jsonStatus.some((status: any) => status?.FreePassBackward)) {\n      dispatch({ type: ToggleType.ON })\n    } else {\n      dispatch({ type: ToggleType.OFF })\n    }\n  }, [rawJsonStatus])\n\n  const handleFreePass = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={confirmDialogOpen}\n        confirm={handleFreePass}\n        source=\"freePassBackward\"\n        cancel={() => setConfirmDialogOpen(false)}\n        action={type === ToggleType.OFF ? 'set' : 'remove'}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          loading ||\n          mutationLoading ||\n          disabled === true\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={() => setConfirmDialogOpen(true)}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { PassageDirections } from '../../enum/PassageDirections'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-set-boolean-status-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst turnOffMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setFreePassState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    freePassState: false,\n    direction: PassageDirections.IN,\n  },\n})\n\nconst turnOnMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setFreePassState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    freePassState: true,\n    direction: PassageDirections.IN,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageSetFreePassForwardButtonInitialState = {\n  type: ToggleType.OFF,\n  text: 'resources.passages.actions.setFreePassState.setForward',\n}\n\nexport const passageSetFreePassForwardButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.OFF: {\n      return {\n        type,\n        text: 'resources.passages.actions.setFreePassState.setForward',\n        mutateQuery: turnOnMutation,\n      }\n    }\n    case ToggleType.ON: {\n      return {\n        type,\n        text: 'resources.passages.actions.setFreePassState.resetForward',\n        mutateQuery: turnOffMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ToggleType } from '../../../../core/devices/passages/passage-set-boolean-status-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport {\n  passageSetFreePassForwardButtonInitialState,\n  passageSetFreePassForwardButtonReducer,\n} from '../../../../core/devices/passages/passage-set-free-pass-forward-button.reducer'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetFreePassForwardButton = ({ ...props }) => {\n  const { jsonStatus: rawJsonStatus, disabled } = props\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageSetFreePassForwardButtonReducer,\n    passageSetFreePassForwardButtonInitialState,\n  )\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    let jsonStatus\n    try {\n      jsonStatus = JSON.parse(rawJsonStatus)\n      if (jsonStatus === null || jsonStatus === undefined) jsonStatus = []\n    } catch {\n      jsonStatus = []\n    }\n    if (jsonStatus.some((status: any) => status?.FreePassForward)) {\n      dispatch({ type: ToggleType.ON })\n    } else {\n      dispatch({ type: ToggleType.OFF })\n    }\n  }, [rawJsonStatus])\n\n  const handleFreePass = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={confirmDialogOpen}\n        confirm={handleFreePass}\n        source=\"freePassForward\"\n        cancel={() => setConfirmDialogOpen(false)}\n        action={type === ToggleType.OFF ? 'set' : 'remove'}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          loading ||\n          mutationLoading ||\n          disabled === true\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={() => setConfirmDialogOpen(true)}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-set-boolean-status-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst turnOffMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setLockState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    lockState: false,\n  },\n})\n\nconst turnOnMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setLockState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    lockState: true,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageSetLockButtonInitialState = {\n  type: ToggleType.OFF,\n  text: 'resources.passages.actions.setLockState.turnOn',\n}\n\nexport const passageSetLockButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.OFF: {\n      return {\n        type,\n        text: 'resources.passages.actions.setLockState.turnOn',\n        mutateQuery: turnOnMutation,\n      }\n    }\n    case ToggleType.ON: {\n      return {\n        type,\n        text: 'resources.passages.actions.setLockState.turnOff',\n        mutateQuery: turnOffMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ToggleType } from '../../../../core/devices/passages/passage-set-boolean-status-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport {\n  passageSetLockButtonInitialState,\n  passageSetLockButtonReducer,\n} from '../../../../core/devices/passages/passage-set-lock-button.reducer'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetLockButton = ({ ...props }) => {\n  const { jsonStatus: rawJsonStatus, disabled } = props\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageSetLockButtonReducer,\n    passageSetLockButtonInitialState,\n  )\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    let jsonStatus\n    try {\n      jsonStatus = JSON.parse(rawJsonStatus)\n      if (jsonStatus === null || jsonStatus === undefined) jsonStatus = []\n    } catch {\n      jsonStatus = []\n    }\n    if (jsonStatus.some((status: any) => status?.TamperLock)) {\n      dispatch({ type: ToggleType.ON })\n    } else {\n      dispatch({ type: ToggleType.OFF })\n    }\n  }, [rawJsonStatus])\n\n  const handleLock = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={confirmDialogOpen}\n        confirm={handleLock}\n        source=\"lockState\"\n        cancel={() => setConfirmDialogOpen(false)}\n        action={type === ToggleType.OFF ? 'set' : 'remove'}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          loading ||\n          mutationLoading ||\n          disabled === true\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={() => setConfirmDialogOpen(true)}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-set-boolean-status-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst turnOffMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setPowerState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    powerState: false,\n  },\n})\n\nconst turnOnMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setPowerState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    powerState: true,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageSetPowerButtonInitialState = {\n  type: ToggleType.OFF,\n  text: 'resources.passages.actions.setPowerState.turnOn',\n}\n\nexport const passageSetPowerButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.OFF: {\n      return {\n        type,\n        text: 'resources.passages.actions.setPowerState.turnOn',\n        mutateQuery: turnOnMutation,\n      }\n    }\n    case ToggleType.ON: {\n      return {\n        type,\n        text: 'resources.passages.actions.setPowerState.turnOff',\n        mutateQuery: turnOffMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ToggleType } from '../../../../core/devices/passages/passage-set-boolean-status-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport {\n  passageSetPowerButtonInitialState,\n  passageSetPowerButtonReducer,\n} from '../../../../core/devices/passages/passage-set-power-button.reducer'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetPowerButton = ({ ...props }) => {\n  const { jsonStatus: rawJsonStatus, disabled } = props\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageSetPowerButtonReducer,\n    passageSetPowerButtonInitialState,\n  )\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    let jsonStatus\n    try {\n      jsonStatus = JSON.parse(rawJsonStatus)\n      if (jsonStatus === null || jsonStatus === undefined) jsonStatus = []\n    } catch {\n      jsonStatus = []\n    }\n    if (jsonStatus.some((status: any) => status?.PowerTurnedOn)) {\n      dispatch({ type: ToggleType.ON })\n    } else {\n      dispatch({ type: ToggleType.OFF })\n    }\n  }, [rawJsonStatus])\n\n  const handlePower = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={confirmDialogOpen}\n        confirm={handlePower}\n        source=\"powerState\"\n        cancel={() => setConfirmDialogOpen(false)}\n        action={type === ToggleType.OFF ? 'set' : 'remove'}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          loading ||\n          mutationLoading ||\n          disabled === true\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={() => setConfirmDialogOpen(true)}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { PassageDto } from '../../dto/device/passages/passage.dto'\nimport { ResourceName } from '../../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n  ToggleType,\n} from './passage-set-boolean-status-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst turnOffMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setPPOZState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    ppozState: false,\n  },\n})\n\nconst turnOnMutation = ({ id }: PassageDto): Mutation => ({\n  type: sanitizeFetchType('setPPOZState'),\n  resource: ResourceName.PASSAGES,\n  payload: {\n    passageId: id,\n    ppozState: true,\n  },\n})\n\ntype State = {\n  mutateQuery?: (passage: PassageDto) => Mutation\n} & ToggleButtonState\n\nexport const passageSetPPOZButtonInitialState = {\n  type: ToggleType.OFF,\n  text: 'resources.passages.actions.setPPOZState.turnOn',\n}\n\nexport const passageSetPPOZButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case ToggleType.OFF: {\n      return {\n        type,\n        text: 'resources.passages.actions.setPPOZState.turnOn',\n        mutateQuery: turnOnMutation,\n      }\n    }\n    case ToggleType.ON: {\n      return {\n        type,\n        text: 'resources.passages.actions.setPPOZState.turnOff',\n        mutateQuery: turnOffMutation,\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState, useReducer, useEffect } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { ToggleType } from '../../../../core/devices/passages/passage-set-boolean-status-button'\nimport { PassageDto } from '../../../../core/dto/device/passages/passage.dto'\nimport { ConfirmDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\nimport {\n  passageSetPPOZButtonInitialState,\n  passageSetPPOZButtonReducer,\n} from '../../../../core/devices/passages/passage-set-ppoz-button.reducer'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetPPOZButton = ({ ...props }) => {\n  const { jsonStatus: rawJsonStatus, disabled } = props\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    passageSetPPOZButtonReducer,\n    passageSetPPOZButtonInitialState,\n  )\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\n  const passage = useRecordContext<PassageDto>()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  useEffect(() => {\n    let jsonStatus\n    try {\n      jsonStatus = JSON.parse(rawJsonStatus)\n      if (jsonStatus === null || jsonStatus === undefined) jsonStatus = []\n    } catch {\n      jsonStatus = []\n    }\n    if (jsonStatus.some((status: any) => status?.FireAlarm)) {\n      dispatch({ type: ToggleType.ON })\n    } else {\n      dispatch({ type: ToggleType.OFF })\n    }\n  }, [rawJsonStatus])\n\n  const handleFireAlarm = async () => {\n    try {\n      const query = mutateQuery?.(passage)\n      await mutate(query, { returnPromise: true })\n      refresh()\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={confirmDialogOpen}\n        confirm={handleFireAlarm}\n        source=\"ppozState\"\n        cancel={() => setConfirmDialogOpen(false)}\n        action={type === ToggleType.OFF ? 'set' : 'remove'}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_PASSAGES) ||\n          loading ||\n          mutationLoading ||\n          disabled === true\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={() => setConfirmDialogOpen(true)}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { SetTSCanCredentialsDialog } from '../PassageDialogs'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { Authority } from '../../../../core/auth/Authority'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const PassageSetTSCanCredentialsButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [tsCanCredentialsModalOpen, setTSCanCredentialsModalOpen] =\n    useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetTSCanCredentialsDialog = () => {\n    setTSCanCredentialsModalOpen(true)\n  }\n\n  return (\n    <>\n      <SetTSCanCredentialsDialog\n        open={tsCanCredentialsModalOpen}\n        close={() => setTSCanCredentialsModalOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetTSCanCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.passages.actions.setTSCanCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_PASSAGES) || loading}\n      />\n    </>\n  )\n}\n","import { Box, createStyles, Divider, makeStyles } from '@material-ui/core'\nimport React from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  ReferenceField,\n  Show,\n  ShowProps,\n  SimpleShowLayout,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { PassageDto } from '../../../core/dto/device/passages/passage.dto'\nimport { HardwareVersions } from '../../../core/enum/HardwareVersions'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { DeviceStatusesTab } from '../common/modules/ModuleStatus'\nimport { PassageRemoveTSCanCredentialsButton } from './passage-show/PassageRemoveTSCanCredentialsButton'\nimport { PassageResetCountersButton } from './passage-show/PassageResetCountersButton'\nimport { PassageSetFreePassBackwardButton } from './passage-show/PassageSetFreePassBackwardButton'\nimport { PassageSetFreePassForwardButton } from './passage-show/PassageSetFreePassForwardButton'\nimport { PassageSetLockButton } from './passage-show/PassageSetLockButton'\nimport { PassageSetPowerButton } from './passage-show/PassageSetPowerButton'\nimport { PassageSetPPOZButton } from './passage-show/PassageSetPPOZButton'\nimport { PassageSetTSCanCredentialsButton } from './passage-show/PassageSetTSCanCredentialsButton'\nimport { SPOM4FullAddressField } from './SPOM4Address'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    generalActions: {\n      margin: '2px',\n    },\n  }),\n)\n\ninterface PassageTitleProps extends TitleProps {\n  record?: PassageDto\n}\n\nconst ShowTitle = (data: PassageTitleProps) => {\n  const { record: passage } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.passages.titles.show')}: {passage?.id}.{' '}\n      {passage?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: passage, basePath } = useShowContext<PassageDto>()\n  const hasAuthority = useHasAuthority()\n  const classes = useStyles()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <PassageSetTSCanCredentialsButton />\n        <PassageRemoveTSCanCredentialsButton />\n        <EditButton\n          className={classes.generalActions}\n          basePath={basePath}\n          record={passage}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_PASSAGES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst CountersActions = () => (\n  <>\n    <Divider />\n    <Box p={1} display=\"block\" textAlign=\"right\">\n      <PassageResetCountersButton />\n    </Box>\n  </>\n)\n\nconst CountersTab = ({ ...props }) => (\n  <SimpleShowLayout {...props}>\n    <TextField source=\"freeEntrancesCount\" />\n    <TextField source=\"freeExitsCount\" />\n    <TextField source=\"ticketEntrancesCount\" />\n    <TextField source=\"ticketExitsCount\" />\n    <TextField source=\"unauthorizedEntrancesCount\" />\n    <TextField source=\"unauthorizedExitsCount\" />\n    <CountersActions />\n  </SimpleShowLayout>\n)\n\nconst SetStateActions = ({ ...props }) => {\n  const { jsonStatus, disabled } = props\n\n  return (\n    <>\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <PassageSetFreePassBackwardButton\n          jsonStatus={jsonStatus}\n          disabled={disabled}\n        />\n        <PassageSetFreePassForwardButton\n          jsonStatus={jsonStatus}\n          disabled={disabled}\n        />\n        <PassageSetPowerButton jsonStatus={jsonStatus} disabled={disabled} />\n        <PassageSetPPOZButton jsonStatus={jsonStatus} disabled={disabled} />\n        <PassageSetLockButton jsonStatus={jsonStatus} disabled={disabled} />\n      </Box>\n    </>\n  )\n}\n\nconst PassageTabs = ({ ...props }) => {\n  const { record: passage } = props\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.passages.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <FunctionField<PassageDto>\n          source=\"isWatched\"\n          render={(record?: PassageDto) => (\n            <div>\n              {record?.isWatched\n                ? translate('const.yes')\n                : translate('const.no')}\n            </div>\n          )}\n        />\n        <DateField\n          source=\"lastRefresh\"\n          showTime\n          options={{\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n          }}\n        />\n        {passage?.hardwareVersion === HardwareVersions.SPOM4 ? (\n          <SPOM4FullAddressField source=\"address\" />\n        ) : (\n          <TextField source=\"address\" />\n        )}\n        {passage?.categoryId && hasAuthority(Authority.VIEW_DEVICE_CATEGORIES) && (\n          <ReferenceField\n            source=\"categoryId\"\n            reference={ResourceName.DEVICE_CATEGORIES}\n            link=\"show\"\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        {passage?.cameraId && hasAuthority(Authority.VIEW_CAMERAS) && (\n          <ReferenceField\n            source=\"cameraId\"\n            reference={ResourceName.CAMERAS}\n            link=\"show\"\n          >\n            <TextField source=\"description\" />\n          </ReferenceField>\n        )}\n        <FunctionField<PassageDto>\n          source=\"hardwareVersion\"\n          render={(record?: PassageDto) => (\n            <div>\n              {translate(\n                `resources.enums.hardwareVersions.${record?.hardwareVersion}`,\n              )}\n            </div>\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      <Tab label=\"resources.passages.tabs.counters\" path=\"counters\">\n        <CountersTab />\n      </Tab>\n      <Tab label=\"resources.passages.tabs.statuses\" path=\"statuses\">\n        {passage?.jsonStatus && (\n          <DeviceStatusesTab jsonStatus={passage.jsonStatus} />\n        )}\n        <SetStateActions\n          jsonStatus={passage.jsonStatus}\n          disabled={!passage?.jsonStatus}\n        />\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const PassageShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <PassageTabs />\n  </Show>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\n\nconst validateEntranceCreate = (values: EntranceDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.note) {\n    errors.note = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.entrances.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EntranceCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateEntranceCreate}\n    >\n      <TextInput source=\"note\" isRequired />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  TitleProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ShowButton,\n  TextField,\n} from 'react-admin'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\n\nconst validateEntranceEdit = (values: EntranceDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.note) {\n    errors.note = 'ra.validation.required'\n  }\n  return errors\n}\n\ninterface EntranceTitleProps extends TitleProps {\n  record?: EntranceDto\n}\n\nconst EditTitle = (data: EntranceTitleProps) => {\n  const { record: entrance } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.entrances.titles.edit')}: {entrance?.id}.{' '}\n      {entrance?.note}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EntranceEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateEntranceEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"note\" isRequired />\n    </SimpleForm>\n  </Edit>\n)\n","import React from 'react'\nimport {\n  ListProps,\n  List,\n  Pagination,\n  Datagrid,\n  Filter,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\n\nconst EntranceFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"note\" alwaysOn />\n  </Filter>\n)\n\nexport const EntranceList = (props: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    filters={<EntranceFilters />}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    bulkActionButtons={false}\n  >\n    <Datagrid\n      size=\"small\"\n      rowClick={(id) => `${ResourceName.ENTRANCES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"note\" />\n    </Datagrid>\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  ShowProps,\n  Show,\n  TitleProps,\n  useTranslate,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  TextInput,\n  EditButton,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EntranceDto } from '../../../core/dto/entrance.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface EntranceTitleProps extends TitleProps {\n  record?: EntranceDto\n}\n\nconst ShowTitle = (props: EntranceTitleProps) => {\n  const translate = useTranslate()\n  const { record: entrance } = props\n  return (\n    <span>\n      {translate('resources.entrances.titles.show')}: {entrance?.id}.{' '}\n      {entrance?.note}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: entrance } = useShowContext<EntranceDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <EditButton\n          variant=\"contained\"\n          basePath=\"/entrances\"\n          record={entrance}\n          disabled={!hasAuthority(Authority.EDIT_ENTRANCES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EntranceTabs = ({ ...props }) => {\n  const { record: entrance } = props\n  const hasAuthority = useHasAuthority()\n\n  const DevicesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n      <TextInput source=\"categoryId\" />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.entrances.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"note\" />\n        <GeneralActions />\n      </Tab>\n      <Tab path=\"engines\" label=\"resources.entrances.tabs.engines\">\n        <>\n          <RelationTab<EntranceDto>\n            resource={ResourceName.ENGINES}\n            source=\"verifierDevicesIds\"\n            mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              entranceId: entrance?.id,\n              filterEntranceId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField label=\"ID\" source=\"id\" />\n            <TextField source=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"palms\" label=\"resources.entrances.tabs.palms\">\n        <>\n          <RelationTab<EntranceDto>\n            resource={ResourceName.PALMS}\n            source=\"verifierDevicesIds\"\n            mode={hasAuthority(Authority.EDIT_ENTRANCES) ? 'edit' : 'show'}\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              entranceId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              entranceId: entrance?.id,\n              filterEntranceId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EntranceShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EntranceTabs />\n  </Show>\n)\n","import { ButtonGroup } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  Datagrid,\n  DateTimeInput,\n  FormTab,\n  GET_LIST,\n  List,\n  ListButton,\n  Pagination,\n  ResourceContextProvider,\n  sanitizeFetchType,\n  SaveButton,\n  TabbedForm,\n  TextField,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  TopToolbar,\n  useEditContext,\n  useListContext,\n  useMutation,\n  useNotify,\n  useTranslate,\n} from 'react-admin'\nimport { useField } from 'react-final-form'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ObjectDto } from '../../core/dto/object.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport { CheckboxField } from '../common/CheckboxField'\nimport Button from '../common/customized-mui-components/Button'\n\nconst validateEventCreate = (values: EventDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!Date.parse(values.dateStart))\n    errors.dateStart = 'ra.validation.incorrect_date'\n  if (!Date.parse(values.dateEnd))\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  if (!values.dateStart) {\n    errors.dateStart = 'ra.validation.required'\n  }\n  if (!values.dateEnd) {\n    errors.dateEnd = 'ra.validation.required'\n  }\n  if (new Date(values.dateStart) > new Date(values.dateEnd)) {\n    errors.dateStart = 'ra.validation.incorrect_date'\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.events.titles.create')}</span>\n}\n\nconst RelationInputTab = ({\n  sourceProperty,\n  source,\n}: {\n  sourceProperty: keyof EventDto\n  source: ResourceName.OBJECTS\n}) => {\n  const [mutate] = useMutation()\n  const notify = useNotify()\n  const { basePath } = useEditContext<EventDto>()\n  const {\n    input: { onChange, value: relationsIds },\n  } = useField<number[]>(sourceProperty)\n\n  const handleAttach = (idsToAttach: number[]) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        onChange([...relationsIds, ...idsToAttach])\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n  }\n\n  const handleDetach = (idsToDetach: number[]) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        onChange(relationsIds.filter((id: number) => !idsToDetach.includes(id)))\n        break\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n    }\n  }\n\n  const isAttached = (relatedRecordId: number) => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return relationsIds?.includes(relatedRecordId)\n      default:\n        notify(`Source '${source}' is not implemented yet.`)\n        return false\n    }\n  }\n\n  // const listFilters = () => {\n  //   switch (source) {\n  //     case ResourceName.OBJECTS:\n  //       return ([<TextInput source=\"name\" alwaysOn />])\n  //     default: return ([])\n  //   }\n  // }\n\n  const listSort = () => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return { field: 'name', order: 'ASC' }\n      default:\n        return undefined\n    }\n  }\n\n  const listColumns = () => {\n    switch (source) {\n      case ResourceName.OBJECTS:\n        return [\n          <TextField source=\"id\" label=\"ID\" key=\"id\" />,\n          <TextField source=\"name\" key=\"name\" />,\n        ]\n      default:\n        return []\n    }\n  }\n\n  const Actions = () => {\n    const { filterValues } = useListContext<ObjectDto>()\n    const getFilteredRelatedRecordsIds = async () =>\n      (\n        await mutate(\n          {\n            type: sanitizeFetchType(GET_LIST),\n            resource: source,\n            payload: {\n              filter: {\n                ...filterValues,\n              },\n            },\n          },\n          { returnPromise: true },\n        )\n      )?.data?.map((record: ObjectDto) => record?.id)\n\n    const handleAttachAll = async () =>\n      handleAttach(await getFilteredRelatedRecordsIds())\n\n    const handleDetachAll = async () =>\n      handleDetach(await getFilteredRelatedRecordsIds())\n\n    return (\n      <TopToolbar>\n        {/* <FilterButton/> */}\n        <ButtonGroup>\n          <Button\n            variant=\"contained\"\n            onClick={() => handleAttachAll()}\n            label=\"common.related-records.actions.attach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n          <Button\n            variant=\"outlined\"\n            onClick={() => handleDetachAll()}\n            label=\"common.related-records.actions.detach-all\"\n            useSmallVersionBreakpoint={false}\n          />\n        </ButtonGroup>\n      </TopToolbar>\n    )\n  }\n\n  const AttachedCheckbox = ({ ...props }) => (\n    <CheckboxField\n      {...props}\n      sortable={false}\n      checkBySource={(id: number) => isAttached(id)}\n      source=\"id\"\n      onClick={(id: number) =>\n        isAttached(id as number)\n          ? () => handleDetach([id as number])\n          : () => handleAttach([id as number])\n      }\n    />\n  )\n\n  return (\n    <ResourceContextProvider value={source}>\n      <List\n        basePath={basePath}\n        exporter={false}\n        title=\" \"\n        // filters={listFilters()} // FilterForm cannot be descendant of another Form component\n        sort={listSort()}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50, 100]} />}\n        perPage={20}\n        actions={<Actions />}\n      >\n        <>\n          <Datagrid size=\"small\" style={{ tableLayout: 'fixed' }}>\n            {listColumns()}\n            <AttachedCheckbox label=\"common.related-records.fields.is-attached\" />\n          </Datagrid>\n        </>\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EventCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <TabbedForm\n        redirect=\"show\"\n        toolbar={<CreateToolbar />}\n        validate={validateEventCreate}\n      >\n        <FormTab label={translate('resources.events.tabs.general')}>\n          <TextInput source=\"name\" isRequired />\n          <DateTimeInput source=\"dateStart\" isRequired />\n          <DateTimeInput source=\"dateEnd\" isRequired />\n          <TextInput source=\"externalId\" />\n          <TextInput source=\"infix\" />\n          <BooleanInput source=\"active\" />\n        </FormTab>\n        <FormTab label={translate('resources.events.tabs.objects')}>\n          <RelationInputTab\n            sourceProperty=\"objectsIds\"\n            source={ResourceName.OBJECTS}\n          />\n        </FormTab>\n      </TabbedForm>\n    </Create>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport React, { useMemo } from 'react'\nimport {\n  DateTimeInput,\n  Edit,\n  EditProps,\n  FunctionField,\n  Record,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { EventDto } from '../../core/dto/event/event.dto'\n\ninterface EventTitleProps extends TitleProps {\n  record?: EventDto\n}\n\nconst validateEventEdit = (values: EventDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!Date.parse(values.dateStart))\n    errors.dateStart = 'ra.validation.incorrect_date'\n  if (!Date.parse(values.dateEnd))\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  if (!values.dateStart) {\n    errors.dateStart = 'ra.validation.required'\n  }\n  if (!values.dateEnd) {\n    errors.dateEnd = 'ra.validation.required'\n  }\n  if (new Date(values.dateStart) > new Date(values.dateEnd)) {\n    errors.dateStart = 'ra.validation.incorrect_date'\n    errors.dateEnd = 'ra.validation.incorrect_date'\n  }\n  return errors\n}\n\nconst EditTitle = (data: EventTitleProps) => {\n  const { record } = data\n  const translate = useTranslate()\n  const date = useMemo(\n    () =>\n      !((record?.dateStart as any) instanceof Date)\n        ? record?.dateStart.replace('T', ' ')\n        : '',\n    [record?.dateStart],\n  )\n  return (\n    <span>\n      {translate('resources.events.titles.edit')}: {record?.name} {date}{' '}\n      {record?.id}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const EventEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit {...props} title={<EditTitle />} actions={false}>\n      <SimpleForm\n        redirect=\"show\"\n        toolbar={<EditToolbar />}\n        validate={validateEventEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" isRequired />\n        <DateTimeInput source=\"dateStart\" isRequired />\n        <DateTimeInput source=\"dateEnd\" isRequired />\n        <FunctionField\n          source=\"status\"\n          render={(r: Record | undefined) => (\n            <TextField\n              emptyText={translate(\n                `resources.enums.eventStatus.${r?.status.toLowerCase()}`,\n              )}\n            />\n          )}\n        />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { sanitizeFetchType } from 'react-admin'\nimport { EventDto } from '../dto/event/event.dto'\nimport { EventStatus } from '../enum/EventStatus'\nimport { ResourceName } from '../ResourceName'\nimport {\n  ToggleButtonAction,\n  ToggleButtonState,\n} from './handle-activation-button'\n\ntype Mutation = {\n  type: string\n  resource: string\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  payload?: object\n}\n\nconst deactivateMutation = ({ id }: EventDto): Mutation => ({\n  type: sanitizeFetchType('deactivate'),\n  resource: ResourceName.EVENTS,\n  payload: {\n    eventId: id,\n  },\n})\n\nconst activateMutation = ({ id }: EventDto): Mutation => ({\n  type: sanitizeFetchType('activate'),\n  resource: ResourceName.EVENTS,\n  payload: {\n    eventId: id,\n  },\n})\n\ntype State = {\n  mutateQuery?: (event: EventDto) => Mutation\n} & ToggleButtonState\n\nexport const activationButtonInitialState = {\n  type: EventStatus.IN_TRANSITION,\n  text: 'resources.events.actions.activateNA',\n}\n\nexport const toggleActivationButtonReducer = (\n  state: State,\n  { type }: ToggleButtonAction,\n): State => {\n  switch (type) {\n    case EventStatus.ACTIVE: {\n      return {\n        type,\n        text: 'resources.events.actions.deactivate',\n        mutateQuery: deactivateMutation,\n      }\n    }\n    case EventStatus.INACTIVE: {\n      return {\n        type,\n        text: 'resources.events.actions.activate',\n        mutateQuery: activateMutation,\n      }\n    }\n    case EventStatus.IN_TRANSITION: {\n      return activationButtonInitialState\n    }\n    default:\n      throw new Error()\n  }\n}\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport React, { useEffect } from 'react'\nimport { useShowContext, useTranslate } from 'react-admin'\nimport { EventStatus } from '../../../core/enum/EventStatus'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    actions: {\n      padding: 0,\n      background: 'rgba(0,0,0,0.2)',\n    },\n    button: {\n      borderRadius: 0,\n      background: theme.palette.primary.main,\n    },\n    title: {\n      padding: '5px 24px',\n    },\n  }),\n)\n\nexport const StatusTransitionDialog = ({\n  handleSkipDialog,\n  open,\n  type,\n}: {\n  handleSkipDialog: () => void\n  open: boolean\n  type: EventStatus\n}) => {\n  const classes = useStyles()\n  const translate = useTranslate()\n  const { refetch } = useShowContext()\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (refetch) refetch()\n    }, 5000)\n\n    if (!open) {\n      clearInterval(interval)\n    }\n\n    return () => clearInterval(interval)\n  }, [open, refetch, type])\n\n  return (\n    <Dialog open={open}>\n      <DialogActions className={classes.actions}>\n        <IconButton\n          size=\"small\"\n          className={classes.button}\n          onClick={handleSkipDialog}\n        >\n          <Close fontSize=\"small\" />\n        </IconButton>\n      </DialogActions>\n      <DialogTitle className={classes.title}>\n        {translate('resources.events.dialogs.transition.title')}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {translate('resources.events.dialogs.transition.content')}\n        </DialogContentText>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport React, { useEffect, useReducer, useState } from 'react'\nimport {\n  useMutation,\n  useNotify,\n  useRecordContext,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { EventDto } from '../../../core/dto/event/event.dto'\nimport { EventStatus } from '../../../core/enum/EventStatus'\nimport {\n  activationButtonInitialState,\n  toggleActivationButtonReducer,\n} from '../../../core/events/handle-activation-button.reducer'\nimport Button from '../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { StatusTransitionDialog } from './StatusTransitionDialog'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginRight: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ToggleActivationButton = () => {\n  const classes = useStyles()\n  const notify = useNotify()\n  const hasAuthority = useHasAuthority()\n  const { loading, refetch } = useShowContext()\n  const [{ type, text, mutateQuery }, dispatch] = useReducer(\n    toggleActivationButtonReducer,\n    activationButtonInitialState,\n  )\n  const event = useRecordContext<EventDto>()\n  const [transitionDialogOpen, setTransitionDialogOpen] = useState(false)\n  const [skipTransitionDialog, setSkipTransitionDialog] = useState(false)\n  const [waitingForJobStart, setWaitingForJobStart] = useState(false)\n  const [mutate, { loading: mutationLoading }] = useMutation()\n\n  useEffect(() => {\n    dispatch({ type: event.status })\n  }, [event])\n\n  useEffect(() => {\n    if (!loading && !mutationLoading && !skipTransitionDialog) {\n      if (event.status === EventStatus.IN_TRANSITION)\n        setTransitionDialogOpen(true)\n      else setTransitionDialogOpen(false)\n    }\n  }, [event, loading, mutationLoading, skipTransitionDialog])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (refetch) refetch()\n    }, 2000)\n    if (!waitingForJobStart) {\n      clearInterval(interval)\n    } else if (transitionDialogOpen) {\n      setWaitingForJobStart(false)\n      clearInterval(interval)\n    }\n    return () => clearInterval(interval)\n  }, [transitionDialogOpen, refetch, waitingForJobStart])\n\n  const handleSkipTransitionDialog = () => {\n    setSkipTransitionDialog(true)\n    setTransitionDialogOpen(false)\n  }\n\n  const onClick = async () => {\n    try {\n      const query = mutateQuery?.(event)\n      await mutate(query, { returnPromise: true })\n      setWaitingForJobStart(true)\n    } catch (err) {\n      notify((err as Error)?.message, 'error')\n    }\n  }\n\n  return (\n    <>\n      <StatusTransitionDialog\n        handleSkipDialog={handleSkipTransitionDialog}\n        open={transitionDialogOpen}\n        type={type}\n      />\n      <Button\n        disabled={\n          !hasAuthority(Authority.EDIT_EVENTS) ||\n          type === EventStatus.IN_TRANSITION ||\n          loading ||\n          mutationLoading\n        }\n        className={classes.button}\n        variant=\"contained\"\n        onClick={onClick}\n        label={text}\n        useSmallVersionBreakpoint={false}\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React, { useMemo } from 'react'\nimport {\n  DateField,\n  EditButton,\n  FunctionField,\n  Record,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { EventDto } from '../../core/dto/event/event.dto'\nimport { ResourceName } from '../../core/ResourceName'\nimport RelationTab from '../common/RelationTab'\nimport RelationTabFilter from '../common/RelationTabFilter'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\nimport { ToggleActivationButton } from './event-show/ToggleActivationButton'\n\ninterface EventTitleProps extends TitleProps {\n  record?: EventDto\n}\n\nconst ShowTitle = (data: EventTitleProps) => {\n  const { record: event } = data\n  const translate = useTranslate()\n  const date = useMemo(\n    () =>\n      !((event?.dateStart as any) instanceof Date)\n        ? event?.dateStart.replace('T', ' ')\n        : '',\n    [event?.dateStart],\n  )\n  return (\n    <span>\n      {translate('resources.events.titles.show')}: {event?.name} {date}{' '}\n      {event?.id}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: event } = useShowContext<EventDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <ToggleActivationButton />\n        <EditButton\n          variant=\"contained\"\n          basePath=\"/events\"\n          record={event}\n          disabled={!hasAuthority(Authority.EDIT_EVENTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst EventTabs = ({ ...props }) => {\n  const translate = useTranslate()\n  const { record: event } = props\n\n  const RelationFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  const DevicesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n      <TextInput source=\"categoryId\" />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label={translate('resources.events.tabs.general')}>\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <DateField source=\"dateStart\" showTime />\n        <DateField source=\"dateEnd\" showTime />\n        <FunctionField\n          source=\"status\"\n          render={(r: Record | undefined) => (\n            <TextField\n              emptyText={translate(\n                `resources.enums.eventStatus.${r?.status.toLowerCase()}`,\n              )}\n            />\n          )}\n        />\n        <GeneralActions />\n      </Tab>\n      <Tab\n        path=\"companies\"\n        label={translate('resources.events.tabs.companies')}\n      >\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.COMPANIES}\n            source=\"companiesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachCompanies\"\n            detachMethod=\"detachCompanies\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              companiesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              companiesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getCompanies\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<RelationFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"objects\" label={translate('resources.events.tabs.objects')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.OBJECTS}\n            source=\"objectsIds\"\n            mode=\"edit\"\n            attachMethod=\"attachObjects\"\n            detachMethod=\"detachObjects\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              objectsIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              objectsIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            filters={<RelationFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"engines\" label={translate('resources.events.tabs.engines')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.ENGINES}\n            source=\"verifierDevicesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getDevices\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n      <Tab path=\"palms\" label={translate('resources.events.tabs.palms')}>\n        <>\n          <RelationTab<EventDto>\n            resource={ResourceName.PALMS}\n            source=\"verifierDevicesIds\"\n            mode=\"edit\"\n            attachMethod=\"attachDevices\"\n            detachMethod=\"detachDevices\"\n            attachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            detachRequestPayload={(r, ids) => ({\n              eventId: r.id,\n              verifierDevicesIds: ids,\n            })}\n            refetchListAfterChange={(filters) =>\n              filters?.filterEventId === true\n            }\n            relationsRequestMethod=\"getDevices\"\n            relationsRequestPayload={(r) => ({ eventId: r.id })}\n            filters={<DevicesFilters />}\n            filterDefaultValues={{\n              eventId: event?.id,\n              filterEventId: true,\n            }}\n            sort={{\n              field: 'id',\n              order: 'DESC',\n            }}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"name\" key=\"name\" />\n          </RelationTab>\n        </>\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const EventShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <EventTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ReferenceInput,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { BlockDto } from '../../../core/dto/block.dto'\nimport { BlockType } from '../../../core/enum/BlockType'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateBlockCreate = (values: BlockDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.tribuneId) {\n    errors.tribuneId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst BlockCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  return (\n    <Create {...props} title={translate('resources.blocks.create')}>\n      <SimpleForm\n        redirect={`/objects/${objectId}/show/2`}\n        validate={validateBlockCreate}\n      >\n        <ReferenceInput\n          source=\"tribuneId\"\n          reference={ResourceName.TRIBUNES}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ objectId }}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <TextInput source=\"name\" isRequired />\n        <TextInput source=\"code\" />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(BlockType).map(([value]) => ({\n            id: value,\n            name: `resources.enums.blockType.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default BlockCreate\n","import * as React from 'react'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nconst Empty = ({ text }: { text: string }) => (\n  <Box textAlign=\"start\" m={2}>\n    <Typography variant=\"body2\" paragraph>\n      {text}\n    </Typography>\n  </Box>\n)\n\nexport default Empty\n","import { Box } from '@material-ui/core'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  FilterButton,\n  FunctionField,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  required,\n  SelectInput,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useTranslate,\n} from 'react-admin'\nimport { BlockDto } from '../../../core/dto/block.dto'\nimport { BlockType } from '../../../core/enum/BlockType'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [\n  <TextInput source=\"name\" alwaysOn />,\n  <TextInput source=\"id\" />,\n  <TextInput source=\"tribuneId\" />,\n  <TextInput source=\"code\" />,\n]\n\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" />\n    <TextInput source=\"name\" validate={required()} />\n    <TextField source=\"tribuneId\" />\n    <SelectInput\n      source=\"type\"\n      choices={Object.entries(BlockType).map(([value]) => ({\n        id: value,\n        name: `resources.enums.blockType.${value}`,\n      }))}\n    />\n    <TextInput source=\"code\" />\n  </RowForm>\n)\n\nconst BlocksGrid = ({ ...props }) => {\n  const translate = useTranslate()\n\n  return (\n    <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <TextField source=\"tribuneId\" />\n      <FunctionField<BlockDto>\n        source=\"type\"\n        render={(r?: BlockDto) =>\n          translate(`resources.enums.blockType.${r?.type}`)\n        }\n      />\n      <TextField source=\"code\" />\n    </EditableDatagrid>\n  )\n}\n\ninterface BlockListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: BlockListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.blocks.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface BlockListProps extends ListProps {\n  objectId?: number\n}\n\nconst BlocksList = ({ objectId, ...props }: BlockListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <BlocksGrid />\n    </List>\n  )\n}\n\nexport default BlocksList\n","import { Cancel } from '@material-ui/icons'\nimport * as React from 'react'\nimport {\n  Create,\n  SimpleForm,\n  TextInput,\n  CreateProps,\n  useTranslate,\n  Toolbar,\n  ToolbarProps,\n  SaveButton,\n  ListButton,\n} from 'react-admin'\nimport { ObjectDto } from '../../../core/dto/object.dto'\n\nconst validateObjectCreate = (values: ObjectDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst ObjectCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  return (\n    <Create {...props} title={translate('resources.objects.create')}>\n      <SimpleForm\n        redirect=\"list\"\n        toolbar={<CreateToolbar />}\n        validate={validateObjectCreate}\n      >\n        <TextInput source=\"name\" isRequired />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default ObjectCreate\n","import * as React from 'react'\nimport {\n  Edit,\n  SimpleForm,\n  TextInput,\n  TextField,\n  EditProps,\n  useTranslate,\n  Toolbar,\n  SaveButton,\n  ShowButton,\n  ToolbarProps,\n} from 'react-admin'\nimport { Cancel } from '@material-ui/icons'\nimport { ObjectDto } from '../../../core/dto/object.dto'\n\nconst validateObjectEdit = (values: ObjectDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst ObjectEdit = (props: EditProps) => {\n  const translate = useTranslate()\n  return (\n    <Edit\n      {...props}\n      hasShow={false}\n      title={translate('resources.objects.edit')}\n    >\n      <SimpleForm\n        toolbar={<EditToolbar />}\n        redirect=\"show\"\n        validate={validateObjectEdit}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"name\" isRequired />\n      </SimpleForm>\n    </Edit>\n  )\n}\n\nexport default ObjectEdit\n","import React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  FilterProps,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst ObjectGrid = ({ ...props }) => (\n  <Datagrid\n    {...props}\n    size=\"small\"\n    rowClick={(id) => `${ResourceName.OBJECTS}/${id}/show`}\n  >\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n  </Datagrid>\n)\n\nconst ObjectList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    exporter={false}\n    filters={<ListFilters />}\n    bulkActionButtons={false}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n  >\n    <ObjectGrid />\n  </List>\n)\n\nexport default ObjectList\n","import { Box } from '@material-ui/core'\nimport { useListContext } from 'ra-core'\nimport React from 'react'\nimport {\n  FilterButton,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useTranslate,\n} from 'react-admin'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [\n  <TextInput source=\"numberAlias\" alwaysOn />,\n  <TextInput source=\"id\" />,\n  <TextInput source=\"rowAlias\" />,\n  <TextInput source=\"blockId\" />,\n]\n\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" />\n    <TextInput source=\"rowAlias\" />\n    <TextInput source=\"numberAlias\" />\n    <TextField source=\"blockId\" />\n  </RowForm>\n)\n\nconst SeatsGrid = ({ ...props }) => (\n  <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n    <TextField source=\"id\" />\n    <TextField source=\"rowAlias\" />\n    <TextField source=\"numberAlias\" />\n    <TextField source=\"blockId\" />\n  </EditableDatagrid>\n)\n\ninterface SeatListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: SeatListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.seats.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface SeatsListProps extends ListProps {\n  objectId?: number\n}\n\nconst SeatsList = ({ objectId, ...props }: SeatsListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      exporter={false}\n      basePath={basePath}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <SeatsGrid />\n    </List>\n  )\n}\n\nexport default SeatsList\n","import { Box } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  FilterButton,\n  List,\n  ListActionsProps,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  TopToolbar,\n  useListContext,\n  useTranslate,\n} from 'react-admin'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid'\nimport ParameterizedCreateButton from '../../common/ParameterizedCreateButton'\nimport Empty from '../Empty'\n\nconst ListFilters = () => [<TextInput source=\"name\" alwaysOn />]\nconst EditForm = ({ ...props }) => (\n  <RowForm {...props}>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextInput source=\"name\" />\n  </RowForm>\n)\n\nconst TribuneGrid = ({ ...props }) => (\n  <EditableDatagrid {...props} size=\"small\" editForm={<EditForm />} noDelete>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n  </EditableDatagrid>\n)\n\ninterface TribuneListActions extends ListActionsProps {\n  objectId?: number\n}\n\nconst ListActions = ({ objectId }: TribuneListActions) => (\n  <TopToolbar>\n    <FilterButton />\n    <ParameterizedCreateButton searchParams={{ objectId }} />\n  </TopToolbar>\n)\n\nconst EmptyView = ({ objectId }: { objectId?: number }) => {\n  const translate = useTranslate()\n  return (\n    <Box>\n      <Empty text={translate('resources.tribunes.empty')} />\n      <TopToolbar>\n        <ParameterizedCreateButton searchParams={{ objectId }} />\n      </TopToolbar>\n    </Box>\n  )\n}\n\ninterface TribuneListProps extends ListProps {\n  objectId?: number\n}\n\nconst TribunesList = ({ objectId, ...props }: TribuneListProps) => {\n  const { basePath } = useListContext()\n\n  return (\n    <List\n      {...props}\n      basePath={basePath}\n      exporter={false}\n      filters={ListFilters()}\n      actions={<ListActions objectId={objectId} />}\n      bulkActionButtons={false}\n      perPage={20}\n      pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n      empty={<EmptyView objectId={objectId} />}\n    >\n      <TribuneGrid />\n    </List>\n  )\n}\n\nexport default TribunesList\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useShowController,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ObjectDto } from '../../../core/dto/object.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport BlocksList from '../Blocks/BlocksList'\nimport SeatsList from '../Seats/SeatsList'\nimport TribunesList from '../Tribunes/TribunesList'\n\ninterface ObjectTitleProps extends TitleProps {\n  record?: ObjectDto\n}\n\nconst ObjectShowTitle = (data: ObjectTitleProps) => {\n  const { record } = data\n  const t = useTranslate()\n  return (\n    <span>\n      {t('resources.objects.name')}: {record?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: object, basePath } = useShowContext<ObjectDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"flex\" justifyContent=\"flex-end\">\n        <EditButton\n          basePath={basePath}\n          record={object}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_OBJECTS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst ObjectShow = (props: ShowProps) => {\n  const t = useTranslate()\n  const { record: object } = useShowController<ObjectDto>(props)\n\n  return (\n    <Show {...props} title={<ObjectShowTitle />} actions={false}>\n      <TabbedShowLayout>\n        <Tab label={t('resources.objects.tabs.general')}>\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <GeneralActions />\n        </Tab>\n        <Tab label={t('resources.objects.tabs.tribunes')}>\n          <ResourceContextProvider value={ResourceName.TRIBUNES}>\n            <TribunesList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n        <Tab label={t('resources.objects.tabs.blocks')}>\n          <ResourceContextProvider value={ResourceName.BLOCKS}>\n            <BlocksList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n        <Tab label={t('resources.objects.tabs.seats')}>\n          <ResourceContextProvider value={ResourceName.SEATS}>\n            <SeatsList\n              title=\" \"\n              filter={{ objectId: object?.id }}\n              objectId={object?.id}\n            />\n          </ResourceContextProvider>\n        </Tab>\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n\nexport default ObjectShow\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ReferenceInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { SeatDto } from '../../../core/dto/seat.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateSeatCreate = (values: SeatDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.blockId) {\n    errors.blockId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst SeatCreate = (props: CreateProps) => {\n  const translate = useTranslate()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  return (\n    <Create {...props} title={translate('resources.seats.create')}>\n      <SimpleForm\n        redirect={`/objects/${objectId}/show/3`}\n        validate={validateSeatCreate}\n      >\n        <ReferenceInput\n          source=\"blockId\"\n          reference={ResourceName.BLOCKS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          filter={{ objectId }}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n        <TextInput source=\"numberAlias\" />\n        <TextInput source=\"rowAlias\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default SeatCreate\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Create,\n  CreateProps,\n  GET_ONE,\n  Identifier,\n  NumberInput,\n  ReferenceInput,\n  sanitizeFetchType,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useQuery,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { TribuneDto } from '../../../core/dto/tribune.dto'\nimport { TribuneType } from '../../../core/enum/TribuneType'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateTribuneCreate = (values: TribuneDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.objectId) {\n    errors.objectId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = ({ objectId }: { objectId?: Identifier }) => {\n  const translate = useTranslate()\n  const { data: object } = useQuery(\n    {\n      type: sanitizeFetchType(GET_ONE),\n      resource: ResourceName.OBJECTS,\n      payload: {\n        id: objectId,\n      },\n    },\n    { enabled: objectId !== undefined },\n  )\n\n  return (\n    <span>{`${translate('resources.tribunes.create')}${\n      object ? `: ${object?.name} (${object?.id})` : ''\n    }`}</span>\n  )\n}\n\nconst TribuneCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const objectIdRaw = new URLSearchParams(search).get('objectId')\n  const objectId: number | undefined =\n    objectIdRaw !== null ? Number(objectIdRaw) : undefined\n\n  const defaultValue = () => ({\n    objectId,\n  })\n\n  return (\n    <Create {...props} title={<CreateTitle objectId={objectId} />}>\n      <SimpleForm\n        redirect={objectId ? `/objects/${objectId}/show/1` : 'show'}\n        initialValues={defaultValue}\n        validate={validateTribuneCreate}\n      >\n        {!objectId ? (\n          <ReferenceInput\n            source=\"objectId\"\n            reference={ResourceName.OBJECTS}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n            isRequired\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        ) : (\n          <NumberInput source=\"objectId\" disabled />\n        )}\n        <TextInput source=\"name\" isRequired />\n        <TextInput source=\"code\" />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(TribuneType).map(([value]) => ({\n            id: value,\n            name: `resources.enums.tribuneType.${value}`,\n          }))}\n        />\n      </SimpleForm>\n    </Create>\n  )\n}\n\nexport default TribuneCreate\n","import React from 'react'\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  ArrayField,\n  Datagrid,\n  TextField,\n} from 'react-admin'\n\nconst useStyles = makeStyles({\n  noBottomBorder: {\n    borderBottom: 'none',\n  },\n  quarterWidth: {\n    width: '25%',\n  },\n})\n\nconst ViewTitle = (record: any) => {\n  const {\n    record: { eventName, date, id },\n  } = record\n  const t = useTranslate()\n  const description = `${eventName} ${date.replace('T', ' ')} ${id}`\n  return (\n    <span>{`${t('resources.stats-overall-view.name')}: ${description}`}</span>\n  )\n}\n\nconst BlockGrid = (props: any) => {\n  const {\n    record: { soldAbo, soldInfix, soldNormal, soldPoints, soldService },\n  } = props\n  const classes = useStyles()\n  const translate = useTranslate()\n\n  const firstColumnEntries = [\n    { label: 'abo', value: soldAbo },\n    { label: 'infix', value: soldInfix },\n    { label: 'normal', value: soldNormal },\n    { label: 'points', value: soldPoints },\n    { label: 'service', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && (\n        <div key={label}>\n          {translate(`resources.stats-overall-view.fields.${label}`)}\n        </div>\n      ),\n  )\n\n  const secondColumnEntries = [\n    { label: 'enteredAbo', value: soldAbo },\n    { label: 'enteredInfix', value: soldInfix },\n    { label: 'enteredNormal', value: soldNormal },\n    { label: 'enteredPoints', value: soldPoints },\n    { label: 'enteredService', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && <TextField key={label} source={label} label=\" \" />,\n  )\n\n  const thirdColumnEntries = [\n    { label: 'soldAbo', value: soldAbo },\n    { label: 'soldInfix', value: soldInfix },\n    { label: 'soldNormal', value: soldNormal },\n    { label: 'soldPoints', value: soldPoints },\n    { label: 'soldService', value: soldService },\n  ].map(\n    ({ label, value }) =>\n      !!value && <TextField key={label} source={label} label=\" \" />,\n  )\n\n  return (\n    <TableContainer style={{ paddingTop: '10px', marginBottom: '10px' }}>\n      <Table padding=\"none\">\n        <TableBody>\n          <TableRow>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            />\n            <TableCell\n              style={{ width: '40%' }}\n              className={classes.noBottomBorder}\n            >\n              {firstColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            >\n              {secondColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            >\n              {thirdColumnEntries}\n            </TableCell>\n            <TableCell\n              style={{ width: '15%' }}\n              className={classes.noBottomBorder}\n            />\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nconst TribuneGrid = () => {\n  const translate = useTranslate()\n\n  const TribuneHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '40%' }}>\n          {translate('resources.stats-overall-view.fields.block')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"blocks\">\n      <Datagrid\n        expand={<BlockGrid />}\n        padding=\"none\"\n        header={<TribuneHeader />}\n        isRowExpandable={(record) => !!record.sold}\n      >\n        <TextField source=\"name\" label=\"Sektor\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nconst ObjectGrid = () => {\n  const translate = useTranslate()\n\n  const objectHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '10%' }} />\n        <TableCell style={{ width: '45%' }}>\n          {translate('resources.stats-overall-view.fields.tribune')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n        <TableCell style={{ width: '15%' }} />\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <ArrayField source=\"tribunes\">\n      <Datagrid expand={<TribuneGrid />} padding=\"none\" header={objectHeader}>\n        <TextField source=\"name\" label=\"Trybuna\" />\n        <TextField source=\"entered\" label=\" \" />\n        <TextField source=\"sold\" label=\" \" />\n        <TextField source=\"capacity\" label=\" \" />\n      </Datagrid>\n    </ArrayField>\n  )\n}\n\nexport const OverallView = (props: ShowProps) => {\n  const translate = useTranslate()\n\n  const overallHeader = () => (\n    <TableHead>\n      <TableRow>\n        <TableCell style={{ width: '5%' }} />\n        <TableCell style={{ width: '50%' }}>\n          {translate('resources.stats-overall-view.fields.name')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.entered')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.sold')}\n        </TableCell>\n        <TableCell style={{ width: '15%' }}>\n          {translate('resources.stats-overall-view.fields.capacity')}\n        </TableCell>\n      </TableRow>\n    </TableHead>\n  )\n\n  return (\n    <Show title={<ViewTitle />} {...props}>\n      <ArrayField source=\"objects\">\n        <Datagrid expand={<ObjectGrid />} padding=\"none\" header={overallHeader}>\n          <TextField source=\"name\" label=\"Obiekt\" />\n          <TextField source=\"entered\" />\n          <TextField source=\"sold\" />\n          <TextField source=\"capacity\" />\n        </Datagrid>\n      </ArrayField>\n    </Show>\n  )\n}\n","import * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  ListProps,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst OverallViewGrid = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  // TODO: header doesn't change color when theme value is switched\n  //  the reason is the need to change the theme at <Admin> level - not at <Layout> level\n  //  the solution is here - https://stackoverflow.com/a/63967145 -> after that customReducer needs to be removed\n  return (\n    <Datagrid\n      {...props}\n      rowClick={\n        hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW)\n          ? (id) => `${ResourceName.STATS_OVERALL_VIEW}/${id}/show`\n          : undefined\n      }\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <DateField source=\"dateStart\" showTime />\n      <DateField source=\"dateEnd\" showTime />\n    </Datagrid>\n  )\n}\n\nconst OverallViewFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nexport const OverallViewList = (props: ListProps) => (\n  <List\n    {...props}\n    actions={false}\n    filter={{\n      hasObjects: true,\n    }}\n    filters={<OverallViewFilters />}\n    sort={{ field: 'id', order: 'DESC' }}\n  >\n    <OverallViewGrid />\n  </List>\n)\n","import {\n  Box,\n  Grid,\n  makeStyles,\n  Theme,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport * as React from 'react'\nimport {\n  Datagrid,\n  DateField,\n  Filter,\n  List,\n  Pagination,\n  ReferenceField,\n  ResourceComponentProps,\n  TextField,\n  TextInput,\n  useListContext,\n  useTranslate,\n  ReferenceInput,\n  SelectInput,\n  FunctionField,\n} from 'react-admin'\nimport { Authority } from '../../core/auth/Authority'\nimport { TicketDto } from '../../core/dto/ticket.dto'\nimport { BookingType } from '../../core/enum/BookingType'\nimport { ResourceName } from '../../core/ResourceName'\nimport FilterProps from '../common/FilterProps'\nimport { MaskField } from '../common/MaskField'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../hooks/useHasAuthority'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  inactiveTicketCode: {\n    color: theme.palette.error.main,\n    textDecoration: 'line-through',\n    textDecorationColor: theme.palette.error.main,\n  },\n}))\n\nconst TicketExpand = () => {\n  const t = useTranslate()\n  return (\n    <Box padding={1}>\n      <Grid container spacing={1}>\n        <Grid item xs={4}>\n          {t('resources.tickets.fields.bookingId')}\n        </Grid>\n        <Grid item xs={8} style={{ textAlign: 'center' }}>\n          <TextField source=\"bookingId\" />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n}\n\nconst TicketGrid = ({ ...props }) => {\n  const classes = useStyles()\n  const { data } = useListContext()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Datagrid\n        {...props}\n        padding={smallScreen ? 'checkbox' : 'default'}\n        rowClick={(id) =>\n          `${ResourceName.BOOKINGS}/${data[id]?.bookingId}/show`\n        }\n        isRowExpandable={() => xSmallScreen}\n        expand={<TicketExpand />}\n        hasBulkActions={false}\n      >\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.firstname\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerFirstname\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <TextField source=\"firstname\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.lastname\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerLastname\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <TextField source=\"lastname\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.pesel\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerPesel\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <MaskField source=\"pesel\" />\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {smallScreen &&\n          hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_CUSTOMERS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.customer\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"customerPesel\"\n            >\n              <ReferenceField\n                source=\"customerId\"\n                reference={ResourceName.CUSTOMERS}\n                link={false}\n              >\n                <>\n                  <TextField source=\"firstname\" />{' '}\n                  <TextField source=\"lastname\" /> <MaskField source=\"pesel\" />\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        <FunctionField<TicketDto>\n          source=\"ticketCode\"\n          render={(record?: TicketDto) =>\n            record?.active === true ? (\n              <TextField source=\"ticketCode\" />\n            ) : (\n              <TextField\n                source=\"ticketCode\"\n                className={classes.inactiveTicketCode}\n              />\n            )\n          }\n        />\n        {hasAuthority(Authority.VIEW_BOOKINGS) &&\n          hasAuthority(Authority.VIEW_EVENTS) && (\n            <ReferenceField\n              source=\"bookingId\"\n              label=\"resources.tickets.fields.event\"\n              reference={ResourceName.BOOKINGS}\n              link={false}\n              sortBy=\"eventName\"\n            >\n              <ReferenceField\n                source=\"eventId\"\n                reference={ResourceName.EVENTS}\n                link={false}\n              >\n                <>\n                  <TextField source=\"name\" /> <DateField source=\"dateStart\" /> (\n                  <TextField source=\"id\" />)\n                </>\n              </ReferenceField>\n            </ReferenceField>\n          )}\n        {!xSmallScreen && <TextField source=\"bookingId\" />}\n      </Datagrid>\n    </>\n  )\n}\n\nconst TicketFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"ticketCode\" alwaysOn />\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput\n          label=\"resources.tickets.fields.event\"\n          source=\"eventId\"\n          reference={ResourceName.EVENTS}\n          sort={{ field: 'dateStart', order: 'DESC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      <SelectInput\n        source=\"bookingType\"\n        choices={Object.entries(BookingType).map(([value]) => ({\n          id: value,\n          name: `resources.enums.bookingType.${value}`,\n        }))}\n      />\n      {hasAuthority(Authority.VIEW_OBJECTS) && (\n        <ReferenceInput\n          source=\"objectId\"\n          reference={ResourceName.OBJECTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n      {hasAuthority(Authority.VIEW_VARIANTS) && (\n        <ReferenceInput\n          source=\"variantId\"\n          reference={ResourceName.VARIANTS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nexport const TicketList = (props: ResourceComponentProps) => (\n  <List\n    {...props}\n    exporter={false}\n    perPage={20}\n    sort={{ field: 'id', order: 'DESC' }}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    filters={<TicketFilters />}\n  >\n    <TicketGrid />\n  </List>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  DateTimeInput,\n  GET_ONE,\n  Identifier,\n  NumberInput,\n  ReferenceInput,\n  sanitizeFetchType,\n  SelectInput,\n  SimpleForm,\n  useQuery,\n  useTranslate,\n} from 'react-admin'\nimport { useLocation } from 'react-router'\nimport { formatDate, formatTime } from '../../../core/common/date-time'\nimport { AccessDateDto } from '../../../core/dto/access-date.dto'\nimport { AccessDateTypes } from '../../../core/enum/AccessDateTypes'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\n\nconst validateAccessDateCreate = (values: AccessDateDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.activeFrom) {\n    errors.activeFrom = 'ra.validation.required'\n  }\n  if (!values.activeTo) {\n    errors.activeTo = 'ra.validation.required'\n  }\n  if (!values.type) {\n    errors.type = 'ra.validation.required'\n  }\n  if (!values.timeFrom) {\n    errors.timeFrom = 'ra.validation.required'\n  }\n  if (!values.timeTo) {\n    errors.timeTo = 'ra.validation.required'\n  }\n  if (!values.accessId) {\n    errors.accessId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = ({ accessId }: { accessId?: Identifier }) => {\n  const translate = useTranslate()\n  const { data: access } = useQuery(\n    {\n      type: sanitizeFetchType(GET_ONE),\n      resource: ResourceName.ACCESSES,\n      payload: {\n        id: accessId,\n      },\n    },\n    { enabled: accessId !== undefined },\n  )\n\n  return (\n    <span>{`${translate('resources.access-dates.titles.create')}${\n      access ? `: ${access?.name} (${access?.id})` : ''\n    }`}</span>\n  )\n}\n\nexport const AccessDateCreate = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const { search } = useLocation()\n  const accessIdRaw = new URLSearchParams(search).get('accessId')\n  const accessId: number | undefined =\n    accessIdRaw !== null ? Number(accessIdRaw) : undefined\n\n  const defaultValue = () => ({\n    accessId,\n  })\n\n  return (\n    <Create {...props} title={<CreateTitle accessId={accessId} />}>\n      <SimpleForm\n        redirect={accessId ? `/accesses/${accessId}/show/dates` : 'show'}\n        validate={validateAccessDateCreate}\n        initialValues={defaultValue}\n      >\n        {!accessId ? (\n          <ReferenceInput\n            source=\"accessId\"\n            defaultValue={null}\n            reference={ResourceName.ACCESSES}\n            sort={{ field: 'name', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n            isRequired\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        ) : (\n          <NumberInput source=\"accessId\" disabled isRequired />\n        )}\n        <DateTimeInput\n          source=\"activeFrom\"\n          type=\"date\"\n          format={formatDate}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <DateTimeInput\n          source=\"activeTo\"\n          type=\"date\"\n          format={formatDate}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <DateTimeInput\n          source=\"timeFrom\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <DateTimeInput\n          source=\"timeTo\"\n          type=\"time\"\n          format={formatTime}\n          parse={(value: string) => (value === '' ? null : value)}\n          isRequired\n        />\n        <SelectInput\n          source=\"type\"\n          choices={Object.entries(AccessDateTypes).map(([value]) => ({\n            id: value,\n            name: `resources.enums.accessDateTypes.${value}`,\n          }))}\n        />\n        <NumberInput source=\"priority\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceInput,\n  TextField,\n  TextInput,\n  useListContext,\n  Filter,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport FilterProps from '../../common/FilterProps'\n\nconst CompanyFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Filter {...props}>\n      <TextInput source=\"name\" alwaysOn />\n      {hasAuthority(Authority.VIEW_EVENTS) && (\n        <ReferenceInput source=\"eventId\" reference={ResourceName.EVENTS}>\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst CompanyGrid = () => {\n  const { loading } = useListContext()\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.COMPANIES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n    </Datagrid>\n  )\n}\n\nexport const CompanyList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<CompanyFilters />}\n  >\n    <CompanyGrid />\n  </List>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Create,\n  CreateProps,\n  ListButton,\n  ReferenceInput,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { CreateUserRequest } from '../../../core/administration/users/users.provider'\n\nexport const validateUserCreate = (values: CreateUserRequest) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.userName) {\n    errors.userName = 'ra.validation.required'\n  }\n  if (!values.password) {\n    errors.password = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.users.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst defaultValues = {\n  requirePasswordUpdate: false,\n}\n\nexport const UserCreate = (props: CreateProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Create {...props} title={<CreateTitle />}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateUserCreate}\n        toolbar={<CreateToolbar />}\n        initialValues={defaultValues}\n      >\n        <TextInput source=\"userName\" isRequired />\n        <TextInput source=\"password\" isRequired />\n        {hasAuthority(Authority.VIEW_COMPANIES) && (\n          <ReferenceInput\n            source=\"companyId\"\n            reference={ResourceName.COMPANIES}\n            sort={{ field: 'id', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"requirePasswordUpdate\" />\n      </SimpleForm>\n    </Create>\n  )\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  BooleanInput,\n  Edit,\n  EditProps,\n  ReferenceInput,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { UserDto } from '../../../core/dto/user.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface UserTitleProps extends TitleProps {\n  record?: UserDto\n}\n\nexport const validateUserEdit = (values: UserDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.userName) {\n    errors.userName = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = (props: UserTitleProps) => {\n  const { record } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.users.titles.edit')}: {record?.id}.{' '}\n      {record?.userName}{' '}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const UserEdit = (props: EditProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  return (\n    <Edit {...props} title={<EditTitle />} actions={false}>\n      <SimpleForm\n        redirect=\"show\"\n        validate={validateUserEdit}\n        toolbar={<EditToolbar />}\n      >\n        <TextField source=\"id\" label=\"ID\" />\n        <TextInput source=\"userName\" isRequired />\n        {hasAuthority(Authority.VIEW_COMPANIES) && (\n          <ReferenceInput\n            source=\"companyId\"\n            reference={ResourceName.COMPANIES}\n            sort={{ field: 'id', order: 'ASC' }}\n            perPage={smallScreen ? 5 : 15}\n          >\n            <SelectWithPaginationInput\n              optionText=\"name\"\n              paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n            />\n          </ReferenceInput>\n        )}\n        <BooleanInput source=\"requirePasswordUpdate\" />\n      </SimpleForm>\n    </Edit>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  BooleanInput,\n  EditButton,\n  FunctionField,\n  List,\n  Pagination,\n  ResourceContextProvider,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TextInput,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { CompanyDto } from '../../../core/dto/company.dto'\nimport { UserDto } from '../../../core/dto/user.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../lib/@react-admin/ra-editable-datagrid/esm/src'\nimport { EventList } from '../../events/EventList'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport { validateUserCreate } from '../users/UserCreate'\nimport { validateUserEdit } from '../users/UserEdit'\n\ninterface CompanyTitleProps extends TitleProps {\n  record?: CompanyDto\n}\n\nconst ShowTitle = (data: CompanyTitleProps) => {\n  const { record: company } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.companies.titles.show')}: {company?.id}.{' '}\n      {company?.name}\n    </span>\n  )\n}\n\nconst CompanyEvents = () => {\n  const { record: company, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.EVENTS}>\n      <EventList\n        basePath={basePath}\n        filter={{ companyId: company?.id }}\n        filters={undefined}\n        actions={false}\n        title=\" \"\n      />\n    </ResourceContextProvider>\n  )\n}\n\nconst CompanyUserCreate = ({ ...props }) => {\n  const { companyId, ...rest } = props\n  return (\n    <RowForm\n      initialValues={{\n        companyId,\n      }}\n      {...rest}\n      validate={validateUserCreate}\n    >\n      <TextField source=\"id\" />\n      <TextInput source=\"userName\" />\n      <TextInput source=\"password\" />\n      <BooleanInput source=\"requirePasswordUpdate\" />\n    </RowForm>\n  )\n}\n\nconst CompanyUserEdit = ({ ...props }) => (\n  <RowForm {...props} validate={validateUserEdit}>\n    <TextField source=\"id\" />\n    <TextInput source=\"userName\" />\n    <BooleanInput source=\"requirePasswordUpdate\" />\n  </RowForm>\n)\n\nconst CompanyUsersGrid = ({ ...props }) => {\n  const { record: company } = useShowContext()\n  const hasAuthority = useHasAuthority()\n  const translate = useTranslate()\n\n  return (\n    <EditableDatagrid\n      {...props}\n      actions={hasAuthority(Authority.EDIT_COMPANIES) ? undefined : false}\n      editForm={<CompanyUserEdit />}\n      createForm={\n        hasAuthority(Authority.EDIT_COMPANIES) &&\n        hasAuthority(Authority.CREATE_COMPANIES) ? (\n          <CompanyUserCreate companyId={company?.id} />\n        ) : undefined\n      }\n      hasBulkActions={false}\n      defaultTitle={null}\n      noDelete\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"userName\" />\n      <FunctionField<UserDto>\n        source=\"requirePasswordUpdate\"\n        render={(record?: UserDto) => (\n          <div>\n            {record?.requirePasswordUpdate\n              ? translate('const.yes')\n              : translate('const.no')}\n          </div>\n        )}\n      />\n    </EditableDatagrid>\n  )\n}\n\nconst CompanyUsers = () => {\n  const { record: company, basePath } = useShowContext()\n\n  return (\n    <ResourceContextProvider value={ResourceName.USERS}>\n      <List\n        title=\" \"\n        actions={false}\n        exporter={false}\n        basePath={basePath}\n        filter={{ companyId: company?.id }}\n        filters={undefined}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n        bulkActionButtons={false}\n        empty={false}\n      >\n        <CompanyUsersGrid />\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: company } = useShowContext<CompanyDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.COMPANIES}`}\n          record={company}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_COMPANIES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const CompanyShow = (props: ShowProps) => {\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Show {...props} actions={false} title={<ShowTitle />}>\n      <TabbedShowLayout>\n        <Tab label=\"resources.companies.tabs.general\">\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"name\" />\n          <GeneralActions />\n        </Tab>\n        {hasAuthority(Authority.VIEW_EVENTS) && (\n          <Tab label=\"resources.companies.tabs.events\" path=\"events\">\n            <CompanyEvents />\n          </Tab>\n        )}\n        {hasAuthority(Authority.VIEW_USERS) && (\n          <Tab label=\"resources.companies.tabs.users\" path=\"users\">\n            <CompanyUsers />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n","import React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useListContext,\n  Filter,\n} from 'react-admin'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\n\nconst RolesFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst RolesGrid = () => {\n  const { loading } = useListContext()\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.ROLES}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" />\n    </Datagrid>\n  )\n}\n\nexport const RoleList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<RolesFilters />}\n  >\n    <RolesGrid />\n  </List>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  TitleProps,\n  TabbedShowLayout,\n  Tab,\n  useShowContext,\n  ResourceContextProvider,\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  Record,\n  Identifier,\n  EditButton,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { CompanyDto } from '../../../core/dto/company.dto'\nimport { RoleDto } from '../../../core/dto/role/role.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport RelationTabFilter from '../../common/RelationTabFilter'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\ninterface CompanyTitleProps extends TitleProps {\n  record?: CompanyDto\n}\n\nconst ShowTitle = (data: CompanyTitleProps) => {\n  const { record: company } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.roles.titles.show')}: {company?.id}. {company?.name}\n    </span>\n  )\n}\n\nconst RoleUsers = () => {\n  const { record: role, basePath } = useShowContext()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <ResourceContextProvider value={ResourceName.USERS}>\n        <List\n          title=\" \"\n          actions={false}\n          exporter={false}\n          basePath={basePath}\n          filter={{ roleId: role?.id }}\n          filters={undefined}\n          perPage={10}\n          pagination={false}\n          bulkActionButtons={false}\n        >\n          <Datagrid\n            rowClick={(id: Identifier) => `/${ResourceName.USERS}/${id}/show`}\n          >\n            <TextField source=\"id\" label=\"ID\" />\n            <TextField source=\"userName\" />\n            {hasAuthority(Authority.VIEW_COMPANIES) && (\n              <ReferenceField\n                source=\"companyId\"\n                reference={ResourceName.COMPANIES}\n                link={(record: Record) =>\n                  `/${ResourceName.COMPANIES}/${record.companyId}/show`\n                }\n              >\n                <TextField source=\"name\" />\n              </ReferenceField>\n            )}\n          </Datagrid>\n        </List>\n      </ResourceContextProvider>\n    </>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: role } = useShowContext<RoleDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <EditButton\n          basePath={`/${ResourceName.ROLES}`}\n          record={role}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_ROLES)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst RoleTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  const { record: role } = useShowContext<RoleDto>()\n\n  const PermissionsFilter = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.roles.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_ROLES) && (\n        <Tab path=\"permissions\" label=\"resources.roles.tabs.permissions\">\n          <>\n            <RelationTab<RoleDto>\n              resource={ResourceName.PERMISSIONS}\n              source=\"permissionsIds\"\n              mode={hasAuthority(Authority.EDIT_ROLES) ? 'edit' : 'show'}\n              attachMethod=\"attachPermissions\"\n              detachMethod=\"detachPermissions\"\n              attachRequestPayload={(r, ids) => ({\n                roleId: r.id,\n                permissionsIds: ids,\n              })}\n              detachRequestPayload={(r, ids) => ({\n                roleId: r.id,\n                permissionsIds: ids,\n              })}\n              refetchListAfterChange={(filters) =>\n                filters?.filterRoleId === true\n              }\n              filters={<PermissionsFilter />}\n              filterDefaultValues={{\n                roleId: role?.id,\n                filterRoleId: true,\n              }}\n              sort={{\n                field: 'id',\n                order: 'DESC',\n              }}\n            >\n              <TextField label=\"ID\" source=\"id\" />\n              <TextField source=\"name\" />\n            </RelationTab>\n          </>\n        </Tab>\n      )}\n      {hasAuthority(Authority.VIEW_USERS) && (\n        <Tab label=\"resources.roles.tabs.users\" path=\"users\">\n          <RoleUsers />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const RoleShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <RoleTabs />\n  </Show>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n  useListContext,\n  Filter,\n  ReferenceField,\n  ReferenceInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { ResourceName } from '../../../core/ResourceName'\nimport FilterProps from '../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\n\nconst UsersFilters = (props: FilterProps) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"userName\" alwaysOn />\n      {hasAuthority(Authority.VIEW_COMPANIES) && (\n        <ReferenceInput\n          source=\"companyId\"\n          reference={ResourceName.COMPANIES}\n          sort={{ field: 'id', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst UsersGrid = () => {\n  const { loading } = useListContext()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Datagrid\n      size=\"small\"\n      loaded={!loading}\n      rowClick={(id) => `${ResourceName.USERS}/${id}/show`}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"userName\" />\n      {hasAuthority(Authority.VIEW_COMPANIES) && (\n        <ReferenceField\n          source=\"companyId\"\n          reference={ResourceName.COMPANIES}\n          link=\"show\"\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const UserList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    filters={<UsersFilters />}\n  >\n    <UsersGrid />\n  </List>\n)\n","import {\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  makeStyles,\n  Theme,\n  createStyles,\n  DialogContent,\n  TextField,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  useTranslate,\n  useShowContext,\n  useMutation,\n  useRefresh,\n  sanitizeFetchType,\n} from 'react-admin'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { UserDto } from '../../../../core/dto/user.dto'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: string\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(`resources.users.dialogs.confirm.${source}.${action}`)}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const ChangePasswordDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [value, setValue] = useState<string>('')\n  const [error, setError] = useState(false)\n  const [errorText, setErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: user } = useShowContext<UserDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setValue('')\n    setError(false)\n    setErrorText('')\n    close()\n  }\n\n  const handleValidate = () => {\n    setError(false)\n    setErrorText('')\n    // if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(value)) {\n    //   setError(true)\n    //   setErrorText(\n    //     'resources.users.dialogs.changePassword.error-password-requirements',\n    //   )\n    // } else if (value.replace(/^[a-zA-Z0-9]*$/, '').length !== 0) {\n    //   setError(true)\n    //   setErrorText('resources.users.dialogs.changePassword.error-bad-string')\n    // } else\n    setConfirmOpen(true)\n  }\n\n  const handleChangeUserPassword = async () => {\n    setConfirmOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('changeUserPassword'),\n        resource: ResourceName.USERS,\n        payload: {\n          userId: user?.id,\n          newPassword: value,\n        },\n      },\n      { returnPromise: true },\n    )\n    setValue('')\n    refresh()\n    close()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleChangeUserPassword}\n        source=\"changePassword\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.users.dialogs.changePassword.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          variant=\"outlined\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          fullWidth\n          error={error}\n          helperText={translate(errorText)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={handleValidate}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useTranslate, useShowContext } from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport Button from '../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { ChangePasswordDialog } from './UserDialogs'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      color: theme.palette.common.white,\n      marginRight: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n    },\n  }),\n)\n\nconst ChangePasswordButton = () => {\n  const { loading } = useShowContext()\n  const [dialogOpen, setDialogOpen] = useState(false)\n  const translate = useTranslate()\n  const classes = useStyles()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <ChangePasswordDialog\n        open={dialogOpen}\n        close={() => setDialogOpen(false)}\n      />\n      <Button\n        className={classes.button}\n        variant=\"contained\"\n        label={translate('resources.users.actions.changePassword')}\n        disabled={!hasAuthority(Authority.EDIT_USERS) || loading}\n        onClick={() => setDialogOpen(true)}\n      />\n    </>\n  )\n}\n\nexport default ChangePasswordButton\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Show,\n  ShowProps,\n  useTranslate,\n  TitleProps,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  FunctionField,\n  ReferenceField,\n  EditButton,\n  useShowContext,\n  Record,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../core/auth/Authority'\nimport { UserDto } from '../../../core/dto/user.dto'\nimport { ResourceName } from '../../../core/ResourceName'\nimport RelationTab from '../../common/RelationTab'\nimport { useHasAuthority } from '../../hooks/useHasAuthority'\nimport ChangePasswordButton from './UserShow/UserChangePasswordButton'\nimport RelationTabFilter from '../../common/RelationTabFilter'\n\ninterface UserTitleProps extends TitleProps {\n  record?: UserDto\n}\n\nconst ShowTitle = (data: UserTitleProps) => {\n  const { record: user } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.users.titles.show')}: {user?.id}. {user?.userName}\n    </span>\n  )\n}\n\nconst UserRoles = ({ ...props }) => {\n  const { record: user } = props\n  const hasAuthority = useHasAuthority()\n\n  const UserRolesMapper = (records: Record[], source: string) => ({\n    [source]: records.map((record: Record) => record.id),\n  })\n\n  const RolesFilters = () => (\n    <RelationTabFilter>\n      <TextInput source=\"name\" alwaysOn />\n    </RelationTabFilter>\n  )\n\n  return (\n    <RelationTab<UserDto>\n      resource={ResourceName.ROLES}\n      source=\"rolesIds\"\n      mode={hasAuthority(Authority.EDIT_USERS) ? 'edit' : 'show'}\n      attachMethod=\"attachRoles\"\n      detachMethod=\"detachRoles\"\n      attachRequestPayload={(r, ids) => ({\n        userId: r.id,\n        rolesIds: ids,\n      })}\n      detachRequestPayload={(r, ids) => ({\n        userId: r.id,\n        rolesIds: ids,\n      })}\n      refetchListAfterChange={(filters) => filters?.filterUserId === true}\n      relationsRequestMethod=\"getRoles\"\n      relationsRequestPayload={(r) => ({ userId: r.id })}\n      relationsMapper={UserRolesMapper}\n      filters={<RolesFilters />}\n      filterDefaultValues={{\n        userId: user?.id,\n        filterUserId: true,\n      }}\n      sort={{\n        field: 'id',\n        order: 'DESC',\n      }}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"name\" key=\"name\" />\n    </RelationTab>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: user } = useShowContext<UserDto>()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <ChangePasswordButton />\n        <EditButton\n          basePath={`/${ResourceName.USERS}`}\n          record={user}\n          variant=\"contained\"\n          style={{ margin: '2px' }}\n          disabled={!hasAuthority(Authority.EDIT_USERS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport const UserShow = (props: ShowProps) => {\n  const translate = useTranslate()\n  const hasAuthority = useHasAuthority()\n  return (\n    <Show {...props} actions={false} title={<ShowTitle />}>\n      <TabbedShowLayout>\n        <Tab label=\"resources.users.tabs.general\">\n          <TextField source=\"id\" label=\"ID\" />\n          <TextField source=\"userName\" />\n          {hasAuthority(Authority.VIEW_COMPANIES) && (\n            <ReferenceField\n              source=\"companyId\"\n              reference={ResourceName.COMPANIES}\n              link=\"show\"\n            >\n              <TextField source=\"name\" />\n            </ReferenceField>\n          )}\n          <FunctionField<UserDto>\n            source=\"requirePasswordUpdate\"\n            render={(record?: UserDto) => (\n              <div>\n                {record?.requirePasswordUpdate\n                  ? translate('const.yes')\n                  : translate('const.no')}\n              </div>\n            )}\n          />\n          <GeneralActions />\n        </Tab>\n        {hasAuthority(Authority.VIEW_ROLES) && (\n          <Tab label=\"resources.users.tabs.roles\" path=\"roles\">\n            <UserRoles />\n          </Tab>\n        )}\n      </TabbedShowLayout>\n    </Show>\n  )\n}\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CompanyDto } from '../../../core/dto/company.dto'\n\ninterface CompanyTitleProps extends TitleProps {\n  record?: CompanyDto\n}\n\nconst validateCompanyEdit = (values: CompanyDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = (props: CompanyTitleProps) => {\n  const { record } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.companies.titles.edit')}: {record?.id}.{' '}\n      {record?.name}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CompanyEdit = (props: EditProps) => (\n  <Edit {...props} title={<EditTitle />} actions={false}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCompanyEdit}\n      toolbar={<EditToolbar />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </Edit>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  ListButton,\n  SaveButton,\n  SimpleForm,\n  TextInput,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { CompanyDto } from '../../../core/dto/company.dto'\n\nconst validateCompanyCreate = (values: CompanyDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.companies.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const CompanyCreate = (props: CreateProps) => (\n  <Create {...props} title={<CreateTitle />}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateCompanyCreate}\n      toolbar={<CreateToolbar />}\n    >\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  SaveButton,\n  ShowButton,\n  SimpleForm,\n  TextField,\n  TextInput,\n  TitleProps,\n  Toolbar,\n  ToolbarProps,\n  useTranslate,\n} from 'react-admin'\nimport { RoleDto } from '../../../core/dto/role/role.dto'\n\ninterface RoleTitleProps extends TitleProps {\n  record?: RoleDto\n}\n\nconst validateRoleEdit = (values: RoleDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = (props: RoleTitleProps) => {\n  const { record } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.roles.titles.edit')}: {record?.id}. {record?.name}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nexport const RoleEdit = (props: EditProps) => (\n  <Edit {...props} title={<EditTitle />} actions={false}>\n    <SimpleForm\n      redirect=\"show\"\n      validate={validateRoleEdit}\n      toolbar={<EditToolbar />}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"name\" isRequired />\n    </SimpleForm>\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  ReferenceField,\n  ReferenceInput,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport FilterProps from '../../../common/FilterProps'\nimport { SelectWithPaginationInput } from '../../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\n\nconst CameraFilters = (props: FilterProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <Filter {...props}>\n      <TextInput source=\"description\" alwaysOn />\n      {hasAuthority(Authority.VIEW_CAMERA_SERVERS) && (\n        <ReferenceInput\n          label=\"resources.cameras.fields.serverId\"\n          source=\"serverId\"\n          reference={ResourceName.CAMERA_SERVERS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </Filter>\n  )\n}\n\nconst CameraGrid = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  const theme = useTheme()\n  const xSmallScreen = useMediaQuery(theme.breakpoints.down('xs'))\n\n  return (\n    <Datagrid\n      {...props}\n      size=\"small\"\n      rowClick={(id) => `/${ResourceName.CAMERAS}/${id}/show`}\n      hasBulkActions={false}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"description\" />\n      {!xSmallScreen && <TextField source=\"serverSideName\" />}\n      {hasAuthority(Authority.VIEW_CAMERA_SERVERS) && (\n        <ReferenceField\n          source=\"serverId\"\n          reference={ResourceName.CAMERA_SERVERS}\n          link={false}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n      )}\n    </Datagrid>\n  )\n}\n\nexport const CameraList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    sort={{\n      field: 'id',\n      order: 'DESC',\n    }}\n    filters={<CameraFilters />}\n  >\n    <CameraGrid />\n  </List>\n)\n","import React from 'react'\nimport {\n  Datagrid,\n  Filter,\n  List,\n  ListProps,\n  Pagination,\n  TextField,\n  TextInput,\n} from 'react-admin'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport FilterProps from '../../../common/FilterProps'\n\nconst CameraServerFilters = (props: FilterProps) => (\n  <Filter {...props}>\n    <TextInput source=\"name\" alwaysOn />\n  </Filter>\n)\n\nconst CameraServerGrid = ({ ...props }) => (\n  <Datagrid\n    {...props}\n    size=\"small\"\n    rowClick={(id) => `${ResourceName.CAMERA_SERVERS}/${id}/show`}\n    hasBulkActions={false}\n  >\n    <TextField source=\"id\" label=\"ID\" />\n    <TextField source=\"name\" />\n    <TextField source=\"address\" />\n  </Datagrid>\n)\n\nexport const CameraServerList = ({ ...props }: ListProps) => (\n  <List\n    {...props}\n    perPage={20}\n    pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n    exporter={false}\n    sort={{\n      field: 'id',\n      order: 'DESC',\n    }}\n    filters={<CameraServerFilters />}\n  >\n    <CameraServerGrid />\n  </List>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  ListButton,\n  Toolbar,\n  ToolbarProps,\n  SelectInput,\n  ReferenceInput,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { CameraDto } from '../../../../core/dto/device/camera/cameras/camera.dto'\nimport { CameraTypes } from '../../../../core/enum/CameraTypes'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\n\nexport const validateCameraCreate = (values: CameraDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.description) {\n    errors.desciption = 'ra.validation.required'\n  }\n  if (!values.serverSideName) {\n    errors.serverSideName = 'ra.validation.required'\n  }\n  if (!values.type) {\n    errors.type = 'ra.validation.required'\n  }\n  if (!values.serverId) {\n    errors.serverId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.cameras.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Camera = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<CreateToolbar />}\n      validate={validateCameraCreate}\n    >\n      <TextInput source=\"description\" isRequired />\n      <TextInput source=\"serverSideName\" isRequired />\n      <SelectInput\n        source=\"type\"\n        defaultValue={CameraTypes.RTSP}\n        choices={Object.entries(CameraTypes).map(([value]) => ({\n          id: value,\n          name: value,\n        }))}\n        isRequired\n      />\n      {hasAuthority(Authority.VIEW_CAMERA_SERVERS) && (\n        <ReferenceInput\n          source=\"serverId\"\n          reference={ResourceName.CAMERA_SERVERS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </SimpleForm>\n  )\n}\n\nexport const CameraCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <Camera />\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Create,\n  CreateProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  ListButton,\n  Toolbar,\n  ToolbarProps,\n} from 'react-admin'\nimport { CameraServerDto } from '../../../../core/dto/device/camera/camera-servers/camera-server.dto'\n\nconst validateCameraServerCreate = (values: CameraServerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (!values.serverId) {\n    errors.serverId = 'ra.validation.required'\n  }\n  if (!values.delay) {\n    errors.delay = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst CreateTitle = () => {\n  const translate = useTranslate()\n  return <span>{translate('resources.camera-servers.titles.create')}</span>\n}\n\nconst CreateToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ListButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst CameraServer = ({ ...props }) => (\n  <SimpleForm\n    {...props}\n    redirect=\"show\"\n    toolbar={<CreateToolbar />}\n    validate={validateCameraServerCreate}\n  >\n    <TextInput source=\"name\" isRequired />\n    <TextInput source=\"address\" isRequired />\n    <TextInput source=\"serverId\" isRequired />\n    <TextInput source=\"delay\" isRequired />\n  </SimpleForm>\n)\n\nexport const CameraServerCreate = (props: CreateProps) => (\n  <Create {...props} hasShow={false} title={<CreateTitle />}>\n    <CameraServer />\n  </Create>\n)\n","import { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  Toolbar,\n  ToolbarProps,\n  TextField,\n  ShowButton,\n} from 'react-admin'\nimport { CameraServerDto } from '../../../../core/dto/device/camera/camera-servers/camera-server.dto'\n\nconst validateCameraServerEdit = (values: CameraServerDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.name) {\n    errors.name = 'ra.validation.required'\n  }\n  if (!values.address) {\n    errors.address = 'ra.validation.required'\n  }\n  if (!values.serverId) {\n    errors.serverId = 'ra.validation.required'\n  }\n  if (!values.delay) {\n    errors.delay = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = ({ ...props }) => {\n  const { record: server } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.camera-servers.titles.edit')}: {server?.id}.{' '}\n      {server?.name}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst CameraServer = ({ ...props }) => (\n  <SimpleForm\n    {...props}\n    redirect=\"show\"\n    toolbar={<EditToolbar />}\n    validate={validateCameraServerEdit}\n  >\n    <TextField source=\"id\" label=\"ID\" />\n    <TextInput source=\"name\" isRequired />\n    <TextInput source=\"address\" isRequired />\n    <TextInput source=\"serverId\" isRequired />\n    <TextInput source=\"delay\" isRequired />\n  </SimpleForm>\n)\n\nexport const CameraServerEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <CameraServer />\n  </Edit>\n)\n","import { useMediaQuery, useTheme } from '@material-ui/core'\nimport { Cancel } from '@material-ui/icons'\nimport React from 'react'\nimport {\n  Edit,\n  EditProps,\n  useTranslate,\n  SimpleForm,\n  TextInput,\n  SaveButton,\n  Toolbar,\n  ToolbarProps,\n  SelectInput,\n  ReferenceInput,\n  TextField,\n  ShowButton,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { CameraDto } from '../../../../core/dto/device/camera/cameras/camera.dto'\nimport { CameraTypes } from '../../../../core/enum/CameraTypes'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../../../common/SelectWithPaginationInput'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\n\nexport const validateCameraEdit = (values: CameraDto) => {\n  const errors: { [n: string]: string } = {}\n  if (!values.description) {\n    errors.desciption = 'ra.validation.required'\n  }\n  if (!values.serverSideName) {\n    errors.serverSideName = 'ra.validation.required'\n  }\n  if (!values.type) {\n    errors.type = 'ra.validation.required'\n  }\n  if (!values.serverId) {\n    errors.serverId = 'ra.validation.required'\n  }\n  return errors\n}\n\nconst EditTitle = ({ ...props }) => {\n  const { record: camera } = props\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.cameras.titles.edit')}: {camera?.id}.{' '}\n      {camera?.description}\n    </span>\n  )\n}\n\nconst EditToolbar = (props: ToolbarProps) => (\n  <Toolbar {...props}>\n    <SaveButton />\n    <ShowButton icon={<Cancel />} label=\"const.cancel\" />\n  </Toolbar>\n)\n\nconst Camera = ({ ...props }) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <SimpleForm\n      {...props}\n      redirect=\"show\"\n      toolbar={<EditToolbar />}\n      validate={validateCameraEdit}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"description\" isRequired />\n      <TextInput source=\"serverSideName\" isRequired />\n      <SelectInput\n        source=\"type\"\n        choices={Object.entries(CameraTypes).map(([value]) => ({\n          id: value,\n          name: value,\n        }))}\n        isRequired\n      />\n      {hasAuthority(Authority.VIEW_CAMERA_SERVERS) && (\n        <ReferenceInput\n          source=\"serverId\"\n          reference={ResourceName.CAMERA_SERVERS}\n          sort={{ field: 'name', order: 'ASC' }}\n          perPage={smallScreen ? 5 : 15}\n          isRequired\n        >\n          <SelectWithPaginationInput\n            optionText=\"name\"\n            paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n          />\n        </ReferenceInput>\n      )}\n    </SimpleForm>\n  )\n}\n\nexport const CameraEdit = (props: EditProps) => (\n  <Edit {...props} hasShow={false} title={<EditTitle />}>\n    <Camera />\n  </Edit>\n)\n","import {\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  makeStyles,\n  TextField,\n  Theme,\n} from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n  useTranslate,\n} from 'react-admin'\nimport useStateRef from 'react-usestateref'\nimport { CameraServerDto } from '../../../../core/dto/device/camera/camera-servers/camera-server.dto'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport Button from '../../../common/customized-mui-components/Button'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogProperty: {\n      marginBottom: theme.spacing(1),\n    },\n  }),\n)\n\nexport const ConfirmDialog = ({\n  confirm,\n  cancel,\n  source,\n  open,\n  action,\n}: {\n  confirm: () => void\n  cancel: () => void\n  source: 'setCredentials'\n  open: boolean\n  action: 'set' | 'remove'\n}) => {\n  const translate = useTranslate()\n  return (\n    <Dialog open={open}>\n      <DialogTitle>\n        {translate(\n          `resources.camera-servers.dialogs.confirm.${source}.${action}`,\n        )}\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={confirm}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={cancel}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport const SetCredentialsDialog = ({\n  open,\n  close,\n}: {\n  open: boolean\n  close: () => void\n}) => {\n  const classes = useStyles()\n  const [loginValue, setLoginValue] = useState('')\n  const [loginError, setLoginError, loginErrorCurrentValue] = useStateRef(false)\n  const [loginErrorText, setLoginErrorText] = useState('')\n  const [passwordValue, setPasswordValue] = useState('')\n  const [passwordError, setPasswordError, passwordErrorCurrentValue] =\n    useStateRef(false)\n  const [passwordErrorText, setPasswordErrorText] = useState('')\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const { record: cameraServer } = useShowContext<CameraServerDto>()\n  const [mutate] = useMutation()\n  const refresh = useRefresh()\n  const translate = useTranslate()\n\n  const handleClose = () => {\n    setLoginValue('')\n    setPasswordValue('')\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    close()\n  }\n\n  const handleSetCredentials = async () => {\n    setConfirmOpen(false)\n    setLoginError(false)\n    setPasswordError(false)\n    setLoginErrorText('')\n    setPasswordErrorText('')\n    if (loginValue.replace(/\\s/g, '').length === 0) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.camera-servers.dialogs.setCredentials.login.error-bad-string',\n        ),\n      )\n    } else if (loginValue.replace(/\\s/g, '').length !== loginValue.length) {\n      setLoginError(true)\n      setLoginErrorText(\n        translate(\n          'resources.camera-servers.dialogs.setCredentials.login.error-no-spaces',\n        ),\n      )\n    }\n    if (passwordValue.replace(/\\s/g, '').length === 0) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.camera-servers.dialogs.setCredentials.password.error-bad-string',\n        ),\n      )\n    } else if (\n      passwordValue.replace(/\\s/g, '').length !== passwordValue.length\n    ) {\n      setPasswordError(true)\n      setPasswordErrorText(\n        translate(\n          'resources.camera-servers.dialogs.setCredentials.password.error-no-spaces',\n        ),\n      )\n    }\n\n    if (!loginErrorCurrentValue.current && !passwordErrorCurrentValue.current) {\n      await mutate(\n        {\n          type: sanitizeFetchType('setCredentials'),\n          resource: ResourceName.CAMERA_SERVERS,\n          payload: {\n            cameraServerId: cameraServer?.id,\n            login: loginValue,\n            password: passwordValue,\n          },\n        },\n        { returnPromise: true },\n      )\n      refresh()\n      handleClose()\n    }\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <ConfirmDialog\n        open={confirmOpen}\n        cancel={() => setConfirmOpen(false)}\n        confirm={handleSetCredentials}\n        source=\"setCredentials\"\n        action=\"set\"\n      />\n      <DialogTitle>\n        {translate('resources.camera-servers.dialogs.setCredentials.title')}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.camera-servers.dialogs.setCredentials.login.label',\n          )}\n          variant=\"outlined\"\n          value={loginValue}\n          onChange={(e) => setLoginValue(e.target.value)}\n          fullWidth\n          error={loginError}\n          helperText={loginErrorText}\n        />\n        <TextField\n          className={classes.dialogProperty}\n          label={translate(\n            'resources.camera-servers.dialogs.setCredentials.password.label',\n          )}\n          variant=\"outlined\"\n          value={passwordValue}\n          onChange={(e) => setPasswordValue(e.target.value)}\n          fullWidth\n          type=\"password\"\n          autoComplete=\"new-password\"\n          error={passwordError}\n          helperText={passwordErrorText}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          onClick={() => setConfirmOpen(true)}\n          label={translate('ra.action.save')}\n          useSmallVersionBreakpoint={false}\n        />\n        <Button\n          variant=\"contained\"\n          onClick={handleClose}\n          label={translate('const.cancel')}\n          useSmallVersionBreakpoint={false}\n        />\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useShowContext } from 'react-admin'\nimport { Authority } from '../../../../../core/auth/Authority'\nimport Button from '../../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../../hooks/useHasAuthority'\nimport { SetCredentialsDialog } from '../CameraServerDialogs'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const CameraServerSetCredentialsButton = () => {\n  const { loading } = useShowContext()\n  const classes = useStyles()\n  const [credentialsModalOpen, setCredentialsModalOpen] = useState(false)\n  const hasAuthority = useHasAuthority()\n\n  const handleSetCredentialsDialog = () => {\n    setCredentialsModalOpen(true)\n  }\n\n  return (\n    <>\n      <SetCredentialsDialog\n        open={credentialsModalOpen}\n        close={() => setCredentialsModalOpen(false)}\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleSetCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.camera-servers.actions.setCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={!hasAuthority(Authority.EDIT_CAMERA_SERVERS) || loading}\n      />\n    </>\n  )\n}\n","import { createStyles, makeStyles } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport {\n  sanitizeFetchType,\n  useMutation,\n  useRefresh,\n  useShowContext,\n} from 'react-admin'\nimport { Authority } from '../../../../../core/auth/Authority'\nimport { CameraServerDto } from '../../../../../core/dto/device/camera/camera-servers/camera-server.dto'\nimport { ResourceName } from '../../../../../core/ResourceName'\nimport Button from '../../../../common/customized-mui-components/Button'\nimport { useHasAuthority } from '../../../../hooks/useHasAuthority'\nimport { ConfirmDialog } from '../CameraServerDialogs'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    button: {\n      margin: '2px',\n    },\n  }),\n)\n\nexport const CameraServerRemoveCredentialsButton = () => {\n  const { record: cameraServer, loading } = useShowContext<CameraServerDto>()\n  const classes = useStyles()\n  const [removeCredentialsDialogOpen, setRemoveCredentialsDialogOpen] =\n    useState(false)\n  const hasAuthority = useHasAuthority()\n  const [mutate, { loading: mutationLoading }] = useMutation()\n  const refresh = useRefresh()\n\n  const handleRemoveCredentials = async () => {\n    setRemoveCredentialsDialogOpen(false)\n    await mutate(\n      {\n        type: sanitizeFetchType('removeCredentials'),\n        resource: ResourceName.CAMERA_SERVERS,\n        payload: {\n          cameraServerId: cameraServer?.id,\n        },\n      },\n      { returnPromise: true },\n    )\n    refresh()\n  }\n\n  const handleRemoveCredentialsDialog = () => {\n    setRemoveCredentialsDialogOpen(true)\n  }\n\n  return (\n    <>\n      <ConfirmDialog\n        open={removeCredentialsDialogOpen}\n        confirm={handleRemoveCredentials}\n        source=\"setCredentials\"\n        cancel={() => setRemoveCredentialsDialogOpen(false)}\n        action=\"remove\"\n      />\n      <Button\n        variant=\"contained\"\n        onClick={handleRemoveCredentialsDialog}\n        color=\"primary\"\n        className={classes.button}\n        label=\"resources.camera-servers.actions.removeCredentials\"\n        useSmallVersionBreakpoint={false}\n        disabled={\n          !hasAuthority(Authority.EDIT_CAMERA_SERVERS) ||\n          loading ||\n          mutationLoading\n        }\n      />\n    </>\n  )\n}\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n  ResourceContextProvider,\n  List,\n  Pagination,\n  TextInput,\n  SelectInput,\n} from 'react-admin'\nimport { CameraServerDto } from '../../../../core/dto/device/camera/camera-servers/camera-server.dto'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport {\n  EditableDatagrid,\n  RowForm,\n} from '../../../../lib/@react-admin/ra-editable-datagrid/esm/src'\nimport { validateCameraCreate } from '../cameras/CameraCreate'\nimport { validateCameraEdit } from '../cameras/CameraEdit'\nimport { CameraTypes } from '../../../../core/enum/CameraTypes'\nimport { CameraServerSetCredentialsButton } from './camera-server-show/CameraServerSetCredentialsButton'\nimport { CameraServerRemoveCredentialsButton } from './camera-server-show/CameraServerRemoveCredentialsButton'\n\ninterface CameraServerTitleProps extends TitleProps {\n  record?: CameraServerDto\n}\n\nconst ShowTitle = (data: CameraServerTitleProps) => {\n  const { record: server } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.camera-servers.titles.show')}: {server?.id}.{' '}\n      {server?.name}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: server } = useShowContext<CameraServerDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <CameraServerSetCredentialsButton />\n        <CameraServerRemoveCredentialsButton />\n        <EditButton\n          basePath={`/${ResourceName.CAMERA_SERVERS}`}\n          record={server}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_CAMERA_SERVERS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst ServerCameraCreate = ({ ...props }) => {\n  const { serverId, ...rest } = props\n  return (\n    <RowForm\n      initialValues={{\n        serverId,\n      }}\n      {...rest}\n      validate={validateCameraCreate}\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextInput source=\"description\" isRequired />\n      <TextInput source=\"serverSideName\" isRequired />\n      <SelectInput\n        source=\"type\"\n        defaultValue={CameraTypes.RTSP}\n        choices={Object.entries(CameraTypes).map(([value]) => ({\n          id: value,\n          name: value,\n        }))}\n      />\n    </RowForm>\n  )\n}\n\nconst ServerCameraEdit = ({ ...props }) => (\n  <RowForm {...props} validate={validateCameraEdit}>\n    <TextField source=\"id\" label=\"ID\" />\n    <TextInput source=\"description\" isRequired />\n    <TextInput source=\"serverSideName\" isRequired />\n    <SelectInput\n      source=\"type\"\n      choices={Object.entries(CameraTypes).map(([value]) => ({\n        id: value,\n        name: value,\n      }))}\n    />\n  </RowForm>\n)\n\nconst ServerCamerasGrid = ({ ...props }) => {\n  const { record: server } = useShowContext()\n  const hasAuthority = useHasAuthority()\n\n  return (\n    <EditableDatagrid\n      {...props}\n      actions={hasAuthority(Authority.EDIT_COMPANIES) ? undefined : false}\n      editForm={<ServerCameraEdit />}\n      createForm={\n        hasAuthority(Authority.EDIT_COMPANIES) &&\n        hasAuthority(Authority.CREATE_COMPANIES) ? (\n          <ServerCameraCreate serverId={server?.id} />\n        ) : undefined\n      }\n      hasBulkActions={false}\n      defaultTitle={null}\n      noDelete\n    >\n      <TextField source=\"id\" label=\"ID\" />\n      <TextField source=\"description\" />\n      <TextField source=\"serverSideName\" />\n      <TextField source=\"type\" />\n    </EditableDatagrid>\n  )\n}\n\nconst ServerCamerasTab = () => {\n  const { record: server, basePath } = useShowContext()\n  return (\n    <ResourceContextProvider value={ResourceName.CAMERAS}>\n      <List\n        title=\" \"\n        actions={false}\n        exporter={false}\n        basePath={basePath}\n        filter={{ serverId: server?.id }}\n        filters={undefined}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 50]} />}\n        bulkActionButtons={false}\n        empty={false}\n      >\n        <ServerCamerasGrid />\n      </List>\n    </ResourceContextProvider>\n  )\n}\n\nconst CameraServerTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.camera-servers.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"name\" />\n        <TextField source=\"address\" />\n        <TextField source=\"serverId\" />\n        <TextField source=\"delay\" />\n        <GeneralActions />\n      </Tab>\n      {hasAuthority(Authority.VIEW_CAMERAS) && (\n        <Tab label=\"resources.camera-servers.tabs.cameras\" path=\"cameras\">\n          <ServerCamerasTab />\n        </Tab>\n      )}\n    </TabbedShowLayout>\n  )\n}\n\nexport const CameraServerShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <CameraServerTabs />\n  </Show>\n)\n","import { Box, Divider } from '@material-ui/core'\nimport React from 'react'\nimport {\n  EditButton,\n  Show,\n  ShowProps,\n  Tab,\n  TabbedShowLayout,\n  TextField,\n  TitleProps,\n  useShowContext,\n  useTranslate,\n  ReferenceField,\n} from 'react-admin'\nimport { Authority } from '../../../../core/auth/Authority'\nimport { ResourceName } from '../../../../core/ResourceName'\nimport { useHasAuthority } from '../../../hooks/useHasAuthority'\nimport { CameraDto } from '../../../../core/dto/device/camera/cameras/camera.dto'\nimport { OpenCameraPreviewDialogButton } from './CameraPreviewDialog'\n\ninterface CameraTitleProps extends TitleProps {\n  record?: CameraDto\n}\n\nconst ShowTitle = (data: CameraTitleProps) => {\n  const { record: camera } = data\n  const translate = useTranslate()\n  return (\n    <span>\n      {translate('resources.cameras.titles.show')}: {camera?.id}.{' '}\n      {camera?.description}\n    </span>\n  )\n}\n\nconst GeneralActions = () => {\n  const { record: camera } = useShowContext<CameraDto>()\n  const hasAuthority = useHasAuthority()\n  return (\n    <>\n      <Divider />\n      <Box p={1} display=\"block\" textAlign=\"right\">\n        <OpenCameraPreviewDialogButton />\n        <EditButton\n          basePath={`/${ResourceName.CAMERAS}`}\n          record={camera}\n          variant=\"contained\"\n          disabled={!hasAuthority(Authority.EDIT_CAMERAS)}\n        />\n      </Box>\n    </>\n  )\n}\n\nconst CameraTabs = ({ ...props }) => {\n  const hasAuthority = useHasAuthority()\n  return (\n    <TabbedShowLayout {...props}>\n      <Tab label=\"resources.detectors.tabs.general\">\n        <TextField source=\"id\" label=\"ID\" />\n        <TextField source=\"description\" />\n        <TextField source=\"serverSideName\" />\n        <TextField source=\"type\" />\n        {hasAuthority(Authority.VIEW_CAMERA_SERVERS) && (\n          <ReferenceField\n            source=\"serverId\"\n            link=\"show\"\n            reference={ResourceName.CAMERA_SERVERS}\n          >\n            <TextField source=\"name\" />\n          </ReferenceField>\n        )}\n        <GeneralActions />\n      </Tab>\n    </TabbedShowLayout>\n  )\n}\n\nexport const CameraShow = (props: ShowProps) => (\n  <Show {...props} actions={false} title={<ShowTitle />}>\n    <CameraTabs />\n  </Show>\n)\n","export const STATIC_ENTRIES_KEY = '$$staticEntries$$'\nexport const TRANSITIONAL_STATIC_ENTRIES_KEY = '$$transitionalStaticEntries$$'\nexport const STATIC_VALUE_ID = '$$STATIC_VALUE$$'\n","import { STATIC_VALUE_ID } from './csv.consts'\n\ntype Choice = { id: string; name: string }\n\nconst primarySelectChoices: Choice[] = [\n  { id: '', name: '(none)' },\n  { id: STATIC_VALUE_ID, name: '(static value)' },\n]\n\nexport const choicesReducer = (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  choices: Choice[] = primarySelectChoices,\n  columnNames: string[],\n): Choice[] =>\n  columnNames.length\n    ? primarySelectChoices.concat(\n        columnNames.map((columnName) => ({ id: columnName, name: columnName })),\n      )\n    : []\n","type CsvDataAggregate = {\n  columnNames: string[]\n  previewRows: any[][]\n  csvData: any[][]\n}\n\nexport type CsvDataPayload = {\n  rawCsvData: any[][]\n}\n\nexport const csvDataInitialState: CsvDataAggregate = {\n  columnNames: [],\n  previewRows: [],\n  csvData: [],\n}\n\nexport const csvDataReducer = (\n  aggregate: CsvDataAggregate,\n  payload: CsvDataPayload | null,\n): CsvDataAggregate => {\n  if (payload) {\n    const { rawCsvData } = payload\n    return {\n      columnNames: rawCsvData[0] as string[],\n      previewRows: rawCsvData.slice(1, 6),\n      csvData: rawCsvData.slice(1),\n    }\n  }\n  return csvDataInitialState\n}\n","import { FormMappings, TransitionalFormMappings } from './csv-types'\nimport {\n  STATIC_ENTRIES_KEY,\n  STATIC_VALUE_ID,\n  TRANSITIONAL_STATIC_ENTRIES_KEY,\n} from './csv.consts'\n\nconst resolveTransitionalStaticEntriesLeftovers = (\n  staticEntries: Record<string, string>,\n  mappings: Record<string, string>,\n): Record<string, string> =>\n  Object.entries(staticEntries).reduce(\n    (resolvedEntries, [entryKey, entryValue]) => {\n      if (mappings[entryKey] === STATIC_VALUE_ID) {\n        return {\n          ...resolvedEntries,\n          [entryKey]: entryValue,\n        }\n      }\n      return resolvedEntries\n    },\n    {} as Record<string, string>,\n  )\n\nexport const transitionalStaticFieldsResolver = (\n  mappings: TransitionalFormMappings,\n): FormMappings => {\n  const {\n    [TRANSITIONAL_STATIC_ENTRIES_KEY]: transitionalStaticEntries,\n    ...restMappings\n  } = mappings\n  if (!transitionalStaticEntries) {\n    return {\n      ...restMappings,\n    }\n  }\n  const resolvedStaticEntries = resolveTransitionalStaticEntriesLeftovers(\n    transitionalStaticEntries,\n    restMappings as Record<string, string>,\n  )\n  if (!Object.keys(resolvedStaticEntries).length) {\n    return restMappings as FormMappings\n  }\n  const {\n    [STATIC_ENTRIES_KEY]: staticEntries,\n    ...restMappingsWithoutStaticEntries\n  } = restMappings\n  const restMappingsWithoutUnresolvedKeys = Object.entries(\n    restMappingsWithoutStaticEntries as Record<string, string>,\n  ).reduce((prev, [key, value]) => {\n    if (resolvedStaticEntries[key]) {\n      return prev\n    }\n    return {\n      ...prev,\n      [key]: value,\n    }\n  }, {} as Record<string, string>)\n  return {\n    [STATIC_ENTRIES_KEY]: {\n      ...staticEntries,\n      ...resolvedStaticEntries,\n    },\n    ...restMappingsWithoutUnresolvedKeys,\n  }\n}\n\nconst applyMappingsToRecord = (\n  restMappings: Record<string, string>,\n  csvRecord: Record<string, string | undefined | null>,\n) =>\n  Object.entries(restMappings).reduce(\n    (mappedRecordCollector, [mappingKey, csvKey]) => {\n      if (csvKey === '') {\n        return {\n          ...mappedRecordCollector,\n          [mappingKey]: null,\n        }\n      }\n      return {\n        ...mappedRecordCollector,\n        [mappingKey]: csvRecord[csvKey] || null,\n      }\n    },\n    {} as Record<string, string | null>,\n  )\n\nexport const applyMappingsToCsvData = (\n  mappings: FormMappings,\n  csvData: Array<Record<string, string | null | undefined>>,\n) =>\n  csvData.reduce((mappedDataCollector, csvRecord) => {\n    const { [STATIC_ENTRIES_KEY]: staticEntries, ...restMappings } = mappings\n    const mappedRecord = applyMappingsToRecord(\n      restMappings as Record<string, string>,\n      csvRecord,\n    )\n    return [\n      ...mappedDataCollector,\n      {\n        ...mappedRecord,\n        ...staticEntries,\n      },\n    ]\n  }, [] as Array<Record<string, string | null>>)\n","import { LocalFile, parse, ParseResult } from 'papaparse'\n\nexport const processCsvFile = async (importedFile: LocalFile) =>\n  new Promise<string[][]>((res, rej) =>\n    parse(\n      importedFile,\n      // default values https://www.papaparse.com/docs#config\n      {\n        skipEmptyLines: true,\n        complete: (results: ParseResult<any>) => res(results.data),\n        error: (error: Error) => rej(error),\n      },\n    ),\n  )\n\nexport const processCsvData = (columnNames: string[], csvData: string[][]) =>\n  csvData.reduce((prev, curr) => {\n    const targetModelEntries = columnNames.map((v, index) => [\n      v,\n      curr[index] ?? null,\n    ])\n    return [...prev, Object.fromEntries(targetModelEntries)]\n  }, [] as Array<Record<string, string | null>>)\n\nexport const detectExactFields = (\n  fieldNames: string[],\n  columnNames: string[],\n) =>\n  fieldNames.reduce(\n    (prev, curr) =>\n      columnNames.includes(curr)\n        ? { ...prev, [curr]: curr }\n        : { ...prev, [curr]: '' },\n    {} as Record<string, string>,\n  )\n","import {\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from '@material-ui/core'\nimport * as React from 'react'\nimport classNames from 'classnames'\n\nconst useStyles = makeStyles((theme) => ({\n  fitContent: {\n    display: 'table',\n  },\n  cellOverflow: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  columnWidth: {\n    minWidth: theme.spacing(6),\n    maxWidth: theme.spacing(20),\n    [theme.breakpoints.down('md')]: {\n      maxWidth: theme.spacing(10),\n    },\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: theme.spacing(6),\n    },\n  },\n  columnPadding: {\n    [theme.breakpoints.down('md')]: {\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5),\n    },\n  },\n}))\n\ninterface ImportCsvPreviewProps {\n  readonly columnNames: string[]\n  readonly rows: string[][]\n}\n\nexport const ImportCsvPreview = ({\n  columnNames,\n  rows,\n}: ImportCsvPreviewProps) => {\n  const classes = useStyles()\n  return (\n    <Paper className={classes.fitContent}>\n      <TableContainer>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              {columnNames.map((columnName, columnIdx) => (\n                <TableCell\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={`${columnIdx}-${columnName}`}\n                  className={classNames(\n                    classes.columnWidth,\n                    classes.cellOverflow,\n                    classes.columnPadding,\n                  )}\n                  size=\"medium\"\n                >\n                  {columnName}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, rowIdx) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <TableRow key={rowIdx}>\n                {row.map((cell, cellIdx) => (\n                  <TableCell\n                    // eslint-disable-next-line react/no-array-index-key\n                    key={`${cellIdx}-${cell}`}\n                    className={classes.columnPadding}\n                  >\n                    <Typography\n                      variant=\"body2\"\n                      className={classNames(\n                        classes.cellOverflow,\n                        classes.columnWidth,\n                      )}\n                    >\n                      {cell}\n                    </Typography>\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Paper>\n  )\n}\n","import React, { ReactElement } from 'react'\nimport {\n  CreateProps,\n  CreateView,\n  ResourceContextProvider,\n  useCreateController,\n} from 'react-admin'\nimport {\n  CreateContextProvider,\n  OnFailure,\n  OnSuccess,\n  RedirectionSideEffect,\n  TransformData,\n} from 'ra-core'\n\nexport interface ImportViewProps extends CreateProps {\n  readonly children: ReactElement\n  readonly onSave: (\n    record: any,\n    redirect: RedirectionSideEffect,\n    callbacks?: {\n      onSuccess?: OnSuccess\n      onFailure?: OnFailure\n      transform?: TransformData\n    },\n  ) => void\n  readonly saving: boolean\n}\n\nexport const ImportView = (props: ImportViewProps) => {\n  const { children, title, onSave, saving, ...rest } = props\n  const createControllerProps = {\n    ...useCreateController(props),\n    save: onSave,\n    saving,\n    defaultTitle: title as string,\n  }\n  const { resource } = createControllerProps\n  return (\n    <ResourceContextProvider value={resource}>\n      <CreateContextProvider value={createControllerProps}>\n        <CreateView {...rest} {...createControllerProps}>\n          {children}\n        </CreateView>\n      </CreateContextProvider>\n    </ResourceContextProvider>\n  )\n}\n","import { Box, Tooltip, Typography } from '@material-ui/core'\nimport { Button, useNotify, useTranslate } from 'react-admin'\nimport GetAppIcon from '@material-ui/icons/GetApp'\nimport React, { Dispatch, useState } from 'react'\nimport { CsvDataPayload, processCsvFile } from '../../../core/csv'\n\ntype ImportCsvButtonProps = {\n  csvDataDispatcher: Dispatch<CsvDataPayload | null>\n}\n\nexport const ImportCsvButton = ({\n  csvDataDispatcher,\n}: ImportCsvButtonProps) => {\n  const t = useTranslate()\n  const notify = useNotify()\n  const [fileName, setFileName] = useState<string>()\n\n  let refInput: HTMLInputElement\n\n  const clickImportButton = () => {\n    refInput.value = ''\n    refInput.click()\n  }\n\n  const onFileAdded = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFileName('')\n    csvDataDispatcher(null)\n    const importedFile = e.target.files?.[0]\n    if (!importedFile) {\n      notify('common.import.processing-error-message', 'error')\n      throw new Error(`File not processed from input field`)\n    }\n    const processedCsvData = await processCsvFile(importedFile)\n    setFileName(importedFile.name)\n    csvDataDispatcher({ rawCsvData: processedCsvData })\n  }\n\n  return (\n    <Box m={2} display=\"flex\" alignItems=\"center\">\n      <Box>\n        <Tooltip title={t('common.import.button-tooltip')}>\n          <Box>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              label={t('common.import.button-label')}\n              onClick={clickImportButton}\n            >\n              <GetAppIcon\n                style={{ transform: 'rotate(180deg)', fontSize: '20' }}\n              />\n            </Button>\n          </Box>\n        </Tooltip>\n        <input\n          ref={(ref) => {\n            refInput = ref as HTMLInputElement\n          }}\n          type=\"file\"\n          style={{ display: 'none' }}\n          onChange={onFileAdded}\n          accept=\".csv,.tsv\"\n        />\n      </Box>\n      <Box ml={2}>\n        <Typography variant=\"body1\">\n          {fileName\n            ? t('common.import.button-loaded-description', { fileName })\n            : t('common.import.button-load-description')}\n        </Typography>\n      </Box>\n    </Box>\n  )\n}\n","import {\n  CreateProps,\n  GetListResult,\n  useMutation,\n  useNotify,\n  useRedirect,\n  useTranslate,\n} from 'react-admin'\nimport React, {\n  Dispatch,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useReducer,\n} from 'react'\nimport { Box, Typography } from '@material-ui/core'\nimport { ImportCsvPreview } from './ImportCsvPreview'\nimport { ImportView } from './ImportView'\nimport {\n  applyMappingsToCsvData,\n  csvDataInitialState,\n  csvDataReducer,\n  FormMappings,\n  IMPORT_PROVIDER_METHOD_TYPE,\n  processCsvData,\n} from '../../../core/csv'\nimport { ImportCsvButton } from './ImportCsvButton'\nimport { TicketDto } from '../../../core/dto/ticket.dto'\n\ninterface ImportBaseProps extends CreateProps {\n  readonly children: ReactElement\n  readonly title: string\n  readonly columnNamesDispatcher: Dispatch<string[]>\n  readonly formValuesMapper: (values: FormMappings) => FormMappings\n}\n\nexport const ImportBase = (props: ImportBaseProps) => {\n  const { columnNamesDispatcher, formValuesMapper, resource, ...rest } = props\n  const t = useTranslate()\n  const notify = useNotify()\n  const redirect = useRedirect()\n  const [mutate, { loading }] = useMutation()\n  const [{ columnNames, previewRows, csvData }, csvDataDispatcher] = useReducer(\n    csvDataReducer,\n    csvDataInitialState,\n  )\n\n  useEffect(() => {\n    columnNamesDispatcher(columnNames)\n  }, [columnNamesDispatcher, columnNames])\n\n  const onSuccess = useCallback(() => {\n    notify('common.import.import-success-message', 'success')\n    redirect('list', `/${resource}`)\n  }, [notify, redirect, resource])\n\n  const onFailure = useCallback(\n    (error) => {\n      // eslint-disable-next-line no-console\n      console.error('Error during importing file', error)\n      notify('common.import.import-error-message', 'warning')\n    },\n    [notify],\n  )\n\n  const createMany = useCallback(\n    (data: any) =>\n      mutate(\n        {\n          type: IMPORT_PROVIDER_METHOD_TYPE,\n          resource,\n          payload: {\n            data,\n          },\n        },\n        {\n          returnPromise: true,\n          onSuccess,\n          onFailure,\n        },\n      ) as Promise<GetListResult<TicketDto>>,\n    [resource, mutate, onSuccess, onFailure],\n  )\n\n  const onSave = useCallback(\n    async (formMappings: FormMappings) => {\n      const processedMappings = formValuesMapper(formMappings)\n      const processedData = processCsvData(columnNames, csvData)\n      const mappedData = applyMappingsToCsvData(\n        processedMappings,\n        processedData,\n      )\n      await createMany(mappedData)\n    },\n    [createMany, columnNames, csvData, formValuesMapper],\n  )\n\n  return (\n    <Box>\n      <ImportCsvButton csvDataDispatcher={csvDataDispatcher} />\n      {!!columnNames?.length && (\n        <Box>\n          <Typography variant=\"caption\">\n            {t('common.import.preview-caption')}\n          </Typography>\n          <ImportCsvPreview columnNames={columnNames} rows={previewRows} />\n          <Box mt={2} ml={2}>\n            <Typography variant=\"h5\">\n              {t('common.import.mapping-subtitle')}\n            </Typography>\n          </Box>\n          <ImportView\n            onSave={onSave}\n            saving={loading}\n            resource={resource}\n            {...rest}\n          />\n        </Box>\n      )}\n    </Box>\n  )\n}\n","import { Record as RaRecord } from 'ra-core'\nimport {\n  STATIC_ENTRIES_KEY,\n  TRANSITIONAL_STATIC_ENTRIES_KEY,\n} from './csv.consts'\n\nexport interface FormMappings {\n  [key: string]: string | Record<string, string> | undefined\n  [STATIC_ENTRIES_KEY]?: Record<string, string>\n}\n\nexport interface TransitionalFormMappings extends FormMappings {\n  [TRANSITIONAL_STATIC_ENTRIES_KEY]?: Record<string, string>\n}\n\nexport interface CreateManyParams<T = any> {\n  data: T[]\n}\n\nexport interface CreateManyResult<T = RaRecord> {\n  data: T[]\n}\n\nexport type SelectField = [name: string, required?: boolean]\n\nexport type CustomMapper = (formValues: FormMappings) => FormMappings\nexport type FormValues = Record<string, string>\n\nexport const IMPORT_PROVIDER_METHOD_TYPE = 'createMany'\n","import {\n  FormDataConsumer,\n  required,\n  ResourceComponentProps,\n  SelectInput,\n  SimpleForm,\n  TextInput,\n  useTranslate,\n} from 'react-admin'\nimport React, { ReactElement, useEffect, useReducer, useState } from 'react'\nimport { CardContent, makeStyles } from '@material-ui/core'\nimport classNames from 'classnames'\nimport {\n  choicesReducer,\n  CustomMapper,\n  detectExactFields,\n  FormMappings,\n  SelectField,\n  STATIC_VALUE_ID,\n  TRANSITIONAL_STATIC_ENTRIES_KEY,\n  TransitionalFormMappings,\n  transitionalStaticFieldsResolver,\n} from '../../../core/csv'\n\nimport { ImportBase } from './ImportBase'\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    width: theme.spacing(42),\n  },\n  spacingLeft: {\n    marginLeft: theme.spacing(2),\n  },\n}))\n\nexport interface ImportProps extends ResourceComponentProps {\n  readonly selectFields: SelectField[]\n  readonly children?: ReactElement | ReactElement[]\n  readonly customMapper?: CustomMapper\n}\n\nexport const Import = (props: ImportProps) => {\n  const {\n    selectFields,\n    resource,\n    customMapper,\n    children: additionalFields = [],\n    ...rest\n  } = props\n  const t = useTranslate()\n  const classes = useStyles()\n\n  const [choices, dispatchColumnNames] = useReducer(choicesReducer, [])\n  const [initialFormValues, setInitialFormValues] = useState<\n    Record<string, string>\n  >({})\n\n  const formValuesMapper = (\n    formValues: TransitionalFormMappings,\n  ): FormMappings => {\n    const resolvedMappings = transitionalStaticFieldsResolver(formValues)\n    return customMapper ? customMapper(resolvedMappings) : resolvedMappings\n  }\n\n  useEffect(() => {\n    setInitialFormValues(\n      detectExactFields(\n        selectFields.map((v) => v[0]),\n        choices.map((v) => v.id),\n      ),\n    )\n  }, [selectFields, choices])\n\n  return (\n    <ImportBase\n      title={`Import ${resource}`}\n      columnNamesDispatcher={dispatchColumnNames}\n      formValuesMapper={formValuesMapper}\n      resource={resource}\n      {...rest}\n    >\n      <SimpleForm component={CardContent} initialValues={initialFormValues}>\n        {selectFields\n          .map(([fieldName, fieldRequired]) => (\n            <>\n              <SelectInput\n                className={classes.input}\n                key={fieldName}\n                choices={choices}\n                label={t('common.import.mapping-input-label', { fieldName })}\n                source={fieldName}\n                validate={fieldRequired && required()}\n              />\n              <FormDataConsumer>\n                {({ formData, ...restFormDataProps }) =>\n                  formData[fieldName] === STATIC_VALUE_ID && (\n                    <TextInput\n                      key={`${STATIC_VALUE_ID}${fieldName}`}\n                      className={classNames(classes.input, classes.spacingLeft)}\n                      source={`${TRANSITIONAL_STATIC_ENTRIES_KEY}.${fieldName}`}\n                      label={t('common.import.static-input-label', {\n                        fieldName,\n                      })}\n                      validate={required()}\n                      resettable\n                      {...restFormDataProps}\n                    />\n                  )\n                }\n              </FormDataConsumer>\n            </>\n          ))\n          .concat(\n            Array.isArray(additionalFields)\n              ? additionalFields\n              : [additionalFields],\n          )}\n      </SimpleForm>\n    </ImportBase>\n  )\n}\n","import React from 'react'\nimport { makeStyles, useMediaQuery, useTheme } from '@material-ui/core'\nimport {\n  CreateProps,\n  ReferenceInput,\n  required,\n  useTranslate,\n} from 'react-admin'\nimport { SelectField, STATIC_ENTRIES_KEY } from '../../core/csv'\nimport { Import } from '../common/import/Import'\nimport { ResourceName } from '../../core/ResourceName'\nimport { SelectWithPaginationInput } from '../common/SelectWithPaginationInput'\nimport { BlockType } from '../../core/enum/BlockType'\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    width: theme.spacing(40),\n  },\n}))\n\nexport const TicketImport = (props: CreateProps) => {\n  const theme = useTheme()\n  const smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const t = useTranslate()\n  const classes = useStyles()\n\n  const selectFields: SelectField[] = [\n    ['customerFirstName', true],\n    ['customerLastname', true],\n    ['customerPesel', true],\n    ['customerDocumentNumber', true],\n    ['ticketCode', true],\n    ['ticketType', true],\n    ['bookingType'],\n    ['disabled'],\n  ]\n\n  return (\n    <Import selectFields={selectFields} {...props}>\n      <ReferenceInput\n        className={classes.input}\n        label={t('common.import.mapping-input-label', { fieldName: 'blockId' })}\n        source={`${STATIC_ENTRIES_KEY}.blockId`}\n        reference={ResourceName.BLOCKS}\n        sort={{ field: 'name', order: 'ASC' }}\n        filter={{ type: BlockType.DYNAMIC }}\n        perPage={smallScreen ? 5 : 15}\n        validate={required()}\n      >\n        <SelectWithPaginationInput\n          optionText=\"name\"\n          paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n        />\n      </ReferenceInput>\n      <ReferenceInput\n        className={classes.input}\n        label={t('common.import.mapping-input-label', {\n          fieldName: 'variantId',\n        })}\n        source={`${STATIC_ENTRIES_KEY}.variantId`}\n        reference={ResourceName.VARIANTS}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={smallScreen ? 5 : 15}\n        validate={required()}\n      >\n        <SelectWithPaginationInput\n          optionText=\"name\"\n          paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n        />\n      </ReferenceInput>\n      <ReferenceInput\n        className={classes.input}\n        label={t('common.import.mapping-input-label', { fieldName: 'eventId' })}\n        source={`${STATIC_ENTRIES_KEY}.eventId`}\n        reference={ResourceName.EVENTS}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={smallScreen ? 5 : 15}\n        validate={required()}\n      >\n        <SelectWithPaginationInput\n          optionText=\"name\"\n          paginationProps={{ rowsPerPageOptions: [smallScreen ? 5 : 15] }}\n        />\n      </ReferenceInput>\n    </Import>\n  )\n}\n","import PersonIcon from '@material-ui/icons/Person'\nimport ReceiptIcon from '@material-ui/icons/Receipt'\nimport ViewComfyIcon from '@material-ui/icons/ViewComfy'\nimport React from 'react'\nimport { Resource } from 'react-admin'\nimport { Authority } from '../core/auth/Authority'\nimport { ResourceName } from '../core/ResourceName'\nimport { BookingShow } from './bookings/BookingShow'\nimport { AccessCreate } from './configuration/accesses/AccessCreate'\nimport { AccessEdit } from './configuration/accesses/AccessEdit'\nimport { AccessList } from './configuration/accesses/AccessList'\nimport { AccessShow } from './configuration/accesses/AccessShow'\nimport { VariantCreate } from './configuration/variants/VariantCreate'\nimport { VariantEdit } from './configuration/variants/VariantEdit'\nimport { VariantList } from './configuration/variants/VariantList'\nimport { VariantShow } from './configuration/variants/VariantShow'\nimport { CustomersCreate } from './customers/CustomerCreate'\nimport { CustomerEdit } from './customers/CustomerEdit'\nimport { CustomerList } from './customers/CustomerList'\nimport { CustomerDetailsView } from './customers/CustomerShow'\nimport { DeviceCategoryList } from './device-categories/DeviceCategoryList'\nimport { DetectorCreate } from './devices/detectors/DetectorCreate'\nimport { DetectorEdit } from './devices/detectors/DetectorEdit'\nimport { DetectorList } from './devices/detectors/DetectorList'\nimport { DetectorShow } from './devices/detectors/DetectorShow'\nimport { EngineCreate } from './devices/engines/EngineCreate'\nimport { EngineEdit } from './devices/engines/EngineEdit'\nimport { EngineList } from './devices/engines/EngineList'\nimport { EngineShow } from './devices/engines/EngineShow'\nimport { PalmCreate } from './devices/palms/PalmCreate'\nimport { PalmEdit } from './devices/palms/PalmEdit'\nimport { PalmList } from './devices/palms/PalmList'\nimport { PalmShow } from './devices/palms/PalmShow'\nimport { PassageCreate } from './devices/passages/PassageCreate'\nimport { PassageEdit } from './devices/passages/PassageEdit'\nimport { PassagesList } from './devices/passages/PassageList'\nimport { PassageShow } from './devices/passages/PassageShow'\nimport { EntranceCreate } from './configuration/entrances/EntranceCreate'\nimport { EntranceEdit } from './configuration/entrances/EntranceEdit'\nimport { EntranceList } from './configuration/entrances/EntranceList'\nimport { EntranceShow } from './configuration/entrances/EntranceShow'\nimport { EventCreate } from './events/EventCreate'\nimport { EventEdit } from './events/EventEdit'\nimport { EventList } from './events/EventList'\nimport { EventShow } from './events/EventShow'\nimport { hasAuthorityWithGivenPermissions as hasAuthority } from './hooks/useHasAuthority'\nimport { LogList } from './logs/LogList'\nimport BlockCreate from './objects/Blocks/BlockCreate'\nimport BlocksList from './objects/Blocks/BlocksList'\nimport ObjectCreate from './objects/Objects/ObjectCreate'\nimport ObjectEdit from './objects/Objects/ObjectEdit'\nimport ObjectList from './objects/Objects/ObjectList'\nimport ObjectShow from './objects/Objects/ObjectShow'\nimport SeatCreate from './objects/Seats/SeatCreate'\nimport SeatsList from './objects/Seats/SeatsList'\nimport TribuneCreate from './objects/Tribunes/TribuneCreate'\nimport TribunesList from './objects/Tribunes/TribunesList'\nimport { OverallView } from './stats/overall-view/OverallView'\nimport { OverallViewList } from './stats/overall-view/OverallViewList'\nimport { TicketList } from './tickets/TicketList'\nimport { AccessDateCreate } from './configuration/access-dates/AccessDateCreate'\nimport { CompanyList } from './administration/companies/CompanyList'\nimport { CompanyShow } from './administration/companies/CompanyShow'\nimport { RoleList } from './administration/roles/RoleList'\nimport { RoleShow } from './administration/roles/RoleShow'\nimport { UserList } from './administration/users/UserList'\nimport { UserShow } from './administration/users/UserShow'\nimport { CompanyEdit } from './administration/companies/CompanyEdit'\nimport { CompanyCreate } from './administration/companies/CompanyCreate'\nimport { UserEdit } from './administration/users/UserEdit'\nimport { UserCreate } from './administration/users/UserCreate'\nimport { RoleEdit } from './administration/roles/RoleEdit'\nimport { CameraList } from './devices/camera/cameras/CameraList'\nimport { CameraServerList } from './devices/camera/camera-servers/CameraServerList'\nimport { CameraCreate } from './devices/camera/cameras/CameraCreate'\nimport { CameraServerCreate } from './devices/camera/camera-servers/CameraServerCreate'\nimport { CameraServerEdit } from './devices/camera/camera-servers/CameraServerEdit'\nimport { CameraServerShow } from './devices/camera/camera-servers/CameraServerShow'\nimport { CameraShow } from './devices/camera/cameras/CameraShow'\nimport { CameraEdit } from './devices/camera/cameras/CameraEdit'\nimport { TicketImport } from './tickets/TicketImport'\n\nexport const generateResourcesBasedOnPermissions = (\n  permissions: Set<string>,\n) => [\n  <Resource name={ResourceName.JOBS} />,\n  hasAuthority(Authority.VIEW_TICKETS, permissions) && (\n    <Resource\n      icon={ReceiptIcon}\n      name={ResourceName.TICKETS}\n      create={TicketImport}\n      list={TicketList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESS_USINGS, permissions) && (\n    <Resource name={ResourceName.ACCESS_USINGS} />\n  ),\n  hasAuthority(Authority.VIEW_CUSTOMERS, permissions) && (\n    <Resource\n      icon={PersonIcon}\n      name={ResourceName.CUSTOMERS}\n      show={CustomerDetailsView}\n      list={CustomerList}\n      edit={\n        hasAuthority(Authority.EDIT_CUSTOMERS, permissions)\n          ? CustomerEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_CUSTOMERS, permissions)\n          ? CustomersCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.LOGS} list={LogList} />\n  ),\n  hasAuthority(Authority.VIEW_EVENTS, permissions) && (\n    <Resource\n      name={ResourceName.EVENTS}\n      list={EventList}\n      show={EventShow}\n      edit={\n        hasAuthority(Authority.EDIT_EVENTS, permissions) ? EventEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_EVENTS, permissions)\n          ? EventCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW_LIST}\n      list={OverallViewList}\n    />\n  ),\n  hasAuthority(Authority.VIEW_STATS_OVERALL_VIEW, permissions) && (\n    <Resource\n      icon={ViewComfyIcon}\n      name={ResourceName.STATS_OVERALL_VIEW}\n      show={OverallView}\n    />\n  ),\n  hasAuthority(Authority.VIEW_PALMS, permissions) && (\n    <Resource\n      name={ResourceName.PALMS}\n      list={PalmList}\n      show={PalmShow}\n      edit={\n        hasAuthority(Authority.EDIT_PALMS, permissions) ? PalmEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_PALMS, permissions)\n          ? PalmCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESS_DATES, permissions) && (\n    <Resource\n      name={ResourceName.ACCESS_DATES}\n      create={\n        hasAuthority(Authority.CREATE_ACCESS_DATES, permissions)\n          ? AccessDateCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ACCESSES, permissions) && (\n    <Resource\n      name={ResourceName.ACCESSES}\n      list={AccessList}\n      show={AccessShow}\n      edit={\n        hasAuthority(Authority.EDIT_ACCESSES, permissions)\n          ? AccessEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ACCESSES, permissions)\n          ? AccessCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_BOOKINGS, permissions) && (\n    <Resource name={ResourceName.BOOKINGS} show={BookingShow} />\n  ),\n  hasAuthority(Authority.VIEW_COMPANIES, permissions) && (\n    <Resource\n      name={ResourceName.COMPANIES}\n      list={CompanyList}\n      show={CompanyShow}\n      edit={\n        hasAuthority(Authority.EDIT_COMPANIES, permissions)\n          ? CompanyEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_COMPANIES, permissions)\n          ? CompanyCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ENGINES, permissions) && (\n    <Resource\n      name={ResourceName.ENGINES}\n      list={EngineList}\n      show={EngineShow}\n      edit={\n        hasAuthority(Authority.EDIT_ENGINES, permissions)\n          ? EngineEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ENGINES, permissions)\n          ? EngineCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ENTRANCES, permissions) && (\n    <Resource\n      name={ResourceName.ENTRANCES}\n      list={EntranceList}\n      show={EntranceShow}\n      edit={\n        hasAuthority(Authority.EDIT_ENTRANCES, permissions)\n          ? EntranceEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_ENTRANCES, permissions)\n          ? EntranceCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_LOGS, permissions) && (\n    <Resource name={ResourceName.TICKET_LOGS} />\n  ),\n  hasAuthority(Authority.VIEW_VARIANTS, permissions) && (\n    <Resource\n      name={ResourceName.VARIANTS}\n      list={VariantList}\n      show={VariantShow}\n      edit={\n        hasAuthority(Authority.EDIT_VARIANTS, permissions)\n          ? VariantEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_VARIANTS, permissions)\n          ? VariantCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_USERS, permissions) && (\n    <Resource\n      name={ResourceName.USERS}\n      list={UserList}\n      show={UserShow}\n      edit={\n        hasAuthority(Authority.EDIT_USERS, permissions) ? UserEdit : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_USERS, permissions)\n          ? UserCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_OBJECTS, permissions) && (\n    <Resource\n      name={ResourceName.OBJECTS}\n      list={ObjectList}\n      show={ObjectShow}\n      edit={\n        hasAuthority(Authority.EDIT_OBJECTS, permissions)\n          ? ObjectEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_OBJECTS, permissions)\n          ? ObjectCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_TRIBUNES, permissions) && (\n    <Resource\n      name={ResourceName.TRIBUNES}\n      list={TribunesList}\n      create={\n        hasAuthority(Authority.CREATE_TRIBUNES, permissions)\n          ? TribuneCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_BLOCKS, permissions) && (\n    <Resource\n      name={ResourceName.BLOCKS}\n      list={BlocksList}\n      create={\n        hasAuthority(Authority.CREATE_BLOCKS, permissions)\n          ? BlockCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_SEATS, permissions) && (\n    <Resource\n      name={ResourceName.SEATS}\n      list={SeatsList}\n      create={\n        hasAuthority(Authority.CREATE_SEATS, permissions)\n          ? SeatCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_DEVICE_CATEGORIES, permissions) && (\n    <Resource name={ResourceName.DEVICE_CATEGORIES} list={DeviceCategoryList} />\n  ),\n  hasAuthority(Authority.VIEW_PASSAGES, permissions) && (\n    <Resource\n      name={ResourceName.PASSAGES}\n      list={PassagesList}\n      show={PassageShow}\n      edit={\n        hasAuthority(Authority.EDIT_PASSAGES, permissions)\n          ? PassageEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_PASSAGES, permissions)\n          ? PassageCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_DETECTORS, permissions) && (\n    <Resource\n      name={ResourceName.DETECTORS}\n      list={DetectorList}\n      show={DetectorShow}\n      edit={\n        hasAuthority(Authority.EDIT_DETECTORS, permissions)\n          ? DetectorEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_DETECTORS, permissions)\n          ? DetectorCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ROLES, permissions) && (\n    <Resource\n      name={ResourceName.ROLES}\n      list={RoleList}\n      show={RoleShow}\n      edit={\n        hasAuthority(Authority.EDIT_ROLES, permissions) ? RoleEdit : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_ROLES, permissions) && (\n    <Resource name={ResourceName.PERMISSIONS} />\n  ),\n  hasAuthority(Authority.VIEW_CAMERAS, permissions) && (\n    <Resource\n      name={ResourceName.CAMERAS}\n      list={CameraList}\n      show={CameraShow}\n      edit={\n        hasAuthority(Authority.EDIT_CAMERAS, permissions)\n          ? CameraEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_CAMERAS, permissions)\n          ? CameraCreate\n          : undefined\n      }\n    />\n  ),\n  hasAuthority(Authority.VIEW_CAMERAS, permissions) && (\n    <Resource\n      name={ResourceName.CAMERA_SERVERS}\n      list={CameraServerList}\n      show={CameraServerShow}\n      edit={\n        hasAuthority(Authority.EDIT_CAMERA_SERVERS, permissions)\n          ? CameraServerEdit\n          : undefined\n      }\n      create={\n        hasAuthority(Authority.CREATE_CAMERA_SERVERS, permissions)\n          ? CameraServerCreate\n          : undefined\n      }\n    />\n  ),\n]\n","import {\n  DashboardAction,\n  DashboardItem,\n  DashboardState,\n  INACTIVE_COMPONENTS_KEY,\n} from './dashboard'\nimport { UPDATE_DASHBOARD } from '../constants/reducer.actions'\n\nconst initialState: DashboardState['dashboard'] = {\n  inactiveComponents:\n    (localStorage\n      .getItem(INACTIVE_COMPONENTS_KEY)\n      ?.split(',') as DashboardItem[]) || [],\n}\n\nconst save = (state: DashboardState['dashboard']) => {\n  const { inactiveComponents } = state\n  if (inactiveComponents.length) {\n    localStorage.setItem(INACTIVE_COMPONENTS_KEY, inactiveComponents.join())\n  } else {\n    localStorage.removeItem(INACTIVE_COMPONENTS_KEY)\n  }\n  return state\n}\n\nexport const dashboardReducer = (\n  state = initialState,\n  { type, payload: dashboardItem }: DashboardAction,\n): DashboardState['dashboard'] => {\n  if (type === UPDATE_DASHBOARD) {\n    const { inactiveComponents } = state\n    if (inactiveComponents.includes(dashboardItem)) {\n      return save({\n        ...state,\n        inactiveComponents: inactiveComponents.filter(\n          (v) => v !== dashboardItem,\n        ),\n      })\n    }\n    return save({\n      ...state,\n      inactiveComponents: [...inactiveComponents, dashboardItem],\n    })\n  }\n  return state\n}\n","import React from 'react'\nimport { Admin } from './lib/@react-admin/ra-enterprise'\nimport themeReducer from './core/common/theme.reducer'\nimport { providersFactory } from './core/providers.factory'\nimport { AppLayout } from './main/layout/AppLayout'\nimport { Dashboard } from './main/Dashboard'\nimport routes from './main/common/routes'\nimport { generateResourcesBasedOnPermissions } from './main/Resources'\nimport { dashboardReducer } from './core/common/dashboard.reducer'\n\nconst App = () => {\n  const { authProvider, dataProvider, i18nProvider } = providersFactory(\n    process.env.NODE_ENV,\n  )\n  return (\n    <Admin\n      dashboard={Dashboard}\n      authProvider={authProvider}\n      dataProvider={dataProvider}\n      i18nProvider={i18nProvider}\n      customReducers={{\n        theme: themeReducer,\n        dashboard: dashboardReducer,\n      }}\n      customRoutes={routes}\n      layout={AppLayout}\n    >\n      {generateResourcesBasedOnPermissions}\n    </Admin>\n  )\n}\n\nexport default App\n","import {\n  AuthProvider,\n  DataProvider,\n  I18nProvider,\n  LegacyDataProvider,\n} from 'react-admin'\nimport fakeDataProvider from './fake/fake-data.provider'\nimport fakeAuthProvider from './fake/providers/fake-auth.provider'\nimport authProvider from './auth/auth.provider'\nimport dataProvider from './data.provider'\nimport i18nProvider from './i18n.provider'\nimport { withSynchronizedPermissions } from './auth/withSyncPermissions'\n\ninterface Providers {\n  readonly authProvider: AuthProvider\n  readonly dataProvider: DataProvider | LegacyDataProvider\n  readonly i18nProvider: I18nProvider\n}\n\nexport const providersFactory = (\n  env: 'development' | 'test' | 'production',\n): Providers => {\n  switch (env) {\n    case 'production':\n      return {\n        authProvider: withSynchronizedPermissions(authProvider),\n        dataProvider,\n        i18nProvider,\n      }\n    case 'development':\n      return {\n        authProvider,\n        dataProvider,\n        i18nProvider,\n      }\n    default:\n      return {\n        authProvider: fakeAuthProvider,\n        dataProvider: fakeDataProvider,\n        i18nProvider,\n      }\n  }\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import { initReactI18next } from 'react-i18next'\nimport i18n from 'i18next'\nimport plTranslation from './locales/pl/translation.json'\nimport enTranslation from './locales/en/translation.json'\n\nconst identity = localStorage.getItem('username')\nconst lng = identity && localStorage.getItem(`${identity}.lng`)\n\ni18n.use(initReactI18next).init({\n  lng: lng || 'pl',\n  fallbackLng: 'pl',\n  debug: false,\n  interpolation: {\n    escapeValue: false, // not needed for react as it escapes by default\n  },\n  resources: {\n    pl: { translation: plTranslation },\n    en: { translation: enTranslation },\n  },\n})\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport './i18n.init'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}